var L4=Object.defineProperty,P4=Object.defineProperties;var I4=Object.getOwnPropertyDescriptors;var eh=Object.getOwnPropertySymbols;var gx=Object.prototype.hasOwnProperty,mx=Object.prototype.propertyIsEnumerable;var px=(e,t,n)=>t in e?L4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ne=(e,t)=>{for(var n in t||(t={}))gx.call(t,n)&&px(e,n,t[n]);if(eh)for(var n of eh(t))mx.call(t,n)&&px(e,n,t[n]);return e},Kt=(e,t)=>P4(e,I4(t));var ql=(e,t)=>{var n={};for(var r in e)gx.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&eh)for(var r of eh(e))t.indexOf(r)<0&&mx.call(e,r)&&(n[r]=e[r]);return n};var F4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var fne=F4((Ro,zo)=>{function Br(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const R4="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",z4=Br(R4),B4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$4=Br(B4);function B2(e){return!!e||e===""}function mi(e){if(Qe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=wt(r)?$2(r):mi(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(wt(e))return e;if(dn(e))return e}}const H4=/;(?![^(]*\))/g,j4=/:(.+)/;function $2(e){const t={};return e.split(H4).forEach(n=>{if(n){const r=n.split(j4);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function It(e){let t="";if(wt(e))t=e;else if(Qe(e))for(let n=0;n<e.length;n++){const r=It(e[n]);r&&(t+=r+" ")}else if(dn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function H2(e){if(!e)return null;let{class:t,style:n}=e;return t&&!wt(t)&&(e.class=It(t)),n&&(e.style=mi(n)),e}const V4="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",W4="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",U4="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",K4=Br(V4),q4=Br(W4),G4=Br(U4);function Y4(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=$s(e[r],t[r]);return n}function $s(e,t){if(e===t)return!0;let n=vx(e),r=vx(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Hs(e),r=Hs(t),n||r)return e===t;if(n=Qe(e),r=Qe(t),n||r)return n&&r?Y4(e,t):!1;if(n=dn(e),r=dn(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const s in e){const l=e.hasOwnProperty(s),c=t.hasOwnProperty(s);if(l&&!c||!l&&c||!$s(e[s],t[s]))return!1}}return String(e)===String(t)}function fg(e,t){return e.findIndex(n=>$s(n,t))}const Xe=e=>wt(e)?e:e==null?"":Qe(e)||dn(e)&&(e.toString===V2||!mt(e.toString))?JSON.stringify(e,j2,2):String(e),j2=(e,t)=>t&&t.__v_isRef?j2(e,t.value):gu(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:pl(t)?{[`Set(${t.size})`]:[...t.values()]}:dn(t)&&!Qe(t)&&!W2(t)?String(t):t,Vt={},pu=[],Tr=()=>{},Dh=()=>!1,J4=/^on[^a-z]/,hl=e=>J4.test(e),Vy=e=>e.startsWith("onUpdate:"),Wt=Object.assign,Wy=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},X4=Object.prototype.hasOwnProperty,Pt=(e,t)=>X4.call(e,t),Qe=Array.isArray,gu=e=>nd(e)==="[object Map]",pl=e=>nd(e)==="[object Set]",vx=e=>nd(e)==="[object Date]",mt=e=>typeof e=="function",wt=e=>typeof e=="string",Hs=e=>typeof e=="symbol",dn=e=>e!==null&&typeof e=="object",Uy=e=>dn(e)&&mt(e.then)&&mt(e.catch),V2=Object.prototype.toString,nd=e=>V2.call(e),Z4=e=>nd(e).slice(8,-1),W2=e=>nd(e)==="[object Object]",Ky=e=>wt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Va=Br(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Q4=Br("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),dg=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},eN=/-(\w)/g,dr=dg(e=>e.replace(eN,(t,n)=>n?n.toUpperCase():"")),tN=/\B([A-Z])/g,zi=dg(e=>e.replace(tN,"-$1").toLowerCase()),gl=dg(e=>e.charAt(0).toUpperCase()+e.slice(1)),mu=dg(e=>e?`on${gl(e)}`:""),Cu=(e,t)=>!Object.is(e,t),vu=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Uh=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},js=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let yx;const nN=()=>yx||(yx=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Ur;class qy{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Ur&&(this.parent=Ur,this.index=(Ur.scopes||(Ur.scopes=[])).push(this)-1)}run(t){if(this.active){const n=Ur;try{return Ur=this,t()}finally{Ur=n}}}on(){Ur=this}off(){Ur=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function rN(e){return new qy(e)}function U2(e,t=Ur){t&&t.active&&t.effects.push(e)}function iN(){return Ur}function oN(e){Ur&&Ur.cleanups.push(e)}const Gy=e=>{const t=new Set(e);return t.w=0,t.n=0,t},K2=e=>(e.w&Vs)>0,q2=e=>(e.n&Vs)>0,sN=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Vs},aN=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];K2(i)&&!q2(i)?i.delete(e):t[n++]=i,i.w&=~Vs,i.n&=~Vs}t.length=n}},g0=new WeakMap;let Vc=0,Vs=1;const m0=30;let Ni;const Wa=Symbol(""),v0=Symbol("");class rd{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,U2(this,r)}run(){if(!this.active)return this.fn();let t=Ni,n=Is;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ni,Ni=this,Is=!0,Vs=1<<++Vc,Vc<=m0?sN(this):bx(this),this.fn()}finally{Vc<=m0&&aN(this),Vs=1<<--Vc,Ni=this.parent,Is=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ni===this?this.deferStop=!0:this.active&&(bx(this),this.onStop&&this.onStop(),this.active=!1)}}function bx(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function lN(e,t){e.effect&&(e=e.effect.fn);const n=new rd(e);t&&(Wt(n,t),t.scope&&U2(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function uN(e){e.effect.stop()}let Is=!0;const G2=[];function ml(){G2.push(Is),Is=!1}function vl(){const e=G2.pop();Is=e===void 0?!0:e}function ii(e,t,n){if(Is&&Ni){let r=g0.get(e);r||g0.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=Gy()),Y2(i)}}function Y2(e,t){let n=!1;Vc<=m0?q2(e)||(e.n|=Vs,n=!K2(e)):n=!e.has(Ni),n&&(e.add(Ni),Ni.deps.push(e))}function Vo(e,t,n,r,i,o){const s=g0.get(e);if(!s)return;let l=[];if(t==="clear")l=[...s.values()];else if(n==="length"&&Qe(e))s.forEach((c,h)=>{(h==="length"||h>=r)&&l.push(c)});else switch(n!==void 0&&l.push(s.get(n)),t){case"add":Qe(e)?Ky(n)&&l.push(s.get("length")):(l.push(s.get(Wa)),gu(e)&&l.push(s.get(v0)));break;case"delete":Qe(e)||(l.push(s.get(Wa)),gu(e)&&l.push(s.get(v0)));break;case"set":gu(e)&&l.push(s.get(Wa));break}if(l.length===1)l[0]&&y0(l[0]);else{const c=[];for(const h of l)h&&c.push(...h);y0(Gy(c))}}function y0(e,t){const n=Qe(e)?e:[...e];for(const r of n)r.computed&&_x(r);for(const r of n)r.computed||_x(r)}function _x(e,t){(e!==Ni||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const cN=Br("__proto__,__v_isRef,__isVue"),J2=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Hs)),fN=hg(),dN=hg(!1,!0),hN=hg(!0),pN=hg(!0,!0),wx=gN();function gN(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Lt(this);for(let o=0,s=this.length;o<s;o++)ii(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Lt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ml();const r=Lt(this)[t].apply(this,n);return vl(),r}}),e}function hg(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?rT:nT:t?tT:eT).get(r))return r;const s=Qe(r);if(!e&&s&&Pt(wx,i))return Reflect.get(wx,i,o);const l=Reflect.get(r,i,o);return(Hs(i)?J2.has(i):cN(i))||(e||ii(r,"get",i),t)?l:Bn(l)?s&&Ky(i)?l:l.value:dn(l)?e?Jy(l):yl(l):l}}const mN=X2(),vN=X2(!0);function X2(e=!1){return function(n,r,i,o){let s=n[r];if(Su(s)&&Bn(s)&&!Bn(i))return!1;if(!e&&!Su(i)&&(qh(i)||(i=Lt(i),s=Lt(s)),!Qe(n)&&Bn(s)&&!Bn(i)))return s.value=i,!0;const l=Qe(n)&&Ky(r)?Number(r)<n.length:Pt(n,r),c=Reflect.set(n,r,i,o);return n===Lt(o)&&(l?Cu(i,s)&&Vo(n,"set",r,i):Vo(n,"add",r,i)),c}}function yN(e,t){const n=Pt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Vo(e,"delete",t,void 0),r}function bN(e,t){const n=Reflect.has(e,t);return(!Hs(t)||!J2.has(t))&&ii(e,"has",t),n}function _N(e){return ii(e,"iterate",Qe(e)?"length":Wa),Reflect.ownKeys(e)}const Z2={get:fN,set:mN,deleteProperty:yN,has:bN,ownKeys:_N},Q2={get:hN,set(e,t){return!0},deleteProperty(e,t){return!0}},wN=Wt({},Z2,{get:dN,set:vN}),xN=Wt({},Q2,{get:pN}),Yy=e=>e,pg=e=>Reflect.getPrototypeOf(e);function th(e,t,n=!1,r=!1){e=e.__v_raw;const i=Lt(e),o=Lt(t);n||(t!==o&&ii(i,"get",t),ii(i,"get",o));const{has:s}=pg(i),l=r?Yy:n?Zy:Of;if(s.call(i,t))return l(e.get(t));if(s.call(i,o))return l(e.get(o));e!==i&&e.get(t)}function nh(e,t=!1){const n=this.__v_raw,r=Lt(n),i=Lt(e);return t||(e!==i&&ii(r,"has",e),ii(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function rh(e,t=!1){return e=e.__v_raw,!t&&ii(Lt(e),"iterate",Wa),Reflect.get(e,"size",e)}function xx(e){e=Lt(e);const t=Lt(this);return pg(t).has.call(t,e)||(t.add(e),Vo(t,"add",e,e)),this}function kx(e,t){t=Lt(t);const n=Lt(this),{has:r,get:i}=pg(n);let o=r.call(n,e);o||(e=Lt(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?Cu(t,s)&&Vo(n,"set",e,t):Vo(n,"add",e,t),this}function Cx(e){const t=Lt(this),{has:n,get:r}=pg(t);let i=n.call(t,e);i||(e=Lt(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&Vo(t,"delete",e,void 0),o}function Sx(){const e=Lt(this),t=e.size!==0,n=e.clear();return t&&Vo(e,"clear",void 0,void 0),n}function ih(e,t){return function(r,i){const o=this,s=o.__v_raw,l=Lt(s),c=t?Yy:e?Zy:Of;return!e&&ii(l,"iterate",Wa),s.forEach((h,p)=>r.call(i,c(h),c(p),o))}}function oh(e,t,n){return function(...r){const i=this.__v_raw,o=Lt(i),s=gu(o),l=e==="entries"||e===Symbol.iterator&&s,c=e==="keys"&&s,h=i[e](...r),p=n?Yy:t?Zy:Of;return!t&&ii(o,"iterate",c?v0:Wa),{next(){const{value:m,done:v}=h.next();return v?{value:m,done:v}:{value:l?[p(m[0]),p(m[1])]:p(m),done:v}},[Symbol.iterator](){return this}}}}function vs(e){return function(...t){return e==="delete"?!1:this}}function kN(){const e={get(o){return th(this,o)},get size(){return rh(this)},has:nh,add:xx,set:kx,delete:Cx,clear:Sx,forEach:ih(!1,!1)},t={get(o){return th(this,o,!1,!0)},get size(){return rh(this)},has:nh,add:xx,set:kx,delete:Cx,clear:Sx,forEach:ih(!1,!0)},n={get(o){return th(this,o,!0)},get size(){return rh(this,!0)},has(o){return nh.call(this,o,!0)},add:vs("add"),set:vs("set"),delete:vs("delete"),clear:vs("clear"),forEach:ih(!0,!1)},r={get(o){return th(this,o,!0,!0)},get size(){return rh(this,!0)},has(o){return nh.call(this,o,!0)},add:vs("add"),set:vs("set"),delete:vs("delete"),clear:vs("clear"),forEach:ih(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=oh(o,!1,!1),n[o]=oh(o,!0,!1),t[o]=oh(o,!1,!0),r[o]=oh(o,!0,!0)}),[e,n,t,r]}const[CN,SN,TN,EN]=kN();function gg(e,t){const n=t?e?EN:TN:e?SN:CN;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Pt(n,i)&&i in r?n:r,i,o)}const AN={get:gg(!1,!1)},DN={get:gg(!1,!0)},MN={get:gg(!0,!1)},ON={get:gg(!0,!0)},eT=new WeakMap,tT=new WeakMap,nT=new WeakMap,rT=new WeakMap;function NN(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function LN(e){return e.__v_skip||!Object.isExtensible(e)?0:NN(Z4(e))}function yl(e){return Su(e)?e:mg(e,!1,Z2,AN,eT)}function Kh(e){return mg(e,!1,wN,DN,tT)}function Jy(e){return mg(e,!0,Q2,MN,nT)}function PN(e){return mg(e,!0,xN,ON,rT)}function mg(e,t,n,r,i){if(!dn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=LN(e);if(s===0)return e;const l=new Proxy(e,s===2?r:n);return i.set(e,l),l}function Ua(e){return Su(e)?Ua(e.__v_raw):!!(e&&e.__v_isReactive)}function Su(e){return!!(e&&e.__v_isReadonly)}function qh(e){return!!(e&&e.__v_isShallow)}function Xy(e){return Ua(e)||Su(e)}function Lt(e){const t=e&&e.__v_raw;return t?Lt(t):e}function ia(e){return Uh(e,"__v_skip",!0),e}const Of=e=>dn(e)?yl(e):e,Zy=e=>dn(e)?Jy(e):e;function Qy(e){Is&&Ni&&(e=Lt(e),Y2(e.dep||(e.dep=Gy())))}function vg(e,t){e=Lt(e),e.dep&&y0(e.dep)}function Bn(e){return!!(e&&e.__v_isRef===!0)}function Ct(e){return oT(e,!1)}function iT(e){return oT(e,!0)}function oT(e,t){return Bn(e)?e:new IN(e,t)}class IN{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Lt(t),this._value=n?t:Of(t)}get value(){return Qy(this),this._value}set value(t){t=this.__v_isShallow?t:Lt(t),Cu(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Of(t),vg(this))}}function FN(e){vg(e)}function Cr(e){return Bn(e)?e.value:e}const RN={get:(e,t,n)=>Cr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Bn(i)&&!Bn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function eb(e){return Ua(e)?e:new Proxy(e,RN)}class zN{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>Qy(this),()=>vg(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function sT(e){return new zN(e)}function BN(e){const t=Qe(e)?new Array(e.length):{};for(const n in e)t[n]=aT(e,n);return t}class $N{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function aT(e,t,n){const r=e[t];return Bn(r)?r:new $N(e,t,n)}class HN{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new rd(t,()=>{this._dirty||(this._dirty=!0,vg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Lt(this);return Qy(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function jN(e,t,n=!1){let r,i;const o=mt(e);return o?(r=e,i=Tr):(r=e.get,i=e.set),new HN(r,i,o||!i,n)}const Qc=[];function lT(e,...t){ml();const n=Qc.length?Qc[Qc.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=VN();if(r)uo(r,n,11,[e+t.join(""),n&&n.proxy,i.map(({vnode:o})=>`at <${eE(n,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${e}`,...t];i.length&&o.push(`
`,...WN(i)),console.warn(...o)}vl()}function VN(){let e=Qc[Qc.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function WN(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...UN(n))}),t}function UN({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,i=` at <${eE(e.component,e.type,r)}`,o=">"+n;return e.props?[i,...KN(e.props),o]:[i+o]}function KN(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...uT(r,e[r]))}),n.length>3&&t.push(" ..."),t}function uT(e,t,n){return wt(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:Bn(t)?(t=uT(e,Lt(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):mt(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Lt(t),n?t:[`${e}=`,t])}function uo(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){bl(o,t,n)}return i}function Qr(e,t,n,r){if(mt(e)){const o=uo(e,t,n,r);return o&&Uy(o)&&o.catch(s=>{bl(s,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Qr(e[o],t,n,r));return i}function bl(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,l=n;for(;o;){const h=o.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](e,s,l)===!1)return}o=o.parent}const c=t.appContext.config.errorHandler;if(c){uo(c,null,10,[e,s,l]);return}}qN(e,n,i,r)}function qN(e,t,n,r=!0){console.error(e)}let Gh=!1,b0=!1;const Yr=[];let No=0;const ef=[];let Wc=null,Jl=0;const tf=[];let xs=null,Xl=0;const cT=Promise.resolve();let tb=null,_0=null;function oo(e){const t=tb||cT;return e?t.then(this?e.bind(this):e):t}function GN(e){let t=No+1,n=Yr.length;for(;t<n;){const r=t+n>>>1;Nf(Yr[r])<e?t=r+1:n=r}return t}function nb(e){(!Yr.length||!Yr.includes(e,Gh&&e.allowRecurse?No+1:No))&&e!==_0&&(e.id==null?Yr.push(e):Yr.splice(GN(e.id),0,e),fT())}function fT(){!Gh&&!b0&&(b0=!0,tb=cT.then(hT))}function YN(e){const t=Yr.indexOf(e);t>No&&Yr.splice(t,1)}function dT(e,t,n,r){Qe(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?r+1:r))&&n.push(e),fT()}function JN(e){dT(e,Wc,ef,Jl)}function rb(e){dT(e,xs,tf,Xl)}function yg(e,t=null){if(ef.length){for(_0=t,Wc=[...new Set(ef)],ef.length=0,Jl=0;Jl<Wc.length;Jl++)Wc[Jl]();Wc=null,Jl=0,_0=null,yg(e,t)}}function Yh(e){if(yg(),tf.length){const t=[...new Set(tf)];if(tf.length=0,xs){xs.push(...t);return}for(xs=t,xs.sort((n,r)=>Nf(n)-Nf(r)),Xl=0;Xl<xs.length;Xl++)xs[Xl]();xs=null,Xl=0}}const Nf=e=>e.id==null?1/0:e.id;function hT(e){b0=!1,Gh=!0,yg(e),Yr.sort((n,r)=>Nf(n)-Nf(r));const t=Tr;try{for(No=0;No<Yr.length;No++){const n=Yr[No];n&&n.active!==!1&&uo(n,null,14)}}finally{No=0,Yr.length=0,Yh(),Gh=!1,tb=null,(Yr.length||ef.length||tf.length)&&hT(e)}}let Zl,sh=[];function pT(e,t){var n,r;Zl=e,Zl?(Zl.enabled=!0,sh.forEach(({event:i,args:o})=>Zl.emit(i,...o)),sh=[]):typeof window!="undefined"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{pT(o,t)}),setTimeout(()=>{Zl||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,sh=[])},3e3)):sh=[]}function XN(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Vt;let i=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const p=`${s==="modelValue"?"model":s}Modifiers`,{number:m,trim:v}=r[p]||Vt;v&&(i=n.map(b=>b.trim())),m&&(i=n.map(js))}let l,c=r[l=mu(t)]||r[l=mu(dr(t))];!c&&o&&(c=r[l=mu(zi(t))]),c&&Qr(c,e,6,i);const h=r[l+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Qr(h,e,6,i)}}function gT(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},l=!1;if(!mt(e)){const c=h=>{const p=gT(h,t,!0);p&&(l=!0,Wt(s,p))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!l?(r.set(e,null),null):(Qe(o)?o.forEach(c=>s[c]=null):Wt(s,o),r.set(e,s),s)}function bg(e,t){return!e||!hl(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pt(e,t[0].toLowerCase()+t.slice(1))||Pt(e,zi(t))||Pt(e,t))}let lr=null,_g=null;function Lf(e){const t=lr;return lr=e,_g=e&&e.type.__scopeId||null,t}function ib(e){_g=e}function ob(){_g=null}const sb=e=>on;function on(e,t=lr,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&A0(-1);const o=Lf(t),s=e(...i);return Lf(o),r._d&&A0(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function Mh(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:l,attrs:c,emit:h,render:p,renderCache:m,data:v,setupState:b,ctx:_,inheritAttrs:x}=e;let D,E;const T=Lf(e);try{if(n.shapeFlag&4){const M=i||r;D=qr(p.call(M,M,m,o,b,v,_)),E=c}else{const M=t;D=qr(M.length>1?M(o,{attrs:c,slots:l,emit:h}):M(o,null)),E=t.props?c:QN(c)}}catch(M){of.length=0,bl(M,e,1),D=st(cr)}let R=D;if(E&&x!==!1){const M=Object.keys(E),{shapeFlag:Y}=R;M.length&&Y&7&&(s&&M.some(Vy)&&(E=eL(E,s)),R=ho(R,E))}return n.dirs&&(R=ho(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),D=R,Lf(T),D}function ZN(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(Us(r)){if(r.type!==cr||r.children==="v-if"){if(t)return;t=r}}else return}return t}const QN=e=>{let t;for(const n in e)(n==="class"||n==="style"||hl(n))&&((t||(t={}))[n]=e[n]);return t},eL=(e,t)=>{const n={};for(const r in e)(!Vy(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function tL(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:l,patchFlag:c}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Tx(r,s,h):!!s;if(c&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const v=p[m];if(s[v]!==r[v]&&!bg(h,v))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?Tx(r,s,h):!0:!!s;return!1}function Tx(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!bg(n,o))return!0}return!1}function ab({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const mT=e=>e.__isSuspense,nL={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,o,s,l,c,h){e==null?iL(t,n,r,i,o,s,l,c,h):oL(e,t,n,r,i,s,l,c,h)},hydrate:sL,create:lb,normalize:aL},rL=nL;function Pf(e,t){const n=e.props&&e.props[t];mt(n)&&n()}function iL(e,t,n,r,i,o,s,l,c){const{p:h,o:{createElement:p}}=c,m=p("div"),v=e.suspense=lb(e,i,r,t,m,n,o,s,l,c);h(null,v.pendingBranch=e.ssContent,m,null,r,v,o,s),v.deps>0?(Pf(e,"onPending"),Pf(e,"onFallback"),h(null,e.ssFallback,t,n,r,null,o,s),yu(v,e.ssFallback)):v.resolve()}function oL(e,t,n,r,i,o,s,l,{p:c,um:h,o:{createElement:p}}){const m=t.suspense=e.suspense;m.vnode=t,t.el=e.el;const v=t.ssContent,b=t.ssFallback,{activeBranch:_,pendingBranch:x,isInFallback:D,isHydrating:E}=m;if(x)m.pendingBranch=v,no(v,x)?(c(x,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0?m.resolve():D&&(c(_,b,n,r,i,null,o,s,l),yu(m,b))):(m.pendingId++,E?(m.isHydrating=!1,m.activeBranch=x):h(x,i,m),m.deps=0,m.effects.length=0,m.hiddenContainer=p("div"),D?(c(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0?m.resolve():(c(_,b,n,r,i,null,o,s,l),yu(m,b))):_&&no(v,_)?(c(_,v,n,r,i,m,o,s,l),m.resolve(!0)):(c(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0&&m.resolve()));else if(_&&no(v,_))c(_,v,n,r,i,m,o,s,l),yu(m,v);else if(Pf(t,"onPending"),m.pendingBranch=v,m.pendingId++,c(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0)m.resolve();else{const{timeout:T,pendingId:R}=m;T>0?setTimeout(()=>{m.pendingId===R&&m.fallback(b)},T):T===0&&m.fallback(b)}}function lb(e,t,n,r,i,o,s,l,c,h,p=!1){const{p:m,m:v,um:b,n:_,o:{parentNode:x,remove:D}}=h,E=js(e.props&&e.props.timeout),T={vnode:e,parent:t,parentComponent:n,isSVG:s,container:r,hiddenContainer:i,anchor:o,deps:0,pendingId:0,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:p,isUnmounted:!1,effects:[],resolve(R=!1){const{vnode:M,activeBranch:Y,pendingBranch:J,pendingId:Z,effects:z,parentComponent:B,container:L}=T;if(T.isHydrating)T.isHydrating=!1;else if(!R){const W=Y&&J.transition&&J.transition.mode==="out-in";W&&(Y.transition.afterLeave=()=>{Z===T.pendingId&&v(J,L,Q,0)});let{anchor:Q}=T;Y&&(Q=_(Y),b(Y,B,T,!0)),W||v(J,L,Q,0)}yu(T,J),T.pendingBranch=null,T.isInFallback=!1;let V=T.parent,ie=!1;for(;V;){if(V.pendingBranch){V.effects.push(...z),ie=!0;break}V=V.parent}ie||rb(z),T.effects=[],Pf(M,"onResolve")},fallback(R){if(!T.pendingBranch)return;const{vnode:M,activeBranch:Y,parentComponent:J,container:Z,isSVG:z}=T;Pf(M,"onFallback");const B=_(Y),L=()=>{!T.isInFallback||(m(null,R,Z,B,J,null,z,l,c),yu(T,R))},V=R.transition&&R.transition.mode==="out-in";V&&(Y.transition.afterLeave=L),T.isInFallback=!0,b(Y,J,null,!0),V||L()},move(R,M,Y){T.activeBranch&&v(T.activeBranch,R,M,Y),T.container=R},next(){return T.activeBranch&&_(T.activeBranch)},registerDep(R,M){const Y=!!T.pendingBranch;Y&&T.deps++;const J=R.vnode.el;R.asyncDep.catch(Z=>{bl(Z,R,0)}).then(Z=>{if(R.isUnmounted||T.isUnmounted||T.pendingId!==R.suspenseId)return;R.asyncResolved=!0;const{vnode:z}=R;D0(R,Z,!1),J&&(z.el=J);const B=!J&&R.subTree.el;M(R,z,x(J||R.subTree.el),J?null:_(R.subTree),T,s,c),B&&D(B),ab(R,z.el),Y&&--T.deps===0&&T.resolve()})},unmount(R,M){T.isUnmounted=!0,T.activeBranch&&b(T.activeBranch,n,R,M),T.pendingBranch&&b(T.pendingBranch,n,R,M)}};return T}function sL(e,t,n,r,i,o,s,l,c){const h=t.suspense=lb(t,r,n,e.parentNode,document.createElement("div"),null,i,o,s,l,!0),p=c(e,h.pendingBranch=t.ssContent,n,h,o,s);return h.deps===0&&h.resolve(),p}function aL(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=Ex(r?n.default:n),e.ssFallback=r?Ex(n.fallback):st(cr)}function Ex(e){let t;if(mt(e)){const n=nl&&e._c;n&&(e._d=!1,_e()),e=e(),n&&(e._d=!0,t=Lr,UT())}return Qe(e)&&(e=ZN(e)),e=qr(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function vT(e,t){t&&t.pendingBranch?Qe(e)?t.effects.push(...e):t.effects.push(e):rb(e)}function yu(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,ab(r,i))}function Jh(e,t){if(zn){let n=zn.provides;const r=zn.parent&&zn.parent.provides;r===n&&(n=zn.provides=Object.create(r)),n[e]=t}}function nf(e,t,n=!1){const r=zn||lr;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&mt(t)?t.call(r.proxy):t}}function yT(e,t){return id(e,null,t)}function bT(e,t){return id(e,null,{flush:"post"})}function lL(e,t){return id(e,null,{flush:"sync"})}const Ax={};function Sn(e,t,n){return id(e,t,n)}function id(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=Vt){const l=zn;let c,h=!1,p=!1;if(Bn(e)?(c=()=>e.value,h=qh(e)):Ua(e)?(c=()=>e,r=!0):Qe(e)?(p=!0,h=e.some(E=>Ua(E)||qh(E)),c=()=>e.map(E=>{if(Bn(E))return E.value;if(Ua(E))return za(E);if(mt(E))return uo(E,l,2)})):mt(e)?t?c=()=>uo(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return m&&m(),Qr(e,l,3,[v])}:c=Tr,t&&r){const E=c;c=()=>za(E())}let m,v=E=>{m=D.onStop=()=>{uo(E,l,4)}};if(Au)return v=Tr,t?n&&Qr(t,l,3,[c(),p?[]:void 0,v]):c(),Tr;let b=p?[]:Ax;const _=()=>{if(!!D.active)if(t){const E=D.run();(r||h||(p?E.some((T,R)=>Cu(T,b[R])):Cu(E,b)))&&(m&&m(),Qr(t,l,3,[E,b===Ax?void 0:b,v]),b=E)}else D.run()};_.allowRecurse=!!t;let x;i==="sync"?x=_:i==="post"?x=()=>Zn(_,l&&l.suspense):x=()=>JN(_);const D=new rd(c,x);return t?n?_():b=D.run():i==="post"?Zn(D.run.bind(D),l&&l.suspense):D.run(),()=>{D.stop(),l&&l.scope&&Wy(l.scope.effects,D)}}function uL(e,t,n){const r=this.proxy,i=wt(e)?e.includes(".")?_T(r,e):()=>r[e]:e.bind(r,r);let o;mt(t)?o=t:(o=t.handler,n=t);const s=zn;Ks(this);const l=id(i,o.bind(r),n);return s?Ks(s):Fs(),l}function _T(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function za(e,t){if(!dn(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Bn(e))za(e.value,t);else if(Qe(e))for(let n=0;n<e.length;n++)za(e[n],t);else if(pl(e)||gu(e))e.forEach(n=>{za(n,t)});else if(W2(e))for(const n in e)za(e[n],t);return e}function ub(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vi(()=>{e.isMounted=!0}),Zo(()=>{e.isUnmounting=!0}),e}const ui=[Function,Array],cL={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ui,onEnter:ui,onAfterEnter:ui,onEnterCancelled:ui,onBeforeLeave:ui,onLeave:ui,onAfterLeave:ui,onLeaveCancelled:ui,onBeforeAppear:ui,onAppear:ui,onAfterAppear:ui,onAppearCancelled:ui},setup(e,{slots:t}){const n=yo(),r=ub();let i;return()=>{const o=t.default&&wg(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const x of o)if(x.type!==cr){s=x;break}}const l=Lt(e),{mode:c}=l;if(r.isLeaving)return fv(s);const h=Dx(s);if(!h)return fv(s);const p=Tu(h,l,r,n);tl(h,p);const m=n.subTree,v=m&&Dx(m);let b=!1;const{getTransitionKey:_}=h.type;if(_){const x=_();i===void 0?i=x:x!==i&&(i=x,b=!0)}if(v&&v.type!==cr&&(!no(h,v)||b)){const x=Tu(v,l,r,n);if(tl(v,x),c==="out-in")return r.isLeaving=!0,x.afterLeave=()=>{r.isLeaving=!1,n.update()},fv(s);c==="in-out"&&h.type!==cr&&(x.delayLeave=(D,E,T)=>{const R=wT(r,v);R[String(v.key)]=v,D._leaveCb=()=>{E(),D._leaveCb=void 0,delete p.delayedLeave},p.delayedLeave=T})}return s}}},cb=cL;function wT(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Tu(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:h,onEnterCancelled:p,onBeforeLeave:m,onLeave:v,onAfterLeave:b,onLeaveCancelled:_,onBeforeAppear:x,onAppear:D,onAfterAppear:E,onAppearCancelled:T}=t,R=String(e.key),M=wT(n,e),Y=(z,B)=>{z&&Qr(z,r,9,B)},J=(z,B)=>{const L=B[1];Y(z,B),Qe(z)?z.every(V=>V.length<=1)&&L():z.length<=1&&L()},Z={mode:o,persisted:s,beforeEnter(z){let B=l;if(!n.isMounted)if(i)B=x||l;else return;z._leaveCb&&z._leaveCb(!0);const L=M[R];L&&no(e,L)&&L.el._leaveCb&&L.el._leaveCb(),Y(B,[z])},enter(z){let B=c,L=h,V=p;if(!n.isMounted)if(i)B=D||c,L=E||h,V=T||p;else return;let ie=!1;const W=z._enterCb=Q=>{ie||(ie=!0,Q?Y(V,[z]):Y(L,[z]),Z.delayedLeave&&Z.delayedLeave(),z._enterCb=void 0)};B?J(B,[z,W]):W()},leave(z,B){const L=String(e.key);if(z._enterCb&&z._enterCb(!0),n.isUnmounting)return B();Y(m,[z]);let V=!1;const ie=z._leaveCb=W=>{V||(V=!0,B(),W?Y(_,[z]):Y(b,[z]),z._leaveCb=void 0,M[L]===e&&delete M[L])};M[L]=e,v?J(v,[z,ie]):ie()},clone(z){return Tu(z,t,n,r)}};return Z}function fv(e){if(od(e))return e=ho(e),e.children=null,e}function Dx(e){return od(e)?e.children?e.children[0]:void 0:e}function tl(e,t){e.shapeFlag&6&&e.component?tl(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function wg(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===St?(s.patchFlag&128&&i++,r=r.concat(wg(s.children,t,l))):(t||s.type!==cr)&&r.push(l!=null?ho(s,{key:l}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function ln(e){return mt(e)?{setup:e,name:e.name}:e}const Ka=e=>!!e.type.__asyncLoader;function fL(e){mt(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:o,suspensible:s=!0,onError:l}=e;let c=null,h,p=0;const m=()=>(p++,c=null,v()),v=()=>{let b;return c||(b=c=t().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((x,D)=>{l(_,()=>x(m()),()=>D(_),p+1)});throw _}).then(_=>b!==c&&c?c:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),h=_,_)))};return ln({name:"AsyncComponentWrapper",__asyncLoader:v,get __asyncResolved(){return h},setup(){const b=zn;if(h)return()=>dv(h,b);const _=T=>{c=null,bl(T,b,13,!r)};if(s&&b.suspense||Au)return v().then(T=>()=>dv(T,b)).catch(T=>(_(T),()=>r?st(r,{error:T}):null));const x=Ct(!1),D=Ct(),E=Ct(!!i);return i&&setTimeout(()=>{E.value=!1},i),o!=null&&setTimeout(()=>{if(!x.value&&!D.value){const T=new Error(`Async component timed out after ${o}ms.`);_(T),D.value=T}},o),v().then(()=>{x.value=!0,b.parent&&od(b.parent.vnode)&&nb(b.parent.update)}).catch(T=>{_(T),D.value=T}),()=>{if(x.value&&h)return dv(h,b);if(D.value&&r)return st(r,{error:D.value});if(n&&!E.value)return st(n)}}})}function dv(e,{vnode:{ref:t,props:n,children:r,shapeFlag:i},parent:o}){const s=st(e,n,r);return s.ref=t,s}const od=e=>e.type.__isKeepAlive,dL={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=yo(),r=n.ctx;if(!r.renderer)return()=>{const T=t.default&&t.default();return T&&T.length===1?T[0]:T};const i=new Map,o=new Set;let s=null;const l=n.suspense,{renderer:{p:c,m:h,um:p,o:{createElement:m}}}=r,v=m("div");r.activate=(T,R,M,Y,J)=>{const Z=T.component;h(T,R,M,0,l),c(Z.vnode,T,R,M,Z,l,Y,T.slotScopeIds,J),Zn(()=>{Z.isDeactivated=!1,Z.a&&vu(Z.a);const z=T.props&&T.props.onVnodeMounted;z&&Nr(z,Z.parent,T)},l)},r.deactivate=T=>{const R=T.component;h(T,v,null,1,l),Zn(()=>{R.da&&vu(R.da);const M=T.props&&T.props.onVnodeUnmounted;M&&Nr(M,R.parent,T),R.isDeactivated=!0},l)};function b(T){hv(T),p(T,n,l,!0)}function _(T){i.forEach((R,M)=>{const Y=tp(R.type);Y&&(!T||!T(Y))&&x(M)})}function x(T){const R=i.get(T);!s||R.type!==s.type?b(R):s&&hv(s),i.delete(T),o.delete(T)}Sn(()=>[e.include,e.exclude],([T,R])=>{T&&_(M=>Uc(T,M)),R&&_(M=>!Uc(R,M))},{flush:"post",deep:!0});let D=null;const E=()=>{D!=null&&i.set(D,pv(n.subTree))};return Vi(E),kg(E),Zo(()=>{i.forEach(T=>{const{subTree:R,suspense:M}=n,Y=pv(R);if(T.type===Y.type){hv(Y);const J=Y.component.da;J&&Zn(J,M);return}b(T)})}),()=>{if(D=null,!t.default)return null;const T=t.default(),R=T[0];if(T.length>1)return s=null,T;if(!Us(R)||!(R.shapeFlag&4)&&!(R.shapeFlag&128))return s=null,R;let M=pv(R);const Y=M.type,J=tp(Ka(M)?M.type.__asyncResolved||{}:Y),{include:Z,exclude:z,max:B}=e;if(Z&&(!J||!Uc(Z,J))||z&&J&&Uc(z,J))return s=M,R;const L=M.key==null?Y:M.key,V=i.get(L);return M.el&&(M=ho(M),R.shapeFlag&128&&(R.ssContent=M)),D=L,V?(M.el=V.el,M.component=V.component,M.transition&&tl(M,M.transition),M.shapeFlag|=512,o.delete(L),o.add(L)):(o.add(L),B&&o.size>parseInt(B,10)&&x(o.values().next().value)),M.shapeFlag|=256,s=M,mT(R.type)?R:M}}},hL=dL;function Uc(e,t){return Qe(e)?e.some(n=>Uc(n,t)):wt(e)?e.split(",").includes(t):e.test?e.test(t):!1}function xT(e,t){CT(e,"a",t)}function kT(e,t){CT(e,"da",t)}function CT(e,t,n=zn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(xg(t,r,n),n){let i=n.parent;for(;i&&i.parent;)od(i.parent.vnode)&&pL(r,t,n,i),i=i.parent}}function pL(e,t,n,r){const i=xg(t,e,r,!0);Cg(()=>{Wy(r[t],i)},n)}function hv(e){let t=e.shapeFlag;t&256&&(t-=256),t&512&&(t-=512),e.shapeFlag=t}function pv(e){return e.shapeFlag&128?e.ssContent:e}function xg(e,t,n=zn,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;ml(),Ks(n);const l=Qr(t,n,e,s);return Fs(),vl(),l});return r?i.unshift(o):i.push(o),o}}const Xo=e=>(t,n=zn)=>(!Au||e==="sp")&&xg(e,t,n),ST=Xo("bm"),Vi=Xo("m"),TT=Xo("bu"),kg=Xo("u"),Zo=Xo("bum"),Cg=Xo("um"),ET=Xo("sp"),AT=Xo("rtg"),DT=Xo("rtc");function MT(e,t=zn){xg("ec",e,t)}function On(e,t){const n=lr;if(n===null)return e;const r=Eg(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,l,c,h=Vt]=t[o];mt(s)&&(s={mounted:s,updated:s}),s.deep&&za(l),i.push({dir:s,instance:r,value:l,oldValue:void 0,arg:c,modifiers:h})}return e}function eo(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const l=i[s];o&&(l.oldValue=o[s].value);let c=l.dir[r];c&&(ml(),Qr(c,n,8,[e.el,l,e,t]),vl())}}const fb="components",gL="directives";function At(e,t){return db(fb,e,!0,t)||e}const OT=Symbol();function Ws(e){return wt(e)?db(fb,e,!1)||e:e||OT}function Sg(e){return db(gL,e)}function db(e,t,n=!0,r=!1){const i=lr||zn;if(i){const o=i.type;if(e===fb){const l=tp(o,!1);if(l&&(l===t||l===dr(t)||l===gl(dr(t))))return o}const s=Mx(i[e]||o[e],t)||Mx(i.appContext[e],t);return!s&&r?o:s}}function Mx(e,t){return e&&(e[t]||e[dr(t)]||e[gl(dr(t))])}function Tn(e,t,n,r){let i;const o=n&&n[r];if(Qe(e)||wt(e)){i=new Array(e.length);for(let s=0,l=e.length;s<l;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(dn(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,o&&o[l]));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,c=s.length;l<c;l++){const h=s[l];i[l]=t(e[h],h,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}function hb(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Qe(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.fn)}return e}function Cn(e,t,n={},r,i){if(lr.isCE||lr.parent&&Ka(lr.parent)&&lr.parent.isCE)return st("slot",t==="default"?null:{name:t},r&&r());let o=e[t];o&&o._c&&(o._d=!1),_e();const s=o&&NT(o(n)),l=Ht(St,{key:n.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function NT(e){return e.some(t=>Us(t)?!(t.type===cr||t.type===St&&!NT(t.children)):!0)?e:null}function w0(e){const t={};for(const n in e)t[mu(n)]=e[n];return t}const x0=e=>e?YT(e)?Eg(e)||e.proxy:x0(e.parent):null,Xh=Wt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>x0(e.parent),$root:e=>x0(e.root),$emit:e=>e.emit,$options:e=>PT(e),$forceUpdate:e=>e.f||(e.f=()=>nb(e.update)),$nextTick:e=>e.n||(e.n=oo.bind(e.proxy)),$watch:e=>uL.bind(e)}),k0={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:l,appContext:c}=e;let h;if(t[0]!=="$"){const b=s[t];if(b!==void 0)switch(b){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(r!==Vt&&Pt(r,t))return s[t]=1,r[t];if(i!==Vt&&Pt(i,t))return s[t]=2,i[t];if((h=e.propsOptions[0])&&Pt(h,t))return s[t]=3,o[t];if(n!==Vt&&Pt(n,t))return s[t]=4,n[t];C0&&(s[t]=0)}}const p=Xh[t];let m,v;if(p)return t==="$attrs"&&ii(e,"get",t),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==Vt&&Pt(n,t))return s[t]=4,n[t];if(v=c.config.globalProperties,Pt(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return i!==Vt&&Pt(i,t)?(i[t]=n,!0):r!==Vt&&Pt(r,t)?(r[t]=n,!0):Pt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let l;return!!n[s]||e!==Vt&&Pt(e,s)||t!==Vt&&Pt(t,s)||(l=o[0])&&Pt(l,s)||Pt(r,s)||Pt(Xh,s)||Pt(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Pt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},mL=Wt({},k0,{get(e,t){if(t!==Symbol.unscopables)return k0.get(e,t,e)},has(e,t){return t[0]!=="_"&&!z4(t)}});let C0=!0;function vL(e){const t=PT(e),n=e.proxy,r=e.ctx;C0=!1,t.beforeCreate&&Ox(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:l,provide:c,inject:h,created:p,beforeMount:m,mounted:v,beforeUpdate:b,updated:_,activated:x,deactivated:D,beforeDestroy:E,beforeUnmount:T,destroyed:R,unmounted:M,render:Y,renderTracked:J,renderTriggered:Z,errorCaptured:z,serverPrefetch:B,expose:L,inheritAttrs:V,components:ie,directives:W,filters:Q}=t;if(h&&yL(h,r,null,e.appContext.config.unwrapInjectedRef),s)for(const pe in s){const Se=s[pe];mt(Se)&&(r[pe]=Se.bind(n))}if(i){const pe=i.call(n,n);dn(pe)&&(e.data=yl(pe))}if(C0=!0,o)for(const pe in o){const Se=o[pe],Ve=mt(Se)?Se.bind(n,n):mt(Se.get)?Se.get.bind(n,n):Tr,tt=!mt(Se)&&mt(Se.set)?Se.set.bind(n):Tr,yt=vn({get:Ve,set:tt});Object.defineProperty(r,pe,{enumerable:!0,configurable:!0,get:()=>yt.value,set:Mt=>yt.value=Mt})}if(l)for(const pe in l)LT(l[pe],r,n,pe);if(c){const pe=mt(c)?c.call(n):c;Reflect.ownKeys(pe).forEach(Se=>{Jh(Se,pe[Se])})}p&&Ox(p,e,"c");function de(pe,Se){Qe(Se)?Se.forEach(Ve=>pe(Ve.bind(n))):Se&&pe(Se.bind(n))}if(de(ST,m),de(Vi,v),de(TT,b),de(kg,_),de(xT,x),de(kT,D),de(MT,z),de(DT,J),de(AT,Z),de(Zo,T),de(Cg,M),de(ET,B),Qe(L))if(L.length){const pe=e.exposed||(e.exposed={});L.forEach(Se=>{Object.defineProperty(pe,Se,{get:()=>n[Se],set:Ve=>n[Se]=Ve})})}else e.exposed||(e.exposed={});Y&&e.render===Tr&&(e.render=Y),V!=null&&(e.inheritAttrs=V),ie&&(e.components=ie),W&&(e.directives=W)}function yL(e,t,n=Tr,r=!1){Qe(e)&&(e=S0(e));for(const i in e){const o=e[i];let s;dn(o)?"default"in o?s=nf(o.from||i,o.default,!0):s=nf(o.from||i):s=nf(o),Bn(s)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):t[i]=s}}function Ox(e,t,n){Qr(Qe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function LT(e,t,n,r){const i=r.includes(".")?_T(n,r):()=>n[r];if(wt(e)){const o=t[e];mt(o)&&Sn(i,o)}else if(mt(e))Sn(i,e.bind(n));else if(dn(e))if(Qe(e))e.forEach(o=>LT(o,t,n,r));else{const o=mt(e.handler)?e.handler.bind(n):t[e.handler];mt(o)&&Sn(i,o,e)}}function PT(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,l=o.get(t);let c;return l?c=l:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(h=>Zh(c,h,s,!0)),Zh(c,t,s)),o.set(t,c),c}function Zh(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Zh(e,o,n,!0),i&&i.forEach(s=>Zh(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const l=bL[s]||n&&n[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const bL={data:Nx,props:Da,emits:Da,methods:Da,computed:Da,beforeCreate:kr,created:kr,beforeMount:kr,mounted:kr,beforeUpdate:kr,updated:kr,beforeDestroy:kr,beforeUnmount:kr,destroyed:kr,unmounted:kr,activated:kr,deactivated:kr,errorCaptured:kr,serverPrefetch:kr,components:Da,directives:Da,watch:wL,provide:Nx,inject:_L};function Nx(e,t){return t?e?function(){return Wt(mt(e)?e.call(this,this):e,mt(t)?t.call(this,this):t)}:t:e}function _L(e,t){return Da(S0(e),S0(t))}function S0(e){if(Qe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function kr(e,t){return e?[...new Set([].concat(e,t))]:t}function Da(e,t){return e?Wt(Wt(Object.create(null),e),t):t}function wL(e,t){if(!e)return t;if(!t)return e;const n=Wt(Object.create(null),e);for(const r in t)n[r]=kr(e[r],t[r]);return n}function xL(e,t,n,r=!1){const i={},o={};Uh(o,Tg,1),e.propsDefaults=Object.create(null),IT(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:Kh(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function kL(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,l=Lt(i),[c]=e.propsOptions;let h=!1;if((r||s>0)&&!(s&16)){if(s&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let v=p[m];if(bg(e.emitsOptions,v))continue;const b=t[v];if(c)if(Pt(o,v))b!==o[v]&&(o[v]=b,h=!0);else{const _=dr(v);i[_]=T0(c,l,_,b,e,!1)}else b!==o[v]&&(o[v]=b,h=!0)}}}else{IT(e,t,i,o)&&(h=!0);let p;for(const m in l)(!t||!Pt(t,m)&&((p=zi(m))===m||!Pt(t,p)))&&(c?n&&(n[m]!==void 0||n[p]!==void 0)&&(i[m]=T0(c,l,m,void 0,e,!0)):delete i[m]);if(o!==l)for(const m in o)(!t||!Pt(t,m)&&!0)&&(delete o[m],h=!0)}h&&Vo(e,"set","$attrs")}function IT(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,l;if(t)for(let c in t){if(Va(c))continue;const h=t[c];let p;i&&Pt(i,p=dr(c))?!o||!o.includes(p)?n[p]=h:(l||(l={}))[p]=h:bg(e.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,s=!0)}if(o){const c=Lt(n),h=l||Vt;for(let p=0;p<o.length;p++){const m=o[p];n[m]=T0(i,c,m,h[m],e,!Pt(h,m))}}return s}function T0(e,t,n,r,i,o){const s=e[n];if(s!=null){const l=Pt(s,"default");if(l&&r===void 0){const c=s.default;if(s.type!==Function&&mt(c)){const{propsDefaults:h}=i;n in h?r=h[n]:(Ks(i),r=h[n]=c.call(null,t),Fs())}else r=c}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===zi(n))&&(r=!0))}return r}function FT(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},l=[];let c=!1;if(!mt(e)){const p=m=>{c=!0;const[v,b]=FT(m,t,!0);Wt(s,v),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!o&&!c)return r.set(e,pu),pu;if(Qe(o))for(let p=0;p<o.length;p++){const m=dr(o[p]);Lx(m)&&(s[m]=Vt)}else if(o)for(const p in o){const m=dr(p);if(Lx(m)){const v=o[p],b=s[m]=Qe(v)||mt(v)?{type:v}:v;if(b){const _=Fx(Boolean,b.type),x=Fx(String,b.type);b[0]=_>-1,b[1]=x<0||_<x,(_>-1||Pt(b,"default"))&&l.push(m)}}}const h=[s,l];return r.set(e,h),h}function Lx(e){return e[0]!=="$"}function Px(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Ix(e,t){return Px(e)===Px(t)}function Fx(e,t){return Qe(t)?t.findIndex(n=>Ix(n,e)):mt(t)&&Ix(t,e)?0:-1}const RT=e=>e[0]==="_"||e==="$stable",pb=e=>Qe(e)?e.map(qr):[qr(e)],CL=(e,t,n)=>{if(t._n)return t;const r=on((...i)=>pb(t(...i)),n);return r._c=!1,r},zT=(e,t,n)=>{const r=e._ctx;for(const i in e){if(RT(i))continue;const o=e[i];if(mt(o))t[i]=CL(i,o,r);else if(o!=null){const s=pb(o);t[i]=()=>s}}},BT=(e,t)=>{const n=pb(t);e.slots.default=()=>n},SL=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Lt(t),Uh(t,"_",n)):zT(t,e.slots={})}else e.slots={},t&&BT(e,t);Uh(e.slots,Tg,1)},TL=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=Vt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(Wt(i,t),!n&&l===1&&delete i._):(o=!t.$stable,zT(t,i)),s=t}else t&&(BT(e,t),s={default:1});if(o)for(const l in i)!RT(l)&&!(l in s)&&delete i[l]};function $T(){return{app:null,config:{isNativeTag:Dh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let EL=0;function AL(e,t){return function(r,i=null){mt(r)||(r=Object.assign({},r)),i!=null&&!dn(i)&&(i=null);const o=$T(),s=new Set;let l=!1;const c=o.app={_uid:EL++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:iE,get config(){return o.config},set config(h){},use(h,...p){return s.has(h)||(h&&mt(h.install)?(s.add(h),h.install(c,...p)):mt(h)&&(s.add(h),h(c,...p))),c},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),c},component(h,p){return p?(o.components[h]=p,c):o.components[h]},directive(h,p){return p?(o.directives[h]=p,c):o.directives[h]},mount(h,p,m){if(!l){const v=st(r,i);return v.appContext=o,p&&t?t(v,h):e(v,h,m),l=!0,c._container=h,h.__vue_app__=c,Eg(v.component)||v.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(h,p){return o.provides[h]=p,c}};return c}}function Qh(e,t,n,r,i=!1){if(Qe(e)){e.forEach((v,b)=>Qh(v,t&&(Qe(t)?t[b]:t),n,r,i));return}if(Ka(r)&&!i)return;const o=r.shapeFlag&4?Eg(r.component)||r.component.proxy:r.el,s=i?null:o,{i:l,r:c}=e,h=t&&t.r,p=l.refs===Vt?l.refs={}:l.refs,m=l.setupState;if(h!=null&&h!==c&&(wt(h)?(p[h]=null,Pt(m,h)&&(m[h]=null)):Bn(h)&&(h.value=null)),mt(c))uo(c,l,12,[s,p]);else{const v=wt(c),b=Bn(c);if(v||b){const _=()=>{if(e.f){const x=v?p[c]:c.value;i?Qe(x)&&Wy(x,o):Qe(x)?x.includes(o)||x.push(o):v?(p[c]=[o],Pt(m,c)&&(m[c]=p[c])):(c.value=[o],e.k&&(p[e.k]=c.value))}else v?(p[c]=s,Pt(m,c)&&(m[c]=s)):b&&(c.value=s,e.k&&(p[e.k]=s))};s?(_.id=-1,Zn(_,n)):_()}}}let ys=!1;const ah=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",lh=e=>e.nodeType===8;function DL(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:s,remove:l,insert:c,createComment:h}}=e,p=(E,T)=>{if(!T.hasChildNodes()){n(null,E,T),Yh(),T._vnode=E;return}ys=!1,m(T.firstChild,E,null,null,null),Yh(),T._vnode=E,ys&&console.error("Hydration completed but contains mismatches.")},m=(E,T,R,M,Y,J=!1)=>{const Z=lh(E)&&E.data==="[",z=()=>x(E,T,R,M,Y,Z),{type:B,ref:L,shapeFlag:V,patchFlag:ie}=T,W=E.nodeType;T.el=E,ie===-2&&(J=!1,T.dynamicChildren=null);let Q=null;switch(B){case Eu:W!==3?T.children===""?(c(T.el=i(""),s(E),E),Q=E):Q=z():(E.data!==T.children&&(ys=!0,E.data=T.children),Q=o(E));break;case cr:W!==8||Z?Q=z():Q=o(E);break;case qa:if(W!==1&&W!==3)Q=z();else{Q=E;const I=!T.children.length;for(let de=0;de<T.staticCount;de++)I&&(T.children+=Q.nodeType===1?Q.outerHTML:Q.data),de===T.staticCount-1&&(T.anchor=Q),Q=o(Q);return Q}break;case St:Z?Q=_(E,T,R,M,Y,J):Q=z();break;default:if(V&1)W!==1||T.type.toLowerCase()!==E.tagName.toLowerCase()?Q=z():Q=v(E,T,R,M,Y,J);else if(V&6){T.slotScopeIds=Y;const I=s(E);if(t(T,I,null,R,M,ah(I),J),Q=Z?D(E):o(E),Q&&lh(Q)&&Q.data==="teleport end"&&(Q=o(Q)),Ka(T)){let de;Z?(de=st(St),de.anchor=Q?Q.previousSibling:I.lastChild):de=E.nodeType===3?Qo(""):st("div"),de.el=E,T.component.subTree=de}}else V&64?W!==8?Q=z():Q=T.type.hydrate(E,T,R,M,Y,J,e,b):V&128&&(Q=T.type.hydrate(E,T,R,M,ah(s(E)),Y,J,e,m))}return L!=null&&Qh(L,null,M,T),Q},v=(E,T,R,M,Y,J)=>{J=J||!!T.dynamicChildren;const{type:Z,props:z,patchFlag:B,shapeFlag:L,dirs:V}=T,ie=Z==="input"&&V||Z==="option";if(ie||B!==-1){if(V&&eo(T,null,R,"created"),z)if(ie||!J||B&48)for(const Q in z)(ie&&Q.endsWith("value")||hl(Q)&&!Va(Q))&&r(E,Q,null,z[Q],!1,void 0,R);else z.onClick&&r(E,"onClick",null,z.onClick,!1,void 0,R);let W;if((W=z&&z.onVnodeBeforeMount)&&Nr(W,R,T),V&&eo(T,null,R,"beforeMount"),((W=z&&z.onVnodeMounted)||V)&&vT(()=>{W&&Nr(W,R,T),V&&eo(T,null,R,"mounted")},M),L&16&&!(z&&(z.innerHTML||z.textContent))){let Q=b(E.firstChild,T,E,R,M,Y,J);for(;Q;){ys=!0;const I=Q;Q=Q.nextSibling,l(I)}}else L&8&&E.textContent!==T.children&&(ys=!0,E.textContent=T.children)}return E.nextSibling},b=(E,T,R,M,Y,J,Z)=>{Z=Z||!!T.dynamicChildren;const z=T.children,B=z.length;for(let L=0;L<B;L++){const V=Z?z[L]:z[L]=qr(z[L]);if(E)E=m(E,V,M,Y,J,Z);else{if(V.type===Eu&&!V.children)continue;ys=!0,n(null,V,R,null,M,Y,ah(R),J)}}return E},_=(E,T,R,M,Y,J)=>{const{slotScopeIds:Z}=T;Z&&(Y=Y?Y.concat(Z):Z);const z=s(E),B=b(o(E),T,z,R,M,Y,J);return B&&lh(B)&&B.data==="]"?o(T.anchor=B):(ys=!0,c(T.anchor=h("]"),z,B),B)},x=(E,T,R,M,Y,J)=>{if(ys=!0,T.el=null,J){const B=D(E);for(;;){const L=o(E);if(L&&L!==B)l(L);else break}}const Z=o(E),z=s(E);return l(E),n(null,T,z,Z,R,M,ah(z),Y),Z},D=E=>{let T=0;for(;E;)if(E=o(E),E&&lh(E)&&(E.data==="["&&T++,E.data==="]")){if(T===0)return o(E);T--}return E};return[p,m]}const Zn=vT;function HT(e){return VT(e)}function jT(e){return VT(e,DL)}function VT(e,t){const n=nN();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:l,createComment:c,setText:h,setElementText:p,parentNode:m,nextSibling:v,setScopeId:b=Tr,cloneNode:_,insertStaticContent:x}=e,D=(te,re,ce,me=null,ve=null,j=null,G=!1,S=null,F=!!re.dynamicChildren)=>{if(te===re)return;te&&!no(te,re)&&(me=be(te),pt(te,ve,j,!0),te=null),re.patchFlag===-2&&(F=!1,re.dynamicChildren=null);const{type:A,ref:H,shapeFlag:P}=re;switch(A){case Eu:E(te,re,ce,me);break;case cr:T(te,re,ce,me);break;case qa:te==null&&R(re,ce,me,G);break;case St:W(te,re,ce,me,ve,j,G,S,F);break;default:P&1?J(te,re,ce,me,ve,j,G,S,F):P&6?Q(te,re,ce,me,ve,j,G,S,F):(P&64||P&128)&&A.process(te,re,ce,me,ve,j,G,S,F,Ke)}H!=null&&ve&&Qh(H,te&&te.ref,j,re||te,!re)},E=(te,re,ce,me)=>{if(te==null)r(re.el=l(re.children),ce,me);else{const ve=re.el=te.el;re.children!==te.children&&h(ve,re.children)}},T=(te,re,ce,me)=>{te==null?r(re.el=c(re.children||""),ce,me):re.el=te.el},R=(te,re,ce,me)=>{[te.el,te.anchor]=x(te.children,re,ce,me,te.el,te.anchor)},M=({el:te,anchor:re},ce,me)=>{let ve;for(;te&&te!==re;)ve=v(te),r(te,ce,me),te=ve;r(re,ce,me)},Y=({el:te,anchor:re})=>{let ce;for(;te&&te!==re;)ce=v(te),i(te),te=ce;i(re)},J=(te,re,ce,me,ve,j,G,S,F)=>{G=G||re.type==="svg",te==null?Z(re,ce,me,ve,j,G,S,F):L(te,re,ve,j,G,S,F)},Z=(te,re,ce,me,ve,j,G,S)=>{let F,A;const{type:H,props:P,shapeFlag:X,transition:ae,patchFlag:fe,dirs:ge}=te;if(te.el&&_!==void 0&&fe===-1)F=te.el=_(te.el);else{if(F=te.el=s(te.type,j,P&&P.is,P),X&8?p(F,te.children):X&16&&B(te.children,F,null,me,ve,j&&H!=="foreignObject",G,S),ge&&eo(te,null,me,"created"),P){for(const q in P)q!=="value"&&!Va(q)&&o(F,q,null,P[q],j,te.children,me,ve,ke);"value"in P&&o(F,"value",null,P.value),(A=P.onVnodeBeforeMount)&&Nr(A,me,te)}z(F,te,te.scopeId,G,me)}ge&&eo(te,null,me,"beforeMount");const K=(!ve||ve&&!ve.pendingBranch)&&ae&&!ae.persisted;K&&ae.beforeEnter(F),r(F,re,ce),((A=P&&P.onVnodeMounted)||K||ge)&&Zn(()=>{A&&Nr(A,me,te),K&&ae.enter(F),ge&&eo(te,null,me,"mounted")},ve)},z=(te,re,ce,me,ve)=>{if(ce&&b(te,ce),me)for(let j=0;j<me.length;j++)b(te,me[j]);if(ve){let j=ve.subTree;if(re===j){const G=ve.vnode;z(te,G,G.scopeId,G.slotScopeIds,ve.parent)}}},B=(te,re,ce,me,ve,j,G,S,F=0)=>{for(let A=F;A<te.length;A++){const H=te[A]=S?As(te[A]):qr(te[A]);D(null,H,re,ce,me,ve,j,G,S)}},L=(te,re,ce,me,ve,j,G)=>{const S=re.el=te.el;let{patchFlag:F,dynamicChildren:A,dirs:H}=re;F|=te.patchFlag&16;const P=te.props||Vt,X=re.props||Vt;let ae;ce&&Sa(ce,!1),(ae=X.onVnodeBeforeUpdate)&&Nr(ae,ce,re,te),H&&eo(re,te,ce,"beforeUpdate"),ce&&Sa(ce,!0);const fe=ve&&re.type!=="foreignObject";if(A?V(te.dynamicChildren,A,S,ce,me,fe,j):G||Ve(te,re,S,null,ce,me,fe,j,!1),F>0){if(F&16)ie(S,re,P,X,ce,me,ve);else if(F&2&&P.class!==X.class&&o(S,"class",null,X.class,ve),F&4&&o(S,"style",P.style,X.style,ve),F&8){const ge=re.dynamicProps;for(let K=0;K<ge.length;K++){const q=ge[K],he=P[q],Me=X[q];(Me!==he||q==="value")&&o(S,q,he,Me,ve,te.children,ce,me,ke)}}F&1&&te.children!==re.children&&p(S,re.children)}else!G&&A==null&&ie(S,re,P,X,ce,me,ve);((ae=X.onVnodeUpdated)||H)&&Zn(()=>{ae&&Nr(ae,ce,re,te),H&&eo(re,te,ce,"updated")},me)},V=(te,re,ce,me,ve,j,G)=>{for(let S=0;S<re.length;S++){const F=te[S],A=re[S],H=F.el&&(F.type===St||!no(F,A)||F.shapeFlag&70)?m(F.el):ce;D(F,A,H,null,me,ve,j,G,!0)}},ie=(te,re,ce,me,ve,j,G)=>{if(ce!==me){for(const S in me){if(Va(S))continue;const F=me[S],A=ce[S];F!==A&&S!=="value"&&o(te,S,A,F,G,re.children,ve,j,ke)}if(ce!==Vt)for(const S in ce)!Va(S)&&!(S in me)&&o(te,S,ce[S],null,G,re.children,ve,j,ke);"value"in me&&o(te,"value",ce.value,me.value)}},W=(te,re,ce,me,ve,j,G,S,F)=>{const A=re.el=te?te.el:l(""),H=re.anchor=te?te.anchor:l("");let{patchFlag:P,dynamicChildren:X,slotScopeIds:ae}=re;ae&&(S=S?S.concat(ae):ae),te==null?(r(A,ce,me),r(H,ce,me),B(re.children,ce,H,ve,j,G,S,F)):P>0&&P&64&&X&&te.dynamicChildren?(V(te.dynamicChildren,X,ce,ve,j,G,S),(re.key!=null||ve&&re===ve.subTree)&&gb(te,re,!0)):Ve(te,re,ce,H,ve,j,G,S,F)},Q=(te,re,ce,me,ve,j,G,S,F)=>{re.slotScopeIds=S,te==null?re.shapeFlag&512?ve.ctx.activate(re,ce,me,G,F):I(re,ce,me,ve,j,G,F):de(te,re,F)},I=(te,re,ce,me,ve,j,G)=>{const S=te.component=GT(te,me,ve);if(od(te)&&(S.ctx.renderer=Ke),JT(S),S.asyncDep){if(ve&&ve.registerDep(S,pe),!te.el){const F=S.subTree=st(cr);T(null,F,re,ce)}return}pe(S,te,re,ce,ve,j,G)},de=(te,re,ce)=>{const me=re.component=te.component;if(tL(te,re,ce))if(me.asyncDep&&!me.asyncResolved){Se(me,re,ce);return}else me.next=re,YN(me.update),me.update();else re.el=te.el,me.vnode=re},pe=(te,re,ce,me,ve,j,G)=>{const S=()=>{if(te.isMounted){let{next:H,bu:P,u:X,parent:ae,vnode:fe}=te,ge=H,K;Sa(te,!1),H?(H.el=fe.el,Se(te,H,G)):H=fe,P&&vu(P),(K=H.props&&H.props.onVnodeBeforeUpdate)&&Nr(K,ae,H,fe),Sa(te,!0);const q=Mh(te),he=te.subTree;te.subTree=q,D(he,q,m(he.el),be(he),te,ve,j),H.el=q.el,ge===null&&ab(te,q.el),X&&Zn(X,ve),(K=H.props&&H.props.onVnodeUpdated)&&Zn(()=>Nr(K,ae,H,fe),ve)}else{let H;const{el:P,props:X}=re,{bm:ae,m:fe,parent:ge}=te,K=Ka(re);if(Sa(te,!1),ae&&vu(ae),!K&&(H=X&&X.onVnodeBeforeMount)&&Nr(H,ge,re),Sa(te,!0),P&&gt){const q=()=>{te.subTree=Mh(te),gt(P,te.subTree,te,ve,null)};K?re.type.__asyncLoader().then(()=>!te.isUnmounted&&q()):q()}else{const q=te.subTree=Mh(te);D(null,q,ce,me,te,ve,j),re.el=q.el}if(fe&&Zn(fe,ve),!K&&(H=X&&X.onVnodeMounted)){const q=re;Zn(()=>Nr(H,ge,q),ve)}(re.shapeFlag&256||ge&&Ka(ge.vnode)&&ge.vnode.shapeFlag&256)&&te.a&&Zn(te.a,ve),te.isMounted=!0,re=ce=me=null}},F=te.effect=new rd(S,()=>nb(A),te.scope),A=te.update=()=>F.run();A.id=te.uid,Sa(te,!0),A()},Se=(te,re,ce)=>{re.component=te;const me=te.vnode.props;te.vnode=re,te.next=null,kL(te,re.props,me,ce),TL(te,re.children,ce),ml(),yg(void 0,te.update),vl()},Ve=(te,re,ce,me,ve,j,G,S,F=!1)=>{const A=te&&te.children,H=te?te.shapeFlag:0,P=re.children,{patchFlag:X,shapeFlag:ae}=re;if(X>0){if(X&128){yt(A,P,ce,me,ve,j,G,S,F);return}else if(X&256){tt(A,P,ce,me,ve,j,G,S,F);return}}ae&8?(H&16&&ke(A,ve,j),P!==A&&p(ce,P)):H&16?ae&16?yt(A,P,ce,me,ve,j,G,S,F):ke(A,ve,j,!0):(H&8&&p(ce,""),ae&16&&B(P,ce,me,ve,j,G,S,F))},tt=(te,re,ce,me,ve,j,G,S,F)=>{te=te||pu,re=re||pu;const A=te.length,H=re.length,P=Math.min(A,H);let X;for(X=0;X<P;X++){const ae=re[X]=F?As(re[X]):qr(re[X]);D(te[X],ae,ce,null,ve,j,G,S,F)}A>H?ke(te,ve,j,!0,!1,P):B(re,ce,me,ve,j,G,S,F,P)},yt=(te,re,ce,me,ve,j,G,S,F)=>{let A=0;const H=re.length;let P=te.length-1,X=H-1;for(;A<=P&&A<=X;){const ae=te[A],fe=re[A]=F?As(re[A]):qr(re[A]);if(no(ae,fe))D(ae,fe,ce,null,ve,j,G,S,F);else break;A++}for(;A<=P&&A<=X;){const ae=te[P],fe=re[X]=F?As(re[X]):qr(re[X]);if(no(ae,fe))D(ae,fe,ce,null,ve,j,G,S,F);else break;P--,X--}if(A>P){if(A<=X){const ae=X+1,fe=ae<H?re[ae].el:me;for(;A<=X;)D(null,re[A]=F?As(re[A]):qr(re[A]),ce,fe,ve,j,G,S,F),A++}}else if(A>X)for(;A<=P;)pt(te[A],ve,j,!0),A++;else{const ae=A,fe=A,ge=new Map;for(A=fe;A<=X;A++){const Ae=re[A]=F?As(re[A]):qr(re[A]);Ae.key!=null&&ge.set(Ae.key,A)}let K,q=0;const he=X-fe+1;let Me=!1,rt=0;const oe=new Array(he);for(A=0;A<he;A++)oe[A]=0;for(A=ae;A<=P;A++){const Ae=te[A];if(q>=he){pt(Ae,ve,j,!0);continue}let we;if(Ae.key!=null)we=ge.get(Ae.key);else for(K=fe;K<=X;K++)if(oe[K-fe]===0&&no(Ae,re[K])){we=K;break}we===void 0?pt(Ae,ve,j,!0):(oe[we-fe]=A+1,we>=rt?rt=we:Me=!0,D(Ae,re[we],ce,null,ve,j,G,S,F),q++)}const Pe=Me?ML(oe):pu;for(K=Pe.length-1,A=he-1;A>=0;A--){const Ae=fe+A,we=re[Ae],We=Ae+1<H?re[Ae+1].el:me;oe[A]===0?D(null,we,ce,We,ve,j,G,S,F):Me&&(K<0||A!==Pe[K]?Mt(we,ce,We,2):K--)}}},Mt=(te,re,ce,me,ve=null)=>{const{el:j,type:G,transition:S,children:F,shapeFlag:A}=te;if(A&6){Mt(te.component.subTree,re,ce,me);return}if(A&128){te.suspense.move(re,ce,me);return}if(A&64){G.move(te,re,ce,Ke);return}if(G===St){r(j,re,ce);for(let P=0;P<F.length;P++)Mt(F[P],re,ce,me);r(te.anchor,re,ce);return}if(G===qa){M(te,re,ce);return}if(me!==2&&A&1&&S)if(me===0)S.beforeEnter(j),r(j,re,ce),Zn(()=>S.enter(j),ve);else{const{leave:P,delayLeave:X,afterLeave:ae}=S,fe=()=>r(j,re,ce),ge=()=>{P(j,()=>{fe(),ae&&ae()})};X?X(j,fe,ge):ge()}else r(j,re,ce)},pt=(te,re,ce,me=!1,ve=!1)=>{const{type:j,props:G,ref:S,children:F,dynamicChildren:A,shapeFlag:H,patchFlag:P,dirs:X}=te;if(S!=null&&Qh(S,null,ce,te,!0),H&256){re.ctx.deactivate(te);return}const ae=H&1&&X,fe=!Ka(te);let ge;if(fe&&(ge=G&&G.onVnodeBeforeUnmount)&&Nr(ge,re,te),H&6)Fe(te.component,ce,me);else{if(H&128){te.suspense.unmount(ce,me);return}ae&&eo(te,null,re,"beforeUnmount"),H&64?te.type.remove(te,re,ce,ve,Ke,me):A&&(j!==St||P>0&&P&64)?ke(A,re,ce,!1,!0):(j===St&&P&384||!ve&&H&16)&&ke(F,re,ce),me&&ot(te)}(fe&&(ge=G&&G.onVnodeUnmounted)||ae)&&Zn(()=>{ge&&Nr(ge,re,te),ae&&eo(te,null,re,"unmounted")},ce)},ot=te=>{const{type:re,el:ce,anchor:me,transition:ve}=te;if(re===St){Ge(ce,me);return}if(re===qa){Y(te);return}const j=()=>{i(ce),ve&&!ve.persisted&&ve.afterLeave&&ve.afterLeave()};if(te.shapeFlag&1&&ve&&!ve.persisted){const{leave:G,delayLeave:S}=ve,F=()=>G(ce,j);S?S(te.el,j,F):F()}else j()},Ge=(te,re)=>{let ce;for(;te!==re;)ce=v(te),i(te),te=ce;i(re)},Fe=(te,re,ce)=>{const{bum:me,scope:ve,update:j,subTree:G,um:S}=te;me&&vu(me),ve.stop(),j&&(j.active=!1,pt(G,te,re,ce)),S&&Zn(S,re),Zn(()=>{te.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&te.asyncDep&&!te.asyncResolved&&te.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},ke=(te,re,ce,me=!1,ve=!1,j=0)=>{for(let G=j;G<te.length;G++)pt(te[G],re,ce,me,ve)},be=te=>te.shapeFlag&6?be(te.component.subTree):te.shapeFlag&128?te.suspense.next():v(te.anchor||te.el),He=(te,re,ce)=>{te==null?re._vnode&&pt(re._vnode,null,null,!0):D(re._vnode||null,te,re,null,null,null,ce),Yh(),re._vnode=te},Ke={p:D,um:pt,m:Mt,r:ot,mt:I,mc:B,pc:Ve,pbc:V,n:be,o:e};let je,gt;return t&&([je,gt]=t(Ke)),{render:He,hydrate:je,createApp:AL(He,je)}}function Sa({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function gb(e,t,n=!1){const r=e.children,i=t.children;if(Qe(r)&&Qe(i))for(let o=0;o<r.length;o++){const s=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=As(i[o]),l.el=s.el),n||gb(s,l))}}function ML(e){const t=e.slice(),n=[0];let r,i,o,s,l;const c=e.length;for(r=0;r<c;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,e[n[l]]<h?o=l+1:s=l;h<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}const OL=e=>e.__isTeleport,rf=e=>e&&(e.disabled||e.disabled===""),Rx=e=>typeof SVGElement!="undefined"&&e instanceof SVGElement,E0=(e,t)=>{const n=e&&e.to;return wt(n)?t?t(n):null:n},NL={__isTeleport:!0,process(e,t,n,r,i,o,s,l,c,h){const{mc:p,pc:m,pbc:v,o:{insert:b,querySelector:_,createText:x,createComment:D}}=h,E=rf(t.props);let{shapeFlag:T,children:R,dynamicChildren:M}=t;if(e==null){const Y=t.el=x(""),J=t.anchor=x("");b(Y,n,r),b(J,n,r);const Z=t.target=E0(t.props,_),z=t.targetAnchor=x("");Z&&(b(z,Z),s=s||Rx(Z));const B=(L,V)=>{T&16&&p(R,L,V,i,o,s,l,c)};E?B(n,J):Z&&B(Z,z)}else{t.el=e.el;const Y=t.anchor=e.anchor,J=t.target=e.target,Z=t.targetAnchor=e.targetAnchor,z=rf(e.props),B=z?n:J,L=z?Y:Z;if(s=s||Rx(J),M?(v(e.dynamicChildren,M,B,i,o,s,l),gb(e,t,!0)):c||m(e,t,B,L,i,o,s,l,!1),E)z||uh(t,n,Y,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=E0(t.props,_);V&&uh(t,V,null,h,0)}else z&&uh(t,J,Z,h,1)}},remove(e,t,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:l,children:c,anchor:h,targetAnchor:p,target:m,props:v}=e;if(m&&o(p),(s||!rf(v))&&(o(h),l&16))for(let b=0;b<c.length;b++){const _=c[b];i(_,t,n,!0,!!_.dynamicChildren)}},move:uh,hydrate:LL};function uh(e,t,n,{o:{insert:r},m:i},o=2){o===0&&r(e.targetAnchor,t,n);const{el:s,anchor:l,shapeFlag:c,children:h,props:p}=e,m=o===2;if(m&&r(s,t,n),(!m||rf(p))&&c&16)for(let v=0;v<h.length;v++)i(h[v],t,n,2);m&&r(l,t,n)}function LL(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:l,querySelector:c}},h){const p=t.target=E0(t.props,c);if(p){const m=p._lpa||p.firstChild;if(t.shapeFlag&16)if(rf(t.props))t.anchor=h(s(e),t,l(e),n,r,i,o),t.targetAnchor=m;else{t.anchor=s(e);let v=m;for(;v;)if(v=s(v),v&&v.nodeType===8&&v.data==="teleport anchor"){t.targetAnchor=v,p._lpa=t.targetAnchor&&s(t.targetAnchor);break}h(m,t,p,n,r,i,o)}}return t.anchor&&s(t.anchor)}const WT=NL,St=Symbol(void 0),Eu=Symbol(void 0),cr=Symbol(void 0),qa=Symbol(void 0),of=[];let Lr=null;function _e(e=!1){of.push(Lr=e?null:[])}function UT(){of.pop(),Lr=of[of.length-1]||null}let nl=1;function A0(e){nl+=e}function KT(e){return e.dynamicChildren=nl>0?Lr||pu:null,UT(),nl>0&&Lr&&Lr.push(e),e}function Le(e,t,n,r,i,o){return KT(le(e,t,n,r,i,o,!0))}function Ht(e,t,n,r,i){return KT(st(e,t,n,r,i,!0))}function Us(e){return e?e.__v_isVNode===!0:!1}function no(e,t){return e.type===t.type&&e.key===t.key}function PL(e){}const Tg="__vInternal",qT=({key:e})=>e!=null?e:null,Oh=({ref:e,ref_key:t,ref_for:n})=>e!=null?wt(e)||Bn(e)||mt(e)?{i:lr,r:e,k:t,f:!!n}:e:null;function le(e,t=null,n=null,r=0,i=null,o=e===St?0:1,s=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qT(t),ref:t&&Oh(t),scopeId:_g,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return l?(vb(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=wt(n)?8:16),nl>0&&!s&&Lr&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&Lr.push(c),c}const st=IL;function IL(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===OT)&&(e=cr),Us(e)){const l=ho(e,t,!0);return n&&vb(l,n),nl>0&&!o&&Lr&&(l.shapeFlag&6?Lr[Lr.indexOf(e)]=l:Lr.push(l)),l.patchFlag|=-2,l}if(WL(e)&&(e=e.__vccOpts),t){t=mb(t);let{class:l,style:c}=t;l&&!wt(l)&&(t.class=It(l)),dn(c)&&(Xy(c)&&!Qe(c)&&(c=Wt({},c)),t.style=mi(c))}const s=wt(e)?1:mT(e)?128:OL(e)?64:dn(e)?4:mt(e)?2:0;return le(e,t,n,r,i,s,o,!0)}function mb(e){return e?Xy(e)||Tg in e?Wt({},e):e:null}function ho(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=e,l=t?yi(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&qT(l),ref:t&&t.ref?n&&i?Qe(i)?i.concat(Oh(t)):[i,Oh(t)]:Oh(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==St?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ho(e.ssContent),ssFallback:e.ssFallback&&ho(e.ssFallback),el:e.el,anchor:e.anchor}}function Qo(e=" ",t=0){return st(Eu,null,e,t)}function FL(e,t){const n=st(qa,null,e);return n.staticCount=t,n}function Nt(e="",t=!1){return t?(_e(),Ht(cr,null,e)):st(cr,null,e)}function qr(e){return e==null||typeof e=="boolean"?st(cr):Qe(e)?st(St,null,e.slice()):typeof e=="object"?As(e):st(Eu,null,String(e))}function As(e){return e.el===null||e.memo?e:ho(e)}function vb(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Qe(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),vb(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Tg in t)?t._ctx=lr:i===3&&lr&&(lr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else mt(t)?(t={default:t,_ctx:lr},n=32):(t=String(t),r&64?(n=16,t=[Qo(t)]):n=8);e.children=t,e.shapeFlag|=n}function yi(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=It([t.class,r.class]));else if(i==="style")t.style=mi([t.style,r.style]);else if(hl(i)){const o=t[i],s=r[i];s&&o!==s&&!(Qe(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function Nr(e,t,n,r=null){Qr(e,t,7,[n,r])}const RL=$T();let zL=0;function GT(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||RL,o={uid:zL++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new qy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:FT(r,i),emitsOptions:gT(r,i),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:r.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=XN.bind(null,o),e.ce&&e.ce(o),o}let zn=null;const yo=()=>zn||lr,Ks=e=>{zn=e,e.scope.on()},Fs=()=>{zn&&zn.scope.off(),zn=null};function YT(e){return e.vnode.shapeFlag&4}let Au=!1;function JT(e,t=!1){Au=t;const{props:n,children:r}=e.vnode,i=YT(e);xL(e,n,i,t),SL(e,r);const o=i?BL(e,t):void 0;return Au=!1,o}function BL(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ia(new Proxy(e.ctx,k0));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?QT(e):null;Ks(e),ml();const o=uo(r,e,0,[e.props,i]);if(vl(),Fs(),Uy(o)){if(o.then(Fs,Fs),t)return o.then(s=>{D0(e,s,t)}).catch(s=>{bl(s,e,0)});e.asyncDep=o}else D0(e,o,t)}else ZT(e,t)}function D0(e,t,n){mt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:dn(t)&&(e.setupState=eb(t)),ZT(e,n)}let ep,M0;function XT(e){ep=e,M0=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,mL))}}const $L=()=>!ep;function ZT(e,t,n){const r=e.type;if(!e.render){if(!t&&ep&&!r.render){const i=r.template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:l,compilerOptions:c}=r,h=Wt(Wt({isCustomElement:o,delimiters:l},s),c);r.render=ep(i,h)}}e.render=r.render||Tr,M0&&M0(e)}Ks(e),ml(),vL(e),vl(),Fs()}function HL(e){return new Proxy(e.attrs,{get(t,n){return ii(e,"get","$attrs"),t[n]}})}function QT(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=HL(e))},slots:e.slots,emit:e.emit,expose:t}}function Eg(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(eb(ia(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Xh)return Xh[n](e)}}))}const jL=/(?:^|[-_])(\w)/g,VL=e=>e.replace(jL,t=>t.toUpperCase()).replace(/[-_]/g,"");function tp(e,t=!0){return mt(e)?e.displayName||e.name:e.name||t&&e.__name}function eE(e,t,n=!1){let r=tp(t);if(!r&&t.__file){const i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&e&&e.parent){const i=o=>{for(const s in o)if(o[s]===t)return s};r=i(e.components||e.parent.type.components)||i(e.appContext.components)}return r?VL(r):n?"App":"Anonymous"}function WL(e){return mt(e)&&"__vccOpts"in e}const vn=(e,t)=>jN(e,t,Au);function UL(){return null}function KL(){return null}function qL(e){}function GL(e,t){return null}function YL(){return tE().slots}function JL(){return tE().attrs}function tE(){const e=yo();return e.setupContext||(e.setupContext=QT(e))}function XL(e,t){const n=Qe(e)?e.reduce((r,i)=>(r[i]={},r),{}):e;for(const r in t){const i=n[r];i?Qe(i)||mt(i)?n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(n[r]={default:t[r]})}return n}function ZL(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function QL(e){const t=yo();let n=e();return Fs(),Uy(n)&&(n=n.catch(r=>{throw Ks(t),r})),[n,()=>Ks(t)]}function Vn(e,t,n){const r=arguments.length;return r===2?dn(t)&&!Qe(t)?Us(t)?st(e,null,[t]):st(e,t):st(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Us(n)&&(n=[n]),st(e,t,n))}const nE=Symbol(""),eP=()=>{{const e=nf(nE);return e||lT("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function tP(){}function nP(e,t,n,r){const i=n[r];if(i&&rE(i,e))return i;const o=t();return o.memo=e.slice(),n[r]=o}function rE(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(Cu(n[r],t[r]))return!1;return nl>0&&Lr&&Lr.push(e),!0}const iE="3.2.37",rP={createComponentInstance:GT,setupComponent:JT,renderComponentRoot:Mh,setCurrentRenderingInstance:Lf,isVNode:Us,normalizeVNode:qr},iP=rP,oP=null,sP=null,aP="http://www.w3.org/2000/svg",Pa=typeof document!="undefined"?document:null,zx=Pa&&Pa.createElement("template"),lP={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Pa.createElementNS(aP,e):Pa.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Pa.createTextNode(e),createComment:e=>Pa.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pa.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{zx.innerHTML=r?`<svg>${e}</svg>`:e;const l=zx.content;if(r){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function uP(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function cP(e,t,n){const r=e.style,i=wt(n);if(n&&!i){for(const o in n)O0(r,o,n[o]);if(t&&!wt(t))for(const o in t)n[o]==null&&O0(r,o,"")}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const Bx=/\s*!important$/;function O0(e,t,n){if(Qe(n))n.forEach(r=>O0(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=fP(e,t);Bx.test(n)?e.setProperty(zi(r),n.replace(Bx,""),"important"):e[r]=n}}const $x=["Webkit","Moz","ms"],gv={};function fP(e,t){const n=gv[t];if(n)return n;let r=dr(t);if(r!=="filter"&&r in e)return gv[t]=r;r=gl(r);for(let i=0;i<$x.length;i++){const o=$x[i]+r;if(o in e)return gv[t]=o}return t}const Hx="http://www.w3.org/1999/xlink";function dP(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Hx,t.slice(6,t.length)):e.setAttributeNS(Hx,t,n);else{const o=$4(t);n==null||o&&!B2(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function hP(e,t,n,r,i,o,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,o),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const c=n==null?"":n;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=B2(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}const[oE,pP]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let N0=0;const gP=Promise.resolve(),mP=()=>{N0=0},vP=()=>N0||(gP.then(mP),N0=oE());function Lo(e,t,n,r){e.addEventListener(t,n,r)}function yP(e,t,n,r){e.removeEventListener(t,n,r)}function bP(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[l,c]=_P(t);if(r){const h=o[t]=wP(r,i);Lo(e,l,h,c)}else s&&(yP(e,l,s,c),o[t]=void 0)}}const jx=/(?:Once|Passive|Capture)$/;function _P(e){let t;if(jx.test(e)){t={};let n;for(;n=e.match(jx);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[zi(e.slice(2)),t]}function wP(e,t){const n=r=>{const i=r.timeStamp||oE();(pP||i>=n.attached-1)&&Qr(xP(r,n.value),t,5,[r])};return n.value=e,n.attached=vP(),n}function xP(e,t){if(Qe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Vx=/^on[a-z]/,kP=(e,t,n,r,i=!1,o,s,l,c)=>{t==="class"?uP(e,r,i):t==="style"?cP(e,n,r):hl(t)?Vy(t)||bP(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):CP(e,t,r,i))?hP(e,t,r,o,s,l,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),dP(e,t,r,i))};function CP(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Vx.test(t)&&mt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Vx.test(t)&&wt(n)?!1:t in e}function sE(e,t){const n=ln(e);class r extends Ag{constructor(o){super(n,o,t)}}return r.def=n,r}const SP=e=>sE(e,bE),TP=typeof HTMLElement!="undefined"?HTMLElement:class{};class Ag extends TP{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,oo(()=>{this._connected||(P0(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=r=>{const{props:i,styles:o}=r,s=!Qe(i),l=i?s?Object.keys(i):i:[];let c;if(s)for(const h in this._props){const p=i[h];(p===Number||p&&p.type===Number)&&(this._props[h]=js(this._props[h]),(c||(c=Object.create(null)))[h]=!0)}this._numberProps=c;for(const h of Object.keys(this))h[0]!=="_"&&this._setProp(h,this[h],!0,!1);for(const h of l.map(dr))Object.defineProperty(this,h,{get(){return this._getProp(h)},set(p){this._setProp(h,p)}});this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(t):t(this._def)}_setAttr(t){let n=this.getAttribute(t);this._numberProps&&this._numberProps[t]&&(n=js(n)),this._setProp(dr(t),n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(zi(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(zi(t),n+""):n||this.removeAttribute(zi(t))))}_update(){P0(this._createVNode(),this.shadowRoot)}_createVNode(){const t=st(this._def,Wt({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0,n.emit=(i,...o)=>{this.dispatchEvent(new CustomEvent(i,{detail:o}))};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Ag){n.parent=r._instance;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function EP(e="$style"){{const t=yo();if(!t)return Vt;const n=t.type.__cssModules;if(!n)return Vt;const r=n[e];return r||Vt}}function AP(e){const t=yo();if(!t)return;const n=()=>L0(t.subTree,e(t.proxy));bT(n),Vi(()=>{const r=new MutationObserver(n);r.observe(t.subTree.el.parentNode,{childList:!0}),Cg(()=>r.disconnect())})}function L0(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{L0(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Wx(e.el,t);else if(e.type===St)e.children.forEach(n=>L0(n,t));else if(e.type===qa){let{el:n,anchor:r}=e;for(;n&&(Wx(n,t),n!==r);)n=n.nextSibling}}function Wx(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const bs="transition",Nc="animation",If=(e,{slots:t})=>Vn(cb,lE(e),t);If.displayName="Transition";const aE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},DP=If.props=Wt({},cb.props,aE),Ta=(e,t=[])=>{Qe(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ux=e=>e?Qe(e)?e.some(t=>t.length>1):e.length>1:!1;function lE(e){const t={};for(const ie in e)ie in aE||(t[ie]=e[ie]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:h=s,appearToClass:p=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=e,_=MP(i),x=_&&_[0],D=_&&_[1],{onBeforeEnter:E,onEnter:T,onEnterCancelled:R,onLeave:M,onLeaveCancelled:Y,onBeforeAppear:J=E,onAppear:Z=T,onAppearCancelled:z=R}=t,B=(ie,W,Q)=>{ks(ie,W?p:l),ks(ie,W?h:s),Q&&Q()},L=(ie,W)=>{ie._isLeaving=!1,ks(ie,m),ks(ie,b),ks(ie,v),W&&W()},V=ie=>(W,Q)=>{const I=ie?Z:T,de=()=>B(W,ie,Q);Ta(I,[W,de]),Kx(()=>{ks(W,ie?c:o),Ao(W,ie?p:l),Ux(I)||qx(W,r,x,de)})};return Wt(t,{onBeforeEnter(ie){Ta(E,[ie]),Ao(ie,o),Ao(ie,s)},onBeforeAppear(ie){Ta(J,[ie]),Ao(ie,c),Ao(ie,h)},onEnter:V(!1),onAppear:V(!0),onLeave(ie,W){ie._isLeaving=!0;const Q=()=>L(ie,W);Ao(ie,m),cE(),Ao(ie,v),Kx(()=>{!ie._isLeaving||(ks(ie,m),Ao(ie,b),Ux(M)||qx(ie,r,D,Q))}),Ta(M,[ie,Q])},onEnterCancelled(ie){B(ie,!1),Ta(R,[ie])},onAppearCancelled(ie){B(ie,!0),Ta(z,[ie])},onLeaveCancelled(ie){L(ie),Ta(Y,[ie])}})}function MP(e){if(e==null)return null;if(dn(e))return[mv(e.enter),mv(e.leave)];{const t=mv(e);return[t,t]}}function mv(e){return js(e)}function Ao(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function ks(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Kx(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let OP=0;function qx(e,t,n,r){const i=e._endId=++OP,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:l,propCount:c}=uE(e,t);if(!s)return r();const h=s+"end";let p=0;const m=()=>{e.removeEventListener(h,v),o()},v=b=>{b.target===e&&++p>=c&&m()};setTimeout(()=>{p<c&&m()},l+1),e.addEventListener(h,v)}function uE(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),i=r(bs+"Delay"),o=r(bs+"Duration"),s=Gx(i,o),l=r(Nc+"Delay"),c=r(Nc+"Duration"),h=Gx(l,c);let p=null,m=0,v=0;t===bs?s>0&&(p=bs,m=s,v=o.length):t===Nc?h>0&&(p=Nc,m=h,v=c.length):(m=Math.max(s,h),p=m>0?s>h?bs:Nc:null,v=p?p===bs?o.length:c.length:0);const b=p===bs&&/\b(transform|all)(,|$)/.test(n[bs+"Property"]);return{type:p,timeout:m,propCount:v,hasTransform:b}}function Gx(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Yx(n)+Yx(e[r])))}function Yx(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function cE(){return document.body.offsetHeight}const fE=new WeakMap,dE=new WeakMap,NP={name:"TransitionGroup",props:Wt({},DP,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=yo(),r=ub();let i,o;return kg(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!RP(i[0].el,n.vnode.el,s))return;i.forEach(PP),i.forEach(IP);const l=i.filter(FP);cE(),l.forEach(c=>{const h=c.el,p=h.style;Ao(h,s),p.transform=p.webkitTransform=p.transitionDuration="";const m=h._moveCb=v=>{v&&v.target!==h||(!v||/transform$/.test(v.propertyName))&&(h.removeEventListener("transitionend",m),h._moveCb=null,ks(h,s))};h.addEventListener("transitionend",m)})}),()=>{const s=Lt(e),l=lE(s);let c=s.tag||St;i=o,o=t.default?wg(t.default()):[];for(let h=0;h<o.length;h++){const p=o[h];p.key!=null&&tl(p,Tu(p,l,r,n))}if(i)for(let h=0;h<i.length;h++){const p=i[h];tl(p,Tu(p,l,r,n)),fE.set(p,p.el.getBoundingClientRect())}return st(c,null,o)}}},LP=NP;function PP(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function IP(e){dE.set(e,e.el.getBoundingClientRect())}function FP(e){const t=fE.get(e),n=dE.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",e}}function RP(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=uE(r);return i.removeChild(r),o}const qs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Qe(t)?n=>vu(t,n):t};function zP(e){e.target.composing=!0}function Jx(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pr={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=qs(i);const o=r||i.props&&i.props.type==="number";Lo(e,t?"change":"input",s=>{if(s.target.composing)return;let l=e.value;n&&(l=l.trim()),o&&(l=js(l)),e._assign(l)}),n&&Lo(e,"change",()=>{e.value=e.value.trim()}),t||(Lo(e,"compositionstart",zP),Lo(e,"compositionend",Jx),Lo(e,"change",Jx))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e._assign=qs(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&js(e.value)===t))return;const s=t==null?"":t;e.value!==s&&(e.value=s)}},sd={deep:!0,created(e,t,n){e._assign=qs(n),Lo(e,"change",()=>{const r=e._modelValue,i=Du(e),o=e.checked,s=e._assign;if(Qe(r)){const l=fg(r,i),c=l!==-1;if(o&&!c)s(r.concat(i));else if(!o&&c){const h=[...r];h.splice(l,1),s(h)}}else if(pl(r)){const l=new Set(r);o?l.add(i):l.delete(i),s(l)}else s(hE(e,o))})},mounted:Xx,beforeUpdate(e,t,n){e._assign=qs(n),Xx(e,t,n)}};function Xx(e,{value:t,oldValue:n},r){e._modelValue=t,Qe(t)?e.checked=fg(t,r.props.value)>-1:pl(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=$s(t,hE(e,!0)))}const yb={created(e,{value:t},n){e.checked=$s(t,n.props.value),e._assign=qs(n),Lo(e,"change",()=>{e._assign(Du(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=qs(r),t!==n&&(e.checked=$s(t,r.props.value))}},bb={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=pl(t);Lo(e,"change",()=>{const o=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?js(Du(s)):Du(s));e._assign(e.multiple?i?new Set(o):o:o[0])}),e._assign=qs(r)},mounted(e,{value:t}){Zx(e,t)},beforeUpdate(e,t,n){e._assign=qs(n)},updated(e,{value:t}){Zx(e,t)}};function Zx(e,t){const n=e.multiple;if(!(n&&!Qe(t)&&!pl(t))){for(let r=0,i=e.options.length;r<i;r++){const o=e.options[r],s=Du(o);if(n)Qe(t)?o.selected=fg(t,s)>-1:o.selected=t.has(s);else if($s(Du(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Du(e){return"_value"in e?e._value:e.value}function hE(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const pE={created(e,t,n){ch(e,t,n,null,"created")},mounted(e,t,n){ch(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){ch(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){ch(e,t,n,r,"updated")}};function gE(e,t){switch(e){case"SELECT":return bb;case"TEXTAREA":return Pr;default:switch(t){case"checkbox":return sd;case"radio":return yb;default:return Pr}}}function ch(e,t,n,r,i){const s=gE(e.tagName,n.props&&n.props.type)[i];s&&s(e,t,n,r)}function BP(){Pr.getSSRProps=({value:e})=>({value:e}),yb.getSSRProps=({value:e},t)=>{if(t.props&&$s(t.props.value,e))return{checked:!0}},sd.getSSRProps=({value:e},t)=>{if(Qe(e)){if(t.props&&fg(e,t.props.value)>-1)return{checked:!0}}else if(pl(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},pE.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=gE(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const $P=["ctrl","shift","alt","meta"],HP={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>$P.some(n=>e[`${n}Key`]&&!t.includes(n))},Dt=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const o=HP[t[i]];if(o&&o(n,t))return}return e(n,...r)},jP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_b=(e,t)=>n=>{if(!("key"in n))return;const r=zi(n.key);if(t.some(i=>i===r||jP[i]===r))return e(n)},Ff={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Lc(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Lc(e,!0),r.enter(e)):r.leave(e,()=>{Lc(e,!1)}):Lc(e,t))},beforeUnmount(e,{value:t}){Lc(e,t)}};function Lc(e,t){e.style.display=t?e._vod:"none"}function VP(){Ff.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const mE=Wt({patchProp:kP},lP);let sf,Qx=!1;function vE(){return sf||(sf=HT(mE))}function yE(){return sf=Qx?sf:jT(mE),Qx=!0,sf}const P0=(...e)=>{vE().render(...e)},bE=(...e)=>{yE().hydrate(...e)},wb=(...e)=>{const t=vE().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=_E(r);if(!i)return;const o=t._component;!mt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t},WP=(...e)=>{const t=yE().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=_E(r);if(i)return n(i,!0,i instanceof SVGElement)},t};function _E(e){return wt(e)?document.querySelector(e):e}let ek=!1;const UP=()=>{ek||(ek=!0,BP(),VP())};var KP=Object.freeze(Object.defineProperty({__proto__:null,Transition:If,TransitionGroup:LP,VueElement:Ag,createApp:wb,createSSRApp:WP,defineCustomElement:sE,defineSSRCustomElement:SP,hydrate:bE,initDirectivesForSSR:UP,render:P0,useCssModule:EP,useCssVars:AP,vModelCheckbox:sd,vModelDynamic:pE,vModelRadio:yb,vModelSelect:bb,vModelText:Pr,vShow:Ff,withKeys:_b,withModifiers:Dt,EffectScope:qy,ReactiveEffect:rd,customRef:sT,effect:lN,effectScope:rN,getCurrentScope:iN,isProxy:Xy,isReactive:Ua,isReadonly:Su,isRef:Bn,isShallow:qh,markRaw:ia,onScopeDispose:oN,proxyRefs:eb,reactive:yl,readonly:Jy,ref:Ct,shallowReactive:Kh,shallowReadonly:PN,shallowRef:iT,stop:uN,toRaw:Lt,toRef:aT,toRefs:BN,triggerRef:FN,unref:Cr,camelize:dr,capitalize:gl,normalizeClass:It,normalizeProps:H2,normalizeStyle:mi,toDisplayString:Xe,toHandlerKey:mu,BaseTransition:cb,Comment:cr,Fragment:St,KeepAlive:hL,Static:qa,Suspense:rL,Teleport:WT,Text:Eu,callWithAsyncErrorHandling:Qr,callWithErrorHandling:uo,cloneVNode:ho,compatUtils:sP,computed:vn,createBlock:Ht,createCommentVNode:Nt,createElementBlock:Le,createElementVNode:le,createHydrationRenderer:jT,createPropsRestProxy:ZL,createRenderer:HT,createSlots:hb,createStaticVNode:FL,createTextVNode:Qo,createVNode:st,defineAsyncComponent:fL,defineComponent:ln,defineEmits:KL,defineExpose:qL,defineProps:UL,get devtools(){return Zl},getCurrentInstance:yo,getTransitionRawChildren:wg,guardReactiveProps:mb,h:Vn,handleError:bl,initCustomFormatter:tP,inject:nf,isMemoSame:rE,isRuntimeOnly:$L,isVNode:Us,mergeDefaults:XL,mergeProps:yi,nextTick:oo,onActivated:xT,onBeforeMount:ST,onBeforeUnmount:Zo,onBeforeUpdate:TT,onDeactivated:kT,onErrorCaptured:MT,onMounted:Vi,onRenderTracked:DT,onRenderTriggered:AT,onServerPrefetch:ET,onUnmounted:Cg,onUpdated:kg,openBlock:_e,popScopeId:ob,provide:Jh,pushScopeId:ib,queuePostFlushCb:rb,registerRuntimeCompiler:XT,renderList:Tn,renderSlot:Cn,resolveComponent:At,resolveDirective:Sg,resolveDynamicComponent:Ws,resolveFilter:oP,resolveTransitionHooks:Tu,setBlockTracking:A0,setDevtoolsHook:pT,setTransitionHooks:tl,ssrContextKey:nE,ssrUtils:iP,toHandlers:w0,transformVNodeArgs:PL,useAttrs:JL,useSSRContext:eP,useSlots:YL,useTransitionState:ub,version:iE,warn:lT,watch:Sn,watchEffect:yT,watchPostEffect:bT,watchSyncEffect:lL,withAsyncContext:QL,withCtx:on,withDefaults:GL,withDirectives:On,withMemo:nP,withScopeId:sb},Symbol.toStringTag,{value:"Module"}));function xb(e){throw e}function wE(e){}function fn(e,t,n,r){const i=e,o=new SyntaxError(String(i));return o.code=e,o.loc=t,o}const Rf=Symbol(""),af=Symbol(""),kb=Symbol(""),np=Symbol(""),xE=Symbol(""),rl=Symbol(""),kE=Symbol(""),CE=Symbol(""),Cb=Symbol(""),Sb=Symbol(""),ad=Symbol(""),Tb=Symbol(""),SE=Symbol(""),Eb=Symbol(""),rp=Symbol(""),Ab=Symbol(""),Db=Symbol(""),Mb=Symbol(""),Ob=Symbol(""),TE=Symbol(""),EE=Symbol(""),Dg=Symbol(""),ip=Symbol(""),Nb=Symbol(""),Lb=Symbol(""),zf=Symbol(""),ld=Symbol(""),Pb=Symbol(""),I0=Symbol(""),qP=Symbol(""),F0=Symbol(""),op=Symbol(""),GP=Symbol(""),YP=Symbol(""),Ib=Symbol(""),JP=Symbol(""),XP=Symbol(""),Fb=Symbol(""),AE=Symbol(""),Mu={[Rf]:"Fragment",[af]:"Teleport",[kb]:"Suspense",[np]:"KeepAlive",[xE]:"BaseTransition",[rl]:"openBlock",[kE]:"createBlock",[CE]:"createElementBlock",[Cb]:"createVNode",[Sb]:"createElementVNode",[ad]:"createCommentVNode",[Tb]:"createTextVNode",[SE]:"createStaticVNode",[Eb]:"resolveComponent",[rp]:"resolveDynamicComponent",[Ab]:"resolveDirective",[Db]:"resolveFilter",[Mb]:"withDirectives",[Ob]:"renderList",[TE]:"renderSlot",[EE]:"createSlots",[Dg]:"toDisplayString",[ip]:"mergeProps",[Nb]:"normalizeClass",[Lb]:"normalizeStyle",[zf]:"normalizeProps",[ld]:"guardReactiveProps",[Pb]:"toHandlers",[I0]:"camelize",[qP]:"capitalize",[F0]:"toHandlerKey",[op]:"setBlockTracking",[GP]:"pushScopeId",[YP]:"popScopeId",[Ib]:"withCtx",[JP]:"unref",[XP]:"isRef",[Fb]:"withMemo",[AE]:"isMemoSame"};function ZP(e){Object.getOwnPropertySymbols(e).forEach(t=>{Mu[t]=e[t]})}const oi={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function QP(e,t=oi){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function Bf(e,t,n,r,i,o,s,l=!1,c=!1,h=!1,p=oi){return e&&(l?(e.helper(rl),e.helper(Lu(e.inSSR,h))):e.helper(Nu(e.inSSR,h)),s&&e.helper(Mb)),{type:13,tag:t,props:n,children:r,patchFlag:i,dynamicProps:o,directives:s,isBlock:l,disableTracking:c,isComponent:h,loc:p}}function ud(e,t=oi){return{type:17,loc:t,elements:e}}function pi(e,t=oi){return{type:15,loc:t,properties:e}}function An(e,t){return{type:16,loc:oi,key:wt(e)?Tt(e,!0):e,value:t}}function Tt(e,t=!1,n=oi,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function Bi(e,t=oi){return{type:8,loc:t,children:e}}function Mn(e,t=[],n=oi){return{type:14,loc:n,callee:e,arguments:t}}function Ou(e,t=void 0,n=!1,r=!1,i=oi){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:i}}function R0(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:oi}}function e8(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:oi}}function t8(e){return{type:21,body:e,loc:oi}}const ei=e=>e.type===4&&e.isStatic,nu=(e,t)=>e===t||e===zi(t);function DE(e){if(nu(e,"Teleport"))return af;if(nu(e,"Suspense"))return kb;if(nu(e,"KeepAlive"))return np;if(nu(e,"BaseTransition"))return xE}const n8=/^\d|[^\$\w]/,Rb=e=>!n8.test(e),r8=/[A-Za-z_$\xA0-\uFFFF]/,i8=/[\.\?\w$\xA0-\uFFFF]/,o8=/\s+[.[]\s*|\s*[.[]\s+/g,s8=e=>{e=e.trim().replace(o8,s=>s.trim());let t=0,n=[],r=0,i=0,o=null;for(let s=0;s<e.length;s++){const l=e.charAt(s);switch(t){case 0:if(l==="[")n.push(t),t=1,r++;else if(l==="(")n.push(t),t=2,i++;else if(!(s===0?r8:i8).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(n.push(t),t=3,o=l):l==="["?r++:l==="]"&&(--r||(t=n.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")n.push(t),t=3,o=l;else if(l==="(")i++;else if(l===")"){if(s===e.length-1)return!1;--i||(t=n.pop())}break;case 3:l===o&&(t=n.pop(),o=null);break}}return!r&&!i},ME=s8;function OE(e,t,n){const i={source:e.source.slice(t,t+n),start:sp(e.start,e.source,t),end:e.end};return n!=null&&(i.end=sp(e.start,e.source,t+n)),i}function sp(e,t,n=t.length){return ap(Wt({},e),t,n)}function ap(e,t,n=t.length){let r=0,i=-1;for(let o=0;o<n;o++)t.charCodeAt(o)===10&&(r++,i=o);return e.offset+=n,e.line+=r,e.column=i===-1?e.column+n:n-i,e}function hi(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(i.type===7&&(n||i.exp)&&(wt(t)?i.name===t:t.test(i.name)))return i}}function Mg(e,t,n=!1,r=!1){for(let i=0;i<e.props.length;i++){const o=e.props[i];if(o.type===6){if(n)continue;if(o.name===t&&(o.value||r))return o}else if(o.name==="bind"&&(o.exp||r)&&Ba(o.arg,t))return o}}function Ba(e,t){return!!(e&&ei(e)&&e.content===t)}function a8(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function vv(e){return e.type===5||e.type===2}function l8(e){return e.type===7&&e.name==="slot"}function lp(e){return e.type===1&&e.tagType===3}function up(e){return e.type===1&&e.tagType===2}function Nu(e,t){return e||t?Cb:Sb}function Lu(e,t){return e||t?kE:CE}const u8=new Set([zf,ld]);function NE(e,t=[]){if(e&&!wt(e)&&e.type===14){const n=e.callee;if(!wt(n)&&u8.has(n))return NE(e.arguments[0],t.concat(e))}return[e,t]}function cp(e,t,n){let r,i=e.type===13?e.props:e.arguments[2],o=[],s;if(i&&!wt(i)&&i.type===14){const l=NE(i);i=l[0],o=l[1],s=o[o.length-1]}if(i==null||wt(i))r=pi([t]);else if(i.type===14){const l=i.arguments[0];!wt(l)&&l.type===15?l.properties.unshift(t):i.callee===Pb?r=Mn(n.helper(ip),[pi([t]),i]):i.arguments.unshift(pi([t])),!r&&(r=i)}else if(i.type===15){let l=!1;if(t.key.type===4){const c=t.key.content;l=i.properties.some(h=>h.key.type===4&&h.key.content===c)}l||i.properties.unshift(t),r=i}else r=Mn(n.helper(ip),[pi([t]),i]),s&&s.callee===ld&&(s=o[o.length-2]);e.type===13?s?s.arguments[0]=r:e.props=r:s?s.arguments[0]=r:e.arguments[2]=r}function $f(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,r)=>n==="-"?"_":e.charCodeAt(r).toString())}`}function c8(e){return e.type===14&&e.callee===Fb?e.arguments[1].returns:e}function zb(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(Nu(r,e.isComponent)),t(rl),t(Lu(r,e.isComponent)))}function tk(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,r=n&&n[e];return e==="MODE"?r||3:r}function Ga(e,t){const n=tk("MODE",t),r=tk(e,t);return n===3?r===!0:r!==!1}function Hf(e,t,n,...r){return Ga(e,t)}const f8=/&(gt|lt|amp|apos|quot);/g,d8={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},nk={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:Dh,isPreTag:Dh,isCustomElement:Dh,decodeEntities:e=>e.replace(f8,(t,n)=>d8[n]),onError:xb,onWarn:wE,comments:!1};function h8(e,t={}){const n=p8(e,t),r=ti(n);return QP(Bb(n,0,[]),bi(n,r))}function p8(e,t){const n=Wt({},nk);let r;for(r in t)n[r]=t[r]===void 0?nk[r]:t[r];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function Bb(e,t,n){const r=Og(n),i=r?r.ns:0,o=[];for(;!k8(e,t,n);){const l=e.source;let c;if(t===0||t===1){if(!e.inVPre&&ur(l,e.options.delimiters[0]))c=w8(e,t);else if(t===0&&l[0]==="<")if(l.length===1)Gt(e,5,1);else if(l[1]==="!")ur(l,"<!--")?c=m8(e):ur(l,"<!DOCTYPE")?c=Pc(e):ur(l,"<![CDATA[")?i!==0?c=g8(e,n):(Gt(e,1),c=Pc(e)):(Gt(e,11),c=Pc(e));else if(l[1]==="/")if(l.length===2)Gt(e,5,2);else if(l[2]===">"){Gt(e,14,2),$n(e,3);continue}else if(/[a-z]/i.test(l[2])){Gt(e,23),z0(e,1,r);continue}else Gt(e,12,2),c=Pc(e);else/[a-z]/i.test(l[1])?(c=v8(e,n),Ga("COMPILER_NATIVE_TEMPLATE",e)&&c&&c.tag==="template"&&!c.props.some(h=>h.type===7&&LE(h.name))&&(c=c.children)):l[1]==="?"?(Gt(e,21,1),c=Pc(e)):Gt(e,12,1)}if(c||(c=x8(e,t)),Qe(c))for(let h=0;h<c.length;h++)rk(o,c[h]);else rk(o,c)}let s=!1;if(t!==2&&t!==1){const l=e.options.whitespace!=="preserve";for(let c=0;c<o.length;c++){const h=o[c];if(!e.inPre&&h.type===2)if(/[^\t\r\n\f ]/.test(h.content))l&&(h.content=h.content.replace(/[\t\r\n\f ]+/g," "));else{const p=o[c-1],m=o[c+1];!p||!m||l&&(p.type===3||m.type===3||p.type===1&&m.type===1&&/[\r\n]/.test(h.content))?(s=!0,o[c]=null):h.content=" "}else h.type===3&&!e.options.comments&&(s=!0,o[c]=null)}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const c=o[0];c&&c.type===2&&(c.content=c.content.replace(/^\r?\n/,""))}}return s?o.filter(Boolean):o}function rk(e,t){if(t.type===2){const n=Og(e);if(n&&n.type===2&&n.loc.end.offset===t.loc.start.offset){n.content+=t.content,n.loc.end=t.loc.end,n.loc.source+=t.loc.source;return}}e.push(t)}function g8(e,t){$n(e,9);const n=Bb(e,3,t);return e.source.length===0?Gt(e,6):$n(e,3),n}function m8(e){const t=ti(e);let n;const r=/--(\!)?>/.exec(e.source);if(!r)n=e.source.slice(4),$n(e,e.source.length),Gt(e,7);else{r.index<=3&&Gt(e,0),r[1]&&Gt(e,10),n=e.source.slice(4,r.index);const i=e.source.slice(0,r.index);let o=1,s=0;for(;(s=i.indexOf("<!--",o))!==-1;)$n(e,s-o+1),s+4<i.length&&Gt(e,16),o=s+1;$n(e,r.index+r[0].length-o+1)}return{type:3,content:n,loc:bi(e,t)}}function Pc(e){const t=ti(e),n=e.source[1]==="?"?1:2;let r;const i=e.source.indexOf(">");return i===-1?(r=e.source.slice(n),$n(e,e.source.length)):(r=e.source.slice(n,i),$n(e,i+1)),{type:3,content:r,loc:bi(e,t)}}function v8(e,t){const n=e.inPre,r=e.inVPre,i=Og(t),o=z0(e,0,i),s=e.inPre&&!n,l=e.inVPre&&!r;if(o.isSelfClosing||e.options.isVoidTag(o.tag))return s&&(e.inPre=!1),l&&(e.inVPre=!1),o;t.push(o);const c=e.options.getTextMode(o,i),h=Bb(e,c,t);t.pop();{const p=o.props.find(m=>m.type===6&&m.name==="inline-template");if(p&&Hf("COMPILER_INLINE_TEMPLATE",e,p.loc)){const m=bi(e,o.loc.end);p.value={type:2,content:m.source,loc:m}}}if(o.children=h,B0(e.source,o.tag))z0(e,1,i);else if(Gt(e,24,0,o.loc.start),e.source.length===0&&o.tag.toLowerCase()==="script"){const p=h[0];p&&ur(p.loc.source,"<!--")&&Gt(e,8)}return o.loc=bi(e,o.loc.start),s&&(e.inPre=!1),l&&(e.inVPre=!1),o}const LE=Br("if,else,else-if,for,slot");function z0(e,t,n){const r=ti(e),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),o=i[1],s=e.options.getNamespace(o,n);$n(e,i[0].length),jf(e);const l=ti(e),c=e.source;e.options.isPreTag(o)&&(e.inPre=!0);let h=ik(e,t);t===0&&!e.inVPre&&h.some(v=>v.type===7&&v.name==="pre")&&(e.inVPre=!0,Wt(e,l),e.source=c,h=ik(e,t).filter(v=>v.name!=="v-pre"));let p=!1;if(e.source.length===0?Gt(e,9):(p=ur(e.source,"/>"),t===1&&p&&Gt(e,4),$n(e,p?2:1)),t===1)return;let m=0;return e.inVPre||(o==="slot"?m=2:o==="template"?h.some(v=>v.type===7&&LE(v.name))&&(m=3):y8(o,h,e)&&(m=1)),{type:1,ns:s,tag:o,tagType:m,props:h,isSelfClosing:p,children:[],loc:bi(e,r),codegenNode:void 0}}function y8(e,t,n){const r=n.options;if(r.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||DE(e)||r.isBuiltInComponent&&r.isBuiltInComponent(e)||r.isNativeTag&&!r.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const o=t[i];if(o.type===6){if(o.name==="is"&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(Hf("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}else{if(o.name==="is")return!0;if(o.name==="bind"&&Ba(o.arg,"is")&&!0&&Hf("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}}function ik(e,t){const n=[],r=new Set;for(;e.source.length>0&&!ur(e.source,">")&&!ur(e.source,"/>");){if(ur(e.source,"/")){Gt(e,22),$n(e,1),jf(e);continue}t===1&&Gt(e,3);const i=b8(e,r);i.type===6&&i.value&&i.name==="class"&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),t===0&&n.push(i),/^[^\t\r\n\f />]/.test(e.source)&&Gt(e,15),jf(e)}return n}function b8(e,t){const n=ti(e),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(i)&&Gt(e,2),t.add(i),i[0]==="="&&Gt(e,19);{const l=/["'<]/g;let c;for(;c=l.exec(i);)Gt(e,17,c.index)}$n(e,i.length);let o;/^[\t\r\n\f ]*=/.test(e.source)&&(jf(e),$n(e,1),jf(e),o=_8(e),o||Gt(e,13));const s=bi(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const l=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let c=ur(i,"."),h=l[1]||(c||ur(i,":")?"bind":ur(i,"@")?"on":"slot"),p;if(l[2]){const v=h==="slot",b=i.lastIndexOf(l[2]),_=bi(e,ok(e,n,b),ok(e,n,b+l[2].length+(v&&l[3]||"").length));let x=l[2],D=!0;x.startsWith("[")?(D=!1,x.endsWith("]")?x=x.slice(1,x.length-1):(Gt(e,27),x=x.slice(1))):v&&(x+=l[3]||""),p={type:4,content:x,isStatic:D,constType:D?3:0,loc:_}}if(o&&o.isQuoted){const v=o.loc;v.start.offset++,v.start.column++,v.end=sp(v.start,o.content),v.source=v.source.slice(1,-1)}const m=l[3]?l[3].slice(1).split("."):[];return c&&m.push("prop"),h==="bind"&&p&&m.includes("sync")&&Hf("COMPILER_V_BIND_SYNC",e,s,p.loc.source)&&(h="model",m.splice(m.indexOf("sync"),1)),{type:7,name:h,exp:o&&{type:4,content:o.content,isStatic:!1,constType:0,loc:o.loc},arg:p,modifiers:m,loc:s}}return!e.inVPre&&ur(i,"v-")&&Gt(e,26),{type:6,name:i,value:o&&{type:2,content:o.content,loc:o.loc},loc:s}}function _8(e){const t=ti(e);let n;const r=e.source[0],i=r==='"'||r==="'";if(i){$n(e,1);const o=e.source.indexOf(r);o===-1?n=lf(e,e.source.length,4):(n=lf(e,o,4),$n(e,1))}else{const o=/^[^\t\r\n\f >]+/.exec(e.source);if(!o)return;const s=/["'<=`]/g;let l;for(;l=s.exec(o[0]);)Gt(e,18,l.index);n=lf(e,o[0].length,4)}return{content:n,isQuoted:i,loc:bi(e,t)}}function w8(e,t){const[n,r]=e.options.delimiters,i=e.source.indexOf(r,n.length);if(i===-1){Gt(e,25);return}const o=ti(e);$n(e,n.length);const s=ti(e),l=ti(e),c=i-n.length,h=e.source.slice(0,c),p=lf(e,c,t),m=p.trim(),v=p.indexOf(m);v>0&&ap(s,h,v);const b=c-(p.length-m.length-v);return ap(l,h,b),$n(e,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:m,loc:bi(e,s,l)},loc:bi(e,o)}}function x8(e,t){const n=t===3?["]]>"]:["<",e.options.delimiters[0]];let r=e.source.length;for(let s=0;s<n.length;s++){const l=e.source.indexOf(n[s],1);l!==-1&&r>l&&(r=l)}const i=ti(e),o=lf(e,r,t);return{type:2,content:o,loc:bi(e,i)}}function lf(e,t,n){const r=e.source.slice(0,t);return $n(e,t),n===2||n===3||!r.includes("&")?r:e.options.decodeEntities(r,n===4)}function ti(e){const{column:t,line:n,offset:r}=e;return{column:t,line:n,offset:r}}function bi(e,t,n){return n=n||ti(e),{start:t,end:n,source:e.originalSource.slice(t.offset,n.offset)}}function Og(e){return e[e.length-1]}function ur(e,t){return e.startsWith(t)}function $n(e,t){const{source:n}=e;ap(e,n,t),e.source=n.slice(t)}function jf(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&$n(e,t[0].length)}function ok(e,t,n){return sp(t,e.originalSource.slice(t.offset,n),n)}function Gt(e,t,n,r=ti(e)){n&&(r.offset+=n,r.column+=n),e.options.onError(fn(t,{start:r,end:r,source:""}))}function k8(e,t,n){const r=e.source;switch(t){case 0:if(ur(r,"</")){for(let i=n.length-1;i>=0;--i)if(B0(r,n[i].tag))return!0}break;case 1:case 2:{const i=Og(n);if(i&&B0(r,i.tag))return!0;break}case 3:if(ur(r,"]]>"))return!0;break}return!r}function B0(e,t){return ur(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function C8(e,t){Nh(e,t,PE(e,e.children[0]))}function PE(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!up(t)}function Nh(e,t,n=!1){const{children:r}=e,i=r.length;let o=0;for(let s=0;s<r.length;s++){const l=r[s];if(l.type===1&&l.tagType===0){const c=n?0:Jr(l,t);if(c>0){if(c>=2){l.codegenNode.patchFlag=-1+"",l.codegenNode=t.hoist(l.codegenNode),o++;continue}}else{const h=l.codegenNode;if(h.type===13){const p=zE(h);if((!p||p===512||p===1)&&FE(l,t)>=2){const m=RE(l);m&&(h.props=t.hoist(m))}h.dynamicProps&&(h.dynamicProps=t.hoist(h.dynamicProps))}}}else l.type===12&&Jr(l.content,t)>=2&&(l.codegenNode=t.hoist(l.codegenNode),o++);if(l.type===1){const c=l.tagType===1;c&&t.scopes.vSlot++,Nh(l,t),c&&t.scopes.vSlot--}else if(l.type===11)Nh(l,t,l.children.length===1);else if(l.type===9)for(let c=0;c<l.branches.length;c++)Nh(l.branches[c],t,l.branches[c].children.length===1)}o&&t.transformHoist&&t.transformHoist(r,t,e),o&&o===i&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Qe(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(ud(e.codegenNode.children)))}function Jr(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=n.get(e);if(r!==void 0)return r;const i=e.codegenNode;if(i.type!==13||i.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(zE(i))return n.set(e,0),0;{let l=3;const c=FE(e,t);if(c===0)return n.set(e,0),0;c<l&&(l=c);for(let h=0;h<e.children.length;h++){const p=Jr(e.children[h],t);if(p===0)return n.set(e,0),0;p<l&&(l=p)}if(l>1)for(let h=0;h<e.props.length;h++){const p=e.props[h];if(p.type===7&&p.name==="bind"&&p.exp){const m=Jr(p.exp,t);if(m===0)return n.set(e,0),0;m<l&&(l=m)}}if(i.isBlock){for(let h=0;h<e.props.length;h++)if(e.props[h].type===7)return n.set(e,0),0;t.removeHelper(rl),t.removeHelper(Lu(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(Nu(t.inSSR,i.isComponent))}return n.set(e,l),l}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Jr(e.content,t);case 4:return e.constType;case 8:let s=3;for(let l=0;l<e.children.length;l++){const c=e.children[l];if(wt(c)||Hs(c))continue;const h=Jr(c,t);if(h===0)return 0;h<s&&(s=h)}return s;default:return 0}}const S8=new Set([Nb,Lb,zf,ld]);function IE(e,t){if(e.type===14&&!wt(e.callee)&&S8.has(e.callee)){const n=e.arguments[0];if(n.type===4)return Jr(n,t);if(n.type===14)return IE(n,t)}return 0}function FE(e,t){let n=3;const r=RE(e);if(r&&r.type===15){const{properties:i}=r;for(let o=0;o<i.length;o++){const{key:s,value:l}=i[o],c=Jr(s,t);if(c===0)return c;c<n&&(n=c);let h;if(l.type===4?h=Jr(l,t):l.type===14?h=IE(l,t):h=0,h===0)return h;h<n&&(n=h)}}return n}function RE(e){const t=e.codegenNode;if(t.type===13)return t.props}function zE(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function T8(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:r=!1,cacheHandlers:i=!1,nodeTransforms:o=[],directiveTransforms:s={},transformHoist:l=null,isBuiltInComponent:c=Tr,isCustomElement:h=Tr,expressionPlugins:p=[],scopeId:m=null,slotted:v=!0,ssr:b=!1,inSSR:_=!1,ssrCssVars:x="",bindingMetadata:D=Vt,inline:E=!1,isTS:T=!1,onError:R=xb,onWarn:M=wE,compatConfig:Y}){const J=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),Z={selfName:J&&gl(dr(J[1])),prefixIdentifiers:n,hoistStatic:r,cacheHandlers:i,nodeTransforms:o,directiveTransforms:s,transformHoist:l,isBuiltInComponent:c,isCustomElement:h,expressionPlugins:p,scopeId:m,slotted:v,ssr:b,inSSR:_,ssrCssVars:x,bindingMetadata:D,inline:E,isTS:T,onError:R,onWarn:M,compatConfig:Y,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(z){const B=Z.helpers.get(z)||0;return Z.helpers.set(z,B+1),z},removeHelper(z){const B=Z.helpers.get(z);if(B){const L=B-1;L?Z.helpers.set(z,L):Z.helpers.delete(z)}},helperString(z){return`_${Mu[Z.helper(z)]}`},replaceNode(z){Z.parent.children[Z.childIndex]=Z.currentNode=z},removeNode(z){const B=Z.parent.children,L=z?B.indexOf(z):Z.currentNode?Z.childIndex:-1;!z||z===Z.currentNode?(Z.currentNode=null,Z.onNodeRemoved()):Z.childIndex>L&&(Z.childIndex--,Z.onNodeRemoved()),Z.parent.children.splice(L,1)},onNodeRemoved:()=>{},addIdentifiers(z){},removeIdentifiers(z){},hoist(z){wt(z)&&(z=Tt(z)),Z.hoists.push(z);const B=Tt(`_hoisted_${Z.hoists.length}`,!1,z.loc,2);return B.hoisted=z,B},cache(z,B=!1){return e8(Z.cached++,z,B)}};return Z.filters=new Set,Z}function E8(e,t){const n=T8(e,t);Ng(e,n),t.hoistStatic&&C8(e,n),t.ssr||A8(e,n),e.helpers=[...n.helpers.keys()],e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function A8(e,t){const{helper:n}=t,{children:r}=e;if(r.length===1){const i=r[0];if(PE(e,i)&&i.codegenNode){const o=i.codegenNode;o.type===13&&zb(o,t),e.codegenNode=o}else e.codegenNode=i}else if(r.length>1){let i=64;e.codegenNode=Bf(t,n(Rf),void 0,e.children,i+"",void 0,void 0,!0,void 0,!1)}}function D8(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];wt(i)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=r,Ng(i,t))}}function Ng(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let o=0;o<n.length;o++){const s=n[o](e,t);if(s&&(Qe(s)?r.push(...s):r.push(s)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(ad);break;case 5:t.ssr||t.helper(Dg);break;case 9:for(let o=0;o<e.branches.length;o++)Ng(e.branches[o],t);break;case 10:case 11:case 1:case 0:D8(e,t);break}t.currentNode=e;let i=r.length;for(;i--;)r[i]()}function BE(e,t){const n=wt(e)?r=>r===e:r=>e.test(r);return(r,i)=>{if(r.type===1){const{props:o}=r;if(r.tagType===3&&o.some(l8))return;const s=[];for(let l=0;l<o.length;l++){const c=o[l];if(c.type===7&&n(c.name)){o.splice(l,1),l--;const h=t(r,c,i);h&&s.push(h)}}return s}}}const Lg="/*#__PURE__*/",$E=e=>`${Mu[e]}: _${Mu[e]}`;function M8(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:o=null,optimizeImports:s=!1,runtimeGlobalName:l="Vue",runtimeModuleName:c="vue",ssrRuntimeModuleName:h="vue/server-renderer",ssr:p=!1,isTS:m=!1,inSSR:v=!1}){const b={mode:t,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:o,optimizeImports:s,runtimeGlobalName:l,runtimeModuleName:c,ssrRuntimeModuleName:h,ssr:p,isTS:m,inSSR:v,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(x){return`_${Mu[x]}`},push(x,D){b.code+=x},indent(){_(++b.indentLevel)},deindent(x=!1){x?--b.indentLevel:_(--b.indentLevel)},newline(){_(b.indentLevel)}};function _(x){b.push(`
`+"  ".repeat(x))}return b}function O8(e,t={}){const n=M8(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:o,indent:s,deindent:l,newline:c,scopeId:h,ssr:p}=n,m=e.helpers.length>0,v=!o&&r!=="module";N8(e,n);const _=p?"ssrRender":"render",D=(p?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${_}(${D}) {`),s(),v&&(i("with (_ctx) {"),s(),m&&(i(`const { ${e.helpers.map($E).join(", ")} } = _Vue`),i(`
`),c())),e.components.length&&(yv(e.components,"component",n),(e.directives.length||e.temps>0)&&c()),e.directives.length&&(yv(e.directives,"directive",n),e.temps>0&&c()),e.filters&&e.filters.length&&(c(),yv(e.filters,"filter",n),c()),e.temps>0){i("let ");for(let E=0;E<e.temps;E++)i(`${E>0?", ":""}_temp${E}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`),c()),p||i("return "),e.codegenNode?fr(e.codegenNode,n):i("null"),v&&(l(),i("}")),l(),i("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function N8(e,t){const{ssr:n,prefixIdentifiers:r,push:i,newline:o,runtimeModuleName:s,runtimeGlobalName:l,ssrRuntimeModuleName:c}=t,h=l;if(e.helpers.length>0&&(i(`const _Vue = ${h}
`),e.hoists.length)){const p=[Cb,Sb,ad,Tb,SE].filter(m=>e.helpers.includes(m)).map($E).join(", ");i(`const { ${p} } = _Vue
`)}L8(e.hoists,t),o(),i("return ")}function yv(e,t,{helper:n,push:r,newline:i,isTS:o}){const s=n(t==="filter"?Db:t==="component"?Eb:Ab);for(let l=0;l<e.length;l++){let c=e[l];const h=c.endsWith("__self");h&&(c=c.slice(0,-6)),r(`const ${$f(c,t)} = ${s}(${JSON.stringify(c)}${h?", true":""})${o?"!":""}`),l<e.length-1&&i()}}function L8(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r,helper:i,scopeId:o,mode:s}=t;r();for(let l=0;l<e.length;l++){const c=e[l];c&&(n(`const _hoisted_${l+1} = `),fr(c,t),r())}t.pure=!1}function $b(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),cd(e,t,n),n&&t.deindent(),t.push("]")}function cd(e,t,n=!1,r=!0){const{push:i,newline:o}=t;for(let s=0;s<e.length;s++){const l=e[s];wt(l)?i(l):Qe(l)?$b(l,t):fr(l,t),s<e.length-1&&(n?(r&&i(","),o()):r&&i(", "))}}function fr(e,t){if(wt(e)){t.push(e);return}if(Hs(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:fr(e.codegenNode,t);break;case 2:P8(e,t);break;case 4:HE(e,t);break;case 5:I8(e,t);break;case 12:fr(e.codegenNode,t);break;case 8:jE(e,t);break;case 3:R8(e,t);break;case 13:z8(e,t);break;case 14:$8(e,t);break;case 15:H8(e,t);break;case 17:j8(e,t);break;case 18:V8(e,t);break;case 19:W8(e,t);break;case 20:U8(e,t);break;case 21:cd(e.body,t,!0,!1);break}}function P8(e,t){t.push(JSON.stringify(e.content),e)}function HE(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,e)}function I8(e,t){const{push:n,helper:r,pure:i}=t;i&&n(Lg),n(`${r(Dg)}(`),fr(e.content,t),n(")")}function jE(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];wt(r)?t.push(r):fr(r,t)}}function F8(e,t){const{push:n}=t;if(e.type===8)n("["),jE(e,t),n("]");else if(e.isStatic){const r=Rb(e.content)?e.content:JSON.stringify(e.content);n(r,e)}else n(`[${e.content}]`,e)}function R8(e,t){const{push:n,helper:r,pure:i}=t;i&&n(Lg),n(`${r(ad)}(${JSON.stringify(e.content)})`,e)}function z8(e,t){const{push:n,helper:r,pure:i}=t,{tag:o,props:s,children:l,patchFlag:c,dynamicProps:h,directives:p,isBlock:m,disableTracking:v,isComponent:b}=e;p&&n(r(Mb)+"("),m&&n(`(${r(rl)}(${v?"true":""}), `),i&&n(Lg);const _=m?Lu(t.inSSR,b):Nu(t.inSSR,b);n(r(_)+"(",e),cd(B8([o,s,l,c,h]),t),n(")"),m&&n(")"),p&&(n(", "),fr(p,t),n(")"))}function B8(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function $8(e,t){const{push:n,helper:r,pure:i}=t,o=wt(e.callee)?e.callee:r(e.callee);i&&n(Lg),n(o+"(",e),cd(e.arguments,t),n(")")}function H8(e,t){const{push:n,indent:r,deindent:i,newline:o}=t,{properties:s}=e;if(!s.length){n("{}",e);return}const l=s.length>1||!1;n(l?"{":"{ "),l&&r();for(let c=0;c<s.length;c++){const{key:h,value:p}=s[c];F8(h,t),n(": "),fr(p,t),c<s.length-1&&(n(","),o())}l&&i(),n(l?"}":" }")}function j8(e,t){$b(e.elements,t)}function V8(e,t){const{push:n,indent:r,deindent:i}=t,{params:o,returns:s,body:l,newline:c,isSlot:h}=e;h&&n(`_${Mu[Ib]}(`),n("(",e),Qe(o)?cd(o,t):o&&fr(o,t),n(") => "),(c||l)&&(n("{"),r()),s?(c&&n("return "),Qe(s)?$b(s,t):fr(s,t)):l&&fr(l,t),(c||l)&&(i(),n("}")),h&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function W8(e,t){const{test:n,consequent:r,alternate:i,newline:o}=e,{push:s,indent:l,deindent:c,newline:h}=t;if(n.type===4){const m=!Rb(n.content);m&&s("("),HE(n,t),m&&s(")")}else s("("),fr(n,t),s(")");o&&l(),t.indentLevel++,o||s(" "),s("? "),fr(r,t),t.indentLevel--,o&&h(),o||s(" "),s(": ");const p=i.type===19;p||t.indentLevel++,fr(i,t),p||t.indentLevel--,o&&c(!0)}function U8(e,t){const{push:n,helper:r,indent:i,deindent:o,newline:s}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(i(),n(`${r(op)}(-1),`),s()),n(`_cache[${e.index}] = `),fr(e.value,t),e.isVNode&&(n(","),s(),n(`${r(op)}(1),`),s(),n(`_cache[${e.index}]`),o()),n(")")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");const K8=BE(/^(if|else|else-if)$/,(e,t,n)=>q8(e,t,n,(r,i,o)=>{const s=n.parent.children;let l=s.indexOf(r),c=0;for(;l-->=0;){const h=s[l];h&&h.type===9&&(c+=h.branches.length)}return()=>{if(o)r.codegenNode=ak(i,c,n);else{const h=G8(r.codegenNode);h.alternate=ak(i,c+r.branches.length-1,n)}}}));function q8(e,t,n,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(fn(28,t.loc)),t.exp=Tt("true",!1,i)}if(t.name==="if"){const i=sk(e,t),o={type:9,loc:e.loc,branches:[i]};if(n.replaceNode(o),r)return r(o,i,!0)}else{const i=n.parent.children;let o=i.indexOf(e);for(;o-->=-1;){const s=i[o];if(s&&s.type===2&&!s.content.trim().length){n.removeNode(s);continue}if(s&&s.type===9){t.name==="else-if"&&s.branches[s.branches.length-1].condition===void 0&&n.onError(fn(30,e.loc)),n.removeNode();const l=sk(e,t);s.branches.push(l);const c=r&&r(s,l,!1);Ng(l,n),c&&c(),n.currentNode=null}else n.onError(fn(30,e.loc));break}}}function sk(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!hi(e,"for")?e.children:[e],userKey:Mg(e,"key"),isTemplateIf:n}}function ak(e,t,n){return e.condition?R0(e.condition,lk(e,t,n),Mn(n.helper(ad),['""',"true"])):lk(e,t,n)}function lk(e,t,n){const{helper:r}=n,i=An("key",Tt(`${t}`,!1,oi,2)),{children:o}=e,s=o[0];if(o.length!==1||s.type!==1)if(o.length===1&&s.type===11){const c=s.codegenNode;return cp(c,i,n),c}else{let c=64;return Bf(n,r(Rf),pi([i]),o,c+"",void 0,void 0,!0,!1,!1,e.loc)}else{const c=s.codegenNode,h=c8(c);return h.type===13&&zb(h,n),cp(h,i,n),c}}function G8(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const Y8=BE("for",(e,t,n)=>{const{helper:r,removeHelper:i}=n;return J8(e,t,n,o=>{const s=Mn(r(Ob),[o.source]),l=lp(e),c=hi(e,"memo"),h=Mg(e,"key"),p=h&&(h.type===6?Tt(h.value.content,!0):h.exp),m=h?An("key",p):null,v=o.source.type===4&&o.source.constType>0,b=v?64:h?128:256;return o.codegenNode=Bf(n,r(Rf),void 0,s,b+"",void 0,void 0,!0,!v,!1,e.loc),()=>{let _;const{children:x}=o,D=x.length!==1||x[0].type!==1,E=up(e)?e:l&&e.children.length===1&&up(e.children[0])?e.children[0]:null;if(E?(_=E.codegenNode,l&&m&&cp(_,m,n)):D?_=Bf(n,r(Rf),m?pi([m]):void 0,e.children,64+"",void 0,void 0,!0,void 0,!1):(_=x[0].codegenNode,l&&m&&cp(_,m,n),_.isBlock!==!v&&(_.isBlock?(i(rl),i(Lu(n.inSSR,_.isComponent))):i(Nu(n.inSSR,_.isComponent))),_.isBlock=!v,_.isBlock?(r(rl),r(Lu(n.inSSR,_.isComponent))):r(Nu(n.inSSR,_.isComponent))),c){const T=Ou($0(o.parseResult,[Tt("_cached")]));T.body=t8([Bi(["const _memo = (",c.exp,")"]),Bi(["if (_cached",...p?[" && _cached.key === ",p]:[],` && ${n.helperString(AE)}(_cached, _memo)) return _cached`]),Bi(["const _item = ",_]),Tt("_item.memo = _memo"),Tt("return _item")]),s.arguments.push(T,Tt("_cache"),Tt(String(n.cached++)))}else s.arguments.push(Ou($0(o.parseResult),_,!0))}})});function J8(e,t,n,r){if(!t.exp){n.onError(fn(31,t.loc));return}const i=VE(t.exp);if(!i){n.onError(fn(32,t.loc));return}const{addIdentifiers:o,removeIdentifiers:s,scopes:l}=n,{source:c,value:h,key:p,index:m}=i,v={type:11,loc:t.loc,source:c,valueAlias:h,keyAlias:p,objectIndexAlias:m,parseResult:i,children:lp(e)?e.children:[e]};n.replaceNode(v),l.vFor++;const b=r&&r(v);return()=>{l.vFor--,b&&b()}}const X8=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,uk=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Z8=/^\(|\)$/g;function VE(e,t){const n=e.loc,r=e.content,i=r.match(X8);if(!i)return;const[,o,s]=i,l={source:fh(n,s.trim(),r.indexOf(s,o.length)),value:void 0,key:void 0,index:void 0};let c=o.trim().replace(Z8,"").trim();const h=o.indexOf(c),p=c.match(uk);if(p){c=c.replace(uk,"").trim();const m=p[1].trim();let v;if(m&&(v=r.indexOf(m,h+c.length),l.key=fh(n,m,v)),p[2]){const b=p[2].trim();b&&(l.index=fh(n,b,r.indexOf(b,l.key?v+m.length:h+c.length)))}}return c&&(l.value=fh(n,c,h)),l}function fh(e,t,n){return Tt(t,!1,OE(e,n,t.length))}function $0({value:e,key:t,index:n},r=[]){return Q8([e,t,n,...r])}function Q8(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,r)=>n||Tt("_".repeat(r+1),!1))}const ck=Tt("undefined",!1),eI=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=hi(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},tI=(e,t,n)=>Ou(e,t,!1,!0,t.length?t[0].loc:n);function nI(e,t,n=tI){t.helper(Ib);const{children:r,loc:i}=e,o=[],s=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const c=hi(e,"slot",!0);if(c){const{arg:x,exp:D}=c;x&&!ei(x)&&(l=!0),o.push(An(x||Tt("default",!0),n(D,r,i)))}let h=!1,p=!1;const m=[],v=new Set;for(let x=0;x<r.length;x++){const D=r[x];let E;if(!lp(D)||!(E=hi(D,"slot",!0))){D.type!==3&&m.push(D);continue}if(c){t.onError(fn(37,E.loc));break}h=!0;const{children:T,loc:R}=D,{arg:M=Tt("default",!0),exp:Y,loc:J}=E;let Z;ei(M)?Z=M?M.content:"default":l=!0;const z=n(Y,T,R);let B,L,V;if(B=hi(D,"if"))l=!0,s.push(R0(B.exp,dh(M,z),ck));else if(L=hi(D,/^else(-if)?$/,!0)){let ie=x,W;for(;ie--&&(W=r[ie],W.type===3););if(W&&lp(W)&&hi(W,"if")){r.splice(x,1),x--;let Q=s[s.length-1];for(;Q.alternate.type===19;)Q=Q.alternate;Q.alternate=L.exp?R0(L.exp,dh(M,z),ck):dh(M,z)}else t.onError(fn(30,L.loc))}else if(V=hi(D,"for")){l=!0;const ie=V.parseResult||VE(V.exp);ie?s.push(Mn(t.helper(Ob),[ie.source,Ou($0(ie),dh(M,z),!0)])):t.onError(fn(32,V.loc))}else{if(Z){if(v.has(Z)){t.onError(fn(38,J));continue}v.add(Z),Z==="default"&&(p=!0)}o.push(An(M,z))}}if(!c){const x=(D,E)=>{const T=n(D,E,i);return t.compatConfig&&(T.isNonScopedSlot=!0),An("default",T)};h?m.length&&m.some(D=>WE(D))&&(p?t.onError(fn(39,m[0].loc)):o.push(x(void 0,m))):o.push(x(void 0,r))}const b=l?2:Lh(e.children)?3:1;let _=pi(o.concat(An("_",Tt(b+"",!1))),i);return s.length&&(_=Mn(t.helper(EE),[_,ud(s)])),{slots:_,hasDynamicSlots:l}}function dh(e,t){return pi([An("name",e),An("fn",t)])}function Lh(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||Lh(n.children))return!0;break;case 9:if(Lh(n.branches))return!0;break;case 10:case 11:if(Lh(n.children))return!0;break}}return!1}function WE(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():WE(e.content)}const UE=new WeakMap,rI=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:i}=e,o=e.tagType===1;let s=o?iI(e,t):`"${r}"`;const l=dn(s)&&s.callee===rp;let c,h,p,m=0,v,b,_,x=l||s===af||s===kb||!o&&(r==="svg"||r==="foreignObject");if(i.length>0){const D=KE(e,t,void 0,o,l);c=D.props,m=D.patchFlag,b=D.dynamicPropNames;const E=D.directives;_=E&&E.length?ud(E.map(T=>sI(T,t))):void 0,D.shouldUseBlock&&(x=!0)}if(e.children.length>0)if(s===np&&(x=!0,m|=1024),o&&s!==af&&s!==np){const{slots:E,hasDynamicSlots:T}=nI(e,t);h=E,T&&(m|=1024)}else if(e.children.length===1&&s!==af){const E=e.children[0],T=E.type,R=T===5||T===8;R&&Jr(E,t)===0&&(m|=1),R||T===2?h=E:h=e.children}else h=e.children;m!==0&&(p=String(m),b&&b.length&&(v=aI(b))),e.codegenNode=Bf(t,s,c,h,p,v,_,!!x,!1,o,e.loc)};function iI(e,t,n=!1){let{tag:r}=e;const i=H0(r),o=Mg(e,"is");if(o)if(i||Ga("COMPILER_IS_ON_ELEMENT",t)){const c=o.type===6?o.value&&Tt(o.value.content,!0):o.exp;if(c)return Mn(t.helper(rp),[c])}else o.type===6&&o.value.content.startsWith("vue:")&&(r=o.value.content.slice(4));const s=!i&&hi(e,"is");if(s&&s.exp)return Mn(t.helper(rp),[s.exp]);const l=DE(r)||t.isBuiltInComponent(r);return l?(n||t.helper(l),l):(t.helper(Eb),t.components.add(r),$f(r,"component"))}function KE(e,t,n=e.props,r,i,o=!1){const{tag:s,loc:l,children:c}=e;let h=[];const p=[],m=[],v=c.length>0;let b=!1,_=0,x=!1,D=!1,E=!1,T=!1,R=!1,M=!1;const Y=[],J=({key:z,value:B})=>{if(ei(z)){const L=z.content,V=hl(L);if(V&&(!r||i)&&L.toLowerCase()!=="onclick"&&L!=="onUpdate:modelValue"&&!Va(L)&&(T=!0),V&&Va(L)&&(M=!0),B.type===20||(B.type===4||B.type===8)&&Jr(B,t)>0)return;L==="ref"?x=!0:L==="class"?D=!0:L==="style"?E=!0:L!=="key"&&!Y.includes(L)&&Y.push(L),r&&(L==="class"||L==="style")&&!Y.includes(L)&&Y.push(L)}else R=!0};for(let z=0;z<n.length;z++){const B=n[z];if(B.type===6){const{loc:L,name:V,value:ie}=B;let W=!0;if(V==="ref"&&(x=!0,t.scopes.vFor>0&&h.push(An(Tt("ref_for",!0),Tt("true")))),V==="is"&&(H0(s)||ie&&ie.content.startsWith("vue:")||Ga("COMPILER_IS_ON_ELEMENT",t)))continue;h.push(An(Tt(V,!0,OE(L,0,V.length)),Tt(ie?ie.content:"",W,ie?ie.loc:L)))}else{const{name:L,arg:V,exp:ie,loc:W}=B,Q=L==="bind",I=L==="on";if(L==="slot"){r||t.onError(fn(40,W));continue}if(L==="once"||L==="memo"||L==="is"||Q&&Ba(V,"is")&&(H0(s)||Ga("COMPILER_IS_ON_ELEMENT",t))||I&&o)continue;if((Q&&Ba(V,"key")||I&&v&&Ba(V,"vue:before-update"))&&(b=!0),Q&&Ba(V,"ref")&&t.scopes.vFor>0&&h.push(An(Tt("ref_for",!0),Tt("true"))),!V&&(Q||I)){if(R=!0,ie)if(h.length&&(p.push(pi(bv(h),l)),h=[]),Q){if(Ga("COMPILER_V_BIND_OBJECT_ORDER",t)){p.unshift(ie);continue}p.push(ie)}else p.push({type:14,loc:W,callee:t.helper(Pb),arguments:[ie]});else t.onError(fn(Q?34:35,W));continue}const de=t.directiveTransforms[L];if(de){const{props:pe,needRuntime:Se}=de(B,e,t);!o&&pe.forEach(J),h.push(...pe),Se&&(m.push(B),Hs(Se)&&UE.set(B,Se))}else Q4(L)||(m.push(B),v&&(b=!0))}}let Z;if(p.length?(h.length&&p.push(pi(bv(h),l)),p.length>1?Z=Mn(t.helper(ip),p,l):Z=p[0]):h.length&&(Z=pi(bv(h),l)),R?_|=16:(D&&!r&&(_|=2),E&&!r&&(_|=4),Y.length&&(_|=8),T&&(_|=32)),!b&&(_===0||_===32)&&(x||M||m.length>0)&&(_|=512),!t.inSSR&&Z)switch(Z.type){case 15:let z=-1,B=-1,L=!1;for(let W=0;W<Z.properties.length;W++){const Q=Z.properties[W].key;ei(Q)?Q.content==="class"?z=W:Q.content==="style"&&(B=W):Q.isHandlerKey||(L=!0)}const V=Z.properties[z],ie=Z.properties[B];L?Z=Mn(t.helper(zf),[Z]):(V&&!ei(V.value)&&(V.value=Mn(t.helper(Nb),[V.value])),ie&&(E||ie.value.type===4&&ie.value.content.trim()[0]==="["||ie.value.type===17)&&(ie.value=Mn(t.helper(Lb),[ie.value])));break;case 14:break;default:Z=Mn(t.helper(zf),[Mn(t.helper(ld),[Z])]);break}return{props:Z,directives:m,patchFlag:_,dynamicPropNames:Y,shouldUseBlock:b}}function bv(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const o=i.key.content,s=t.get(o);s?(o==="style"||o==="class"||hl(o))&&oI(s,i):(t.set(o,i),n.push(i))}return n}function oI(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=ud([e.value,t.value],e.loc)}function sI(e,t){const n=[],r=UE.get(e);r?n.push(t.helperString(r)):(t.helper(Ab),t.directives.add(e.name),n.push($f(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const o=Tt("true",!1,i);n.push(pi(e.modifiers.map(s=>An(s,o)),i))}return ud(n,e.loc)}function aI(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}function H0(e){return e==="component"||e==="Component"}const lI=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},uI=/-(\w)/g,fk=lI(e=>e.replace(uI,(t,n)=>n?n.toUpperCase():"")),cI=(e,t)=>{if(up(e)){const{children:n,loc:r}=e,{slotName:i,slotProps:o}=fI(e,t),s=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let l=2;o&&(s[2]=o,l=3),n.length&&(s[3]=Ou([],n,!1,!1,r),l=4),t.scopeId&&!t.slotted&&(l=5),s.splice(l),e.codegenNode=Mn(t.helper(TE),s,r)}};function fI(e,t){let n='"default"',r;const i=[];for(let o=0;o<e.props.length;o++){const s=e.props[o];s.type===6?s.value&&(s.name==="name"?n=JSON.stringify(s.value.content):(s.name=fk(s.name),i.push(s))):s.name==="bind"&&Ba(s.arg,"name")?s.exp&&(n=s.exp):(s.name==="bind"&&s.arg&&ei(s.arg)&&(s.arg.content=fk(s.arg.content)),i.push(s))}if(i.length>0){const{props:o,directives:s}=KE(e,t,i,!1,!1);r=o,s.length&&t.onError(fn(36,s[0].loc))}return{slotName:n,slotProps:r}}const dI=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,qE=(e,t,n,r)=>{const{loc:i,modifiers:o,arg:s}=e;!e.exp&&!o.length&&n.onError(fn(35,i));let l;if(s.type===4)if(s.isStatic){let m=s.content;m.startsWith("vue:")&&(m=`vnode-${m.slice(4)}`),l=Tt(mu(dr(m)),!0,s.loc)}else l=Bi([`${n.helperString(F0)}(`,s,")"]);else l=s,l.children.unshift(`${n.helperString(F0)}(`),l.children.push(")");let c=e.exp;c&&!c.content.trim()&&(c=void 0);let h=n.cacheHandlers&&!c&&!n.inVOnce;if(c){const m=ME(c.content),v=!(m||dI.test(c.content)),b=c.content.includes(";");(v||h&&m)&&(c=Bi([`${v?"$event":"(...args)"} => ${b?"{":"("}`,c,b?"}":")"]))}let p={props:[An(l,c||Tt("() => {}",!1,i))]};return r&&(p=r(p)),h&&(p.props[0].value=n.cache(p.props[0].value)),p.props.forEach(m=>m.key.isHandlerKey=!0),p},hI=(e,t,n)=>{const{exp:r,modifiers:i,loc:o}=e,s=e.arg;return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.includes("camel")&&(s.type===4?s.isStatic?s.content=dr(s.content):s.content=`${n.helperString(I0)}(${s.content})`:(s.children.unshift(`${n.helperString(I0)}(`),s.children.push(")"))),n.inSSR||(i.includes("prop")&&dk(s,"."),i.includes("attr")&&dk(s,"^")),!r||r.type===4&&!r.content.trim()?(n.onError(fn(34,o)),{props:[An(s,Tt("",!0,o))]}):{props:[An(s,r)]}},dk=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},pI=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let r,i=!1;for(let o=0;o<n.length;o++){const s=n[o];if(vv(s)){i=!0;for(let l=o+1;l<n.length;l++){const c=n[l];if(vv(c))r||(r=n[o]=Bi([s],s.loc)),r.children.push(" + ",c),n.splice(l,1),l--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(o=>o.type===7&&!t.directiveTransforms[o.name])&&e.tag!=="template")))for(let o=0;o<n.length;o++){const s=n[o];if(vv(s)||s.type===8){const l=[];(s.type!==2||s.content!==" ")&&l.push(s),!t.ssr&&Jr(s,t)===0&&l.push(1+""),n[o]={type:12,content:s,loc:s.loc,codegenNode:Mn(t.helper(Tb),l)}}}}},hk=new WeakSet,gI=(e,t)=>{if(e.type===1&&hi(e,"once",!0))return hk.has(e)||t.inVOnce?void 0:(hk.add(e),t.inVOnce=!0,t.helper(op),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0))})},GE=(e,t,n)=>{const{exp:r,arg:i}=e;if(!r)return n.onError(fn(41,e.loc)),_v();const o=r.loc.source,s=r.type===4?r.content:o;n.bindingMetadata[o];const l=!1;if(!s.trim()||!ME(s)&&!l)return n.onError(fn(42,r.loc)),_v();const c=i||Tt("modelValue",!0),h=i?ei(i)?`onUpdate:${i.content}`:Bi(['"onUpdate:" + ',i]):"onUpdate:modelValue";let p;const m=n.isTS?"($event: any)":"$event";p=Bi([`${m} => ((`,r,") = $event)"]);const v=[An(c,e.exp),An(h,p)];if(e.modifiers.length&&t.tagType===1){const b=e.modifiers.map(x=>(Rb(x)?x:JSON.stringify(x))+": true").join(", "),_=i?ei(i)?`${i.content}Modifiers`:Bi([i,' + "Modifiers"']):"modelModifiers";v.push(An(_,Tt(`{ ${b} }`,!1,e.loc,2)))}return _v(v)};function _v(e=[]){return{props:e}}const mI=/[\w).+\-_$\]]/,vI=(e,t)=>{!Ga("COMPILER_FILTER",t)||(e.type===5&&fp(e.content,t),e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&fp(n.exp,t)}))};function fp(e,t){if(e.type===4)pk(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];typeof r=="object"&&(r.type===4?pk(r,t):r.type===8?fp(e,t):r.type===5&&fp(r.content,t))}}function pk(e,t){const n=e.content;let r=!1,i=!1,o=!1,s=!1,l=0,c=0,h=0,p=0,m,v,b,_,x=[];for(b=0;b<n.length;b++)if(v=m,m=n.charCodeAt(b),r)m===39&&v!==92&&(r=!1);else if(i)m===34&&v!==92&&(i=!1);else if(o)m===96&&v!==92&&(o=!1);else if(s)m===47&&v!==92&&(s=!1);else if(m===124&&n.charCodeAt(b+1)!==124&&n.charCodeAt(b-1)!==124&&!l&&!c&&!h)_===void 0?(p=b+1,_=n.slice(0,b).trim()):D();else{switch(m){case 34:i=!0;break;case 39:r=!0;break;case 96:o=!0;break;case 40:h++;break;case 41:h--;break;case 91:c++;break;case 93:c--;break;case 123:l++;break;case 125:l--;break}if(m===47){let E=b-1,T;for(;E>=0&&(T=n.charAt(E),T===" ");E--);(!T||!mI.test(T))&&(s=!0)}}_===void 0?_=n.slice(0,b).trim():p!==0&&D();function D(){x.push(n.slice(p,b).trim()),p=b+1}if(x.length){for(b=0;b<x.length;b++)_=yI(_,x[b],t);e.content=_}}function yI(e,t,n){n.helper(Db);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${$f(t,"filter")}(${e})`;{const i=t.slice(0,r),o=t.slice(r+1);return n.filters.add(i),`${$f(i,"filter")}(${e}${o!==")"?","+o:o}`}}const gk=new WeakSet,bI=(e,t)=>{if(e.type===1){const n=hi(e,"memo");return!n||gk.has(e)?void 0:(gk.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&zb(r,t),e.codegenNode=Mn(t.helper(Fb),[n.exp,Ou(void 0,r),"_cache",String(t.cached++)]))})}};function _I(e){return[[gI,K8,bI,Y8,vI,cI,rI,eI,pI],{on:qE,bind:hI,model:GE}]}function wI(e,t={}){const n=t.onError||xb,r=t.mode==="module";t.prefixIdentifiers===!0?n(fn(46)):r&&n(fn(47));const i=!1;t.cacheHandlers&&n(fn(48)),t.scopeId&&!r&&n(fn(49));const o=wt(e)?h8(e,t):e,[s,l]=_I();return E8(o,Wt({},t,{prefixIdentifiers:i,nodeTransforms:[...s,...t.nodeTransforms||[]],directiveTransforms:Wt({},l,t.directiveTransforms||{})})),O8(o,Wt({},t,{prefixIdentifiers:i}))}const xI=()=>({props:[]}),YE=Symbol(""),JE=Symbol(""),XE=Symbol(""),ZE=Symbol(""),j0=Symbol(""),QE=Symbol(""),eA=Symbol(""),tA=Symbol(""),nA=Symbol(""),rA=Symbol("");ZP({[YE]:"vModelRadio",[JE]:"vModelCheckbox",[XE]:"vModelText",[ZE]:"vModelSelect",[j0]:"vModelDynamic",[QE]:"withModifiers",[eA]:"withKeys",[tA]:"vShow",[nA]:"Transition",[rA]:"TransitionGroup"});let Gl;function kI(e,t=!1){return Gl||(Gl=document.createElement("div")),t?(Gl.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Gl.children[0].getAttribute("foo")):(Gl.innerHTML=e,Gl.textContent)}const CI=Br("style,iframe,script,noscript",!0),SI={isVoidTag:G4,isNativeTag:e=>K4(e)||q4(e),isPreTag:e=>e==="pre",decodeEntities:kI,isBuiltInComponent:e=>{if(nu(e,"Transition"))return nA;if(nu(e,"TransitionGroup"))return rA},getNamespace(e,t){let n=t?t.ns:0;if(t&&n===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(n=0);else t&&n===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(n=0);if(n===0){if(e==="svg")return 1;if(e==="math")return 2}return n},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(CI(e))return 2}return 0}},TI=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:Tt("style",!0,t.loc),exp:EI(t.value.content,t.loc),modifiers:[],loc:t.loc})})},EI=(e,t)=>{const n=$2(e);return Tt(JSON.stringify(n),!1,t,3)};function Bo(e,t){return fn(e,t)}const AI=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Bo(50,i)),t.children.length&&(n.onError(Bo(51,i)),t.children.length=0),{props:[An(Tt("innerHTML",!0,i),r||Tt("",!0))]}},DI=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Bo(52,i)),t.children.length&&(n.onError(Bo(53,i)),t.children.length=0),{props:[An(Tt("textContent",!0),r?Jr(r,n)>0?r:Mn(n.helperString(Dg),[r],i):Tt("",!0))]}},MI=(e,t,n)=>{const r=GE(e,t,n);if(!r.props.length||t.tagType===1)return r;e.arg&&n.onError(Bo(55,e.arg.loc));const{tag:i}=t,o=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||o){let s=XE,l=!1;if(i==="input"||o){const c=Mg(t,"type");if(c){if(c.type===7)s=j0;else if(c.value)switch(c.value.content){case"radio":s=YE;break;case"checkbox":s=JE;break;case"file":l=!0,n.onError(Bo(56,e.loc));break}}else a8(t)&&(s=j0)}else i==="select"&&(s=ZE);l||(r.needRuntime=n.helper(s))}else n.onError(Bo(54,e.loc));return r.props=r.props.filter(s=>!(s.key.type===4&&s.key.content==="modelValue")),r},OI=Br("passive,once,capture"),NI=Br("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),LI=Br("left,right"),iA=Br("onkeyup,onkeydown,onkeypress",!0),PI=(e,t,n,r)=>{const i=[],o=[],s=[];for(let l=0;l<t.length;l++){const c=t[l];c==="native"&&Hf("COMPILER_V_ON_NATIVE",n)||OI(c)?s.push(c):LI(c)?ei(e)?iA(e.content)?i.push(c):o.push(c):(i.push(c),o.push(c)):NI(c)?o.push(c):i.push(c)}return{keyModifiers:i,nonKeyModifiers:o,eventOptionModifiers:s}},mk=(e,t)=>ei(e)&&e.content.toLowerCase()==="onclick"?Tt(t,!0):e.type!==4?Bi(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,II=(e,t,n)=>qE(e,t,n,r=>{const{modifiers:i}=e;if(!i.length)return r;let{key:o,value:s}=r.props[0];const{keyModifiers:l,nonKeyModifiers:c,eventOptionModifiers:h}=PI(o,i,n,e.loc);if(c.includes("right")&&(o=mk(o,"onContextmenu")),c.includes("middle")&&(o=mk(o,"onMouseup")),c.length&&(s=Mn(n.helper(QE),[s,JSON.stringify(c)])),l.length&&(!ei(o)||iA(o.content))&&(s=Mn(n.helper(eA),[s,JSON.stringify(l)])),h.length){const p=h.map(gl).join("");o=ei(o)?Tt(`${o.content}${p}`,!0):Bi(["(",o,`) + "${p}"`])}return{props:[An(o,s)]}}),FI=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Bo(58,i)),{props:[],needRuntime:n.helper(tA)}},RI=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(Bo(60,e.loc)),t.removeNode())},zI=[TI],BI={cloak:xI,html:AI,text:DI,model:MI,on:II,show:FI};function $I(e,t={}){return wI(e,Wt({},SI,t,{nodeTransforms:[RI,...zI,...t.nodeTransforms||[]],directiveTransforms:Wt({},BI,t.directiveTransforms||{}),transformHoist:null}))}const vk=Object.create(null);function HI(e,t){if(!wt(e))if(e.nodeType)e=e.innerHTML;else return Tr;const n=e,r=vk[n];if(r)return r;if(e[0]==="#"){const s=document.querySelector(e);e=s?s.innerHTML:""}const{code:i}=$I(e,Wt({hoistStatic:!0,onError:void 0,onWarn:Tr},t)),o=new Function("Vue",i)(KP);return o._rc=!0,vk[n]=o}XT(HI);function jI(e){return e=e||Object.create(null),{on:function(n,r){(e[n]||(e[n]=[])).push(r)},off:function(n,r){e[n]&&e[n].splice(e[n].indexOf(r)>>>0,1)},emit:function(n,r){(e[n]||[]).slice().map(function(i){i(r)}),(e["*"]||[]).slice().map(function(i){i(n,r)})}}}function es(e){return e.split("-")[0]}function bu(e){return e.split("-")[1]}function fd(e){return["top","bottom"].includes(es(e))?"x":"y"}function Hb(e){return e==="y"?"height":"width"}function yk(e){let{reference:t,floating:n,placement:r}=e;const i=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2;let s;switch(es(r)){case"top":s={x:i,y:t.y-n.height};break;case"bottom":s={x:i,y:t.y+t.height};break;case"right":s={x:t.x+t.width,y:o};break;case"left":s={x:t.x-n.width,y:o};break;default:s={x:t.x,y:t.y}}const l=fd(r),c=Hb(l);switch(bu(r)){case"start":s[l]=s[l]-(t[c]/2-n[c]/2);break;case"end":s[l]=s[l]+(t[c]/2-n[c]/2);break}return s}const VI=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n;let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:h}=yk(Kt(Ne({},l),{placement:r})),p=r,m={};for(let v=0;v<o.length;v++){const{name:b,fn:_}=o[v],{x,y:D,data:E,reset:T}=await _({x:c,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:l,platform:s,elements:{reference:e,floating:t}});if(c=x!=null?x:c,h=D!=null?D:h,m=Kt(Ne({},m),{[b]:E!=null?E:{}}),T){typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(l=T.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):T.rects),{x:c,y:h}=yk(Kt(Ne({},l),{placement:p}))),v=-1;continue}}return{x:c,y:h,placement:p,strategy:i,middlewareData:m}};function WI(e){return Ne({top:0,right:0,bottom:0,left:0},e)}function oA(e){return typeof e!="number"?WI(e):{top:e,right:e,bottom:e,left:e}}function V0(e){return Kt(Ne({},e),{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}async function Pg(e,t){t===void 0&&(t={});const{x:n,y:r,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingParents",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:v=0}=t,b=oA(v),x=s[m?p==="floating"?"reference":"floating":p],D=await i.getClippingClientRect({element:await i.isElement(x)?x:x.contextElement||await i.getDocumentElement({element:s.floating}),boundary:c,rootBoundary:h}),E=V0(await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:p==="floating"?Kt(Ne({},o.floating),{x:n,y:r}):o.reference,offsetParent:await i.getOffsetParent({element:s.floating}),strategy:l}));return{top:D.top-E.top+b.top,bottom:E.bottom-D.bottom+b.bottom,left:D.left-E.left+b.left,right:E.right-D.right+b.right}}const UI=Math.min,Ma=Math.max;function W0(e,t,n){return Ma(e,UI(t,n))}const KI=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e!=null?e:{},{x:i,y:o,placement:s,rects:l,platform:c}=t;if(n==null)return{};const h=oA(r),p={x:i,y:o},m=es(s),v=fd(m),b=Hb(v),_=await c.getDimensions({element:n}),x=v==="y"?"top":"left",D=v==="y"?"bottom":"right",E=l.reference[b]+l.reference[v]-p[v]-l.floating[b],T=p[v]-l.reference[v],R=await c.getOffsetParent({element:n}),M=R?v==="y"?R.clientHeight||0:R.clientWidth||0:0,Y=E/2-T/2,J=h[x],Z=M-_[b]-h[D],z=M/2-_[b]/2+Y,B=W0(J,z,Z);return{data:{[v]:B,centerOffset:z-B}}}}),qI={left:"right",right:"left",bottom:"top",top:"bottom"};function dp(e){return e.replace(/left|right|bottom|top/g,t=>qI[t])}function sA(e,t){const n=bu(e)==="start",r=fd(e),i=Hb(r);let o=r==="x"?n?"right":"left":n?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=dp(o)),{main:o,cross:dp(o)}}const GI={start:"end",end:"start"};function U0(e){return e.replace(/start|end/g,t=>GI[t])}const YI=["top","right","bottom","left"],JI=YI.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function XI(e,t,n){return(e?[...n.filter(i=>bu(i)===e),...n.filter(i=>bu(i)!==e)]:n.filter(i=>es(i)===i)).filter(i=>e?bu(i)===e||(t?U0(i)!==i:!1):!0)}const ZI=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,i,o,s,l;const{x:c,y:h,rects:p,middlewareData:m,placement:v}=t,ie=e,{alignment:b=null,allowedPlacements:_=JI,autoAlignment:x=!0}=ie,D=ql(ie,["alignment","allowedPlacements","autoAlignment"]);if((n=m.autoPlacement)!=null&&n.skip)return{};const E=XI(b,x,_),T=await Pg(t,D),R=(r=(i=m.autoPlacement)==null?void 0:i.index)!=null?r:0,M=E[R],{main:Y,cross:J}=sA(M,p);if(v!==M)return{x:c,y:h,reset:{placement:E[0]}};const Z=[T[es(M)],T[Y],T[J]],z=[...(o=(s=m.autoPlacement)==null?void 0:s.overflows)!=null?o:[],{placement:M,overflows:Z}],B=E[R+1];if(B)return{data:{index:R+1,overflows:z},reset:{placement:B}};const L=z.slice().sort((W,Q)=>W.overflows[0]-Q.overflows[0]),V=(l=L.find(W=>{let{overflows:Q}=W;return Q.every(I=>I<=0)}))==null?void 0:l.placement;return{data:{skip:!0},reset:{placement:V!=null?V:L[0].placement}}}}};function QI(e){const t=dp(e);return[U0(e),t,U0(t)]}const e5=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:l}=t;if((n=o.flip)!=null&&n.skip)return{};const z=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",flipAlignment:v=!0}=z,b=ql(z,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"]),_=es(i),D=p||(_===l||!v?[dp(l)]:QI(l)),E=[l,...D],T=await Pg(t,b),R=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&R.push(T[_]),h){const{main:B,cross:L}=sA(i,s);R.push(T[B],T[L])}if(M=[...M,{placement:i,overflows:R}],!R.every(B=>B<=0)){var Y,J;const B=((Y=(J=o.flip)==null?void 0:J.index)!=null?Y:0)+1,L=E[B];if(L)return{data:{index:B,overflows:M},reset:{placement:L}};let V="bottom";switch(m){case"bestFit":{var Z;const ie=(Z=M.slice().sort((W,Q)=>W.overflows.filter(I=>I>0).reduce((I,de)=>I+de,0)-Q.overflows.filter(I=>I>0).reduce((I,de)=>I+de,0))[0])==null?void 0:Z.placement;ie&&(V=ie);break}case"initialPlacement":V=l;break}return{data:{skip:!0},reset:{placement:V}}}return{}}}};function t5(e){let{placement:t,rects:n,value:r}=e;const i=es(t),o=["left","top"].includes(i)?-1:1,s=typeof r=="function"?r(Kt(Ne({},n),{placement:t})):r,{mainAxis:l,crossAxis:c}=typeof s=="number"?{mainAxis:s,crossAxis:0}:Ne({mainAxis:0,crossAxis:0},s);return fd(i)==="x"?{x:c,y:l*o}:{x:l*o,y:c}}const n5=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(t){const{x:n,y:r,placement:i,rects:o}=t,s=t5({placement:i,rects:o,value:e});return{x:n+s.x,y:r+s.y,data:s}}}};function r5(e){return e==="x"?"y":"x"}const i5=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,D=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:E=>{let{x:T,y:R}=E;return{x:T,y:R}}}}=D,c=ql(D,["mainAxis","crossAxis","limiter"]),h={x:n,y:r},p=await Pg(t,c),m=fd(es(i)),v=r5(m);let b=h[m],_=h[v];if(o){const E=m==="y"?"top":"left",T=m==="y"?"bottom":"right",R=b+p[E],M=b-p[T];b=W0(R,b,M)}if(s){const E=v==="y"?"top":"left",T=v==="y"?"bottom":"right",R=_+p[E],M=_-p[T];_=W0(R,_,M)}const x=l.fn(Kt(Ne({},t),{[m]:b,[v]:_}));return Kt(Ne({},x),{data:{x:x.x-n,y:x.y-r}})}}},o5=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n;const{placement:r,rects:i,middlewareData:o}=t,T=e,{apply:s}=T,l=ql(T,["apply"]);if((n=o.size)!=null&&n.skip)return{};const c=await Pg(t,l),h=es(r),p=bu(r)==="end";let m,v;h==="top"||h==="bottom"?(m=h,v=p?"left":"right"):(v=h,m=p?"top":"bottom");const b=Ma(c.left,0),_=Ma(c.right,0),x=Ma(c.top,0),D=Ma(c.bottom,0),E={height:i.floating.height-(["left","right"].includes(r)?2*(x!==0||D!==0?x+D:Ma(c.top,c.bottom)):c[m]),width:i.floating.width-(["top","bottom"].includes(r)?2*(b!==0||_!==0?b+_:Ma(c.left,c.right)):c[v])};return s==null||s(Ne(Ne({},E),i)),{data:{skip:!0},reset:{rects:!0}}}}};function jb(e){return(e==null?void 0:e.toString())==="[object Window]"}function oa(e){if(e==null)return window;if(!jb(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ig(e){return oa(e).getComputedStyle(e)}function Wo(e){return jb(e)?"":e?(e.nodeName||"").toLowerCase():""}function Uo(e){return e instanceof oa(e).HTMLElement}function hp(e){return e instanceof oa(e).Element}function s5(e){return e instanceof oa(e).Node}function aA(e){const t=oa(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Fg(e){const{overflow:t,overflowX:n,overflowY:r}=Ig(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function a5(e){return["table","td","th"].includes(Wo(e))}function lA(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=Ig(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}const bk=Math.min,uf=Math.max,pp=Math.round;function Pu(e,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect();let r=1,i=1;return t&&Uo(e)&&(r=e.offsetWidth>0&&pp(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&pp(n.height)/e.offsetHeight||1),{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function sa(e){return((s5(e)?e.ownerDocument:e.document)||window.document).documentElement}function Rg(e){return jb(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function uA(e){return Pu(sa(e)).left+Rg(e).scrollLeft}function l5(e){const t=Pu(e);return pp(t.width)!==e.offsetWidth||pp(t.height)!==e.offsetHeight}function u5(e,t,n){const r=Uo(t),i=sa(t),o=Pu(e,r&&l5(t));let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&n!=="fixed")if((Wo(t)!=="body"||Fg(i))&&(s=Rg(t)),Uo(t)){const c=Pu(t,!0);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else i&&(l.x=uA(i));return{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function zg(e){return Wo(e)==="html"?e:e.assignedSlot||e.parentNode||(aA(e)?e.host:null)||sa(e)}function _k(e){return!Uo(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function c5(e){let t=zg(e);for(;Uo(t)&&!["html","body"].includes(Wo(t));){if(lA(t))return t;t=t.parentNode}return null}function K0(e){const t=oa(e);let n=_k(e);for(;n&&a5(n)&&getComputedStyle(n).position==="static";)n=_k(n);return n&&(Wo(n)==="html"||Wo(n)==="body"&&getComputedStyle(n).position==="static"&&!lA(n))?t:n||c5(e)||t}function wk(e){return{width:e.offsetWidth,height:e.offsetHeight}}function f5(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Uo(n),o=sa(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if((i||!i&&r!=="fixed")&&((Wo(n)!=="body"||Fg(o))&&(s=Rg(n)),Uo(n))){const c=Pu(n,!0);l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return Kt(Ne({},t),{x:t.x-s.scrollLeft+l.x,y:t.y-s.scrollTop+l.y})}function d5(e){const t=oa(e),n=sa(e),r=t.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;return r&&(i=r.width,o=r.height,Math.abs(t.innerWidth/r.scale-r.width)<.01&&(s=r.offsetLeft,l=r.offsetTop)),{width:i,height:o,x:s,y:l}}function h5(e){var t;const n=sa(e),r=Rg(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=uf(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=uf(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let l=-r.scrollLeft+uA(e);const c=-r.scrollTop;return Ig(i||n).direction==="rtl"&&(l+=uf(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:c}}function cA(e){return["html","body","#document"].includes(Wo(e))?e.ownerDocument.body:Uo(e)&&Fg(e)?e:cA(zg(e))}function gp(e,t){var n;t===void 0&&(t=[]);const r=cA(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=oa(r),s=i?[o].concat(o.visualViewport||[],Fg(r)?r:[]):r,l=t.concat(s);return i?l:l.concat(gp(zg(s)))}function p5(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&aA(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function g5(e){const t=Pu(e),n=t.top+e.clientTop,r=t.left+e.clientLeft;return{top:n,left:r,x:r,y:n,right:r+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function xk(e,t){return t==="viewport"?V0(d5(e)):hp(t)?g5(t):V0(h5(sa(e)))}function m5(e){const t=gp(zg(e)),r=["absolute","fixed"].includes(Ig(e).position)&&Uo(e)?K0(e):e;return hp(r)?t.filter(i=>hp(i)&&p5(i,r)&&Wo(i)!=="body"):[]}function v5(e){let{element:t,boundary:n,rootBoundary:r}=e;const o=[...n==="clippingParents"?m5(t):[].concat(n),r],s=o[0],l=o.reduce((c,h)=>{const p=xk(t,h);return c.top=uf(p.top,c.top),c.right=bk(p.right,c.right),c.bottom=bk(p.bottom,c.bottom),c.left=uf(p.left,c.left),c},xk(t,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}const y5={getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:u5(t,K0(n),r),floating:Kt(Ne({},wk(n)),{x:0,y:0})}},convertOffsetParentRelativeRectToViewportRelativeRect:e=>f5(e),getOffsetParent:e=>{let{element:t}=e;return K0(t)},isElement:e=>hp(e),getDocumentElement:e=>{let{element:t}=e;return sa(t)},getClippingClientRect:e=>v5(e),getDimensions:e=>{let{element:t}=e;return wk(t)},getClientRects:e=>{let{element:t}=e;return t.getClientRects()}},b5=(e,t,n)=>VI(e,t,Ne({platform:y5},n));var _5=Object.defineProperty,w5=Object.defineProperties,x5=Object.getOwnPropertyDescriptors,kk=Object.getOwnPropertySymbols,k5=Object.prototype.hasOwnProperty,C5=Object.prototype.propertyIsEnumerable,Ck=(e,t,n)=>t in e?_5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Po=(e,t)=>{for(var n in t||(t={}))k5.call(t,n)&&Ck(e,n,t[n]);if(kk)for(var n of kk(t))C5.call(t,n)&&Ck(e,n,t[n]);return e},dd=(e,t)=>w5(e,x5(t));function fA(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(typeof t[n]=="object"&&e[n]?fA(e[n],t[n]):e[n]=t[n])}const $o={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:e=>[...e,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function Iu(e,t){let n=$o.themes[e]||{},r;do r=n[t],typeof r=="undefined"?n.$extend?n=$o.themes[n.$extend]||{}:(n=null,r=$o[t]):n=null;while(n);return r}function S5(e){const t=[e];let n=$o.themes[e]||{};do n.$extend&&!n.$resetCss?(t.push(n.$extend),n=$o.themes[n.$extend]||{}):n=null;while(n);return t.map(r=>`v-popper--theme-${r}`)}function Sk(e){const t=[e];let n=$o.themes[e]||{};do n.$extend?(t.push(n.$extend),n=$o.themes[n.$extend]||{}):n=null;while(n);return t}let il=!1;if(typeof window!="undefined"){il=!1;try{const e=Object.defineProperty({},"passive",{get(){il=!0}});window.addEventListener("test",null,e)}catch{}}let dA=!1;typeof window!="undefined"&&typeof navigator!="undefined"&&(dA=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const hA=["auto","top","bottom","left","right"].reduce((e,t)=>e.concat([t,`${t}-start`,`${t}-end`]),[]),Tk={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart"},Ek={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend"};function Ak(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1)}function wv(){return new Promise(e=>requestAnimationFrame(()=>{requestAnimationFrame(e)}))}const Li=[];let Ea=null;const Dk={};function Mk(e){let t=Dk[e];return t||(t=Dk[e]=[]),t}let q0=function(){};typeof window!="undefined"&&(q0=window.Element);function $t(e){return function(t){return Iu(t.theme,e)}}const xv="__floating-vue__popper";var pA=()=>ln({name:"VPopper",provide(){return{[xv]:{parentPopper:this}}},inject:{[xv]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,required:!0},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:$t("disabled")},positioningDisabled:{type:Boolean,default:$t("positioningDisabled")},placement:{type:String,default:$t("placement"),validator:e=>hA.includes(e)},delay:{type:[String,Number,Object],default:$t("delay")},distance:{type:[Number,String],default:$t("distance")},skidding:{type:[Number,String],default:$t("skidding")},triggers:{type:Array,default:$t("triggers")},showTriggers:{type:[Array,Function],default:$t("showTriggers")},hideTriggers:{type:[Array,Function],default:$t("hideTriggers")},popperTriggers:{type:Array,default:$t("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:$t("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:$t("popperHideTriggers")},container:{type:[String,Object,q0,Boolean],default:$t("container")},boundary:{type:[String,q0],default:$t("boundary")},strategy:{type:String,validator:e=>["absolute","fixed"].includes(e),default:$t("strategy")},autoHide:{type:[Boolean,Function],default:$t("autoHide")},handleResize:{type:Boolean,default:$t("handleResize")},instantMove:{type:Boolean,default:$t("instantMove")},eagerMount:{type:Boolean,default:$t("eagerMount")},popperClass:{type:[String,Array,Object],default:$t("popperClass")},computeTransformOrigin:{type:Boolean,default:$t("computeTransformOrigin")},autoMinSize:{type:Boolean,default:$t("autoMinSize")},autoSize:{type:[Boolean,String],default:$t("autoSize")},autoMaxSize:{type:Boolean,default:$t("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:$t("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:$t("preventOverflow")},overflowPadding:{type:[Number,String],default:$t("overflowPadding")},arrowPadding:{type:[Number,String],default:$t("arrowPadding")},arrowOverflow:{type:Boolean,default:$t("arrowOverflow")},flip:{type:Boolean,default:$t("flip")},shift:{type:Boolean,default:$t("shift")},shiftCrossAxis:{type:Boolean,default:$t("shiftCrossAxis")}},emits:["show","hide","update:shown","apply-show","apply-hide","close-group","close-directive","auto-hide","resize","dispose"],data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:dd(Po({},this.classes),{popperClass:this.popperClass}),result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var e;return(e=this[xv])==null?void 0:e.parentPopper},hasPopperShowTriggerHover(){var e,t;return((e=this.popperTriggers)==null?void 0:e.includes("hover"))||((t=this.popperShowTriggers)==null?void 0:t.includes("hover"))}},watch:Po(Po({shown:"$_autoShowHide",disabled(e){e?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())}},["triggers","positioningDisabled"].reduce((e,t)=>(e[t]="$_refreshListeners",e),{})),["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((e,t)=>(e[t]="$_computePosition",e),{})),created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(e=>e.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:e=null,skipDelay:t=!1,force:n=!1}={}){var r,i;((r=this.parentPopper)==null?void 0:r.lockedChild)&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(n||!this.disabled)&&(((i=this.parentPopper)==null?void 0:i.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(e,t),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:e=null,skipDelay:t=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:t}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(e,t),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){!this.$_isDisposed||(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=this.referenceNode(),this.$_targetNodes=this.targetNodes().filter(e=>e.nodeType===e.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){var e;if(this.$_isDisposed||this.positioningDisabled)return;const t={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&t.middleware.push(n5({mainAxis:this.distance,crossAxis:this.skidding}));const n=this.placement.startsWith("auto");if(n?t.middleware.push(ZI({alignment:(e=this.placement.split("-")[1])!=null?e:""})):t.placement=this.placement,this.preventOverflow&&(this.shift&&t.middleware.push(i5({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!n&&this.flip&&t.middleware.push(e5({padding:this.overflowPadding,boundary:this.boundary}))),t.middleware.push(KI({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&t.middleware.push({name:"arrowOverflow",fn:({placement:i,rects:o,middlewareData:s})=>{let l;const{centerOffset:c}=s.arrow;return i.startsWith("top")||i.startsWith("bottom")?l=Math.abs(c)>o.reference.width/2:l=Math.abs(c)>o.reference.height/2,{data:{overflow:l}}}}),this.autoMinSize||this.autoSize){const i=this.autoSize?this.autoSize:this.autoMinSize?"min":null;t.middleware.push({name:"autoSize",fn:({rects:o,placement:s,middlewareData:l})=>{var c;if((c=l.autoSize)!=null&&c.skip)return{};let h,p;return s.startsWith("top")||s.startsWith("bottom")?h=o.reference.width:p=o.reference.height,this.$_innerNode.style[i==="min"?"minWidth":i==="max"?"maxWidth":"width"]=h!=null?`${h}px`:null,this.$_innerNode.style[i==="min"?"minHeight":i==="max"?"maxHeight":"height"]=p!=null?`${p}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,t.middleware.push(o5({boundary:this.boundary,padding:this.overflowPadding,apply:({width:i,height:o})=>{this.$_innerNode.style.maxWidth=i!=null?`${i}px`:null,this.$_innerNode.style.maxHeight=o!=null?`${o}px`:null}})));const r=await b5(this.$_referenceNode,this.$_popperNode,t);Object.assign(this.result,{x:r.x,y:r.y,placement:r.placement,strategy:r.strategy,arrow:Po(Po({},r.middlewareData.arrow),r.middlewareData.arrowOverflow)})},$_scheduleShow(e=null,t=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),Ea&&this.instantMove&&Ea.instantMove&&Ea!==this.parentPopper){Ea.$_applyHide(!0),this.$_applyShow(!0);return}t?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(e=null,t=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(Ea=this),t?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(e){const t=this.delay;return parseInt(t&&t[e]||t||0)},async $_applyShow(e=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=e,!this.isShown&&(this.$_ensureTeleport(),await wv(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...gp(this.$_referenceNode),...gp(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const t=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),r=n.parentNode.getBoundingClientRect(),i=t.x+t.width/2-(r.left+n.offsetLeft),o=t.y+t.height/2-(r.top+n.offsetTop);this.result.transformOrigin=`${i}px ${o}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const e=this.showGroup;if(e){let t;for(let n=0;n<Li.length;n++)t=Li[n],t.showGroup!==e&&(t.hide(),t.$emit("close-group"))}Li.push(this),document.body.classList.add("v-popper--some-open");for(const t of Sk(this.theme))Mk(t).push(this),document.body.classList.add(`v-popper--some-open--${t}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await wv(),this.classes.showFrom=!1,this.classes.showTo=!0,this.$_popperNode.focus()},async $_applyHide(e=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=e,Ak(Li,this),Li.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of Sk(this.theme)){const r=Mk(n);Ak(r,this),r.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}Ea===this&&(Ea=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const t=Iu(this.theme,"disposeTimeout");t!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},t)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await wv(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let e=this.container;if(typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=this.$_targetNodes[0].parentNode),!e)throw new Error("No container for popover: "+this.container);e.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const e=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,Tk,this.triggers,this.showTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],Tk,this.popperTriggers,this.popperShowTriggers,e);const t=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,Ek,this.triggers,this.hideTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],Ek,this.popperTriggers,this.popperHideTriggers,t)},$_registerEventListeners(e,t,n){this.$_events.push({targetNodes:e,eventType:t,handler:n}),e.forEach(r=>r.addEventListener(t,n,il?{passive:!0}:void 0))},$_registerTriggerListeners(e,t,n,r,i){let o=n;r!=null&&(o=typeof r=="function"?r(o):r),o.forEach(s=>{const l=t[s];l&&this.$_registerEventListeners(e,l,i)})},$_removeEventListeners(e){const t=[];this.$_events.forEach(n=>{const{targetNodes:r,eventType:i,handler:o}=n;!e||e===i?r.forEach(s=>s.removeEventListener(i,o)):t.push(n)}),this.$_events=t},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(e,t=!1){this.$_showFrameLocked||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),t&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(e,t){for(const n of this.$_targetNodes){const r=n.getAttribute(e);r&&(n.removeAttribute(e),n.setAttribute(t,r))}},$_applyAttrsToTarget(e){for(const t of this.$_targetNodes)for(const n in e){const r=e[n];r==null?t.removeAttribute(n):t.setAttribute(n,r)}},$_updateParentShownChildren(e){let t=this.parentPopper;for(;t;)e?t.shownChildren.add(this.randomId):(t.shownChildren.delete(this.randomId),t.$_pendingHide&&t.hide()),t=t.parentPopper},$_isAimingPopper(){const e=this.$_referenceNode.getBoundingClientRect();if(cf>=e.left&&cf<=e.right&&ff>=e.top&&ff<=e.bottom){const t=this.$_popperNode.getBoundingClientRect(),n=cf-Cs,r=ff-Ss,o=t.left+t.width/2-Cs+(t.top+t.height/2)-Ss+t.width+t.height,s=Cs+n*o,l=Ss+r*o;return hh(Cs,Ss,s,l,t.left,t.top,t.left,t.bottom)||hh(Cs,Ss,s,l,t.left,t.top,t.right,t.top)||hh(Cs,Ss,s,l,t.right,t.top,t.right,t.bottom)||hh(Cs,Ss,s,l,t.left,t.bottom,t.right,t.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});typeof document!="undefined"&&typeof window!="undefined"&&(dA?(document.addEventListener("touchstart",Ok,il?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",E5,il?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",Ok,!0),window.addEventListener("click",T5,!0)),window.addEventListener("resize",M5));function Ok(e){for(let t=0;t<Li.length;t++){const n=Li[t];try{const r=n.popperNode();n.$_mouseDownContains=r.contains(e.target)}catch{}}}function T5(e){gA(e)}function E5(e){gA(e,!0)}function gA(e,t=!1){const n={};for(let r=Li.length-1;r>=0;r--){const i=Li[r];try{const o=i.$_containsGlobalTarget=A5(i,e);i.$_pendingHide=!1,requestAnimationFrame(()=>{if(i.$_pendingHide=!1,!n[i.randomId]&&Nk(i,o,e)){if(i.$_handleGlobalClose(e,t),!e.closeAllPopover&&e.closePopover&&o){let l=i.parentPopper;for(;l;)n[l.randomId]=!0,l=l.parentPopper;return}let s=i.parentPopper;for(;s&&Nk(s,s.$_containsGlobalTarget,e);){s.$_handleGlobalClose(e,t);s=s.parentPopper}}})}catch{}}}function A5(e,t){const n=e.popperNode();return e.$_mouseDownContains||n.contains(t.target)}function Nk(e,t,n){return n.closeAllPopover||n.closePopover&&t||D5(e,n)&&!t}function D5(e,t){if(typeof e.autoHide=="function"){const n=e.autoHide(t);return e.lastAutoHide=n,n}return e.autoHide}function M5(e){for(let t=0;t<Li.length;t++)Li[t].$_computePosition(e)}let Cs=0,Ss=0,cf=0,ff=0;typeof window!="undefined"&&window.addEventListener("mousemove",e=>{Cs=cf,Ss=ff,cf=e.clientX,ff=e.clientY},il?{passive:!0}:void 0);function hh(e,t,n,r,i,o,s,l){const c=((s-i)*(t-o)-(l-o)*(e-i))/((l-o)*(n-e)-(s-i)*(r-t)),h=((n-e)*(t-o)-(r-t)*(e-i))/((l-o)*(n-e)-(s-i)*(r-t));return c>=0&&c<=1&&h>=0&&h<=1}var Bg=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const O5={extends:pA()};function N5(e,t,n,r,i,o){return _e(),Le("div",yi({ref:"reference",class:"v-popper"},e.$attrs,{class:{"v-popper--shown":e.slotData.isShown}}),[Cn(e.$slots,"default",H2(mb(e.slotData)))],16)}var L5=Bg(O5,[["render",N5]]);function P5(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}let Ph;function G0(){G0.init||(G0.init=!0,Ph=P5()!==-1)}var $g={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){G0(),oo(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",Ph&&this.$el.appendChild(e),e.data="about:blank",Ph||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Ph&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const I5=sb("data-v-b329ee4c");ib("data-v-b329ee4c");const F5={class:"resize-observer",tabindex:"-1"};ob();const R5=I5((e,t,n,r,i,o)=>(_e(),Ht("div",F5)));$g.render=R5;$g.__scopeId="data-v-b329ee4c";$g.__file="src/components/ResizeObserver.vue";var mA=(e="theme")=>({computed:{themeClass(){return S5(this[e])}}});const z5=ln({name:"VPopperContent",components:{ResizeObserver:$g},mixins:[mA()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(e){return e!=null&&!isNaN(e)?`${e}px`:null}}}),B5=["id","aria-hidden","tabindex","data-popper-placement"],$5={ref:"inner",class:"v-popper__inner"},H5=le("div",{class:"v-popper__arrow-outer"},null,-1),j5=le("div",{class:"v-popper__arrow-inner"},null,-1),V5=[H5,j5];function W5(e,t,n,r,i,o){const s=At("ResizeObserver");return _e(),Le("div",{id:e.popperId,ref:"popover",class:It(["v-popper__popper",[e.themeClass,e.classes.popperClass,{"v-popper__popper--shown":e.shown,"v-popper__popper--hidden":!e.shown,"v-popper__popper--show-from":e.classes.showFrom,"v-popper__popper--show-to":e.classes.showTo,"v-popper__popper--hide-from":e.classes.hideFrom,"v-popper__popper--hide-to":e.classes.hideTo,"v-popper__popper--skip-transition":e.skipTransition,"v-popper__popper--arrow-overflow":e.result&&e.result.arrow.overflow,"v-popper__popper--no-positioning":!e.result}]]),style:mi(e.result?{position:e.result.strategy,transform:`translate3d(${Math.round(e.result.x)}px,${Math.round(e.result.y)}px,0)`}:void 0),"aria-hidden":e.shown?"false":"true",tabindex:e.autoHide?0:void 0,"data-popper-placement":e.result?e.result.placement:void 0,onKeyup:t[2]||(t[2]=_b(l=>e.autoHide&&e.$emit("hide"),["esc"]))},[le("div",{class:"v-popper__backdrop",onClick:t[0]||(t[0]=l=>e.autoHide&&e.$emit("hide"))}),le("div",{class:"v-popper__wrapper",style:mi(e.result?{transformOrigin:e.result.transformOrigin}:void 0)},[le("div",$5,[e.mounted?(_e(),Le(St,{key:0},[le("div",null,[Cn(e.$slots,"default")]),e.handleResize?(_e(),Ht(s,{key:0,onNotify:t[1]||(t[1]=l=>e.$emit("resize",l))})):Nt("",!0)],64)):Nt("",!0)],512),le("div",{ref:"arrow",class:"v-popper__arrow-container",style:mi(e.result?{left:e.toPx(e.result.arrow.x),top:e.toPx(e.result.arrow.y)}:void 0)},V5,4)],4)],46,B5)}var vA=Bg(z5,[["render",W5]]),yA={methods:{show(...e){return this.$refs.popper.show(...e)},hide(...e){return this.$refs.popper.hide(...e)},dispose(...e){return this.$refs.popper.dispose(...e)},onResize(...e){return this.$refs.popper.onResize(...e)}}};const U5=ln({name:"VPopperWrapper",components:{Popper:L5,PopperContent:vA},mixins:[yA,mA("finalTheme")],props:{theme:{type:String,default:null}},computed:{finalTheme(){var e;return(e=this.theme)!=null?e:this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$refs.popper.$el.children).filter(e=>e!==this.$refs.popperContent.$el)}}});function K5(e,t,n,r,i,o){const s=At("PopperContent"),l=At("Popper");return _e(),Ht(l,{ref:"popper",theme:e.finalTheme,"target-nodes":e.getTargetNodes,"reference-node":()=>e.$refs.popper.$el,"popper-node":()=>e.$refs.popperContent.$el,class:It([e.themeClass])},{default:on(({popperId:c,isShown:h,shouldMountContent:p,skipTransition:m,autoHide:v,show:b,hide:_,handleResize:x,onResize:D,classes:E,result:T})=>[Cn(e.$slots,"default",{shown:h,show:b,hide:_}),st(s,{ref:"popperContent","popper-id":c,theme:e.finalTheme,shown:h,mounted:p,"skip-transition":m,"auto-hide":v,"handle-resize":x,classes:E,result:T,onHide:_,onResize:D},{default:on(()=>[Cn(e.$slots,"popper",{shown:h,hide:_})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},8,["theme","target-nodes","reference-node","popper-node","class"])}var Vb=Bg(U5,[["render",K5]]);const Lk=ln(dd(Po({},Vb),{name:"VDropdown",vPopperTheme:"dropdown"})),Pk=ln(dd(Po({},Vb),{name:"VMenu",vPopperTheme:"menu"})),Ik=ln(dd(Po({},Vb),{name:"VTooltip",vPopperTheme:"tooltip"})),q5=ln({name:"VTooltipDirective",components:{Popper:pA(),PopperContent:vA},mixins:[yA],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:e=>Iu(e.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:e=>Iu(e.theme,"loadingContent")}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(e){if(typeof this.content=="function"&&this.$_isShown&&(e||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const t=++this.$_fetchId,n=this.content(this);n.then?n.then(r=>this.onResult(t,r)):this.onResult(t,n)}},onResult(e,t){e===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=t)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),G5=["innerHTML"],Y5=["textContent"];function J5(e,t,n,r,i,o){const s=At("PopperContent"),l=At("Popper");return _e(),Ht(l,yi({ref:"popper"},e.$attrs,{theme:e.theme,"popper-node":()=>e.$refs.popperContent.$el,onApplyShow:e.onShow,onApplyHide:e.onHide}),{default:on(({popperId:c,isShown:h,shouldMountContent:p,skipTransition:m,autoHide:v,hide:b,handleResize:_,onResize:x,classes:D,result:E})=>[st(s,{ref:"popperContent",class:It({"v-popper--tooltip-loading":e.loading}),"popper-id":c,theme:e.theme,shown:h,mounted:p,"skip-transition":m,"auto-hide":v,"handle-resize":_,classes:D,result:E,onHide:b,onResize:x},{default:on(()=>[e.html?(_e(),Le("div",{key:0,innerHTML:e.finalContent},null,8,G5)):(_e(),Le("div",{key:1,textContent:Xe(e.finalContent)},null,8,Y5))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","popper-node","onApplyShow","onApplyHide"])}var X5=Bg(q5,[["render",J5]]);const bA="v-popper--has-tooltip";function Z5(e,t){let n=e.placement;if(!n&&t)for(const r of hA)t[r]&&(n=r);return n||(n=Iu(e.theme||"tooltip","placement")),n}function _A(e,t,n){let r;const i=typeof t;return i==="string"?r={content:t}:t&&i==="object"?r=t:r={content:!1},r.placement=Z5(r,n),r.targetNodes=()=>[e],r.referenceNode=()=>e,r}let kv,Vf,Q5=0;function eF(){if(kv)return;Vf=Ct([]),kv=wb({name:"VTooltipDirectiveApp",setup(){return{directives:Vf}},render(){return this.directives.map(t=>Vn(X5,dd(Po({},t.options),{shown:t.shown||t.options.shown,key:t.id})))},devtools:{hide:!0}});const e=document.createElement("div");document.body.appendChild(e),kv.mount(e)}function tF(e,t,n){eF();const r=Ct(_A(e,t,n)),i=Ct(!1),o={id:Q5++,options:r,shown:i};return Vf.value.push(o),e.classList&&e.classList.add(bA),e.$_popper={options:r,item:o,show(){i.value=!0},hide(){i.value=!1}}}function wA(e){if(e.$_popper){const t=Vf.value.indexOf(e.$_popper.item);t!==-1&&Vf.value.splice(t,1),delete e.$_popper,delete e.$_popperOldShown,delete e.$_popperMountTarget}e.classList&&e.classList.remove(bA)}function Fk(e,{value:t,modifiers:n}){const r=_A(e,t,n);if(!r.content||Iu(r.theme||"tooltip","disabled"))wA(e);else{let i;e.$_popper?(i=e.$_popper,i.options.value=r):i=tF(e,t,n),typeof t.shown!="undefined"&&t.shown!==e.$_popperOldShown&&(e.$_popperOldShown=t.shown,t.shown?i.show():i.hide())}}var nF={beforeMount:Fk,updated:Fk,beforeUnmount(e){wA(e)}};function Rk(e){e.addEventListener("click",xA),e.addEventListener("touchstart",kA,il?{passive:!0}:!1)}function zk(e){e.removeEventListener("click",xA),e.removeEventListener("touchstart",kA),e.removeEventListener("touchend",CA),e.removeEventListener("touchcancel",SA)}function xA(e){const t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function kA(e){if(e.changedTouches.length===1){const t=e.currentTarget;t.$_vclosepopover_touch=!0;const n=e.changedTouches[0];t.$_vclosepopover_touchPoint=n,t.addEventListener("touchend",CA),t.addEventListener("touchcancel",SA)}}function CA(e){const t=e.currentTarget;if(t.$_vclosepopover_touch=!1,e.changedTouches.length===1){const n=e.changedTouches[0],r=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(n.screenY-r.screenY)<20&&Math.abs(n.screenX-r.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function SA(e){const t=e.currentTarget;t.$_vclosepopover_touch=!1}var rF={beforeMount(e,{value:t,modifiers:n}){e.$_closePopoverModifiers=n,(typeof t=="undefined"||t)&&Rk(e)},updated(e,{value:t,oldValue:n,modifiers:r}){e.$_closePopoverModifiers=r,t!==n&&(typeof t=="undefined"||t?Rk(e):zk(e))},beforeUnmount(e){zk(e)}};function iF(e,t={}){e.$_vTooltipInstalled||(e.$_vTooltipInstalled=!0,fA($o,t),e.directive("tooltip",nF),e.directive("close-popper",rF),e.component("v-tooltip",Ik),e.component("VTooltip",Ik),e.component("v-dropdown",Lk),e.component("VDropdown",Lk),e.component("v-menu",Pk),e.component("VMenu",Pk))}const oF={version:"2.0.0-beta.17",install:iF,options:$o};function Wb(e){return(Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Bk(e,t,n,r,i,o,s){try{var l=e[o](s),c=l.value}catch(h){return void n(h)}l.done?t(c):Promise.resolve(c).then(r,i)}function sF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(n),!0).forEach(function(r){_u(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ya(e){return function(t){if(Array.isArray(t))return Cv(t)}(e)||function(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t,n){if(!!t){if(typeof t=="string")return Cv(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cv(t,n)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aF=function(e){return function(t,n){return Ya(t.querySelectorAll(n)||[])}(e,'button:not([disabled]), select:not([disabled]), a[href]:not([disabled]), area[href]:not([disabled]), [contentEditable=""]:not([disabled]), [contentEditable="true"]:not([disabled]), [contentEditable="TRUE"]:not([disabled]), textarea:not([disabled]), iframe:not([disabled]), input:not([disabled]), summary:not([disabled]), [tabindex]:not([tabindex="-1"])')},Hk=function(e){return e==document.activeElement},lF=function(){function e(){(function(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),this.root=null,this.elements=[],this.onKeyDown=this.onKeyDown.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.firstElement=this.firstElement.bind(this),this.lastElement=this.lastElement.bind(this)}var t,n;return t=e,(n=[{key:"lastElement",value:function(){return this.elements[this.elements.length-1]||null}},{key:"firstElement",value:function(){return this.elements[0]||null}},{key:"onKeyDown",value:function(r){if(function(i){return i.key==="Tab"||i.keyCode===9}(r)){if(!r.shiftKey)return!document.activeElement||Hk(this.lastElement())?(this.firstElement().focus(),void r.preventDefault()):void 0;Hk(this.firstElement())&&(this.lastElement().focus(),r.preventDefault())}}},{key:"enabled",value:function(){return!!this.root}},{key:"enable",value:function(r){r&&(this.root=r,this.elements=aF(this.root),this.root.addEventListener("keydown",this.onKeyDown))}},{key:"disable",value:function(){this.root.removeEventListener("keydown",this.onKeyDown),this.root=null}}])&&sF(t.prototype,n),e}(),jk=function(e){var t=e.targetTouches?e.targetTouches[0]:e;return{x:t.clientX,y:t.clientY}},ph=function(e,t,n){return typeof e!="number"&&(e=Math.min(t,n)||t),typeof n!="number"&&(n=Math.max(t,e)),Math.min(Math.max(t,e),n)},Vk=function(e){return e&&Number(e.replace(/px$/,""))||0},mp={down:{pc:"mousedown",m:"touchstart"},move:{pc:"mousemove",m:"touchmove"},up:{pc:"mouseup",m:"touchend"}},gh=function(e,t,n){t&&t.addEventListener(mp[e].pc,n),t&&t.addEventListener(mp[e].m,n,{passive:!1})},mh=function(e,t,n){t&&t.removeEventListener(mp[e].pc,n),t&&t.removeEventListener(mp[e].m,n)},Ub=!1;if(typeof window!="undefined"){var Wk={get passive(){Ub=!0}};window.addEventListener("testPassive",null,Wk),window.removeEventListener("testPassive",null,Wk)}var df,hf,TA=typeof window!="undefined"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Ls=[],vp=!1,Ih=0,Uk=-1,uF=function(e,t){var n=!1;return function(r){for(var i=[];r;){if(i.push(r),r.classList.contains("vfm"))return i;r=r.parentElement}return i}(e).forEach(function(r){(function(i){if(!i||i.nodeType!==Node.ELEMENT_NODE)return!1;var o=window.getComputedStyle(i);return["auto","scroll"].includes(o.overflowY)&&i.scrollHeight>i.clientHeight})(r)&&function(i,o){return!(i.scrollTop===0&&o<0||i.scrollTop+i.clientHeight+o>=i.scrollHeight&&o>0)}(r,t)&&(n=!0)}),n},EA=function(e){return Ls.some(function(){return uF(e,-Ih)})},Y0=function(e){var t=e||window.event;return!!EA(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},cF=function(e,t){if(e){if(!Ls.some(function(r){return r.targetElement===e})){var n={targetElement:e,options:t||{}};Ls=[].concat(Ya(Ls),[n]),TA?(e.ontouchstart=function(r){r.targetTouches.length===1&&(Uk=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&function(i,o){Ih=i.targetTouches[0].clientY-Uk,!EA(i.target)&&(o&&o.scrollTop===0&&Ih>0||function(s){return!!s&&s.scrollHeight-s.scrollTop<=s.clientHeight}(o)&&Ih<0?Y0(i):i.stopPropagation())}(r,e)},vp||(document.addEventListener("touchmove",Y0,Ub?{passive:!1}:void 0),vp=!0)):function(r){if(hf===void 0){var i=!!r&&r.reserveScrollBarGap===!0,o=window.innerWidth-document.documentElement.clientWidth;if(i&&o>0){var s=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);hf=document.body.style.paddingRight,document.body.style.paddingRight="".concat(s+o,"px")}}df===void 0&&(df=document.body.style.overflow,document.body.style.overflow="hidden")}(t)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},Sv=function(e){e?(Ls=Ls.filter(function(t){return t.targetElement!==e}),TA?(e.ontouchstart=null,e.ontouchmove=null,vp&&Ls.length===0&&(document.removeEventListener("touchmove",Y0,Ub?{passive:!1}:void 0),vp=!1)):Ls.length||(hf!==void 0&&(document.body.style.paddingRight=hf,hf=void 0),df!==void 0&&(document.body.style.overflow=df,df=void 0))):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.")},vh=function(){},Kk="enter",qk="entering",yh="leave",Gk="leavng",fF={t:"ns-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize",b:"ns-resize",bl:"nesw-resize",l:"ew-resize",tl:"nwse-resize"},Fh={props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},ssr:{type:Boolean,default:!0},classes:{type:[String,Object,Array],default:""},overlayClass:{type:[String,Object,Array],default:""},contentClass:{type:[String,Object,Array],default:""},styles:{type:[Object,Array],default:function(){return{}}},overlayStyle:{type:[Object,Array],default:function(){return{}}},contentStyle:{type:[Object,Array],default:function(){return{}}},lockScroll:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!1},preventClick:{type:Boolean,default:!1},attach:{type:null,default:!1,validator:function(e){var t=Wb(e);return t==="boolean"||t==="string"||e.nodeType===Node.ELEMENT_NODE}},transition:{type:[String,Object],default:"vfm"},overlayTransition:{type:[String,Object],default:"vfm"},keepOverlay:{type:Boolean,default:!1},zIndexAuto:{type:Boolean,default:!0},zIndexBase:{type:[String,Number],default:1e3},zIndex:{type:[Boolean,String,Number],default:!1},focusRetain:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!0},drag:{type:Boolean,default:!1},dragSelector:{type:String,default:""},keepChangedStyle:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},resizeDirections:{type:Array,default:function(){return["t","tr","r","br","b","bl","l","tl"]},validator:function(e){return["t","tr","r","br","b","bl","l","tl"].filter(function(t){return e.indexOf(t)!==-1}).length===e.length}},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0}},emits:["update:modelValue","click-outside","before-open","opened","before-close","closed","_before-open","_opened","_closed","drag:start","drag:move","drag:end","resize:start","resize:move","resize:end"],setup:function(e,t){var n=t.emit,r=Symbol("vfm"),i=Ct(null),o=Ct(null),s=Ct(null),l=Ct(null),c=Ct(null),h=Ct(null),p=Ct(null),m=new lF,v=Ct(!1),b=yl({modal:!1,overlay:!1,resize:!1}),_=Ct(null),x=Ct(null),D=Ct(!1),E=Ct({}),T=Ct({}),R=Ct(null),M=Ct(null),Y=vh,J=vh,Z=vn(function(){return typeof e.overlayTransition=="string"?{name:e.overlayTransition}:Or({},e.overlayTransition)}),z=vn(function(){return typeof e.transition=="string"?{name:e.transition}:Or({},e.transition)}),B=vn(function(){return(e.hideOverlay||_.value===yh)&&x.value===yh}),L=vn(function(){return e.zIndex===!1?!!e.zIndexAuto&&+e.zIndexBase+2*(p.value||0):e.zIndex}),V=vn(function(){return Or({},L.value!==!1&&{zIndex:L.value})}),ie=vn(function(){var ke=[T.value];return Array.isArray(e.contentStyle)?ke.push.apply(ke,Ya(e.contentStyle)):ke.push(e.contentStyle),ke});function W(){return{uid:r,props:e,emit:n,vfmContainer:o,vfmContent:s,vfmResize:l,vfmOverlayTransition:c,vfmTransition:h,getAttachElement:pe,modalStackIndex:p,visibility:b,handleLockScroll:de,$focusTrap:m,toggle:yt,params:E}}function Q(){if(e.modelValue){if(n("_before-open",Se({type:"_before-open"})),Ve("before-open",!1))return void J("show");var ke=pe();if(ke||e.attach===!1){if(e.attach!==!1){if(!i.value)return v.value=!0,void oo(function(){Q()});ke.appendChild(i.value)}var be=e.api.openedModals.findIndex(function(He){return He.uid===r});be!==-1&&e.api.openedModals.splice(be,1),e.api.openedModals.push(W()),p.value=e.api.openedModals.length-1,de(),e.api.openedModals.filter(function(He){return He.uid!==r}).forEach(function(He,Ke){He.getAttachElement()===ke&&(He.modalStackIndex.value=Ke,!He.props.keepOverlay&&(He.visibility.overlay=!1))}),v.value=!0,b.overlay=!0,b.modal=!0}else ke!==!1&&console.warn("Unable to locate target ".concat(e.attach))}}function I(){var ke=e.api.openedModals.findIndex(function(He){return He.uid===r});if(ke!==-1&&e.api.openedModals.splice(ke,1),e.api.openedModals.length>0){var be=e.api.openedModals[e.api.openedModals.length-1];be.props.focusTrap&&be.$focusTrap.firstElement().focus(),(be.props.focusRetain||be.props.focusTrap)&&be.vfmContainer.value.focus(),!be.props.hideOverlay&&(be.visibility.overlay=!0)}e.drag&&ot(),e.resize&&Fe(),R.value=null,b.overlay=!1,b.modal=!1}function de(){e.modelValue&&oo(function(){e.lockScroll?cF(o.value,{reserveScrollBarGap:!0}):Sv(o.value)})}function pe(){return e.attach!==!1&&(typeof e.attach=="string"?!!window&&window.document.querySelector(e.attach):e.attach)}function Se(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Or({ref:W()},ke)}function Ve(ke,be){var He=!1,Ke=Se({type:ke,stop:function(){He=!0}});return n(ke,Ke),!!He&&(D.value=!0,oo(function(){n("update:modelValue",be)}),!0)}function tt(ke,be,He){R.value="".concat(be,":").concat(He),n(R.value,ke)}function yt(ke,be){var He=arguments;return new Promise(function(Ke,je){Y=function(te){Ke(te),Y=vh},J=function(te){je(te),J=vh};var gt=typeof ke=="boolean"?ke:!e.modelValue;gt&&He.length===2&&(E.value=be),n("update:modelValue",gt)})}function Mt(ke){ke.stopPropagation();var be,He="resize",Ke="drag",je=ke.target.getAttribute("direction");if(je)be=He;else{if(!function(X,ae,fe){return fe===""||Ya(ae.querySelectorAll(fe)).includes(X.target)}(ke,s.value,e.dragSelector))return;be=Ke}tt(ke,be,"start");var gt,te,re,ce,me=jk(ke),ve=o.value.getBoundingClientRect(),j=s.value.getBoundingClientRect(),G=window.getComputedStyle(s.value).position==="absolute",S=Vk(T.value.top),F=Vk(T.value.left),A=function(){if(e.fitParent){var X={absolute:function(){return{minTop:0,minLeft:0,maxTop:ve.height-j.height,maxLeft:ve.width-j.width}},relative:function(){return{minTop:S+ve.top-j.top,minLeft:F+ve.left-j.left,maxTop:S+ve.bottom-j.bottom,maxLeft:F+ve.right-j.right}}};return G?X.absolute():X.relative()}return{}}(),H=be===He&&(gt=document.body,te="cursor",re=fF[je],ce=gt.style[te],gt.style[te]=re,function(){gt.style[te]=ce}),P=function(X){X.stopPropagation(),tt(X,be,"move");var ae,fe,ge=jk(X),K={x:ge.x-me.x,y:ge.y-me.y};be===He&&(K=function(he,Me,rt,oe,Pe){var Ae=function(dt){var Ft,Rt=Me[dt.axis];Rt=e.fitParent?ph(dt.min,Rt,dt.max):Rt;var Qt=ph(dt.minEdge,dt.getEdge(Rt),dt.maxEdge);return Rt=dt.getOffsetAxis(Qt,Pe),_u(Ft={},dt.edgeName,Qt),_u(Ft,dt.axis,Rt),Ft},we=function(dt,Ft,Rt,Qt){var tn,_n=oe[Ft],wn=rt[dt]-oe[dt],vr=(tn=Ft).charAt(0).toUpperCase()+tn.slice(1);return{axis:Rt,edgeName:Ft,min:Qt?wn:-_n,max:Qt?_n:wn,minEdge:e["min".concat(vr)],maxEdge:e["max".concat(vr)],getEdge:function($r){return oe[Ft]-$r*(Qt?1:-1)},getOffsetAxis:function($r,pn){var ha=oe[Ft]-$r;return pn?Qt?ha:0:(Qt?1:-1)*ha/2}}},We={t:["top","height","y",!0],b:["bottom","height","y",!1],l:["left","width","x",!0],r:["right","width","x",!1]},qt={x:0,y:0};return he.split("").forEach(function(dt){var Ft=we.apply(void 0,Ya(We[dt]));qt=Or(Or({},qt),Ae(Ft))}),qt}(je,K,ve,j,G)),G?(ae=j.top-ve.top+K.y,fe=j.left-ve.left+K.x):(ae=S+K.y,fe=F+K.x),be===Ke&&e.fitParent&&(ae=ph(A.minTop,ae,A.maxTop),fe=ph(A.minLeft,fe,A.maxLeft));var q=Or(Or(Or({position:"relative",top:ae+"px",left:fe+"px",margin:"unset",touchAction:"none"},G&&{position:"absolute",transform:"unset",width:j.width+"px",height:j.height+"px"}),K.width&&{width:K.width+"px"}),K.height&&{height:K.height+"px"});T.value=Or(Or({},T.value),q)};gh("move",document,P),gh("up",document,function X(ae){ae.stopPropagation(),be===He&&H&&H(),setTimeout(function(){tt(ae,be,"end")}),mh("move",document,P),mh("up",document,X)})}function pt(){gh("down",s.value,Mt),T.value.touchAction="none"}function ot(){mh("down",s.value,Mt)}function Ge(){b.resize=!0,oo(function(){gh("down",l.value,Mt)})}function Fe(){mh("down",l.value,Mt),b.resize=!1}return Sn(function(){return e.modelValue},function(ke){if(D.value)D.value=!1;else if(Q(),!ke){if(Ve("before-close",!0))return void J("hide");I()}}),Sn(function(){return e.lockScroll},de),Sn(function(){return e.hideOverlay},function(ke){e.modelValue&&!ke&&(b.overlay=!0)}),Sn(function(){return e.attach},Q),Sn(B,function(ke){ke&&(v.value=!1,o.value.style.display="none")},{flush:"post"}),Sn(function(){return e.drag},function(ke){v.value&&(ke?pt():ot())}),Sn(function(){return e.resize},function(ke){v.value&&(ke?Ge():Fe())}),Sn(function(){return e.keepChangedStyle},function(ke){ke||(T.value={})}),e.api.modals.push(W()),Vi(function(){Q()}),Zo(function(){var ke;I(),e.lockScroll&&o.value&&Sv(o.value),i==null||(ke=i.value)===null||ke===void 0||ke.remove();var be=e.api.modals.findIndex(function(He){return He.uid===r});e.api.modals.splice(be,1)}),{root:i,vfmContainer:o,vfmContent:s,vfmResize:l,vfmOverlayTransition:c,vfmTransition:h,computedOverlayTransition:Z,computedTransition:z,visible:v,visibility:b,params:E,calculateZIndex:L,bindStyle:V,bindContentStyle:ie,beforeOverlayEnter:function(){_.value=qk},afterOverlayEnter:function(){_.value=Kk},beforeOverlayLeave:function(){_.value=Gk},afterOverlayLeave:function(){_.value=yh},beforeModalEnter:function(){x.value=qk},afterModalEnter:function(){x.value=Kk,(e.focusRetain||e.focusTrap)&&o.value.focus(),e.focusTrap&&m.enable(o.value),e.drag&&pt(),e.resize&&Ge(),n("_opened"),n("opened",Se({type:"opened"})),Y("show")},beforeModalLeave:function(){x.value=Gk,m.enabled()&&m.disable()},afterModalLeave:function(){x.value=yh,p.value=null,e.lockScroll&&Sv(o.value),e.keepChangedStyle||(T.value={});var ke=!1,be=Se({type:"closed",stop:function(){ke=!0}});n("_closed"),n("closed",be),Y("hide"),ke||(E.value={})},onMousedown:function(ke){M.value=ke==null?void 0:ke.target},onMouseupContainer:function(){M.value===o.value&&R.value!=="resize:move"&&(n("click-outside",Se({type:"click-outside"})),e.clickToClose&&n("update:modelValue",!1))},onEsc:function(){v.value&&e.escToClose&&n("update:modelValue",!1)}}}},Tv=sb("data-v-2836fdb5");ib("data-v-2836fdb5");var dF={key:0,ref:"vfmResize",class:"vfm__resize vfm--absolute vfm--inset vfm--prevent-none vfm--select-none vfm--touch-none"};ob();var hF=Tv(function(e,t,n,r,i,o){return n.ssr||r.visible?On((_e(),Ht("div",{key:0,ref:"root",style:r.bindStyle,class:["vfm vfm--inset",[n.attach===!1?"vfm--fixed":"vfm--absolute",{"vfm--prevent-none":n.preventClick}]],onKeydown:t[4]||(t[4]=_b(function(){return r.onEsc&&r.onEsc.apply(r,arguments)},["esc"]))},[st(If,yi(r.computedOverlayTransition,{onBeforeEnter:r.beforeOverlayEnter,onAfterEnter:r.afterOverlayEnter,onBeforeLeave:r.beforeOverlayLeave,onAfterLeave:r.afterOverlayLeave}),{default:Tv(function(){return[!n.hideOverlay&&r.visibility.overlay?(_e(),Ht("div",{key:0,class:["vfm__overlay vfm--overlay vfm--absolute vfm--inset",n.overlayClass],style:n.overlayStyle},null,6)):Nt("v-if",!0)]}),_:1},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),st(If,yi(r.computedTransition,{onBeforeEnter:r.beforeModalEnter,onAfterEnter:r.afterModalEnter,onBeforeLeave:r.beforeModalLeave,onAfterLeave:r.afterModalLeave}),{default:Tv(function(){return[On(st("div",{ref:"vfmContainer",class:["vfm__container vfm--absolute vfm--inset vfm--outline-none",n.classes],style:n.styles,"aria-expanded":r.visibility.modal.toString(),role:"dialog","aria-modal":"true",tabindex:"-1",onMouseup:t[2]||(t[2]=Dt(function(){return r.onMouseupContainer&&r.onMouseupContainer.apply(r,arguments)},["self"])),onMousedown:t[3]||(t[3]=Dt(function(){return r.onMousedown&&r.onMousedown.apply(r,arguments)},["self"]))},[st("div",{ref:"vfmContent",class:["vfm__content",[n.contentClass,{"vfm--prevent-auto":n.preventClick}]],style:r.bindContentStyle,onMousedown:t[1]||(t[1]=function(s){return r.onMousedown(null)})},[Cn(e.$slots,"default",{params:r.params,close:function(){return e.$emit("update:modelValue",!1)}}),r.visibility.resize&&r.visibility.modal?(_e(),Ht("div",dF,[(_e(!0),Ht(St,null,Tn(n.resizeDirections,function(s){return _e(),Ht("div",{key:s,direction:s,class:["vfm--resize-".concat(s),"vfm--absolute vfm--prevent-auto"]},null,10,["direction"])}),128))],512)):Nt("v-if",!0)],38)],46,["aria-expanded"]),[[Ff,r.visibility.modal]])]}),_:3},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],38)),[[Ff,!n.ssr||r.visible]]):Nt("v-if",!0)});(function(e,t){t===void 0&&(t={});var n=t.insertAt;if(e&&typeof document!="undefined"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}})(`
.vfm--fixed[data-v-2836fdb5] {
  position: fixed;
}
.vfm--absolute[data-v-2836fdb5] {
  position: absolute;
}
.vfm--inset[data-v-2836fdb5] {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.vfm--overlay[data-v-2836fdb5] {
  background-color: rgba(0, 0, 0, 0.5);
}
.vfm--prevent-none[data-v-2836fdb5] {
  pointer-events: none;
}
.vfm--prevent-auto[data-v-2836fdb5] {
  pointer-events: auto;
}
.vfm--outline-none[data-v-2836fdb5]:focus {
  outline: none;
}
.vfm-enter-active[data-v-2836fdb5],
.vfm-leave-active[data-v-2836fdb5] {
  transition: opacity 0.2s;
}
.vfm-enter-from[data-v-2836fdb5],
.vfm-leave-to[data-v-2836fdb5] {
  opacity: 0;
}
.vfm--touch-none[data-v-2836fdb5] {
  touch-action: none;
}
.vfm--select-none[data-v-2836fdb5] {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.vfm--resize-tr[data-v-2836fdb5],
.vfm--resize-br[data-v-2836fdb5],
.vfm--resize-bl[data-v-2836fdb5],
.vfm--resize-tl[data-v-2836fdb5] {
  width: 12px;
  height: 12px;
  z-index: 10;
}
.vfm--resize-t[data-v-2836fdb5] {
  top: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-tr[data-v-2836fdb5] {
  top: -6px;
  right: -6px;
  cursor: nesw-resize;
}
.vfm--resize-r[data-v-2836fdb5] {
  top: 0;
  right: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-br[data-v-2836fdb5] {
  bottom: -6px;
  right: -6px;
  cursor: nwse-resize;
}
.vfm--resize-b[data-v-2836fdb5] {
  bottom: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-bl[data-v-2836fdb5] {
  bottom: -6px;
  left: -6px;
  cursor: nesw-resize;
}
.vfm--resize-l[data-v-2836fdb5] {
  top: 0;
  left: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-tl[data-v-2836fdb5] {
  top: -6px;
  left: -6px;
  cursor: nwse-resize;
}
`),Fh.render=hF,Fh.__scopeId="data-v-2836fdb5",Fh.__file="lib/VueFinalModal.vue";var J0={props:{},methods:{slice:function(e){this.api.dynamicModals.splice(e,1)},beforeOpen:function(e,t,n){var r,i=this;return(r=function*(){e.ref.params.value=t.params,yield i.$nextTick(),yield i.$nextTick(),t.value||(i.slice(n),t.reject("show"))},function(){var o=this,s=arguments;return new Promise(function(l,c){var h=r.apply(o,s);function p(v){Bk(h,l,c,p,m,"next",v)}function m(v){Bk(h,l,c,p,m,"throw",v)}p(void 0)})})()},isString:function(e){return typeof e=="string"}}},pF={class:"modals-container"};function Yk(e,t){var n=Or(Or({},e),{},{props:Or({},e.props)});return Object.assign(n.props,{api:{type:Object,default:function(){return t}}}),n}J0.render=function(e,t,n,r,i,o){return _e(),Ht("div",pF,[(_e(!0),Ht(St,null,Tn(e.api.dynamicModals,function(s,l){return _e(),Ht(Ws(s.component),yi({key:s.id},s.bind,{modelValue:s.value,"onUpdate:modelValue":function(c){return s.value=c}},w0(s.on),{on_closed:function(c){return o.slice(l)},on_beforeOpen:function(c){return o.beforeOpen(c,s)},on_opened:s.opened}),hb({_:2},[Tn(s.slots,function(c,h){return{name:h,fn:on(function(){return[Nt(" eslint-disable vue/no-v-html "),o.isString(c)?(_e(),Ht("div",{key:0,innerHTML:c},null,8,["innerHTML"])):(_e(),Ht(Ws(c.component),yi({key:1},c.bind,w0(c.on||{})),null,16))]})}})]),1040,["modelValue","onUpdate:modelValue","on_closed","on_beforeOpen","on_opened"])}),128))])},J0.__file="lib/ModalsContainer.vue";var Jk=0,AA=function(){var e,t,n=(t=null,{show:function(r){for(var i=this,o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];switch(Wb(r)){case"string":return this.toggle.apply(this,[r,!0].concat(s));case"object":return Promise.allSettled([new Promise(function(c,h){var p={value:!0,id:Symbol("dynamicModal"),component:t,bind:{},slots:{},on:{},params:s[0],reject:h,opened:function(){c("show")}};i.dynamicModals.push(Kh(Object.assign(p,r)))})])}},hide:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return this.toggle(i,!1)},hideAll:function(){return this.hide.apply(this,Ya(this.openedModals.map(function(r){return r.props.name})))},toggle:function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];var l=Array.isArray(r)?this.get.apply(this,Ya(r)):this.get(r);return Promise.allSettled(l.map(function(c){return c.toggle.apply(c,o)}))},get:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return this.modals.filter(function(s){return i.includes(s.props.name)})},dynamicModals:Kh([]),openedModals:[],modals:[],_setDefaultModal:function(r){t=r}});return _u(e={},"$vfm",n),_u(e,"VueFinalModal",function(r){var i=Yk(Fh,r);return r._setDefaultModal(i),i}(n)),_u(e,"ModalsContainer",function(r){return Yk(J0,r)}(n)),e},Hg=AA();Hg.$vfm;Hg.VueFinalModal;Hg.ModalsContainer;var DA=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Jk===0?Hg:AA(),r=n.$vfm,i=n.VueFinalModal,o=n.ModalsContainer;Jk+=1;var s=t.key||"$vfm",l=t.componentName||"VueFinalModal",c=t.dynamicContainerName||"ModalsContainer";Object.defineProperty(e.config.globalProperties,s,{get:function(){return r}}),e.provide(s,r),e.component(l,i),e.component(c,o)},MA=function(e){return{install:function(t,n){var r=Object.assign({},e,n);DA(t,r)}}};MA.install=DA;const Xk={$idFactory(e){return function(n=""){return`${this[e]}-${n}`}},$idRef(e){return`#${this.$id(e)}`}},Zk={uidProperty:"uid",uidPrefix:"uid-"};function gF(e,t={}){const n=t.uidProperty||Zk.uidProperty,r=t.uidPrefix||Zk.uidPrefix;let i=0;e.mixin({beforeCreate(){i+=1;const s=r+i;Object.defineProperties(this,{[n]:{get(){return s}}})}});const o=e.version.slice(0,2)==="3."?e.config.globalProperties:e.prototype;o.$id=Xk.$idFactory(n),o.$idRef=Xk.$idRef}const mF=function(e){if(e!==void 0)return JSON.parse(JSON.stringify(e))};var vF=typeof global=="object"&&global&&global.Object===Object&&global,OA=vF,yF=typeof self=="object"&&self&&self.Object===Object&&self,bF=OA||yF||Function("return this")(),bo=bF,_F=bo.Symbol,Gs=_F,NA=Object.prototype,wF=NA.hasOwnProperty,xF=NA.toString,Ic=Gs?Gs.toStringTag:void 0;function kF(e){var t=wF.call(e,Ic),n=e[Ic];try{e[Ic]=void 0;var r=!0}catch{}var i=xF.call(e);return r&&(t?e[Ic]=n:delete e[Ic]),i}var CF=Object.prototype,SF=CF.toString;function TF(e){return SF.call(e)}var EF="[object Null]",AF="[object Undefined]",Qk=Gs?Gs.toStringTag:void 0;function ts(e){return e==null?e===void 0?AF:EF:Qk&&Qk in Object(e)?kF(e):TF(e)}function Ko(e){return e!=null&&typeof e=="object"}var DF="[object Symbol]";function jg(e){return typeof e=="symbol"||Ko(e)&&ts(e)==DF}function LA(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var MF=Array.isArray,Hi=MF,OF=1/0,eC=Gs?Gs.prototype:void 0,tC=eC?eC.toString:void 0;function PA(e){if(typeof e=="string")return e;if(Hi(e))return LA(e,PA)+"";if(jg(e))return tC?tC.call(e):"";var t=e+"";return t=="0"&&1/e==-OF?"-0":t}var NF=/\s/;function LF(e){for(var t=e.length;t--&&NF.test(e.charAt(t)););return t}var PF=/^\s+/;function IF(e){return e&&e.slice(0,LF(e)+1).replace(PF,"")}function Ys(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var nC=0/0,FF=/^[-+]0x[0-9a-f]+$/i,RF=/^0b[01]+$/i,zF=/^0o[0-7]+$/i,BF=parseInt;function X0(e){if(typeof e=="number")return e;if(jg(e))return nC;if(Ys(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ys(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=IF(e);var n=RF.test(e);return n||zF.test(e)?BF(e.slice(2),n?2:8):FF.test(e)?nC:+e}var rC=1/0,$F=17976931348623157e292;function HF(e){if(!e)return e===0?e:0;if(e=X0(e),e===rC||e===-rC){var t=e<0?-1:1;return t*$F}return e===e?e:0}function jF(e){var t=HF(e),n=t%1;return t===t?n?t-n:t:0}function Kb(e){return e}var VF="[object AsyncFunction]",WF="[object Function]",UF="[object GeneratorFunction]",KF="[object Proxy]";function IA(e){if(!Ys(e))return!1;var t=ts(e);return t==WF||t==UF||t==VF||t==KF}var qF=bo["__core-js_shared__"],Ev=qF,iC=function(){var e=/[^.]+$/.exec(Ev&&Ev.keys&&Ev.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function GF(e){return!!iC&&iC in e}var YF=Function.prototype,JF=YF.toString;function _l(e){if(e!=null){try{return JF.call(e)}catch{}try{return e+""}catch{}}return""}var XF=/[\\^$.*+?()[\]{}|]/g,ZF=/^\[object .+?Constructor\]$/,QF=Function.prototype,eR=Object.prototype,tR=QF.toString,nR=eR.hasOwnProperty,rR=RegExp("^"+tR.call(nR).replace(XF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iR(e){if(!Ys(e)||GF(e))return!1;var t=IA(e)?rR:ZF;return t.test(_l(e))}function oR(e,t){return e==null?void 0:e[t]}function wl(e,t){var n=oR(e,t);return iR(n)?n:void 0}var sR=wl(bo,"WeakMap"),Z0=sR;function FA(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var aR=800,lR=16,uR=Date.now;function cR(e){var t=0,n=0;return function(){var r=uR(),i=lR-(r-n);if(n=r,i>0){if(++t>=aR)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function fR(e){return function(){return e}}var dR=function(){try{var e=wl(Object,"defineProperty");return e({},"",{}),e}catch{}}(),yp=dR,hR=yp?function(e,t){return yp(e,"toString",{configurable:!0,enumerable:!1,value:fR(t),writable:!0})}:Kb,pR=hR,gR=cR(pR),mR=gR;function vR(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var yR=9007199254740991,bR=/^(?:0|[1-9]\d*)$/;function qb(e,t){var n=typeof e;return t=t==null?yR:t,!!t&&(n=="number"||n!="symbol"&&bR.test(e))&&e>-1&&e%1==0&&e<t}function RA(e,t,n){t=="__proto__"&&yp?yp(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function hd(e,t){return e===t||e!==e&&t!==t}var _R=Object.prototype,wR=_R.hasOwnProperty;function xR(e,t,n){var r=e[t];(!(wR.call(e,t)&&hd(r,n))||n===void 0&&!(t in e))&&RA(e,t,n)}function kR(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],c=r?r(n[l],e[l],l,n,e):void 0;c===void 0&&(c=e[l]),i?RA(n,l,c):xR(n,l,c)}return n}var oC=Math.max;function CR(e,t,n){return t=oC(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=oC(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(s),FA(e,this,l)}}function zA(e,t){return mR(CR(e,t,Kb),e+"")}var SR=9007199254740991;function Gb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=SR}function qu(e){return e!=null&&Gb(e.length)&&!IA(e)}function BA(e,t,n){if(!Ys(n))return!1;var r=typeof t;return(r=="number"?qu(n)&&qb(t,n.length):r=="string"&&t in n)?hd(n[t],e):!1}function TR(e){return zA(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&BA(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,o)}return t})}var ER=Object.prototype;function Yb(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ER;return e===n}function AR(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var DR="[object Arguments]";function sC(e){return Ko(e)&&ts(e)==DR}var $A=Object.prototype,MR=$A.hasOwnProperty,OR=$A.propertyIsEnumerable,NR=sC(function(){return arguments}())?sC:function(e){return Ko(e)&&MR.call(e,"callee")&&!OR.call(e,"callee")},Jb=NR;function LR(){return!1}var HA=typeof Ro=="object"&&Ro&&!Ro.nodeType&&Ro,aC=HA&&typeof zo=="object"&&zo&&!zo.nodeType&&zo,PR=aC&&aC.exports===HA,lC=PR?bo.Buffer:void 0,IR=lC?lC.isBuffer:void 0,FR=IR||LR,bp=FR,RR="[object Arguments]",zR="[object Array]",BR="[object Boolean]",$R="[object Date]",HR="[object Error]",jR="[object Function]",VR="[object Map]",WR="[object Number]",UR="[object Object]",KR="[object RegExp]",qR="[object Set]",GR="[object String]",YR="[object WeakMap]",JR="[object ArrayBuffer]",XR="[object DataView]",ZR="[object Float32Array]",QR="[object Float64Array]",ez="[object Int8Array]",tz="[object Int16Array]",nz="[object Int32Array]",rz="[object Uint8Array]",iz="[object Uint8ClampedArray]",oz="[object Uint16Array]",sz="[object Uint32Array]",rn={};rn[ZR]=rn[QR]=rn[ez]=rn[tz]=rn[nz]=rn[rz]=rn[iz]=rn[oz]=rn[sz]=!0;rn[RR]=rn[zR]=rn[JR]=rn[BR]=rn[XR]=rn[$R]=rn[HR]=rn[jR]=rn[VR]=rn[WR]=rn[UR]=rn[KR]=rn[qR]=rn[GR]=rn[YR]=!1;function az(e){return Ko(e)&&Gb(e.length)&&!!rn[ts(e)]}function lz(e){return function(t){return e(t)}}var jA=typeof Ro=="object"&&Ro&&!Ro.nodeType&&Ro,pf=jA&&typeof zo=="object"&&zo&&!zo.nodeType&&zo,uz=pf&&pf.exports===jA,Av=uz&&OA.process,cz=function(){try{var e=pf&&pf.require&&pf.require("util").types;return e||Av&&Av.binding&&Av.binding("util")}catch{}}(),uC=cz,cC=uC&&uC.isTypedArray,fz=cC?lz(cC):az,Xb=fz,dz=Object.prototype,hz=dz.hasOwnProperty;function VA(e,t){var n=Hi(e),r=!n&&Jb(e),i=!n&&!r&&bp(e),o=!n&&!r&&!i&&Xb(e),s=n||r||i||o,l=s?AR(e.length,String):[],c=l.length;for(var h in e)(t||hz.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||qb(h,c)))&&l.push(h);return l}function WA(e,t){return function(n){return e(t(n))}}var pz=WA(Object.keys,Object),gz=pz,mz=Object.prototype,vz=mz.hasOwnProperty;function Zb(e){if(!Yb(e))return gz(e);var t=[];for(var n in Object(e))vz.call(e,n)&&n!="constructor"&&t.push(n);return t}function Vg(e){return qu(e)?VA(e):Zb(e)}function yz(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var bz=Object.prototype,_z=bz.hasOwnProperty;function wz(e){if(!Ys(e))return yz(e);var t=Yb(e),n=[];for(var r in e)r=="constructor"&&(t||!_z.call(e,r))||n.push(r);return n}function xz(e){return qu(e)?VA(e,!0):wz(e)}var kz=TR(function(e,t,n,r){kR(t,xz(t),e,r)}),fC=kz,Cz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sz=/^\w*$/;function Qb(e,t){if(Hi(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||jg(e)?!0:Sz.test(e)||!Cz.test(e)||t!=null&&e in Object(t)}var Tz=wl(Object,"create"),Wf=Tz;function Ez(){this.__data__=Wf?Wf(null):{},this.size=0}function Az(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dz="__lodash_hash_undefined__",Mz=Object.prototype,Oz=Mz.hasOwnProperty;function Nz(e){var t=this.__data__;if(Wf){var n=t[e];return n===Dz?void 0:n}return Oz.call(t,e)?t[e]:void 0}var Lz=Object.prototype,Pz=Lz.hasOwnProperty;function Iz(e){var t=this.__data__;return Wf?t[e]!==void 0:Pz.call(t,e)}var Fz="__lodash_hash_undefined__";function Rz(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Wf&&t===void 0?Fz:t,this}function ol(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ol.prototype.clear=Ez;ol.prototype.delete=Az;ol.prototype.get=Nz;ol.prototype.has=Iz;ol.prototype.set=Rz;function zz(){this.__data__=[],this.size=0}function Wg(e,t){for(var n=e.length;n--;)if(hd(e[n][0],t))return n;return-1}var Bz=Array.prototype,$z=Bz.splice;function Hz(e){var t=this.__data__,n=Wg(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():$z.call(t,n,1),--this.size,!0}function jz(e){var t=this.__data__,n=Wg(t,e);return n<0?void 0:t[n][1]}function Vz(e){return Wg(this.__data__,e)>-1}function Wz(e,t){var n=this.__data__,r=Wg(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ns(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ns.prototype.clear=zz;ns.prototype.delete=Hz;ns.prototype.get=jz;ns.prototype.has=Vz;ns.prototype.set=Wz;var Uz=wl(bo,"Map"),Uf=Uz;function Kz(){this.size=0,this.__data__={hash:new ol,map:new(Uf||ns),string:new ol}}function qz(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ug(e,t){var n=e.__data__;return qz(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Gz(e){var t=Ug(this,e).delete(e);return this.size-=t?1:0,t}function Yz(e){return Ug(this,e).get(e)}function Jz(e){return Ug(this,e).has(e)}function Xz(e,t){var n=Ug(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function rs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}rs.prototype.clear=Kz;rs.prototype.delete=Gz;rs.prototype.get=Yz;rs.prototype.has=Jz;rs.prototype.set=Xz;var Zz="Expected a function";function e1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Zz);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(e1.Cache||rs),n}e1.Cache=rs;var Qz=500;function eB(e){var t=e1(e,function(r){return n.size===Qz&&n.clear(),r}),n=t.cache;return t}var tB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nB=/\\(\\)?/g,rB=eB(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(tB,function(n,r,i,o){t.push(i?o.replace(nB,"$1"):r||n)}),t}),iB=rB;function t1(e){return e==null?"":PA(e)}function UA(e,t){return Hi(e)?e:Qb(e,t)?[e]:iB(t1(e))}var oB=1/0;function Kg(e){if(typeof e=="string"||jg(e))return e;var t=e+"";return t=="0"&&1/e==-oB?"-0":t}function KA(e,t){t=UA(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Kg(t[n++])];return n&&n==r?e:void 0}function sB(e,t,n){var r=e==null?void 0:KA(e,t);return r===void 0?n:r}function aB(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var lB=WA(Object.getPrototypeOf,Object),uB=lB,cB="[object Object]",fB=Function.prototype,dB=Object.prototype,qA=fB.toString,hB=dB.hasOwnProperty,pB=qA.call(Object);function gB(e){if(!Ko(e)||ts(e)!=cB)return!1;var t=uB(e);if(t===null)return!0;var n=hB.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&qA.call(n)==pB}var mB="[object DOMException]",vB="[object Error]";function GA(e){if(!Ko(e))return!1;var t=ts(e);return t==vB||t==mB||typeof e.message=="string"&&typeof e.name=="string"&&!gB(e)}var yB=zA(function(e,t){try{return FA(e,void 0,t)}catch(n){return GA(n)?n:new Error(n)}}),bB=yB,_B="\\ud800-\\udfff",wB="\\u0300-\\u036f",xB="\\ufe20-\\ufe2f",kB="\\u20d0-\\u20ff",CB=wB+xB+kB,SB="\\ufe0e\\ufe0f",TB="\\u200d",EB=RegExp("["+TB+_B+CB+SB+"]");function AB(e){return EB.test(e)}function DB(e){return function(t){return e==null?void 0:e[t]}}function MB(){this.__data__=new ns,this.size=0}function OB(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function NB(e){return this.__data__.get(e)}function LB(e){return this.__data__.has(e)}var PB=200;function IB(e,t){var n=this.__data__;if(n instanceof ns){var r=n.__data__;if(!Uf||r.length<PB-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new rs(r)}return n.set(e,t),this.size=n.size,this}function Ho(e){var t=this.__data__=new ns(e);this.size=t.size}Ho.prototype.clear=MB;Ho.prototype.delete=OB;Ho.prototype.get=NB;Ho.prototype.has=LB;Ho.prototype.set=IB;function FB(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function RB(){return[]}var zB=Object.prototype,BB=zB.propertyIsEnumerable,dC=Object.getOwnPropertySymbols,$B=dC?function(e){return e==null?[]:(e=Object(e),FB(dC(e),function(t){return BB.call(e,t)}))}:RB,HB=$B;function jB(e,t,n){var r=t(e);return Hi(e)?r:aB(r,n(e))}function hC(e){return jB(e,Vg,HB)}var VB=wl(bo,"DataView"),Q0=VB,WB=wl(bo,"Promise"),ey=WB,UB=wl(bo,"Set"),ty=UB,pC="[object Map]",KB="[object Object]",gC="[object Promise]",mC="[object Set]",vC="[object WeakMap]",yC="[object DataView]",qB=_l(Q0),GB=_l(Uf),YB=_l(ey),JB=_l(ty),XB=_l(Z0),Oa=ts;(Q0&&Oa(new Q0(new ArrayBuffer(1)))!=yC||Uf&&Oa(new Uf)!=pC||ey&&Oa(ey.resolve())!=gC||ty&&Oa(new ty)!=mC||Z0&&Oa(new Z0)!=vC)&&(Oa=function(e){var t=ts(e),n=t==KB?e.constructor:void 0,r=n?_l(n):"";if(r)switch(r){case qB:return yC;case GB:return pC;case YB:return gC;case JB:return mC;case XB:return vC}return t});var _p=Oa,ZB=bo.Uint8Array,bC=ZB,QB="__lodash_hash_undefined__";function e7(e){return this.__data__.set(e,QB),this}function t7(e){return this.__data__.has(e)}function wp(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new rs;++t<n;)this.add(e[t])}wp.prototype.add=wp.prototype.push=e7;wp.prototype.has=t7;function n7(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function r7(e,t){return e.has(t)}var i7=1,o7=2;function YA(e,t,n,r,i,o){var s=n&i7,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var m=-1,v=!0,b=n&o7?new wp:void 0;for(o.set(e,t),o.set(t,e);++m<l;){var _=e[m],x=t[m];if(r)var D=s?r(x,_,m,t,e,o):r(_,x,m,e,t,o);if(D!==void 0){if(D)continue;v=!1;break}if(b){if(!n7(t,function(E,T){if(!r7(b,T)&&(_===E||i(_,E,n,r,o)))return b.push(T)})){v=!1;break}}else if(!(_===x||i(_,x,n,r,o))){v=!1;break}}return o.delete(e),o.delete(t),v}function s7(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function a7(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var l7=1,u7=2,c7="[object Boolean]",f7="[object Date]",d7="[object Error]",h7="[object Map]",p7="[object Number]",g7="[object RegExp]",m7="[object Set]",v7="[object String]",y7="[object Symbol]",b7="[object ArrayBuffer]",_7="[object DataView]",_C=Gs?Gs.prototype:void 0,Dv=_C?_C.valueOf:void 0;function w7(e,t,n,r,i,o,s){switch(n){case _7:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b7:return!(e.byteLength!=t.byteLength||!o(new bC(e),new bC(t)));case c7:case f7:case p7:return hd(+e,+t);case d7:return e.name==t.name&&e.message==t.message;case g7:case v7:return e==t+"";case h7:var l=s7;case m7:var c=r&l7;if(l||(l=a7),e.size!=t.size&&!c)return!1;var h=s.get(e);if(h)return h==t;r|=u7,s.set(e,t);var p=YA(l(e),l(t),r,i,o,s);return s.delete(e),p;case y7:if(Dv)return Dv.call(e)==Dv.call(t)}return!1}var x7=1,k7=Object.prototype,C7=k7.hasOwnProperty;function S7(e,t,n,r,i,o){var s=n&x7,l=hC(e),c=l.length,h=hC(t),p=h.length;if(c!=p&&!s)return!1;for(var m=c;m--;){var v=l[m];if(!(s?v in t:C7.call(t,v)))return!1}var b=o.get(e),_=o.get(t);if(b&&_)return b==t&&_==e;var x=!0;o.set(e,t),o.set(t,e);for(var D=s;++m<c;){v=l[m];var E=e[v],T=t[v];if(r)var R=s?r(T,E,v,t,e,o):r(E,T,v,e,t,o);if(!(R===void 0?E===T||i(E,T,n,r,o):R)){x=!1;break}D||(D=v=="constructor")}if(x&&!D){var M=e.constructor,Y=t.constructor;M!=Y&&"constructor"in e&&"constructor"in t&&!(typeof M=="function"&&M instanceof M&&typeof Y=="function"&&Y instanceof Y)&&(x=!1)}return o.delete(e),o.delete(t),x}var T7=1,wC="[object Arguments]",xC="[object Array]",bh="[object Object]",E7=Object.prototype,kC=E7.hasOwnProperty;function A7(e,t,n,r,i,o){var s=Hi(e),l=Hi(t),c=s?xC:_p(e),h=l?xC:_p(t);c=c==wC?bh:c,h=h==wC?bh:h;var p=c==bh,m=h==bh,v=c==h;if(v&&bp(e)){if(!bp(t))return!1;s=!0,p=!1}if(v&&!p)return o||(o=new Ho),s||Xb(e)?YA(e,t,n,r,i,o):w7(e,t,c,n,r,i,o);if(!(n&T7)){var b=p&&kC.call(e,"__wrapped__"),_=m&&kC.call(t,"__wrapped__");if(b||_){var x=b?e.value():e,D=_?t.value():t;return o||(o=new Ho),i(x,D,n,r,o)}}return v?(o||(o=new Ho),S7(e,t,n,r,i,o)):!1}function n1(e,t,n,r,i){return e===t?!0:e==null||t==null||!Ko(e)&&!Ko(t)?e!==e&&t!==t:A7(e,t,n,r,n1,i)}var D7=1,M7=2;function O7(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var l=n[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){l=n[i];var c=l[0],h=e[c],p=l[1];if(s&&l[2]){if(h===void 0&&!(c in e))return!1}else{var m=new Ho;if(r)var v=r(h,p,c,e,t,m);if(!(v===void 0?n1(p,h,D7|M7,r,m):v))return!1}}return!0}function JA(e){return e===e&&!Ys(e)}function N7(e){for(var t=Vg(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,JA(i)]}return t}function XA(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function L7(e){var t=N7(e);return t.length==1&&t[0][2]?XA(t[0][0],t[0][1]):function(n){return n===e||O7(n,e,t)}}function P7(e,t){return e!=null&&t in Object(e)}function I7(e,t,n){t=UA(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=Kg(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&Gb(i)&&qb(s,i)&&(Hi(e)||Jb(e)))}function F7(e,t){return e!=null&&I7(e,t,P7)}var R7=1,z7=2;function B7(e,t){return Qb(e)&&JA(t)?XA(Kg(e),t):function(n){var r=sB(n,e);return r===void 0&&r===t?F7(n,e):n1(t,r,R7|z7)}}function ZA(e){return function(t){return t==null?void 0:t[e]}}function $7(e){return function(t){return KA(t,e)}}function H7(e){return Qb(e)?ZA(Kg(e)):$7(e)}function QA(e){return typeof e=="function"?e:e==null?Kb:typeof e=="object"?Hi(e)?B7(e[0],e[1]):L7(e):H7(e)}var j7=function(){return bo.Date.now()},Mv=j7,V7="Expected a function",W7=Math.max,U7=Math.min;function eD(e,t,n){var r,i,o,s,l,c,h=0,p=!1,m=!1,v=!0;if(typeof e!="function")throw new TypeError(V7);t=X0(t)||0,Ys(n)&&(p=!!n.leading,m="maxWait"in n,o=m?W7(X0(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v);function b(J){var Z=r,z=i;return r=i=void 0,h=J,s=e.apply(z,Z),s}function _(J){return h=J,l=setTimeout(E,t),p?b(J):s}function x(J){var Z=J-c,z=J-h,B=t-Z;return m?U7(B,o-z):B}function D(J){var Z=J-c,z=J-h;return c===void 0||Z>=t||Z<0||m&&z>=o}function E(){var J=Mv();if(D(J))return T(J);l=setTimeout(E,x(J))}function T(J){return l=void 0,v&&r?b(J):(r=i=void 0,s)}function R(){l!==void 0&&clearTimeout(l),h=0,r=c=i=l=void 0}function M(){return l===void 0?s:T(Mv())}function Y(){var J=Mv(),Z=D(J);if(r=arguments,i=this,c=J,Z){if(l===void 0)return _(c);if(m)return clearTimeout(l),l=setTimeout(E,t),b(c)}return l===void 0&&(l=setTimeout(E,t)),s}return Y.cancel=R,Y.flush=M,Y}var K7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},q7=DB(K7),G7=q7,tD=/[&<>"']/g,Y7=RegExp(tD.source);function J7(e){return e=t1(e),e&&Y7.test(e)?e.replace(tD,G7):e}function X7(e){return function(t,n,r){var i=Object(t);if(!qu(t)){var o=QA(n);t=Vg(t),n=function(l){return o(i[l],l,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}var Z7=Math.max;function Q7(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:jF(n);return i<0&&(i=Z7(r+i,0)),vR(e,QA(t),i)}var e9=X7(Q7),nD=e9,t9="[object String]";function n9(e){return typeof e=="string"||!Hi(e)&&Ko(e)&&ts(e)==t9}function r9(e,t){return LA(t,function(n){return e[n]})}var i9="[object Map]",o9="[object Set]",s9=Object.prototype,a9=s9.hasOwnProperty;function Na(e){if(e==null)return!0;if(qu(e)&&(Hi(e)||typeof e=="string"||typeof e.splice=="function"||bp(e)||Xb(e)||Jb(e)))return!e.length;var t=_p(e);if(t==i9||t==o9)return!e.size;if(Yb(e))return!Zb(e).length;for(var n in e)if(a9.call(e,n))return!1;return!0}var l9=ZA("length"),u9=l9,rD="\\ud800-\\udfff",c9="\\u0300-\\u036f",f9="\\ufe20-\\ufe2f",d9="\\u20d0-\\u20ff",h9=c9+f9+d9,p9="\\ufe0e\\ufe0f",g9="["+rD+"]",ny="["+h9+"]",ry="\\ud83c[\\udffb-\\udfff]",m9="(?:"+ny+"|"+ry+")",iD="[^"+rD+"]",oD="(?:\\ud83c[\\udde6-\\uddff]){2}",sD="[\\ud800-\\udbff][\\udc00-\\udfff]",v9="\\u200d",aD=m9+"?",lD="["+p9+"]?",y9="(?:"+v9+"(?:"+[iD,oD,sD].join("|")+")"+lD+aD+")*",b9=lD+aD+y9,_9="(?:"+[iD+ny+"?",ny,oD,sD,g9].join("|")+")",CC=RegExp(ry+"(?="+ry+")|"+_9+b9,"g");function w9(e){for(var t=CC.lastIndex=0;CC.test(e);)++t;return t}function x9(e){return AB(e)?w9(e):u9(e)}var k9="[object Map]",C9="[object Set]";function S9(e){if(e==null)return 0;if(qu(e))return n9(e)?x9(e):e.length;var t=_p(e);return t==k9||t==C9?e.size:Zb(e).length}var uD=Object.prototype,T9=uD.hasOwnProperty;function SC(e,t,n,r){return e===void 0||hd(e,uD[n])&&!T9.call(r,n)?t:e}var E9={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function A9(e){return"\\"+E9[e]}var D9=/<%=([\s\S]+?)%>/g,cD=D9,M9=/<%-([\s\S]+?)%>/g,O9=M9,N9=/<%([\s\S]+?)%>/g,L9=N9,P9={escape:O9,evaluate:L9,interpolate:cD,variable:"",imports:{_:{escape:J7}}},TC=P9,I9="Invalid `variable` option passed into `_.template`",F9=/\b__p \+= '';/g,R9=/\b(__p \+=) '' \+/g,z9=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B9=/[()=,{}\[\]\/\s]/,$9=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_h=/($^)/,H9=/['\n\r\u2028\u2029\\]/g,j9=Object.prototype,EC=j9.hasOwnProperty;function V9(e,t,n){var r=TC.imports._.templateSettings||TC;n&&BA(e,t,n)&&(t=void 0),e=t1(e),t=fC({},t,r,SC);var i=fC({},t.imports,r.imports,SC),o=Vg(i),s=r9(i,o),l,c,h=0,p=t.interpolate||_h,m="__p += '",v=RegExp((t.escape||_h).source+"|"+p.source+"|"+(p===cD?$9:_h).source+"|"+(t.evaluate||_h).source+"|$","g"),b=EC.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(v,function(D,E,T,R,M,Y){return T||(T=R),m+=e.slice(h,Y).replace(H9,A9),E&&(l=!0,m+=`' +
__e(`+E+`) +
'`),M&&(c=!0,m+=`';
`+M+`;
__p += '`),T&&(m+=`' +
((__t = (`+T+`)) == null ? '' : __t) +
'`),h=Y+D.length,D}),m+=`';
`;var _=EC.call(t,"variable")&&t.variable;if(!_)m=`with (obj) {
`+m+`
}
`;else if(B9.test(_))throw new Error(I9);m=(c?m.replace(F9,""):m).replace(R9,"$1").replace(z9,"$1;"),m="function("+(_||"obj")+`) {
`+(_?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+m+`return __p
}`;var x=bB(function(){return Function(o,b+"return "+m).apply(void 0,s)});if(x.source=m,GA(x))throw x;return x}const W9=function(e,t,n){return typeof Craft.translations[e]!="undefined"&&typeof Craft.translations[e][t]!="undefined"&&(t=Craft.translations[e][t]),n?V9(t,{interpolate:/{([\s\S]+?)}/g})(n):t},fD=e=>{const t=wb(Ne({delimiters:["${","}"]},e));return t.config.unwrapInjectedRef=!0,t.use(MA),t.use(gF),t.use(oF,{themes:{"vui-tooltip":{$extend:"tooltip",delay:{show:0,hide:0}}}}),t.config.globalProperties.t=W9,t.config.globalProperties.clone=mF,t.config.globalProperties.$events=jI(),t.config.globalProperties.$isDebug=!1,t};function Xn(e){this.content=e}Xn.prototype={constructor:Xn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new Xn(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Xn(n)},addToStart:function(e,t){return new Xn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Xn(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new Xn(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Xn.from(e),e.size?new Xn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Xn.from(e),e.size?new Xn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Xn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}};Xn.from=function(e){if(e instanceof Xn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Xn(t)};function dD(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=dD(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function hD(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=e.child(--i),l=t.child(--o),c=s.nodeSize;if(s==l){n-=c,r-=c;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let h=0,p=Math.min(s.text.length,l.text.length);for(;h<p&&s.text[s.text.length-h-1]==l.text[l.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let h=hD(s.content,l.content,n-1,r-1);if(h)return h}n-=c,r-=c}}class Ie{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let c=this.content[s],h=l+c.nodeSize;if(h>t&&r(c,i+l,o||null,s)!==!1&&c.content.size){let p=l+1;c.nodesBetween(Math.max(0,t-p),Math.min(c.content.size,n-p),r,i+p)}l=h}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",s=!0;return this.nodesBetween(t,n,(l,c)=>{l.isText?(o+=l.text.slice(Math.max(t,c)-c,n-c),s=!r):l.isLeaf?(i?o+=typeof i=="function"?i(l):i:l.type.spec.leafText&&(o+=l.type.spec.leafText(l)),s=!r):!s&&l.isBlock&&(o+=r,s=!0)},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new Ie(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,s=0;s<n;o++){let l=this.content[o],c=s+l.nodeSize;c>t&&((s<t||c>n)&&(l.isText?l=l.cut(Math.max(0,t-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,t-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=c}return new Ie(r,i)}cutByIndex(t,n){return t==n?Ie.empty:t==0&&n==this.content.length?this:new Ie(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Ie(i,o)}addToStart(t){return new Ie([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Ie(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return dD(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return hD(this,t,n,r)}findIndex(t,n=-1){if(t==0)return wh(0,t);if(t==this.size)return wh(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=t)return s==t||n>0?wh(r+1,s):wh(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Ie.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ie(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Ie.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Ie(n||t,r)}static from(t){if(!t)return Ie.empty;if(t instanceof Ie)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ie([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ie.empty=new Ie([],0);const Ov={index:0,offset:0};function wh(e,t){return Ov.index=e,Ov.offset=t,Ov}function xp(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!xp(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!xp(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class Yt{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&xp(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Yt.none;if(t instanceof Yt)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Yt.none=[];class Kf extends Error{}class Ze{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=gD(this.content,t+this.openStart,n);return r&&new Ze(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Ze(pD(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Ze.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ze(Ie.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Ze(t,r,i)}}Ze.empty=new Ze(Ie.empty,0,0);function pD(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:s,offset:l}=e.findIndex(n);if(i==t||o.isText){if(l!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(pD(o.content,t-i-1,n-i-1)))}function gD(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),s=e.maybeChild(i);if(o==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let l=gD(s.content,t-o-1,n);return l&&e.replaceChild(i,s.copy(l))}function U9(e,t,n){if(n.openStart>e.depth)throw new Kf("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Kf("Inconsistent open depths");return mD(e,t,n,0)}function mD(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=mD(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,l=s.content;return Xa(s,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:s,end:l}=K9(n,e);return Xa(o,yD(e,s,l,t,r))}else return Xa(o,kp(e,t,r))}function vD(e,t){if(!t.type.compatibleContent(e.type))throw new Kf("Cannot join "+t.type.name+" onto "+e.type.name)}function iy(e,t,n){let r=e.node(n);return vD(r,t.node(n)),r}function Ja(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function gf(e,t,n,r){let i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(Ja(e.nodeAfter,r),o++));for(let l=o;l<s;l++)Ja(i.child(l),r);t&&t.depth==n&&t.textOffset&&Ja(t.nodeBefore,r)}function Xa(e,t){if(!e.type.validContent(t))throw new Kf("Invalid content for node "+e.type.name);return e.copy(t)}function yD(e,t,n,r,i){let o=e.depth>i&&iy(e,t,i+1),s=r.depth>i&&iy(n,r,i+1),l=[];return gf(null,e,i,l),o&&s&&t.index(i)==n.index(i)?(vD(o,s),Ja(Xa(o,yD(e,t,n,r,i+1)),l)):(o&&Ja(Xa(o,kp(e,t,i+1)),l),gf(t,n,i,l),s&&Ja(Xa(s,kp(n,r,i+1)),l)),gf(r,null,i,l),new Ie(l)}function kp(e,t,n){let r=[];if(gf(null,e,n,r),e.depth>n){let i=iy(e,t,n+1);Ja(Xa(i,kp(e,t,n+1)),r)}return gf(t,null,n,r),new Ie(r)}function K9(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(Ie.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class qf{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Yt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Cp(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=t;;){let{index:l,offset:c}=s.content.findIndex(o),h=o-c;if(r.push(s,l,i+c),!h||(s=s.child(l),s.isText))break;o=h-1,i+=c+1}return new qf(n,r,o)}static resolveCached(t,n){for(let i=0;i<Nv.length;i++){let o=Nv[i];if(o.pos==n&&o.doc==t)return o}let r=Nv[Lv]=qf.resolve(t,n);return Lv=(Lv+1)%q9,r}}let Nv=[],Lv=0,q9=12;class Cp{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const G9=Object.create(null);class co{constructor(t,n,r,i=Yt.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Ie.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&xp(this.attrs,n||t.defaultAttrs||G9)&&Yt.sameSet(this.marks,r||Yt.none)}copy(t=null){return t==this.content?this:new co(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new co(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Ze.empty;let i=this.resolve(t),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),h=i.node(s).content.cut(i.pos-l,o.pos-l);return new Ze(h,i.depth-s,o.depth-s)}replace(t,n,r){return U9(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return qf.resolveCached(this,t)}resolveNoCache(t){return qf.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),bD(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Ie.empty,i=0,o=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let c=i;c<o;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let t=Yt.none;for(let n=0;n<this.marks.length;n++)t=this.marks[n].addToSet(t);if(!Yt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Ie.fromJSON(t,n.content);return t.nodeType(n.type).create(n.attrs,i,r)}}co.prototype.text=void 0;class Sp extends co{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):bD(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Sp(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Sp(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function bD(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class sl{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Y9(t,n);if(r.next==null)return sl.empty;let i=_D(r);r.next&&r.err("Unexpected trailing text");let o=n$(t$(i));return r$(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(s,l){let c=s.matchFragment(t,r);if(c&&(!n||c.validEnd))return Ie.from(l.map(h=>h.createAndFill()));for(let h=0;h<s.next.length;h++){let{type:p,next:m}=s.next[h];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=o(m,l.concat(p));if(v)return v}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:c}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||c.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return o}).join(`
`)}}sl.empty=new sl(!0);class Y9{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function _D(e){let t=[];do t.push(J9(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function J9(e){let t=[];do t.push(X9(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function X9(e){let t=e$(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Z9(e,t);else break;return t}function AC(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Z9(e,t){let n=AC(e),r=n;return e.eat(",")&&(e.next!="}"?r=AC(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Q9(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(t)>-1&&i.push(s)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function e$(e){if(e.eat("(")){let t=_D(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Q9(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function t$(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(s,l,c){let h={term:c,to:l};return t[s].push(h),h}function i(s,l){s.forEach(c=>c.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((c,h)=>c.concat(o(h,l)),[]);if(s.type=="seq")for(let c=0;;c++){let h=o(s.exprs[c],l);if(c==s.exprs.length-1)return h;i(h,l=n())}else if(s.type=="star"){let c=n();return r(l,c),i(o(s.expr,c),c),[r(c)]}else if(s.type=="plus"){let c=n();return i(o(s.expr,l),c),i(o(s.expr,c),c),[r(c)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let c=l;for(let h=0;h<s.min;h++){let p=n();i(o(s.expr,c),p),c=p}if(s.max==-1)i(o(s.expr,c),c);else for(let h=s.min;h<s.max;h++){let p=n();r(c,p),i(o(s.expr,c),p),c=p}return[r(c)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function wD(e,t){return t-e}function DC(e,t){let n=[];return r(t),n.sort(wD);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:c}=o[s];!l&&n.indexOf(c)==-1&&r(c)}}}function n$(e){let t=Object.create(null);return n(DC(e,0));function n(r){let i=[];r.forEach(s=>{e[s].forEach(({term:l,to:c})=>{if(!l)return;let h;for(let p=0;p<i.length;p++)i[p][0]==l&&(h=i[p][1]);DC(e,c).forEach(p=>{h||i.push([l,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let o=t[r.join(",")]=new sl(r.indexOf(e.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(wD);o.next.push({type:i[s][0],next:t[l.join(",")]||n(l)})}return o}}function r$(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:c,next:h}=i.next[l];s.push(c.name),o&&!(c.isText||c.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function xD(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function kD(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function CD(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new i$(e[n]);return t}class Tp{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=CD(r.attrs),this.defaultAttrs=xD(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==sl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:kD(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new co(this,this.computeAttrs(t),Ie.from(n),Yt.setFrom(r))}createChecked(t=null,n,r){if(n=Ie.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new co(this,this.computeAttrs(t),n,Yt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Ie.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Ie.empty,!0);return o?new co(this,t,n.append(o),Yt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Yt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,s)=>r[o]=new Tp(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class i${constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class qg{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=CD(i.attrs),this.excluded=null;let o=xD(this.attrs);this.instance=o?new Yt(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Yt(this,kD(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,s)=>r[o]=new qg(o,i++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}excludes(t){return this.excluded.indexOf(t)>-1}}class o${constructor(t){this.cached=Object.create(null),this.spec={nodes:Xn.from(t.nodes),marks:Xn.from(t.marks||{}),topNode:t.topNode},this.nodes=Tp.compile(this.spec.nodes,this),this.marks=qg.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],o=i.spec.content||"",s=i.spec.marks;i.contentMatch=n[o]||(n[o]=sl.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=s=="_"?null:s?MC(this,s.split(" ")):s==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:MC(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Tp){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new Sp(r,r.defaultAttrs,t,Yt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return co.fromJSON(this,t)}markFromJSON(t){return Yt.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function MC(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(let l in e.marks){let c=e.marks[l];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class Fu{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=t.nodes[r.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new NC(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new NC(this,n,!0);return r.addAll(t,n.from,n.to),Ze.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(l$(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(s.getAttrs){let c=s.getAttrs(n);if(c===!1)continue;s.attrs=c||void 0}return s}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=LC(s)),s.mark=i})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=LC(s)),s.node=i})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Fu(t,Fu.schemaRules(t)))}}const SD={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},s$={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},TD={ol:!0,ul:!0},Ep=1,Ap=2,mf=4;function OC(e,t,n){return t!=null?(t?Ep:0)|(t==="full"?Ap:0):e&&e.whitespace=="pre"?Ep|Ap:n&~mf}class xh{constructor(t,n,r,i,o,s,l){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=Yt.none,this.stashMarks=[],this.match=s||(l&mf?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ie.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Ep)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Ie.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Ie.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):c$(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!SD.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class NC{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=OC(null,n.preserveWhitespace,0)|(r?mf:0);i?o=new xh(i.type,i.attrs,Yt.none,Yt.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new xh(null,null,Yt.none,Yt.none,!0,null,s):o=new xh(t.schema.topNodeType,null,Yt.none,Yt.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(t.nodeType==3)this.addTextNode(t);else if(t.nodeType==1){let n=t.getAttribute("style"),r=n?this.readStyles(u$(n)):null,i=this.top;if(r!=null)for(let o=0;o<r.length;o++)this.addPendingMark(r[o]);if(this.addElement(t),r!=null)for(let o=0;o<r.length;o++)this.removePendingMark(r[o],i)}}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&Ap||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Ep)r.options&Ap?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=t.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;TD.hasOwnProperty(r)&&this.parser.normalizeLists&&a$(t);let o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(o?o.ignore:s$.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);let s,l=this.top,c=this.needsBlock;if(SD.hasOwnProperty(r))s=!0,l.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}this.addAll(t),s&&this.sync(l),this.needsBlock=c}else this.addElementByRule(t,o,o.consuming===!1?i:void 0)}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=Yt.none;e:for(let r=0;r<t.length;r+=2)for(let i=void 0;;){let o=this.parser.matchStyle(t[r],t[r+1],this,i);if(!o)continue e;if(o.ignore)return null;if(n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)i=o;else break}return n}addElementByRule(t,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(t):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c));else{let c=t;typeof n.contentElement=="string"?c=t.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(t):n.contentElement&&(c=n.contentElement),this.findAround(t,c,!0),this.addAll(c)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(t,n,r){let i=n||0;for(let o=n?t.childNodes[n]:t.firstChild,s=r==null?null:t.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(t);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let i=0;i<t.marks.length;i++)(!n.type||n.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t);let s=OC(t,i,o.options);o.options&mf&&o.content.length==0&&(s|=mf),this.nodes.push(new xh(t,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,c)=>{for(;l>=0;l--){let h=n[l];if(h==""){if(l==n.length-1||l==0)continue;for(;c>=o;c--)if(s(l-1,c))return!0;return!1}else{let p=c>0||c==0&&i?this.nodes[c].type:r&&c>=o?r.node(c-o).type:null;if(!p||p.name!=h&&p.groups.indexOf(h)==-1)return!1;c--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=f$(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let s=i.popFromStashMark(t);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function a$(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&TD.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function l$(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function u$(e){let t=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=t.exec(e);)r.push(n[1],n[2].trim());return r}function LC(e){let t={};for(let n in e)t[n]=e[n];return t}function c$(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],s=l=>{o.push(l);for(let c=0;c<l.edgeCount;c++){let{type:h,next:p}=l.edge(c);if(h==t||o.indexOf(p)<0&&s(p))return!0}};if(s(i.contentMatch))return!0}}function f$(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class so{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=Pv(n).createDocumentFragment());let i=r,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let l=0,c=0;for(;l<o.length&&c<s.marks.length;){let h=s.marks[c];if(!this.marks[h.type.name]){c++;continue}if(!h.eq(o[l][0])||h.type.spec.spanning===!1)break;l++,c++}for(;l<o.length;)i=o.pop()[1];for(;c<s.marks.length;){let h=s.marks[c++],p=this.serializeMark(h,s.isInline,n);p&&(o.push([h,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=so.renderSpec(Pv(n),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&so.renderSpec(Pv(r),i(t,n))}static renderSpec(t,n,r=null){if(typeof n=="string")return{dom:t.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?t.createElementNS(r,i):t.createElement(i),c=n[1],h=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){h=2;for(let p in c)if(c[p]!=null){let m=p.indexOf(" ");m>0?l.setAttributeNS(p.slice(0,m),p.slice(m+1),c[p]):l.setAttribute(p,c[p])}}for(let p=h;p<n.length;p++){let m=n[p];if(m===0){if(p<n.length-1||p>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:v,contentDOM:b}=so.renderSpec(t,m,r);if(l.appendChild(v),b){if(s)throw new RangeError("Multiple content holes");s=b}}}return{dom:l,contentDOM:s}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new so(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=PC(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return PC(t.marks)}}function PC(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Pv(e){return e.document||window.document}const ED=65535,AD=Math.pow(2,16);function d$(e,t){return e+t*AD}function IC(e){return e&ED}function h$(e){return(e-(e&ED))/AD}const DD=1,MD=2,Rh=4,OD=8;class oy{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&OD)>0}get deletedBefore(){return(this.delInfo&(DD|Rh))>0}get deletedAfter(){return(this.delInfo&(MD|Rh))>0}get deletedAcross(){return(this.delInfo&Rh)>0}}class Pi{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Pi.empty)return Pi.empty}recover(t){let n=0,r=IC(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+h$(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?i:0);if(c>t)break;let h=this.ranges[l+o],p=this.ranges[l+s],m=c+h;if(t<=m){let v=h?t==c?-1:t==m?1:n:n,b=c+i+(v<0?0:p);if(r)return b;let _=t==(n<0?c:m)?null:d$(l/3,t-c),x=t==c?MD:t==m?DD:Rh;return(n<0?t!=c:t!=m)&&(x|=OD),new oy(b,x,_)}i+=p-h}return r?t+i:new oy(t+i,0,null)}touches(t,n){let r=0,i=IC(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>t)break;let h=this.ranges[l+o],p=c+h;if(t<=p&&l==i*3)return!0;r+=this.ranges[l+s]-h}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),c=s+(this.inverted?0:o),h=this.ranges[i+n],p=this.ranges[i+r];t(l,l+h,c,c+p),o+=p-h}}invert(){return new Pi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Pi.empty:new Pi(t<0?[0,-t,0]:[0,0,t])}}Pi.empty=new Pi([]);class wu{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new wu(this.maps,this.mirror,t,n)}copy(){return new wu(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new wu;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(t,n);if(l.recover!=null){let c=this.getMirror(o);if(c!=null&&c>o&&c<this.to){o=c,t=this.maps[c].recover(l.recover);continue}}i|=l.delInfo,t=l.pos}return r?t:new oy(t,i,null)}}const Iv=Object.create(null);class aa{getMap(){return Pi.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Iv[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Iv)throw new RangeError("Duplicate use of step JSON ID "+t);return Iv[t]=n,n.prototype.jsonID=t,n}}class Xr{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Xr(t,null)}static fail(t){return new Xr(null,t)}static fromReplace(t,n,r,i){try{return Xr.ok(t.replace(n,r,i))}catch(o){if(o instanceof Kf)return Xr.fail(o.message);throw o}}}function r1(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(r1(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Ie.fromArray(r)}class Ps extends aa{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Ze(r1(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Xr.fromReplace(t,this.from,this.to,o)}invert(){return new ao(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ps(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ps&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ps(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ps(n.from,n.to,t.markFromJSON(n.mark))}}aa.jsonID("addMark",Ps);class ao extends aa{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Ze(r1(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return Xr.fromReplace(t,this.from,this.to,r)}invert(){return new Ps(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ao(n.pos,r.pos,this.mark)}merge(t){return t instanceof ao&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ao(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ao(n.from,n.to,t.markFromJSON(n.mark))}}aa.jsonID("removeMark",ao);class ar extends aa{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&sy(t,this.from,this.to)?Xr.fail("Structure replace would overwrite content"):Xr.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Pi([this.from,this.to-this.from,this.slice.size])}invert(t){return new ar(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ar(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof ar)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Ze.empty:new Ze(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ar(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Ze.empty:new Ze(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ar(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ar(n.from,n.to,Ze.fromJSON(t,n.slice),!!n.structure)}}aa.jsonID("replace",ar);class Wn extends aa{constructor(t,n,r,i,o,s,l=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(t){if(this.structure&&(sy(t,this.from,this.gapFrom)||sy(t,this.gapTo,this.to)))return Xr.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Xr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Xr.fromReplace(t,this.from,this.to,r):Xr.fail("Content does not fit in gap")}getMap(){return new Pi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Wn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Wn(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Wn(n.from,n.to,n.gapFrom,n.gapTo,Ze.fromJSON(t,n.slice),n.insert,!!n.structure)}}aa.jsonID("replaceAround",Wn);function sy(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function p$(e,t,n,r){let i=[],o=[],s,l;e.doc.nodesBetween(t,n,(c,h,p)=>{if(!c.isInline)return;let m=c.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let v=Math.max(h,t),b=Math.min(h+c.nodeSize,n),_=r.addToSet(m);for(let x=0;x<m.length;x++)m[x].isInSet(_)||(s&&s.to==v&&s.mark.eq(m[x])?s.to=b:i.push(s=new ao(v,b,m[x])));l&&l.to==v?l.to=b:o.push(l=new Ps(v,b,r))}}),i.forEach(c=>e.step(c)),o.forEach(c=>e.step(c))}function g$(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(s,l)=>{if(!s.isInline)return;o++;let c=null;if(r instanceof qg){let h=s.marks,p;for(;p=r.isInSet(h);)(c||(c=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(s.marks)&&(c=[r]):c=s.marks;if(c&&c.length){let h=Math.min(l+s.nodeSize,n);for(let p=0;p<c.length;p++){let m=c[p],v;for(let b=0;b<i.length;b++){let _=i[b];_.step==o-1&&m.eq(i[b].style)&&(v=_)}v?(v.to=h,v.step=o):i.push({style:m,from:Math.max(l,t),to:h,step:o})}}}),i.forEach(s=>e.step(new ao(s.from,s.to,s.style)))}function m$(e,t,n,r=n.contentMatch){let i=e.doc.nodeAt(t),o=[],s=t+1;for(let l=0;l<i.childCount;l++){let c=i.child(l),h=s+c.nodeSize,p=r.matchType(c.type);if(!p)o.push(new ar(s,h,Ze.empty));else{r=p;for(let m=0;m<c.marks.length;m++)n.allowsMarkType(c.marks[m].type)||e.step(new ao(s,h,c.marks[m]))}s=h}if(!r.validEnd){let l=r.fillBefore(Ie.empty,!0);e.replace(s,s,new Ze(l,0,0))}for(let l=o.length-1;l>=0;l--)e.step(o[l])}function v$(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Gu(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),o=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!v$(i,o,s))break}return null}function y$(e,t,n){let{$from:r,$to:i,depth:o}=t,s=r.before(o+1),l=i.after(o+1),c=s,h=l,p=Ie.empty,m=0;for(let _=o,x=!1;_>n;_--)x||r.index(_)>0?(x=!0,p=Ie.from(r.node(_).copy(p)),m++):c--;let v=Ie.empty,b=0;for(let _=o,x=!1;_>n;_--)x||i.after(_+1)<i.end(_)?(x=!0,v=Ie.from(i.node(_).copy(v)),b++):h++;e.step(new Wn(c,h,s,l,new Ze(p.append(v),m,b),p.size-m,!0))}function i1(e,t,n=null,r=e){let i=b$(e,t),o=i&&_$(r,t);return o?i.map(FC).concat({type:t,attrs:n}).concat(o.map(FC)):null}function FC(e){return{type:e,attrs:null}}function b$(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}function _$(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let c=(s.length?s[s.length-1]:t).contentMatch;for(let h=r;c&&h<i;h++)c=c.matchType(n.child(h).type);return!c||!c.validEnd?null:s}function w$(e,t,n){let r=Ie.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ie.from(n[s].type.create(n[s].attrs,r))}let i=t.start,o=t.end;e.step(new Wn(i,o,i,o,new Ze(r,0,0),n.length,!0))}function x$(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&k$(e.doc,e.mapping.slice(o).map(l),r)){e.clearIncompatible(e.mapping.slice(o).map(l,1),r);let c=e.mapping.slice(o),h=c.map(l,1),p=c.map(l+s.nodeSize,1);return e.step(new Wn(h,p,h+1,p-1,new Ze(Ie.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function k$(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function C$(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Wn(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new Ze(Ie.from(s),0,0),1,!0))}function jo(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let h=i.depth-1,p=n-2;h>o;h--,p--){let m=i.node(h),v=i.index(h);if(m.type.spec.isolating)return!1;let b=m.content.cutByIndex(v,m.childCount),_=r&&r[p]||m;if(_!=m&&(b=b.replaceChild(0,_.type.create(_.attrs))),!m.canReplace(v+1,m.childCount)||!_.type.validContent(b))return!1}let l=i.indexAfter(o),c=r&&r[0];return i.node(o).canReplaceWith(l,l,c?c.type:i.node(o+1).type)}function S$(e,t,n=1,r){let i=e.doc.resolve(t),o=Ie.empty,s=Ie.empty;for(let l=i.depth,c=i.depth-n,h=n-1;l>c;l--,h--){o=Ie.from(i.node(l).copy(o));let p=r&&r[h];s=Ie.from(p?p.type.create(p.attrs,s):i.node(l).copy(s))}e.step(new ar(t,t,new Ze(o.append(s),n,n),!0))}function pd(e,t){let n=e.resolve(t),r=n.index();return T$(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function T$(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function E$(e,t,n){let r=new ar(t-n,t+n,Ze.empty,!0);e.step(r)}function A$(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function ND(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,c=r.index(s)+(l>0?1:0),h=r.node(s),p=!1;if(o==1)p=h.canReplace(c,c,i);else{let m=h.contentMatchAt(c).findWrapping(i.firstChild.type);p=m&&h.canReplaceWith(c,c,m[0])}if(p)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function o1(e,t,n=t,r=Ze.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return LD(i,o,r)?new ar(t,n,r):new D$(i,o,r).fit()}function LD(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class D${constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ie.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=Ie.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let c=new Ze(o,s,l);return t>-1?new Wn(r.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new ar(r.pos,i.pos,c):null}findFittable(){for(let t=1;t<=2;t++)for(let n=this.unplaced.openStart;n>=0;n--){let r,i=null;n?(i=Fv(this.unplaced.content,n-1).firstChild,r=i.content):r=this.unplaced.content;let o=r.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:c}=this.frontier[s],h,p=null;if(t==1&&(o?c.matchType(o.type)||(p=c.fillBefore(Ie.from(o),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:s,parent:i,inject:p};if(t==2&&o&&(h=c.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:i,wrap:h};if(i&&c.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Fv(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ze(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Fv(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new Ze(Kc(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Ze(Kc(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let x=0;x<o.length;x++)this.openFrontierNode(o[x]);let s=this.unplaced,l=r?r.content:s.content,c=s.openStart-t,h=0,p=[],{match:m,type:v}=this.frontier[n];if(i){for(let x=0;x<i.childCount;x++)p.push(i.child(x));m=m.matchFragment(i)}let b=l.size+t-(s.content.size-s.openEnd);for(;h<l.childCount;){let x=l.child(h),D=m.matchType(x.type);if(!D)break;h++,(h>1||c==0||x.content.size)&&(m=D,p.push(PD(x.mark(v.allowedMarks(x.marks)),h==1?c:0,h==l.childCount?b:-1)))}let _=h==l.childCount;_||(b=-1),this.placed=qc(this.placed,n,Ie.from(p)),this.frontier[n].match=m,_&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,D=l;x<b;x++){let E=D.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),D=E.content}this.unplaced=_?t==0?Ze.empty:new Ze(Kc(s.content,t-1,1),t-1,b<0?s.openEnd:t-1):new Ze(Kc(s.content,t,h),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Rv(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=Rv(t,n,i,r,o);if(!!s){for(let l=n-1;l>=0;l--){let{match:c,type:h}=this.frontier[l],p=Rv(t,l,h,c,!0);if(!p||p.childCount)continue e}return{depth:n,fit:s,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=qc(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=qc(this.placed,this.depth,Ie.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Ie.empty,!0);n.childCount&&(this.placed=qc(this.placed,this.frontier.length,n))}}function Kc(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Kc(e.firstChild.content,t-1,n)))}function qc(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(qc(e.lastChild.content,t-1,n)))}function Fv(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function PD(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,PD(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Ie.empty,!0)))),e.copy(r)}function Rv(e,t,n,r,i){let o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!M$(n,o.content,s)?l:null}function M$(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function O$(e){return e.spec.defining||e.spec.definingForContent}function N$(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(LD(i,o,r))return e.step(new ar(t,n,r));let s=FD(i,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let v=i.depth,b=i.pos-1;v>0;v--,b--){let _=i.node(v).type.spec;if(_.defining||_.definingAsContext||_.isolating)break;s.indexOf(v)>-1?l=v:i.before(v)==b&&s.splice(1,0,-v)}let c=s.indexOf(l),h=[],p=r.openStart;for(let v=r.content,b=0;;b++){let _=v.firstChild;if(h.push(_),b==r.openStart)break;v=_.content}for(let v=p-1;v>=0;v--){let b=h[v].type,_=O$(b);if(_&&i.node(c).type!=b)p=v;else if(_||!b.isTextblock)break}for(let v=r.openStart;v>=0;v--){let b=(v+p+1)%(r.openStart+1),_=h[b];if(!!_)for(let x=0;x<s.length;x++){let D=s[(x+c)%s.length],E=!0;D<0&&(E=!1,D=-D);let T=i.node(D-1),R=i.index(D-1);if(T.canReplaceWith(R,R,_.type,_.marks))return e.replace(i.before(D),E?o.after(D):n,new Ze(ID(r.content,0,r.openStart,b),b,r.openEnd))}}let m=e.steps.length;for(let v=s.length-1;v>=0&&(e.replace(t,n,r),!(e.steps.length>m));v--){let b=s[v];b<0||(t=i.before(b),n=o.after(b))}}function ID(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(ID(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),s=o.fillBefore(e).append(e);e=s.append(o.matchFragment(s).fillBefore(Ie.empty,!0))}return e}function L$(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=A$(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new Ze(Ie.from(r),0,0))}function P$(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=FD(r,i);for(let s=0;s<o.length;s++){let l=o[s],c=s==o.length-1;if(c&&l==0||r.node(l).type.contentMatch.validEnd)return e.delete(r.start(l),i.end(l));if(l>0&&(c||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return e.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return e.delete(r.before(s),n);e.delete(t,n)}function FD(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}let Ru=class extends Error{};Ru=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Ru.prototype=Object.create(Error.prototype);Ru.prototype.constructor=Ru;Ru.prototype.name="TransformError";class RD{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new wu}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Ru(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Ze.empty){let i=o1(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Ze(Ie.from(r),0,0))}delete(t,n){return this.replace(t,n,Ze.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return N$(this,t,n,r),this}replaceRangeWith(t,n,r){return L$(this,t,n,r),this}deleteRange(t,n){return P$(this,t,n),this}lift(t,n){return y$(this,t,n),this}join(t,n=1){return E$(this,t,n),this}wrap(t,n){return w$(this,t,n),this}setBlockType(t,n=t,r,i=null){return x$(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i=[]){return C$(this,t,n,r,i),this}split(t,n=1,r){return S$(this,t,n,r),this}addMark(t,n,r){return p$(this,t,n,r),this}removeMark(t,n,r){return g$(this,t,n,r),this}clearIncompatible(t,n,r){return m$(this,t,n,r),this}}const zv=Object.create(null);class _t{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new I$(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Ze.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=t.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:c,$to:h}=s[l],p=t.mapping.slice(o);t.replaceRange(p.map(c.pos),p.map(h.pos),l?Ze.empty:n),l==0&&BC(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],c=t.mapping.slice(r),h=c.map(s.pos),p=c.map(l.pos);o?t.deleteRange(h,p):(t.replaceRangeWith(h,p,n),BC(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new vt(t):Ql(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let s=n<0?Ql(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):Ql(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new ni(t.node(0))}static atStart(t){return Ql(t,t,0,0,1)||new ni(t)}static atEnd(t){return Ql(t,t,t.content.size,t.childCount,-1)||new ni(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=zv[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in zv)throw new RangeError("Duplicate use of selection JSON ID "+t);return zv[t]=n,n.prototype.jsonID=t,n}getBookmark(){return vt.between(this.$anchor,this.$head).getBookmark()}}_t.prototype.visible=!0;class I${constructor(t,n){this.$from=t,this.$to=n}}let RC=!1;function zC(e){!RC&&!e.parent.inlineContent&&(RC=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class vt extends _t{constructor(t,n=t){zC(t),zC(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return _t.near(r);let i=t.resolve(n.map(this.anchor));return new vt(i.parent.inlineContent?i:r,r)}replace(t,n=Ze.empty){if(super.replace(t,n),n==Ze.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof vt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Gg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new vt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=_t.findFrom(n,r,!0)||_t.findFrom(n,-r,!0);if(o)n=o.$head;else return _t.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(_t.findFrom(t,-r,!0)||_t.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new vt(t,n)}}_t.jsonID("text",vt);class Gg{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Gg(t.map(this.anchor),t.map(this.head))}resolve(t){return vt.between(t.resolve(this.anchor),t.resolve(this.head))}}class ft extends _t{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?_t.near(o):new ft(o)}content(){return new Ze(Ie.from(this.node),0,0)}eq(t){return t instanceof ft&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new s1(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ft(t.resolve(n.anchor))}static create(t,n){return new ft(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ft.prototype.visible=!1;_t.jsonID("node",ft);class s1{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Gg(r,r):new s1(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&ft.isSelectable(r)?new ft(n):_t.near(n)}}class ni extends _t{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Ze.empty){if(n==Ze.empty){t.delete(0,t.doc.content.size);let r=_t.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new ni(t)}map(t){return new ni(t)}eq(t){return t instanceof ni}getBookmark(){return F$}}_t.jsonID("all",ni);const F$={map(){return this},resolve(e){return new ni(e)}};function Ql(e,t,n,r,i,o=!1){if(t.inlineContent)return vt.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let l=t.child(s);if(l.isAtom){if(!o&&ft.isSelectable(l))return ft.create(e,n-(i<0?l.nodeSize:0))}else{let c=Ql(e,l,n+i,i<0?l.childCount:0,i,o);if(c)return c}n+=l.nodeSize*i}return null}function BC(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof ar||i instanceof Wn))return;let o=e.mapping.maps[r],s;o.forEach((l,c,h,p)=>{s==null&&(s=p)}),e.setSelection(_t.near(e.doc.resolve(s),n))}const $C=1,kh=2,HC=4;class R$ extends RD{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|$C)&~kh,this.storedMarks=null,this}get selectionSet(){return(this.updated&$C)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=kh,this}ensureMarks(t){return Yt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&kh)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~kh,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Yt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),this.selection.empty||this.setSelection(_t.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=HC,this}get scrolledIntoView(){return(this.updated&HC)>0}}function jC(e,t){return!t||!e?e:e.bind(t)}class Gc{constructor(t,n,r){this.name=t,this.init=jC(n.init,r),this.apply=jC(n.apply,r)}}const z$=[new Gc("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Gc("selection",{init(e,t){return e.selection||_t.atStart(t.doc)},apply(e){return e.selection}}),new Gc("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Gc("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Bv{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=z$.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Gc(r.key,r.spec.state,r))})}}class ru{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let c=i?i[s].n:0,h=i?i[s].state:this,p=c<n.length&&l.spec.appendTransaction.call(l,c?n.slice(c):n,h,r);if(p&&r.filterTransaction(p,s)){if(p.setMeta("appendedTransaction",t),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<s?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ru(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new R$(this)}static create(t){let n=new Bv(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new ru(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new Bv(this.schema,t.plugins),r=n.fields,i=new ru(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new Bv(t.schema,t.plugins),o=new ru(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=co.fromJSON(t.schema,n.doc);else if(s.name=="selection")o.selection=_t.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let l in r){let c=r[l],h=c.spec.state;if(c.key==s.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=h.fromJSON.call(c,t,n[l],o);return}}o[s.name]=s.init(t,o)}}),o}}function zD(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=zD(i,t,{})),n[r]=i}return n}class bn{constructor(t){this.spec=t,this.props={},t.props&&zD(t.props,this,this.props),this.key=t.key?t.key.key:BD("plugin")}getState(t){return t[this.key]}}const $v=Object.create(null);function BD(e){return e in $v?e+"$"+ ++$v[e]:($v[e]=0,e+"$")}class tr{constructor(t="key"){this.key=BD(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Js=typeof navigator!="undefined"?navigator:null,VC=typeof document!="undefined"?document:null,la=Js&&Js.userAgent||"",ay=/Edge\/(\d+)/.exec(la),$D=/MSIE \d/.exec(la),ly=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(la),ri=!!($D||ly||ay),Rs=$D?document.documentMode:ly?+ly[1]:ay?+ay[1]:0,po=!ri&&/gecko\/(\d+)/i.test(la);po&&+(/Firefox\/(\d+)/.exec(la)||[0,0])[1];const uy=!ri&&/Chrome\/(\d+)/.exec(la),Sr=!!uy,B$=uy?+uy[1]:0,Rr=!ri&&!!Js&&/Apple Computer/.test(Js.vendor),zu=Rr&&(/Mobile\/\w+/.test(la)||!!Js&&Js.maxTouchPoints>2),fi=zu||(Js?/Mac/.test(Js.platform):!1),ro=/Android \d/.test(la),Yg=!!VC&&"webkitFontSmoothing"in VC.documentElement.style,$$=Yg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Gr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},a1=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let WC=null;const Do=function(e,t,n){let r=WC||(WC=document.createRange());return r.setEnd(e,n==null?e.nodeValue.length:n),r.setStart(e,t||0),r},Gf=function(e,t,n,r){return n&&(UC(e,t,n,r,-1)||UC(e,t,n,r,1))},H$=/^(img|br|input|textarea|hr)$/i;function UC(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:io(e))){let o=e.parentNode;if(!o||o.nodeType!=1||V$(e)||H$.test(e.nodeName)||e.contentEditable=="false")return!1;t=Gr(e)+(i<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?io(e):0}else return!1}}function io(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function j$(e,t,n){for(let r=t==0,i=t==io(e);r||i;){if(e==n)return!0;let o=Gr(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==io(e)}}function V$(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const l1=function(e){let t=e.isCollapsed;return t&&Sr&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function iu(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function W$(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function _s(e,t){return typeof e=="number"?e:e[t]}function U$(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function KC(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let s=n||e.dom;s;s=a1(s)){if(s.nodeType!=1)continue;let l=s,c=l==o.body,h=c?W$(o):U$(l),p=0,m=0;if(t.top<h.top+_s(r,"top")?m=-(h.top-t.top+_s(i,"top")):t.bottom>h.bottom-_s(r,"bottom")&&(m=t.bottom-h.bottom+_s(i,"bottom")),t.left<h.left+_s(r,"left")?p=-(h.left-t.left+_s(i,"left")):t.right>h.right-_s(r,"right")&&(p=t.right-h.right+_s(i,"right")),p||m)if(c)o.defaultView.scrollBy(p,m);else{let v=l.scrollLeft,b=l.scrollTop;m&&(l.scrollTop+=m),p&&(l.scrollLeft+=p);let _=l.scrollLeft-v,x=l.scrollTop-b;t={left:t.left-_,top:t.top-x,right:t.right-_,bottom:t.bottom-x}}if(c)break}}function K$(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let l=e.root.elementFromPoint(o,s);if(!l||l==e.dom||!e.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=n-20){r=l,i=c.top;break}}return{refDOM:r,refTop:i,stack:HD(e.dom)}}function HD(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=a1(r));return t}function q$({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;jD(n,r==0?0:r-t)}function jD(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Yl=null;function G$(e){if(e.setActive)return e.setActive();if(Yl)return e.focus(Yl);let t=HD(e);e.focus(Yl==null?{get preventScroll(){return Yl={preventScroll:!0},!0}}:void 0),Yl||(Yl=!1,jD(t,0))}function VD(e,t){let n,r=2e8,i,o=0,s=t.top,l=t.top;for(let c=e.firstChild,h=0;c;c=c.nextSibling,h++){let p;if(c.nodeType==1)p=c.getClientRects();else if(c.nodeType==3)p=Do(c).getClientRects();else continue;for(let m=0;m<p.length;m++){let v=p[m];if(v.top<=s&&v.bottom>=l){s=Math.max(v.bottom,s),l=Math.min(v.top,l);let b=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(b<r){n=c,r=b,i=b&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,c.nodeType==1&&b&&(o=h+(t.left>=(v.left+v.right)/2?1:0));continue}}!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(o=h+1)}}return n&&n.nodeType==3?Y$(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:VD(n,i)}function Y$(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=Ts(r,1);if(o.top!=o.bottom&&u1(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function u1(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function J$(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function X$(e,t,n){let{node:r,offset:i}=VD(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function Z$(e,t,n,r){let i=-1;for(let o=t;o!=e.dom;){let s=e.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){let l=s.dom.getBoundingClientRect();if(l.left>r.left||l.top>r.top)i=s.posBefore;else if(l.right<r.left||l.bottom<r.top)i=s.posAfter;else break}o=s.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,1)}function WD(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=e.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let c=0;c<l.length;c++){let h=l[c];if(u1(t,h))return WD(s,t,h)}}if((o=(o+1)%r)==i)break}return e}function Q$(e,t){let n=e.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let c=n.caretPositionFromPoint(t.left,t.top);c&&({offsetNode:r,offset:i}=c)}catch{}if(!r&&n.caretRangeFromPoint){let c=n.caretRangeFromPoint(t.left,t.top);c&&({startContainer:r,startOffset:i}=c)}let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top+1),s;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=e.dom.getBoundingClientRect();if(!u1(t,c)||(o=WD(e.dom,t,c),!o))return null}if(Rr)for(let c=o;r&&c;c=a1(c))c.draggable&&(r=void 0);if(o=J$(o,t),r){if(po&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],h;c.nodeName=="IMG"&&(h=c.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&i++}r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=Z$(e,r,i,t))}s==null&&(s=X$(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function Ts(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const eH=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function UD(e,t,n){let{node:r,offset:i}=e.docView.domFromPos(t,n<0?-1:1),o=Yg||po;if(r.nodeType==3)if(o&&(eH.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let s=Ts(Do(r,i,i),n);if(po&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let l=Ts(Do(r,i-1,i-1),-1);if(l.top==s.top){let c=Ts(Do(r,i,i+1),-1);if(c.top!=s.top)return Fc(c,c.left<l.left)}}return s}else{let s=i,l=i,c=n<0?1:-1;return n<0&&!i?(l++,c=-1):n>=0&&i==r.nodeValue.length?(s--,c=1):n<0?s--:l++,Fc(Ts(Do(r,s,l),c),c<0)}if(!e.state.doc.resolve(t).parent.inlineContent){if(i&&(n<0||i==io(r))){let s=r.childNodes[i-1];if(s.nodeType==1)return Hv(s.getBoundingClientRect(),!1)}if(i<io(r)){let s=r.childNodes[i];if(s.nodeType==1)return Hv(s.getBoundingClientRect(),!0)}return Hv(r.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==io(r))){let s=r.childNodes[i-1],l=s.nodeType==3?Do(s,io(s)-(o?0:1)):s.nodeType==1&&(s.nodeName!="BR"||!s.nextSibling)?s:null;if(l)return Fc(Ts(l,1),!1)}if(i<io(r)){let s=r.childNodes[i];for(;s.pmViewDesc&&s.pmViewDesc.ignoreForCoords;)s=s.nextSibling;let l=s?s.nodeType==3?Do(s,0,o?0:1):s.nodeType==1?s:null:null;if(l)return Fc(Ts(l,-1),!0)}return Fc(Ts(r.nodeType==3?Do(r):r,-n),n>=0)}function Fc(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Hv(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function KD(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function tH(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return KD(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.dom;break}o=l.dom.parentNode}let s=UD(e,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Do(l,0,l.nodeValue.length).getClientRects();else continue;for(let h=0;h<c.length;h++){let p=c[h];if(p.bottom>p.top+1&&(n=="up"?s.top-p.top>(p.bottom-s.top)*2:p.bottom-s.bottom>(s.bottom-p.top)*2))return!1}}return!0})}const nH=/[\u0590-\u08ac]/;function rH(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=e.domSelection();return!nH.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:KD(e,t,()=>{let c=l.getRangeAt(0),h=l.focusNode,p=l.focusOffset,m=l.caretBidiLevel;l.modify("move",n,"character");let b=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(l.focusNode.nodeType==1?l.focusNode:l.focusNode.parentNode)||h==l.focusNode&&p==l.focusOffset;return l.removeAllRanges(),l.addRange(c),m!=null&&(l.caretBidiLevel=m),b})}let qC=null,GC=null,YC=!1;function iH(e,t,n){return qC==t&&GC==n?YC:(qC=t,GC=n,YC=n=="up"||n=="down"?tH(e,t,n):rH(e,t,n))}const $i=0,JC=1,ou=2,go=3;class gd{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=$i,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,s;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>Gr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>t||s instanceof GD){i=t-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof qD&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Gr(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Gr(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let c=this.children[l],h=s+c.size;if(i==-1&&t<=h){let p=s+c.border;if(t>=p&&n<=h-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,n,p);t=s;for(let m=l;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=Gr(v.dom)+1;break}t-=v.size}i==-1&&(i=0)}if(i>-1&&(h>n||l==this.children.length-1)){n=h;for(let p=l+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=Gr(m.dom);break}n+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=h}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),s=Math.max(t,n);for(let v=0,b=0;v<this.children.length;v++){let _=this.children[v],x=b+_.size;if(o>b&&s<x)return _.setSelection(t-b-_.border,n-b-_.border,r,i);b=x}let l=this.domFromPos(t,t?-1:1),c=n==t?l:this.domFromPos(n,n?-1:1),h=r.getSelection(),p=!1;if((po||Rr)&&t==n){let{node:v,offset:b}=l;if(v.nodeType==3){if(p=!!(b&&v.nodeValue[b-1]==`
`),p&&b==v.nodeValue.length)for(let _=v,x;_;_=_.parentNode){if(x=_.nextSibling){x.nodeName=="BR"&&(l=c={node:x.parentNode,offset:Gr(x)+1});break}let D=_.pmViewDesc;if(D&&D.node&&D.node.isBlock)break}}else{let _=v.childNodes[b-1];p=_&&(_.nodeName=="BR"||_.contentEditable=="false")}}if(po&&h.focusNode&&h.focusNode!=c.node&&h.focusNode.nodeType==1){let v=h.focusNode.childNodes[h.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||p&&Rr)&&Gf(l.node,l.offset,h.anchorNode,h.anchorOffset)&&Gf(c.node,c.offset,h.focusNode,h.focusOffset))return;let m=!1;if((h.extend||t==n)&&!p){h.collapse(l.node,l.offset);try{t!=n&&h.extend(c.node,c.offset),m=!0}catch(v){if(!(v instanceof DOMException))throw v}}if(!m){if(t>n){let b=l;l=c,c=b}let v=document.createRange();v.setEnd(c.node,c.offset),v.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let l=r+o.border,c=s-o.border;if(t>=l&&n<=c){this.dirty=t==r||n==s?ou:JC,t==l&&n==c&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=go:o.markDirty(t-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?ou:go}r=s}this.dirty=ou}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?ou:JC;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class qD extends gd{constructor(t,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==$i&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class oH extends gd{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class al extends gd{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=so.renderSpec(document,n.type.spec.toDOM(n,r))),new al(t,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&go||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return this.dirty!=go&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=$i){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=$i}}slice(t,n,r){let i=al.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=dy(o,n,s,r)),t>0&&(o=dy(o,0,t,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class ll extends gd{constructor(t,n,r,i,o,s,l,c,h){super(t,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l,s&&this.updateChildren(c,h)}static create(t,n,r,i,o,s){let l=o.nodeViews[n.type.name],c,h=l&&l(n,o,()=>{if(!c)return s;if(c.parent)return c.parent.posBeforeChild(c)},r,i),p=h&&h.dom,m=h&&h.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=so.renderSpec(document,n.type.spec.toDOM(n)));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let v=p;return p=XD(p,r,n),h?c=new sH(t,n,r,i,p,m||null,v,h,o,s+1):n.isText?new Jg(t,n,r,i,p,v,o):new ll(t,n,r,i,p,m||null,v,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Ie.empty)}return t}matchesNode(t,n,r){return this.dirty==$i&&t.eq(this.node)&&fy(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,c=new lH(this,s&&s.node);fH(this.node,this.innerDeco,(h,p,m)=>{h.spec.marks?c.syncToMarks(h.spec.marks,r,t):h.type.side>=0&&!m&&c.syncToMarks(p==this.node.childCount?Yt.none:this.node.child(p).marks,r,t),c.placeWidget(h,t,i)},(h,p,m,v)=>{c.syncToMarks(h.marks,r,t);let b;c.findNodeMatch(h,p,m,v)||l&&t.state.selection.from>i&&t.state.selection.to<i+h.nodeSize&&(b=c.findIndexWithChild(o.node))>-1&&c.updateNodeAt(h,p,m,b,t)||c.updateNextNode(h,p,m,t,v)||c.addNode(h,p,m,t,i),i+=h.nodeSize}),c.syncToMarks([],r,t),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==ou)&&(s&&this.protectLocalComposition(t,s),YD(this.contentDOM,this.children,t),zu&&dH(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof vt)||r<n||i>n+this.node.content.size)return null;let o=t.domSelection(),s=hH(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,c=pH(this.node.content,l,r-n,i-n);return c<0?null:{node:s,pos:c,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new oH(this,o,n,i);t.input.compositionNodes.push(s),this.children=dy(this.children,r,r+i.length,t,s)}update(t,n,r,i){return this.dirty==go||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=$i}updateOuterDeco(t){if(fy(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=JD(this.dom,this.nodeDOM,cy(this.outerDeco,this.node,n),cy(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function XC(e,t,n,r,i){return XD(r,t,e),new ll(void 0,e,t,n,r,r,r,i,0)}class Jg extends ll{constructor(t,n,r,i,o,s,l){super(t,n,r,i,o,null,s,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==go||this.dirty!=$i&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=$i||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=$i,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new Jg(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=go)}get domAtom(){return!1}}class GD extends gd{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==$i&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class sH extends ll{constructor(t,n,r,i,o,s,l,c,h,p){super(t,n,r,i,o,s,l,h,p),this.spec=c}update(t,n,r,i){if(this.dirty==go)return!1;if(this.spec.update){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function YD(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let s=t[o],l=s.dom;if(l.parentNode==e){for(;l!=r;)r=ZC(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(l,r);if(s instanceof al){let c=r?r.previousSibling:e.lastChild;YD(s.contentDOM,s.children,n),r=c?c.nextSibling:e.firstChild}}for(;r;)r=ZC(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const vf=function(e){e&&(this.nodeName=e)};vf.prototype=Object.create(null);const $a=[new vf];function cy(e,t,n){if(e.length==0)return $a;let r=n?$a[0]:new vf,i=[r];for(let o=0;o<e.length;o++){let s=e[o].type.attrs;if(!!s){s.nodeName&&i.push(r=new vf(s.nodeName));for(let l in s){let c=s[l];c!=null&&(n&&i.length==1&&i.push(r=new vf(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+c:l=="style"?r.style=(r.style?r.style+";":"")+c:l!="nodeName"&&(r[l]=c))}}}return i}function JD(e,t,n,r){if(n==$a&&r==$a)return t;let i=t;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let c;l&&l.nodeName==s.nodeName&&i!=e&&(c=i.parentNode)&&c.nodeName.toLowerCase()==s.nodeName||(c=document.createElement(s.nodeName),c.pmIsDeco=!0,c.appendChild(i),l=$a[0]),i=c}aH(i,l||$a[0],s)}return i}function aH(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function XD(e,t,n){return JD(e,e,$a,cy(t,n,e.nodeType!=1))}function fy(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function ZC(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class lH{constructor(t,n){this.lock=n,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=uH(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=$i,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++)if(this.top.children[c].matchesMark(t[o])){l=c;break}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=al.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let h=this.top.children[l];if(h.matchesNode(t,n,r)&&!this.preMatch.matched.has(h)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let s=this.top.children[i];return s.dirty==go&&s.dom==s.contentDOM&&(s.dirty=ou),s.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index=i+1,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof ll){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let h=l.dom;if(!(this.lock&&(h==this.lock||h.nodeType==1&&h.contains(this.lock.parentNode))&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=go&&fy(n,l.outerDeco)))&&l.update(t,n,r,i))return this.destroyBetween(this.index,s),l.dom!=h&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(t,n,r,i,o){this.top.children.splice(this.index++,0,ll.create(this.top,t,n,r,i,o)),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new qD(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof al;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Jg)||/\n$/.test(t.node.text))&&((Rr||Sr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new GD(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}}function uH(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let h=n.children[r-1];if(h instanceof al)n=h,r=h.children.length;else{l=h,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let c=l.node;if(!!c){if(c!=e.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function cH(e,t){return e.type.side-t.type.side}function fH(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let h=0;h<e.childCount;h++){let p=e.child(h);r(p,i,t.forChild(o,p),h),o+=p.nodeSize}return}let s=0,l=[],c=null;for(let h=0;;){if(s<i.length&&i[s].to==o){let _=i[s++],x;for(;s<i.length&&i[s].to==o;)(x||(x=[_])).push(i[s++]);if(x){x.sort(cH);for(let D=0;D<x.length;D++)n(x[D],h,!!c)}else n(_,h,!!c)}let p,m;if(c)m=-1,p=c,c=null;else if(h<e.childCount)m=h,p=e.child(h++);else break;for(let _=0;_<l.length;_++)l[_].to<=o&&l.splice(_--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let v=o+p.nodeSize;if(p.isText){let _=v;s<i.length&&i[s].from<_&&(_=i[s].from);for(let x=0;x<l.length;x++)l[x].to<_&&(_=l[x].to);_<v&&(c=p.cut(_-o),p=p.cut(0,_-o),v=_,m=-1)}let b=p.isInline&&!p.isLeaf?l.filter(_=>!_.inline):l.slice();r(p,b,t.forChild(o,p),m),o=v}}function dH(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function hH(e,t){for(;;){if(e.nodeType==3)return e;if(e.nodeType==1&&t>0){if(e.childNodes.length>t&&e.childNodes[t].nodeType==3)return e.childNodes[t];e=e.childNodes[t-1],t=io(e)}else if(e.nodeType==1&&t<e.childNodes.length)e=e.childNodes[t],t=0;else return null}}function pH(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let s=e.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let c=s.text;for(;i<e.childCount;){let h=e.child(i++);if(o+=h.nodeSize,!h.isText)break;c+=h.text}if(o>=n){let h=l<r?c.lastIndexOf(t,r-l-1):-1;if(h>=0&&h+t.length+l>=n)return l+h;if(n==r&&c.length>=r+t.length-l&&c.slice(r-l,r-l+t.length)==t)return r}}return-1}function dy(e,t,n,r,i){let o=[];for(let s=0,l=0;s<e.length;s++){let c=e[s],h=l,p=l+=c.size;h>=n||p<=t?o.push(c):(h<t&&o.push(c.slice(0,t-h,r)),i&&(o.push(i),i=void 0),p>n&&o.push(c.slice(n-h,c.size,r)))}return o}function ZD(e,t=null){let n=e.domSelection(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),c,h;if(l1(n)){for(c=l;i&&!i.node;)i=i.parent;let p=i.node;if(i&&p.isAtom&&ft.isSelectable(p)&&i.parent&&!(p.isInline&&j$(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;h=new ft(s==m?l:r.resolve(m))}}else{let p=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(p<0)return null;c=r.resolve(p)}if(!h){let p=t=="pointer"||e.state.selection.head<l.pos&&!o?1:-1;h=c1(e,c,l,p)}return h}function QD(e){return e.editable?e.hasFocus():tM(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Xs(e,t=!1){let n=e.state.selection;if(eM(e,n),!!QD(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Sr){let r=e.domSelection(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Gf(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)mH(e);else{let{anchor:r,head:i}=n,o,s;QC&&!(n instanceof vt)&&(n.$from.parent.inlineContent||(o=eS(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=eS(e,n.to))),e.docView.setSelection(r,i,e.root,t),QC&&(o&&tS(o),s&&tS(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&gH(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const QC=Rr||Sr&&B$<63;function eS(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Rr&&i&&i.contentEditable=="false")return jv(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return jv(i);if(o)return jv(o)}}function jv(e){return e.contentEditable="true",Rr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function tS(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function gH(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelection(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!QD(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function mH(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Gr(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&ri&&Rs<=11&&(r.disabled=!0,r.disabled=!1)}function eM(e,t){if(t instanceof ft){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(nS(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else nS(e)}function nS(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function c1(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||vt.between(t,n,r)}function rS(e){return e.editable&&e.root.activeElement!=e.dom?!1:tM(e)}function tM(e){let t=e.domSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function vH(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelection();return Gf(t.node,t.offset,n.anchorNode,n.anchorOffset)}function hy(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&_t.findFrom(o,t)}function Ia(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function iS(e,t,n){let r=e.state.selection;if(r instanceof vt){if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let i=hy(e.state,t);return i&&i instanceof ft?Ia(e,i):!1}else if(!(fi&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=e.docView.descAt(l))&&!s.contentDOM?ft.isSelectable(o)?Ia(e,new ft(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):Yg?Ia(e,new vt(e.state.doc.resolve(t<0?l:l+o.nodeSize))):!1:!1}}else{if(r instanceof ft&&r.node.isInline)return Ia(e,new vt(t>0?r.$to:r.$from));{let i=hy(e.state,t);return i?Ia(e,i):!1}}}function Dp(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function yf(e){let t=e.pmViewDesc;return t&&t.size==0&&(e.nextSibling||e.nodeName!="BR")}function Vv(e){let t=e.domSelection(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=!1;for(po&&n.nodeType==1&&r<Dp(n)&&yf(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(yf(l))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(nM(n))break;{let l=n.previousSibling;for(;l&&yf(l);)i=n.parentNode,o=Gr(l),l=l.previousSibling;if(l)n=l,r=Dp(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?py(e,t,n,r):i&&py(e,t,i,o)}function Wv(e){let t=e.domSelection(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=Dp(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(yf(l))o=n,s=++r;else break}else{if(nM(n))break;{let l=n.nextSibling;for(;l&&yf(l);)o=l.parentNode,s=Gr(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Dp(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&py(e,t,o,s)}function nM(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function py(e,t,n,r){if(l1(t)){let o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Xs(e)},50)}function oS(e,t,n){let r=e.state.selection;if(r instanceof vt&&!r.empty||n.indexOf("s")>-1||fi&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=hy(e.state,t);if(s&&s instanceof ft)return Ia(e,s)}if(!i.parent.inlineContent){let s=t<0?i:o,l=r instanceof ni?_t.near(s,t):_t.findFrom(s,t);return l?Ia(e,l):!1}return!1}function sS(e,t){if(!(e.state.selection instanceof vt))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=e.state.tr;return t<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),e.dispatch(s),!0}return!1}function aS(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function yH(e){if(!Rr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelection();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;aS(e,r,"true"),setTimeout(()=>aS(e,r,"false"),20)}return!1}function bH(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function _H(e,t){let n=t.keyCode,r=bH(t);return n==8||fi&&n==72&&r=="c"?sS(e,-1)||Vv(e):n==46||fi&&n==68&&r=="c"?sS(e,1)||Wv(e):n==13||n==27?!0:n==37||fi&&n==66&&r=="c"?iS(e,-1,r)||Vv(e):n==39||fi&&n==70&&r=="c"?iS(e,1,r)||Wv(e):n==38||fi&&n==80&&r=="c"?oS(e,-1,r)||Vv(e):n==40||fi&&n==78&&r=="c"?yH(e)||oS(e,1,r)||Wv(e):r==(fi?"m":"c")&&(n==66||n==73||n==89||n==90)}function rM(e,t){let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let b=r.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let s=e.someProp("clipboardSerializer")||so.fromSchema(e.state.schema),l=uM(),c=l.createElement("div");c.appendChild(s.serializeFragment(r,{document:l}));let h=c.firstChild,p,m=0;for(;h&&h.nodeType==1&&(p=lM[h.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let _=l.createElement(p[b]);for(;c.firstChild;)_.appendChild(c.firstChild);c.appendChild(_),m++}h=c.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${i} ${o}${m?` -${m}`:""} ${JSON.stringify(n)}`);let v=e.someProp("clipboardTextSerializer",b=>b(t))||t.content.textBetween(0,t.content.size,`

`);return{dom:c,text:v}}function iM(e,t,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!t)return null;let c=t&&(r||o||!n);if(c){if(e.someProp("transformPastedText",v=>{t=v(t,o||r)}),o)return t?new Ze(Ie.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):Ze.empty;let m=e.someProp("clipboardTextParser",v=>v(t,i,r));if(m)l=m;else{let v=i.marks(),{schema:b}=e.state,_=so.fromSchema(b);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(x=>{let D=s.appendChild(document.createElement("p"));x&&D.appendChild(_.serializeNode(b.text(x,v)))})}}else e.someProp("transformPastedHTML",m=>{n=m(n)}),s=kH(n),Yg&&CH(s);let h=s&&s.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0&&s.firstChild;m--)s=s.firstChild;if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||Fu.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(c||p),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!wH.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)l=SH(lS(l,+p[1],+p[2]),p[4]);else if(l=Ze.maxOpen(xH(l.content,i),!0),l.openStart||l.openEnd){let m=0,v=0;for(let b=l.content.firstChild;m<l.openStart&&!b.type.spec.isolating;m++,b=b.firstChild);for(let b=l.content.lastChild;v<l.openEnd&&!b.type.spec.isolating;v++,b=b.lastChild);l=lS(l,m,v)}return e.someProp("transformPasted",m=>{l=m(l)}),l}const wH=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function xH(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),o,s=[];if(e.forEach(l=>{if(!s)return;let c=i.findWrapping(l.type),h;if(!c)return s=null;if(h=s.length&&o.length&&sM(c,o,l,s[s.length-1],0))s[s.length-1]=h;else{s.length&&(s[s.length-1]=aM(s[s.length-1],o.length));let p=oM(l,c);s.push(p),i=i.matchType(p.type),o=c}}),s)return Ie.from(s)}return e}function oM(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Ie.from(e));return e}function sM(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=sM(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Ie.from(oM(n,e,i+1))))}}function aM(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,aM(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Ie.empty,!0);return e.copy(n.append(r))}function gy(e,t,n,r,i,o){let s=t<0?e.firstChild:e.lastChild,l=s.content;return i<r-1&&(l=gy(l,t,n,r,i+1,o)),i>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,e.childCount>1||o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(Ie.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}function lS(e,t,n){return t<e.openStart&&(e=new Ze(gy(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Ze(gy(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const lM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let uS=null;function uM(){return uS||(uS=document.implementation.createHTMLDocument("title"))}function kH(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=uM().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&lM[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=e,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function CH(e){let t=e.querySelectorAll(Sr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function SH(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:s}=e;for(let l=r.length-2;l>=0;l-=2){let c=n.nodes[r[l]];if(!c||c.hasRequiredAttrs())break;i=Ie.from(c.create(r[l+1],i)),o++,s++}return new Ze(i,o,s)}const zr={};let Er={};class TH{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function EH(e){for(let t in zr){let n=zr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{DH(e,r)&&!f1(e,r)&&(e.editable||!(r.type in Er))&&n(e,r)})}Rr&&e.dom.addEventListener("input",()=>null),my(e)}function Ha(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function AH(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function my(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>f1(e,r))})}function f1(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function DH(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function MH(e,t){!f1(e,t)&&zr[t.type]&&(e.editable||!(t.type in Er))&&zr[t.type](e,t)}Er.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!fM(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(ro&&Sr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),zu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,iu(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||_H(e,n)?n.preventDefault():Ha(e,"key")};Er.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Er.keypress=(e,t)=>{let n=t;if(fM(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||fi&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof vt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);e.someProp("handleTextInput",o=>o(e,r.$from.pos,r.$to.pos,i))||e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Xg(e){return{left:e.clientX,top:e.clientY}}function OH(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function d1(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(e.someProp(t,l=>s>o.depth?l(e,n,o.nodeAfter,o.before(s),i,!0):l(e,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function xu(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);n=="pointer"&&r.setMeta("pointer",!0),e.dispatch(r)}function NH(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&ft.isSelectable(r)?(xu(e,new ft(n),"pointer"),!0):!1}function LH(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof ft&&(r=n.node);let o=e.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(ft.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(xu(e,ft.create(e.state.doc,i),"pointer"),!0):!1}function PH(e,t,n,r,i){return d1(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?LH(e,n):NH(e,n))}function IH(e,t,n,r){return d1(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function FH(e,t,n,r){return d1(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||RH(e,n,r)}function RH(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(xu(e,vt.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)xu(e,vt.create(r,l+1,l+1+s.content.size),"pointer");else if(ft.isSelectable(s))xu(e,ft.create(r,l),"pointer");else continue;return!0}}function h1(e){return Mp(e)}const cM=fi?"metaKey":"ctrlKey";zr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=h1(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&OH(n,e.input.lastClick)&&!n[cM]&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=e.posAtCoords(Xg(n));!s||(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new zH(e,s,n,!!r)):(o=="doubleClick"?IH:FH)(e,s.pos,s.inside,n)?n.preventDefault():Ha(e,"pointer"))};class zH{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[cM],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),s=n.inside;else{let p=t.state.doc.resolve(n.pos);o=p.parent,s=p.depth?p.before():0}const l=i?null:r.target,c=l?t.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;let{selection:h}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof ft&&h.from<=s&&h.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&po&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ha(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Xs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Xg(t))),this.allowDefault||!n?Ha(this.view,"pointer"):PH(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Rr&&this.mightDrag&&!this.mightDrag.node.isAtom||Sr&&!(this.view.state.selection instanceof vt)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(xu(this.view,_t.near(this.view.state.doc.resolve(n.pos)),"pointer"),t.preventDefault()):Ha(this.view,"pointer")}move(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Ha(this.view,"pointer"),t.buttons==0&&this.done()}}zr.touchdown=e=>{h1(e),Ha(e,"pointer")};zr.contextmenu=e=>h1(e);function fM(e,t){return e.composing?!0:Rr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const BH=ro?5e3:-1;Er.compositionstart=Er.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Mp(e,!0),e.markCursor=null;else if(Mp(e),po&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelection();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){r.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}e.input.composing=!0}dM(e,BH)};Er.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,dM(e,20))};function dM(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Mp(e),t))}function hM(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=$H());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function $H(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Mp(e,t=!1){if(!(ro&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),hM(e),t||e.docView&&e.docView.dirty){let n=ZD(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function HH(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Bu=ri&&Rs<15||zu&&$$<604;zr.copy=Er.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=Bu?null:n.clipboardData,s=r.content(),{dom:l,text:c}=rM(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",c)):HH(e,l),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function jH(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function VH(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?vy(e,r.value,null,t):vy(e,r.textContent,r.innerHTML,t)},50)}function vy(e,t,n,r){let i=iM(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,r,i||Ze.empty)))return!0;if(!i)return!1;let o=jH(i),s=o?e.state.tr.replaceSelectionWith(o,e.input.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Er.paste=(e,t)=>{let n=t;if(e.composing&&!ro)return;let r=Bu?null:n.clipboardData;r&&vy(e,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():VH(e,n)};class WH{constructor(t,n){this.slice=t,this.move=n}}const pM=fi?"altKey":"ctrlKey";zr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(Xg(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ft?i.to-1:i.to))){if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(ft.create(e.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let h=e.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=e.docView&&e.dispatch(e.state.tr.setSelection(ft.create(e.state.doc,h.posBefore)))}}let s=e.state.selection.content(),{dom:l,text:c}=rM(e,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Bu?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Bu||n.dataTransfer.setData("text/plain",c),e.dragging=new WH(s,!n[pM])};zr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Er.dragover=Er.dragenter=(e,t)=>t.preventDefault();Er.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(Xg(n));if(!i)return;let o=e.state.doc.resolve(i.pos);if(!o)return;let s=r&&r.slice;s?e.someProp("transformPasted",_=>{s=_(s)}):s=iM(e,n.dataTransfer.getData(Bu?"Text":"text/plain"),Bu?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[pM]);if(e.someProp("handleDrop",_=>_(e,n,s||Ze.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let c=s?ND(e.state.doc,o.pos,s):o.pos;c==null&&(c=o.pos);let h=e.state.tr;l&&h.deleteSelection();let p=h.mapping.map(c),m=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,v=h.doc;if(m?h.replaceRangeWith(p,p,s.content.firstChild):h.replaceRange(p,p,s),h.doc.eq(v))return;let b=h.doc.resolve(p);if(m&&ft.isSelectable(s.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(s.content.firstChild))h.setSelection(new ft(b));else{let _=h.mapping.map(c);h.mapping.maps[h.mapping.maps.length-1].forEach((x,D,E,T)=>_=T),h.setSelection(c1(e,b,h.doc.resolve(_)))}e.focus(),e.dispatch(h.setMeta("uiEvent","drop"))};zr.focus=e=>{e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelection())&&Xs(e)},20))};zr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};zr.beforeinput=(e,t)=>{if(Sr&&ro&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,iu(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in Er)zr[e]=Er[e];function Yf(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class p1{constructor(t,n){this.toDOM=t,this.spec=n||Za,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:s}=t.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Zr(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof p1&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Yf(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class zs{constructor(t,n){this.attrs=t,this.spec=n||Za}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Zr(o,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof zs&&Yf(this.attrs,t.attrs)&&Yf(this.spec,t.spec)}static is(t){return t.type instanceof zs}destroy(){}}class g1{constructor(t,n){this.attrs=t,this.spec=n||Za}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let s=t.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Zr(o.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof g1&&Yf(this.attrs,t.attrs)&&Yf(this.spec,t.spec)}destroy(){}}class Zr{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Zr(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Zr(t,t,new p1(n,r))}static inline(t,n,r,i){return new Zr(t,n,new zs(r,i))}static node(t,n,r,i){return new Zr(t,n,new g1(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof zs}}const eu=[],Za={};class Rn{constructor(t,n){this.local=t.length?t:eu,this.children=n.length?n:eu}static create(t,n){return n.length?Op(n,t,0,Za):sr}find(t,n,r){let i=[];return this.findInner(t==null?0:t,n==null?1e9:n,i,0,r),i}findInner(t,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=t&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let l=this.children[s]+1;this.children[s+2].findInner(t-l,n-l,r,i+l,o)}}map(t,n,r){return this==sr||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Za)}mapInner(t,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(t,r,i);c&&c.type.valid(n,c)?(s||(s=[])).push(c):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?UH(this.children,s||[],t,n,r,i,o):s?new Rn(s.sort(Qa),eu):sr}add(t,n){return n.length?this==sr?Rn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((l,c)=>{let h=c+r,p;if(!!(p=mM(n,l,h))){for(i||(i=this.children.slice());o<i.length&&i[o]<c;)o+=3;i[o]==c?i[o+2]=i[o+2].addInner(l,p,h+1):i.splice(o,0,c,c+l.nodeSize,Op(p,l,h+1,Za)),o+=3}});let s=gM(o?vM(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||s.splice(l--,1);return new Rn(s.length?this.local.concat(s).sort(Qa):this.local,i||this.children)}remove(t){return t.length==0||this==sr?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,c=r[o+1]+n;for(let p=0,m;p<t.length;p++)(m=t[p])&&m.from>l&&m.to<c&&(t[p]=null,(s||(s=[])).push(m));if(!s)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(s,l+1);h!=sr?r[o+2]=h:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Rn(i,r):sr}forChild(t,n){if(this==sr)return this;if(n.isLeaf)return Rn.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(r=this.children[l+2]);break}let o=t+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<s&&c.to>o&&c.type instanceof zs){let h=Math.max(o,c.from)-o,p=Math.min(s,c.to)-o;h<p&&(i||(i=[])).push(c.copy(h,p))}}if(i){let l=new Rn(i.sort(Qa),eu);return r?new Ns([l,r]):l}return r||sr}eq(t){if(this==t)return!0;if(!(t instanceof Rn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return m1(this.localsInner(t))}localsInner(t){if(this==sr)return eu;if(t.inlineContent||!this.local.some(zs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof zs||n.push(this.local[r]);return n}}Rn.empty=new Rn([],[]);Rn.removeOverlap=m1;const sr=Rn.empty;class Ns{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Za));return Ns.from(r)}forChild(t,n){if(n.isLeaf)return Rn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=sr&&(o instanceof Ns?r=r.concat(o.members):r.push(o))}return Ns.from(r)}eq(t){if(!(t instanceof Ns)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?m1(r?n:n.sort(Qa)):eu}static from(t){switch(t.length){case 0:return sr;case 1:return t[0];default:return new Ns(t)}}}function UH(e,t,n,r,i,o,s){let l=e.slice(),c=(p,m,v,b)=>{for(let _=0;_<l.length;_+=3){let x=l[_+1],D;if(x<0||p>x+o)continue;let E=l[_]+o;m>=E?l[_+1]=p<=E?-2:-1:v>=i&&(D=b-v-(m-p))&&(l[_]+=D,l[_+1]+=D)}};for(let p=0;p<n.maps.length;p++)n.maps[p].forEach(c);let h=!1;for(let p=0;p<l.length;p+=3)if(l[p+1]<0){if(l[p+1]==-2){h=!0,l[p+1]=-1;continue}let m=n.map(e[p]+o),v=m-i;if(v<0||v>=r.content.size){h=!0;continue}let b=n.map(e[p+1]+o,-1),_=b-i,{index:x,offset:D}=r.content.findIndex(v),E=r.maybeChild(x);if(E&&D==v&&D+E.nodeSize==_){let T=l[p+2].mapInner(n,E,m+1,e[p]+o+1,s);T!=sr?(l[p]=v,l[p+1]=_,l[p+2]=T):(l[p+1]=-2,h=!0)}else h=!0}if(h){let p=KH(l,e,t,n,i,o,s),m=Op(p,r,0,s);t=m.local;for(let v=0;v<l.length;v+=3)l[v+1]<0&&(l.splice(v,3),v-=3);for(let v=0,b=0;v<m.children.length;v+=3){let _=m.children[v];for(;b<l.length&&l[b]<_;)b+=3;l.splice(b,0,m.children[v],m.children[v+1],m.children[v+2])}}return new Rn(t.sort(Qa),l)}function gM(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Zr(i.from+t,i.to+t,i.type))}return n}function KH(e,t,n,r,i,o,s){function l(c,h){for(let p=0;p<c.local.length;p++){let m=c.local[p].map(r,i,h);m?n.push(m):s.onRemove&&s.onRemove(c.local[p].spec)}for(let p=0;p<c.children.length;p+=3)l(c.children[p+2],c.children[p]+h+1)}for(let c=0;c<e.length;c+=3)e[c+1]==-1&&l(e[c+2],t[c]+o+1);return n}function mM(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,s;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),e[o]=null);return i}function vM(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Op(e,t,n,r){let i=[],o=!1;t.forEach((l,c)=>{let h=mM(e,l,c+n);if(h){o=!0;let p=Op(h,l,n+c+1,r);p!=sr&&i.push(c,c+l.nodeSize,p)}});let s=gM(o?vM(e):e,-n).sort(Qa);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new Rn(s,i):sr}function Qa(e,t){return e.from-t.from||e.to-t.to}function m1(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),cS(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),cS(t,i,r.copy(o.from,r.to)));break}}}return t}function cS(e,t,n){for(;t<e.length&&Qa(n,e[t])>0;)t++;e.splice(t,0,n)}function Uv(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=sr&&t.push(r)}),e.cursorWrapper&&t.push(Rn.create(e.state.doc,[e.cursorWrapper.deco])),Ns.from(t)}const qH={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},GH=ri&&Rs<=11;class YH{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class JH{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new YH,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ri&&Rs<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),GH&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,qH),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!rS(this.view)){if(this.suppressingSelectionUpdates)return Xs(this.view);if(ri&&Rs<=11&&!this.view.state.selection.empty){let t=this.view.domSelection();if(t.focusNode&&Gf(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(t){if(t.rangeCount==0)return!0;let n=t.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let n=this.view.domSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&rS(this.view)&&!this.ignoreSelectionChange(n),i=-1,o=-1,s=!1,l=[];if(this.view.editable)for(let c=0;c<t.length;c++){let h=this.registerMutation(t[c],l);h&&(i=i<0?h.from:Math.min(h.from,i),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(s=!0))}if(po&&l.length>1){let c=l.filter(h=>h.nodeName=="BR");if(c.length==2){let h=c[0],p=c[1];h.parentNode&&h.parentNode.parentNode==p.parentNode?p.remove():h.remove()}}(i>-1||r)&&(i>-1&&(this.view.docView.markDirty(i,o),XH(this.view)),this.handleDOMChange(i,o,s,l),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(n)||Xs(this.view),this.currentSelection.set(n))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let p=0;p<t.addedNodes.length;p++)n.push(t.addedNodes[p]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(ri&&Rs<=11&&t.addedNodes.length)for(let p=0;p<t.addedNodes.length;p++){let{previousSibling:m,nextSibling:v}=t.addedNodes[p];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(t.addedNodes,v)<0)&&(o=v)}let s=i&&i.parentNode==t.target?Gr(i)+1:0,l=r.localPosFromDOM(t.target,s,-1),c=o&&o.parentNode==t.target?Gr(o):t.target.childNodes.length,h=r.localPosFromDOM(t.target,c,1);return{from:l,to:h}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let fS=!1;function XH(e){fS||(fS=!0,getComputedStyle(e.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}function ZH(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=e.docView.parseRange(t,n),c=e.domSelection(),h,p=c.anchorNode;if(p&&e.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:c.anchorOffset}],l1(c)||h.push({node:c.focusNode,offset:c.focusOffset})),Sr&&e.input.lastKeyCode===8)for(let D=o;D>i;D--){let E=r.childNodes[D-1],T=E.pmViewDesc;if(E.nodeName=="BR"&&!T){o=D;break}if(!T||T.size)break}let m=e.state.doc,v=e.someProp("domParser")||Fu.fromSchema(e.state.schema),b=m.resolve(s),_=null,x=v.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:i,to:o,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:QH,context:b});if(h&&h[0].pos!=null){let D=h[0].pos,E=h[1]&&h[1].pos;E==null&&(E=D),_={anchor:D+s,head:E+s}}return{doc:x,sel:_,from:s,to:l}}function QH(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Rr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Rr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function ej(e,t,n,r,i){if(t<0){let z=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,B=ZD(e,z);if(B&&!e.state.selection.eq(B)){let L=e.state.tr.setSelection(B);z=="pointer"?L.setMeta("pointer",!0):z=="key"&&L.scrollIntoView(),e.dispatch(L)}return}let o=e.state.doc.resolve(t),s=o.sharedDepth(n);t=o.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l=e.state.selection,c=ZH(e,t,n);if(Sr&&e.cursorWrapper&&c.sel&&c.sel.anchor==e.cursorWrapper.deco.from){let z=e.cursorWrapper.deco.type.toDOM.nextSibling,B=z&&z.nodeValue?z.nodeValue.length:1;c.sel={anchor:c.sel.anchor+B,head:c.sel.anchor+B}}let h=e.state.doc,p=h.slice(c.from,c.to),m,v;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(m=e.state.selection.to,v="end"):(m=e.state.selection.from,v="start"),e.input.lastKeyCode=null;let b=rj(p.content,c.doc.content,c.from,m,v);if((zu&&e.input.lastIOSEnter>Date.now()-225||ro)&&i.some(z=>z.nodeName=="DIV"||z.nodeName=="P")&&(!b||b.endA>=b.endB)&&e.someProp("handleKeyDown",z=>z(e,iu(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!b)if(r&&l instanceof vt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))b={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let z=dS(e,e.state.doc,c.sel);z&&!z.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(z))}return}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof vt&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),ri&&Rs<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>c.from&&c.doc.textBetween(b.start-c.from-1,b.start-c.from+1)==" \xA0"&&(b.start--,b.endA--,b.endB--);let _=c.doc.resolveNoCache(b.start-c.from),x=c.doc.resolveNoCache(b.endB-c.from),D=h.resolve(b.start),E=_.sameParent(x)&&_.parent.inlineContent&&D.end()>=b.endA,T;if((zu&&e.input.lastIOSEnter>Date.now()-225&&(!E||i.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!E&&_.pos<c.doc.content.size&&(T=_t.findFrom(c.doc.resolve(_.pos+1),1,!0))&&T.head==x.pos)&&e.someProp("handleKeyDown",z=>z(e,iu(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>b.start&&nj(h,b.start,b.endA,_,x)&&e.someProp("handleKeyDown",z=>z(e,iu(8,"Backspace")))){ro&&Sr&&e.domObserver.suppressSelectionUpdates();return}Sr&&ro&&b.endB==b.start&&(e.input.lastAndroidDelete=Date.now()),ro&&!E&&_.start()!=x.start()&&x.parentOffset==0&&_.depth==x.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==b.endA&&(b.endB-=2,x=c.doc.resolveNoCache(b.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(z){return z(e,iu(13,"Enter"))})},20));let R=b.start,M=b.endA,Y,J,Z;if(E){if(_.pos==x.pos)ri&&Rs<=11&&_.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Xs(e),20)),Y=e.state.tr.delete(R,M),J=h.resolve(b.start).marksAcross(h.resolve(b.endA));else if(b.endA==b.endB&&(Z=tj(_.parent.content.cut(_.parentOffset,x.parentOffset),D.parent.content.cut(D.parentOffset,b.endA-D.start()))))Y=e.state.tr,Z.type=="add"?Y.addMark(R,M,Z.mark):Y.removeMark(R,M,Z.mark);else if(_.parent.child(_.index()).isText&&_.index()==x.index()-(x.textOffset?0:1)){let z=_.parent.textBetween(_.parentOffset,x.parentOffset);if(e.someProp("handleTextInput",B=>B(e,R,M,z)))return;Y=e.state.tr.insertText(z,R,M)}}if(Y||(Y=e.state.tr.replace(R,M,c.doc.slice(b.start-c.from,b.endB-c.from))),c.sel){let z=dS(e,Y.doc,c.sel);z&&!(Sr&&ro&&e.composing&&z.empty&&(b.start!=b.endB||e.input.lastAndroidDelete<Date.now()-100)&&(z.head==R||z.head==Y.mapping.map(M)-1)||ri&&z.empty&&z.head==R)&&Y.setSelection(z)}J&&Y.ensureMarks(J),e.dispatch(Y.scrollIntoView())}function dS(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:c1(e,t.resolve(n.anchor),t.resolve(n.head))}function tj(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,s,l,c;for(let p=0;p<r.length;p++)i=r[p].removeFromSet(i);for(let p=0;p<n.length;p++)o=n[p].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",c=p=>p.mark(l.addToSet(p.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",c=p=>p.mark(l.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<t.childCount;p++)h.push(c(t.child(p)));if(Ie.from(h).eq(e))return{mark:l,type:s}}function nj(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||Kv(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=e.resolve(Kv(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Kv(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Kv(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function rj(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a:s,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let c=Math.max(0,o-Math.min(s,l));r-=s+c-o}return s<o&&e.size<t.size?(o-=r<=o&&r>=s?o-r:0,l=o+(l-s),s=o):l<o&&(o-=r<=o&&r>=l?o-r:0,s=o+(s-l),l=o),{start:o,endA:s,endB:l}}class ij{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new TH,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(vS),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=gS(this),pS(this),this.nodeViews=mS(this),this.docView=XC(this.state.doc,hS(this),Uv(this),this.dom,this),this.domObserver=new JH(this,(r,i,o,s)=>ej(this,r,i,o,s)),this.domObserver.start(),EH(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&my(this),this._props=t,t.plugins&&(t.plugins.forEach(vS),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this.state.plugins!=t.plugins)}updateStateInner(t,n){let r=this.state,i=!1,o=!1;if(t.storedMarks&&this.composing&&(hM(this),o=!0),this.state=t,n){let m=mS(this);sj(m,this.nodeViews)&&(this.nodeViews=m,i=!0),my(this)}this.editable=gS(this),pS(this);let s=Uv(this),l=hS(this),c=n?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(t.doc,l,s);(h||!t.selection.eq(r.selection))&&(o=!0);let p=c=="preserve"&&o&&this.dom.style.overflowAnchor==null&&K$(this);if(o){this.domObserver.stop();let m=h&&(ri||Sr)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&oj(r.selection,t.selection);if(h){let v=Sr?this.trackWrites=this.domSelection().focusNode:null;(i||!this.docView.update(t.doc,l,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=XC(t.doc,l,s,this.dom,this)),v&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&vH(this))?Xs(this,m):(eM(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),c=="reset")this.dom.scrollTop=0;else if(c=="to selection"){let m=this.domSelection().focusNode;if(!this.someProp("handleScrollToSelection",v=>v(this)))if(t.selection instanceof ft){let v=this.docView.domAfterPos(t.selection.from);v.nodeType==1&&KC(this,v.getBoundingClientRect(),m)}else KC(this,this.coordsAtPos(t.selection.head,1),m)}else p&&q$(p)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[t];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[t];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&G$(this.dom),Xs(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}posAtCoords(t){return Q$(this,t)}coordsAtPos(t,n=1){return UD(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return iH(this,n||this.state,t)}destroy(){!this.docView||(AH(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Uv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(t){return MH(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelection(){return this.root.getSelection()}}function hS(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"&&(t.class+=" "+n[r]),r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),[Zr.node(0,e.state.doc.content.size,t)]}function pS(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Zr.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function gS(e){return!e.someProp("editable",t=>t(e.state)===!1)}function oj(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function mS(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function sj(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function vS(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Zs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Np={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},yS=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),aj=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),lj=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),bS=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),uj=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),cj=yS&&(bS||+yS[1]<57)||lj&&bS;for(var Qn=0;Qn<10;Qn++)Zs[48+Qn]=Zs[96+Qn]=String(Qn);for(var Qn=1;Qn<=24;Qn++)Zs[Qn+111]="F"+Qn;for(var Qn=65;Qn<=90;Qn++)Zs[Qn]=String.fromCharCode(Qn+32),Np[Qn]=String.fromCharCode(Qn);for(var qv in Zs)Np.hasOwnProperty(qv)||(Np[qv]=Zs[qv]);function fj(e){var t=cj&&(e.ctrlKey||e.altKey||e.metaKey)||(aj||uj)&&e.shiftKey&&e.key&&e.key.length==1,n=!t&&e.key||(e.shiftKey?Np:Zs)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const dj=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function hj(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<t.length-1;l++){let c=t[l];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))dj?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function pj(e){let t=Object.create(null);for(let n in e)t[hj(n)]=e[n];return t}function Gv(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n!==!1&&t.shiftKey&&(e="Shift-"+e),e}function gj(e){return new bn({props:{handleKeyDown:yM(e)}})}function yM(e){let t=pj(e);return function(n,r){let i=fj(r),o=i.length==1&&i!=" ",s,l=t[Gv(i,r,!o)];if(l&&l(n.state,n.dispatch,n))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Zs[r.keyCode])&&s!=i){let c=t[Gv(s,r,!0)];if(c&&c(n.state,n.dispatch,n))return!0}else if(o&&r.shiftKey){let c=t[Gv(i,r,!0)];if(c&&c(n.state,n.dispatch,n))return!0}return!1}}const v1=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0),bM=(e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;let i=wM(r);if(!i){let s=r.blockRange(),l=s&&Gu(s);return l==null?!1:(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&DM(e,i,t))return!0;if(r.parent.content.size==0&&($u(o,"end")||ft.isSelectable(o))){let s=o1(e.doc,r.before(),r.after(),Ze.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection($u(o,"end")?_t.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ft.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function $u(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const _M=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=wM(r)}let s=o&&o.nodeBefore;return!s||!ft.isSelectable(s)?!1:(t&&t(e.tr.setSelection(ft.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function wM(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}const xM=(e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;let i=CM(r);if(!i)return!1;let o=i.nodeAfter;if(DM(e,i,t))return!0;if(r.parent.content.size==0&&($u(o,"start")||ft.isSelectable(o))){let s=o1(e.doc,r.before(),r.after(),Ze.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection($u(o,"start")?_t.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):ft.create(l.doc,l.mapping.map(i.pos))),t(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},kM=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=CM(r)}let s=o&&o.nodeAfter;return!s||!ft.isSelectable(s)?!1:(t&&t(e.tr.setSelection(ft.create(e.doc,o.pos)).scrollIntoView()),!0)};function CM(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const mj=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&Gu(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},SM=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function y1(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const TM=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=y1(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(t){let l=n.after(),c=e.tr.replaceWith(l,l,s.createAndFill());c.setSelection(_t.near(c.doc.resolve(l),1)),t(c.scrollIntoView())}return!0},EM=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof ni||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=y1(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=e.tr.insert(s,o.createAndFill());l.setSelection(vt.create(l.doc,s+1)),t(l.scrollIntoView())}return!0},AM=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(jo(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Gu(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},vj=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof ft&&e.selection.node.isBlock)return!n.parentOffset||!jo(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){let i=r.parentOffset==r.parent.content.size,o=e.tr;(e.selection instanceof vt||e.selection instanceof ni)&&o.deleteSelection();let s=n.depth==0?null:y1(n.node(-1).contentMatchAt(n.indexAfter(-1))),l=i&&s?[{type:s}]:void 0,c=jo(o.doc,o.mapping.map(n.pos),1,l);if(!l&&!c&&jo(o.doc,o.mapping.map(n.pos),1,s?[{type:s}]:void 0)&&(s&&(l=[{type:s}]),c=!0),c&&(o.split(o.mapping.map(n.pos),1,l),!i&&!n.parentOffset&&n.parent.type!=s)){let h=o.mapping.map(n.before()),p=o.doc.resolve(h);s&&n.node(-1).canReplaceWith(p.index(),p.index()+1,s)&&o.setNodeMarkup(o.mapping.map(n.before()),s)}t(o.scrollIntoView())}return!0},yj=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(ft.create(e.doc,i))),!0)},bj=(e,t)=>(t&&t(e.tr.setSelection(new ni(e.doc))),!0);function _j(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||pd(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function DM(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(_j(e,t,n))return!0;let l=t.parent.canReplace(t.index(),t.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let m=t.pos+i.nodeSize,v=Ie.empty;for(let x=o.length-1;x>=0;x--)v=Ie.from(o[x].create(null,v));v=Ie.from(r.copy(v));let b=e.tr.step(new Wn(t.pos-1,m,t.pos,m,new Ze(v,1,0),o.length,!0)),_=m+2*o.length;pd(b.doc,_)&&b.join(_),n(b.scrollIntoView())}return!0}let c=_t.findFrom(t,1),h=c&&c.$from.blockRange(c.$to),p=h&&Gu(h);if(p!=null&&p>=t.depth)return n&&n(e.tr.lift(h,p).scrollIntoView()),!0;if(l&&$u(i,"start",!0)&&$u(r,"end")){let m=r,v=[];for(;v.push(m),!m.isTextblock;)m=m.lastChild;let b=i,_=1;for(;!b.isTextblock;b=b.firstChild)_++;if(m.canReplace(m.childCount,m.childCount,b.content)){if(n){let x=Ie.empty;for(let E=v.length-1;E>=0;E--)x=Ie.from(v[E].copy(x));let D=e.tr.step(new Wn(t.pos-v.length,t.pos+i.nodeSize,t.pos+_,t.pos+i.nodeSize-_,new Ze(x,v.length,0),0,!0));n(D.scrollIntoView())}return!0}}return!1}function MM(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(vt.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const OM=MM(-1),NM=MM(1);function wj(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&i1(s,e,t);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function _S(e,t=null){return function(n,r){let{from:i,to:o}=n.selection,s=!1;return n.doc.nodesBetween(i,o,(l,c)=>{if(s)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)s=!0;else{let h=n.doc.resolve(c),p=h.index();s=h.parent.canReplaceWith(p,p+1,e)}}),s?(r&&r(n.tr.setBlockType(i,o,e,t).scrollIntoView()),!0):!1}}function b1(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let Yv=b1(v1,bM,_M),wS=b1(v1,xM,kM);const Ds={Enter:b1(SM,EM,AM,vj),"Mod-Enter":TM,Backspace:Yv,"Mod-Backspace":Yv,"Shift-Backspace":Yv,Delete:wS,"Mod-Delete":wS,"Mod-a":bj},xj={"Ctrl-h":Ds.Backspace,"Alt-Backspace":Ds["Mod-Backspace"],"Ctrl-d":Ds.Delete,"Ctrl-Alt-Backspace":Ds["Mod-Delete"],"Alt-Delete":Ds["Mod-Delete"],"Alt-d":Ds["Mod-Delete"],"Ctrl-a":OM,"Ctrl-e":NM};for(let e in Ds)xj[e]=Ds[e];typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function kj(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=!1,c=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(e)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let p=n.doc.resolve(s.start-2);c=new Cp(p,p,s.depth),s.endIndex<s.parent.childCount&&(s=new Cp(i,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let h=i1(c,e,t,s);return h?(r&&r(Cj(n.tr,s,h,l,e).scrollIntoView()),!0):!1}}function Cj(e,t,n,r,i){let o=Ie.empty;for(let p=n.length-1;p>=0;p--)o=Ie.from(n[p].type.create(n[p].attrs,o));e.step(new Wn(t.start-(r?2:0),t.end,t.start,t.end,new Ze(o,0,0),n.length,!0));let s=0;for(let p=0;p<n.length;p++)n[p].type==i&&(s=p+1);let l=n.length-s,c=t.start+n.length-(r?2:0),h=t.parent;for(let p=t.startIndex,m=t.endIndex,v=!0;p<m;p++,v=!1)!v&&jo(e.doc,c,l)&&(e.split(c,l),c+=2*l),c+=h.child(p).nodeSize;return e}function Sj(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==e);return o?n?r.node(o.depth-1).type==e?Tj(t,n,e,o):Ej(t,n,o):!0:!1}}function Tj(e,t,n,r){let i=e.tr,o=r.end,s=r.$to.end(r.depth);return o<s&&(i.step(new Wn(o-1,s,o,s,new Ze(Ie.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Cp(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth)),t(i.lift(r,Gu(r)).scrollIntoView()),!0}function Ej(e,t,n){let r=e.tr,i=n.parent;for(let b=n.end,_=n.endIndex-1,x=n.startIndex;_>x;_--)b-=i.child(_).nodeSize,r.delete(b-1,b+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,c=n.endIndex==i.childCount,h=o.node(-1),p=o.index(-1);if(!h.canReplace(p+(l?0:1),p+1,s.content.append(c?Ie.empty:Ie.from(i))))return!1;let m=o.pos,v=m+s.nodeSize;return r.step(new Wn(m-(l?1:0),v+(c?1:0),m+1,v-1,new Ze((l?Ie.empty:Ie.from(i.copy(Ie.empty))).append(c?Ie.empty:Ie.from(i.copy(Ie.empty))),l?0:1,c?0:1),l?0:1)),t(r.scrollIntoView()),!0}function Aj(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,h=>h.childCount>0&&h.firstChild.type==e);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,c=l.child(s-1);if(c.type!=e)return!1;if(n){let h=c.lastChild&&c.lastChild.type==l.type,p=Ie.from(h?e.create():null),m=new Ze(Ie.from(e.create(null,Ie.from(l.type.create(null,p)))),h?3:1,0),v=o.start,b=o.end;n(t.tr.step(new Wn(v-(h?3:1),b,v,b,m,1,!0)).scrollIntoView())}return!0}}function Zg(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return Kt(Ne({},t),{apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}})}class Qg{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...p)=>{const m=c(...p)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l=[],c=!!t,h=t||o.tr,p=()=>(!c&&n&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(h),l.every(v=>v===!0)),m=Kt(Ne({},Object.fromEntries(Object.entries(r).map(([v,b])=>[v,(...x)=>{const D=this.buildProps(h,n),E=b(...x)(D);return l.push(E),m}]))),{run:p});return m}createCan(t){const{rawCommands:n,state:r}=this,i=void 0,o=t||r.tr,s=this.buildProps(o,i),l=Object.fromEntries(Object.entries(n).map(([c,h])=>[c,(...p)=>h(...p)(Kt(Ne({},s),{dispatch:i}))]));return Kt(Ne({},l),{chain:()=>this.createChain(o,i)})}buildProps(t,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i;o.storedMarks&&t.setStoredMarks(o.storedMarks);const l={tr:t,editor:i,view:s,state:Zg({state:o,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([c,h])=>[c,(...p)=>h(...p)(l)]))}};return l}}class Dj{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function et(e,t,n){return e.config[t]===void 0&&e.parent?et(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind(Kt(Ne({},n),{parent:e.parent?et(e.parent,t,n):null})):e.config[t]}function em(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function LM(e){const t=[],{nodeExtensions:n,markExtensions:r}=em(e),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},c=et(s,"addGlobalAttributes",l);if(!c)return;c().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([v,b])=>{t.push({type:m,name:v,attribute:Ne(Ne({},o),b)})})})})}),i.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},c=et(s,"addAttributes",l);if(!c)return;const h=c();Object.entries(h).forEach(([p,m])=>{const v=Ne(Ne({},o),m);m.isRequired&&m.default===void 0&&delete v.default,t.push({type:s.name,name:p,attribute:v})})}),t}function Un(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function yn(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r=Ne({},t);return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}i==="class"?r[i]=[r[i],o].join(" "):i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function yy(e,t){return t.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>yn(n,r),{})}function PM(e){return typeof e=="function"}function xt(e,t=void 0,...n){return PM(e)?t?e.bind(t)(...n):e(...n):e}function Mj(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Oj(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function xS(e,t){return e.style?e:Kt(Ne({},e),{getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):Oj(n.getAttribute(s.name));return l==null?o:Kt(Ne({},o),{[s.name]:l})},{});return Ne(Ne({},r),i)}})}function kS(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&Mj(n)?!1:n!=null))}function Nj(e){var t;const n=LM(e),{nodeExtensions:r,markExtensions:i}=em(e),o=(t=r.find(c=>et(c,"topNode")))===null||t===void 0?void 0:t.name,s=Object.fromEntries(r.map(c=>{const h=n.filter(D=>D.type===c.name),p={name:c.name,options:c.options,storage:c.storage},m=e.reduce((D,E)=>{const T=et(E,"extendNodeSchema",p);return Ne(Ne({},D),T?T(c):{})},{}),v=kS(Kt(Ne({},m),{content:xt(et(c,"content",p)),marks:xt(et(c,"marks",p)),group:xt(et(c,"group",p)),inline:xt(et(c,"inline",p)),atom:xt(et(c,"atom",p)),selectable:xt(et(c,"selectable",p)),draggable:xt(et(c,"draggable",p)),code:xt(et(c,"code",p)),defining:xt(et(c,"defining",p)),isolating:xt(et(c,"isolating",p)),attrs:Object.fromEntries(h.map(D=>{var E;return[D.name,{default:(E=D==null?void 0:D.attribute)===null||E===void 0?void 0:E.default}]}))})),b=xt(et(c,"parseHTML",p));b&&(v.parseDOM=b.map(D=>xS(D,h)));const _=et(c,"renderHTML",p);_&&(v.toDOM=D=>_({node:D,HTMLAttributes:yy(D,h)}));const x=et(c,"renderText",p);return x&&(v.toText=x),[c.name,v]})),l=Object.fromEntries(i.map(c=>{const h=n.filter(x=>x.type===c.name),p={name:c.name,options:c.options,storage:c.storage},m=e.reduce((x,D)=>{const E=et(D,"extendMarkSchema",p);return Ne(Ne({},x),E?E(c):{})},{}),v=kS(Kt(Ne({},m),{inclusive:xt(et(c,"inclusive",p)),excludes:xt(et(c,"excludes",p)),group:xt(et(c,"group",p)),spanning:xt(et(c,"spanning",p)),code:xt(et(c,"code",p)),attrs:Object.fromEntries(h.map(x=>{var D;return[x.name,{default:(D=x==null?void 0:x.attribute)===null||D===void 0?void 0:D.default}]}))})),b=xt(et(c,"parseHTML",p));b&&(v.parseDOM=b.map(x=>xS(x,h)));const _=et(c,"renderHTML",p);return _&&(v.toDOM=x=>_({mark:x,HTMLAttributes:yy(x,h)})),[c.name,v]}));return new o$({topNode:o,nodes:s,marks:l})}function Jv(e,t){return t.nodes[e]||t.marks[e]||null}function CS(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}const Lj=(e,t=500)=>{let n="";return e.parent.nodesBetween(Math.max(0,e.parentOffset-t),e.parentOffset,(r,i,o,s)=>{var l,c;n+=((c=(l=r.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:r,pos:i,parent:o,index:s}))||r.textContent||"%leaf%"}),n};function _1(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class tm{constructor(t){this.find=t.find,this.handler=t.handler}}const Pj=(e,t)=>{if(_1(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Xv(e){var t;const{editor:n,from:r,to:i,text:o,rules:s,plugin:l}=e,{view:c}=n;if(c.composing)return!1;const h=c.state.doc.resolve(r);if(h.parent.type.spec.code||!!(!((t=h.nodeBefore||h.nodeAfter)===null||t===void 0)&&t.marks.find(v=>v.type.spec.code)))return!1;let p=!1;const m=Lj(h)+o;return s.forEach(v=>{if(p)return;const b=Pj(m,v.find);if(!b)return;const _=c.state.tr,x=Zg({state:c.state,transaction:_}),D={from:r-(b[0].length-o.length),to:i},{commands:E,chain:T,can:R}=new Qg({editor:n,state:x});v.handler({state:x,range:D,match:b,commands:E,chain:T,can:R})===null||!_.steps.length||(_.setMeta(l,{transform:_,from:r,to:i,text:o}),c.dispatch(_),p=!0)}),p}function Ij(e){const{editor:t,rules:n}=e,r=new bn({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,l){return Xv({editor:t,from:o,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Xv({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Xv({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Fj(e){return typeof e=="number"}class Rj{constructor(t){this.find=t.find,this.handler=t.handler}}const zj=(e,t)=>{if(_1(t))return[...e.matchAll(t)];const n=t(e);return n?n.map(r=>{const i=[];return i.push(r.text),i.index=r.index,i.input=e,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function Bj(e){const{editor:t,state:n,from:r,to:i,rule:o}=e,{commands:s,chain:l,can:c}=new Qg({editor:t,state:n}),h=[];return n.doc.nodesBetween(r,i,(m,v)=>{if(!m.isTextblock||m.type.spec.code)return;const b=Math.max(r,v),_=Math.min(i,v+m.content.size),x=m.textBetween(b-v,_-v,void 0,"\uFFFC");zj(x,o.find).forEach(E=>{if(E.index===void 0)return;const T=b+E.index+1,R=T+E[0].length,M={from:n.tr.mapping.map(T),to:n.tr.mapping.map(R)},Y=o.handler({state:n,range:M,match:E,commands:s,chain:l,can:c});h.push(Y)})}),h.every(m=>m!==null)}function $j(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1;return n.map(l=>new bn({view(c){const h=p=>{var m;r=!((m=c.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?c.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:c=>(o=r===c.dom.parentElement,!1),paste:(c,h)=>{var p;const m=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(c,h,p)=>{const m=c[0],v=m.getMeta("uiEvent")==="paste"&&!i,b=m.getMeta("uiEvent")==="drop"&&!o;if(!v&&!b)return;const _=h.doc.content.findDiffStart(p.doc.content),x=h.doc.content.findDiffEnd(p.doc.content);if(!Fj(_)||!x||_===x.b)return;const D=p.tr,E=Zg({state:p,transaction:D});if(!(!Bj({editor:t,state:E,from:Math.max(_-1,0),to:x.b,rule:l})||!D.steps.length))return D}}))}function Hj(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return[...new Set(t)]}class su{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=su.resolve(t),this.schema=Nj(this.extensions),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Jv(r.name,this.schema)};r.type==="mark"&&((i=xt(et(r,"keepOnSplit",o)))!==null&&i!==void 0?i:!0)&&this.splittableMarks.push(r.name);const s=et(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const l=et(r,"onCreate",o);l&&this.editor.on("create",l);const c=et(r,"onUpdate",o);c&&this.editor.on("update",c);const h=et(r,"onSelectionUpdate",o);h&&this.editor.on("selectionUpdate",h);const p=et(r,"onTransaction",o);p&&this.editor.on("transaction",p);const m=et(r,"onFocus",o);m&&this.editor.on("focus",m);const v=et(r,"onBlur",o);v&&this.editor.on("blur",v);const b=et(r,"onDestroy",o);b&&this.editor.on("destroy",b)})}static resolve(t){const n=su.sort(su.flatten(t)),r=Hj(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=et(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(t){return t.sort((r,i)=>{const o=et(r,"priority")||100,s=et(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Jv(n.name,this.schema)},i=et(n,"addCommands",r);return i?Ne(Ne({},t),i()):t},{})}get plugins(){const{editor:t}=this,n=su.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:t,type:Jv(s.name,this.schema)},c=[],h=et(s,"addKeyboardShortcuts",l);if(h){const b=Object.fromEntries(Object.entries(h()).map(([x,D])=>[x,()=>D({editor:t})])),_=gj(b);c.push(_)}const p=et(s,"addInputRules",l);CS(s,t.options.enableInputRules)&&p&&r.push(...p());const m=et(s,"addPasteRules",l);CS(s,t.options.enablePasteRules)&&m&&i.push(...m());const v=et(s,"addProseMirrorPlugins",l);if(v){const b=v();c.push(...b)}return c}).flat();return[Ij({editor:t,rules:r}),...$j({editor:t,rules:i}),...o]}get attributes(){return LM(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=em(this.extensions);return Object.fromEntries(n.filter(r=>!!et(r,"addNodeView")).map(r=>{const i=this.attributes.filter(c=>c.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:t,type:Un(r.name,this.schema)},s=et(r,"addNodeView",o);if(!s)return[];const l=(c,h,p,m)=>{const v=yy(c,i);return s()({editor:t,node:c,getPos:p,decorations:m,HTMLAttributes:v,extension:r})};return[r.name,l]}))}}function jj(e){return Object.prototype.toString.call(e).slice(8,-1)}function Zv(e){return jj(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function nm(e,t){const n=Ne({},e);return Zv(e)&&Zv(t)&&Object.keys(t).forEach(r=>{Zv(t[r])?r in e?n[r]=nm(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}class hr{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Ne(Ne({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt(et(this,"addOptions",{name:this.name}))),this.storage=xt(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new hr(t)}configure(t={}){const n=this.extend();return n.options=nm(this.options,t),n.storage=xt(et(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new hr(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=xt(et(n,"addOptions",{name:n.name})),n.storage=xt(et(n,"addStorage",{name:n.name,options:n.options})),n}}function IM(e,t,n){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let l="",c=!0;return e.nodesBetween(r,i,(h,p,m,v)=>{var b;const _=s==null?void 0:s[h.type.name];_?(h.isBlock&&!c&&(l+=o,c=!0),m&&(l+=_({node:h,pos:p,parent:m,index:v,range:t}))):h.isText?(l+=(b=h==null?void 0:h.text)===null||b===void 0?void 0:b.slice(Math.max(r,p)-p,i-p),c=!1):h.isBlock&&!c&&(l+=o,c=!0)}),l}function FM(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const Vj=hr.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new bn({key:new tr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,s=Math.min(...o.map(p=>p.$from.pos)),l=Math.max(...o.map(p=>p.$to.pos)),c=FM(n);return IM(r,{from:s,to:l},{textSerializers:c})}}})]}}),Wj=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Uj=(e=!1)=>({commands:t})=>t.setContent("",e),Kj=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{e.doc.nodesBetween(o.pos,s.pos,(l,c)=>{if(l.type.isText)return;const{doc:h,mapping:p}=t,m=h.resolve(p.map(c)),v=h.resolve(p.map(c+l.nodeSize)),b=m.blockRange(v);if(!b)return;const _=Gu(b);if(l.type.isTextblock){const{defaultType:x}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(b.start,x)}(_||_===0)&&t.lift(b,_)})}),!0},qj=e=>t=>e(t),Gj=()=>({state:e,dispatch:t})=>EM(e,t),Yj=e=>({tr:t,state:n,dispatch:r})=>{const i=Un(e,n.schema),o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const c=o.before(s),h=o.after(s);t.delete(c,h).scrollIntoView()}return!0}return!1},Jj=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},Xj=()=>({state:e,dispatch:t})=>v1(e,t),Zj=()=>({commands:e})=>e.keyboardShortcut("Enter"),Qj=()=>({state:e,dispatch:t})=>TM(e,t);function Lp(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:_1(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function by(e,t,n={}){return e.find(r=>r.type===t&&Lp(r.attrs,n))}function eV(e,t,n={}){return!!by(e,t,n)}function w1(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&r.offset!==0&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const i=by([...r.node.marks],t,n);if(!i)return;let o=r.index,s=e.start()+r.offset,l=o+1,c=s+r.node.nodeSize;for(by([...r.node.marks],t,n);o>0&&i.isInSet(e.parent.child(o-1).marks);)o-=1,s-=e.parent.child(o).nodeSize;for(;l<e.parent.childCount&&eV([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:c}}function ua(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const tV=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=ua(e,r.schema),{doc:s,selection:l}=n,{$from:c,from:h,to:p}=l;if(i){const m=w1(c,o,t);if(m&&m.from<=h&&m.to>=p){const v=vt.create(s,m.from,m.to);n.setSelection(v)}}return!0},nV=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function rV(e){var t;return((t=e.constructor)===null||t===void 0?void 0:t.toString().substring(0,5))==="class"}function RM(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!rV(e)}function zM(e){return RM(e)&&e instanceof vt}function Fo(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function BM(e,t=null){if(!t)return null;const n=_t.atStart(e),r=_t.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,o=r.to;return t==="all"?vt.create(e,Fo(0,i,o),Fo(e.content.size,i,o)):vt.create(e,Fo(t,i,o),Fo(t,i,o))}function rm(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const iV=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t=Ne({scrollIntoView:!0},t);const s=()=>{rm()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!zM(n.state.selection))return s(),!0;const l=BM(i.doc,e)||n.state.selection,c=n.state.selection.eq(l);return o&&(c||i.setSelection(l),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},oV=(e,t)=>n=>e.every((r,i)=>t(r,Kt(Ne({},n),{index:i}))),sV=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t);function SS(e){const t=`<body>${e}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function Pp(e,t,n){if(n=Ne({slice:!0,parseOptions:{}},n),typeof e=="object"&&e!==null)try{return Array.isArray(e)?Ie.fromArray(e.map(r=>t.nodeFromJSON(r))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),Pp("",t,n)}if(typeof e=="string"){const r=Fu.fromSchema(t);return n.slice?r.parseSlice(SS(e),n.parseOptions).content:r.parse(SS(e),n.parseOptions)}return Pp("",t,n)}function aV(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof ar||i instanceof Wn))return;const o=e.mapping.maps[r];let s=0;o.forEach((l,c,h,p)=>{s===0&&(s=p)}),e.setSelection(_t.near(e.doc.resolve(s),n))}const lV=e=>e.toString().startsWith("<"),uV=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n=Ne({parseOptions:{},updateSelection:!0},n);const s=Pp(t,o.schema,{parseOptions:Ne({preserveWhitespace:"full"},n.parseOptions)});if(s.toString()==="<>")return!0;let{from:l,to:c}=typeof e=="number"?{from:e,to:e}:e,h=!0,p=!0;if((lV(s)?s:[s]).forEach(v=>{v.check(),h=h?v.isText&&v.marks.length===0:!1,p=p?v.isBlock:!1}),l===c&&p){const{parent:v}=r.doc.resolve(l);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(l-=1,c+=1)}h?r.insertText(t,l,c):r.replaceWith(l,c,s),n.updateSelection&&aV(r,r.steps.length-1,-1)}return!0},cV=()=>({state:e,dispatch:t})=>bM(e,t),fV=()=>({state:e,dispatch:t})=>xM(e,t);function $M(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function dV(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<t.length-1;l+=1){const c=t[l];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))rm()||$M()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const hV=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=dV(e).split(/-(?!$)/),s=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,l))});return c==null||c.steps.forEach(h=>{const p=h.map(r.mapping);p&&i&&r.maybeStep(p)}),!0};function Jf(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,s=t?Un(t,e.schema):null,l=[];e.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const b=Math.max(r,v),_=Math.min(i,v+m.nodeSize);l.push({node:m,from:b,to:_})});const c=i-r,h=l.filter(m=>s?s.name===m.node.type.name:!0).filter(m=>Lp(m.node.attrs,n,{strict:!1}));return o?!!h.length:h.reduce((m,v)=>m+v.to-v.from,0)>=c}const pV=(e,t={})=>({state:n,dispatch:r})=>{const i=Un(e,n.schema);return Jf(n,i,t)?mj(n,r):!1},gV=()=>({state:e,dispatch:t})=>AM(e,t),mV=e=>({state:t,dispatch:n})=>{const r=Un(e,t.schema);return Sj(r)(t,n)},vV=()=>({state:e,dispatch:t})=>SM(e,t);function im(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function TS(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}const yV=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=im(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(o=Un(e,r.schema)),l==="mark"&&(s=ua(e,r.schema)),i&&n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(h,p)=>{o&&o===h.type&&n.setNodeMarkup(p,void 0,TS(h.attrs,t)),s&&h.marks.length&&h.marks.forEach(m=>{s===m.type&&n.addMark(p,p+h.nodeSize,s.create(TS(m.attrs,t)))})})}),!0):!1},bV=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),_V=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),wV=()=>({state:e,dispatch:t})=>_M(e,t),xV=()=>({state:e,dispatch:t})=>kM(e,t),kV=()=>({state:e,dispatch:t})=>yj(e,t),CV=()=>({state:e,dispatch:t})=>NM(e,t),SV=()=>({state:e,dispatch:t})=>OM(e,t);function HM(e,t,n={}){return Pp(e,t,{slice:!1,parseOptions:n})}const TV=(e,t=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,l=HM(e,i.schema,n),c=vt.create(s,0,s.content.size);return o&&r.setSelection(c).replaceSelectionWith(l,!1).setMeta("preventUpdate",!t),!0};function jM(e,t){const n=ua(t,e.schema),{from:r,to:i,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,c=>{s.push(...c.marks)});const l=s.find(c=>c.type.name===n.name);return l?Ne({},l.attrs):{}}const EV=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:l}=o,c=ua(e,r.schema);if(i)if(s){const h=jM(r,c);n.addStoredMark(c.create(Ne(Ne({},h),t)))}else l.forEach(h=>{const p=h.$from.pos,m=h.$to.pos;r.doc.nodesBetween(p,m,(v,b)=>{const _=Math.max(b,p),x=Math.min(b+v.nodeSize,m);v.marks.find(E=>E.type===c)?v.marks.forEach(E=>{c===E.type&&n.addMark(_,x,c.create(Ne(Ne({},E.attrs),t)))}):n.addMark(_,x,c.create(t))})});return!0},AV=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),DV=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=Un(e,n.schema);return o.isTextblock?i().command(({commands:s})=>_S(o,t)(n)?!0:s.clearNodes()).command(({state:s})=>_S(o,t)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},MV=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=_t.atStart(r).from,o=_t.atEnd(r).to,s=Fo(e,i,o),l=ft.create(r,s);t.setSelection(l)}return!0},OV=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,s=vt.atStart(r).from,l=vt.atEnd(r).to,c=Fo(i,s,l),h=Fo(o,s,l),p=vt.create(r,c,h);t.setSelection(p)}return!0},NV=e=>({state:t,dispatch:n})=>{const r=Un(e,t.schema);return Aj(r)(t,n)};function zh(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function LV(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ES(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}const PV=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=t,{$from:l,$to:c}=o,h=i.extensionManager.attributes,p=zh(h,l.node().type.name,l.node().attrs);if(o instanceof ft&&o.node.isBlock)return!l.parentOffset||!jo(s,l.pos)?!1:(r&&(e&&ES(n,i.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const m=c.parentOffset===c.parent.content.size;o instanceof vt&&t.deleteSelection();const v=l.depth===0?void 0:LV(l.node(-1).contentMatchAt(l.indexAfter(-1)));let b=m&&v?[{type:v,attrs:p}]:void 0,_=jo(t.doc,t.mapping.map(l.pos),1,b);if(!b&&!_&&jo(t.doc,t.mapping.map(l.pos),1,v?[{type:v}]:void 0)&&(_=!0,b=v?[{type:v,attrs:p}]:void 0),_&&(t.split(t.mapping.map(l.pos),1,b),v&&!m&&!l.parentOffset&&l.parent.type!==v)){const x=t.mapping.map(l.before()),D=t.doc.resolve(x);l.node(-1).canReplaceWith(D.index(),D.index()+1,v)&&t.setNodeMarkup(t.mapping.map(l.before()),v)}e&&ES(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return!0},IV=e=>({tr:t,state:n,dispatch:r,editor:i})=>{var o;const s=Un(e,n.schema),{$from:l,$to:c}=n.selection,h=n.selection.node;if(h&&h.isBlock||l.depth<2||!l.sameParent(c))return!1;const p=l.node(-1);if(p.type!==s)return!1;const m=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let D=Ie.empty;const E=l.index(-1)?1:l.index(-2)?2:3;for(let Z=l.depth-E;Z>=l.depth-3;Z-=1)D=Ie.from(l.node(Z).copy(D));const T=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,R=zh(m,l.node().type.name,l.node().attrs),M=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(R))||void 0;D=D.append(Ie.from(s.createAndFill(null,M)||void 0));const Y=l.before(l.depth-(E-1));t.replace(Y,l.after(-T),new Ze(D,4-E,0));let J=-1;t.doc.nodesBetween(Y,t.doc.content.size,(Z,z)=>{if(J>-1)return!1;Z.isTextblock&&Z.content.size===0&&(J=z+1)}),J>-1&&t.setSelection(vt.near(t.doc.resolve(J))),t.scrollIntoView()}return!0}const v=c.pos===l.end()?p.contentMatchAt(0).defaultType:null,b=zh(m,p.type.name,p.attrs),_=zh(m,l.node().type.name,l.node().attrs);t.delete(l.pos,c.pos);const x=v?[{type:s,attrs:b},{type:v,attrs:_}]:[{type:s,attrs:b}];return jo(t.doc,l.pos,2)?(r&&t.split(l.pos,2,x).scrollIntoView(),!0):!1};function FV(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function x1(e){return t=>FV(t.$from,e)}function AS(e,t){const{nodeExtensions:n}=em(t),r=n.find(s=>s.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=xt(et(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}const DS=(e,t)=>{const n=x1(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&pd(e.doc,n.pos)&&e.join(n.pos),!0},MS=(e,t)=>{const n=x1(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&pd(e.doc,r)&&e.join(r),!0},RV=(e,t)=>({editor:n,tr:r,state:i,dispatch:o,chain:s,commands:l,can:c})=>{const{extensions:h}=n.extensionManager,p=Un(e,i.schema),m=Un(t,i.schema),{selection:v}=i,{$from:b,$to:_}=v,x=b.blockRange(_);if(!x)return!1;const D=x1(E=>AS(E.type.name,h))(v);if(x.depth>=1&&D&&x.depth-D.depth<=1){if(D.node.type===p)return l.liftListItem(m);if(AS(D.node.type.name,h)&&p.validContent(D.node.content)&&o)return s().command(()=>(r.setNodeMarkup(D.pos,p),!0)).command(()=>DS(r,p)).command(()=>MS(r,p)).run()}return s().command(()=>c().wrapInList(p)?!0:l.clearNodes()).wrapInList(p).command(()=>DS(r,p)).command(()=>MS(r,p)).run()};function _y(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?ua(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>Lp(m.attrs,n,{strict:!1}));let s=0;const l=[];if(i.forEach(({$from:m,$to:v})=>{const b=m.pos,_=v.pos;e.doc.nodesBetween(b,_,(x,D)=>{if(!x.isText&&!x.marks.length)return;const E=Math.max(b,D),T=Math.min(_,D+x.nodeSize);s+=T-E,l.push(...x.marks.map(M=>({mark:M,from:E,to:T})))})}),s===0)return!1;const c=l.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>Lp(m.mark.attrs,n,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),h=l.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,v)=>m+v.to-v.from,0);return(c>0?c+h:c)>=s}const zV=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=ua(e,r.schema);return _y(r,s,t)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,t)},BV=(e,t,n={})=>({state:r,commands:i})=>{const o=Un(e,r.schema),s=Un(t,r.schema);return Jf(r,o,n)?i.setNode(s):i.setNode(o,n)},$V=(e,t={})=>({state:n,commands:r})=>{const i=Un(e,n.schema);return Jf(n,i,t)?r.lift(i):r.wrapIn(i,t)},HV=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const s=e.tr,l=o.transform;for(let c=l.steps.length-1;c>=0;c-=1)s.step(l.steps[c].invert(l.docs[c]));if(o.text){const c=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,e.schema.text(o.text,c))}else s.delete(o.from,o.to)}return!0}}return!1},jV=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},VV=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=t,{selection:l}=n,c=ua(e,r.schema),{$from:h,empty:p,ranges:m}=l;if(!i)return!0;if(p&&s){let{from:v,to:b}=l;const _=(o=h.marks().find(D=>D.type===c))===null||o===void 0?void 0:o.attrs,x=w1(h,c,_);x&&(v=x.from,b=x.to),n.removeMark(v,b,c)}else m.forEach(v=>{n.removeMark(v.$from.pos,v.$to.pos,c)});return n.removeStoredMark(c),!0},WV=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=im(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(o=Un(e,r.schema)),l==="mark"&&(s=ua(e,r.schema)),i&&n.selection.ranges.forEach(c=>{const h=c.$from.pos,p=c.$to.pos;r.doc.nodesBetween(h,p,(m,v)=>{o&&o===m.type&&n.setNodeMarkup(v,void 0,Ne(Ne({},m.attrs),t)),s&&m.marks.length&&m.marks.forEach(b=>{if(s===b.type){const _=Math.max(v,h),x=Math.min(v+m.nodeSize,p);n.addMark(_,x,s.create(Ne(Ne({},b.attrs),t)))}})})}),!0):!1},UV=(e,t={})=>({state:n,dispatch:r})=>{const i=Un(e,n.schema);return wj(i,t)(n,r)},KV=(e,t={})=>({state:n,dispatch:r})=>{const i=Un(e,n.schema);return kj(i,t)(n,r)};var qV=Object.freeze({__proto__:null,blur:Wj,clearContent:Uj,clearNodes:Kj,command:qj,createParagraphNear:Gj,deleteNode:Yj,deleteRange:Jj,deleteSelection:Xj,enter:Zj,exitCode:Qj,extendMarkRange:tV,first:nV,focus:iV,forEach:oV,insertContent:sV,insertContentAt:uV,joinBackward:cV,joinForward:fV,keyboardShortcut:hV,lift:pV,liftEmptyBlock:gV,liftListItem:mV,newlineInCode:vV,resetAttributes:yV,scrollIntoView:bV,selectAll:_V,selectNodeBackward:wV,selectNodeForward:xV,selectParentNode:kV,selectTextblockEnd:CV,selectTextblockStart:SV,setContent:TV,setMark:EV,setMeta:AV,setNode:DV,setNodeSelection:MV,setTextSelection:OV,sinkListItem:NV,splitBlock:PV,splitListItem:IV,toggleList:RV,toggleMark:zV,toggleNode:BV,toggleWrap:$V,undoInputRule:HV,unsetAllMarks:jV,unsetMark:VV,updateAttributes:WV,wrapIn:UV,wrapInList:KV});const GV=hr.create({name:"commands",addCommands(){return Ne({},qV)}}),YV=hr.create({name:"editable",addProseMirrorPlugins(){return[new bn({key:new tr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),JV=hr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new bn({key:new tr("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),XV=hr.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:c,doc:h}=l,{empty:p,$anchor:m}=c,{pos:v,parent:b}=m,_=_t.atStart(h).from===v;return!p||!_||!b.type.isTextblock||b.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i=Ne({},r),o=Kt(Ne({},r),{"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return rm()||$M()?o:i},addProseMirrorPlugins(){return[new bn({key:new tr("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some(_=>_.docChanged)&&!t.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=t.selection,l=_t.atStart(t.doc).from,c=_t.atEnd(t.doc).to,h=o===l&&s===c,p=n.doc.textBetween(0,n.doc.content.size," "," ").length===0;if(i||!h||!p)return;const m=n.tr,v=Zg({state:n,transaction:m}),{commands:b}=new Qg({editor:this.editor,state:v});if(b.clearNodes(),!!m.steps.length)return m}})]}}),ZV=hr.create({name:"tabindex",addProseMirrorPlugins(){return[new bn({key:new tr("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var QV=Object.freeze({__proto__:null,ClipboardTextSerializer:Vj,Commands:GV,Editable:YV,FocusEvents:JV,Keymap:XV,Tabindex:ZV});function eW(e,t){const n=Un(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?Ne({},s.attrs):{}}function VM(e,t){const n=im(typeof t=="string"?t:t.name,e.schema);return n==="node"?eW(e,t):n==="mark"?jM(e,t):{}}function tW(e,t){const n=so.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function nW(e,t){const n={from:0,to:e.content.size};return IM(e,n,t)}function rW(e,t,n={}){if(!t)return Jf(e,null,n)||_y(e,null,n);const r=im(t,e.schema);return r==="node"?Jf(e,t,n):r==="mark"?_y(e,t,n):!1}function iW(e){var t;const n=(t=e.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}const oW=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function sW(e,t){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}class aW extends Dj{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=sW(oW,this.options.injectNonce))}setOptions(t={}){this.options=Ne(Ne({},this.options),t),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t){this.setOptions({editable:t})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const r=PM(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(t){if(this.isDestroyed)return;const n=typeof t=="string"?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(QV):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new su(n,this)}createCommandManager(){this.commandManager=new Qg({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=HM(this.options.content,this.schema,this.options.parseOptions),n=BM(t,this.options.autofocus);this.view=new ij(this.options.element,Kt(Ne({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:ru.create({doc:t,selection:n||void 0})}));const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=t.getMeta("focus"),o=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return VM(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,i=typeof t=="string"?n:t;return rW(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return tW(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return nW(this.state.doc,{blockSeparator:n,textSerializers:Ne(Ne({},r),FM(this.schema))})}get isEmpty(){return iW(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}}function lW(e,t){const n=new RD(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function uW(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function cW(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function fW(e){const t=cW(e);return t.length===1?t:t.filter((n,r)=>!t.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function dW(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((l,c)=>{s.push({from:l,to:c})});else{const{from:l,to:c}=n[o];if(l===void 0||c===void 0)return;s.push({from:l,to:c})}s.forEach(({from:l,to:c})=>{const h=t.slice(o).map(l,-1),p=t.slice(o).map(c),m=t.invert().map(h,-1),v=t.invert().map(p);r.push({oldRange:{from:m,to:v},newRange:{from:h,to:p}})})}),fW(r)}function Ip(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e-1),s=w1(o,i.type);!s||r.push(Ne({mark:i},s))}):n.nodesBetween(e,t,(i,o)=>{r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function hW(e){return RM(e)&&e instanceof ft}function WM(e,t,n){const i=e.state.doc.content.size,o=Fo(t,0,i),s=Fo(n,0,i),l=e.coordsAtPos(o),c=e.coordsAtPos(s,-1),h=Math.min(l.top,c.top),p=Math.max(l.bottom,c.bottom),m=Math.min(l.left,c.left),v=Math.max(l.right,c.right),b=v-m,_=p-h,E={top:h,bottom:p,left:m,right:v,width:b,height:_,x:m,y:h};return Kt(Ne({},E),{toJSON:()=>E})}function ul(e){return new tm({find:e.find,handler:({state:t,range:n,match:r})=>{const i=xt(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const h=l.search(/\S/),p=n.from+l.indexOf(s),m=p+s.length;if(Ip(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(x=>x===e.type&&x!==b.mark.type)).filter(b=>b.to>p).length)return null;m<n.to&&o.delete(m,n.to),p>n.from&&o.delete(n.from+h,p),c=n.from+h+s.length,o.addMark(n.from+h,c,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function UM(e){return new tm({find:e.find,handler:({state:t,range:n,match:r})=>{const i=xt(e.getAttributes,void 0,r)||{},{tr:o}=t,s=n.from;let l=n.to;if(r[1]){const c=r[0].lastIndexOf(r[1]);let h=s+c;h>l?h=l:l=h+r[1].length;const p=r[0][r[0].length-1];o.insertText(p,s+r[0].length-1),o.replaceWith(h,l,e.type.create(i))}else r[0]&&o.replaceWith(s,l,e.type.create(i))}})}function wy(e){return new tm({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),o=xt(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function k1(e){return new tm({find:e.find,handler:({state:t,range:n,match:r})=>{const i=xt(e.getAttributes,void 0,r)||{},o=t.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&i1(l,e.type,i);if(!c)return null;o.wrap(l,c);const h=o.doc.resolve(n.from-1).nodeBefore;h&&h.type===e.type&&pd(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,h))&&o.join(n.from-1)}})}class _i{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Ne(Ne({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt(et(this,"addOptions",{name:this.name}))),this.storage=xt(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new _i(t)}configure(t={}){const n=this.extend();return n.options=nm(this.options,t),n.storage=xt(et(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new _i(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=xt(et(n,"addOptions",{name:n.name})),n.storage=xt(et(n,"addStorage",{name:n.name,options:n.options})),n}}class pr{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Ne(Ne({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=xt(et(this,"addOptions",{name:this.name}))),this.storage=xt(et(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new pr(t)}configure(t={}){const n=this.extend();return n.options=nm(this.options,t),n.storage=xt(et(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new pr(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=xt(et(n,"addOptions",{name:n.name})),n.storage=xt(et(n,"addStorage",{name:n.name,options:n.options})),n}}class pW{constructor(t,n,r){this.isDragging=!1,this.component=t,this.editor=n.editor,this.options=Ne({stopEvent:null,ignoreMutation:null},r),this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var n,r,i,o,s,l,c;const{view:h}=this.editor,p=t.target,m=p.nodeType===3?(n=p.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):p.closest("[data-drag-handle]");if(!this.dom||((r=this.contentDOM)===null||r===void 0?void 0:r.contains(p))||!m)return;let v=0,b=0;if(this.dom!==m){const D=this.dom.getBoundingClientRect(),E=m.getBoundingClientRect(),T=(i=t.offsetX)!==null&&i!==void 0?i:(o=t.nativeEvent)===null||o===void 0?void 0:o.offsetX,R=(s=t.offsetY)!==null&&s!==void 0?s:(l=t.nativeEvent)===null||l===void 0?void 0:l.offsetY;v=E.x-D.x+T,b=E.y-D.y+R}(c=t.dataTransfer)===null||c===void 0||c.setDragImage(this.dom,v,b);const _=ft.create(h.state.doc,this.getPos()),x=h.state.tr.setSelection(_);h.dispatch(x)}stopEvent(t){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const r=t.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o)return!0;const{isEditable:l}=this.editor,{isDragging:c}=this,h=!!this.node.type.spec.draggable,p=ft.isSelectable(this.node),m=t.type==="copy",v=t.type==="paste",b=t.type==="cut",_=t.type==="mousedown",x=t.type.startsWith("drag");if(!h&&p&&x&&t.preventDefault(),h&&x&&!c)return t.preventDefault(),!1;if(h&&l&&!c&&_){const D=r.closest("[data-drag-handle]");D&&(this.dom===D||this.dom.contains(D))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(c||o||m||v||b||_&&p)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&rm()&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,Ne(Ne({},this.node.attrs),t)),!0})}deleteNode(){const t=this.getPos(),n=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:n})}}function Qs(e){return new Rj({find:e.find,handler:({state:t,range:n,match:r})=>{const i=xt(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const h=l.search(/\S/),p=n.from+l.indexOf(s),m=p+s.length;if(Ip(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(x=>x===e.type&&x!==b.mark.type)).filter(b=>b.to>p).length)return null;m<n.to&&o.delete(m,n.to),p>n.from&&o.delete(n.from+h,p),c=n.from+h+s.length,o.addMark(n.from+h,c,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}var Ir="top",wi="bottom",xi="right",Fr="left",C1="auto",md=[Ir,wi,xi,Fr],Hu="start",Xf="end",gW="clippingParents",KM="viewport",Rc="popper",mW="reference",OS=md.reduce(function(e,t){return e.concat([t+"-"+Hu,t+"-"+Xf])},[]),qM=[].concat(md,[C1]).reduce(function(e,t){return e.concat([t,t+"-"+Hu,t+"-"+Xf])},[]),vW="beforeRead",yW="read",bW="afterRead",_W="beforeMain",wW="main",xW="afterMain",kW="beforeWrite",CW="write",SW="afterWrite",TW=[vW,yW,bW,_W,wW,xW,kW,CW,SW];function mo(e){return e?(e.nodeName||"").toLowerCase():null}function Wi(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ju(e){var t=Wi(e).Element;return e instanceof t||e instanceof Element}function vi(e){var t=Wi(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function S1(e){if(typeof ShadowRoot=="undefined")return!1;var t=Wi(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function EW(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!vi(o)||!mo(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var l=i[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function AW(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=s.reduce(function(c,h){return c[h]="",c},{});!vi(i)||!mo(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(c){i.removeAttribute(c)}))})}}var GM={name:"applyStyles",enabled:!0,phase:"write",fn:EW,effect:AW,requires:["computeStyles"]};function fo(e){return e.split("-")[0]}var el=Math.max,Fp=Math.min,Vu=Math.round;function Wu(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(vi(e)&&t){var o=e.offsetHeight,s=e.offsetWidth;s>0&&(r=Vu(n.width)/s||1),o>0&&(i=Vu(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function T1(e){var t=Wu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function YM(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&S1(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qo(e){return Wi(e).getComputedStyle(e)}function DW(e){return["table","td","th"].indexOf(mo(e))>=0}function ca(e){return((ju(e)?e.ownerDocument:e.document)||window.document).documentElement}function om(e){return mo(e)==="html"?e:e.assignedSlot||e.parentNode||(S1(e)?e.host:null)||ca(e)}function NS(e){return!vi(e)||qo(e).position==="fixed"?null:e.offsetParent}function MW(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&vi(e)){var r=qo(e);if(r.position==="fixed")return null}var i=om(e);for(S1(i)&&(i=i.host);vi(i)&&["html","body"].indexOf(mo(i))<0;){var o=qo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function vd(e){for(var t=Wi(e),n=NS(e);n&&DW(n)&&qo(n).position==="static";)n=NS(n);return n&&(mo(n)==="html"||mo(n)==="body"&&qo(n).position==="static")?t:n||MW(e)||t}function E1(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function bf(e,t,n){return el(e,Fp(t,n))}function OW(e,t,n){var r=bf(e,t,n);return r>n?n:r}function JM(){return{top:0,right:0,bottom:0,left:0}}function XM(e){return Object.assign({},JM(),e)}function ZM(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var NW=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,XM(typeof t!="number"?t:ZM(t,md))};function LW(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=fo(n.placement),c=E1(l),h=[Fr,xi].indexOf(l)>=0,p=h?"height":"width";if(!(!o||!s)){var m=NW(i.padding,n),v=T1(o),b=c==="y"?Ir:Fr,_=c==="y"?wi:xi,x=n.rects.reference[p]+n.rects.reference[c]-s[c]-n.rects.popper[p],D=s[c]-n.rects.reference[c],E=vd(o),T=E?c==="y"?E.clientHeight||0:E.clientWidth||0:0,R=x/2-D/2,M=m[b],Y=T-v[p]-m[_],J=T/2-v[p]/2+R,Z=bf(M,J,Y),z=c;n.modifiersData[r]=(t={},t[z]=Z,t.centerOffset=Z-J,t)}}function PW(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!YM(t.elements.popper,i)||(t.elements.arrow=i))}var IW={name:"arrow",enabled:!0,phase:"main",fn:LW,effect:PW,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Uu(e){return e.split("-")[1]}var FW={top:"auto",right:"auto",bottom:"auto",left:"auto"};function RW(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Vu(t*i)/i||0,y:Vu(n*i)/i||0}}function LS(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,l=e.position,c=e.gpuAcceleration,h=e.adaptive,p=e.roundOffsets,m=e.isFixed,v=s.x,b=v===void 0?0:v,_=s.y,x=_===void 0?0:_,D=typeof p=="function"?p({x:b,y:x}):{x:b,y:x};b=D.x,x=D.y;var E=s.hasOwnProperty("x"),T=s.hasOwnProperty("y"),R=Fr,M=Ir,Y=window;if(h){var J=vd(n),Z="clientHeight",z="clientWidth";if(J===Wi(n)&&(J=ca(n),qo(J).position!=="static"&&l==="absolute"&&(Z="scrollHeight",z="scrollWidth")),J=J,i===Ir||(i===Fr||i===xi)&&o===Xf){M=wi;var B=m&&J===Y&&Y.visualViewport?Y.visualViewport.height:J[Z];x-=B-r.height,x*=c?1:-1}if(i===Fr||(i===Ir||i===wi)&&o===Xf){R=xi;var L=m&&J===Y&&Y.visualViewport?Y.visualViewport.width:J[z];b-=L-r.width,b*=c?1:-1}}var V=Object.assign({position:l},h&&FW),ie=p===!0?RW({x:b,y:x}):{x:b,y:x};if(b=ie.x,x=ie.y,c){var W;return Object.assign({},V,(W={},W[M]=T?"0":"",W[R]=E?"0":"",W.transform=(Y.devicePixelRatio||1)<=1?"translate("+b+"px, "+x+"px)":"translate3d("+b+"px, "+x+"px, 0)",W))}return Object.assign({},V,(t={},t[M]=T?x+"px":"",t[R]=E?b+"px":"",t.transform="",t))}function zW(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,c=l===void 0?!0:l,h={placement:fo(t.placement),variation:Uu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,LS(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,LS(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var BW={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:zW,data:{}},Ch={passive:!0};function $W(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,c=Wi(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(p){p.addEventListener("scroll",n.update,Ch)}),l&&c.addEventListener("resize",n.update,Ch),function(){o&&h.forEach(function(p){p.removeEventListener("scroll",n.update,Ch)}),l&&c.removeEventListener("resize",n.update,Ch)}}var HW={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$W,data:{}},jW={left:"right",right:"left",bottom:"top",top:"bottom"};function Bh(e){return e.replace(/left|right|bottom|top/g,function(t){return jW[t]})}var VW={start:"end",end:"start"};function PS(e){return e.replace(/start|end/g,function(t){return VW[t]})}function A1(e){var t=Wi(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function D1(e){return Wu(ca(e)).left+A1(e).scrollLeft}function WW(e){var t=Wi(e),n=ca(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,l=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,l=r.offsetTop)),{width:i,height:o,x:s+D1(e),y:l}}function UW(e){var t,n=ca(e),r=A1(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=el(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=el(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+D1(e),c=-r.scrollTop;return qo(i||n).direction==="rtl"&&(l+=el(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:c}}function M1(e){var t=qo(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function QM(e){return["html","body","#document"].indexOf(mo(e))>=0?e.ownerDocument.body:vi(e)&&M1(e)?e:QM(om(e))}function _f(e,t){var n;t===void 0&&(t=[]);var r=QM(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Wi(r),s=i?[o].concat(o.visualViewport||[],M1(r)?r:[]):r,l=t.concat(s);return i?l:l.concat(_f(om(s)))}function xy(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function KW(e){var t=Wu(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function IS(e,t){return t===KM?xy(WW(e)):ju(t)?KW(t):xy(UW(ca(e)))}function qW(e){var t=_f(om(e)),n=["absolute","fixed"].indexOf(qo(e).position)>=0,r=n&&vi(e)?vd(e):e;return ju(r)?t.filter(function(i){return ju(i)&&YM(i,r)&&mo(i)!=="body"}):[]}function GW(e,t,n){var r=t==="clippingParents"?qW(e):[].concat(t),i=[].concat(r,[n]),o=i[0],s=i.reduce(function(l,c){var h=IS(e,c);return l.top=el(h.top,l.top),l.right=Fp(h.right,l.right),l.bottom=Fp(h.bottom,l.bottom),l.left=el(h.left,l.left),l},IS(e,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function eO(e){var t=e.reference,n=e.element,r=e.placement,i=r?fo(r):null,o=r?Uu(r):null,s=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(i){case Ir:c={x:s,y:t.y-n.height};break;case wi:c={x:s,y:t.y+t.height};break;case xi:c={x:t.x+t.width,y:l};break;case Fr:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var h=i?E1(i):null;if(h!=null){var p=h==="y"?"height":"width";switch(o){case Hu:c[h]=c[h]-(t[p]/2-n[p]/2);break;case Xf:c[h]=c[h]+(t[p]/2-n[p]/2);break}}return c}function Zf(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.boundary,s=o===void 0?gW:o,l=n.rootBoundary,c=l===void 0?KM:l,h=n.elementContext,p=h===void 0?Rc:h,m=n.altBoundary,v=m===void 0?!1:m,b=n.padding,_=b===void 0?0:b,x=XM(typeof _!="number"?_:ZM(_,md)),D=p===Rc?mW:Rc,E=e.rects.popper,T=e.elements[v?D:p],R=GW(ju(T)?T:T.contextElement||ca(e.elements.popper),s,c),M=Wu(e.elements.reference),Y=eO({reference:M,element:E,strategy:"absolute",placement:i}),J=xy(Object.assign({},E,Y)),Z=p===Rc?J:M,z={top:R.top-Z.top+x.top,bottom:Z.bottom-R.bottom+x.bottom,left:R.left-Z.left+x.left,right:Z.right-R.right+x.right},B=e.modifiersData.offset;if(p===Rc&&B){var L=B[i];Object.keys(z).forEach(function(V){var ie=[xi,wi].indexOf(V)>=0?1:-1,W=[Ir,wi].indexOf(V)>=0?"y":"x";z[V]+=L[W]*ie})}return z}function YW(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,h=c===void 0?qM:c,p=Uu(r),m=p?l?OS:OS.filter(function(_){return Uu(_)===p}):md,v=m.filter(function(_){return h.indexOf(_)>=0});v.length===0&&(v=m);var b=v.reduce(function(_,x){return _[x]=Zf(e,{placement:x,boundary:i,rootBoundary:o,padding:s})[fo(x)],_},{});return Object.keys(b).sort(function(_,x){return b[_]-b[x]})}function JW(e){if(fo(e)===C1)return[];var t=Bh(e);return[PS(e),t,PS(t)]}function XW(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,c=n.fallbackPlacements,h=n.padding,p=n.boundary,m=n.rootBoundary,v=n.altBoundary,b=n.flipVariations,_=b===void 0?!0:b,x=n.allowedAutoPlacements,D=t.options.placement,E=fo(D),T=E===D,R=c||(T||!_?[Bh(D)]:JW(D)),M=[D].concat(R).reduce(function(ot,Ge){return ot.concat(fo(Ge)===C1?YW(t,{placement:Ge,boundary:p,rootBoundary:m,padding:h,flipVariations:_,allowedAutoPlacements:x}):Ge)},[]),Y=t.rects.reference,J=t.rects.popper,Z=new Map,z=!0,B=M[0],L=0;L<M.length;L++){var V=M[L],ie=fo(V),W=Uu(V)===Hu,Q=[Ir,wi].indexOf(ie)>=0,I=Q?"width":"height",de=Zf(t,{placement:V,boundary:p,rootBoundary:m,altBoundary:v,padding:h}),pe=Q?W?xi:Fr:W?wi:Ir;Y[I]>J[I]&&(pe=Bh(pe));var Se=Bh(pe),Ve=[];if(o&&Ve.push(de[ie]<=0),l&&Ve.push(de[pe]<=0,de[Se]<=0),Ve.every(function(ot){return ot})){B=V,z=!1;break}Z.set(V,Ve)}if(z)for(var tt=_?3:1,yt=function(Ge){var Fe=M.find(function(ke){var be=Z.get(ke);if(be)return be.slice(0,Ge).every(function(He){return He})});if(Fe)return B=Fe,"break"},Mt=tt;Mt>0;Mt--){var pt=yt(Mt);if(pt==="break")break}t.placement!==B&&(t.modifiersData[r]._skip=!0,t.placement=B,t.reset=!0)}}var ZW={name:"flip",enabled:!0,phase:"main",fn:XW,requiresIfExists:["offset"],data:{_skip:!1}};function FS(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function RS(e){return[Ir,xi,wi,Fr].some(function(t){return e[t]>=0})}function QW(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Zf(t,{elementContext:"reference"}),l=Zf(t,{altBoundary:!0}),c=FS(s,r),h=FS(l,i,o),p=RS(c),m=RS(h);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":m})}var eU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:QW};function tU(e,t,n){var r=fo(e),i=[Fr,Ir].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[Fr,xi].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function nU(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=qM.reduce(function(p,m){return p[m]=tU(m,t.rects,o),p},{}),l=s[t.placement],c=l.x,h=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=s}var rU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nU};function iU(e){var t=e.state,n=e.name;t.modifiersData[n]=eO({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var oU={name:"popperOffsets",enabled:!0,phase:"read",fn:iU,data:{}};function sU(e){return e==="x"?"y":"x"}function aU(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,c=n.boundary,h=n.rootBoundary,p=n.altBoundary,m=n.padding,v=n.tether,b=v===void 0?!0:v,_=n.tetherOffset,x=_===void 0?0:_,D=Zf(t,{boundary:c,rootBoundary:h,padding:m,altBoundary:p}),E=fo(t.placement),T=Uu(t.placement),R=!T,M=E1(E),Y=sU(M),J=t.modifiersData.popperOffsets,Z=t.rects.reference,z=t.rects.popper,B=typeof x=="function"?x(Object.assign({},t.rects,{placement:t.placement})):x,L=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ie={x:0,y:0};if(!!J){if(o){var W,Q=M==="y"?Ir:Fr,I=M==="y"?wi:xi,de=M==="y"?"height":"width",pe=J[M],Se=pe+D[Q],Ve=pe-D[I],tt=b?-z[de]/2:0,yt=T===Hu?Z[de]:z[de],Mt=T===Hu?-z[de]:-Z[de],pt=t.elements.arrow,ot=b&&pt?T1(pt):{width:0,height:0},Ge=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:JM(),Fe=Ge[Q],ke=Ge[I],be=bf(0,Z[de],ot[de]),He=R?Z[de]/2-tt-be-Fe-L.mainAxis:yt-be-Fe-L.mainAxis,Ke=R?-Z[de]/2+tt+be+ke+L.mainAxis:Mt+be+ke+L.mainAxis,je=t.elements.arrow&&vd(t.elements.arrow),gt=je?M==="y"?je.clientTop||0:je.clientLeft||0:0,te=(W=V==null?void 0:V[M])!=null?W:0,re=pe+He-te-gt,ce=pe+Ke-te,me=bf(b?Fp(Se,re):Se,pe,b?el(Ve,ce):Ve);J[M]=me,ie[M]=me-pe}if(l){var ve,j=M==="x"?Ir:Fr,G=M==="x"?wi:xi,S=J[Y],F=Y==="y"?"height":"width",A=S+D[j],H=S-D[G],P=[Ir,Fr].indexOf(E)!==-1,X=(ve=V==null?void 0:V[Y])!=null?ve:0,ae=P?A:S-Z[F]-z[F]-X+L.altAxis,fe=P?S+Z[F]+z[F]-X-L.altAxis:H,ge=b&&P?OW(ae,S,fe):bf(b?ae:A,S,b?fe:H);J[Y]=ge,ie[Y]=ge-S}t.modifiersData[r]=ie}}var lU={name:"preventOverflow",enabled:!0,phase:"main",fn:aU,requiresIfExists:["offset"]};function uU(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function cU(e){return e===Wi(e)||!vi(e)?A1(e):uU(e)}function fU(e){var t=e.getBoundingClientRect(),n=Vu(t.width)/e.offsetWidth||1,r=Vu(t.height)/e.offsetHeight||1;return n!==1||r!==1}function dU(e,t,n){n===void 0&&(n=!1);var r=vi(t),i=vi(t)&&fU(t),o=ca(t),s=Wu(e,i),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((mo(t)!=="body"||M1(o))&&(l=cU(t)),vi(t)?(c=Wu(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=D1(o))),{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function hU(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&i(c)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function pU(e){var t=hU(e);return TW.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function gU(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function mU(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var zS={placement:"bottom",modifiers:[],strategy:"absolute"};function BS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function vU(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?zS:i;return function(l,c,h){h===void 0&&(h=o);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},zS,o),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},m=[],v=!1,b={state:p,setOptions:function(E){var T=typeof E=="function"?E(p.options):E;x(),p.options=Object.assign({},o,p.options,T),p.scrollParents={reference:ju(l)?_f(l):l.contextElement?_f(l.contextElement):[],popper:_f(c)};var R=pU(mU([].concat(r,p.options.modifiers)));return p.orderedModifiers=R.filter(function(M){return M.enabled}),_(),b.update()},forceUpdate:function(){if(!v){var E=p.elements,T=E.reference,R=E.popper;if(!!BS(T,R)){p.rects={reference:dU(T,vd(R),p.options.strategy==="fixed"),popper:T1(R)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(L){return p.modifiersData[L.name]=Object.assign({},L.data)});for(var M=0;M<p.orderedModifiers.length;M++){if(p.reset===!0){p.reset=!1,M=-1;continue}var Y=p.orderedModifiers[M],J=Y.fn,Z=Y.options,z=Z===void 0?{}:Z,B=Y.name;typeof J=="function"&&(p=J({state:p,options:z,name:B,instance:b})||p)}}}},update:gU(function(){return new Promise(function(D){b.forceUpdate(),D(p)})}),destroy:function(){x(),v=!0}};if(!BS(l,c))return b;b.setOptions(h).then(function(D){!v&&h.onFirstUpdate&&h.onFirstUpdate(D)});function _(){p.orderedModifiers.forEach(function(D){var E=D.name,T=D.options,R=T===void 0?{}:T,M=D.effect;if(typeof M=="function"){var Y=M({state:p,name:E,instance:b,options:R}),J=function(){};m.push(Y||J)}})}function x(){m.forEach(function(D){return D()}),m=[]}return b}}var yU=[HW,oU,BW,GM,rU,ZW,lU,IW,eU],bU=vU({defaultModifiers:yU}),_U="tippy-box",tO="tippy-content",wU="tippy-backdrop",nO="tippy-arrow",rO="tippy-svg-arrow",La={passive:!0,capture:!0},iO=function(){return document.body};function Qv(e,t,n){if(Array.isArray(e)){var r=e[t];return r==null?Array.isArray(n)?n[t]:n:r}return e}function O1(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function oO(e,t){return typeof e=="function"?e.apply(void 0,t):e}function $S(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function xU(e){return e.split(/\s+/).filter(Boolean)}function tu(e){return[].concat(e)}function HS(e,t){e.indexOf(t)===-1&&e.push(t)}function kU(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function CU(e){return e.split("-")[0]}function Rp(e){return[].slice.call(e)}function jS(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function wf(){return document.createElement("div")}function sm(e){return["Element","Fragment"].some(function(t){return O1(e,t)})}function SU(e){return O1(e,"NodeList")}function TU(e){return O1(e,"MouseEvent")}function EU(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function AU(e){return sm(e)?[e]:SU(e)?Rp(e):Array.isArray(e)?e:Rp(document.querySelectorAll(e))}function e0(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function VS(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function DU(e){var t,n=tu(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function MU(e,t){var n=t.clientX,r=t.clientY;return e.every(function(i){var o=i.popperRect,s=i.popperState,l=i.props,c=l.interactiveBorder,h=CU(s.placement),p=s.modifiersData.offset;if(!p)return!0;var m=h==="bottom"?p.top.y:0,v=h==="top"?p.bottom.y:0,b=h==="right"?p.left.x:0,_=h==="left"?p.right.x:0,x=o.top-r+m>c,D=r-o.bottom-v>c,E=o.left-n+b>c,T=n-o.right-_>c;return x||D||E||T})}function t0(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,n)})}function WS(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var to={isTouch:!1},US=0;function OU(){to.isTouch||(to.isTouch=!0,window.performance&&document.addEventListener("mousemove",sO))}function sO(){var e=performance.now();e-US<20&&(to.isTouch=!1,document.removeEventListener("mousemove",sO)),US=e}function NU(){var e=document.activeElement;if(EU(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function LU(){document.addEventListener("touchstart",OU,La),window.addEventListener("blur",NU)}var PU=typeof window!="undefined"&&typeof document!="undefined",IU=PU?!!window.msCrypto:!1,FU={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},RU={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Fi=Object.assign({appendTo:iO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},FU,RU),zU=Object.keys(Fi),BU=function(t){var n=Object.keys(t);n.forEach(function(r){Fi[r]=t[r]})};function aO(e){var t=e.plugins||[],n=t.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var l;r[o]=e[o]!==void 0?e[o]:(l=Fi[o])!=null?l:s}return r},{});return Object.assign({},e,n)}function $U(e,t){var n=t?Object.keys(aO(Object.assign({},Fi,{plugins:t}))):zU,r=n.reduce(function(i,o){var s=(e.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function KS(e,t){var n=Object.assign({},t,{content:oO(t.content,[e])},t.ignoreAttributes?{}:$U(e,t.plugins));return n.aria=Object.assign({},Fi.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var HU=function(){return"innerHTML"};function ky(e,t){e[HU()]=t}function qS(e){var t=wf();return e===!0?t.className=nO:(t.className=rO,sm(e)?t.appendChild(e):ky(t,e)),t}function GS(e,t){sm(t.content)?(ky(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?ky(e,t.content):e.textContent=t.content)}function Cy(e){var t=e.firstElementChild,n=Rp(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(tO)}),arrow:n.find(function(r){return r.classList.contains(nO)||r.classList.contains(rO)}),backdrop:n.find(function(r){return r.classList.contains(wU)})}}function lO(e){var t=wf(),n=wf();n.className=_U,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=wf();r.className=tO,r.setAttribute("data-state","hidden"),GS(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props);function i(o,s){var l=Cy(t),c=l.box,h=l.content,p=l.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&GS(h,e.props),s.arrow?p?o.arrow!==s.arrow&&(c.removeChild(p),c.appendChild(qS(s.arrow))):c.appendChild(qS(s.arrow)):p&&c.removeChild(p)}return{popper:t,onUpdate:i}}lO.$$tippy=!0;var jU=1,Sh=[],n0=[];function VU(e,t){var n=KS(e,Object.assign({},Fi,aO(jS(t)))),r,i,o,s=!1,l=!1,c=!1,h=!1,p,m,v,b=[],_=$S(re,n.interactiveDebounce),x,D=jU++,E=null,T=kU(n.plugins),R={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},M={id:D,reference:e,popper:wf(),popperInstance:E,props:n,state:R,plugins:T,clearDelayTimeouts:ae,setProps:fe,setContent:ge,show:K,hide:q,hideWithInteractivity:he,enable:P,disable:X,unmount:Me,destroy:rt};if(!n.render)return M;var Y=n.render(M),J=Y.popper,Z=Y.onUpdate;J.setAttribute("data-tippy-root",""),J.id="tippy-"+M.id,M.popper=J,e._tippy=M,J._tippy=M;var z=T.map(function(oe){return oe.fn(M)}),B=e.hasAttribute("aria-expanded");return je(),tt(),pe(),Se("onCreate",[M]),n.showOnCreate&&A(),J.addEventListener("mouseenter",function(){M.props.interactive&&M.state.isVisible&&M.clearDelayTimeouts()}),J.addEventListener("mouseleave",function(){M.props.interactive&&M.props.trigger.indexOf("mouseenter")>=0&&Q().addEventListener("mousemove",_)}),M;function L(){var oe=M.props.touch;return Array.isArray(oe)?oe:[oe,0]}function V(){return L()[0]==="hold"}function ie(){var oe;return!!((oe=M.props.render)!=null&&oe.$$tippy)}function W(){return x||e}function Q(){var oe=W().parentNode;return oe?DU(oe):document}function I(){return Cy(J)}function de(oe){return M.state.isMounted&&!M.state.isVisible||to.isTouch||p&&p.type==="focus"?0:Qv(M.props.delay,oe?0:1,Fi.delay)}function pe(oe){oe===void 0&&(oe=!1),J.style.pointerEvents=M.props.interactive&&!oe?"":"none",J.style.zIndex=""+M.props.zIndex}function Se(oe,Pe,Ae){if(Ae===void 0&&(Ae=!0),z.forEach(function(We){We[oe]&&We[oe].apply(We,Pe)}),Ae){var we;(we=M.props)[oe].apply(we,Pe)}}function Ve(){var oe=M.props.aria;if(!!oe.content){var Pe="aria-"+oe.content,Ae=J.id,we=tu(M.props.triggerTarget||e);we.forEach(function(We){var qt=We.getAttribute(Pe);if(M.state.isVisible)We.setAttribute(Pe,qt?qt+" "+Ae:Ae);else{var dt=qt&&qt.replace(Ae,"").trim();dt?We.setAttribute(Pe,dt):We.removeAttribute(Pe)}})}}function tt(){if(!(B||!M.props.aria.expanded)){var oe=tu(M.props.triggerTarget||e);oe.forEach(function(Pe){M.props.interactive?Pe.setAttribute("aria-expanded",M.state.isVisible&&Pe===W()?"true":"false"):Pe.removeAttribute("aria-expanded")})}}function yt(){Q().removeEventListener("mousemove",_),Sh=Sh.filter(function(oe){return oe!==_})}function Mt(oe){if(!(to.isTouch&&(c||oe.type==="mousedown"))){var Pe=oe.composedPath&&oe.composedPath()[0]||oe.target;if(!(M.props.interactive&&WS(J,Pe))){if(tu(M.props.triggerTarget||e).some(function(Ae){return WS(Ae,Pe)})){if(to.isTouch||M.state.isVisible&&M.props.trigger.indexOf("click")>=0)return}else Se("onClickOutside",[M,oe]);M.props.hideOnClick===!0&&(M.clearDelayTimeouts(),M.hide(),l=!0,setTimeout(function(){l=!1}),M.state.isMounted||Fe())}}}function pt(){c=!0}function ot(){c=!1}function Ge(){var oe=Q();oe.addEventListener("mousedown",Mt,!0),oe.addEventListener("touchend",Mt,La),oe.addEventListener("touchstart",ot,La),oe.addEventListener("touchmove",pt,La)}function Fe(){var oe=Q();oe.removeEventListener("mousedown",Mt,!0),oe.removeEventListener("touchend",Mt,La),oe.removeEventListener("touchstart",ot,La),oe.removeEventListener("touchmove",pt,La)}function ke(oe,Pe){He(oe,function(){!M.state.isVisible&&J.parentNode&&J.parentNode.contains(J)&&Pe()})}function be(oe,Pe){He(oe,Pe)}function He(oe,Pe){var Ae=I().box;function we(We){We.target===Ae&&(t0(Ae,"remove",we),Pe())}if(oe===0)return Pe();t0(Ae,"remove",m),t0(Ae,"add",we),m=we}function Ke(oe,Pe,Ae){Ae===void 0&&(Ae=!1);var we=tu(M.props.triggerTarget||e);we.forEach(function(We){We.addEventListener(oe,Pe,Ae),b.push({node:We,eventType:oe,handler:Pe,options:Ae})})}function je(){V()&&(Ke("touchstart",te,{passive:!0}),Ke("touchend",ce,{passive:!0})),xU(M.props.trigger).forEach(function(oe){if(oe!=="manual")switch(Ke(oe,te),oe){case"mouseenter":Ke("mouseleave",ce);break;case"focus":Ke(IU?"focusout":"blur",me);break;case"focusin":Ke("focusout",me);break}})}function gt(){b.forEach(function(oe){var Pe=oe.node,Ae=oe.eventType,we=oe.handler,We=oe.options;Pe.removeEventListener(Ae,we,We)}),b=[]}function te(oe){var Pe,Ae=!1;if(!(!M.state.isEnabled||ve(oe)||l)){var we=((Pe=p)==null?void 0:Pe.type)==="focus";p=oe,x=oe.currentTarget,tt(),!M.state.isVisible&&TU(oe)&&Sh.forEach(function(We){return We(oe)}),oe.type==="click"&&(M.props.trigger.indexOf("mouseenter")<0||s)&&M.props.hideOnClick!==!1&&M.state.isVisible?Ae=!0:A(oe),oe.type==="click"&&(s=!Ae),Ae&&!we&&H(oe)}}function re(oe){var Pe=oe.target,Ae=W().contains(Pe)||J.contains(Pe);if(!(oe.type==="mousemove"&&Ae)){var we=F().concat(J).map(function(We){var qt,dt=We._tippy,Ft=(qt=dt.popperInstance)==null?void 0:qt.state;return Ft?{popperRect:We.getBoundingClientRect(),popperState:Ft,props:n}:null}).filter(Boolean);MU(we,oe)&&(yt(),H(oe))}}function ce(oe){var Pe=ve(oe)||M.props.trigger.indexOf("click")>=0&&s;if(!Pe){if(M.props.interactive){M.hideWithInteractivity(oe);return}H(oe)}}function me(oe){M.props.trigger.indexOf("focusin")<0&&oe.target!==W()||M.props.interactive&&oe.relatedTarget&&J.contains(oe.relatedTarget)||H(oe)}function ve(oe){return to.isTouch?V()!==oe.type.indexOf("touch")>=0:!1}function j(){G();var oe=M.props,Pe=oe.popperOptions,Ae=oe.placement,we=oe.offset,We=oe.getReferenceClientRect,qt=oe.moveTransition,dt=ie()?Cy(J).arrow:null,Ft=We?{getBoundingClientRect:We,contextElement:We.contextElement||W()}:e,Rt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(_n){var wn=_n.state;if(ie()){var vr=I(),$r=vr.box;["placement","reference-hidden","escaped"].forEach(function(pn){pn==="placement"?$r.setAttribute("data-placement",wn.placement):wn.attributes.popper["data-popper-"+pn]?$r.setAttribute("data-"+pn,""):$r.removeAttribute("data-"+pn)}),wn.attributes.popper={}}}},Qt=[{name:"offset",options:{offset:we}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!qt}},Rt];ie()&&dt&&Qt.push({name:"arrow",options:{element:dt,padding:3}}),Qt.push.apply(Qt,(Pe==null?void 0:Pe.modifiers)||[]),M.popperInstance=bU(Ft,J,Object.assign({},Pe,{placement:Ae,onFirstUpdate:v,modifiers:Qt}))}function G(){M.popperInstance&&(M.popperInstance.destroy(),M.popperInstance=null)}function S(){var oe=M.props.appendTo,Pe,Ae=W();M.props.interactive&&oe===iO||oe==="parent"?Pe=Ae.parentNode:Pe=oO(oe,[Ae]),Pe.contains(J)||Pe.appendChild(J),M.state.isMounted=!0,j()}function F(){return Rp(J.querySelectorAll("[data-tippy-root]"))}function A(oe){M.clearDelayTimeouts(),oe&&Se("onTrigger",[M,oe]),Ge();var Pe=de(!0),Ae=L(),we=Ae[0],We=Ae[1];to.isTouch&&we==="hold"&&We&&(Pe=We),Pe?r=setTimeout(function(){M.show()},Pe):M.show()}function H(oe){if(M.clearDelayTimeouts(),Se("onUntrigger",[M,oe]),!M.state.isVisible){Fe();return}if(!(M.props.trigger.indexOf("mouseenter")>=0&&M.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(oe.type)>=0&&s)){var Pe=de(!1);Pe?i=setTimeout(function(){M.state.isVisible&&M.hide()},Pe):o=requestAnimationFrame(function(){M.hide()})}}function P(){M.state.isEnabled=!0}function X(){M.hide(),M.state.isEnabled=!1}function ae(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function fe(oe){if(!M.state.isDestroyed){Se("onBeforeUpdate",[M,oe]),gt();var Pe=M.props,Ae=KS(e,Object.assign({},Pe,jS(oe),{ignoreAttributes:!0}));M.props=Ae,je(),Pe.interactiveDebounce!==Ae.interactiveDebounce&&(yt(),_=$S(re,Ae.interactiveDebounce)),Pe.triggerTarget&&!Ae.triggerTarget?tu(Pe.triggerTarget).forEach(function(we){we.removeAttribute("aria-expanded")}):Ae.triggerTarget&&e.removeAttribute("aria-expanded"),tt(),pe(),Z&&Z(Pe,Ae),M.popperInstance&&(j(),F().forEach(function(we){requestAnimationFrame(we._tippy.popperInstance.forceUpdate)})),Se("onAfterUpdate",[M,oe])}}function ge(oe){M.setProps({content:oe})}function K(){var oe=M.state.isVisible,Pe=M.state.isDestroyed,Ae=!M.state.isEnabled,we=to.isTouch&&!M.props.touch,We=Qv(M.props.duration,0,Fi.duration);if(!(oe||Pe||Ae||we)&&!W().hasAttribute("disabled")&&(Se("onShow",[M],!1),M.props.onShow(M)!==!1)){if(M.state.isVisible=!0,ie()&&(J.style.visibility="visible"),pe(),Ge(),M.state.isMounted||(J.style.transition="none"),ie()){var qt=I(),dt=qt.box,Ft=qt.content;e0([dt,Ft],0)}v=function(){var Qt;if(!(!M.state.isVisible||h)){if(h=!0,J.offsetHeight,J.style.transition=M.props.moveTransition,ie()&&M.props.animation){var tn=I(),_n=tn.box,wn=tn.content;e0([_n,wn],We),VS([_n,wn],"visible")}Ve(),tt(),HS(n0,M),(Qt=M.popperInstance)==null||Qt.forceUpdate(),Se("onMount",[M]),M.props.animation&&ie()&&be(We,function(){M.state.isShown=!0,Se("onShown",[M])})}},S()}}function q(){var oe=!M.state.isVisible,Pe=M.state.isDestroyed,Ae=!M.state.isEnabled,we=Qv(M.props.duration,1,Fi.duration);if(!(oe||Pe||Ae)&&(Se("onHide",[M],!1),M.props.onHide(M)!==!1)){if(M.state.isVisible=!1,M.state.isShown=!1,h=!1,s=!1,ie()&&(J.style.visibility="hidden"),yt(),Fe(),pe(!0),ie()){var We=I(),qt=We.box,dt=We.content;M.props.animation&&(e0([qt,dt],we),VS([qt,dt],"hidden"))}Ve(),tt(),M.props.animation?ie()&&ke(we,M.unmount):M.unmount()}}function he(oe){Q().addEventListener("mousemove",_),HS(Sh,_),_(oe)}function Me(){M.state.isVisible&&M.hide(),M.state.isMounted&&(G(),F().forEach(function(oe){oe._tippy.unmount()}),J.parentNode&&J.parentNode.removeChild(J),n0=n0.filter(function(oe){return oe!==M}),M.state.isMounted=!1,Se("onHidden",[M]))}function rt(){M.state.isDestroyed||(M.clearDelayTimeouts(),M.unmount(),gt(),delete e._tippy,M.state.isDestroyed=!0,Se("onDestroy",[M]))}}function si(e,t){t===void 0&&(t={});var n=Fi.plugins.concat(t.plugins||[]);LU();var r=Object.assign({},t,{plugins:n}),i=AU(e),o=i.reduce(function(s,l){var c=l&&VU(l,r);return c&&s.push(c),s},[]);return sm(e)?o[0]:o}si.defaultProps=Fi;si.setDefaultProps=BU;si.currentInput=to;Object.assign({},GM,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});si.setDefaultProps({render:lO});class WU{constructor({editor:t,element:n,view:r,tippyOptions:i={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:s,state:l,from:c,to:h})=>{const{doc:p,selection:m}=l,{empty:v}=m,b=!p.textBetween(c,h).length&&zM(l.selection);return!(!s.hasFocus()||v||b)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var l;if(this.preventHide){this.preventHide=!1;return}(s==null?void 0:s.relatedTarget)&&((l=this.element.parentNode)===null||l===void 0?void 0:l.contains(s.relatedTarget))||this.hide()},this.editor=t,this.element=n,this.view=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,n=!!t.parentElement;this.tippy||!n||(this.tippy=si(t,Ne({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(t,n){var r,i,o;const{state:s,composing:l}=t,{doc:c,selection:h}=s,p=n&&n.doc.eq(c)&&n.selection.eq(h);if(l||p)return;this.createTooltip();const{ranges:m}=h,v=Math.min(...m.map(x=>x.$from.pos)),b=Math.max(...m.map(x=>x.$to.pos));if(!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:t,state:s,oldState:n,from:v,to:b}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((o=this.tippyOptions)===null||o===void 0?void 0:o.getReferenceClientRect)||(()=>{if(hW(s.selection)){const x=t.nodeDOM(v);if(x)return x.getBoundingClientRect()}return WM(t,v,b)})}),this.show()}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t;(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const uO=e=>new bn({key:typeof e.pluginKey=="string"?new tr(e.pluginKey):e.pluginKey,view:t=>new WU(Ne({view:t},e))});hr.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[uO({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class UU{constructor({editor:t,element:n,view:r,tippyOptions:i={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:s,state:l})=>{const{selection:c}=l,{$anchor:h,empty:p}=c,m=h.depth===1,v=h.parent.isTextblock&&!h.parent.type.spec.code&&!h.parent.textContent;return!(!s.hasFocus()||!p||!m||!v)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var l;if(this.preventHide){this.preventHide=!1;return}(s==null?void 0:s.relatedTarget)&&((l=this.element.parentNode)===null||l===void 0?void 0:l.contains(s.relatedTarget))||this.hide()},this.editor=t,this.element=n,this.view=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,n=!!t.parentElement;this.tippy||!n||(this.tippy=si(t,Ne({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(t,n){var r,i,o;const{state:s}=t,{doc:l,selection:c}=s,{from:h,to:p}=c;if(n&&n.doc.eq(l)&&n.selection.eq(c))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:t,state:s,oldState:n}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((o=this.tippyOptions)===null||o===void 0?void 0:o.getReferenceClientRect)||(()=>WM(t,h,p))}),this.show()}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t;(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const cO=e=>new bn({key:typeof e.pluginKey=="string"?new tr(e.pluginKey):e.pluginKey,view:t=>new UU(Ne({view:t},e))});hr.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[cO({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});ln({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const n=Ct(null);return Vi(()=>{const{pluginKey:r,editor:i,tippyOptions:o,shouldShow:s}=e;i.registerPlugin(uO({pluginKey:r,editor:i,element:n.value,tippyOptions:o,shouldShow:s}))}),Zo(()=>{const{pluginKey:r,editor:i}=e;i.unregisterPlugin(r)}),()=>{var r;return Vn("div",{ref:n},(r=t.default)===null||r===void 0?void 0:r.call(t))}}});function YS(e){return sT((t,n)=>({get(){return t(),e},set(r){e=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class KU extends aW{constructor(t={}){return super(t),this.vueRenderers=yl(new Map),this.contentComponent=null,this.reactiveState=YS(this.view.state),this.reactiveExtensionStorage=YS(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),ia(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,n){super.registerPlugin(t,n),this.reactiveState.value=this.view.state}unregisterPlugin(t){super.unregisterPlugin(t),this.reactiveState.value=this.view.state}}const qU=ln({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=Ct(),n=yo();return yT(()=>{const r=e.editor;r&&r.options.element&&t.value&&oo(()=>{if(!t.value||!r.options.element.firstChild)return;const i=Cr(t.value);t.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,r.setOptions({element:i}),r.createNodeViews()})}),Zo(()=>{const r=e.editor;if(!r||(r.isDestroyed||r.view.setProps({nodeViews:{}}),r.contentComponent=null,!r.options.element.firstChild))return;const i=document.createElement("div");i.append(...r.options.element.childNodes),r.setOptions({element:i})}),{rootEl:t}},render(){const e=[];return this.editor&&this.editor.vueRenderers.forEach(t=>{const n=Vn(WT,{to:t.teleportElement,key:t.id},Vn(t.component,Ne({ref:t.id},t.props)));e.push(n)}),Vn("div",{ref:t=>{this.rootEl=t}},...e)}});ln({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const n=Ct(null);return Vi(()=>{const{pluginKey:r,editor:i,tippyOptions:o,shouldShow:s}=e;i.registerPlugin(cO({pluginKey:r,editor:i,element:n.value,tippyOptions:o,shouldShow:s}))}),Zo(()=>{const{pluginKey:r,editor:i}=e;i.unregisterPlugin(r)}),()=>{var r;return Vn("div",{ref:n},(r=t.default)===null||r===void 0?void 0:r.call(t))}}});ln({props:{as:{type:String,default:"div"}},render(){return Vn(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});const GU=ln({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var e,t;return Vn(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}});class YU{constructor(t,{props:n={},editor:r}){if(this.id=Math.floor(Math.random()*4294967295).toString(),this.editor=r,this.component=ia(t),this.teleportElement=document.createElement("div"),this.element=this.teleportElement,this.props=yl(n),this.editor.vueRenderers.set(this.id,this),this.editor.contentComponent){if(this.editor.contentComponent.update(),this.teleportElement.children.length!==1)throw Error("VueRenderer doesn\u2019t support multiple child elements.");this.element=this.teleportElement.firstElementChild}}get ref(){var t;return(t=this.editor.contentComponent)===null||t===void 0?void 0:t.refs[this.id]}updateProps(t={}){Object.entries(t).forEach(([n,r])=>{this.props[n]=r})}destroy(){this.editor.vueRenderers.delete(this.id)}}class JU extends pW{mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(i={})=>this.updateAttributes(i),deleteNode:()=>this.deleteNode()},n=this.onDragStart.bind(this);this.decorationClasses=Ct(this.getDecorationClasses());const r=ln({extends:Ne({},this.component),props:Object.keys(t),template:this.component.template,setup:i=>{var o,s;return Jh("onDragStart",n),Jh("decorationClasses",this.decorationClasses),(s=(o=this.component).setup)===null||s===void 0?void 0:s.call(o,i,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules});this.renderer=new YU(r,{editor:this.editor,props:t})}get dom(){if(!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")||this.dom}update(t,n){const r=i=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(i)};if(typeof this.options.update=="function"){const i=this.node,o=this.decorations;return this.node=t,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:t,newDecorations:n,updateProps:()=>r({node:t,decorations:n})})}return t.type!==this.node.type?!1:(t===this.node&&this.decorations===n||(this.node=t,this.decorations=n,r({node:t,decorations:n})),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}getDecorationClasses(){return this.decorations.map(t=>t.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy()}}function XU(e,t){return n=>n.editor.contentComponent?new JU(e,n,t):{}}const ZU=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,QU=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,eK=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,tK=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,nK=_i.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ul({find:ZU,type:this.type}),ul({find:eK,type:this.type})]},addPasteRules(){return[Qs({find:QU,type:this.type}),Qs({find:tK,type:this.type})]}}),rK=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,iK=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,oK=_i.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ul({find:rK,type:this.type})]},addPasteRules(){return[Qs({find:iK,type:this.type})]}}),sK=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,aK=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,lK=_i.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ul({find:sK,type:this.type})]},addPasteRules(){return[Qs({find:aK,type:this.type})]}}),uK=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,cK=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,fK=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,dK=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,hK=_i.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ul({find:uK,type:this.type}),ul({find:fK,type:this.type})]},addPasteRules(){return[Qs({find:cK,type:this.type}),Qs({find:dK,type:this.type})]}}),pK=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,gK=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,mK=_i.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ul({find:pK,type:this.type})]},addPasteRules(){return[Qs({find:gK,type:this.type})]}}),vK=_i.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),yK=_i.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),bK=_i.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),_K=/^\s*>\s$/,wK=pr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[k1({find:_K,type:this.type})]}}),xK=/^\s*([-+*])\s$/,kK=pr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[k1({find:xK,type:this.type})]}}),CK=/^```([a-z]+)?[\s\n]$/,SK=/^~~~([a-z]+)?[\s\n]$/,TK=pr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,o=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",yn(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:e.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0||r.nodeAt(l)?!1:e.commands.exitCode()}}},addInputRules(){return[wy({find:CK,type:this.type,getAttributes:e=>({language:e[1]})}),wy({find:SK,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new bn({key:new tr("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=e.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(vt.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),EK=pr.create({name:"doc",topNode:!0,content:"block+"}),AK=pr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",yn(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=r.extensionManager,c=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&c&&s){const m=c.filter(v=>l.includes(v.type.name));h.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),DK=pr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,yn(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>Kt(Ne({},e),{[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>wy({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),MK=pr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",yn(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command(({tr:t,dispatch:n})=>{var r;if(n){const{$to:i}=t.selection,o=i.end();if(i.nodeAfter)t.setSelection(vt.create(t.doc,i.pos));else{const s=(r=i.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();s&&(t.insert(o,s),t.setSelection(vt.create(t.doc,o)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[UM({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),OK=pr.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",yn(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),NK=/^(\d+)\.\s$/,LK=pr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const r=e,{start:t}=r,n=ql(r,["start"]);return t===1?["ol",yn(this.options.HTMLAttributes,n),0]:["ol",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[k1({find:NK,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]})]}}),PK=pr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),IK=pr.create({name:"text",group:"inline"});function FK(e={}){return new bn({view(t){return new RK(t,e)}})}class RK{constructor(t,n){this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return t.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n;if(!t.parent.inlineContent){let s=t.nodeBefore,l=t.nodeAfter;if(s||l){let c=this.editorView.nodeDOM(this.cursorPos-(s?s.nodeSize:0)).getBoundingClientRect(),h=s?c.bottom:c.top;s&&l&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:c.left,right:c.right,top:h-this.width/2,bottom:h+this.width/2}}}if(!n){let s=this.editorView.coordsAtPos(this.cursorPos);n={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);let i,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,o=-pageYOffset;else{let s=r.getBoundingClientRect();i=s.left-r.scrollLeft,o=s.top-r.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(s=ND(this.editorView.state.doc,s,this.editorView.dragging.slice),s==null))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const zK=hr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[FK(this.options)]}});hr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new bn({key:new tr("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,o=[];if(!n||!r)return Rn.create(e,[]);let s=0;this.options.mode==="deepest"&&e.descendants((c,h)=>{if(c.isText)return;if(!(i>=h&&i<=h+c.nodeSize-1))return!1;s+=1});let l=0;return e.descendants((c,h)=>{if(c.isText||!(i>=h&&i<=h+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&s-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";o.push(Zr.node(h,h+c.nodeSize,{class:this.options.className}))}),Rn.create(e,o)}}})]}});class mn extends _t{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return mn.valid(r)?new mn(r):_t.near(r)}content(){return Ze.empty}eq(t){return t instanceof mn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new mn(t.resolve(n.pos))}getBookmark(){return new N1(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!BK(t)||!$K(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&mn.valid(t))return t;let i=t.pos,o=null;for(let s=t.depth;;s--){let l=t.node(s);if(n>0?t.indexAfter(s)<l.childCount:t.index(s)>0){o=l.child(n>0?t.indexAfter(s):t.index(s)-1);break}else if(s==0)return null;i+=n;let c=t.doc.resolve(i);if(mn.valid(c))return c}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!ft.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let l=t.doc.resolve(i);if(mn.valid(l))return l}return null}}}mn.prototype.visible=!1;mn.findFrom=mn.findGapCursorFrom;_t.jsonID("gapcursor",mn);class N1{constructor(t){this.pos=t}map(t){return new N1(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return mn.valid(n)?new mn(n):_t.near(n)}}function BK(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function $K(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function HK(){return new bn({props:{decorations:UK,createSelectionBetween(e,t,n){return t.pos==n.pos&&mn.valid(n)?new mn(n):null},handleClick:VK,handleKeyDown:jK,handleDOMEvents:{beforeinput:WK}}})}const jK=yM({ArrowLeft:Th("horiz",-1),ArrowRight:Th("horiz",1),ArrowUp:Th("vert",-1),ArrowDown:Th("vert",1)});function Th(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let s=r.selection,l=t>0?s.$to:s.$from,c=s.empty;if(s instanceof vt){if(!o.endOfTextblock(n)||l.depth==0)return!1;c=!1,l=r.doc.resolve(t>0?l.after():l.before())}let h=mn.findGapCursorFrom(l,t,c);return h?(i&&i(r.tr.setSelection(new mn(h))),!0):!1}}function VK(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!mn.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ft.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new mn(r))),!0)}function WK(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof mn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Ie.empty;for(let s=r.length-1;s>=0;s--)i=Ie.from(r[s].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new Ze(i,0,0));return o.setSelection(vt.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function UK(e){if(!(e.selection instanceof mn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Rn.create(e.doc,[Zr.widget(e.selection.head,t,{key:"gapcursor"})])}const KK=hr.create({name:"gapCursor",addProseMirrorPlugins(){return[HK()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=xt(et(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}});var zp=200,er=function(){};er.prototype.append=function(t){return t.length?(t=er.from(t),!this.length&&t||t.length<zp&&this.leafAppend(t)||this.length<zp&&t.leafPrepend(this)||this.appendInner(t)):this};er.prototype.prepend=function(t){return t.length?er.from(t).append(this):this};er.prototype.appendInner=function(t){return new qK(this,t)};er.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?er.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};er.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};er.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};er.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(t(o,s))},n,r),i};er.from=function(t){return t instanceof er?t:t&&t.length?new fO(t):er.empty};var fO=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,s,l){for(var c=o;c<s;c++)if(i(this.values[c],l+c)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,s,l){for(var c=o-1;c>=s;c--)if(i(this.values[c],l+c)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=zp)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=zp)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(er);er.empty=new fO([]);var qK=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(er),dO=er;const GK=500;class Ii{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=t.tr,l,c,h=[],p=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(r,v+1),o=i.maps.length),o--,p.push(m);return}if(i){p.push(new Zi(m.map));let b=m.step.map(i.slice(o)),_;b&&s.maybeStep(b).doc&&(_=s.mapping.maps[s.mapping.maps.length-1],h.push(new Zi(_,void 0,void 0,h.length+p.length))),o--,_&&i.appendMap(_,o)}else s.maybeStep(m.step);if(m.selection)return l=i?m.selection.map(i.slice(o)):m.selection,c=new Ii(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:s,selection:l}}addTransform(t,n,r,i){let o=[],s=this.eventCount,l=this.items,c=!i&&l.length?l.get(l.length-1):null;for(let p=0;p<t.steps.length;p++){let m=t.steps[p].invert(t.docs[p]),v=new Zi(t.mapping.maps[p],m,n),b;(b=c&&c.merge(v))&&(v=b,p?o.pop():l=l.slice(0,l.length-1)),o.push(v),n&&(s++,n=void 0),i||(c=v)}let h=s-r.depth;return h>JK&&(l=YK(l,h),s-=h),new Ii(l.append(o),s)}remapping(t,n){let r=new wu;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new Ii(this.items.append(t.map(n=>new Zi(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,s=t.steps.length,l=this.eventCount;this.items.forEach(v=>{v.selection&&l--},i);let c=n;this.items.forEach(v=>{let b=o.getMirror(--c);if(b==null)return;s=Math.min(s,b);let _=o.maps[b];if(v.step){let x=t.steps[b].invert(t.docs[b]),D=v.selection&&v.selection.map(o.slice(c+1,b));D&&l++,r.push(new Zi(_,x,D))}else r.push(new Zi(_))},i);let h=[];for(let v=n;v<s;v++)h.push(new Zi(o.maps[v]));let p=this.items.slice(0,i).append(h).append(r),m=new Ii(p,l);return m.emptyItemCount()>GK&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=t)i.push(s),s.selection&&o++;else if(s.step){let c=s.step.map(n.slice(r)),h=c&&c.getMap();if(r--,h&&n.appendMap(h,r),c){let p=s.selection&&s.selection.map(n.slice(r));p&&o++;let m=new Zi(h.invert(),c,p),v,b=i.length-1;(v=i.length&&i[b].merge(m))?i[b]=v:i.push(m)}}else s.map&&r--},this.items.length,0),new Ii(dO.from(i.reverse()),o)}}Ii.empty=new Ii(dO.empty,0);function YK(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Zi{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Zi(n.getMap().invert(),n,this.selection)}}}class Ms{constructor(t,n,r,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i}}const JK=20;function XK(e,t,n,r){let i=n.getMeta(Bs),o;if(i)return i.historyState;n.getMeta(QK)&&(e=new Ms(e.done,e.undone,null,0));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(Bs))return s.getMeta(Bs).redo?new Ms(e.done.addTransform(n,void 0,r,$h(t)),e.undone,JS(n.mapping.maps[n.steps.length-1]),e.prevTime):new Ms(e.done,e.undone.addTransform(n,void 0,r,$h(t)),null,e.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=e.prevTime==0||!s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!ZK(n,e.prevRanges)),c=s?r0(e.prevRanges,n.mapping):JS(n.mapping.maps[n.steps.length-1]);return new Ms(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,$h(t)),Ii.empty,c,n.time)}else return(o=n.getMeta("rebased"))?new Ms(e.done.rebased(n,o),e.undone.rebased(n,o),r0(e.prevRanges,n.mapping),e.prevTime):new Ms(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),r0(e.prevRanges,n.mapping),e.prevTime)}function ZK(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function JS(e){let t=[];return e.forEach((n,r,i,o)=>t.push(i,o)),t}function r0(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function hO(e,t,n,r){let i=$h(t),o=Bs.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,i);if(!s)return;let l=s.selection.resolve(s.transform.doc),c=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,i),h=new Ms(r?c:s.remaining,r?s.remaining:c,null,0);n(s.transform.setSelection(l).setMeta(Bs,{redo:r,historyState:h}).scrollIntoView())}let i0=!1,XS=null;function $h(e){let t=e.plugins;if(XS!=t){i0=!1,XS=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){i0=!0;break}}return i0}const Bs=new tr("history"),QK=new tr("closeHistory");function eq(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new bn({key:Bs,state:{init(){return new Ms(Ii.empty,Ii.empty,null,0)},apply(t,n,r){return XK(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?pO:r=="historyRedo"?gO:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}const pO=(e,t)=>{let n=Bs.getState(e);return!n||n.done.eventCount==0?!1:(t&&hO(n,e,t,!1),!0)},gO=(e,t)=>{let n=Bs.getState(e);return!n||n.undone.eventCount==0?!1:(t&&hO(n,e,t,!0),!0)},tq=hr.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>pO(e,t),redo:()=>({state:e,dispatch:t})=>gO(e,t)}},addProseMirrorPlugins(){return[eq(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),nq=hr.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>e.style.textAlign||this.options.defaultAlignment,renderHTML:e=>e.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${e.textAlign}`}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.every(n=>t.updateAttributes(n,{textAlign:e})):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.every(t=>e.resetAttributes(t,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});function ZS(e,t){let n,r;const i=e.toLowerCase();for(t=[].concat(t),n=0;n<t.length;n+=1)if(r=t[n],!!r&&(r.test&&r.test(e)||r.toLowerCase()===i))return!0}const rq=(e,t,n)=>{if(typeof e=="number"&&(e=`${e}`),typeof e!="string")return!!e;if(e=e.trim(),ZS(e,t||["true","1"]))return!0;if(ZS(e,n||["false","0"]))return!1};var hn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const iq={name:"LightswitchField",props:{small:{type:Boolean,default:!1},extraSmall:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{id:`lightswitch-${Craft.randomString(10)}`,dragger:null,dragging:!1,innerStyle:{},proxyValue:!1,indeterminate:!1}},computed:{offMargin(){return this.small?-10:-12}},watch:{proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.proxyValue=this.modelValue},mounted(){const{container:e}=this.$refs;this.$nextTick(()=>{const t=$(e).data("lightswitch");t&&t.destroy(),this.dragger=new Garnish.BaseDrag(e,{axis:Garnish.X_AXIS,ignoreHandleSelector:null,onDragStart:this.onDragStart.bind(this),onDrag:this.onDrag.bind(this),onDragStop:this.onDragStop.bind(this)})})},beforeUnmount(){this.dragger&&this.dragger.destroy()},methods:{turnOn(){this.proxyValue=!0,this.indeterminate=!1,this.dragging=!0;const{innerContainer:e}=this.$refs,t={[`margin-${Craft.left}`]:0};$(e).velocity("stop").velocity(t,Craft.LightSwitch.animationDuration,this.onSettle.bind(this))},turnOff(){this.proxyValue=!1,this.indeterminate=!1,this.dragging=!0;const{innerContainer:e}=this.$refs,t={[`margin-${Craft.left}`]:this.offMargin};$(e).velocity("stop").velocity(t,Craft.LightSwitch.animationDuration,this.onSettle.bind(this))},toggle(){this.indeterminate||!this.proxyValue?this.turnOn():this.turnOff()},onMouseUp(){this.dragger.dragging||this.toggle()},onKeyDown(e){switch(e.keyCode){case Garnish.SPACE_KEY:{this.toggle(),e.preventDefault();break}case Garnish.RIGHT_KEY:{Craft.orientation==="ltr"?this.turnOn():this.turnOff(),e.preventDefault();break}case Garnish.LEFT_KEY:{Craft.orientation==="ltr"?this.turnOff():this.turnOn(),e.preventDefault();break}}},onDragStart(){this.dragging=!0,this.dragStartMargin=this.getMargin()},onDrag(){let e;Craft.orientation==="ltr"?e=this.dragStartMargin+this.dragger.mouseDistX:e=this.dragStartMargin-this.dragger.mouseDistX,e<this.offMargin?e=this.offMargin:e>0&&(e=0);const{innerContainer:t}=this.$refs;$(t).css(`margin-${Craft.left}`,e)},onDragStop(){this.getMargin()>this.offMargin/2?this.turnOn():this.turnOff()},onSettle(){this.dragging=!1},getMargin(){const{innerContainer:e}=this.$refs,t=e.currentStyle||window.getComputedStyle(e);return parseInt(t.marginLeft)},toBoolean(e){return rq(e)}}},oq=["id","aria-labelledby","aria-checked"],sq={ref:"innerContainer",class:"lightswitch-container"},aq=le("div",{class:"handle"},null,-1),lq=[aq];function uq(e,t,n,r,i,o){return _e(),Le("div",{id:i.id,ref:"container",tabindex:"0",role:"checkbox",class:It(["lightswitch",[{on:o.toBoolean(i.proxyValue),indeterminate:i.indeterminate,dragging:i.dragging,small:n.small,"extra-small":n.extraSmall}]]),"aria-labelledby":`${i.id}-label`,"aria-checked":i.proxyValue?"true":i.indeterminate?"mixed":"false",onMouseup:t[1]||(t[1]=(...s)=>o.onMouseUp&&o.onMouseUp(...s)),onKeydown:t[2]||(t[2]=(...s)=>o.onKeyDown&&o.onKeyDown(...s))},[le("div",sq,lq,512),On(le("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.proxyValue=s),type:"hidden"},null,512),[[Pr,i.proxyValue]])],42,oq)}var mO=hn(iq,[["render",uq]]);const cq={name:"VizyBlockFields",delimiters:["$!{","}!$"],props:{template:{type:String,default:""}},emits:["update"],mounted(){this.$nextTick(()=>{Craft.initUiElements(this.$el),this.$nextTick(()=>{this.watchFieldChanges(),this.applyRedactorFix()})})},methods:{watchFieldChanges(){const e=eD(this.emitUpdate,50);new MutationObserver(n=>{e()}).observe(this.$el,{childList:!0,attributes:!0,subtree:!0,characterData:!0}),$(this.$el).on("input change","input, textarea, select",n=>{this.emitUpdate()})},applyRedactorFix(){const e=this.$el.querySelectorAll(".redactor-toolbar");e.length&&e.forEach(t=>{t.addEventListener("mousedown",n=>{n.preventDefault()})})},emitUpdate(){setTimeout(()=>{this.$emit("update")},50)},onInputInit(e){e.$on("content-update",t=>{this.emitUpdate()})}},render(){return Vn("div",{innerHTML:this.template})}},fq={name:"SlideUpDown",props:{active:{type:Boolean,default:!0},duration:{type:Number,default:500},tag:{type:String,default:"div"},useHidden:{type:Boolean,default:!0}},emits:["open-start","open-end","close-start","close-end"],data:()=>({style:{},initial:!1,hidden:!1}),computed:{el(){return this.$refs.container},attrs(){const e={"aria-hidden":!this.active,"aria-expanded":this.active};return this.useHidden&&(e.hidden=this.hidden),e}},watch:{active(){this.layout()}},mounted(){this.layout(),this.initial=!0},created(){this.hidden=!this.active},methods:{layout(){this.active?(this.hidden=!1,this.$emit("open-start"),this.initial&&this.setHeight("0px",()=>`${this.el.scrollHeight}px`)):(this.$emit("close-start"),this.setHeight(`${this.el.scrollHeight}px`,()=>"0px"))},asap(e){this.initial?this.$nextTick(e):e()},setHeight(e,t){this.style={height:e},this.asap(()=>{this.__=this.el.scrollHeight,this.style={height:t(),overflow:"hidden","transition-property":"height","transition-timing-function":"ease-out","transition-duration":`${this.duration}ms`}})},onTransitionEnd(e){e.target===this.el&&(this.active?(this.style={},this.$emit("open-end")):(this.style={height:"0",overflow:"hidden"},this.hidden=!0,this.$emit("close-end")))}},render(){return Vn(this.tag,{style:this.style,attrs:this.attrs,ref:"container",on:{transitionend:this.onTransitionEnd}},this.$slots.default())}};(function(e){var t=["input","textarea","select","option"],n=["value","selected","checked","disabled"];e.fn.htmlizeClone=function(r){return this.each(function(){var i=this;i.nodeName==="TEXTAREA"?i.innerHTML=i.value:i.nodeName==="OPTION"?i.selected?i.setAttribute("selected","selected"):i.removeAttribute("selected"):i.children&&i.children.length&&e(i).find("textarea, option").htmlizeClone(!0)}),r?this:this.clone()},e.fn.htmlizeSyncAttributes=function(){return this.each(function(){var r=this,i;for(var o in n)n.hasOwnProperty(o)&&(i=n[o],i in r&&(r.getAttribute(i)!==null||r[i])&&!((r.nodeName==="TEXTAREA"||r.nodeName==="SELECT")&&i==="value")&&(i==="value"?r.setAttribute(i,r[i]):r[i]?r.setAttribute(i,i):r.removeAttribute(i)));r.children&&r.children.length&&e(r).find(t.join(", ")).htmlizeSyncAttributes()})},e.fn.htmlize=function(r){r=e.extend({innerHTML:!1,clone:!0},r);var i=e(this).htmlizeClone().htmlizeSyncAttributes();if(r.innerHTML){var o="";return i.each(function(){o+=this.innerHTML}),o}else return i.length?i.appendTo("<div/>").parent().get(0).innerHTML:""}})(jQuery);const dq={name:"VizyBlock",components:{NodeViewWrapper:GU,LightswitchField:mO,VizyBlockFields:cq,SlideUpDown:fq},props:{editor:{type:Object,default:()=>{}},node:{type:Object,default:()=>{}},decorations:{type:Array,default:()=>[]},selected:{type:Boolean,default:!1},extension:{type:Object,default:()=>{}},getPos:{type:Function,default:()=>{}},updateAttributes:{type:Function,default:()=>{}}},data(){return{activeTab:null,tippy:null,fieldsHtml:"",mounted:!1,updateFieldsHtml:0}},computed:{options(){return this.extension.options},vizyField(){return this.editor.vizyField},values(){return this.node.attrs.values},blockGroups(){return this.vizyField.settings.blockGroups},blockType(){let e={};return Na(this.blockGroups)||this.blockGroups.forEach(t=>{const n=nD(t.blockTypes,{id:this.values.type});n&&(e=n)}),e},tabs(){return this.blockType.tabs||{}},enabled:{get(){return this.node.attrs.enabled&&this.blockType.enabled},set(e){this.node.attrs.enabled=e}},collapsed:{get(){return this.node.attrs.collapsed},set(e){return this.updateAttributes({collapsed:e})}},preview(){let e="";if(this.mounted){const t=$(this.$refs.fields.$el).children().children();for(let n=0;n<t.length;n++){const i=$(t[n]).children(".input").find('select,input[type!="hidden"],textarea,.label');let o="";for(let s=0;s<i.length;s++){const l=$(i[s]);let c;if(!l.hasClass("vui-json-content")){if(l.hasClass("label")){const h=l.parent().parent();if(h.hasClass("lightswitch")&&(h.hasClass("on")&&l.hasClass("off")||!h.hasClass("on")&&l.hasClass("on")))continue;c=l.text()}else c=Craft.getText(Garnish.getInputPostVal(l));c instanceof Array&&(c=c.join(", ")),c&&(c=Craft.trim(c),c&&(o&&(o+=", "),o+=c))}}o&&(e+=(e?" <span>|</span> ":"")+o)}}return e}},watch:{"node.attrs.enabled":function(e,t){this.collapsed=!e},"node.attrs.id":function(e,t){this.fieldsHtml=this.vizyField.getCachedFieldHtml(e),this.updateFieldsHtml+=1,this.$nextTick(()=>{this.appendJs(),this.setFirstActiveTab()})}},created(){this.$nextTick(()=>{this.$events.on("vizy-blocks:updateDOM",this.onUpdateDOM)}),this.fieldsHtml=this.vizyField.getCachedFieldHtml(this.node.attrs.id)},mounted(){this.$nextTick(()=>{this.appendJs(),this.setFirstActiveTab(),this.mounted=!0;const e=this.$el.querySelector("#vizy-block-settings-template");e&&(e.style.display="block",this.tippy=si(this.$el.querySelector(".vizyblock-header .settings"),{content:e,trigger:"click",allowHTML:!0,arrow:!0,interactive:!0,appendTo:document.body,placement:"bottom",theme:"light-border vizy-tippy-menu",maxWidth:"300px",zIndex:1e3,hideOnClick:!0})),this.$el.setAttribute("draggable",!1)})},beforeUnmount(){this.onUpdateDOM(),this.$events.off("vizy-blocks:updateDOM",this.onUpdateDOM)},methods:{isEmpty(e){return Na(e)},onUpdateDOM(){if(this.$refs.fields){const e=$(this.$refs.fields.$el.childNodes).clone();if(e.find(".redactor-box").length){const n=e.find(".redactor-box textarea").htmlize();e.find(".redactor-box").replaceWith(n)}const t=e.htmlize();this.vizyField.setCachedFieldHtml(this.node.attrs.id,t)}},clickTab(e){this.activeTab=e,this.$refs.fields.$el.querySelectorAll(":scope > div").forEach(n=>{n.getAttribute("id").includes(this.activeTab)?n.classList.remove("hidden"):n.classList.add("hidden")})},setFirstActiveTab(){this.tabs&&([this.activeTab]=Object.keys(this.tabs))},appendJs(){const e=this.vizyField.getCachedFieldJs(this.node.attrs.id),t=document.querySelector(`#script-${this.node.attrs.id}`);e&&(t&&t.parentElement.removeChild(t),Craft.appendBodyHtml(e))},deleteBlock(){this.tippy.hide(),setTimeout(()=>{const e=this.getPos(),t={from:e,to:e+(this.node.nodeSize-1)};this.editor.chain().focus().deleteRange(t).run()},200)},collapseBlock(){this.collapsed=!0,this.tippy.hide()},expandBlock(){this.collapsed=!1,this.tippy.hide()},clickMove(){this.$events.emit("vizy-blocks:updateDOM")},onFieldUpdate(){this.serializeFieldContent()},findContentBlocksForBlock(e){let t={};return Na(e)||(this.$el.closest(".slideout.element-editor .ee-body")&&(e=Object.values(e)[0]),Na(e.fields)||Object.entries(e.fields).forEach(([r,i])=>{Na(i.blocks)||Object.entries(i.blocks).forEach(([o,s])=>{o===this.node.attrs.id?t=s:Na(t)&&(t=this.findContentBlocksForBlock(s))})})),t},serializeFieldContent(){const e=Garnish.getPostData(this.$refs.fields.$el),t=Craft.expandPostArray(e),n=this.findContentBlocksForBlock(t),r=Ne({},this.values);r.content=n,this.updateAttributes({values:r})}}},hq={class:"vizyblock-header"},pq={class:"titlebar"},gq={class:"blocktype"},mq={key:0},vq=["innerHTML"],yq={class:"actions-tabs"},bq={key:0,class:"titlebar-tabs"},_q=["onClick"],wq={class:"actions"},xq=le("a",{class:"settings icon",title:"Actions","aria-label":"Actions",role:"button",tabindex:"0","aria-haspopup":"listbox","aria-expanded":"false"},null,-1),kq={id:"vizy-block-settings-template",class:"vizy-menu",style:{display:"none"}},Cq={class:"padded",role:"listbox","aria-hidden":"true"},Sq={key:0},Tq={key:1},Eq=le("hr",null,null,-1);function Aq(e,t,n,r,i,o){const s=At("lightswitch-field"),l=At("vizy-block-fields"),c=At("slide-up-down"),h=At("node-view-wrapper");return o.isEmpty(o.blockType)?Nt("",!0):(_e(),Ht(h,{key:0,class:It(["vizyblock",{"has-focus":n.selected}]),contenteditable:"false",onCopy:t[5]||(t[5]=Dt(()=>{},["stop"])),onPaste:t[6]||(t[6]=Dt(()=>{},["stop"])),onCut:t[7]||(t[7]=Dt(()=>{},["stop"]))},{default:on(()=>[le("div",hq,[le("div",pq,[le("div",gq,[e.$isDebug?(_e(),Le("span",mq,Xe(e.uid)+" "+Xe(n.node.attrs.id),1)):Nt("",!0),Qo(Xe(o.blockType.name),1)]),o.collapsed?(_e(),Le("div",{key:0,class:"preview",innerHTML:o.preview},null,8,vq)):Nt("",!0)]),le("div",yq,[Object.keys(o.tabs).length>1?(_e(),Le("div",bq,[(_e(!0),Le(St,null,Tn(o.tabs,(p,m)=>(_e(),Le("a",{key:m,class:It(["tab",{active:m===i.activeTab}]),onClick:Dt(v=>o.clickTab(m),["prevent"])},Xe(p.label),11,_q))),128))])):Nt("",!0),le("div",wq,[st(s,{modelValue:o.enabled,"onUpdate:modelValue":t[0]||(t[0]=p=>o.enabled=p),"extra-small":!0},null,8,["modelValue"]),xq,le("a",{class:"move icon",title:"Reorder","aria-label":"Reorder","data-drag-handle":"",role:"button",onMousedown:t[1]||(t[1]=(...p)=>o.clickMove&&o.clickMove(...p))},null,32)]),le("div",kq,[le("ul",Cq,[o.collapsed?(_e(),Le("li",Sq,[le("a",{"data-icon":"expand",role:"option",tabindex:"-1",onClick:t[2]||(t[2]=Dt((...p)=>o.expandBlock&&o.expandBlock(...p),["prevent"]))},"Expand")])):(_e(),Le("li",Tq,[le("a",{"data-icon":"collapse",role:"option",tabindex:"-1",onClick:t[3]||(t[3]=Dt((...p)=>o.collapseBlock&&o.collapseBlock(...p),["prevent"]))},"Collapse")])),Eq,le("li",null,[le("a",{class:"error","data-icon":"remove",role:"option",tabindex:"-1",onClick:t[4]||(t[4]=Dt((...p)=>o.deleteBlock&&o.deleteBlock(...p),["prevent"]))},"Delete")])])])])]),st(c,{active:!o.collapsed,duration:300},{default:on(()=>[i.fieldsHtml?(_e(),Ht(l,{ref:"fields",key:i.updateFieldsHtml,class:"vizyblock-fields",template:i.fieldsHtml,onUpdate:o.onFieldUpdate},null,8,["template","onUpdate"])):Nt("",!0)]),_:1},8,["active"])]),_:1},8,["class"]))}var Dq=hn(dq,[["render",Aq]]),Mq=pr.create({name:"vizyBlock",isBlock:!0,inline:!1,group:"block",draggable:!0,defining:!0,selectable:!0,addAttributes(){return{id:{default:null},enabled:{default:!0},collapsed:{default:!1},values:{default:null}}},parseHTML(){return[{tag:"vizy-block",getAttrs:e=>JSON.parse(e.innerHTML)}]},renderHTML({HTMLAttributes:e}){return["vizy-block",JSON.stringify(e)]},addCommands(){return{setVizyBlock:e=>({tr:t,dispatch:n,view:r,state:i})=>{const{selection:o}=t,s=this.type.create(e);return n&&(t.insert(o.from,i.schema.nodes.paragraph.create()),t.replaceRangeWith(o.from,o.to,s)),!0}}},addNodeView(){return XU(Dq)},addProseMirrorPlugins(){return[new bn({props:{handleKeyDown:(e,t)=>{if(e.state.typing=!0,t.key==="Escape"){const n=e.state.selection.$from.pos;e.state.selection.$to.pos;const r=n-1<0?0:n-1;return this.editor.chain().setTextSelection({from:r,to:r}).blur().run(),!0}},handlePaste:(e,t,n)=>{e.state.pasting=!0},handleClickOn:(e,t,n,r,i,o)=>{const s=i.target.closest(".vizyblock");if(!s)return!1;if(s.closest(".ProseMirror")!==e.dom)return!0;const c=i.target.closest(".vizyblock-header"),h=i.target.closest(".vizyblock-header .actions-tabs");if(!c||h)return!0}},filterTransaction:(e,t)=>{let n=!0;return(t.typing||t.pasting)&&e.mapping.maps.forEach(r=>{r.forEach((i,o,s,l)=>{t.doc.nodesBetween(i,o,(c,h,p,m,v)=>{c.type.name==="vizyBlock"&&(n=!1)})})}),n}})]}});function L1(e){this.j={},this.jr=[],this.jd=null,this.t=e}L1.prototype={accepts:function(){return!!this.t},tt:function(t,n){if(n&&n.j)return this.j[t]=n,n;var r=n,i=this.j[t];if(i)return r&&(i.t=r),i;i=Xt();var o=Bp(this,t);return o?(Object.assign(i.j,o.j),i.jr.append(o.jr),i.jr=o.jd,i.t=r||o.t):i.t=r,this.j[t]=i,i}};var Xt=function(){return new L1},lt=function(t){return new L1(t)},Be=function(t,n,r){t.j[n]||(t.j[n]=r)},jn=function(t,n,r){t.jr.push([n,r])},Bp=function(t,n){var r=t.j[n];if(r)return r;for(var i=0;i<t.jr.length;i++){var o=t.jr[i][0],s=t.jr[i][1];if(o.test(n))return s}return t.jd},Et=function(t,n,r){for(var i=0;i<n.length;i++)Be(t,n[i],r)},Oq=function(t,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];Be(t,i,o)}},Aa=function(t,n,r,i){for(var o=0,s=n.length,l;o<s&&(l=t.j[n[o]]);)t=l,o++;if(o>=s)return[];for(;o<s-1;)l=i(),Be(t,n[o],l),t=l,o++;Be(t,n[s-1],r)},Oi="DOMAIN",Mo="LOCALHOST",Qi="TLD",ci="NUM",Ku="PROTOCOL",P1="MAILTO",vO="WS",I1="NL",au="OPENBRACE",xf="OPENBRACKET",kf="OPENANGLEBRACKET",Cf="OPENPAREN",Fa="CLOSEBRACE",lu="CLOSEBRACKET",uu="CLOSEANGLEBRACKET",cu="CLOSEPAREN",$p="AMPERSAND",Hp="APOSTROPHE",jp="ASTERISK",fu="AT",Vp="BACKSLASH",Wp="BACKTICK",Up="CARET",Sf="COLON",F1="COMMA",Kp="DOLLAR",Os="DOT",qp="EQUALS",R1="EXCLAMATION",Gp="HYPHEN",Yp="PERCENT",Jp="PIPE",Xp="PLUS",Zp="POUND",Qp="QUERY",z1="QUOTE",B1="SEMI",Oo="SLASH",eg="TILDE",tg="UNDERSCORE",ng="SYM",Nq=Object.freeze({__proto__:null,DOMAIN:Oi,LOCALHOST:Mo,TLD:Qi,NUM:ci,PROTOCOL:Ku,MAILTO:P1,WS:vO,NL:I1,OPENBRACE:au,OPENBRACKET:xf,OPENANGLEBRACKET:kf,OPENPAREN:Cf,CLOSEBRACE:Fa,CLOSEBRACKET:lu,CLOSEANGLEBRACKET:uu,CLOSEPAREN:cu,AMPERSAND:$p,APOSTROPHE:Hp,ASTERISK:jp,AT:fu,BACKSLASH:Vp,BACKTICK:Wp,CARET:Up,COLON:Sf,COMMA:F1,DOLLAR:Kp,DOT:Os,EQUALS:qp,EXCLAMATION:R1,HYPHEN:Gp,PERCENT:Yp,PIPE:Jp,PLUS:Xp,POUND:Zp,QUERY:Qp,QUOTE:z1,SEMI:B1,SLASH:Oo,TILDE:eg,UNDERSCORE:tg,SYM:ng}),QS="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),zc=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,Bc=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,$c=/\uFE0F/,Hc=/\d/,e2=/\s/;function Lq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=Xt(),n=lt(ci),r=lt(Oi),i=Xt(),o=lt(vO),s=[[Hc,r],[zc,r],[Bc,r],[$c,r]],l=function(){var M=lt(Oi);return M.j={"-":i},M.jr=[].concat(s),M},c=function(M){var Y=l();return Y.t=M,Y};Oq(t,[["'",lt(Hp)],["{",lt(au)],["[",lt(xf)],["<",lt(kf)],["(",lt(Cf)],["}",lt(Fa)],["]",lt(lu)],[">",lt(uu)],[")",lt(cu)],["&",lt($p)],["*",lt(jp)],["@",lt(fu)],["`",lt(Wp)],["^",lt(Up)],[":",lt(Sf)],[",",lt(F1)],["$",lt(Kp)],[".",lt(Os)],["=",lt(qp)],["!",lt(R1)],["-",lt(Gp)],["%",lt(Yp)],["|",lt(Jp)],["+",lt(Xp)],["#",lt(Zp)],["?",lt(Qp)],['"',lt(z1)],["/",lt(Oo)],[";",lt(B1)],["~",lt(eg)],["_",lt(tg)],["\\",lt(Vp)]]),Be(t,`
`,lt(I1)),jn(t,e2,o),Be(o,`
`,Xt()),jn(o,e2,o);for(var h=0;h<QS.length;h++)Aa(t,QS[h],c(Qi),l);var p=l(),m=l(),v=l(),b=l();Aa(t,"file",p,l),Aa(t,"ftp",m,l),Aa(t,"http",v,l),Aa(t,"mailto",b,l);var _=l(),x=lt(Ku),D=lt(P1);Be(m,"s",_),Be(m,":",x),Be(v,"s",_),Be(v,":",x),Be(p,":",x),Be(_,":",x),Be(b,":",D);for(var E=l(),T=0;T<e.length;T++)Aa(t,e[T],E,l);return Be(E,":",x),Aa(t,"localhost",c(Mo),l),jn(t,Hc,n),jn(t,zc,r),jn(t,Bc,r),jn(t,$c,r),jn(n,Hc,n),jn(n,zc,r),jn(n,Bc,r),jn(n,$c,r),Be(n,"-",i),Be(r,"-",i),Be(i,"-",i),jn(r,Hc,r),jn(r,zc,r),jn(r,Bc,r),jn(r,$c,r),jn(i,Hc,r),jn(i,zc,r),jn(i,Bc,r),jn(i,$c,r),t.jd=lt(ng),t}function Pq(e,t){for(var n=Iq(t.replace(/[A-Z]/g,function(b){return b.toLowerCase()})),r=n.length,i=[],o=0,s=0;s<r;){for(var l=e,c=null,h=0,p=null,m=-1,v=-1;s<r&&(c=Bp(l,n[s]));)l=c,l.accepts()?(m=0,v=0,p=l):m>=0&&(m+=n[s].length,v++),h+=n[s].length,o+=n[s].length,s++;o-=m,s-=v,h-=m,i.push({t:p.t,v:t.substr(o-h,h),s:o-h,e:o})}return i}function Iq(e){for(var t=[],n=e.length,r=0;r<n;){var i=e.charCodeAt(r),o=void 0,s=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}var yO={defaultProtocol:"http",events:null,format:t2,formatHref:t2,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function t2(e){return e}function Fq(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Object.create(e.prototype);for(var i in n)r[i]=n[i];return r.constructor=t,t.prototype=r,t}function rg(){}rg.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yO.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}}};function xl(e,t){function n(r,i){this.t=e,this.v=r,this.tk=i}return Fq(rg,n,t),n}var bO=xl("email",{isLink:!0}),Sy=xl("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Ty=xl("text"),_O=xl("nl"),Es=xl("url",{isLink:!0,toHref:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yO.defaultProtocol,n=this.tk,r=!1,i=!1,o=[],s=0;n[s].t===Ku;)r=!0,o.push(n[s].v),s++;for(;n[s].t===Oo;)i=!0,o.push(n[s].v),s++;for(;s<n.length;s++)o.push(n[s].v);return o=o.join(""),r||i||(o="".concat(t,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===Ku}}),Rq=Object.freeze({__proto__:null,MultiToken:rg,Base:rg,createTokenClass:xl,MailtoEmail:bO,Email:Sy,Text:Ty,Nl:_O,Url:Es});function zq(){var e=Xt(),t=Xt(),n=Xt(),r=Xt(),i=Xt(),o=Xt(),s=Xt(),l=lt(Es),c=Xt(),h=lt(Es),p=lt(Es),m=Xt(),v=Xt(),b=Xt(),_=Xt(),x=Xt(),D=lt(Es),E=lt(Es),T=lt(Es),R=lt(Es),M=Xt(),Y=Xt(),J=Xt(),Z=Xt(),z=Xt(),B=Xt(),L=lt(Sy),V=Xt(),ie=lt(Sy),W=lt(bO),Q=Xt(),I=Xt(),de=Xt(),pe=Xt(),Se=lt(_O);Be(e,I1,Se),Be(e,Ku,t),Be(e,P1,n),Be(t,Oo,r),Be(r,Oo,i),Be(e,Qi,o),Be(e,Oi,o),Be(e,Mo,l),Be(e,ci,o),Be(i,Qi,p),Be(i,Oi,p),Be(i,ci,p),Be(i,Mo,p),Be(o,Os,s),Be(z,Os,B),Be(s,Qi,l),Be(s,Oi,o),Be(s,ci,o),Be(s,Mo,o),Be(B,Qi,L),Be(B,Oi,z),Be(B,ci,z),Be(B,Mo,z),Be(l,Os,s),Be(L,Os,B),Be(l,Sf,c),Be(l,Oo,p),Be(c,ci,h),Be(h,Oo,p),Be(L,Sf,V),Be(V,ci,ie);var Ve=[$p,jp,fu,Vp,Wp,Up,Kp,Oi,qp,Gp,Mo,ci,Yp,Jp,Xp,Zp,Ku,Oo,ng,eg,Qi,tg],tt=[Hp,uu,Fa,lu,cu,Sf,F1,Os,R1,kf,au,xf,Cf,Qp,z1,B1];Be(p,au,v),Be(p,xf,b),Be(p,kf,_),Be(p,Cf,x),Be(m,au,v),Be(m,xf,b),Be(m,kf,_),Be(m,Cf,x),Be(v,Fa,p),Be(b,lu,p),Be(_,uu,p),Be(x,cu,p),Be(D,Fa,p),Be(E,lu,p),Be(T,uu,p),Be(R,cu,p),Be(M,Fa,p),Be(Y,lu,p),Be(J,uu,p),Be(Z,cu,p),Et(v,Ve,D),Et(b,Ve,E),Et(_,Ve,T),Et(x,Ve,R),Et(v,tt,M),Et(b,tt,Y),Et(_,tt,J),Et(x,tt,Z),Et(D,Ve,D),Et(E,Ve,E),Et(T,Ve,T),Et(R,Ve,R),Et(D,tt,D),Et(E,tt,E),Et(T,tt,T),Et(R,tt,R),Et(M,Ve,D),Et(Y,Ve,E),Et(J,Ve,T),Et(Z,Ve,R),Et(M,tt,M),Et(Y,tt,Y),Et(J,tt,J),Et(Z,tt,Z),Et(p,Ve,p),Et(m,Ve,p),Et(p,tt,m),Et(m,tt,m),Be(n,Qi,W),Be(n,Oi,W),Be(n,ci,W),Be(n,Mo,W),Et(W,Ve,W),Et(W,tt,Q),Et(Q,Ve,W),Et(Q,tt,Q);var yt=[$p,Hp,jp,Vp,Wp,Up,Fa,Kp,Oi,qp,Gp,ci,au,Yp,Jp,Xp,Zp,Qp,Oo,ng,eg,Qi,tg];return Et(o,yt,I),Be(o,fu,de),Et(l,yt,I),Be(l,fu,de),Et(s,yt,I),Et(I,yt,I),Be(I,fu,de),Be(I,Os,pe),Et(pe,yt,I),Be(de,Qi,z),Be(de,Oi,z),Be(de,ci,z),Be(de,Mo,L),e}function Bq(e,t,n){for(var r=n.length,i=0,o=[],s=[];i<r;){for(var l=e,c=null,h=null,p=0,m=null,v=-1;i<r&&!(c=Bp(l,n[i].t));)s.push(n[i++]);for(;i<r&&(h=c||Bp(l,n[i].t));)c=null,l=h,l.accepts()?(v=0,m=l):v>=0&&v++,i++,p++;if(v<0)for(var b=i-p;b<i;b++)s.push(n[b]);else{s.length>0&&(o.push(o0(Ty,t,s)),s=[]),i-=v,p-=v;var _=m.t,x=n.slice(i-p,i);o.push(o0(_,t,x))}}return s.length>0&&o.push(o0(Ty,t,s)),o}function o0(e,t,n){var r=n[0].s,i=n[n.length-1].e,o=t.substr(r,i-r);return new e(o,n)}var $q=typeof console!="undefined"&&console&&console.warn||function(){},Kr={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function Hq(e){if(Kr.initialized&&$q('linkifyjs: already initialized - will not register custom protocol "'.concat(e,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(e))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");Kr.customProtocols.push(e)}function jq(){Kr.scanner={start:Lq(Kr.customProtocols),tokens:Nq},Kr.parser={start:zq(),tokens:Rq};for(var e={createTokenClass:xl},t=0;t<Kr.pluginQueue.length;t++)Kr.pluginQueue[t][1]({scanner:Kr.scanner,parser:Kr.parser,utils:e});Kr.initialized=!0}function wO(e){return Kr.initialized||jq(),Bq(Kr.parser.start,e,Pq(Kr.scanner.start,e))}function $1(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=wO(e),r=[],i=0;i<n.length;i++){var o=n[i];o.isLink&&(!t||o.t===t)&&r.push(o.toObject())}return r}function n2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=wO(e);return n.length===1&&n[0].isLink&&(!t||n[0].t===t)}function Vq(e){return new bn({key:new tr("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(p=>p.docChanged)&&!n.doc.eq(r.doc),o=t.some(p=>p.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,l=lW(n.doc,[...t]),{mapping:c}=l;if(dW(l).forEach(({oldRange:p,newRange:m})=>{Ip(p.from,p.to,n.doc).filter(v=>v.mark.type===e.type).forEach(v=>{const b=c.map(v.from),_=c.map(v.to),x=Ip(b,_,r.doc).filter(Y=>Y.mark.type===e.type);if(!x.length)return;const D=x[0],E=n.doc.textBetween(v.from,v.to,void 0," "),T=r.doc.textBetween(D.from,D.to,void 0," "),R=n2(E),M=n2(T);R&&!M&&s.removeMark(D.from,D.to,e.type)}),uW(r.doc,m,v=>v.isTextblock).forEach(v=>{const b=r.doc.textBetween(v.pos,v.pos+v.node.nodeSize,void 0," ");$1(b).filter(_=>_.isLink).filter(_=>e.validate?e.validate(_.value):!0).map(_=>Kt(Ne({},_),{from:v.pos+_.start+1,to:v.pos+_.end+1})).filter(_=>{const x=m.from>=_.from&&m.from<=_.to,D=m.to>=_.from&&m.to<=_.to;return x||D}).forEach(_=>{s.addMark(_.from,_.to,e.type.create({href:_.href}))})})}),!!s.steps.length)return s}})}function Wq(e){return new bn({key:new tr("handleClickLink"),props:{handleClick:(t,n,r)=>{var i;const o=VM(t.state,e.type.name);return((i=r.target)===null||i===void 0?void 0:i.closest("a"))&&o.href?(window.open(o.href,o.target),!0):!1}}})}function Uq(e){return new bn({key:new tr("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:i}=t,{selection:o}=i,{empty:s}=o;if(s)return!1;let l="";r.content.forEach(h=>{l+=h.textContent});const c=$1(l).find(h=>h.isLink&&h.value===l);return!l||!c?!1:(e.editor.commands.setMark(e.type,{href:c.href}),!0)}}})}const Kq=_i.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(Hq)},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:e}){return["a",yn(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Qs({find:e=>$1(e).filter(t=>this.options.validate?this.options.validate(t.value):!0).filter(t=>t.isLink).map(t=>({text:t.value,index:t.start,data:t})),type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)===null||t===void 0?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];return this.options.autolink&&e.push(Vq({type:this.type,validate:this.options.validate})),this.options.openOnClick&&e.push(Wq({type:this.type})),this.options.linkOnPaste&&e.push(Uq({editor:this.editor,type:this.type})),e}});var qq=Kq.extend({addOptions(){var e;return Kt(Ne({},(e=this.parent)==null?void 0:e.call(this)),{HTMLAttributes:{target:null,rel:null,class:null}})},renderHTML({HTMLAttributes:e}){const t=yn(this.options.HTMLAttributes,e);return t.target==="_blank"&&(t.rel="noopener noreferrer"),["a",t,0]},addProseMirrorPlugins(){return[new bn({key:new tr("handleClick"),props:{handleClick:(e,t,n)=>{if(this.editor.getAttributes("link").href&&n.target instanceof HTMLAnchorElement)return setTimeout(()=>{this.editor.emit("vui:link-clicked")},50),!0}}})]}});const Gq=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Yq=pr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",yn(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[UM({find:Gq,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}});var Jq=Yq.extend({addAttributes(){return{id:{default:null},src:{default:null},alt:{default:null},title:{default:null},url:{default:null},target:{default:null},transform:{default:null}}},renderHTML({HTMLAttributes:e}){const t={class:"vui-editor-img-wrap",tabindex:"-1"},n={src:e.src,title:e.title,alt:e.alt},r={url:e.url,target:e.target};return e.url?["figure",t,["a",r,["img",n]]]:["figure",t,["img",n]]},addProseMirrorPlugins(){return[new bn({key:new tr("handleClick"),props:{handleClick:(e,t,n)=>{n.target.classList.contains("vui-editor-img-wrap")&&setTimeout(()=>{this.editor.emit("vui:image-clicked",n)},50)}}})]}});/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */function r2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(n),!0).forEach(function(r){Qq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ig(e){return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function Xq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zq(e,t,n){return t&&i2(e.prototype,t),n&&i2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H1(e,t){return tG(e)||rG(e,t)||xO(e,t)||oG()}function am(e){return eG(e)||nG(e)||xO(e)||iG()}function eG(e){if(Array.isArray(e))return Ey(e)}function tG(e){if(Array.isArray(e))return e}function nG(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rG(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(c){o=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function xO(e,t){if(!!e){if(typeof e=="string")return Ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ey(e,t)}}function Ey(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o2=function(){},j1={},kO={},CO=null,SO={mark:o2,measure:o2};try{typeof window!="undefined"&&(j1=window),typeof document!="undefined"&&(kO=document),typeof MutationObserver!="undefined"&&(CO=MutationObserver),typeof performance!="undefined"&&(SO=performance)}catch{}var sG=j1.navigator||{},s2=sG.userAgent,a2=s2===void 0?"":s2,ea=j1,sn=kO,l2=CO,Eh=SO;ea.document;var is=!!sn.documentElement&&!!sn.head&&typeof sn.addEventListener=="function"&&typeof sn.createElement=="function",TO=~a2.indexOf("MSIE")||~a2.indexOf("Trident/"),Go="___FONT_AWESOME___",Ay=16,EO="fa",AO="svg-inline--fa",cl="data-fa-i2svg",Dy="data-fa-pseudo-element",aG="data-fa-pseudo-element-pending",V1="data-prefix",W1="data-icon",u2="fontawesome-i2svg",lG="async",uG=["HTML","HEAD","STYLE","SCRIPT"],DO=function(){try{return!0}catch{return!1}}(),U1={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},og={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},MO={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},cG={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},fG=/fa[srltdbk\-\ ]/,OO="fa-layers-text",dG=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,hG={"900":"fas","400":"far",normal:"far","300":"fal","100":"fat"},NO=[1,2,3,4,5,6,7,8,9,10],pG=NO.concat([11,12,13,14,15,16,17,18,19,20]),gG=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ja={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},mG=[].concat(am(Object.keys(og)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ja.GROUP,ja.SWAP_OPACITY,ja.PRIMARY,ja.SECONDARY]).concat(NO.map(function(e){return"".concat(e,"x")})).concat(pG.map(function(e){return"w-".concat(e)})),LO=ea.FontAwesomeConfig||{};function vG(e){var t=sn.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function yG(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(sn&&typeof sn.querySelector=="function"){var bG=[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];bG.forEach(function(e){var t=H1(e,2),n=t[0],r=t[1],i=yG(vG(n));i!=null&&(LO[r]=i)})}var _G={familyPrefix:EO,styleDefault:"solid",replacementClass:AO,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Tf=Ye(Ye({},_G),LO);Tf.autoReplaceSvg||(Tf.observeMutations=!1);var at={};Object.keys(Tf).forEach(function(e){Object.defineProperty(at,e,{enumerable:!0,set:function(n){Tf[e]=n,Hh.forEach(function(r){return r(at)})},get:function(){return Tf[e]}})});ea.FontAwesomeConfig=at;var Hh=[];function wG(e){return Hh.push(e),function(){Hh.splice(Hh.indexOf(e),1)}}var ws=Ay,lo={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function xG(e){if(!(!e||!is)){var t=sn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=sn.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}return sn.head.insertBefore(t,r),e}}var kG="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Qf(){for(var e=12,t="";e-- >0;)t+=kG[Math.random()*62|0];return t}function Yu(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function K1(e){return e.classList?Yu(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function PO(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function CG(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(PO(e[n]),'" ')},"").trim()}function lm(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function q1(e){return e.size!==lo.size||e.x!==lo.x||e.y!==lo.y||e.rotate!==lo.rotate||e.flipX||e.flipY}function SG(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(t.x*32,", ").concat(t.y*32,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)"),c={transform:"".concat(o," ").concat(s," ").concat(l)},h={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:c,path:h}}function TG(e){var t=e.transform,n=e.width,r=n===void 0?Ay:n,i=e.height,o=i===void 0?Ay:i,s=e.startCentered,l=s===void 0?!1:s,c="";return l&&TO?c+="translate(".concat(t.x/ws-r/2,"em, ").concat(t.y/ws-o/2,"em) "):l?c+="translate(calc(-50% + ".concat(t.x/ws,"em), calc(-50% + ").concat(t.y/ws,"em)) "):c+="translate(".concat(t.x/ws,"em, ").concat(t.y/ws,"em) "),c+="scale(".concat(t.size/ws*(t.flipX?-1:1),", ").concat(t.size/ws*(t.flipY?-1:1),") "),c+="rotate(".concat(t.rotate,"deg) "),c}var EG=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0);
          animation-delay: var(--fa-animation-delay, 0);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function IO(){var e=EO,t=AO,n=at.familyPrefix,r=at.replacementClass,i=EG;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(l,".".concat(r))}return i}var c2=!1;function s0(){at.autoAddCss&&!c2&&(xG(IO()),c2=!0)}var AG={mixout:function(){return{dom:{css:IO,insertCss:s0}}},hooks:function(){return{beforeDOMElementCreation:function(){s0()},beforeI2svg:function(){s0()}}}},Yo=ea||{};Yo[Go]||(Yo[Go]={});Yo[Go].styles||(Yo[Go].styles={});Yo[Go].hooks||(Yo[Go].hooks={});Yo[Go].shims||(Yo[Go].shims=[]);var Ri=Yo[Go],FO=[],DG=function e(){sn.removeEventListener("DOMContentLoaded",e),sg=1,FO.map(function(t){return t()})},sg=!1;is&&(sg=(sn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(sn.readyState),sg||sn.addEventListener("DOMContentLoaded",DG));function MG(e){!is||(sg?setTimeout(e,0):FO.push(e))}function yd(e){var t=e.tag,n=e.attributes,r=n===void 0?{}:n,i=e.children,o=i===void 0?[]:i;return typeof e=="string"?PO(e):"<".concat(t," ").concat(CG(r),">").concat(o.map(yd).join(""),"</").concat(t,">")}function f2(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var OG=function(t,n){return function(r,i,o,s){return t.call(n,r,i,o,s)}},a0=function(t,n,r,i){var o=Object.keys(t),s=o.length,l=i!==void 0?OG(n,i):n,c,h,p;for(r===void 0?(c=1,p=t[o[0]]):(c=0,p=r);c<s;c++)h=o[c],p=l(p,t[h],h,t);return p};function NG(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),n--)}else t.push(i)}return t}function My(e){var t=NG(e);return t.length===1?t[0].toString(16):null}function LG(e,t){var n=e.length,r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&n>t+1&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function d2(e){return Object.keys(e).reduce(function(t,n){var r=e[n],i=!!r.icon;return i?t[r.iconName]=r.icon:t[n]=r,t},{})}function Oy(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,o=d2(t);typeof Ri.hooks.addPack=="function"&&!i?Ri.hooks.addPack(e,d2(t)):Ri.styles[e]=Ye(Ye({},Ri.styles[e]||{}),o),e==="fas"&&Oy("fa",t)}var Ef=Ri.styles,PG=Ri.shims,IG=Object.values(MO),G1=null,RO={},zO={},BO={},$O={},HO={},FG=Object.keys(U1);function RG(e){return~mG.indexOf(e)}function zG(e,t){var n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r===e&&i!==""&&!RG(i)?i:null}var jO=function(){var t=function(o){return a0(Ef,function(s,l,c){return s[c]=a0(l,o,{}),s},{})};RO=t(function(i,o,s){if(o[3]&&(i[o[3]]=s),o[2]){var l=o[2].filter(function(c){return typeof c=="number"});l.forEach(function(c){i[c.toString(16)]=s})}return i}),zO=t(function(i,o,s){if(i[s]=s,o[2]){var l=o[2].filter(function(c){return typeof c=="string"});l.forEach(function(c){i[c]=s})}return i}),HO=t(function(i,o,s){var l=o[2];return i[s]=s,l.forEach(function(c){i[c]=s}),i});var n="far"in Ef||at.autoFetchSvg,r=a0(PG,function(i,o){var s=o[0],l=o[1],c=o[2];return l==="far"&&!n&&(l="fas"),typeof s=="string"&&(i.names[s]={prefix:l,iconName:c}),typeof s=="number"&&(i.unicodes[s.toString(16)]={prefix:l,iconName:c}),i},{names:{},unicodes:{}});BO=r.names,$O=r.unicodes,G1=um(at.styleDefault)};wG(function(e){G1=um(e.styleDefault)});jO();function Y1(e,t){return(RO[e]||{})[t]}function BG(e,t){return(zO[e]||{})[t]}function du(e,t){return(HO[e]||{})[t]}function VO(e){return BO[e]||{prefix:null,iconName:null}}function $G(e){var t=$O[e],n=Y1("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ta(){return G1}var J1=function(){return{prefix:null,iconName:null,rest:[]}};function um(e){var t=U1[e],n=og[e]||og[t],r=e in Ri.styles?e:null;return n||r||null}function cm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.skipLookups,r=n===void 0?!1:n,i=null,o=e.reduce(function(s,l){var c=zG(at.familyPrefix,l);if(Ef[l]?(l=IG.includes(l)?cG[l]:l,i=l,s.prefix=l):FG.indexOf(l)>-1?(i=l,s.prefix=um(l)):c?s.iconName=c:l!==at.replacementClass&&s.rest.push(l),!r&&s.prefix&&s.iconName){var h=i==="fa"?VO(s.iconName):{},p=du(s.prefix,s.iconName);h.prefix&&(i=null),s.iconName=h.iconName||p||s.iconName,s.prefix=h.prefix||s.prefix,s.prefix==="far"&&!Ef.far&&Ef.fas&&!at.autoFetchSvg&&(s.prefix="fas")}return s},J1());return(o.prefix==="fa"||i==="fa")&&(o.prefix=ta()||"fas"),o}var HG=function(){function e(){Xq(this,e),this.definitions={}}return Zq(e,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(l){n.definitions[l]=Ye(Ye({},n.definitions[l]||{}),s[l]),Oy(l,s[l]);var c=MO[l];c&&Oy(c,s[l]),jO()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var s=i[o],l=s.prefix,c=s.iconName,h=s.icon,p=h[2];n[l]||(n[l]={}),p.length>0&&p.forEach(function(m){typeof m=="string"&&(n[l][m]=h)}),n[l][c]=h}),n}}]),e}(),h2=[],hu={},ku={},jG=Object.keys(ku);function VG(e,t){var n=t.mixoutsTo;return h2=e,hu={},Object.keys(ku).forEach(function(r){jG.indexOf(r)===-1&&delete ku[r]}),h2.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(s){typeof i[s]=="function"&&(n[s]=i[s]),ig(i[s])==="object"&&Object.keys(i[s]).forEach(function(l){n[s]||(n[s]={}),n[s][l]=i[s][l]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(s){hu[s]||(hu[s]=[]),hu[s].push(o[s])})}r.provides&&r.provides(ku)}),n}function Ny(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=hu[e]||[];return o.forEach(function(s){t=s.apply(null,[t].concat(r))}),t}function fl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=hu[e]||[];i.forEach(function(o){o.apply(null,n)})}function Jo(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return ku[e]?ku[e].apply(null,t):void 0}function Ly(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,n=e.prefix||ta();if(!!t)return t=du(n,t)||t,f2(WO.definitions,n,t)||f2(Ri.styles,n,t)}var WO=new HG,WG=function(){at.autoReplaceSvg=!1,at.observeMutations=!1,fl("noAuto")},UG={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return is?(fl("beforeI2svg",t),Jo("pseudoElements2svg",t),Jo("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot;at.autoReplaceSvg===!1&&(at.autoReplaceSvg=!0),at.observeMutations=!0,MG(function(){qG({autoReplaceSvgRoot:n}),fl("watch",t)})}},KG={icon:function(t){if(t===null)return null;if(ig(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:du(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],r=um(t[0]);return{prefix:r,iconName:du(r,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(at.familyPrefix,"-"))>-1||t.match(fG))){var i=cm(t.split(" "),{skipLookups:!0});return{prefix:i.prefix||ta(),iconName:du(i.prefix,i.iconName)||i.iconName}}if(typeof t=="string"){var o=ta();return{prefix:o,iconName:du(o,t)||t}}}},ai={noAuto:WG,config:at,dom:UG,parse:KG,library:WO,findIconDefinition:Ly,toHtml:yd},qG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot,r=n===void 0?sn:n;(Object.keys(Ri.styles).length>0||at.autoFetchSvg)&&is&&at.autoReplaceSvg&&ai.dom.i2svg({node:r})};function fm(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(r){return yd(r)})}}),Object.defineProperty(e,"node",{get:function(){if(!!is){var r=sn.createElement("div");return r.innerHTML=e.html,r.children}}}),e}function GG(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,s=e.transform;if(q1(s)&&n.found&&!r.found){var l=n.width,c=n.height,h={x:l/c/2,y:.5};i.style=lm(Ye(Ye({},o),{},{"transform-origin":"".concat(h.x+s.x/16,"em ").concat(h.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}function YG(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol,s=o===!0?"".concat(t,"-").concat(at.familyPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ye(Ye({},i),{},{id:s}),children:r}]}]}function X1(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,s=e.transform,l=e.symbol,c=e.title,h=e.maskId,p=e.titleId,m=e.extra,v=e.watchable,b=v===void 0?!1:v,_=r.found?r:n,x=_.width,D=_.height,E=i==="fak",T=[at.replacementClass,o?"".concat(at.familyPrefix,"-").concat(o):""].filter(function(B){return m.classes.indexOf(B)===-1}).filter(function(B){return B!==""||!!B}).concat(m.classes).join(" "),R={children:[],attributes:Ye(Ye({},m.attributes),{},{"data-prefix":i,"data-icon":o,class:T,role:m.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(x," ").concat(D)})},M=E&&!~m.classes.indexOf("fa-fw")?{width:"".concat(x/D*16*.0625,"em")}:{};b&&(R.attributes[cl]=""),c&&(R.children.push({tag:"title",attributes:{id:R.attributes["aria-labelledby"]||"title-".concat(p||Qf())},children:[c]}),delete R.attributes.title);var Y=Ye(Ye({},R),{},{prefix:i,iconName:o,main:n,mask:r,maskId:h,transform:s,symbol:l,styles:Ye(Ye({},M),m.styles)}),J=r.found&&n.found?Jo("generateAbstractMask",Y)||{children:[],attributes:{}}:Jo("generateAbstractIcon",Y)||{children:[],attributes:{}},Z=J.children,z=J.attributes;return Y.children=Z,Y.attributes=z,l?YG(Y):GG(Y)}function p2(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.title,s=e.extra,l=e.watchable,c=l===void 0?!1:l,h=Ye(Ye(Ye({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});c&&(h[cl]="");var p=Ye({},s.styles);q1(i)&&(p.transform=TG({transform:i,startCentered:!0,width:n,height:r}),p["-webkit-transform"]=p.transform);var m=lm(p);m.length>0&&(h.style=m);var v=[];return v.push({tag:"span",attributes:h,children:[t]}),o&&v.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),v}function JG(e){var t=e.content,n=e.title,r=e.extra,i=Ye(Ye(Ye({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=lm(r.styles);o.length>0&&(i.style=o);var s=[];return s.push({tag:"span",attributes:i,children:[t]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}var l0=Ri.styles;function Py(e){var t=e[0],n=e[1],r=e.slice(4),i=H1(r,1),o=i[0],s=null;return Array.isArray(o)?s={tag:"g",attributes:{class:"".concat(at.familyPrefix,"-").concat(ja.GROUP)},children:[{tag:"path",attributes:{class:"".concat(at.familyPrefix,"-").concat(ja.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(at.familyPrefix,"-").concat(ja.PRIMARY),fill:"currentColor",d:o[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:t,height:n,icon:s}}var XG={found:!1,width:512,height:512};function ZG(e,t){!DO&&!at.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Iy(e,t){var n=t;return t==="fa"&&at.styleDefault!==null&&(t=ta()),new Promise(function(r,i){if(Jo("missingIconAbstract"),n==="fa"){var o=VO(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&l0[t]&&l0[t][e]){var s=l0[t][e];return r(Py(s))}ZG(e,t),r(Ye(Ye({},XG),{},{icon:at.showMissingIcons&&e?Jo("missingIconAbstract")||{}:{}}))})}var g2=function(){},Fy=at.measurePerformance&&Eh&&Eh.mark&&Eh.measure?Eh:{mark:g2,measure:g2},Yc='FA "6.1.1"',QG=function(t){return Fy.mark("".concat(Yc," ").concat(t," begins")),function(){return UO(t)}},UO=function(t){Fy.mark("".concat(Yc," ").concat(t," ends")),Fy.measure("".concat(Yc," ").concat(t),"".concat(Yc," ").concat(t," begins"),"".concat(Yc," ").concat(t," ends"))},Z1={begin:QG,end:UO},jh=function(){};function m2(e){var t=e.getAttribute?e.getAttribute(cl):null;return typeof t=="string"}function eY(e){var t=e.getAttribute?e.getAttribute(V1):null,n=e.getAttribute?e.getAttribute(W1):null;return t&&n}function tY(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(at.replacementClass)}function nY(){if(at.autoReplaceSvg===!0)return Vh.replace;var e=Vh[at.autoReplaceSvg];return e||Vh.replace}function rY(e){return sn.createElementNS("http://www.w3.org/2000/svg",e)}function iY(e){return sn.createElement(e)}function KO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.ceFn,r=n===void 0?e.tag==="svg"?rY:iY:n;if(typeof e=="string")return sn.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach(function(s){i.setAttribute(s,e.attributes[s])});var o=e.children||[];return o.forEach(function(s){i.appendChild(KO(s,{ceFn:r}))}),i}function oY(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Vh={replace:function(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(i){n.parentNode.insertBefore(KO(i),n)}),n.getAttribute(cl)===null&&at.keepOriginalSource){var r=sn.createComment(oY(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(t){var n=t[0],r=t[1];if(~K1(n).indexOf(at.replacementClass))return Vh.replace(t);var i=new RegExp("".concat(at.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(l,c){return c===at.replacementClass||c.match(i)?l.toSvg.push(c):l.toNode.push(c),l},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var s=r.map(function(l){return yd(l)}).join(`
`);n.setAttribute(cl,""),n.innerHTML=s}};function v2(e){e()}function qO(e,t){var n=typeof t=="function"?t:jh;if(e.length===0)n();else{var r=v2;at.mutateApproach===lG&&(r=ea.requestAnimationFrame||v2),r(function(){var i=nY(),o=Z1.begin("mutate");e.map(i),o(),n()})}}var Q1=!1;function GO(){Q1=!0}function Ry(){Q1=!1}var ag=null;function y2(e){if(!!l2&&!!at.observeMutations){var t=e.treeCallback,n=t===void 0?jh:t,r=e.nodeCallback,i=r===void 0?jh:r,o=e.pseudoElementsCallback,s=o===void 0?jh:o,l=e.observeMutationsRoot,c=l===void 0?sn:l;ag=new l2(function(h){if(!Q1){var p=ta();Yu(h).forEach(function(m){if(m.type==="childList"&&m.addedNodes.length>0&&!m2(m.addedNodes[0])&&(at.searchPseudoElements&&s(m.target),n(m.target)),m.type==="attributes"&&m.target.parentNode&&at.searchPseudoElements&&s(m.target.parentNode),m.type==="attributes"&&m2(m.target)&&~gG.indexOf(m.attributeName))if(m.attributeName==="class"&&eY(m.target)){var v=cm(K1(m.target)),b=v.prefix,_=v.iconName;m.target.setAttribute(V1,b||p),_&&m.target.setAttribute(W1,_)}else tY(m.target)&&i(m.target)})}}),is&&ag.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function sY(){!ag||ag.disconnect()}function aY(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(r,i){var o=i.split(":"),s=o[0],l=o.slice(1);return s&&l.length>0&&(r[s]=l.join(":").trim()),r},{})),n}function lY(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"",i=cm(K1(e));return i.prefix||(i.prefix=ta()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=BG(i.prefix,e.innerText)||Y1(i.prefix,My(e.innerText))),i}function uY(e){var t=Yu(e.attributes).reduce(function(i,o){return i.name!=="class"&&i.name!=="style"&&(i[o.name]=o.value),i},{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return at.autoA11y&&(n?t["aria-labelledby"]="".concat(at.replacementClass,"-title-").concat(r||Qf()):(t["aria-hidden"]="true",t.focusable="false")),t}function cY(){return{iconName:null,title:null,titleId:null,prefix:null,transform:lo,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function b2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=lY(e),r=n.iconName,i=n.prefix,o=n.rest,s=uY(e),l=Ny("parseNodeAttributes",{},e),c=t.styleParser?aY(e):[];return Ye({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:lo,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:c,attributes:s}},l)}var fY=Ri.styles;function YO(e){var t=at.autoReplaceSvg==="nest"?b2(e,{styleParser:!1}):b2(e);return~t.extra.classes.indexOf(OO)?Jo("generateLayersText",e,t):Jo("generateSvgReplacementMutation",e,t)}function _2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!is)return Promise.resolve();var n=sn.documentElement.classList,r=function(m){return n.add("".concat(u2,"-").concat(m))},i=function(m){return n.remove("".concat(u2,"-").concat(m))},o=at.autoFetchSvg?Object.keys(U1):Object.keys(fY),s=[".".concat(OO,":not([").concat(cl,"])")].concat(o.map(function(p){return".".concat(p,":not([").concat(cl,"])")})).join(", ");if(s.length===0)return Promise.resolve();var l=[];try{l=Yu(e.querySelectorAll(s))}catch{}if(l.length>0)r("pending"),i("complete");else return Promise.resolve();var c=Z1.begin("onTree"),h=l.reduce(function(p,m){try{var v=YO(m);v&&p.push(v)}catch(b){DO||b.name==="MissingIcon"&&console.error(b)}return p},[]);return new Promise(function(p,m){Promise.all(h).then(function(v){qO(v,function(){r("active"),r("complete"),i("pending"),typeof t=="function"&&t(),c(),p()})}).catch(function(v){c(),m(v)})})}function dY(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;YO(e).then(function(n){n&&qO([n],t)})}function hY(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(t||{}).icon?t:Ly(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Ly(i||{})),e(r,Ye(Ye({},n),{},{mask:i}))}}var pY=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?lo:r,o=n.symbol,s=o===void 0?!1:o,l=n.mask,c=l===void 0?null:l,h=n.maskId,p=h===void 0?null:h,m=n.title,v=m===void 0?null:m,b=n.titleId,_=b===void 0?null:b,x=n.classes,D=x===void 0?[]:x,E=n.attributes,T=E===void 0?{}:E,R=n.styles,M=R===void 0?{}:R;if(!!t){var Y=t.prefix,J=t.iconName,Z=t.icon;return fm(Ye({type:"icon"},t),function(){return fl("beforeDOMElementCreation",{iconDefinition:t,params:n}),at.autoA11y&&(v?T["aria-labelledby"]="".concat(at.replacementClass,"-title-").concat(_||Qf()):(T["aria-hidden"]="true",T.focusable="false")),X1({icons:{main:Py(Z),mask:c?Py(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Y,iconName:J,transform:Ye(Ye({},lo),i),symbol:s,title:v,maskId:p,titleId:_,extra:{attributes:T,styles:M,classes:D}})})}},gY={mixout:function(){return{icon:hY(pY)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=_2,n.nodeCallback=dY,n}}},provides:function(t){t.i2svg=function(n){var r=n.node,i=r===void 0?sn:r,o=n.callback,s=o===void 0?function(){}:o;return _2(i,s)},t.generateSvgReplacementMutation=function(n,r){var i=r.iconName,o=r.title,s=r.titleId,l=r.prefix,c=r.transform,h=r.symbol,p=r.mask,m=r.maskId,v=r.extra;return new Promise(function(b,_){Promise.all([Iy(i,l),p.iconName?Iy(p.iconName,p.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(x){var D=H1(x,2),E=D[0],T=D[1];b([n,X1({icons:{main:E,mask:T},prefix:l,iconName:i,transform:c,symbol:h,maskId:m,title:o,titleId:s,extra:v,watchable:!0})])}).catch(_)})},t.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.transform,l=n.styles,c=lm(l);c.length>0&&(i.style=c);var h;return q1(s)&&(h=Jo("generateAbstractTransformGrouping",{main:o,transform:s,containerWidth:o.width,iconWidth:o.width})),r.push(h||o.icon),{children:r,attributes:i}}}},mY={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,o=i===void 0?[]:i;return fm({type:"layer"},function(){fl("beforeDOMElementCreation",{assembler:n,params:r});var s=[];return n(function(l){Array.isArray(l)?l.map(function(c){s=s.concat(c.abstract)}):s=s.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(at.familyPrefix,"-layers")].concat(am(o)).join(" ")},children:s}]})}}}},vY={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,o=i===void 0?null:i,s=r.classes,l=s===void 0?[]:s,c=r.attributes,h=c===void 0?{}:c,p=r.styles,m=p===void 0?{}:p;return fm({type:"counter",content:n},function(){return fl("beforeDOMElementCreation",{content:n,params:r}),JG({content:n.toString(),title:o,extra:{attributes:h,styles:m,classes:["".concat(at.familyPrefix,"-layers-counter")].concat(am(l))}})})}}}},yY={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,o=i===void 0?lo:i,s=r.title,l=s===void 0?null:s,c=r.classes,h=c===void 0?[]:c,p=r.attributes,m=p===void 0?{}:p,v=r.styles,b=v===void 0?{}:v;return fm({type:"text",content:n},function(){return fl("beforeDOMElementCreation",{content:n,params:r}),p2({content:n,transform:Ye(Ye({},lo),o),title:l,extra:{attributes:m,styles:b,classes:["".concat(at.familyPrefix,"-layers-text")].concat(am(h))}})})}}},provides:function(t){t.generateLayersText=function(n,r){var i=r.title,o=r.transform,s=r.extra,l=null,c=null;if(TO){var h=parseInt(getComputedStyle(n).fontSize,10),p=n.getBoundingClientRect();l=p.width/h,c=p.height/h}return at.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),Promise.resolve([n,p2({content:n.innerHTML,width:l,height:c,transform:o,title:i,extra:s,watchable:!0})])}}},bY=new RegExp('"',"ug"),w2=[1105920,1112319];function _Y(e){var t=e.replace(bY,""),n=LG(t,0),r=n>=w2[0]&&n<=w2[1],i=t.length===2?t[0]===t[1]:!1;return{value:My(i?t[0]:t),isSecondary:r||i}}function x2(e,t){var n="".concat(aG).concat(t.replace(":","-"));return new Promise(function(r,i){if(e.getAttribute(n)!==null)return r();var o=Yu(e.children),s=o.filter(function(J){return J.getAttribute(Dy)===t})[0],l=ea.getComputedStyle(e,t),c=l.getPropertyValue("font-family").match(dG),h=l.getPropertyValue("font-weight"),p=l.getPropertyValue("content");if(s&&!c)return e.removeChild(s),r();if(c&&p!=="none"&&p!==""){var m=l.getPropertyValue("content"),v=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?og[c[2].toLowerCase()]:hG[h],b=_Y(m),_=b.value,x=b.isSecondary,D=c[0].startsWith("FontAwesome"),E=Y1(v,_),T=E;if(D){var R=$G(_);R.iconName&&R.prefix&&(E=R.iconName,v=R.prefix)}if(E&&!x&&(!s||s.getAttribute(V1)!==v||s.getAttribute(W1)!==T)){e.setAttribute(n,T),s&&e.removeChild(s);var M=cY(),Y=M.extra;Y.attributes[Dy]=t,Iy(E,v).then(function(J){var Z=X1(Ye(Ye({},M),{},{icons:{main:J,mask:J1()},prefix:v,iconName:T,extra:Y,watchable:!0})),z=sn.createElement("svg");t==="::before"?e.insertBefore(z,e.firstChild):e.appendChild(z),z.outerHTML=Z.map(function(B){return yd(B)}).join(`
`),e.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function wY(e){return Promise.all([x2(e,"::before"),x2(e,"::after")])}function xY(e){return e.parentNode!==document.head&&!~uG.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Dy)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function k2(e){if(!!is)return new Promise(function(t,n){var r=Yu(e.querySelectorAll("*")).filter(xY).map(wY),i=Z1.begin("searchPseudoElements");GO(),Promise.all(r).then(function(){i(),Ry(),t()}).catch(function(){i(),Ry(),n()})})}var kY={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=k2,n}}},provides:function(t){t.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?sn:r;at.searchPseudoElements&&k2(i)}}},C2=!1,CY={mixout:function(){return{dom:{unwatch:function(){GO(),C2=!0}}}},hooks:function(){return{bootstrap:function(){y2(Ny("mutationObserverCallbacks",{}))},noAuto:function(){sY()},watch:function(n){var r=n.observeMutationsRoot;C2?Ry():y2(Ny("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},S2=function(t){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),s=o[0],l=o.slice(1).join("-");if(s&&l==="h")return r.flipX=!0,r;if(s&&l==="v")return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(s){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l;break}return r},n)},SY={mixout:function(){return{parse:{transform:function(n){return S2(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=S2(i)),n}}},provides:function(t){t.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.containerWidth,s=n.iconWidth,l={transform:"translate(".concat(o/2," 256)")},c="translate(".concat(i.x*32,", ").concat(i.y*32,") "),h="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),p="rotate(".concat(i.rotate," 0 0)"),m={transform:"".concat(c," ").concat(h," ").concat(p)},v={transform:"translate(".concat(s/2*-1," -256)")},b={outer:l,inner:m,path:v};return{tag:"g",attributes:Ye({},b.outer),children:[{tag:"g",attributes:Ye({},b.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Ye(Ye({},r.icon.attributes),b.path)}]}]}}}},u0={x:0,y:0,width:"100%",height:"100%"};function T2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function TY(e){return e.tag==="g"?e.children:[e]}var EY={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),o=i?cm(i.split(" ").map(function(s){return s.trim()})):J1();return o.prefix||(o.prefix=ta()),n.mask=o,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(t){t.generateAbstractMask=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.mask,l=n.maskId,c=n.transform,h=o.width,p=o.icon,m=s.width,v=s.icon,b=SG({transform:c,containerWidth:m,iconWidth:h}),_={tag:"rect",attributes:Ye(Ye({},u0),{},{fill:"white"})},x=p.children?{children:p.children.map(T2)}:{},D={tag:"g",attributes:Ye({},b.inner),children:[T2(Ye({tag:p.tag,attributes:Ye(Ye({},p.attributes),b.path)},x))]},E={tag:"g",attributes:Ye({},b.outer),children:[D]},T="mask-".concat(l||Qf()),R="clip-".concat(l||Qf()),M={tag:"mask",attributes:Ye(Ye({},u0),{},{id:T,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_,E]},Y={tag:"defs",children:[{tag:"clipPath",attributes:{id:R},children:TY(v)},M]};return r.push(Y,{tag:"rect",attributes:Ye({fill:"currentColor","clip-path":"url(#".concat(R,")"),mask:"url(#".concat(T,")")},u0)}),{children:r,attributes:i}}}},AY={provides:function(t){var n=!1;ea.matchMedia&&(n=ea.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Ye(Ye({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=Ye(Ye({},o),{},{attributeName:"opacity"}),l={tag:"circle",attributes:Ye(Ye({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||l.children.push({tag:"animate",attributes:Ye(Ye({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ye(Ye({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:Ye(Ye({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Ye(Ye({},s),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Ye(Ye({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ye(Ye({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},DY={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),o=i===null?!1:i===""?!0:i;return n.symbol=o,n}}}},MY=[AG,gY,mY,vY,yY,kY,CY,SY,EY,AY,DY];VG(MY,{mixoutsTo:ai});ai.noAuto;var JO=ai.config,OY=ai.library;ai.dom;var XO=ai.parse;ai.findIconDefinition;ai.toHtml;var NY=ai.icon;ai.layer;var LY=ai.text;ai.counter;var PY=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function IY(e,t){return t={exports:{}},e(t,t.exports),t.exports}var FY=IY(function(e){(function(t){var n=function(E,T,R){if(!h(T)||m(T)||v(T)||b(T)||c(T))return T;var M,Y=0,J=0;if(p(T))for(M=[],J=T.length;Y<J;Y++)M.push(n(E,T[Y],R));else{M={};for(var Z in T)Object.prototype.hasOwnProperty.call(T,Z)&&(M[E(Z,R)]=n(E,T[Z],R))}return M},r=function(E,T){T=T||{};var R=T.separator||"_",M=T.split||/(?=[A-Z])/;return E.split(M).join(R)},i=function(E){return _(E)?E:(E=E.replace(/[\-_\s]+(.)?/g,function(T,R){return R?R.toUpperCase():""}),E.substr(0,1).toLowerCase()+E.substr(1))},o=function(E){var T=i(E);return T.substr(0,1).toUpperCase()+T.substr(1)},s=function(E,T){return r(E,T).toLowerCase()},l=Object.prototype.toString,c=function(E){return typeof E=="function"},h=function(E){return E===Object(E)},p=function(E){return l.call(E)=="[object Array]"},m=function(E){return l.call(E)=="[object Date]"},v=function(E){return l.call(E)=="[object RegExp]"},b=function(E){return l.call(E)=="[object Boolean]"},_=function(E){return E=E-0,E===E},x=function(E,T){var R=T&&"process"in T?T.process:T;return typeof R!="function"?E:function(M,Y){return R(M,E,Y)}},D={camelize:i,decamelize:s,pascalize:o,depascalize:s,camelizeKeys:function(E,T){return n(x(i,T),E)},decamelizeKeys:function(E,T){return n(x(s,T),E,T)},pascalizeKeys:function(E,T){return n(x(o,T),E)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=D:t.humps=D})(PY)}),RY=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},lg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zY=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(e,r)||(n[r]=e[r]);return n},zy=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}else return Array.from(e)};function BY(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),i=FY.camelize(n.slice(0,r)),o=n.slice(r+1).trim();return t[i]=o,t},{})}function $Y(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function e_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return e_(c)}),i=Object.keys(e.attributes||{}).reduce(function(c,h){var p=e.attributes[h];switch(h){case"class":c.class=$Y(p);break;case"style":c.style=BY(p);break;default:c.attrs[h]=p}return c},{attrs:{},class:{},style:{}});n.class;var o=n.style,s=o===void 0?{}:o,l=zY(n,["class","style"]);return Vn(e.tag,lg({},t,{class:i.class,style:lg({},i.style,s)},i.attrs,l),r)}var ZO=!1;try{ZO=!0}catch{}function HY(){if(!ZO&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Af(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Jc({},e,t):{}}function jY(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},Jc(t,"fa-"+e.size,e.size!==null),Jc(t,"fa-rotate-"+e.rotation,e.rotation!==null),Jc(t,"fa-pull-"+e.pull,e.pull!==null),Jc(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function E2(e){if(e===null)return null;if((typeof e=="undefined"?"undefined":RY(e))==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var VY=ln({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:String,default:null,validator:function(t){return["horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1}},setup:function(t,n){var r=n.attrs,i=vn(function(){return E2(t.icon)}),o=vn(function(){return Af("classes",jY(t))}),s=vn(function(){return Af("transform",typeof t.transform=="string"?XO.transform(t.transform):t.transform)}),l=vn(function(){return Af("mask",E2(t.mask))}),c=vn(function(){return NY(i.value,lg({},o.value,s.value,l.value,{symbol:t.symbol,title:t.title}))});Sn(c,function(p){if(!p)return HY("Could not find one or more icon(s)",i.value,l.value)},{immediate:!0});var h=vn(function(){return c.value?e_(c.value.abstract[0],{},r):null});return function(){return h.value}}});ln({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(t,n){var r=n.slots,i=JO.familyPrefix,o=vn(function(){return[i+"-layers"].concat(zy(t.fixedWidth?[i+"-fw"]:[]))});return function(){return Vn("div",{class:o.value},r.default?r.default():[])}}});ln({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(t){return["bottom-left","bottom-right","top-left","top-right"].indexOf(t)>-1}}},setup:function(t,n){var r=n.attrs,i=JO.familyPrefix,o=vn(function(){return Af("classes",[].concat(zy(t.counter?[i+"-layers-counter"]:[]),zy(t.position?[i+"-layers-"+t.position]:[])))}),s=vn(function(){return Af("transform",typeof t.transform=="string"?XO.transform(t.transform):t.transform)}),l=vn(function(){var h=LY(t.value.toString(),lg({},s.value,o.value)),p=h.abstract;return t.counter&&(p[0].attributes.class=p[0].attributes.class.replace("fa-layers-text","")),p[0]}),c=vn(function(){return e_(l.value,{},r)});return function(){return c.value}}});/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */var WY={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M320 96H128C110.3 96 96 81.67 96 64C96 46.33 110.3 32 128 32H320C337.7 32 352 46.33 352 64C352 81.67 337.7 96 320 96zM416 224H32C14.33 224 0 209.7 0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224zM0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480H32C14.33 480 0 465.7 0 448zM320 352H128C110.3 352 96 337.7 96 320C96 302.3 110.3 288 128 288H320C337.7 288 352 302.3 352 320C352 337.7 337.7 352 320 352z"]},UY={prefix:"fas",iconName:"align-justify",icon:[448,512,[],"f039","M416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96zM416 352H32C14.33 352 0 337.7 0 320C0 302.3 14.33 288 32 288H416C433.7 288 448 302.3 448 320C448 337.7 433.7 352 416 352zM0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224H32C14.33 224 0 209.7 0 192zM416 480H32C14.33 480 0 465.7 0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480z"]},KY={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M256 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H256C273.7 32 288 46.33 288 64C288 81.67 273.7 96 256 96zM256 352H32C14.33 352 0 337.7 0 320C0 302.3 14.33 288 32 288H256C273.7 288 288 302.3 288 320C288 337.7 273.7 352 256 352zM0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224H32C14.33 224 0 209.7 0 192zM416 480H32C14.33 480 0 465.7 0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480z"]},qY={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M416 96H192C174.3 96 160 81.67 160 64C160 46.33 174.3 32 192 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96zM416 352H192C174.3 352 160 337.7 160 320C160 302.3 174.3 288 192 288H416C433.7 288 448 302.3 448 320C448 337.7 433.7 352 416 352zM0 192C0 174.3 14.33 160 32 160H416C433.7 160 448 174.3 448 192C448 209.7 433.7 224 416 224H32C14.33 224 0 209.7 0 192zM416 480H32C14.33 480 0 465.7 0 448C0 430.3 14.33 416 32 416H416C433.7 416 448 430.3 448 448C448 465.7 433.7 480 416 480z"]},GY={prefix:"fas",iconName:"highlighter",icon:[576,512,[],"f591","M143.1 320V248.3C143.1 233 151.2 218.7 163.5 209.6L436.6 8.398C444 2.943 452.1 0 462.2 0C473.6 0 484.5 4.539 492.6 12.62L547.4 67.38C555.5 75.46 559.1 86.42 559.1 97.84C559.1 107 557.1 115.1 551.6 123.4L350.4 396.5C341.3 408.8 326.1 416 311.7 416H239.1L214.6 441.4C202.1 453.9 181.9 453.9 169.4 441.4L118.6 390.6C106.1 378.1 106.1 357.9 118.6 345.4L143.1 320zM489.4 99.92L460.1 70.59L245 229L330.1 314.1L489.4 99.92zM23.03 466.3L86.06 403.3L156.7 473.9L125.7 504.1C121.2 509.5 115.1 512 108.7 512H40C26.75 512 16 501.3 16 488V483.3C16 476.1 18.53 470.8 23.03 466.3V466.3z"]},YY={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"]},JY={prefix:"fas",iconName:"paragraph",icon:[448,512,[182],"f1dd","M448 63.1C448 81.67 433.7 96 416 96H384v352c0 17.67-14.33 32-31.1 32S320 465.7 320 448V96h-32v352c0 17.67-14.33 32-31.1 32S224 465.7 224 448v-96H198.9c-83.57 0-158.2-61.11-166.1-144.3C23.66 112.3 98.44 32 191.1 32h224C433.7 32 448 46.33 448 63.1z"]};OY.add(JY,GY,KY,qY,WY,UY,YY);const XY={name:"SvgIcon",components:{FontAwesomeIcon:VY},props:{content:{type:Object,default:()=>{}}},data(){return{defaultSvgs:{bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"/></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"/></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"/></svg>',strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M314.222 197.78c51.091 51.091 54.377 132.287 9.75 187.16-6.242 7.73-2.784 3.865-84.94 86.02-54.696 54.696-143.266 54.745-197.99 0-54.711-54.69-54.734-143.255 0-197.99 32.773-32.773 51.835-51.899 63.409-63.457 7.463-7.452 20.331-2.354 20.486 8.192a173.31 173.31 0 0 0 4.746 37.828c.966 4.029-.272 8.269-3.202 11.198L80.632 312.57c-32.755 32.775-32.887 85.892 0 118.8 32.775 32.755 85.892 32.887 118.8 0l75.19-75.2c32.718-32.725 32.777-86.013 0-118.79a83.722 83.722 0 0 0-22.814-16.229c-4.623-2.233-7.182-7.25-6.561-12.346 1.356-11.122 6.296-21.885 14.815-30.405l4.375-4.375c3.625-3.626 9.177-4.594 13.76-2.294 12.999 6.524 25.187 15.211 36.025 26.049zM470.958 41.04c-54.724-54.745-143.294-54.696-197.99 0-82.156 82.156-78.698 78.29-84.94 86.02-44.627 54.873-41.341 136.069 9.75 187.16 10.838 10.838 23.026 19.525 36.025 26.049 4.582 2.3 10.134 1.331 13.76-2.294l4.375-4.375c8.52-8.519 13.459-19.283 14.815-30.405.621-5.096-1.938-10.113-6.561-12.346a83.706 83.706 0 0 1-22.814-16.229c-32.777-32.777-32.718-86.065 0-118.79l75.19-75.2c32.908-32.887 86.025-32.755 118.8 0 32.887 32.908 32.755 86.025 0 118.8l-45.848 45.84c-2.93 2.929-4.168 7.169-3.202 11.198a173.31 173.31 0 0 1 4.746 37.828c.155 10.546 13.023 15.644 20.486 8.192 11.574-11.558 30.636-30.684 63.409-63.457 54.733-54.735 54.71-143.3-.001-197.991z"></path></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M304.083 388.936c4.686 4.686 4.686 12.284 0 16.971l-65.057 65.056c-54.709 54.711-143.27 54.721-197.989 0-54.713-54.713-54.719-143.27 0-197.989l65.056-65.057c4.686-4.686 12.284-4.686 16.971 0l22.627 22.627c4.686 4.686 4.686 12.284 0 16.971L81.386 311.82c-34.341 34.341-33.451 88.269.597 120.866 32.577 31.187 84.788 31.337 117.445-1.32l65.057-65.056c4.686-4.686 12.284-4.686 16.971 0l22.627 22.626zm-56.568-243.245l64.304-64.304c34.346-34.346 88.286-33.453 120.882.612 31.18 32.586 31.309 84.785-1.335 117.43l-65.056 65.057c-4.686 4.686-4.686 12.284 0 16.971l22.627 22.627c4.686 4.686 12.284 4.686 16.971 0l65.056-65.057c54.711-54.709 54.721-143.271 0-197.99-54.71-54.711-143.27-54.72-197.989 0l-65.057 65.057c-4.686 4.686-4.686 12.284 0 16.971l22.627 22.627c4.685 4.685 12.283 4.685 16.97-.001zm238.343 362.794l22.627-22.627c4.686-4.686 4.686-12.284 0-16.971L43.112 3.515c-4.686-4.686-12.284-4.686-16.971 0L3.515 26.142c-4.686 4.686-4.686 12.284 0 16.971l465.373 465.373c4.686 4.686 12.284 4.686 16.97-.001z"></path></svg>',"file-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zm-22.627 22.628a15.89 15.89 0 0 1 4.195 7.431H256V32.491a15.88 15.88 0 0 1 7.431 4.195l83.883 83.883zM336 480H48c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304c0 8.837-7.163 16-16 16zm-161.471-67.404l-25.928-7.527a5.1 5.1 0 0 1-3.476-6.32l58.027-199.869a5.1 5.1 0 0 1 6.32-3.476l25.927 7.527a5.1 5.1 0 0 1 3.476 6.32L180.849 409.12a5.1 5.1 0 0 1-6.32 3.476zm-48.446-47.674l18.492-19.724a5.101 5.101 0 0 0-.351-7.317L105.725 304l38.498-33.881a5.1 5.1 0 0 0 .351-7.317l-18.492-19.724a5.1 5.1 0 0 0-7.209-.233L57.61 300.279a5.1 5.1 0 0 0 0 7.441l61.263 57.434a5.1 5.1 0 0 0 7.21-.232zm139.043.232l61.262-57.434a5.1 5.1 0 0 0 0-7.441l-61.262-57.434a5.1 5.1 0 0 0-7.209.233l-18.492 19.724a5.101 5.101 0 0 0 .351 7.317L278.275 304l-38.499 33.881a5.1 5.1 0 0 0-.351 7.317l18.492 19.724a5.1 5.1 0 0 0 7.209.232z"></path></svg>',"page-break":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M144 48.06L304 48v112a16 16 0 0 0 16 16h112v40h48v-84a48.09 48.09 0 0 0-14.09-34L382 14.07A48.09 48.09 0 0 0 348 0L128 .08a32 32 0 0 0-32 32V216h48zM352 52l76.07 76H352zM240 264a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm192 200H144V360H96v120a32 32 0 0 0 32 32h320a32 32 0 0 0 32-32V360h-48zm128-200H432a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm-400 32v-16a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16z"></path></svg>',"remove-format":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M634 471L36 3.5A16 16 0 0 0 13.49 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM352 96l-24.76 74.27L378 210l38-114h144v32a16 16 0 0 0 16 16h16a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16H176a15.86 15.86 0 0 0-14.18 8.94L232.24 96zm-16 336h-32l25.68-77-50.77-39.7L240 432h-32a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',"quote-right":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"/></svg>',"list-ul":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"/></svg>',"list-ol":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg>',"horizontal-rule":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M640 247.5v17a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-17a16 16 0 0 1 16-16h608a16 16 0 0 1 16 16z"/></svg>',code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M234.8 511.7L196 500.4c-4.2-1.2-6.7-5.7-5.5-9.9L331.3 5.8c1.2-4.2 5.7-6.7 9.9-5.5L380 11.6c4.2 1.2 6.7 5.7 5.5 9.9L244.7 506.2c-1.2 4.3-5.6 6.7-9.9 5.5zm-83.2-121.1l27.2-29c3.1-3.3 2.8-8.5-.5-11.5L72.2 256l106.1-94.1c3.4-3 3.6-8.2.5-11.5l-27.2-29c-3-3.2-8.1-3.4-11.3-.4L2.5 250.2c-3.4 3.2-3.4 8.5 0 11.7L140.3 391c3.2 3 8.2 2.8 11.3-.4zm284.1.4l137.7-129.1c3.4-3.2 3.4-8.5 0-11.7L435.7 121c-3.2-3-8.3-2.9-11.3.4l-27.2 29c-3.1 3.3-2.8 8.5.5 11.5L503.8 256l-106.1 94.1c-3.4 3-3.6 8.2-.5 11.5l27.2 29c3.1 3.2 8.1 3.4 11.3.4z"/></svg>',"brackets-curly":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M208 32h-88a56 56 0 0 0-56 56v77.49a40 40 0 0 1-11.72 28.29L7 239a24 24 0 0 0 0 34l45.24 45.24A40 40 0 0 1 64 346.52V424a56 56 0 0 0 56 56h88a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-88a8 8 0 0 1-8-8v-77.48a88.06 88.06 0 0 0-25.78-62.24L57.93 256l28.29-28.28A88.06 88.06 0 0 0 112 165.48V88a8 8 0 0 1 8-8h88a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zm361 207l-45.25-45.24A40.07 40.07 0 0 1 512 165.48V88a56 56 0 0 0-56-56h-88a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h88a8 8 0 0 1 8 8v77.48a88 88 0 0 0 25.78 62.24L518.06 256l-28.28 28.28A88 88 0 0 0 464 346.52V424a8 8 0 0 1-8 8h-88a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h88a56 56 0 0 0 56-56v-77.49a40 40 0 0 1 11.72-28.29L569 273a24 24 0 0 0 0-34z"></path></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"/></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M336 64h-52.28a16 16 0 0 0-13.31 7.12L176 212.73 81.59 71.12A16 16 0 0 0 68.28 64H16A16 16 0 0 0 0 80v16a16 16 0 0 0 16 16h35.16l96 144-96 144H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h52.28a16 16 0 0 0 13.31-7.12L176 299.27l94.41 141.61a16 16 0 0 0 13.31 7.12H336a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-35.16l-96-144 96-144H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm160 400h-24V304a16 16 0 0 0-16-16h-32a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 408 352h16v112h-24a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M336 64h-52.28a16 16 0 0 0-13.31 7.12L176 212.73 81.59 71.12A16 16 0 0 0 68.28 64H16A16 16 0 0 0 0 80v16a16 16 0 0 0 16 16h35.16l96 144-96 144H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h52.28a16 16 0 0 0 13.31-7.12L176 299.27l94.41 141.61a16 16 0 0 0 13.31 7.12H336a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-35.16l-96-144 96-144H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm160 112h-24V16a16 16 0 0 0-16-16h-32a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 408 64h16v112h-24a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>'}}},computed:{getSvg(){return this.content.svg&&this.defaultSvgs[this.content.svg]?this.defaultSvgs[this.content.svg]:""}}},ZY=["innerHTML"];function QY(e,t,n,r,i,o){const s=At("font-awesome-icon");return n.content.icon?(_e(),Ht(s,{key:0,icon:n.content.icon},null,8,["icon"])):(_e(),Le("span",{key:1,class:"custom-svg",innerHTML:o.getSvg},null,8,ZY))}var t_=hn(XY,[["render",QY]]);const eJ={name:"MenuBarItem",components:{SvgIcon:t_},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}},options:{type:Array,default:()=>[]}},data(){return{tippy:null}},computed:{active(){return this.isActive&&this.isActive()}},mounted(){this.$nextTick(()=>{if(this.hasDropdown){const e=this.$el.querySelector(`.vui-toolbar-dropdown-${this.name}`),t=this.$el;e&&t&&(e.style.display="block",this.tippy=si(t,{content:e,trigger:"click",allowHTML:!0,arrow:!1,interactive:!0,placement:"bottom-start",theme:"light-border toolbar-dropdown",zIndex:1e3,hideOnClick:!0,offset:[0,1]}))}})},methods:{hasDropdown(){return!!(this.options&&this.options.length)},runAction(e){this.tippy&&this.tippy.hide(),e&&e()},onMouseDown(e){e.preventDefault()}}},tJ=["onClick"];function nJ(e,t,n,r,i,o){const s=At("svg-icon"),l=Sg("tooltip");return On((_e(),Le("button",{class:It(["btn vui-toolbar-btn",{active:o.active}]),onClick:t[0]||(t[0]=Dt(c=>o.runAction(n.action),["prevent"])),onMousedown:t[1]||(t[1]=(...c)=>o.onMouseDown&&o.onMouseDown(...c))},[st(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"]),o.hasDropdown()?(_e(),Le("div",{key:0,class:It(["vui-toolbar-dropdown-container","vui-toolbar-dropdown-"+n.name]),style:{display:"none"}},[(_e(!0),Le(St,null,Tn(n.options,(c,h)=>(_e(),Le("button",{key:h,class:It(["vui-toolbar-dropdown","vui-toolbar-dropdown-item-"+c.name]),onClick:Dt(p=>o.runAction(c.action),["prevent"])},Xe(c.title),11,tJ))),128))],2)):Nt("",!0)],34)),[[l,{content:n.title,theme:"vui-tooltip"}]])}var rJ=hn(eJ,[["render",nJ]]);const QO=(e,t)=>{if(!e||!t)return;const n=e.parent.childAfter(e.parentOffset);if(!n.node)return;const r=n.node.marks.find(c=>c.type===t);if(!r)return;let i=e.index(),o=e.start()+n.offset,s=i+1,l=o+n.node.nodeSize;for(;i>0&&r.isInSet(e.parent.child(i-1).marks);)i-=1,o-=e.parent.child(i).nodeSize;for(;s<e.parent.childCount&&r.isInSet(e.parent.child(s).marks);)l+=e.parent.child(s).nodeSize,s+=1;return{from:o,to:l}},iJ={name:"MenuBarModal",inheritAttrs:!1,props:{cancelButton:{type:String,default:"Cancel"},confirmButton:{type:String,default:"Confirm"}},emits:["update:modelValue","confirm","cancel"],methods:{opened(){setTimeout(()=>{this.$nextTick().then(()=>{const e=this.$el.querySelector('input[type="text"]');e&&e.focus()})},50)}}},oJ={class:"vui-modal-header"},sJ={class:"vui-modal-body"},aJ={class:"vui-modal-footer footer"},lJ=le("div",{class:"spinner hidden"},null,-1),uJ={class:"buttons right"};function cJ(e,t,n,r,i,o){const s=At("vue-final-modal");return _e(),Ht(s,yi({class:"vui-modal-wrap"},e.$attrs,{classes:"vui-modal-container","content-class":"vui-modal-content","overlay-class":"vui-modal-overlay","lock-scroll":!1,onOpened:o.opened}),{default:on(()=>[le("div",oJ,[Cn(e.$slots,"title"),le("div",{class:"vui-modal-close",onClick:t[0]||(t[0]=Dt(l=>e.$emit("update:modelValue",!1),["prevent"]))})]),le("div",sJ,[Cn(e.$slots,"default")]),le("div",aJ,[lJ,le("div",uJ,[le("div",{role:"button",class:"btn",tabindex:"0",onClick:t[1]||(t[1]=Dt(l=>e.$emit("cancel"),["prevent"]))},Xe(e.t("vizy",n.cancelButton)),1),le("div",{role:"button",class:"btn submit",onClick:t[2]||(t[2]=Dt(l=>e.$emit("confirm"),["prevent"]))},Xe(e.t("vizy",n.confirmButton)),1)])])]),_:3},16,["onOpened"])}var e6=hn(iJ,[["render",cJ]]);const fJ={name:"LinkMenuModal",components:{MenuBarModal:e6},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{url:null,text:null,target:null},errors:[]}},computed:{elementSiteId(){return this.field.settings.elementSiteId},newWindow:{get(){return this.modelValue.target==="_blank"},set(e){this.modelValue.target=e?"_blank":""}}},watch:{show(e){this.proxyShow=e},proxyShow(e){e===!1&&this.$emit("close")},proxyValue(e){this.$emit("update:modelValue",e)}},methods:{cancelModal(){this.proxyShow=!1},confirmModal(){if(this.errors=[],!this.modelValue.url){this.errors.push("url");return}const e={href:this.modelValue.url,target:this.modelValue.target?"_blank":""},{selection:t}=this.editor.state.tr,n=t.$cursor?t.$cursor.pos:t.from;this.editor.chain().focus().command(({commands:r,tr:i,state:o,dispatch:s})=>{let l=QO(o.doc.resolve(i.selection.anchor),o.schema.marks.link);if(l||(l={from:i.selection.from,to:i.selection.to}),this.modelValue.text){const c=this.modelValue.text.toString();i.insertText(c,l.from,l.to);const h=i.doc.resolve(l.from),p=i.doc.resolve(l.from+c.length);i.setSelection(new vt(h,p))}}).setLink(e).command(({commands:r,tr:i,state:o,dispatch:s})=>{n&&i.setSelection(vt.create(i.doc,n))}).run(),this.proxyShow=!1}}},dJ={class:"heading"},hJ={id:"url-label",class:"required",for:"url"},pJ={key:0,class:"errors"},gJ={id:"text-field",class:"field"},mJ={class:"heading"},vJ={id:"text-label",for:"text"},yJ={class:"input ltr"},bJ={id:"target-field",class:"checkboxfield field"},_J={class:"input ltr"},wJ=["id"],xJ=["for"];function kJ(e,t,n,r,i,o){const s=At("menu-bar-modal");return _e(),Ht(s,{modelValue:i.proxyShow,"onUpdate:modelValue":t[3]||(t[3]=l=>i.proxyShow=l),attach:"body","esc-to-close":!0,"focus-trap":!0,"confirm-button":e.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:on(()=>[Qo(Xe(e.t("vizy",e.$attrs["modal-title"])),1)]),default:on(()=>[le("div",{id:"url-field",class:It(["field",{"has-errors":i.errors.includes("url")}])},[le("div",dJ,[le("label",hJ,Xe(e.t("vizy","URL")),1)]),le("div",{class:It(["input ltr",{errors:i.errors.includes("url")}])},[On(le("input",{id:"url","onUpdate:modelValue":t[0]||(t[0]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off",required:""},null,512),[[Pr,n.modelValue.url]])],2),i.errors.includes("url")?(_e(),Le("ul",pJ,[le("li",null,Xe(e.t("vizy","URL cannot be blank.")),1)])):Nt("",!0)],2),le("div",gJ,[le("div",mJ,[le("label",vJ,Xe(e.t("vizy","Text")),1)]),le("div",yJ,[On(le("input",{id:"text","onUpdate:modelValue":t[1]||(t[1]=l=>n.modelValue.text=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Pr,n.modelValue.text]])])]),le("div",bJ,[le("div",_J,[On(le("input",{id:i.targetId,"onUpdate:modelValue":t[2]||(t[2]=l=>o.newWindow=l),type:"checkbox",class:"checkbox"},null,8,wJ),[[sd,o.newWindow]]),le("label",{for:i.targetId},Xe(e.t("vizy","Open link in new tab")),9,xJ)])])]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}var t6=hn(fJ,[["render",kJ]]);const CJ={name:"LinkMenuBubble",components:{LinkMenuModal:t6},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{url:null,text:null,target:null}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.on("vui:link-clicked",this.renderBubble)})}}},methods:{renderBubble(){const{doc:e,selection:t,schema:n}=this.editor.view.state,r=QO(e.resolve(t.anchor),n.marks.link);if(r){const i=this.editor.view.docView.domFromPos(r.from).node;if(i){this.$el.style.display="block";const o=this.editor.getAttributes("link");this.model.text=i.textContent,this.model.url=o.href,this.model.target=o.target,this.tippy=si(i.parentNode,{content:this.$el,showOnCreate:!0,trigger:"manual",allowHTML:!0,arrow:!0,interactive:!0,placement:"top",theme:"vui-menu-bubble",hideOnClick:!0,zIndex:1e3,appendTo:()=>document.body})}}},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},truncate(e,t){return e&&e.length>t?`${e.substr(0,t-1)}&hellip;`:e},edit(){this.showEditModal=!0,this.destroyBubble(),this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},unlink(){this.editor.chain().focus().unsetLink().run(),this.destroyBubble()}}},SJ={class:"vui-link-menu-bubble",style:{display:"none"}},TJ=["href","innerHTML"];function EJ(e,t,n,r,i,o){const s=At("link-menu-modal");return _e(),Le("div",SJ,[le("a",{href:i.model.url,target:"_blank",innerHTML:o.truncate(i.model.url,30)},null,8,TJ),le("a",{href:"#",onClick:t[0]||(t[0]=Dt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Xe(e.t("vizy","Edit")),1),le("a",{href:"#",onClick:t[1]||(t[1]=Dt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Xe(e.t("vizy","Unlink")),1),st(s,{modelValue:i.model,"onUpdate:modelValue":t[2]||(t[2]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Link",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}var AJ=hn(CJ,[["render",EJ]]);const DJ={name:"MenuBarItem",components:{SvgIcon:t_,LinkMenuModal:t6,LinkMenuBubble:AJ},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},title:{type:String,default:null},isActive:{type:Function,default:()=>{}}},data(){return{tippy:null,showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive()},linkOptions(){return this.field.settings.linkOptions}},created(){this.resetModel()},mounted(){this.$nextTick(()=>{const e=this.$el.querySelector(".vui-toolbar-dropdown-link"),t=this.$el;e&&t&&(e.style.display="block",this.tippy=si(t,{content:e,trigger:"click",allowHTML:!0,arrow:!1,interactive:!0,placement:"bottom-start",theme:"light-border toolbar-dropdown",zIndex:1e3,hideOnClick:!0,offset:[0,1]}))})},methods:{resetModel(){this.model={url:null,text:null,target:null}},openNewModal(){this.tippy.hide(),this.resetModel();const e=this.getSelectedText();e&&(this.model.text=e),this.showEditModal=!0},openEditModal(){this.tippy.hide();const{from:e,to:t}=this.editor.view.state.selection,n=this.editor.view.docView.domFromPos(e).node,r=this.editor.getAttributes("link");this.model.text=n.textContent,this.model.url=r.href,this.model.target=r.target,this.showEditModal=!0},closeModal(){this.showEditModal=!1},openElementModal(e){this.tippy.hide(),this.resetModel(),Craft.createElementSelectorModal(e.elementType,{storageKey:`VizyInput.LinkTo.${e.elementType}`,sources:e.sources,criteria:e.criteria,defaultSiteId:this.elementSiteId,autoFocusSearchBox:!1,onSelect:$.proxy(t=>{if(t.length){const[n]=t;this.model.url=`${n.url}#${e.refHandle}:${n.id}@${n.siteId}`,this.model.text=this.getSelectedText()||n.label,this.tippy.hide(),this.showEditModal=!0}},this),closeOtherModals:!1})},getSelectedText(){const{from:e,to:t}=this.editor.state.selection,n=this.editor.state.doc.textBetween(e,t," ");return n||!1},unlinkAction(){this.tippy.hide(),this.editor.chain().focus().unsetLink().run()},onMouseDown(e){e.preventDefault()}}},MJ={class:"vui-toolbar-dropdown-container vui-toolbar-dropdown-link",style:{display:"none"}},OJ={key:0},NJ=["onClick"],LJ={key:1};function PJ(e,t,n,r,i,o){const s=At("svg-icon"),l=At("link-menu-bubble"),c=At("link-menu-modal"),h=Sg("tooltip");return _e(),Le("div",null,[On((_e(),Le("button",{class:It(["btn vui-toolbar-btn",{active:o.active}]),onClick:t[0]||(t[0]=Dt(()=>{},["prevent"])),onMousedown:t[1]||(t[1]=(...p)=>o.onMouseDown&&o.onMouseDown(...p))},[st(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[h,{content:n.title,theme:"vui-tooltip"}]]),le("div",MJ,[o.active?(_e(),Le("div",LJ,[le("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-link",onClick:t[3]||(t[3]=Dt((...p)=>o.openEditModal&&o.openEditModal(...p),["prevent"]))},Xe(e.t("vizy","Edit Link")),1)])):(_e(),Le("div",OJ,[(_e(!0),Le(St,null,Tn(o.linkOptions,(p,m)=>(_e(),Le("button",{key:m,class:It(["vui-toolbar-dropdown","vui-toolbar-dropdown-item-link-"+p.refHandle]),onClick:Dt(v=>o.openElementModal(p),["prevent"])},Xe(p.optionTitle),11,NJ))),128)),le("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-link",onClick:t[2]||(t[2]=Dt((...p)=>o.openNewModal&&o.openNewModal(...p),["prevent"]))},Xe(e.t("vizy","Insert Link")),1)])),le("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-unlink",onClick:t[4]||(t[4]=Dt((...p)=>o.unlinkAction&&o.unlinkAction(...p),["prevent"]))},Xe(e.t("vizy","Unlink")),1)]),st(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),st(c,{modelValue:i.model,"onUpdate:modelValue":t[5]||(t[5]=p=>i.model=p),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Link",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}var IJ=hn(DJ,[["render",PJ]]);const FJ={name:"ImageMenuModal",components:{MenuBarModal:e6},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{id:null,src:null,alt:null,title:null,url:null,target:null,transform:null},errors:[]}},computed:{elementSiteId(){return this.field.settings.elementSiteId},transforms(){return this.field.settings.transforms}},watch:{show(e){this.proxyShow=e},proxyShow(e){e===!1&&this.$emit("close")},proxyValue(e){this.$emit("update:modelValue",e)}},methods:{_buildAssetUrl:(e,t,n)=>`${t}#asset:${e}:${n?`transform:${n}`:"url"}`,_removeTransformFromUrl:e=>e.replace(/(.*)(_[a-z0-9+].*\/)(.*)/,"$1$3"),_getTransformUrl(e,t,n){const r={assetId:e,handle:t};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{n(i.data.url)}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})},cancelModal(){this.proxyShow=!1},confirmModal(){this.errors=[];const e=this._removeTransformFromUrl(this.modelValue.src.split("#")[0]);this.modelValue.target=this.modelValue.target?"_blank":"",this.modelValue.transform?this._getTransformUrl(this.modelValue.id,this.modelValue.transform,t=>{this.modelValue.src=this._buildAssetUrl(this.modelValue.id,t,this.modelValue.transform),this.editor.chain().focus().setImage(this.modelValue).run()}):(this.modelValue.src=e,this.editor.chain().focus().setImage(this.modelValue).run()),this.proxyShow=!1}}},RJ={class:"vizy-modal-image-preview"},zJ=["src"],BJ={class:"vizy-modal-image-fields"},$J={id:"alt-field",class:"field"},HJ={class:"heading"},jJ={id:"alt-label",for:"alt"},VJ={class:"input ltr"},WJ={id:"title-field",class:"field"},UJ={class:"heading"},KJ={id:"title-label",for:"title"},qJ={class:"input ltr"},GJ={id:"url-field",class:"field"},YJ={class:"heading"},JJ={id:"url-label",for:"url"},XJ={class:"input ltr"},ZJ={id:"target-field",class:"checkboxfield field"},QJ={class:"input ltr"},eX=["id"],tX=["for"],nX={id:"transform-field",class:"field first"},rX={class:"heading"},iX={id:"transform-label",for:"transform"},oX={class:"input ltr"},sX={class:"select"},aX={value:""},lX=["value"];function uX(e,t,n,r,i,o){const s=At("menu-bar-modal");return _e(),Ht(s,{modelValue:i.proxyShow,"onUpdate:modelValue":t[5]||(t[5]=l=>i.proxyShow=l),class:"vui-modal-image-edit",attach:"body","esc-to-close":!0,"focus-trap":!0,"confirm-button":e.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:on(()=>[Qo(Xe(e.t("vizy",e.$attrs["modal-title"])),1)]),default:on(()=>[le("div",RJ,[le("img",{src:n.modelValue.src},null,8,zJ)]),le("div",BJ,[le("div",$J,[le("div",HJ,[le("label",jJ,Xe(e.t("vizy","Alt Text")),1)]),le("div",VJ,[On(le("input",{id:"alt","onUpdate:modelValue":t[0]||(t[0]=l=>n.modelValue.alt=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Pr,n.modelValue.alt]])])]),le("div",WJ,[le("div",UJ,[le("label",KJ,Xe(e.t("vizy","Title")),1)]),le("div",qJ,[On(le("input",{id:"title","onUpdate:modelValue":t[1]||(t[1]=l=>n.modelValue.title=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Pr,n.modelValue.title]])])]),le("div",GJ,[le("div",YJ,[le("label",JJ,Xe(e.t("vizy","URL")),1)]),le("div",XJ,[On(le("input",{id:"url","onUpdate:modelValue":t[2]||(t[2]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Pr,n.modelValue.url]])])]),le("div",ZJ,[le("div",QJ,[On(le("input",{id:i.targetId,"onUpdate:modelValue":t[3]||(t[3]=l=>n.modelValue.target=l),type:"checkbox",class:"checkbox"},null,8,eX),[[sd,n.modelValue.target]]),le("label",{for:i.targetId},Xe(e.t("vizy","Open link in new tab")),9,tX)])]),le("div",nX,[le("div",rX,[le("label",iX,Xe(e.t("vizy","Transform")),1)]),le("div",oX,[le("div",sX,[On(le("select",{id:"transform","onUpdate:modelValue":t[4]||(t[4]=l=>n.modelValue.transform=l)},[le("option",aX,Xe(e.t("vizy","No Transform")),1),(_e(!0),Le(St,null,Tn(o.transforms,(l,c)=>(_e(),Le("option",{key:c,value:l.handle},Xe(l.name),9,lX))),128))],512),[[bb,n.modelValue.transform]])])])])])]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}var n6=hn(FJ,[["render",uX]]);const cX=(e,t=!0)=>{if(!e)throw new Error('Invalid "node" parameter');const n=[];return e.descendants((r,i)=>{if(n.push({node:r,pos:i}),!t)return!1}),n},fX=(e,t,n)=>{if(e){if(!t)throw new Error('Invalid "predicate" parameter')}else throw new Error('Invalid "node" parameter');return cX(e,n).filter(r=>t(r.node))},dX=(e,t,n)=>fX(e,r=>r.type===t,n);var hX={name:"followCursor",defaultValue:!1,fn(e){const{reference:t}=e;return{onMount(){const n=e.props.mouseEvent,r=n.target?t.contains(n.target):!0,{clientX:i,clientY:o}=n,s=t.getBoundingClientRect(),l=i-s.left,c=o-s.top;(r||!e.props.interactive)&&e.setProps({getReferenceClientRect(){const h=t.getBoundingClientRect(),p=h.left+l,m=h.top+c;return{width:0,height:0,top:m,right:p,bottom:m,left:p}}})}}}};const pX={name:"ImageMenuBubble",components:{ImageMenuModal:n6},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{id:null,src:null,alt:null,title:null,url:null,target:null,transform:null}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.on("vui:image-clicked",this.renderBubble)})}}},methods:{renderBubble(e){const{view:t}=this.editor,n=this.editor.getAttributes("image");!S9(n)||(this.model=n,this.$el.style.display="block",this.destroyBubble(),this.tippy=si(t.dom,{content:this.$el,trigger:"manual",showOnCreate:!0,allowHTML:!0,arrow:!0,interactive:!0,placement:"top",followCursor:"initial",plugins:[hX],theme:"vui-menu-bubble",mouseEvent:e,zIndex:1e3,appendTo:()=>document.body}))},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},edit(){this.showEditModal=!0,this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},imageEditor(){if(this.model.id){const e={allowSavingAsNew:!1,onSave:this.reloadImage.bind(this),allowDegreeFractions:Craft.isImagick};new Craft.AssetImageEditor(this.model.id,e),this.destroyBubble()}},reloadImage(){dX(this.editor.state.doc,this.editor.schema.nodes.image).forEach(t=>{if(!t.node.attrs.src)return;const n=t.node.attrs.src.match(/(.*)#asset:(\d+)(:transform:(.*))?/i);if(n&&n[2]==this.model.id)if(n[4]){const r={assetId:n[2],handle:n[4]};Craft.sendActionRequest("POST","assets/generate-transform",{params:r}).then(i=>{const o={src:`${i.data.url}?${new Date().getTime()}#asset:${n[2]}:transform:${n[4]}`};this.editor.view.dispatch(this.editor.state.tr.setNodeMarkup(t.pos,null,Ne(Ne({},t.node.attrs),o)))}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})}else{const r={src:`${n[1]}?${new Date().getTime()}#asset:${n[2]}`};this.editor.view.dispatch(this.editor.state.tr.setNodeMarkup(t.pos,null,Ne(Ne({},t.node.attrs),r)))}})},unlink(){this.editor.chain().focus().deleteSelection().run(),this.destroyBubble()}}},gX={class:"vui-image-menu-bubble",style:{display:"none"}};function mX(e,t,n,r,i,o){const s=At("image-menu-modal");return _e(),Le("div",gX,[le("a",{href:"#",onClick:t[0]||(t[0]=Dt((...l)=>o.imageEditor&&o.imageEditor(...l),["prevent"]))},Xe(e.t("vizy","Image Editor")),1),le("a",{href:"#",onClick:t[1]||(t[1]=Dt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Xe(e.t("vizy","Edit")),1),le("a",{href:"#",onClick:t[2]||(t[2]=Dt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Xe(e.t("vizy","Delete")),1),st(s,{modelValue:i.model,"onUpdate:modelValue":t[3]||(t[3]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Image",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}var vX=hn(pX,[["render",mX]]);const yX={name:"ImageMenuBarItem",components:{SvgIcon:t_,ImageMenuBubble:vX,ImageMenuModal:n6},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}}},data(){return{showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive()},volumes(){return this.field.settings.volumes},transforms(){return this.field.settings.transforms},elementSiteId(){return this.field.settings.elementSiteId},defaultTransform(){return this.field.settings.defaultTransform},allowAllUploaders(){return this.field.settings.allowAllUploaders}},created(){this.resetModel()},methods:{_buildAssetUrl:(e,t,n)=>`${t}#asset:${e}:${n?`transform:${n}`:"url"}`,_isTransformUrl:e=>/(.*)(_[a-z0-9+].*\/)(.*)/.test(e),_getTransformUrl(e,t,n){const r={assetId:e,handle:t};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{n(i.data.url)}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})},runAction(){const e={siteId:this.elementSiteId,kind:"image"};this.allowAllUploaders&&(e.uploaderId=null),this.assetSelectionModal=Craft.createElementSelectorModal("craft\\elements\\Asset",{storageKey:"VizyInput.ChooseImage",multiSelect:!0,sources:this.volumes,criteria:e,onSelect:function(t,n){if(t.length){const r={};t.length>1;const i=function(o,s){const l=o.pop(),c=this._isTransformUrl(l.url);c||this.defaultTransform.length==0?(r[`asset${l.id}`]={id:l.id,src:this._buildAssetUrl(l.id,l.url,c?n:this.defaultTransform),alt:l.label,title:l.label,transform:c?n:this.defaultTransform},o.length?i(o,s):s()):this._getTransformUrl(l.id,this.defaultTransform,h=>{r[`asset${l.id}`]={id:l.id,src:this._buildAssetUrl(l.id,h,this.defaultTransform),alt:l.label,title:l.label,transform:this.defaultTransform},o.length?i(o,s):s()})}.bind(this);i(t,()=>{Object.keys(r).forEach(o=>{this.model=Ne(Ne({},this.model),r[o]),this.showEditModal=!0})})}}.bind(this),transforms:this.transforms,closeOtherModals:!1})},resetModel(){this.model={id:null,src:null,alt:null,title:null,url:null,target:null,transform:this.defaultTransform}},closeModal(){this.showEditModal=!1},onMouseDown(e){e.preventDefault()}}};function bX(e,t,n,r,i,o){const s=At("svg-icon"),l=At("image-menu-bubble"),c=At("image-menu-modal"),h=Sg("tooltip");return _e(),Le("div",null,[On((_e(),Le("button",{class:It(["btn vui-toolbar-btn",{active:o.active}]),onClick:t[0]||(t[0]=Dt((...p)=>o.runAction&&o.runAction(...p),["prevent"])),onMousedown:t[1]||(t[1]=(...p)=>o.onMouseDown&&o.onMouseDown(...p))},[st(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[h,{content:n.title,theme:"vui-tooltip"}]]),st(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),st(c,{modelValue:i.model,"onUpdate:modelValue":t[2]||(t[2]=p=>i.model=p),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Image",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}var _X=hn(yX,[["render",bX]]);const wX={components:{MenuBarItem:rJ,LinkMenuBarItem:IJ,ImageMenuBarItem:_X},props:{field:{type:Object,default:null},editor:{type:Object,default:null},buttons:{type:Array,default:()=>[]}},data(){return{allButtons:[{name:"bold",svg:"bold",title:Craft.t("vizy","Bold"),action:()=>this.editor.chain().focus().toggleBold().run(),isActive:()=>this.editor.isActive("bold")},{name:"italic",svg:"italic",title:Craft.t("vizy","Italic"),action:()=>this.editor.chain().focus().toggleItalic().run(),isActive:()=>this.editor.isActive("italic")},{name:"strikethrough",svg:"strikethrough",title:Craft.t("vizy","Strike"),action:()=>this.editor.chain().focus().toggleStrike().run(),isActive:()=>this.editor.isActive("strike")},{name:"subscript",svg:"subscript",title:Craft.t("vizy","Subscript"),action:()=>this.editor.chain().focus().toggleSubscript().run(),isActive:()=>this.editor.isActive("subscript")},{name:"superscript",svg:"superscript",title:Craft.t("vizy","Superscript"),action:()=>this.editor.chain().focus().toggleSuperscript().run(),isActive:()=>this.editor.isActive("superscript")},{name:"underline",svg:"underline",title:Craft.t("vizy","Underline"),action:()=>this.editor.chain().focus().toggleUnderline().run(),isActive:()=>this.editor.isActive("underline")},{name:"code",svg:"brackets-curly",title:Craft.t("vizy","Inline Code"),action:()=>this.editor.chain().focus().toggleCode().run(),isActive:()=>this.editor.isActive("code")},{name:"highlight",icon:"highlighter",title:Craft.t("vizy","Highlight"),action:()=>this.editor.chain().focus().toggleHighlight().run(),isActive:()=>this.editor.isActive("highlight")},{name:"paragraph",icon:"paragraph",title:Craft.t("vizy","Paragraph"),action:()=>this.editor.chain().focus().setParagraph().run()},{name:"unordered-list",svg:"list-ul",title:Craft.t("vizy","Bullet List"),action:()=>this.editor.chain().focus().toggleBulletList().run(),isActive:()=>this.editor.isActive("bulletList")},{name:"ordered-list",svg:"list-ol",title:Craft.t("vizy","Ordered List"),action:()=>this.editor.chain().focus().toggleOrderedList().run(),isActive:()=>this.editor.isActive("orderedList")},{name:"code-block",svg:"code",title:Craft.t("vizy","Code Block"),action:()=>this.editor.chain().focus().toggleCodeBlock().run(),isActive:()=>this.editor.isActive("codeBlock")},{name:"quote",icon:"quote-right",title:Craft.t("vizy","Blockquote"),action:()=>this.editor.chain().focus().toggleBlockquote().run(),isActive:()=>this.editor.isActive("blockquote")},{name:"hr",svg:"horizontal-rule",title:Craft.t("vizy","Horizontal Rule"),action:()=>this.editor.chain().focus().setHorizontalRule().run()},{name:"line-break",svg:"page-break",title:Craft.t("vizy","Line Break"),action:()=>this.editor.chain().focus().setHardBreak().run()},{name:"clear-format",svg:"remove-format",title:Craft.t("vizy","Clear Format"),action:()=>this.editor.chain().focus().clearNodes().unsetAllMarks().run()},{name:"undo",svg:"undo",title:Craft.t("vizy","Undo"),action:()=>this.editor.chain().focus().undo().run()},{name:"redo",svg:"redo",title:Craft.t("vizy","Redo"),action:()=>this.editor.chain().focus().redo().run()},{name:"align-left",icon:"align-left",title:Craft.t("vizy","Align Left"),action:()=>this.editor.chain().focus().setTextAlign("left").run()},{name:"align-center",icon:"align-center",title:Craft.t("vizy","Align Center"),action:()=>this.editor.chain().focus().setTextAlign("center").run()},{name:"align-right",icon:"align-right",title:Craft.t("vizy","Align Right"),action:()=>this.editor.chain().focus().setTextAlign("right").run()},{name:"align-justify",icon:"align-justify",title:Craft.t("vizy","Align Justify"),action:()=>this.editor.chain().focus().setTextAlign("justify").run()},{name:"formatting",icon:"paragraph",title:Craft.t("vizy","Formatting"),options:[{name:"paragraph",title:Craft.t("vizy","Paragraph")},{name:"code-block",title:Craft.t("vizy","Code Block"),action:()=>this.editor.chain().focus().toggleCodeBlock().run()},{name:"blockquote",title:Craft.t("vizy","Blockquote"),action:()=>this.editor.chain().focus().toggleBlockquote().run()},{name:"h1",title:Craft.t("vizy","Heading 1"),action:()=>this.editor.chain().focus().toggleHeading({level:1}).run()},{name:"h2",title:Craft.t("vizy","Heading 2"),action:()=>this.editor.chain().focus().toggleHeading({level:2}).run()},{name:"h3",title:Craft.t("vizy","Heading 3"),action:()=>this.editor.chain().focus().toggleHeading({level:3}).run()},{name:"h4",title:Craft.t("vizy","Heading 4"),action:()=>this.editor.chain().focus().toggleHeading({level:4}).run()},{name:"h5",title:Craft.t("vizy","Heading 5"),action:()=>this.editor.chain().focus().toggleHeading({level:5}).run()},{name:"h6",title:Craft.t("vizy","Heading 6"),action:()=>this.editor.chain().focus().toggleHeading({level:6}).run()}]},{name:"link",svg:"link",title:Craft.t("vizy","Link"),component:"LinkMenuBarItem",isActive:()=>this.editor.isActive("link")},{name:"image",icon:"image",title:Craft.t("vizy","Image"),component:"ImageMenuBarItem",isActive:()=>this.editor.isActive("image")},{name:"html",svg:"file-code",title:Craft.t("vizy","HTML"),action:()=>this.editor.emit("vui:code-editor-toggle")}]}},computed:{availableButtons(){const e=[];return this.buttons.forEach(t=>{const n=this.allButtons.find(r=>r.name===t);n&&(n.name==="formatting"&&(n.options=this.getEnabledOptions(n,this.field.getFormattingOptions())),e.push(n))}),e}},methods:{getEnabledOptions(e,t){const n=[];return t.forEach(r=>{const i=e.options.find(o=>o.name===r);i&&n.push(i)}),n}}},xX={class:"vui-editor-toolbar"};function kX(e,t,n,r,i,o){return _e(),Le("div",xX,[(_e(!0),Le(St,null,Tn(o.availableButtons,(s,l)=>(_e(),Ht(Ws(s.component||"MenuBarItem"),yi({key:l},s,{editor:n.editor,field:n.field}),null,16,["editor","field"]))),128))])}var CX=hn(wX,[["render",kX]]);const SX=function(e){let t=e.replace("/<(.*?)>/g","");t=t.replace(/['"[]\(\){}:]/g,""),t=t.toLowerCase(),t=Craft.asciiString(t);const n=Craft.filterArray(t.split(/[^a-z0-9]+/));t="";for(let r=0;r<n.length;r++)r===0?t+=n[r]:t+=n[r].charAt(0).toUpperCase()+n[r].substr(1);return t},r6=function(e,t,n){let r=t;return n&&(r=t+n),e.includes(r)?r6(e,t,n+1):r},By=function(e=""){return e+Craft.randomString(10)};class TX{constructor({options:t,editorView:n}){this.options=Ne({element:null,onUpdate:()=>!1},t),this.preventHide=!1,this.editorView=n,this.isActive=!1,this.top=0,this.options.element.addEventListener("mousedown",this.mousedownHandler.bind(this),{capture:!0}),this.options.editor.on("focus",this.focusHandler.bind(this)),this.options.editor.on("blur",this.blurHandler.bind(this)),this.options.editor.on("resize",this.resizeHandler.bind(this))}mousedownHandler(){this.preventHide=!0}focusHandler(){this.update(this.options.editor.view)}blurHandler(t){if(this.preventHide){this.preventHide=!1;return}this.hide(t)}resizeHandler(){this.isActive&&this.update(this.options.editor.view)}isNodeEmpty(t){return!t.toJSON().content}update(t,n){const{state:r,composing:i}=t,{doc:o,selection:s}=r,l=n&&n.doc.eq(o)&&n.selection.eq(s);if(i||l)return;const{$anchor:c,anchor:h,empty:p}=s,m=this.options.element.offsetParent,v=c.depth===1,b=c.parent.type===r.doc.type.contentMatch.defaultType,_=this.isNodeEmpty(s.$anchor.parent);if(!p||!m||!(v&&b&&_)){this.hide();return}setTimeout(()=>{const D=m.getBoundingClientRect(),T=t.coordsAtPos(h).top-D.top;this.isActive=!0,this.top=T,this.sendUpdate()},10)}sendUpdate(){this.options.onUpdate({isActive:this.isActive,top:this.top})}hide(t){t&&t.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(t.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler),this.options.editor.off("resize",this.resizeHandler)}}function EX(e){return new bn({key:new tr("floatingMenu"),view(t){return new TX({editorView:t,options:e})}})}const AX={props:{editor:{type:Object,default:null}},emits:["show","hide"],data(){return{menu:{isActive:!1,left:0,bottom:0}}},computed:{variables(){return{focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getAttributes.bind(this.editor),getNodeAttrs:this.editor.getAttributes.bind(this.editor),menu:this.menu}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.registerPlugin(EX({editor:e,element:this.$el,onUpdate:t=>{t.isActive&&this.menu.isActive===!1?this.$emit("show",t):!t.isActive&&this.menu.isActive===!0&&this.$emit("hide",t),this.menu=t}}))})}}},beforeUnmount(){},render(){return this.editor?Vn("div",null,this.$slots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getAttributes.bind(this.editor),getNodeAttrs:this.editor.getAttributes.bind(this.editor),menu:this.menu})):null}},DX={name:"BlockPicker",components:{FloatingMenu:AX},props:{field:{type:Object,default:null},editor:{type:Object,default:null},blockGroups:{type:Array,default:()=>[]}},data(){return{tippy:null,search:""}},computed:{filteredBlockGroups(){return this.blockGroups.reduce((e,t)=>{const n=t.blockTypes.filter(r=>r.name.toLowerCase().includes(this.search.toLowerCase()));return n.length?e.concat(Kt(Ne({},t),{blockTypes:n})):e},[])}},mounted(){const e=this.$el.querySelector("#vizy-blocks-template");e&&(e.style.display="block",this.tippy=si(this.$el.querySelector(".vui-editor-insert-btn"),{content:e,trigger:"click",allowHTML:!0,arrow:!0,interactive:!0,placement:"right",theme:"vui-block-picker light-border",maxWidth:"300px",zIndex:100,appendTo:()=>document.body,hideOnClick:!0}))},methods:{addBlock(e){const t=By("vizy-block-"),n={type:e.id},{fieldsHtml:r,footHtml:i}=e;this.field.setCachedFieldHtml(t,r),this.field.setCachedFieldJs(t,i),this.editor.chain().focus().setVizyBlock({id:t,values:n}).run(),setTimeout(()=>{this.$events.emit("vizy-blocks:addedBlock")},50),this.tippy.hide()}}},MX=le("button",{type:"button","aria-label":"Add block","aria-haspopup":"true","aria-expanded":"false",class:"vui-editor-insert-btn"},[le("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},[le("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})])],-1),OX={id:"vizy-blocks-template",style:{display:"none"}},NX={key:0},LX=le("hr",null,null,-1),PX={class:"vui-block-items-header"},IX={class:"vui-block-items"},FX=["onClick"],RX=["innerHTML"],zX={class:"vui-block-item-heading"},BX={key:1,class:"vui-block-items-none"},$X=le("hr",null,null,-1);function HX(e,t,n,r,i,o){const s=At("floating-menu");return On((_e(),Ht(s,{ref:"menu",editor:n.editor},{default:on(({menu:l})=>[le("div",{class:It(["vui-editor-insert",{"is-active":l.isActive}]),style:mi(`top: ${l.top}px`)},[MX,le("div",OX,[le("div",null,[On(le("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.search=c),type:"text",class:"text fullwidth",placeholder:"Search for blocks"},null,512),[[Pr,i.search]])]),o.filteredBlockGroups.length?(_e(),Le("div",NX,[(_e(!0),Le(St,null,Tn(o.filteredBlockGroups,(c,h)=>(_e(),Le("div",{key:h,class:"vui-block-group"},[LX,le("div",PX,Xe(c.name),1),le("div",IX,[(_e(!0),Le(St,null,Tn(c.blockTypes,(p,m)=>(_e(),Le("div",{key:m,class:"vui-block-item",onClick:v=>o.addBlock(p)},[le("div",{innerHTML:p.icon.svg},null,8,RX),le("span",zX,Xe(p.name),1)],8,FX))),128))])]))),128))])):(_e(),Le("div",BX,[$X,Qo(" "+Xe(e.t("vizy","No blocks found for \u201C{search}\u201D.",{search:i.search})),1)]))])],6)]),_:1},8,["editor"])),[[Ff,n.blockGroups.length]])}var jX=hn(DX,[["render",HX]]),VX=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},gr={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(VX,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),l=/Edge\/(\d+)/.exec(n),c=o||s||l,h=c&&(o?document.documentMode||6:+(l||s)[1]),p=!l&&/WebKit\//.test(n),m=p&&/Qt\/\d+\.\d+/.test(n),v=!l&&/Chrome\//.test(n),b=/Opera\//.test(n),_=/Apple Computer/.test(navigator.vendor),x=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),D=/PhantomJS/.test(n),E=_&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),T=/Android/.test(n),R=E||T||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),M=E||/Mac/.test(r),Y=/\bCrOS\b/.test(n),J=/win/i.test(r),Z=b&&n.match(/Version\/(\d*\.\d*)/);Z&&(Z=Number(Z[1])),Z&&Z>=15&&(b=!1,p=!0);var z=M&&(m||b&&(Z==null||Z<12.11)),B=i||c&&h>=9;function L(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var V=function(a,u){var d=a.className,f=L(u).exec(d);if(f){var g=d.slice(f.index+f[0].length);a.className=d.slice(0,f.index)+(g?f[1]+g:"")}};function ie(a){for(var u=a.childNodes.length;u>0;--u)a.removeChild(a.firstChild);return a}function W(a,u){return ie(a).appendChild(u)}function Q(a,u,d,f){var g=document.createElement(a);if(d&&(g.className=d),f&&(g.style.cssText=f),typeof u=="string")g.appendChild(document.createTextNode(u));else if(u)for(var y=0;y<u.length;++y)g.appendChild(u[y]);return g}function I(a,u,d,f){var g=Q(a,u,d,f);return g.setAttribute("role","presentation"),g}var de;document.createRange?de=function(a,u,d,f){var g=document.createRange();return g.setEnd(f||a,d),g.setStart(a,u),g}:de=function(a,u,d){var f=document.body.createTextRange();try{f.moveToElementText(a.parentNode)}catch{return f}return f.collapse(!0),f.moveEnd("character",d),f.moveStart("character",u),f};function pe(a,u){if(u.nodeType==3&&(u=u.parentNode),a.contains)return a.contains(u);do if(u.nodeType==11&&(u=u.host),u==a)return!0;while(u=u.parentNode)}function Se(){var a;try{a=document.activeElement}catch{a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function Ve(a,u){var d=a.className;L(u).test(d)||(a.className+=(d?" ":"")+u)}function tt(a,u){for(var d=a.split(" "),f=0;f<d.length;f++)d[f]&&!L(d[f]).test(u)&&(u+=" "+d[f]);return u}var yt=function(a){a.select()};E?yt=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:c&&(yt=function(a){try{a.select()}catch{}});function Mt(a){var u=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,u)}}function pt(a,u,d){u||(u={});for(var f in a)a.hasOwnProperty(f)&&(d!==!1||!u.hasOwnProperty(f))&&(u[f]=a[f]);return u}function ot(a,u,d,f,g){u==null&&(u=a.search(/[^\s\u00a0]/),u==-1&&(u=a.length));for(var y=f||0,w=g||0;;){var k=a.indexOf("	",y);if(k<0||k>=u)return w+(u-y);w+=k-y,w+=d-w%d,y=k+1}}var Ge=function(){this.id=null,this.f=null,this.time=0,this.handler=Mt(this.onTimeout,this)};Ge.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},Ge.prototype.set=function(a,u){this.f=u;var d=+new Date+a;(!this.id||d<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=d)};function Fe(a,u){for(var d=0;d<a.length;++d)if(a[d]==u)return d;return-1}var ke=50,be={toString:function(){return"CodeMirror.Pass"}},He={scroll:!1},Ke={origin:"*mouse"},je={origin:"+move"};function gt(a,u,d){for(var f=0,g=0;;){var y=a.indexOf("	",f);y==-1&&(y=a.length);var w=y-f;if(y==a.length||g+w>=u)return f+Math.min(w,u-g);if(g+=y-f,g+=d-g%d,f=y+1,g>=u)return f}}var te=[""];function re(a){for(;te.length<=a;)te.push(ce(te)+" ");return te[a]}function ce(a){return a[a.length-1]}function me(a,u){for(var d=[],f=0;f<a.length;f++)d[f]=u(a[f],f);return d}function ve(a,u,d){for(var f=0,g=d(u);f<a.length&&d(a[f])<=g;)f++;a.splice(f,0,u)}function j(){}function G(a,u){var d;return Object.create?d=Object.create(a):(j.prototype=a,d=new j),u&&pt(u,d),d}var S=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function F(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||S.test(a))}function A(a,u){return u?u.source.indexOf("\\w")>-1&&F(a)?!0:u.test(a):F(a)}function H(a){for(var u in a)if(a.hasOwnProperty(u)&&a[u])return!1;return!0}var P=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function X(a){return a.charCodeAt(0)>=768&&P.test(a)}function ae(a,u,d){for(;(d<0?u>0:u<a.length)&&X(a.charAt(u));)u+=d;return u}function fe(a,u,d){for(var f=u>d?-1:1;;){if(u==d)return u;var g=(u+d)/2,y=f<0?Math.ceil(g):Math.floor(g);if(y==u)return a(y)?u:d;a(y)?d=y:u=y+f}}function ge(a,u,d,f){if(!a)return f(u,d,"ltr",0);for(var g=!1,y=0;y<a.length;++y){var w=a[y];(w.from<d&&w.to>u||u==d&&w.to==u)&&(f(Math.max(w.from,u),Math.min(w.to,d),w.level==1?"rtl":"ltr",y),g=!0)}g||f(u,d,"ltr")}var K=null;function q(a,u,d){var f;K=null;for(var g=0;g<a.length;++g){var y=a[g];if(y.from<u&&y.to>u)return g;y.to==u&&(y.from!=y.to&&d=="before"?f=g:K=g),y.from==u&&(y.from!=y.to&&d!="before"?f=g:K=g)}return f!=null?f:K}var he=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",u="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function d(O){return O<=247?a.charAt(O):1424<=O&&O<=1524?"R":1536<=O&&O<=1785?u.charAt(O-1536):1774<=O&&O<=2220?"r":8192<=O&&O<=8203?"w":O==8204?"b":"L"}var f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,y=/[LRr]/,w=/[Lb1n]/,k=/[1n]/;function C(O,U,ee){this.level=O,this.from=U,this.to=ee}return function(O,U){var ee=U=="ltr"?"L":"R";if(O.length==0||U=="ltr"&&!f.test(O))return!1;for(var ue=O.length,se=[],ye=0;ye<ue;++ye)se.push(d(O.charCodeAt(ye)));for(var Te=0,Oe=ee;Te<ue;++Te){var Re=se[Te];Re=="m"?se[Te]=Oe:Oe=Re}for(var $e=0,ze=ee;$e<ue;++$e){var qe=se[$e];qe=="1"&&ze=="r"?se[$e]="n":y.test(qe)&&(ze=qe,qe=="r"&&(se[$e]="R"))}for(var it=1,nt=se[0];it<ue-1;++it){var bt=se[it];bt=="+"&&nt=="1"&&se[it+1]=="1"?se[it]="1":bt==","&&nt==se[it+1]&&(nt=="1"||nt=="n")&&(se[it]=nt),nt=bt}for(var Jt=0;Jt<ue;++Jt){var In=se[Jt];if(In==",")se[Jt]="N";else if(In=="%"){var an=void 0;for(an=Jt+1;an<ue&&se[an]=="%";++an);for(var Mr=Jt&&se[Jt-1]=="!"||an<ue&&se[an]=="1"?"1":"N",_r=Jt;_r<an;++_r)se[_r]=Mr;Jt=an-1}}for(var xn=0,wr=ee;xn<ue;++xn){var Hn=se[xn];wr=="L"&&Hn=="1"?se[xn]="L":y.test(Hn)&&(wr=Hn)}for(var Dn=0;Dn<ue;++Dn)if(g.test(se[Dn])){var kn=void 0;for(kn=Dn+1;kn<ue&&g.test(se[kn]);++kn);for(var cn=(Dn?se[Dn-1]:ee)=="L",xr=(kn<ue?se[kn]:ee)=="L",Ul=cn==xr?cn?"L":"R":ee,ms=Dn;ms<kn;++ms)se[ms]=Ul;Dn=kn-1}for(var Jn=[],Xi,Fn=0;Fn<ue;)if(w.test(se[Fn])){var uv=Fn;for(++Fn;Fn<ue&&w.test(se[Fn]);++Fn);Jn.push(new C(0,uv,Fn))}else{var Eo=Fn,ka=Jn.length,Ca=U=="rtl"?1:0;for(++Fn;Fn<ue&&se[Fn]!="L";++Fn);for(var or=Eo;or<Fn;)if(k.test(se[or])){Eo<or&&(Jn.splice(ka,0,new C(1,Eo,or)),ka+=Ca);var Kl=or;for(++or;or<Fn&&k.test(se[or]);++or);Jn.splice(ka,0,new C(2,Kl,or)),ka+=Ca,Eo=or}else++or;Eo<Fn&&Jn.splice(ka,0,new C(1,Eo,Fn))}return U=="ltr"&&(Jn[0].level==1&&(Xi=O.match(/^\s+/))&&(Jn[0].from=Xi[0].length,Jn.unshift(new C(0,0,Xi[0].length))),ce(Jn).level==1&&(Xi=O.match(/\s+$/))&&(ce(Jn).to-=Xi[0].length,Jn.push(new C(0,ue-Xi[0].length,ue)))),U=="rtl"?Jn.reverse():Jn}}();function Me(a,u){var d=a.order;return d==null&&(d=a.order=he(a.text,u)),d}var rt=[],oe=function(a,u,d){if(a.addEventListener)a.addEventListener(u,d,!1);else if(a.attachEvent)a.attachEvent("on"+u,d);else{var f=a._handlers||(a._handlers={});f[u]=(f[u]||rt).concat(d)}};function Pe(a,u){return a._handlers&&a._handlers[u]||rt}function Ae(a,u,d){if(a.removeEventListener)a.removeEventListener(u,d,!1);else if(a.detachEvent)a.detachEvent("on"+u,d);else{var f=a._handlers,g=f&&f[u];if(g){var y=Fe(g,d);y>-1&&(f[u]=g.slice(0,y).concat(g.slice(y+1)))}}}function we(a,u){var d=Pe(a,u);if(!!d.length)for(var f=Array.prototype.slice.call(arguments,2),g=0;g<d.length;++g)d[g].apply(null,f)}function We(a,u,d){return typeof u=="string"&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}}),we(a,d||u.type,a,u),tn(u)||u.codemirrorIgnore}function qt(a){var u=a._handlers&&a._handlers.cursorActivity;if(!!u)for(var d=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),f=0;f<u.length;++f)Fe(d,u[f])==-1&&d.push(u[f])}function dt(a,u){return Pe(a,u).length>0}function Ft(a){a.prototype.on=function(u,d){oe(this,u,d)},a.prototype.off=function(u,d){Ae(this,u,d)}}function Rt(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Qt(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function tn(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function _n(a){Rt(a),Qt(a)}function wn(a){return a.target||a.srcElement}function vr(a){var u=a.which;return u==null&&(a.button&1?u=1:a.button&2?u=3:a.button&4&&(u=2)),M&&a.ctrlKey&&u==1&&(u=3),u}var $r=function(){if(c&&h<9)return!1;var a=Q("div");return"draggable"in a||"dragDrop"in a}(),pn;function ha(a){if(pn==null){var u=Q("span","\u200B");W(a,Q("span",[u,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(pn=u.offsetWidth<=1&&u.offsetHeight>2&&!(c&&h<8))}var d=pn?Q("span","\u200B"):Q("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return d.setAttribute("cm-text",""),d}var Zu;function Ui(a){if(Zu!=null)return Zu;var u=W(a,document.createTextNode("A\u062EA")),d=de(u,0,1).getBoundingClientRect(),f=de(u,1,2).getBoundingClientRect();return ie(a),!d||d.left==d.right?!1:Zu=f.right-d.right<3}var Qu=`

b`.split(/\n/).length!=3?function(a){for(var u=0,d=[],f=a.length;u<=f;){var g=a.indexOf(`
`,u);g==-1&&(g=a.length);var y=a.slice(u,a.charAt(g-1)=="\r"?g-1:g),w=y.indexOf("\r");w!=-1?(d.push(y.slice(0,w)),u+=w+1):(d.push(y),u=g+1)}return d}:function(a){return a.split(/\r\n?|\n/)},xd=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var u;try{u=a.ownerDocument.selection.createRange()}catch{}return!u||u.parentElement()!=a?!1:u.compareEndPoints("StartToEnd",u)!=0},kd=function(){var a=Q("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),ec=null;function as(a){if(ec!=null)return ec;var u=W(a,Q("span","x")),d=u.getBoundingClientRect(),f=de(u,0,1).getBoundingClientRect();return ec=Math.abs(d.left-f.left)>1}var li={},Hr={};function Cd(a,u){arguments.length>2&&(u.dependencies=Array.prototype.slice.call(arguments,2)),li[a]=u}function wo(a,u){Hr[a]=u}function Sl(a){if(typeof a=="string"&&Hr.hasOwnProperty(a))a=Hr[a];else if(a&&typeof a.name=="string"&&Hr.hasOwnProperty(a.name)){var u=Hr[a.name];typeof u=="string"&&(u={name:u}),a=G(u,a),a.name=u.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return Sl("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return Sl("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function Tl(a,u){u=Sl(u);var d=li[u.name];if(!d)return Tl(a,"text/plain");var f=d(a,u);if(Si.hasOwnProperty(u.name)){var g=Si[u.name];for(var y in g)!g.hasOwnProperty(y)||(f.hasOwnProperty(y)&&(f["_"+y]=f[y]),f[y]=g[y])}if(f.name=u.name,u.helperType&&(f.helperType=u.helperType),u.modeProps)for(var w in u.modeProps)f[w]=u.modeProps[w];return f}var Si={};function Ti(a,u){var d=Si.hasOwnProperty(a)?Si[a]:Si[a]={};pt(u,d)}function jr(a,u){if(u===!0)return u;if(a.copyState)return a.copyState(u);var d={};for(var f in u){var g=u[f];g instanceof Array&&(g=g.concat([])),d[f]=g}return d}function tc(a,u){for(var d;a.innerMode&&(d=a.innerMode(u),!(!d||d.mode==a));)u=d.state,a=d.mode;return d||{mode:a,state:u}}function nc(a,u,d){return a.startState?a.startState(u,d):!0}var un=function(a,u,d){this.pos=this.start=0,this.string=a,this.tabSize=u||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=d};un.prototype.eol=function(){return this.pos>=this.string.length},un.prototype.sol=function(){return this.pos==this.lineStart},un.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},un.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},un.prototype.eat=function(a){var u=this.string.charAt(this.pos),d;if(typeof a=="string"?d=u==a:d=u&&(a.test?a.test(u):a(u)),d)return++this.pos,u},un.prototype.eatWhile=function(a){for(var u=this.pos;this.eat(a););return this.pos>u},un.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},un.prototype.skipToEnd=function(){this.pos=this.string.length},un.prototype.skipTo=function(a){var u=this.string.indexOf(a,this.pos);if(u>-1)return this.pos=u,!0},un.prototype.backUp=function(a){this.pos-=a},un.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ot(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ot(this.string,this.lineStart,this.tabSize):0)},un.prototype.indentation=function(){return ot(this.string,null,this.tabSize)-(this.lineStart?ot(this.string,this.lineStart,this.tabSize):0)},un.prototype.match=function(a,u,d){if(typeof a=="string"){var f=function(w){return d?w.toLowerCase():w},g=this.string.substr(this.pos,a.length);if(f(g)==f(a))return u!==!1&&(this.pos+=a.length),!0}else{var y=this.string.slice(this.pos).match(a);return y&&y.index>0?null:(y&&u!==!1&&(this.pos+=y[0].length),y)}},un.prototype.current=function(){return this.string.slice(this.start,this.pos)},un.prototype.hideFirstChars=function(a,u){this.lineStart+=a;try{return u()}finally{this.lineStart-=a}},un.prototype.lookAhead=function(a){var u=this.lineOracle;return u&&u.lookAhead(a)},un.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function Je(a,u){if(u-=a.first,u<0||u>=a.size)throw new Error("There is no line "+(u+a.first)+" in the document.");for(var d=a;!d.lines;)for(var f=0;;++f){var g=d.children[f],y=g.chunkSize();if(u<y){d=g;break}u-=y}return d.lines[u]}function Ki(a,u,d){var f=[],g=u.line;return a.iter(u.line,d.line+1,function(y){var w=y.text;g==d.line&&(w=w.slice(0,d.ch)),g==u.line&&(w=w.slice(u.ch)),f.push(w),++g}),f}function rc(a,u,d){var f=[];return a.iter(u,d,function(g){f.push(g.text)}),f}function Ar(a,u){var d=u-a.height;if(d)for(var f=a;f;f=f.parent)f.height+=d}function zt(a){if(a.parent==null)return null;for(var u=a.parent,d=Fe(u.lines,a),f=u.parent;f;u=f,f=f.parent)for(var g=0;f.children[g]!=u;++g)d+=f.children[g].chunkSize();return d+u.first}function qi(a,u){var d=a.first;e:do{for(var f=0;f<a.children.length;++f){var g=a.children[f],y=g.height;if(u<y){a=g;continue e}u-=y,d+=g.chunkSize()}return d}while(!a.lines);for(var w=0;w<a.lines.length;++w){var k=a.lines[w],C=k.height;if(u<C)break;u-=C}return d+w}function pa(a,u){return u>=a.first&&u<a.first+a.size}function ic(a,u){return String(a.lineNumberFormatter(u+a.firstLineNumber))}function Ee(a,u,d){if(d===void 0&&(d=null),!(this instanceof Ee))return new Ee(a,u,d);this.line=a,this.ch=u,this.sticky=d}function N(a,u){return a.line-u.line||a.ch-u.ch}function ne(a,u){return a.sticky==u.sticky&&N(a,u)==0}function xe(a){return Ee(a.line,a.ch)}function De(a,u){return N(a,u)<0?u:a}function ct(a,u){return N(a,u)<0?a:u}function Ot(a,u){return Math.max(a.first,Math.min(u,a.first+a.size-1))}function Ue(a,u){if(u.line<a.first)return Ee(a.first,0);var d=a.first+a.size-1;return u.line>d?Ee(d,Je(a,d).text.length):Gn(u,Je(a,u.line).text.length)}function Gn(a,u){var d=a.ch;return d==null||d>u?Ee(a.line,u):d<0?Ee(a.line,0):a}function Vr(a,u){for(var d=[],f=0;f<u.length;f++)d[f]=Ue(a,u[f]);return d}var El=function(a,u){this.state=a,this.lookAhead=u},Gi=function(a,u,d,f){this.state=u,this.doc=a,this.line=d,this.maxLookAhead=f||0,this.baseTokens=null,this.baseTokenPos=1};Gi.prototype.lookAhead=function(a){var u=this.doc.getLine(this.line+a);return u!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),u},Gi.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var u=this.baseTokens[this.baseTokenPos+1];return{type:u&&u.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Gi.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Gi.fromSaved=function(a,u,d){return u instanceof El?new Gi(a,jr(a.mode,u.state),d,u.lookAhead):new Gi(a,jr(a.mode,u),d)},Gi.prototype.save=function(a){var u=a!==!1?jr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new El(u,this.maxLookAhead):u};function m_(a,u,d,f){var g=[a.state.modeGen],y={};x_(a,u.text,a.doc.mode,d,function(O,U){return g.push(O,U)},y,f);for(var w=d.state,k=function(O){d.baseTokens=g;var U=a.state.overlays[O],ee=1,ue=0;d.state=!0,x_(a,u.text,U.mode,d,function(se,ye){for(var Te=ee;ue<se;){var Oe=g[ee];Oe>se&&g.splice(ee,1,se,g[ee+1],Oe),ee+=2,ue=Math.min(se,Oe)}if(!!ye)if(U.opaque)g.splice(Te,ee-Te,se,"overlay "+ye),ee=Te+2;else for(;Te<ee;Te+=2){var Re=g[Te+1];g[Te+1]=(Re?Re+" ":"")+"overlay "+ye}},y),d.state=w,d.baseTokens=null,d.baseTokenPos=1},C=0;C<a.state.overlays.length;++C)k(C);return{styles:g,classes:y.bgClass||y.textClass?y:null}}function v_(a,u,d){if(!u.styles||u.styles[0]!=a.state.modeGen){var f=oc(a,zt(u)),g=u.text.length>a.options.maxHighlightLength&&jr(a.doc.mode,f.state),y=m_(a,u,f);g&&(f.state=g),u.stateAfter=f.save(!g),u.styles=y.styles,y.classes?u.styleClasses=y.classes:u.styleClasses&&(u.styleClasses=null),d===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return u.styles}function oc(a,u,d){var f=a.doc,g=a.display;if(!f.mode.startState)return new Gi(f,!0,u);var y=I6(a,u,d),w=y>f.first&&Je(f,y-1).stateAfter,k=w?Gi.fromSaved(f,w,y):new Gi(f,nc(f.mode),y);return f.iter(y,u,function(C){bm(a,C.text,k);var O=k.line;C.stateAfter=O==u-1||O%5==0||O>=g.viewFrom&&O<g.viewTo?k.save():null,k.nextLine()}),d&&(f.modeFrontier=k.line),k}function bm(a,u,d,f){var g=a.doc.mode,y=new un(u,a.options.tabSize,d);for(y.start=y.pos=f||0,u==""&&y_(g,d.state);!y.eol();)_m(g,y,d.state),y.start=y.pos}function y_(a,u){if(a.blankLine)return a.blankLine(u);if(!!a.innerMode){var d=tc(a,u);if(d.mode.blankLine)return d.mode.blankLine(d.state)}}function _m(a,u,d,f){for(var g=0;g<10;g++){f&&(f[0]=tc(a,d).mode);var y=a.token(u,d);if(u.pos>u.start)return y}throw new Error("Mode "+a.name+" failed to advance stream.")}var b_=function(a,u,d){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=u||null,this.state=d};function __(a,u,d,f){var g=a.doc,y=g.mode,w;u=Ue(g,u);var k=Je(g,u.line),C=oc(a,u.line,d),O=new un(k.text,a.options.tabSize,C),U;for(f&&(U=[]);(f||O.pos<u.ch)&&!O.eol();)O.start=O.pos,w=_m(y,O,C.state),f&&U.push(new b_(O,w,jr(g.mode,C.state)));return f?U:new b_(O,w,C.state)}function w_(a,u){if(a)for(;;){var d=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!d)break;a=a.slice(0,d.index)+a.slice(d.index+d[0].length);var f=d[1]?"bgClass":"textClass";u[f]==null?u[f]=d[2]:new RegExp("(?:^|\\s)"+d[2]+"(?:$|\\s)").test(u[f])||(u[f]+=" "+d[2])}return a}function x_(a,u,d,f,g,y,w){var k=d.flattenSpans;k==null&&(k=a.options.flattenSpans);var C=0,O=null,U=new un(u,a.options.tabSize,f),ee,ue=a.options.addModeClass&&[null];for(u==""&&w_(y_(d,f.state),y);!U.eol();){if(U.pos>a.options.maxHighlightLength?(k=!1,w&&bm(a,u,f,U.pos),U.pos=u.length,ee=null):ee=w_(_m(d,U,f.state,ue),y),ue){var se=ue[0].name;se&&(ee="m-"+(ee?se+" "+ee:se))}if(!k||O!=ee){for(;C<U.start;)C=Math.min(U.start,C+5e3),g(C,O);O=ee}U.start=U.pos}for(;C<U.pos;){var ye=Math.min(U.pos,C+5e3);g(ye,O),C=ye}}function I6(a,u,d){for(var f,g,y=a.doc,w=d?-1:u-(a.doc.mode.innerMode?1e3:100),k=u;k>w;--k){if(k<=y.first)return y.first;var C=Je(y,k-1),O=C.stateAfter;if(O&&(!d||k+(O instanceof El?O.lookAhead:0)<=y.modeFrontier))return k;var U=ot(C.text,null,a.options.tabSize);(g==null||f>U)&&(g=k-1,f=U)}return g}function F6(a,u){if(a.modeFrontier=Math.min(a.modeFrontier,u),!(a.highlightFrontier<u-10)){for(var d=a.first,f=u-1;f>d;f--){var g=Je(a,f).stateAfter;if(g&&(!(g instanceof El)||f+g.lookAhead<u)){d=f+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,d)}}var k_=!1,xo=!1;function R6(){k_=!0}function z6(){xo=!0}function Sd(a,u,d){this.marker=a,this.from=u,this.to=d}function sc(a,u){if(a)for(var d=0;d<a.length;++d){var f=a[d];if(f.marker==u)return f}}function B6(a,u){for(var d,f=0;f<a.length;++f)a[f]!=u&&(d||(d=[])).push(a[f]);return d}function $6(a,u,d){var f=d&&window.WeakSet&&(d.markedSpans||(d.markedSpans=new WeakSet));f&&a.markedSpans&&f.has(a.markedSpans)?a.markedSpans.push(u):(a.markedSpans=a.markedSpans?a.markedSpans.concat([u]):[u],f&&f.add(a.markedSpans)),u.marker.attachLine(a)}function H6(a,u,d){var f;if(a)for(var g=0;g<a.length;++g){var y=a[g],w=y.marker,k=y.from==null||(w.inclusiveLeft?y.from<=u:y.from<u);if(k||y.from==u&&w.type=="bookmark"&&(!d||!y.marker.insertLeft)){var C=y.to==null||(w.inclusiveRight?y.to>=u:y.to>u);(f||(f=[])).push(new Sd(w,y.from,C?null:y.to))}}return f}function j6(a,u,d){var f;if(a)for(var g=0;g<a.length;++g){var y=a[g],w=y.marker,k=y.to==null||(w.inclusiveRight?y.to>=u:y.to>u);if(k||y.from==u&&w.type=="bookmark"&&(!d||y.marker.insertLeft)){var C=y.from==null||(w.inclusiveLeft?y.from<=u:y.from<u);(f||(f=[])).push(new Sd(w,C?null:y.from-u,y.to==null?null:y.to-u))}}return f}function wm(a,u){if(u.full)return null;var d=pa(a,u.from.line)&&Je(a,u.from.line).markedSpans,f=pa(a,u.to.line)&&Je(a,u.to.line).markedSpans;if(!d&&!f)return null;var g=u.from.ch,y=u.to.ch,w=N(u.from,u.to)==0,k=H6(d,g,w),C=j6(f,y,w),O=u.text.length==1,U=ce(u.text).length+(O?g:0);if(k)for(var ee=0;ee<k.length;++ee){var ue=k[ee];if(ue.to==null){var se=sc(C,ue.marker);se?O&&(ue.to=se.to==null?null:se.to+U):ue.to=g}}if(C)for(var ye=0;ye<C.length;++ye){var Te=C[ye];if(Te.to!=null&&(Te.to+=U),Te.from==null){var Oe=sc(k,Te.marker);Oe||(Te.from=U,O&&(k||(k=[])).push(Te))}else Te.from+=U,O&&(k||(k=[])).push(Te)}k&&(k=C_(k)),C&&C!=k&&(C=C_(C));var Re=[k];if(!O){var $e=u.text.length-2,ze;if($e>0&&k)for(var qe=0;qe<k.length;++qe)k[qe].to==null&&(ze||(ze=[])).push(new Sd(k[qe].marker,null,null));for(var it=0;it<$e;++it)Re.push(ze);Re.push(C)}return Re}function C_(a){for(var u=0;u<a.length;++u){var d=a[u];d.from!=null&&d.from==d.to&&d.marker.clearWhenEmpty!==!1&&a.splice(u--,1)}return a.length?a:null}function V6(a,u,d){var f=null;if(a.iter(u.line,d.line+1,function(se){if(se.markedSpans)for(var ye=0;ye<se.markedSpans.length;++ye){var Te=se.markedSpans[ye].marker;Te.readOnly&&(!f||Fe(f,Te)==-1)&&(f||(f=[])).push(Te)}}),!f)return null;for(var g=[{from:u,to:d}],y=0;y<f.length;++y)for(var w=f[y],k=w.find(0),C=0;C<g.length;++C){var O=g[C];if(!(N(O.to,k.from)<0||N(O.from,k.to)>0)){var U=[C,1],ee=N(O.from,k.from),ue=N(O.to,k.to);(ee<0||!w.inclusiveLeft&&!ee)&&U.push({from:O.from,to:k.from}),(ue>0||!w.inclusiveRight&&!ue)&&U.push({from:k.to,to:O.to}),g.splice.apply(g,U),C+=U.length-3}}return g}function S_(a){var u=a.markedSpans;if(!!u){for(var d=0;d<u.length;++d)u[d].marker.detachLine(a);a.markedSpans=null}}function T_(a,u){if(!!u){for(var d=0;d<u.length;++d)u[d].marker.attachLine(a);a.markedSpans=u}}function Td(a){return a.inclusiveLeft?-1:0}function Ed(a){return a.inclusiveRight?1:0}function xm(a,u){var d=a.lines.length-u.lines.length;if(d!=0)return d;var f=a.find(),g=u.find(),y=N(f.from,g.from)||Td(a)-Td(u);if(y)return-y;var w=N(f.to,g.to)||Ed(a)-Ed(u);return w||u.id-a.id}function E_(a,u){var d=xo&&a.markedSpans,f;if(d)for(var g=void 0,y=0;y<d.length;++y)g=d[y],g.marker.collapsed&&(u?g.from:g.to)==null&&(!f||xm(f,g.marker)<0)&&(f=g.marker);return f}function A_(a){return E_(a,!0)}function Ad(a){return E_(a,!1)}function W6(a,u){var d=xo&&a.markedSpans,f;if(d)for(var g=0;g<d.length;++g){var y=d[g];y.marker.collapsed&&(y.from==null||y.from<u)&&(y.to==null||y.to>u)&&(!f||xm(f,y.marker)<0)&&(f=y.marker)}return f}function D_(a,u,d,f,g){var y=Je(a,u),w=xo&&y.markedSpans;if(w)for(var k=0;k<w.length;++k){var C=w[k];if(!!C.marker.collapsed){var O=C.marker.find(0),U=N(O.from,d)||Td(C.marker)-Td(g),ee=N(O.to,f)||Ed(C.marker)-Ed(g);if(!(U>=0&&ee<=0||U<=0&&ee>=0)&&(U<=0&&(C.marker.inclusiveRight&&g.inclusiveLeft?N(O.to,d)>=0:N(O.to,d)>0)||U>=0&&(C.marker.inclusiveRight&&g.inclusiveLeft?N(O.from,f)<=0:N(O.from,f)<0)))return!0}}}function Ei(a){for(var u;u=A_(a);)a=u.find(-1,!0).line;return a}function U6(a){for(var u;u=Ad(a);)a=u.find(1,!0).line;return a}function K6(a){for(var u,d;u=Ad(a);)a=u.find(1,!0).line,(d||(d=[])).push(a);return d}function km(a,u){var d=Je(a,u),f=Ei(d);return d==f?u:zt(f)}function M_(a,u){if(u>a.lastLine())return u;var d=Je(a,u),f;if(!ls(a,d))return u;for(;f=Ad(d);)d=f.find(1,!0).line;return zt(d)+1}function ls(a,u){var d=xo&&u.markedSpans;if(d){for(var f=void 0,g=0;g<d.length;++g)if(f=d[g],!!f.marker.collapsed){if(f.from==null)return!0;if(!f.marker.widgetNode&&f.from==0&&f.marker.inclusiveLeft&&Cm(a,u,f))return!0}}}function Cm(a,u,d){if(d.to==null){var f=d.marker.find(1,!0);return Cm(a,f.line,sc(f.line.markedSpans,d.marker))}if(d.marker.inclusiveRight&&d.to==u.text.length)return!0;for(var g=void 0,y=0;y<u.markedSpans.length;++y)if(g=u.markedSpans[y],g.marker.collapsed&&!g.marker.widgetNode&&g.from==d.to&&(g.to==null||g.to!=d.from)&&(g.marker.inclusiveLeft||d.marker.inclusiveRight)&&Cm(a,u,g))return!0}function ko(a){a=Ei(a);for(var u=0,d=a.parent,f=0;f<d.lines.length;++f){var g=d.lines[f];if(g==a)break;u+=g.height}for(var y=d.parent;y;d=y,y=d.parent)for(var w=0;w<y.children.length;++w){var k=y.children[w];if(k==d)break;u+=k.height}return u}function Dd(a){if(a.height==0)return 0;for(var u=a.text.length,d,f=a;d=A_(f);){var g=d.find(0,!0);f=g.from.line,u+=g.from.ch-g.to.ch}for(f=a;d=Ad(f);){var y=d.find(0,!0);u-=f.text.length-y.from.ch,f=y.to.line,u+=f.text.length-y.to.ch}return u}function Sm(a){var u=a.display,d=a.doc;u.maxLine=Je(d,d.first),u.maxLineLength=Dd(u.maxLine),u.maxLineChanged=!0,d.iter(function(f){var g=Dd(f);g>u.maxLineLength&&(u.maxLineLength=g,u.maxLine=f)})}var Al=function(a,u,d){this.text=a,T_(this,u),this.height=d?d(this):1};Al.prototype.lineNo=function(){return zt(this)},Ft(Al);function q6(a,u,d,f){a.text=u,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),S_(a),T_(a,d);var g=f?f(a):1;g!=a.height&&Ar(a,g)}function G6(a){a.parent=null,S_(a)}var Y6={},J6={};function O_(a,u){if(!a||/^\s*$/.test(a))return null;var d=u.addModeClass?J6:Y6;return d[a]||(d[a]=a.replace(/\S+/g,"cm-$&"))}function N_(a,u){var d=I("span",null,null,p?"padding-right: .1px":null),f={pre:I("pre",[d],"CodeMirror-line"),content:d,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};u.measure={};for(var g=0;g<=(u.rest?u.rest.length:0);g++){var y=g?u.rest[g-1]:u.line,w=void 0;f.pos=0,f.addToken=Z6,Ui(a.display.measure)&&(w=Me(y,a.doc.direction))&&(f.addToken=e3(f.addToken,w)),f.map=[];var k=u!=a.display.externalMeasured&&zt(y);t3(y,f,v_(a,y,k)),y.styleClasses&&(y.styleClasses.bgClass&&(f.bgClass=tt(y.styleClasses.bgClass,f.bgClass||"")),y.styleClasses.textClass&&(f.textClass=tt(y.styleClasses.textClass,f.textClass||""))),f.map.length==0&&f.map.push(0,0,f.content.appendChild(ha(a.display.measure))),g==0?(u.measure.map=f.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(f.map),(u.measure.caches||(u.measure.caches=[])).push({}))}if(p){var C=f.content.lastChild;(/\bcm-tab\b/.test(C.className)||C.querySelector&&C.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack")}return we(a,"renderLine",a,u.line,f.pre),f.pre.className&&(f.textClass=tt(f.pre.className,f.textClass||"")),f}function X6(a){var u=Q("span","\u2022","cm-invalidchar");return u.title="\\u"+a.charCodeAt(0).toString(16),u.setAttribute("aria-label",u.title),u}function Z6(a,u,d,f,g,y,w){if(!!u){var k=a.splitSpaces?Q6(u,a.trailingSpace):u,C=a.cm.state.specialChars,O=!1,U;if(!C.test(u))a.col+=u.length,U=document.createTextNode(k),a.map.push(a.pos,a.pos+u.length,U),c&&h<9&&(O=!0),a.pos+=u.length;else{U=document.createDocumentFragment();for(var ee=0;;){C.lastIndex=ee;var ue=C.exec(u),se=ue?ue.index-ee:u.length-ee;if(se){var ye=document.createTextNode(k.slice(ee,ee+se));c&&h<9?U.appendChild(Q("span",[ye])):U.appendChild(ye),a.map.push(a.pos,a.pos+se,ye),a.col+=se,a.pos+=se}if(!ue)break;ee+=se+1;var Te=void 0;if(ue[0]=="	"){var Oe=a.cm.options.tabSize,Re=Oe-a.col%Oe;Te=U.appendChild(Q("span",re(Re),"cm-tab")),Te.setAttribute("role","presentation"),Te.setAttribute("cm-text","	"),a.col+=Re}else ue[0]=="\r"||ue[0]==`
`?(Te=U.appendChild(Q("span",ue[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Te.setAttribute("cm-text",ue[0]),a.col+=1):(Te=a.cm.options.specialCharPlaceholder(ue[0]),Te.setAttribute("cm-text",ue[0]),c&&h<9?U.appendChild(Q("span",[Te])):U.appendChild(Te),a.col+=1);a.map.push(a.pos,a.pos+1,Te),a.pos++}}if(a.trailingSpace=k.charCodeAt(u.length-1)==32,d||f||g||O||y||w){var $e=d||"";f&&($e+=f),g&&($e+=g);var ze=Q("span",[U],$e,y);if(w)for(var qe in w)w.hasOwnProperty(qe)&&qe!="style"&&qe!="class"&&ze.setAttribute(qe,w[qe]);return a.content.appendChild(ze)}a.content.appendChild(U)}}function Q6(a,u){if(a.length>1&&!/  /.test(a))return a;for(var d=u,f="",g=0;g<a.length;g++){var y=a.charAt(g);y==" "&&d&&(g==a.length-1||a.charCodeAt(g+1)==32)&&(y="\xA0"),f+=y,d=y==" "}return f}function e3(a,u){return function(d,f,g,y,w,k,C){g=g?g+" cm-force-border":"cm-force-border";for(var O=d.pos,U=O+f.length;;){for(var ee=void 0,ue=0;ue<u.length&&(ee=u[ue],!(ee.to>O&&ee.from<=O));ue++);if(ee.to>=U)return a(d,f,g,y,w,k,C);a(d,f.slice(0,ee.to-O),g,y,null,k,C),y=null,f=f.slice(ee.to-O),O=ee.to}}}function L_(a,u,d,f){var g=!f&&d.widgetNode;g&&a.map.push(a.pos,a.pos+u,g),!f&&a.cm.display.input.needsContentAttribute&&(g||(g=a.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",d.id)),g&&(a.cm.display.input.setUneditable(g),a.content.appendChild(g)),a.pos+=u,a.trailingSpace=!1}function t3(a,u,d){var f=a.markedSpans,g=a.text,y=0;if(!f){for(var w=1;w<d.length;w+=2)u.addToken(u,g.slice(y,y=d[w]),O_(d[w+1],u.cm.options));return}for(var k=g.length,C=0,O=1,U="",ee,ue,se=0,ye,Te,Oe,Re,$e;;){if(se==C){ye=Te=Oe=ue="",$e=null,Re=null,se=1/0;for(var ze=[],qe=void 0,it=0;it<f.length;++it){var nt=f[it],bt=nt.marker;if(bt.type=="bookmark"&&nt.from==C&&bt.widgetNode)ze.push(bt);else if(nt.from<=C&&(nt.to==null||nt.to>C||bt.collapsed&&nt.to==C&&nt.from==C)){if(nt.to!=null&&nt.to!=C&&se>nt.to&&(se=nt.to,Te=""),bt.className&&(ye+=" "+bt.className),bt.css&&(ue=(ue?ue+";":"")+bt.css),bt.startStyle&&nt.from==C&&(Oe+=" "+bt.startStyle),bt.endStyle&&nt.to==se&&(qe||(qe=[])).push(bt.endStyle,nt.to),bt.title&&(($e||($e={})).title=bt.title),bt.attributes)for(var Jt in bt.attributes)($e||($e={}))[Jt]=bt.attributes[Jt];bt.collapsed&&(!Re||xm(Re.marker,bt)<0)&&(Re=nt)}else nt.from>C&&se>nt.from&&(se=nt.from)}if(qe)for(var In=0;In<qe.length;In+=2)qe[In+1]==se&&(Te+=" "+qe[In]);if(!Re||Re.from==C)for(var an=0;an<ze.length;++an)L_(u,0,ze[an]);if(Re&&(Re.from||0)==C){if(L_(u,(Re.to==null?k+1:Re.to)-C,Re.marker,Re.from==null),Re.to==null)return;Re.to==C&&(Re=!1)}}if(C>=k)break;for(var Mr=Math.min(k,se);;){if(U){var _r=C+U.length;if(!Re){var xn=_r>Mr?U.slice(0,Mr-C):U;u.addToken(u,xn,ee?ee+ye:ye,Oe,C+xn.length==se?Te:"",ue,$e)}if(_r>=Mr){U=U.slice(Mr-C),C=Mr;break}C=_r,Oe=""}U=g.slice(y,y=d[O++]),ee=O_(d[O++],u.cm.options)}}}function P_(a,u,d){this.line=u,this.rest=K6(u),this.size=this.rest?zt(ce(this.rest))-d+1:1,this.node=this.text=null,this.hidden=ls(a,u)}function Md(a,u,d){for(var f=[],g,y=u;y<d;y=g){var w=new P_(a.doc,Je(a.doc,y),y);g=y+w.size,f.push(w)}return f}var Dl=null;function n3(a){Dl?Dl.ops.push(a):a.ownsGroup=Dl={ops:[a],delayedCallbacks:[]}}function r3(a){var u=a.delayedCallbacks,d=0;do{for(;d<u.length;d++)u[d].call(null);for(var f=0;f<a.ops.length;f++){var g=a.ops[f];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(d<u.length)}function i3(a,u){var d=a.ownsGroup;if(!!d)try{r3(d)}finally{Dl=null,u(d)}}var ac=null;function Nn(a,u){var d=Pe(a,u);if(!!d.length){var f=Array.prototype.slice.call(arguments,2),g;Dl?g=Dl.delayedCallbacks:ac?g=ac:(g=ac=[],setTimeout(o3,0));for(var y=function(k){g.push(function(){return d[k].apply(null,f)})},w=0;w<d.length;++w)y(w)}}function o3(){var a=ac;ac=null;for(var u=0;u<a.length;++u)a[u]()}function I_(a,u,d,f){for(var g=0;g<u.changes.length;g++){var y=u.changes[g];y=="text"?a3(a,u):y=="gutter"?R_(a,u,d,f):y=="class"?Tm(a,u):y=="widget"&&l3(a,u,f)}u.changes=null}function lc(a){return a.node==a.text&&(a.node=Q("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),c&&h<8&&(a.node.style.zIndex=2)),a.node}function s3(a,u){var d=u.bgClass?u.bgClass+" "+(u.line.bgClass||""):u.line.bgClass;if(d&&(d+=" CodeMirror-linebackground"),u.background)d?u.background.className=d:(u.background.parentNode.removeChild(u.background),u.background=null);else if(d){var f=lc(u);u.background=f.insertBefore(Q("div",null,d),f.firstChild),a.display.input.setUneditable(u.background)}}function F_(a,u){var d=a.display.externalMeasured;return d&&d.line==u.line?(a.display.externalMeasured=null,u.measure=d.measure,d.built):N_(a,u)}function a3(a,u){var d=u.text.className,f=F_(a,u);u.text==u.node&&(u.node=f.pre),u.text.parentNode.replaceChild(f.pre,u.text),u.text=f.pre,f.bgClass!=u.bgClass||f.textClass!=u.textClass?(u.bgClass=f.bgClass,u.textClass=f.textClass,Tm(a,u)):d&&(u.text.className=d)}function Tm(a,u){s3(a,u),u.line.wrapClass?lc(u).className=u.line.wrapClass:u.node!=u.text&&(u.node.className="");var d=u.textClass?u.textClass+" "+(u.line.textClass||""):u.line.textClass;u.text.className=d||""}function R_(a,u,d,f){if(u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null),u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null),u.line.gutterClass){var g=lc(u);u.gutterBackground=Q("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(a.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px; width: "+f.gutterTotalWidth+"px"),a.display.input.setUneditable(u.gutterBackground),g.insertBefore(u.gutterBackground,u.text)}var y=u.line.gutterMarkers;if(a.options.lineNumbers||y){var w=lc(u),k=u.gutter=Q("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?f.fixedPos:-f.gutterTotalWidth)+"px");if(k.setAttribute("aria-hidden","true"),a.display.input.setUneditable(k),w.insertBefore(k,u.text),u.line.gutterClass&&(k.className+=" "+u.line.gutterClass),a.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(u.lineNumber=k.appendChild(Q("div",ic(a.options,d),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+f.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),y)for(var C=0;C<a.display.gutterSpecs.length;++C){var O=a.display.gutterSpecs[C].className,U=y.hasOwnProperty(O)&&y[O];U&&k.appendChild(Q("div",[U],"CodeMirror-gutter-elt","left: "+f.gutterLeft[O]+"px; width: "+f.gutterWidth[O]+"px"))}}}function l3(a,u,d){u.alignable&&(u.alignable=null);for(var f=L("CodeMirror-linewidget"),g=u.node.firstChild,y=void 0;g;g=y)y=g.nextSibling,f.test(g.className)&&u.node.removeChild(g);z_(a,u,d)}function u3(a,u,d,f){var g=F_(a,u);return u.text=u.node=g.pre,g.bgClass&&(u.bgClass=g.bgClass),g.textClass&&(u.textClass=g.textClass),Tm(a,u),R_(a,u,d,f),z_(a,u,f),u.node}function z_(a,u,d){if(B_(a,u.line,u,d,!0),u.rest)for(var f=0;f<u.rest.length;f++)B_(a,u.rest[f],u,d,!1)}function B_(a,u,d,f,g){if(!!u.widgets)for(var y=lc(d),w=0,k=u.widgets;w<k.length;++w){var C=k[w],O=Q("div",[C.node],"CodeMirror-linewidget"+(C.className?" "+C.className:""));C.handleMouseEvents||O.setAttribute("cm-ignore-events","true"),c3(C,O,d,f),a.display.input.setUneditable(O),g&&C.above?y.insertBefore(O,d.gutter||d.text):y.appendChild(O),Nn(C,"redraw")}}function c3(a,u,d,f){if(a.noHScroll){(d.alignable||(d.alignable=[])).push(u);var g=f.wrapperWidth;u.style.left=f.fixedPos+"px",a.coverGutter||(g-=f.gutterTotalWidth,u.style.paddingLeft=f.gutterTotalWidth+"px"),u.style.width=g+"px"}a.coverGutter&&(u.style.zIndex=5,u.style.position="relative",a.noHScroll||(u.style.marginLeft=-f.gutterTotalWidth+"px"))}function uc(a){if(a.height!=null)return a.height;var u=a.doc.cm;if(!u)return 0;if(!pe(document.body,a.node)){var d="position: relative;";a.coverGutter&&(d+="margin-left: -"+u.display.gutters.offsetWidth+"px;"),a.noHScroll&&(d+="width: "+u.display.wrapper.clientWidth+"px;"),W(u.display.measure,Q("div",[a.node],null,d))}return a.height=a.node.parentNode.offsetHeight}function Co(a,u){for(var d=wn(u);d!=a.wrapper;d=d.parentNode)if(!d||d.nodeType==1&&d.getAttribute("cm-ignore-events")=="true"||d.parentNode==a.sizer&&d!=a.mover)return!0}function Od(a){return a.lineSpace.offsetTop}function Em(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function $_(a){if(a.cachedPaddingH)return a.cachedPaddingH;var u=W(a.measure,Q("pre","x","CodeMirror-line-like")),d=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle,f={left:parseInt(d.paddingLeft),right:parseInt(d.paddingRight)};return!isNaN(f.left)&&!isNaN(f.right)&&(a.cachedPaddingH=f),f}function Yi(a){return ke-a.display.nativeBarWidth}function ga(a){return a.display.scroller.clientWidth-Yi(a)-a.display.barWidth}function Am(a){return a.display.scroller.clientHeight-Yi(a)-a.display.barHeight}function f3(a,u,d){var f=a.options.lineWrapping,g=f&&ga(a);if(!u.measure.heights||f&&u.measure.width!=g){var y=u.measure.heights=[];if(f){u.measure.width=g;for(var w=u.text.firstChild.getClientRects(),k=0;k<w.length-1;k++){var C=w[k],O=w[k+1];Math.abs(C.bottom-O.bottom)>2&&y.push((C.bottom+O.top)/2-d.top)}}y.push(d.bottom-d.top)}}function H_(a,u,d){if(a.line==u)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var f=0;f<a.rest.length;f++)if(a.rest[f]==u)return{map:a.measure.maps[f],cache:a.measure.caches[f]};for(var g=0;g<a.rest.length;g++)if(zt(a.rest[g])>d)return{map:a.measure.maps[g],cache:a.measure.caches[g],before:!0}}}function d3(a,u){u=Ei(u);var d=zt(u),f=a.display.externalMeasured=new P_(a.doc,u,d);f.lineN=d;var g=f.built=N_(a,f);return f.text=g.pre,W(a.display.lineMeasure,g.pre),f}function j_(a,u,d,f){return Ji(a,Ml(a,u),d,f)}function Dm(a,u){if(u>=a.display.viewFrom&&u<a.display.viewTo)return a.display.view[ya(a,u)];var d=a.display.externalMeasured;if(d&&u>=d.lineN&&u<d.lineN+d.size)return d}function Ml(a,u){var d=zt(u),f=Dm(a,d);f&&!f.text?f=null:f&&f.changes&&(I_(a,f,d,Pm(a)),a.curOp.forceUpdate=!0),f||(f=d3(a,u));var g=H_(f,u,d);return{line:u,view:f,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function Ji(a,u,d,f,g){u.before&&(d=-1);var y=d+(f||""),w;return u.cache.hasOwnProperty(y)?w=u.cache[y]:(u.rect||(u.rect=u.view.text.getBoundingClientRect()),u.hasHeights||(f3(a,u.view,u.rect),u.hasHeights=!0),w=p3(a,u,d,f),w.bogus||(u.cache[y]=w)),{left:w.left,right:w.right,top:g?w.rtop:w.top,bottom:g?w.rbottom:w.bottom}}var V_={left:0,right:0,top:0,bottom:0};function W_(a,u,d){for(var f,g,y,w,k,C,O=0;O<a.length;O+=3)if(k=a[O],C=a[O+1],u<k?(g=0,y=1,w="left"):u<C?(g=u-k,y=g+1):(O==a.length-3||u==C&&a[O+3]>u)&&(y=C-k,g=y-1,u>=C&&(w="right")),g!=null){if(f=a[O+2],k==C&&d==(f.insertLeft?"left":"right")&&(w=d),d=="left"&&g==0)for(;O&&a[O-2]==a[O-3]&&a[O-1].insertLeft;)f=a[(O-=3)+2],w="left";if(d=="right"&&g==C-k)for(;O<a.length-3&&a[O+3]==a[O+4]&&!a[O+5].insertLeft;)f=a[(O+=3)+2],w="right";break}return{node:f,start:g,end:y,collapse:w,coverStart:k,coverEnd:C}}function h3(a,u){var d=V_;if(u=="left")for(var f=0;f<a.length&&(d=a[f]).left==d.right;f++);else for(var g=a.length-1;g>=0&&(d=a[g]).left==d.right;g--);return d}function p3(a,u,d,f){var g=W_(u.map,d,f),y=g.node,w=g.start,k=g.end,C=g.collapse,O;if(y.nodeType==3){for(var U=0;U<4;U++){for(;w&&X(u.line.text.charAt(g.coverStart+w));)--w;for(;g.coverStart+k<g.coverEnd&&X(u.line.text.charAt(g.coverStart+k));)++k;if(c&&h<9&&w==0&&k==g.coverEnd-g.coverStart?O=y.parentNode.getBoundingClientRect():O=h3(de(y,w,k).getClientRects(),f),O.left||O.right||w==0)break;k=w,w=w-1,C="right"}c&&h<11&&(O=g3(a.display.measure,O))}else{w>0&&(C=f="right");var ee;a.options.lineWrapping&&(ee=y.getClientRects()).length>1?O=ee[f=="right"?ee.length-1:0]:O=y.getBoundingClientRect()}if(c&&h<9&&!w&&(!O||!O.left&&!O.right)){var ue=y.parentNode.getClientRects()[0];ue?O={left:ue.left,right:ue.left+Nl(a.display),top:ue.top,bottom:ue.bottom}:O=V_}for(var se=O.top-u.rect.top,ye=O.bottom-u.rect.top,Te=(se+ye)/2,Oe=u.view.measure.heights,Re=0;Re<Oe.length-1&&!(Te<Oe[Re]);Re++);var $e=Re?Oe[Re-1]:0,ze=Oe[Re],qe={left:(C=="right"?O.right:O.left)-u.rect.left,right:(C=="left"?O.left:O.right)-u.rect.left,top:$e,bottom:ze};return!O.left&&!O.right&&(qe.bogus=!0),a.options.singleCursorHeightPerLine||(qe.rtop=se,qe.rbottom=ye),qe}function g3(a,u){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!as(a))return u;var d=screen.logicalXDPI/screen.deviceXDPI,f=screen.logicalYDPI/screen.deviceYDPI;return{left:u.left*d,right:u.right*d,top:u.top*f,bottom:u.bottom*f}}function U_(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var u=0;u<a.rest.length;u++)a.measure.caches[u]={}}function K_(a){a.display.externalMeasure=null,ie(a.display.lineMeasure);for(var u=0;u<a.display.view.length;u++)U_(a.display.view[u])}function cc(a){K_(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function q_(){return v&&T?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function G_(){return v&&T?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Mm(a){var u=Ei(a),d=u.widgets,f=0;if(d)for(var g=0;g<d.length;++g)d[g].above&&(f+=uc(d[g]));return f}function Nd(a,u,d,f,g){if(!g){var y=Mm(u);d.top+=y,d.bottom+=y}if(f=="line")return d;f||(f="local");var w=ko(u);if(f=="local"?w+=Od(a.display):w-=a.display.viewOffset,f=="page"||f=="window"){var k=a.display.lineSpace.getBoundingClientRect();w+=k.top+(f=="window"?0:G_());var C=k.left+(f=="window"?0:q_());d.left+=C,d.right+=C}return d.top+=w,d.bottom+=w,d}function Y_(a,u,d){if(d=="div")return u;var f=u.left,g=u.top;if(d=="page")f-=q_(),g-=G_();else if(d=="local"||!d){var y=a.display.sizer.getBoundingClientRect();f+=y.left,g+=y.top}var w=a.display.lineSpace.getBoundingClientRect();return{left:f-w.left,top:g-w.top}}function Ld(a,u,d,f,g){return f||(f=Je(a.doc,u.line)),Nd(a,f,j_(a,f,u.ch,g),d)}function Ai(a,u,d,f,g,y){f=f||Je(a.doc,u.line),g||(g=Ml(a,f));function w(ye,Te){var Oe=Ji(a,g,ye,Te?"right":"left",y);return Te?Oe.left=Oe.right:Oe.right=Oe.left,Nd(a,f,Oe,d)}var k=Me(f,a.doc.direction),C=u.ch,O=u.sticky;if(C>=f.text.length?(C=f.text.length,O="before"):C<=0&&(C=0,O="after"),!k)return w(O=="before"?C-1:C,O=="before");function U(ye,Te,Oe){var Re=k[Te],$e=Re.level==1;return w(Oe?ye-1:ye,$e!=Oe)}var ee=q(k,C,O),ue=K,se=U(C,ee,O=="before");return ue!=null&&(se.other=U(C,ue,O!="before")),se}function J_(a,u){var d=0;u=Ue(a.doc,u),a.options.lineWrapping||(d=Nl(a.display)*u.ch);var f=Je(a.doc,u.line),g=ko(f)+Od(a.display);return{left:d,right:d,top:g,bottom:g+f.height}}function Om(a,u,d,f,g){var y=Ee(a,u,d);return y.xRel=g,f&&(y.outside=f),y}function Nm(a,u,d){var f=a.doc;if(d+=a.display.viewOffset,d<0)return Om(f.first,0,null,-1,-1);var g=qi(f,d),y=f.first+f.size-1;if(g>y)return Om(f.first+f.size-1,Je(f,y).text.length,null,1,1);u<0&&(u=0);for(var w=Je(f,g);;){var k=m3(a,w,g,u,d),C=W6(w,k.ch+(k.xRel>0||k.outside>0?1:0));if(!C)return k;var O=C.find(1);if(O.line==g)return O;w=Je(f,g=O.line)}}function X_(a,u,d,f){f-=Mm(u);var g=u.text.length,y=fe(function(w){return Ji(a,d,w-1).bottom<=f},g,0);return g=fe(function(w){return Ji(a,d,w).top>f},y,g),{begin:y,end:g}}function Z_(a,u,d,f){d||(d=Ml(a,u));var g=Nd(a,u,Ji(a,d,f),"line").top;return X_(a,u,d,g)}function Lm(a,u,d,f){return a.bottom<=d?!1:a.top>d?!0:(f?a.left:a.right)>u}function m3(a,u,d,f,g){g-=ko(u);var y=Ml(a,u),w=Mm(u),k=0,C=u.text.length,O=!0,U=Me(u,a.doc.direction);if(U){var ee=(a.options.lineWrapping?y3:v3)(a,u,d,y,U,f,g);O=ee.level!=1,k=O?ee.from:ee.to-1,C=O?ee.to:ee.from-1}var ue=null,se=null,ye=fe(function(it){var nt=Ji(a,y,it);return nt.top+=w,nt.bottom+=w,Lm(nt,f,g,!1)?(nt.top<=g&&nt.left<=f&&(ue=it,se=nt),!0):!1},k,C),Te,Oe,Re=!1;if(se){var $e=f-se.left<se.right-f,ze=$e==O;ye=ue+(ze?0:1),Oe=ze?"after":"before",Te=$e?se.left:se.right}else{!O&&(ye==C||ye==k)&&ye++,Oe=ye==0?"after":ye==u.text.length?"before":Ji(a,y,ye-(O?1:0)).bottom+w<=g==O?"after":"before";var qe=Ai(a,Ee(d,ye,Oe),"line",u,y);Te=qe.left,Re=g<qe.top?-1:g>=qe.bottom?1:0}return ye=ae(u.text,ye,1),Om(d,ye,Oe,Re,f-Te)}function v3(a,u,d,f,g,y,w){var k=fe(function(ee){var ue=g[ee],se=ue.level!=1;return Lm(Ai(a,Ee(d,se?ue.to:ue.from,se?"before":"after"),"line",u,f),y,w,!0)},0,g.length-1),C=g[k];if(k>0){var O=C.level!=1,U=Ai(a,Ee(d,O?C.from:C.to,O?"after":"before"),"line",u,f);Lm(U,y,w,!0)&&U.top>w&&(C=g[k-1])}return C}function y3(a,u,d,f,g,y,w){var k=X_(a,u,f,w),C=k.begin,O=k.end;/\s/.test(u.text.charAt(O-1))&&O--;for(var U=null,ee=null,ue=0;ue<g.length;ue++){var se=g[ue];if(!(se.from>=O||se.to<=C)){var ye=se.level!=1,Te=Ji(a,f,ye?Math.min(O,se.to)-1:Math.max(C,se.from)).right,Oe=Te<y?y-Te+1e9:Te-y;(!U||ee>Oe)&&(U=se,ee=Oe)}}return U||(U=g[g.length-1]),U.from<C&&(U={from:C,to:U.to,level:U.level}),U.to>O&&(U={from:U.from,to:O,level:U.level}),U}var ma;function Ol(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(ma==null){ma=Q("pre",null,"CodeMirror-line-like");for(var u=0;u<49;++u)ma.appendChild(document.createTextNode("x")),ma.appendChild(Q("br"));ma.appendChild(document.createTextNode("x"))}W(a.measure,ma);var d=ma.offsetHeight/50;return d>3&&(a.cachedTextHeight=d),ie(a.measure),d||1}function Nl(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var u=Q("span","xxxxxxxxxx"),d=Q("pre",[u],"CodeMirror-line-like");W(a.measure,d);var f=u.getBoundingClientRect(),g=(f.right-f.left)/10;return g>2&&(a.cachedCharWidth=g),g||10}function Pm(a){for(var u=a.display,d={},f={},g=u.gutters.clientLeft,y=u.gutters.firstChild,w=0;y;y=y.nextSibling,++w){var k=a.display.gutterSpecs[w].className;d[k]=y.offsetLeft+y.clientLeft+g,f[k]=y.clientWidth}return{fixedPos:Im(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:d,gutterWidth:f,wrapperWidth:u.wrapper.clientWidth}}function Im(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Q_(a){var u=Ol(a.display),d=a.options.lineWrapping,f=d&&Math.max(5,a.display.scroller.clientWidth/Nl(a.display)-3);return function(g){if(ls(a.doc,g))return 0;var y=0;if(g.widgets)for(var w=0;w<g.widgets.length;w++)g.widgets[w].height&&(y+=g.widgets[w].height);return d?y+(Math.ceil(g.text.length/f)||1)*u:y+u}}function Fm(a){var u=a.doc,d=Q_(a);u.iter(function(f){var g=d(f);g!=f.height&&Ar(f,g)})}function va(a,u,d,f){var g=a.display;if(!d&&wn(u).getAttribute("cm-not-content")=="true")return null;var y,w,k=g.lineSpace.getBoundingClientRect();try{y=u.clientX-k.left,w=u.clientY-k.top}catch{return null}var C=Nm(a,y,w),O;if(f&&C.xRel>0&&(O=Je(a.doc,C.line).text).length==C.ch){var U=ot(O,O.length,a.options.tabSize)-O.length;C=Ee(C.line,Math.max(0,Math.round((y-$_(a.display).left)/Nl(a.display))-U))}return C}function ya(a,u){if(u>=a.display.viewTo||(u-=a.display.viewFrom,u<0))return null;for(var d=a.display.view,f=0;f<d.length;f++)if(u-=d[f].size,u<0)return f}function yr(a,u,d,f){u==null&&(u=a.doc.first),d==null&&(d=a.doc.first+a.doc.size),f||(f=0);var g=a.display;if(f&&d<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>u)&&(g.updateLineNumbers=u),a.curOp.viewChanged=!0,u>=g.viewTo)xo&&km(a.doc,u)<g.viewTo&&cs(a);else if(d<=g.viewFrom)xo&&M_(a.doc,d+f)>g.viewFrom?cs(a):(g.viewFrom+=f,g.viewTo+=f);else if(u<=g.viewFrom&&d>=g.viewTo)cs(a);else if(u<=g.viewFrom){var y=Pd(a,d,d+f,1);y?(g.view=g.view.slice(y.index),g.viewFrom=y.lineN,g.viewTo+=f):cs(a)}else if(d>=g.viewTo){var w=Pd(a,u,u,-1);w?(g.view=g.view.slice(0,w.index),g.viewTo=w.lineN):cs(a)}else{var k=Pd(a,u,u,-1),C=Pd(a,d,d+f,1);k&&C?(g.view=g.view.slice(0,k.index).concat(Md(a,k.lineN,C.lineN)).concat(g.view.slice(C.index)),g.viewTo+=f):cs(a)}var O=g.externalMeasured;O&&(d<O.lineN?O.lineN+=f:u<O.lineN+O.size&&(g.externalMeasured=null))}function us(a,u,d){a.curOp.viewChanged=!0;var f=a.display,g=a.display.externalMeasured;if(g&&u>=g.lineN&&u<g.lineN+g.size&&(f.externalMeasured=null),!(u<f.viewFrom||u>=f.viewTo)){var y=f.view[ya(a,u)];if(y.node!=null){var w=y.changes||(y.changes=[]);Fe(w,d)==-1&&w.push(d)}}}function cs(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Pd(a,u,d,f){var g=ya(a,u),y,w=a.display.view;if(!xo||d==a.doc.first+a.doc.size)return{index:g,lineN:d};for(var k=a.display.viewFrom,C=0;C<g;C++)k+=w[C].size;if(k!=u){if(f>0){if(g==w.length-1)return null;y=k+w[g].size-u,g++}else y=k-u;u+=y,d+=y}for(;km(a.doc,d)!=d;){if(g==(f<0?0:w.length-1))return null;d+=f*w[g-(f<0?1:0)].size,g+=f}return{index:g,lineN:d}}function b3(a,u,d){var f=a.display,g=f.view;g.length==0||u>=f.viewTo||d<=f.viewFrom?(f.view=Md(a,u,d),f.viewFrom=u):(f.viewFrom>u?f.view=Md(a,u,f.viewFrom).concat(f.view):f.viewFrom<u&&(f.view=f.view.slice(ya(a,u))),f.viewFrom=u,f.viewTo<d?f.view=f.view.concat(Md(a,f.viewTo,d)):f.viewTo>d&&(f.view=f.view.slice(0,ya(a,d)))),f.viewTo=d}function ew(a){for(var u=a.display.view,d=0,f=0;f<u.length;f++){var g=u[f];!g.hidden&&(!g.node||g.changes)&&++d}return d}function fc(a){a.display.input.showSelection(a.display.input.prepareSelection())}function tw(a,u){u===void 0&&(u=!0);var d=a.doc,f={},g=f.cursors=document.createDocumentFragment(),y=f.selection=document.createDocumentFragment(),w=a.options.$customCursor;w&&(u=!0);for(var k=0;k<d.sel.ranges.length;k++)if(!(!u&&k==d.sel.primIndex)){var C=d.sel.ranges[k];if(!(C.from().line>=a.display.viewTo||C.to().line<a.display.viewFrom)){var O=C.empty();if(w){var U=w(a,C);U&&Rm(a,U,g)}else(O||a.options.showCursorWhenSelecting)&&Rm(a,C.head,g);O||_3(a,C,y)}}return f}function Rm(a,u,d){var f=Ai(a,u,"div",null,null,!a.options.singleCursorHeightPerLine),g=d.appendChild(Q("div","\xA0","CodeMirror-cursor"));if(g.style.left=f.left+"px",g.style.top=f.top+"px",g.style.height=Math.max(0,f.bottom-f.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var y=Ld(a,u,"div",null,null),w=y.right-y.left;g.style.width=(w>0?w:a.defaultCharWidth())+"px"}if(f.other){var k=d.appendChild(Q("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));k.style.display="",k.style.left=f.other.left+"px",k.style.top=f.other.top+"px",k.style.height=(f.other.bottom-f.other.top)*.85+"px"}}function Id(a,u){return a.top-u.top||a.left-u.left}function _3(a,u,d){var f=a.display,g=a.doc,y=document.createDocumentFragment(),w=$_(a.display),k=w.left,C=Math.max(f.sizerWidth,ga(a)-f.sizer.offsetLeft)-w.right,O=g.direction=="ltr";function U(ze,qe,it,nt){qe<0&&(qe=0),qe=Math.round(qe),nt=Math.round(nt),y.appendChild(Q("div",null,"CodeMirror-selected","position: absolute; left: "+ze+`px;
                             top: `+qe+"px; width: "+(it==null?C-ze:it)+`px;
                             height: `+(nt-qe)+"px"))}function ee(ze,qe,it){var nt=Je(g,ze),bt=nt.text.length,Jt,In;function an(xn,wr){return Ld(a,Ee(ze,xn),"div",nt,wr)}function Mr(xn,wr,Hn){var Dn=Z_(a,nt,null,xn),kn=wr=="ltr"==(Hn=="after")?"left":"right",cn=Hn=="after"?Dn.begin:Dn.end-(/\s/.test(nt.text.charAt(Dn.end-1))?2:1);return an(cn,kn)[kn]}var _r=Me(nt,g.direction);return ge(_r,qe||0,it==null?bt:it,function(xn,wr,Hn,Dn){var kn=Hn=="ltr",cn=an(xn,kn?"left":"right"),xr=an(wr-1,kn?"right":"left"),Ul=qe==null&&xn==0,ms=it==null&&wr==bt,Jn=Dn==0,Xi=!_r||Dn==_r.length-1;if(xr.top-cn.top<=3){var Fn=(O?Ul:ms)&&Jn,uv=(O?ms:Ul)&&Xi,Eo=Fn?k:(kn?cn:xr).left,ka=uv?C:(kn?xr:cn).right;U(Eo,cn.top,ka-Eo,cn.bottom)}else{var Ca,or,Kl,cv;kn?(Ca=O&&Ul&&Jn?k:cn.left,or=O?C:Mr(xn,Hn,"before"),Kl=O?k:Mr(wr,Hn,"after"),cv=O&&ms&&Xi?C:xr.right):(Ca=O?Mr(xn,Hn,"before"):k,or=!O&&Ul&&Jn?C:cn.right,Kl=!O&&ms&&Xi?k:xr.left,cv=O?Mr(wr,Hn,"after"):C),U(Ca,cn.top,or-Ca,cn.bottom),cn.bottom<xr.top&&U(k,cn.bottom,null,xr.top),U(Kl,xr.top,cv-Kl,xr.bottom)}(!Jt||Id(cn,Jt)<0)&&(Jt=cn),Id(xr,Jt)<0&&(Jt=xr),(!In||Id(cn,In)<0)&&(In=cn),Id(xr,In)<0&&(In=xr)}),{start:Jt,end:In}}var ue=u.from(),se=u.to();if(ue.line==se.line)ee(ue.line,ue.ch,se.ch);else{var ye=Je(g,ue.line),Te=Je(g,se.line),Oe=Ei(ye)==Ei(Te),Re=ee(ue.line,ue.ch,Oe?ye.text.length+1:null).end,$e=ee(se.line,Oe?0:null,se.ch).start;Oe&&(Re.top<$e.top-2?(U(Re.right,Re.top,null,Re.bottom),U(k,$e.top,$e.left,$e.bottom)):U(Re.right,Re.top,$e.left-Re.right,Re.bottom)),Re.bottom<$e.top&&U(k,Re.bottom,null,$e.top)}d.appendChild(y)}function zm(a){if(!!a.state.focused){var u=a.display;clearInterval(u.blinker);var d=!0;u.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?u.blinker=setInterval(function(){a.hasFocus()||Ll(a),u.cursorDiv.style.visibility=(d=!d)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(u.cursorDiv.style.visibility="hidden")}}function nw(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||$m(a))}function Bm(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&Ll(a))},100)}function $m(a,u){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(we(a,"focus",a,u),a.state.focused=!0,Ve(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),p&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),zm(a))}function Ll(a,u){a.state.delayingBlurEvent||(a.state.focused&&(we(a,"blur",a,u),a.state.focused=!1,V(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Fd(a){for(var u=a.display,d=u.lineDiv.offsetTop,f=Math.max(0,u.scroller.getBoundingClientRect().top),g=u.lineDiv.getBoundingClientRect().top,y=0,w=0;w<u.view.length;w++){var k=u.view[w],C=a.options.lineWrapping,O=void 0,U=0;if(!k.hidden){if(g+=k.line.height,c&&h<8){var ee=k.node.offsetTop+k.node.offsetHeight;O=ee-d,d=ee}else{var ue=k.node.getBoundingClientRect();O=ue.bottom-ue.top,!C&&k.text.firstChild&&(U=k.text.firstChild.getBoundingClientRect().right-ue.left-1)}var se=k.line.height-O;if((se>.005||se<-.005)&&(g<f&&(y-=se),Ar(k.line,O),rw(k.line),k.rest))for(var ye=0;ye<k.rest.length;ye++)rw(k.rest[ye]);if(U>a.display.sizerWidth){var Te=Math.ceil(U/Nl(a.display));Te>a.display.maxLineLength&&(a.display.maxLineLength=Te,a.display.maxLine=k.line,a.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(u.scroller.scrollTop+=y)}function rw(a){if(a.widgets)for(var u=0;u<a.widgets.length;++u){var d=a.widgets[u],f=d.node.parentNode;f&&(d.height=f.offsetHeight)}}function Rd(a,u,d){var f=d&&d.top!=null?Math.max(0,d.top):a.scroller.scrollTop;f=Math.floor(f-Od(a));var g=d&&d.bottom!=null?d.bottom:f+a.wrapper.clientHeight,y=qi(u,f),w=qi(u,g);if(d&&d.ensure){var k=d.ensure.from.line,C=d.ensure.to.line;k<y?(y=k,w=qi(u,ko(Je(u,k))+a.wrapper.clientHeight)):Math.min(C,u.lastLine())>=w&&(y=qi(u,ko(Je(u,C))-a.wrapper.clientHeight),w=C)}return{from:y,to:Math.max(w,y+1)}}function w3(a,u){if(!We(a,"scrollCursorIntoView")){var d=a.display,f=d.sizer.getBoundingClientRect(),g=null;if(u.top+f.top<0?g=!0:u.bottom+f.top>(window.innerHeight||document.documentElement.clientHeight)&&(g=!1),g!=null&&!D){var y=Q("div","\u200B",null,`position: absolute;
                         top: `+(u.top-d.viewOffset-Od(a.display))+`px;
                         height: `+(u.bottom-u.top+Yi(a)+d.barHeight)+`px;
                         left: `+u.left+"px; width: "+Math.max(2,u.right-u.left)+"px;");a.display.lineSpace.appendChild(y),y.scrollIntoView(g),a.display.lineSpace.removeChild(y)}}}function x3(a,u,d,f){f==null&&(f=0);var g;!a.options.lineWrapping&&u==d&&(d=u.sticky=="before"?Ee(u.line,u.ch+1,"before"):u,u=u.ch?Ee(u.line,u.sticky=="before"?u.ch-1:u.ch,"after"):u);for(var y=0;y<5;y++){var w=!1,k=Ai(a,u),C=!d||d==u?k:Ai(a,d);g={left:Math.min(k.left,C.left),top:Math.min(k.top,C.top)-f,right:Math.max(k.left,C.left),bottom:Math.max(k.bottom,C.bottom)+f};var O=Hm(a,g),U=a.doc.scrollTop,ee=a.doc.scrollLeft;if(O.scrollTop!=null&&(hc(a,O.scrollTop),Math.abs(a.doc.scrollTop-U)>1&&(w=!0)),O.scrollLeft!=null&&(ba(a,O.scrollLeft),Math.abs(a.doc.scrollLeft-ee)>1&&(w=!0)),!w)break}return g}function k3(a,u){var d=Hm(a,u);d.scrollTop!=null&&hc(a,d.scrollTop),d.scrollLeft!=null&&ba(a,d.scrollLeft)}function Hm(a,u){var d=a.display,f=Ol(a.display);u.top<0&&(u.top=0);var g=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:d.scroller.scrollTop,y=Am(a),w={};u.bottom-u.top>y&&(u.bottom=u.top+y);var k=a.doc.height+Em(d),C=u.top<f,O=u.bottom>k-f;if(u.top<g)w.scrollTop=C?0:u.top;else if(u.bottom>g+y){var U=Math.min(u.top,(O?k:u.bottom)-y);U!=g&&(w.scrollTop=U)}var ee=a.options.fixedGutter?0:d.gutters.offsetWidth,ue=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:d.scroller.scrollLeft-ee,se=ga(a)-d.gutters.offsetWidth,ye=u.right-u.left>se;return ye&&(u.right=u.left+se),u.left<10?w.scrollLeft=0:u.left<ue?w.scrollLeft=Math.max(0,u.left+ee-(ye?0:10)):u.right>se+ue-3&&(w.scrollLeft=u.right+(ye?0:10)-se),w}function jm(a,u){u!=null&&(zd(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+u)}function Pl(a){zd(a);var u=a.getCursor();a.curOp.scrollToPos={from:u,to:u,margin:a.options.cursorScrollMargin}}function dc(a,u,d){(u!=null||d!=null)&&zd(a),u!=null&&(a.curOp.scrollLeft=u),d!=null&&(a.curOp.scrollTop=d)}function C3(a,u){zd(a),a.curOp.scrollToPos=u}function zd(a){var u=a.curOp.scrollToPos;if(u){a.curOp.scrollToPos=null;var d=J_(a,u.from),f=J_(a,u.to);iw(a,d,f,u.margin)}}function iw(a,u,d,f){var g=Hm(a,{left:Math.min(u.left,d.left),top:Math.min(u.top,d.top)-f,right:Math.max(u.right,d.right),bottom:Math.max(u.bottom,d.bottom)+f});dc(a,g.scrollLeft,g.scrollTop)}function hc(a,u){Math.abs(a.doc.scrollTop-u)<2||(i||Wm(a,{top:u}),ow(a,u,!0),i&&Wm(a),mc(a,100))}function ow(a,u,d){u=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,u)),!(a.display.scroller.scrollTop==u&&!d)&&(a.doc.scrollTop=u,a.display.scrollbars.setScrollTop(u),a.display.scroller.scrollTop!=u&&(a.display.scroller.scrollTop=u))}function ba(a,u,d,f){u=Math.max(0,Math.min(u,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((d?u==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-u)<2)&&!f)&&(a.doc.scrollLeft=u,cw(a),a.display.scroller.scrollLeft!=u&&(a.display.scroller.scrollLeft=u),a.display.scrollbars.setScrollLeft(u))}function pc(a){var u=a.display,d=u.gutters.offsetWidth,f=Math.round(a.doc.height+Em(a.display));return{clientHeight:u.scroller.clientHeight,viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:a.options.fixedGutter?d:0,docHeight:f,scrollHeight:f+Yi(a)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:d}}var _a=function(a,u,d){this.cm=d;var f=this.vert=Q("div",[Q("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=Q("div",[Q("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");f.tabIndex=g.tabIndex=-1,a(f),a(g),oe(f,"scroll",function(){f.clientHeight&&u(f.scrollTop,"vertical")}),oe(g,"scroll",function(){g.clientWidth&&u(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,c&&h<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};_a.prototype.update=function(a){var u=a.scrollWidth>a.clientWidth+1,d=a.scrollHeight>a.clientHeight+1,f=a.nativeBarWidth;if(d){this.vert.style.display="block",this.vert.style.bottom=u?f+"px":"0";var g=a.viewHeight-(u?f:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(u){this.horiz.style.display="block",this.horiz.style.right=d?f+"px":"0",this.horiz.style.left=a.barLeft+"px";var y=a.viewWidth-a.barLeft-(d?f:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(f==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:d?f:0,bottom:u?f:0}},_a.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},_a.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},_a.prototype.zeroWidthHack=function(){var a=M&&!x?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ge,this.disableVert=new Ge},_a.prototype.enableZeroWidthBar=function(a,u,d){a.style.pointerEvents="auto";function f(){var g=a.getBoundingClientRect(),y=d=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);y!=a?a.style.pointerEvents="none":u.set(1e3,f)}u.set(1e3,f)},_a.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var gc=function(){};gc.prototype.update=function(){return{bottom:0,right:0}},gc.prototype.setScrollLeft=function(){},gc.prototype.setScrollTop=function(){},gc.prototype.clear=function(){};function Il(a,u){u||(u=pc(a));var d=a.display.barWidth,f=a.display.barHeight;sw(a,u);for(var g=0;g<4&&d!=a.display.barWidth||f!=a.display.barHeight;g++)d!=a.display.barWidth&&a.options.lineWrapping&&Fd(a),sw(a,pc(a)),d=a.display.barWidth,f=a.display.barHeight}function sw(a,u){var d=a.display,f=d.scrollbars.update(u);d.sizer.style.paddingRight=(d.barWidth=f.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=f.bottom)+"px",d.heightForcer.style.borderBottom=f.bottom+"px solid transparent",f.right&&f.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=f.bottom+"px",d.scrollbarFiller.style.width=f.right+"px"):d.scrollbarFiller.style.display="",f.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=f.bottom+"px",d.gutterFiller.style.width=u.gutterWidth+"px"):d.gutterFiller.style.display=""}var aw={native:_a,null:gc};function lw(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&V(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new aw[a.options.scrollbarStyle](function(u){a.display.wrapper.insertBefore(u,a.display.scrollbarFiller),oe(u,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),u.setAttribute("cm-not-content","true")},function(u,d){d=="horizontal"?ba(a,u):hc(a,u)},a),a.display.scrollbars.addClass&&Ve(a.display.wrapper,a.display.scrollbars.addClass)}var S3=0;function wa(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++S3,markArrays:null},n3(a.curOp)}function xa(a){var u=a.curOp;u&&i3(u,function(d){for(var f=0;f<d.ops.length;f++)d.ops[f].cm.curOp=null;T3(d)})}function T3(a){for(var u=a.ops,d=0;d<u.length;d++)E3(u[d]);for(var f=0;f<u.length;f++)A3(u[f]);for(var g=0;g<u.length;g++)D3(u[g]);for(var y=0;y<u.length;y++)M3(u[y]);for(var w=0;w<u.length;w++)O3(u[w])}function E3(a){var u=a.cm,d=u.display;L3(u),a.updateMaxLine&&Sm(u),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<d.viewFrom||a.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&u.options.lineWrapping,a.update=a.mustUpdate&&new Bd(u,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function A3(a){a.updatedDisplay=a.mustUpdate&&Vm(a.cm,a.update)}function D3(a){var u=a.cm,d=u.display;a.updatedDisplay&&Fd(u),a.barMeasure=pc(u),d.maxLineChanged&&!u.options.lineWrapping&&(a.adjustWidthTo=j_(u,d.maxLine,d.maxLine.text.length).left+3,u.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+a.adjustWidthTo+Yi(u)+u.display.barWidth),a.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+a.adjustWidthTo-ga(u))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=d.input.prepareSelection())}function M3(a){var u=a.cm;a.adjustWidthTo!=null&&(u.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<u.doc.scrollLeft&&ba(u,Math.min(u.display.scroller.scrollLeft,a.maxScrollLeft),!0),u.display.maxLineChanged=!1);var d=a.focus&&a.focus==Se();a.preparedSelection&&u.display.input.showSelection(a.preparedSelection,d),(a.updatedDisplay||a.startHeight!=u.doc.height)&&Il(u,a.barMeasure),a.updatedDisplay&&Km(u,a.barMeasure),a.selectionChanged&&zm(u),u.state.focused&&a.updateInput&&u.display.input.reset(a.typing),d&&nw(a.cm)}function O3(a){var u=a.cm,d=u.display,f=u.doc;if(a.updatedDisplay&&uw(u,a.update),d.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(d.wheelStartX=d.wheelStartY=null),a.scrollTop!=null&&ow(u,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&ba(u,a.scrollLeft,!0,!0),a.scrollToPos){var g=x3(u,Ue(f,a.scrollToPos.from),Ue(f,a.scrollToPos.to),a.scrollToPos.margin);w3(u,g)}var y=a.maybeHiddenMarkers,w=a.maybeUnhiddenMarkers;if(y)for(var k=0;k<y.length;++k)y[k].lines.length||we(y[k],"hide");if(w)for(var C=0;C<w.length;++C)w[C].lines.length&&we(w[C],"unhide");d.wrapper.offsetHeight&&(f.scrollTop=u.display.scroller.scrollTop),a.changeObjs&&we(u,"changes",u,a.changeObjs),a.update&&a.update.finish()}function Dr(a,u){if(a.curOp)return u();wa(a);try{return u()}finally{xa(a)}}function Ln(a,u){return function(){if(a.curOp)return u.apply(a,arguments);wa(a);try{return u.apply(a,arguments)}finally{xa(a)}}}function ir(a){return function(){if(this.curOp)return a.apply(this,arguments);wa(this);try{return a.apply(this,arguments)}finally{xa(this)}}}function Pn(a){return function(){var u=this.cm;if(!u||u.curOp)return a.apply(this,arguments);wa(u);try{return a.apply(this,arguments)}finally{xa(u)}}}function mc(a,u){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(u,Mt(N3,a))}function N3(a){var u=a.doc;if(!(u.highlightFrontier>=a.display.viewTo)){var d=+new Date+a.options.workTime,f=oc(a,u.highlightFrontier),g=[];u.iter(f.line,Math.min(u.first+u.size,a.display.viewTo+500),function(y){if(f.line>=a.display.viewFrom){var w=y.styles,k=y.text.length>a.options.maxHighlightLength?jr(u.mode,f.state):null,C=m_(a,y,f,!0);k&&(f.state=k),y.styles=C.styles;var O=y.styleClasses,U=C.classes;U?y.styleClasses=U:O&&(y.styleClasses=null);for(var ee=!w||w.length!=y.styles.length||O!=U&&(!O||!U||O.bgClass!=U.bgClass||O.textClass!=U.textClass),ue=0;!ee&&ue<w.length;++ue)ee=w[ue]!=y.styles[ue];ee&&g.push(f.line),y.stateAfter=f.save(),f.nextLine()}else y.text.length<=a.options.maxHighlightLength&&bm(a,y.text,f),y.stateAfter=f.line%5==0?f.save():null,f.nextLine();if(+new Date>d)return mc(a,a.options.workDelay),!0}),u.highlightFrontier=f.line,u.modeFrontier=Math.max(u.modeFrontier,f.line),g.length&&Dr(a,function(){for(var y=0;y<g.length;y++)us(a,g[y],"text")})}}var Bd=function(a,u,d){var f=a.display;this.viewport=u,this.visible=Rd(f,a.doc,u),this.editorIsHidden=!f.wrapper.offsetWidth,this.wrapperHeight=f.wrapper.clientHeight,this.wrapperWidth=f.wrapper.clientWidth,this.oldDisplayWidth=ga(a),this.force=d,this.dims=Pm(a),this.events=[]};Bd.prototype.signal=function(a,u){dt(a,u)&&this.events.push(arguments)},Bd.prototype.finish=function(){for(var a=0;a<this.events.length;a++)we.apply(null,this.events[a])};function L3(a){var u=a.display;!u.scrollbarsClipped&&u.scroller.offsetWidth&&(u.nativeBarWidth=u.scroller.offsetWidth-u.scroller.clientWidth,u.heightForcer.style.height=Yi(a)+"px",u.sizer.style.marginBottom=-u.nativeBarWidth+"px",u.sizer.style.borderRightWidth=Yi(a)+"px",u.scrollbarsClipped=!0)}function P3(a){if(a.hasFocus())return null;var u=Se();if(!u||!pe(a.display.lineDiv,u))return null;var d={activeElt:u};if(window.getSelection){var f=window.getSelection();f.anchorNode&&f.extend&&pe(a.display.lineDiv,f.anchorNode)&&(d.anchorNode=f.anchorNode,d.anchorOffset=f.anchorOffset,d.focusNode=f.focusNode,d.focusOffset=f.focusOffset)}return d}function I3(a){if(!(!a||!a.activeElt||a.activeElt==Se())&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&pe(document.body,a.anchorNode)&&pe(document.body,a.focusNode))){var u=window.getSelection(),d=document.createRange();d.setEnd(a.anchorNode,a.anchorOffset),d.collapse(!1),u.removeAllRanges(),u.addRange(d),u.extend(a.focusNode,a.focusOffset)}}function Vm(a,u){var d=a.display,f=a.doc;if(u.editorIsHidden)return cs(a),!1;if(!u.force&&u.visible.from>=d.viewFrom&&u.visible.to<=d.viewTo&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo)&&d.renderedView==d.view&&ew(a)==0)return!1;fw(a)&&(cs(a),u.dims=Pm(a));var g=f.first+f.size,y=Math.max(u.visible.from-a.options.viewportMargin,f.first),w=Math.min(g,u.visible.to+a.options.viewportMargin);d.viewFrom<y&&y-d.viewFrom<20&&(y=Math.max(f.first,d.viewFrom)),d.viewTo>w&&d.viewTo-w<20&&(w=Math.min(g,d.viewTo)),xo&&(y=km(a.doc,y),w=M_(a.doc,w));var k=y!=d.viewFrom||w!=d.viewTo||d.lastWrapHeight!=u.wrapperHeight||d.lastWrapWidth!=u.wrapperWidth;b3(a,y,w),d.viewOffset=ko(Je(a.doc,d.viewFrom)),a.display.mover.style.top=d.viewOffset+"px";var C=ew(a);if(!k&&C==0&&!u.force&&d.renderedView==d.view&&(d.updateLineNumbers==null||d.updateLineNumbers>=d.viewTo))return!1;var O=P3(a);return C>4&&(d.lineDiv.style.display="none"),F3(a,d.updateLineNumbers,u.dims),C>4&&(d.lineDiv.style.display=""),d.renderedView=d.view,I3(O),ie(d.cursorDiv),ie(d.selectionDiv),d.gutters.style.height=d.sizer.style.minHeight=0,k&&(d.lastWrapHeight=u.wrapperHeight,d.lastWrapWidth=u.wrapperWidth,mc(a,400)),d.updateLineNumbers=null,!0}function uw(a,u){for(var d=u.viewport,f=!0;;f=!1){if(!f||!a.options.lineWrapping||u.oldDisplayWidth==ga(a)){if(d&&d.top!=null&&(d={top:Math.min(a.doc.height+Em(a.display)-Am(a),d.top)}),u.visible=Rd(a.display,a.doc,d),u.visible.from>=a.display.viewFrom&&u.visible.to<=a.display.viewTo)break}else f&&(u.visible=Rd(a.display,a.doc,d));if(!Vm(a,u))break;Fd(a);var g=pc(a);fc(a),Il(a,g),Km(a,g),u.force=!1}u.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(u.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Wm(a,u){var d=new Bd(a,u);if(Vm(a,d)){Fd(a),uw(a,d);var f=pc(a);fc(a),Il(a,f),Km(a,f),d.finish()}}function F3(a,u,d){var f=a.display,g=a.options.lineNumbers,y=f.lineDiv,w=y.firstChild;function k(ye){var Te=ye.nextSibling;return p&&M&&a.display.currentWheelTarget==ye?ye.style.display="none":ye.parentNode.removeChild(ye),Te}for(var C=f.view,O=f.viewFrom,U=0;U<C.length;U++){var ee=C[U];if(!ee.hidden)if(!ee.node||ee.node.parentNode!=y){var ue=u3(a,ee,O,d);y.insertBefore(ue,w)}else{for(;w!=ee.node;)w=k(w);var se=g&&u!=null&&u<=O&&ee.lineNumber;ee.changes&&(Fe(ee.changes,"gutter")>-1&&(se=!1),I_(a,ee,O,d)),se&&(ie(ee.lineNumber),ee.lineNumber.appendChild(document.createTextNode(ic(a.options,O)))),w=ee.node.nextSibling}O+=ee.size}for(;w;)w=k(w)}function Um(a){var u=a.gutters.offsetWidth;a.sizer.style.marginLeft=u+"px",Nn(a,"gutterChanged",a)}function Km(a,u){a.display.sizer.style.minHeight=u.docHeight+"px",a.display.heightForcer.style.top=u.docHeight+"px",a.display.gutters.style.height=u.docHeight+a.display.barHeight+Yi(a)+"px"}function cw(a){var u=a.display,d=u.view;if(!(!u.alignWidgets&&(!u.gutters.firstChild||!a.options.fixedGutter))){for(var f=Im(u)-u.scroller.scrollLeft+a.doc.scrollLeft,g=u.gutters.offsetWidth,y=f+"px",w=0;w<d.length;w++)if(!d[w].hidden){a.options.fixedGutter&&(d[w].gutter&&(d[w].gutter.style.left=y),d[w].gutterBackground&&(d[w].gutterBackground.style.left=y));var k=d[w].alignable;if(k)for(var C=0;C<k.length;C++)k[C].style.left=y}a.options.fixedGutter&&(u.gutters.style.left=f+g+"px")}}function fw(a){if(!a.options.lineNumbers)return!1;var u=a.doc,d=ic(a.options,u.first+u.size-1),f=a.display;if(d.length!=f.lineNumChars){var g=f.measure.appendChild(Q("div",[Q("div",d)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=g.firstChild.offsetWidth,w=g.offsetWidth-y;return f.lineGutter.style.width="",f.lineNumInnerWidth=Math.max(y,f.lineGutter.offsetWidth-w)+1,f.lineNumWidth=f.lineNumInnerWidth+w,f.lineNumChars=f.lineNumInnerWidth?d.length:-1,f.lineGutter.style.width=f.lineNumWidth+"px",Um(a.display),!0}return!1}function qm(a,u){for(var d=[],f=!1,g=0;g<a.length;g++){var y=a[g],w=null;if(typeof y!="string"&&(w=y.style,y=y.className),y=="CodeMirror-linenumbers")if(u)f=!0;else continue;d.push({className:y,style:w})}return u&&!f&&d.push({className:"CodeMirror-linenumbers",style:null}),d}function dw(a){var u=a.gutters,d=a.gutterSpecs;ie(u),a.lineGutter=null;for(var f=0;f<d.length;++f){var g=d[f],y=g.className,w=g.style,k=u.appendChild(Q("div",null,"CodeMirror-gutter "+y));w&&(k.style.cssText=w),y=="CodeMirror-linenumbers"&&(a.lineGutter=k,k.style.width=(a.lineNumWidth||1)+"px")}u.style.display=d.length?"":"none",Um(a)}function vc(a){dw(a.display),yr(a),cw(a)}function R3(a,u,d,f){var g=this;this.input=d,g.scrollbarFiller=Q("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=Q("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=I("div",null,"CodeMirror-code"),g.selectionDiv=Q("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=Q("div",null,"CodeMirror-cursors"),g.measure=Q("div",null,"CodeMirror-measure"),g.lineMeasure=Q("div",null,"CodeMirror-measure"),g.lineSpace=I("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var y=I("div",[g.lineSpace],"CodeMirror-lines");g.mover=Q("div",[y],null,"position: relative"),g.sizer=Q("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=Q("div",null,null,"position: absolute; height: "+ke+"px; width: 1px;"),g.gutters=Q("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=Q("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=Q("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),g.wrapper.setAttribute("translate","no"),c&&h<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!p&&!(i&&R)&&(g.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(g.wrapper):a(g.wrapper)),g.viewFrom=g.viewTo=u.first,g.reportedViewFrom=g.reportedViewTo=u.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=qm(f.gutters,f.lineNumbers),dw(g),d.init(g)}var $d=0,So=null;c?So=-.53:i?So=15:v?So=-.7:_&&(So=-1/3);function hw(a){var u=a.wheelDeltaX,d=a.wheelDeltaY;return u==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(u=a.detail),d==null&&a.detail&&a.axis==a.VERTICAL_AXIS?d=a.detail:d==null&&(d=a.wheelDelta),{x:u,y:d}}function z3(a){var u=hw(a);return u.x*=So,u.y*=So,u}function pw(a,u){var d=hw(u),f=d.x,g=d.y,y=So;u.deltaMode===0&&(f=u.deltaX,g=u.deltaY,y=1);var w=a.display,k=w.scroller,C=k.scrollWidth>k.clientWidth,O=k.scrollHeight>k.clientHeight;if(!!(f&&C||g&&O)){if(g&&M&&p){e:for(var U=u.target,ee=w.view;U!=k;U=U.parentNode)for(var ue=0;ue<ee.length;ue++)if(ee[ue].node==U){a.display.currentWheelTarget=U;break e}}if(f&&!i&&!b&&y!=null){g&&O&&hc(a,Math.max(0,k.scrollTop+g*y)),ba(a,Math.max(0,k.scrollLeft+f*y)),(!g||g&&O)&&Rt(u),w.wheelStartX=null;return}if(g&&y!=null){var se=g*y,ye=a.doc.scrollTop,Te=ye+w.wrapper.clientHeight;se<0?ye=Math.max(0,ye+se-50):Te=Math.min(a.doc.height,Te+se+50),Wm(a,{top:ye,bottom:Te})}$d<20&&u.deltaMode!==0&&(w.wheelStartX==null?(w.wheelStartX=k.scrollLeft,w.wheelStartY=k.scrollTop,w.wheelDX=f,w.wheelDY=g,setTimeout(function(){if(w.wheelStartX!=null){var Oe=k.scrollLeft-w.wheelStartX,Re=k.scrollTop-w.wheelStartY,$e=Re&&w.wheelDY&&Re/w.wheelDY||Oe&&w.wheelDX&&Oe/w.wheelDX;w.wheelStartX=w.wheelStartY=null,$e&&(So=(So*$d+$e)/($d+1),++$d)}},200)):(w.wheelDX+=f,w.wheelDY+=g))}}var Wr=function(a,u){this.ranges=a,this.primIndex=u};Wr.prototype.primary=function(){return this.ranges[this.primIndex]},Wr.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var d=this.ranges[u],f=a.ranges[u];if(!ne(d.anchor,f.anchor)||!ne(d.head,f.head))return!1}return!0},Wr.prototype.deepCopy=function(){for(var a=[],u=0;u<this.ranges.length;u++)a[u]=new Bt(xe(this.ranges[u].anchor),xe(this.ranges[u].head));return new Wr(a,this.primIndex)},Wr.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},Wr.prototype.contains=function(a,u){u||(u=a);for(var d=0;d<this.ranges.length;d++){var f=this.ranges[d];if(N(u,f.from())>=0&&N(a,f.to())<=0)return d}return-1};var Bt=function(a,u){this.anchor=a,this.head=u};Bt.prototype.from=function(){return ct(this.anchor,this.head)},Bt.prototype.to=function(){return De(this.anchor,this.head)},Bt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Di(a,u,d){var f=a&&a.options.selectionsMayTouch,g=u[d];u.sort(function(ue,se){return N(ue.from(),se.from())}),d=Fe(u,g);for(var y=1;y<u.length;y++){var w=u[y],k=u[y-1],C=N(k.to(),w.from());if(f&&!w.empty()?C>0:C>=0){var O=ct(k.from(),w.from()),U=De(k.to(),w.to()),ee=k.empty()?w.from()==w.head:k.from()==k.head;y<=d&&--d,u.splice(--y,2,new Bt(ee?U:O,ee?O:U))}}return new Wr(u,d)}function fs(a,u){return new Wr([new Bt(a,u||a)],0)}function ds(a){return a.text?Ee(a.from.line+a.text.length-1,ce(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function gw(a,u){if(N(a,u.from)<0)return a;if(N(a,u.to)<=0)return ds(u);var d=a.line+u.text.length-(u.to.line-u.from.line)-1,f=a.ch;return a.line==u.to.line&&(f+=ds(u).ch-u.to.ch),Ee(d,f)}function Gm(a,u){for(var d=[],f=0;f<a.sel.ranges.length;f++){var g=a.sel.ranges[f];d.push(new Bt(gw(g.anchor,u),gw(g.head,u)))}return Di(a.cm,d,a.sel.primIndex)}function mw(a,u,d){return a.line==u.line?Ee(d.line,a.ch-u.ch+d.ch):Ee(d.line+(a.line-u.line),a.ch)}function B3(a,u,d){for(var f=[],g=Ee(a.first,0),y=g,w=0;w<u.length;w++){var k=u[w],C=mw(k.from,g,y),O=mw(ds(k),g,y);if(g=k.to,y=O,d=="around"){var U=a.sel.ranges[w],ee=N(U.head,U.anchor)<0;f[w]=new Bt(ee?O:C,ee?C:O)}else f[w]=new Bt(C,C)}return new Wr(f,a.sel.primIndex)}function Ym(a){a.doc.mode=Tl(a.options,a.doc.modeOption),yc(a)}function yc(a){a.doc.iter(function(u){u.stateAfter&&(u.stateAfter=null),u.styles&&(u.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,mc(a,100),a.state.modeGen++,a.curOp&&yr(a)}function vw(a,u){return u.from.ch==0&&u.to.ch==0&&ce(u.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Jm(a,u,d,f){function g($e){return d?d[$e]:null}function y($e,ze,qe){q6($e,ze,qe,f),Nn($e,"change",$e,u)}function w($e,ze){for(var qe=[],it=$e;it<ze;++it)qe.push(new Al(O[it],g(it),f));return qe}var k=u.from,C=u.to,O=u.text,U=Je(a,k.line),ee=Je(a,C.line),ue=ce(O),se=g(O.length-1),ye=C.line-k.line;if(u.full)a.insert(0,w(0,O.length)),a.remove(O.length,a.size-O.length);else if(vw(a,u)){var Te=w(0,O.length-1);y(ee,ee.text,se),ye&&a.remove(k.line,ye),Te.length&&a.insert(k.line,Te)}else if(U==ee)if(O.length==1)y(U,U.text.slice(0,k.ch)+ue+U.text.slice(C.ch),se);else{var Oe=w(1,O.length-1);Oe.push(new Al(ue+U.text.slice(C.ch),se,f)),y(U,U.text.slice(0,k.ch)+O[0],g(0)),a.insert(k.line+1,Oe)}else if(O.length==1)y(U,U.text.slice(0,k.ch)+O[0]+ee.text.slice(C.ch),g(0)),a.remove(k.line+1,ye);else{y(U,U.text.slice(0,k.ch)+O[0],g(0)),y(ee,ue+ee.text.slice(C.ch),se);var Re=w(1,O.length-1);ye>1&&a.remove(k.line+1,ye-1),a.insert(k.line+1,Re)}Nn(a,"change",a,u)}function hs(a,u,d){function f(g,y,w){if(g.linked)for(var k=0;k<g.linked.length;++k){var C=g.linked[k];if(C.doc!=y){var O=w&&C.sharedHist;d&&!O||(u(C.doc,O),f(C.doc,g,O))}}}f(a,null,!0)}function yw(a,u){if(u.cm)throw new Error("This document is already in use.");a.doc=u,u.cm=a,Fm(a),Ym(a),bw(a),a.options.direction=u.direction,a.options.lineWrapping||Sm(a),a.options.mode=u.modeOption,yr(a)}function bw(a){(a.doc.direction=="rtl"?Ve:V)(a.display.lineDiv,"CodeMirror-rtl")}function $3(a){Dr(a,function(){bw(a),yr(a)})}function Hd(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Xm(a,u){var d={from:xe(u.from),to:ds(u),text:Ki(a,u.from,u.to)};return xw(a,d,u.from.line,u.to.line+1),hs(a,function(f){return xw(f,d,u.from.line,u.to.line+1)},!0),d}function _w(a){for(;a.length;){var u=ce(a);if(u.ranges)a.pop();else break}}function H3(a,u){if(u)return _w(a.done),ce(a.done);if(a.done.length&&!ce(a.done).ranges)return ce(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),ce(a.done)}function ww(a,u,d,f){var g=a.history;g.undone.length=0;var y=+new Date,w,k;if((g.lastOp==f||g.lastOrigin==u.origin&&u.origin&&(u.origin.charAt(0)=="+"&&g.lastModTime>y-(a.cm?a.cm.options.historyEventDelay:500)||u.origin.charAt(0)=="*"))&&(w=H3(g,g.lastOp==f)))k=ce(w.changes),N(u.from,u.to)==0&&N(u.from,k.to)==0?k.to=ds(u):w.changes.push(Xm(a,u));else{var C=ce(g.done);for((!C||!C.ranges)&&jd(a.sel,g.done),w={changes:[Xm(a,u)],generation:g.generation},g.done.push(w);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(d),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=y,g.lastOp=g.lastSelOp=f,g.lastOrigin=g.lastSelOrigin=u.origin,k||we(a,"historyAdded")}function j3(a,u,d,f){var g=u.charAt(0);return g=="*"||g=="+"&&d.ranges.length==f.ranges.length&&d.somethingSelected()==f.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function V3(a,u,d,f){var g=a.history,y=f&&f.origin;d==g.lastSelOp||y&&g.lastSelOrigin==y&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==y||j3(a,y,ce(g.done),u))?g.done[g.done.length-1]=u:jd(u,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=y,g.lastSelOp=d,f&&f.clearRedo!==!1&&_w(g.undone)}function jd(a,u){var d=ce(u);d&&d.ranges&&d.equals(a)||u.push(a)}function xw(a,u,d,f){var g=u["spans_"+a.id],y=0;a.iter(Math.max(a.first,d),Math.min(a.first+a.size,f),function(w){w.markedSpans&&((g||(g=u["spans_"+a.id]={}))[y]=w.markedSpans),++y})}function W3(a){if(!a)return null;for(var u,d=0;d<a.length;++d)a[d].marker.explicitlyCleared?u||(u=a.slice(0,d)):u&&u.push(a[d]);return u?u.length?u:null:a}function U3(a,u){var d=u["spans_"+a.id];if(!d)return null;for(var f=[],g=0;g<u.text.length;++g)f.push(W3(d[g]));return f}function kw(a,u){var d=U3(a,u),f=wm(a,u);if(!d)return f;if(!f)return d;for(var g=0;g<d.length;++g){var y=d[g],w=f[g];if(y&&w){e:for(var k=0;k<w.length;++k){for(var C=w[k],O=0;O<y.length;++O)if(y[O].marker==C.marker)continue e;y.push(C)}}else w&&(d[g]=w)}return d}function Fl(a,u,d){for(var f=[],g=0;g<a.length;++g){var y=a[g];if(y.ranges){f.push(d?Wr.prototype.deepCopy.call(y):y);continue}var w=y.changes,k=[];f.push({changes:k});for(var C=0;C<w.length;++C){var O=w[C],U=void 0;if(k.push({from:O.from,to:O.to,text:O.text}),u)for(var ee in O)(U=ee.match(/^spans_(\d+)$/))&&Fe(u,Number(U[1]))>-1&&(ce(k)[ee]=O[ee],delete O[ee])}}return f}function Zm(a,u,d,f){if(f){var g=a.anchor;if(d){var y=N(u,g)<0;y!=N(d,g)<0?(g=u,u=d):y!=N(u,d)<0&&(u=d)}return new Bt(g,u)}else return new Bt(d||u,u)}function Vd(a,u,d,f,g){g==null&&(g=a.cm&&(a.cm.display.shift||a.extend)),Yn(a,new Wr([Zm(a.sel.primary(),u,d,g)],0),f)}function Cw(a,u,d){for(var f=[],g=a.cm&&(a.cm.display.shift||a.extend),y=0;y<a.sel.ranges.length;y++)f[y]=Zm(a.sel.ranges[y],u[y],null,g);var w=Di(a.cm,f,a.sel.primIndex);Yn(a,w,d)}function Qm(a,u,d,f){var g=a.sel.ranges.slice(0);g[u]=d,Yn(a,Di(a.cm,g,a.sel.primIndex),f)}function Sw(a,u,d,f){Yn(a,fs(u,d),f)}function K3(a,u,d){var f={ranges:u.ranges,update:function(g){this.ranges=[];for(var y=0;y<g.length;y++)this.ranges[y]=new Bt(Ue(a,g[y].anchor),Ue(a,g[y].head))},origin:d&&d.origin};return we(a,"beforeSelectionChange",a,f),a.cm&&we(a.cm,"beforeSelectionChange",a.cm,f),f.ranges!=u.ranges?Di(a.cm,f.ranges,f.ranges.length-1):u}function Tw(a,u,d){var f=a.history.done,g=ce(f);g&&g.ranges?(f[f.length-1]=u,Wd(a,u,d)):Yn(a,u,d)}function Yn(a,u,d){Wd(a,u,d),V3(a,a.sel,a.cm?a.cm.curOp.id:NaN,d)}function Wd(a,u,d){(dt(a,"beforeSelectionChange")||a.cm&&dt(a.cm,"beforeSelectionChange"))&&(u=K3(a,u,d));var f=d&&d.bias||(N(u.primary().head,a.sel.primary().head)<0?-1:1);Ew(a,Dw(a,u,f,!0)),!(d&&d.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&Pl(a.cm)}function Ew(a,u){u.equals(a.sel)||(a.sel=u,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,qt(a.cm)),Nn(a,"cursorActivity",a))}function Aw(a){Ew(a,Dw(a,a.sel,null,!1))}function Dw(a,u,d,f){for(var g,y=0;y<u.ranges.length;y++){var w=u.ranges[y],k=u.ranges.length==a.sel.ranges.length&&a.sel.ranges[y],C=Ud(a,w.anchor,k&&k.anchor,d,f),O=Ud(a,w.head,k&&k.head,d,f);(g||C!=w.anchor||O!=w.head)&&(g||(g=u.ranges.slice(0,y)),g[y]=new Bt(C,O))}return g?Di(a.cm,g,u.primIndex):u}function Rl(a,u,d,f,g){var y=Je(a,u.line);if(y.markedSpans)for(var w=0;w<y.markedSpans.length;++w){var k=y.markedSpans[w],C=k.marker,O="selectLeft"in C?!C.selectLeft:C.inclusiveLeft,U="selectRight"in C?!C.selectRight:C.inclusiveRight;if((k.from==null||(O?k.from<=u.ch:k.from<u.ch))&&(k.to==null||(U?k.to>=u.ch:k.to>u.ch))){if(g&&(we(C,"beforeCursorEnter"),C.explicitlyCleared))if(y.markedSpans){--w;continue}else break;if(!C.atomic)continue;if(d){var ee=C.find(f<0?1:-1),ue=void 0;if((f<0?U:O)&&(ee=Mw(a,ee,-f,ee&&ee.line==u.line?y:null)),ee&&ee.line==u.line&&(ue=N(ee,d))&&(f<0?ue<0:ue>0))return Rl(a,ee,u,f,g)}var se=C.find(f<0?-1:1);return(f<0?O:U)&&(se=Mw(a,se,f,se.line==u.line?y:null)),se?Rl(a,se,u,f,g):null}}return u}function Ud(a,u,d,f,g){var y=f||1,w=Rl(a,u,d,y,g)||!g&&Rl(a,u,d,y,!0)||Rl(a,u,d,-y,g)||!g&&Rl(a,u,d,-y,!0);return w||(a.cantEdit=!0,Ee(a.first,0))}function Mw(a,u,d,f){return d<0&&u.ch==0?u.line>a.first?Ue(a,Ee(u.line-1)):null:d>0&&u.ch==(f||Je(a,u.line)).text.length?u.line<a.first+a.size-1?Ee(u.line+1,0):null:new Ee(u.line,u.ch+d)}function Ow(a){a.setSelection(Ee(a.firstLine(),0),Ee(a.lastLine()),He)}function Nw(a,u,d){var f={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){return f.canceled=!0}};return d&&(f.update=function(g,y,w,k){g&&(f.from=Ue(a,g)),y&&(f.to=Ue(a,y)),w&&(f.text=w),k!==void 0&&(f.origin=k)}),we(a,"beforeChange",a,f),a.cm&&we(a.cm,"beforeChange",a.cm,f),f.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:f.from,to:f.to,text:f.text,origin:f.origin}}function zl(a,u,d){if(a.cm){if(!a.cm.curOp)return Ln(a.cm,zl)(a,u,d);if(a.cm.state.suppressEdits)return}if(!((dt(a,"beforeChange")||a.cm&&dt(a.cm,"beforeChange"))&&(u=Nw(a,u,!0),!u))){var f=k_&&!d&&V6(a,u.from,u.to);if(f)for(var g=f.length-1;g>=0;--g)Lw(a,{from:f[g].from,to:f[g].to,text:g?[""]:u.text,origin:u.origin});else Lw(a,u)}}function Lw(a,u){if(!(u.text.length==1&&u.text[0]==""&&N(u.from,u.to)==0)){var d=Gm(a,u);ww(a,u,d,a.cm?a.cm.curOp.id:NaN),bc(a,u,d,wm(a,u));var f=[];hs(a,function(g,y){!y&&Fe(f,g.history)==-1&&(Rw(g.history,u),f.push(g.history)),bc(g,u,null,wm(g,u))})}}function Kd(a,u,d){var f=a.cm&&a.cm.state.suppressEdits;if(!(f&&!d)){for(var g=a.history,y,w=a.sel,k=u=="undo"?g.done:g.undone,C=u=="undo"?g.undone:g.done,O=0;O<k.length&&(y=k[O],!(d?y.ranges&&!y.equals(a.sel):!y.ranges));O++);if(O!=k.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(y=k.pop(),y.ranges){if(jd(y,C),d&&!y.equals(a.sel)){Yn(a,y,{clearRedo:!1});return}w=y}else if(f){k.push(y);return}else break;var U=[];jd(w,C),C.push({changes:U,generation:g.generation}),g.generation=y.generation||++g.maxGeneration;for(var ee=dt(a,"beforeChange")||a.cm&&dt(a.cm,"beforeChange"),ue=function(Te){var Oe=y.changes[Te];if(Oe.origin=u,ee&&!Nw(a,Oe,!1))return k.length=0,{};U.push(Xm(a,Oe));var Re=Te?Gm(a,Oe):ce(k);bc(a,Oe,Re,kw(a,Oe)),!Te&&a.cm&&a.cm.scrollIntoView({from:Oe.from,to:ds(Oe)});var $e=[];hs(a,function(ze,qe){!qe&&Fe($e,ze.history)==-1&&(Rw(ze.history,Oe),$e.push(ze.history)),bc(ze,Oe,null,kw(ze,Oe))})},se=y.changes.length-1;se>=0;--se){var ye=ue(se);if(ye)return ye.v}}}}function Pw(a,u){if(u!=0&&(a.first+=u,a.sel=new Wr(me(a.sel.ranges,function(g){return new Bt(Ee(g.anchor.line+u,g.anchor.ch),Ee(g.head.line+u,g.head.ch))}),a.sel.primIndex),a.cm)){yr(a.cm,a.first,a.first-u,u);for(var d=a.cm.display,f=d.viewFrom;f<d.viewTo;f++)us(a.cm,f,"gutter")}}function bc(a,u,d,f){if(a.cm&&!a.cm.curOp)return Ln(a.cm,bc)(a,u,d,f);if(u.to.line<a.first){Pw(a,u.text.length-1-(u.to.line-u.from.line));return}if(!(u.from.line>a.lastLine())){if(u.from.line<a.first){var g=u.text.length-1-(a.first-u.from.line);Pw(a,g),u={from:Ee(a.first,0),to:Ee(u.to.line+g,u.to.ch),text:[ce(u.text)],origin:u.origin}}var y=a.lastLine();u.to.line>y&&(u={from:u.from,to:Ee(y,Je(a,y).text.length),text:[u.text[0]],origin:u.origin}),u.removed=Ki(a,u.from,u.to),d||(d=Gm(a,u)),a.cm?q3(a.cm,u,f):Jm(a,u,f),Wd(a,d,He),a.cantEdit&&Ud(a,Ee(a.firstLine(),0))&&(a.cantEdit=!1)}}function q3(a,u,d){var f=a.doc,g=a.display,y=u.from,w=u.to,k=!1,C=y.line;a.options.lineWrapping||(C=zt(Ei(Je(f,y.line))),f.iter(C,w.line+1,function(se){if(se==g.maxLine)return k=!0,!0})),f.sel.contains(u.from,u.to)>-1&&qt(a),Jm(f,u,d,Q_(a)),a.options.lineWrapping||(f.iter(C,y.line+u.text.length,function(se){var ye=Dd(se);ye>g.maxLineLength&&(g.maxLine=se,g.maxLineLength=ye,g.maxLineChanged=!0,k=!1)}),k&&(a.curOp.updateMaxLine=!0)),F6(f,y.line),mc(a,400);var O=u.text.length-(w.line-y.line)-1;u.full?yr(a):y.line==w.line&&u.text.length==1&&!vw(a.doc,u)?us(a,y.line,"text"):yr(a,y.line,w.line+1,O);var U=dt(a,"changes"),ee=dt(a,"change");if(ee||U){var ue={from:y,to:w,text:u.text,removed:u.removed,origin:u.origin};ee&&Nn(a,"change",a,ue),U&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(ue)}a.display.selForContextMenu=null}function Bl(a,u,d,f,g){var y;f||(f=d),N(f,d)<0&&(y=[f,d],d=y[0],f=y[1]),typeof u=="string"&&(u=a.splitLines(u)),zl(a,{from:d,to:f,text:u,origin:g})}function Iw(a,u,d,f){d<a.line?a.line+=f:u<a.line&&(a.line=u,a.ch=0)}function Fw(a,u,d,f){for(var g=0;g<a.length;++g){var y=a[g],w=!0;if(y.ranges){y.copied||(y=a[g]=y.deepCopy(),y.copied=!0);for(var k=0;k<y.ranges.length;k++)Iw(y.ranges[k].anchor,u,d,f),Iw(y.ranges[k].head,u,d,f);continue}for(var C=0;C<y.changes.length;++C){var O=y.changes[C];if(d<O.from.line)O.from=Ee(O.from.line+f,O.from.ch),O.to=Ee(O.to.line+f,O.to.ch);else if(u<=O.to.line){w=!1;break}}w||(a.splice(0,g+1),g=0)}}function Rw(a,u){var d=u.from.line,f=u.to.line,g=u.text.length-(f-d)-1;Fw(a.done,d,f,g),Fw(a.undone,d,f,g)}function _c(a,u,d,f){var g=u,y=u;return typeof u=="number"?y=Je(a,Ot(a,u)):g=zt(u),g==null?null:(f(y,g)&&a.cm&&us(a.cm,g,d),y)}function wc(a){this.lines=a,this.parent=null;for(var u=0,d=0;d<a.length;++d)a[d].parent=this,u+=a[d].height;this.height=u}wc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,u){for(var d=a,f=a+u;d<f;++d){var g=this.lines[d];this.height-=g.height,G6(g),Nn(g,"delete")}this.lines.splice(a,u)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,u,d){this.height+=d,this.lines=this.lines.slice(0,a).concat(u).concat(this.lines.slice(a));for(var f=0;f<u.length;++f)u[f].parent=this},iterN:function(a,u,d){for(var f=a+u;a<f;++a)if(d(this.lines[a]))return!0}};function xc(a){this.children=a;for(var u=0,d=0,f=0;f<a.length;++f){var g=a[f];u+=g.chunkSize(),d+=g.height,g.parent=this}this.size=u,this.height=d,this.parent=null}xc.prototype={chunkSize:function(){return this.size},removeInner:function(a,u){this.size-=u;for(var d=0;d<this.children.length;++d){var f=this.children[d],g=f.chunkSize();if(a<g){var y=Math.min(u,g-a),w=f.height;if(f.removeInner(a,y),this.height-=w-f.height,g==y&&(this.children.splice(d--,1),f.parent=null),(u-=y)==0)break;a=0}else a-=g}if(this.size-u<25&&(this.children.length>1||!(this.children[0]instanceof wc))){var k=[];this.collapse(k),this.children=[new wc(k)],this.children[0].parent=this}},collapse:function(a){for(var u=0;u<this.children.length;++u)this.children[u].collapse(a)},insertInner:function(a,u,d){this.size+=u.length,this.height+=d;for(var f=0;f<this.children.length;++f){var g=this.children[f],y=g.chunkSize();if(a<=y){if(g.insertInner(a,u,d),g.lines&&g.lines.length>50){for(var w=g.lines.length%25+25,k=w;k<g.lines.length;){var C=new wc(g.lines.slice(k,k+=25));g.height-=C.height,this.children.splice(++f,0,C),C.parent=this}g.lines=g.lines.slice(0,w),this.maybeSpill()}break}a-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var u=a.children.splice(a.children.length-5,5),d=new xc(u);if(a.parent){a.size-=d.size,a.height-=d.height;var g=Fe(a.parent.children,a);a.parent.children.splice(g+1,0,d)}else{var f=new xc(a.children);f.parent=a,a.children=[f,d],a=f}d.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,u,d){for(var f=0;f<this.children.length;++f){var g=this.children[f],y=g.chunkSize();if(a<y){var w=Math.min(u,y-a);if(g.iterN(a,w,d))return!0;if((u-=w)==0)break;a=0}else a-=y}}};var kc=function(a,u,d){if(d)for(var f in d)d.hasOwnProperty(f)&&(this[f]=d[f]);this.doc=a,this.node=u};kc.prototype.clear=function(){var a=this.doc.cm,u=this.line.widgets,d=this.line,f=zt(d);if(!(f==null||!u)){for(var g=0;g<u.length;++g)u[g]==this&&u.splice(g--,1);u.length||(d.widgets=null);var y=uc(this);Ar(d,Math.max(0,d.height-y)),a&&(Dr(a,function(){zw(a,d,-y),us(a,f,"widget")}),Nn(a,"lineWidgetCleared",a,this,f))}},kc.prototype.changed=function(){var a=this,u=this.height,d=this.doc.cm,f=this.line;this.height=null;var g=uc(this)-u;!g||(ls(this.doc,f)||Ar(f,f.height+g),d&&Dr(d,function(){d.curOp.forceUpdate=!0,zw(d,f,g),Nn(d,"lineWidgetChanged",d,a,zt(f))}))},Ft(kc);function zw(a,u,d){ko(u)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&jm(a,d)}function G3(a,u,d,f){var g=new kc(a,d,f),y=a.cm;return y&&g.noHScroll&&(y.display.alignWidgets=!0),_c(a,u,"widget",function(w){var k=w.widgets||(w.widgets=[]);if(g.insertAt==null?k.push(g):k.splice(Math.min(k.length,Math.max(0,g.insertAt)),0,g),g.line=w,y&&!ls(a,w)){var C=ko(w)<a.scrollTop;Ar(w,w.height+uc(g)),C&&jm(y,g.height),y.curOp.forceUpdate=!0}return!0}),y&&Nn(y,"lineWidgetAdded",y,g,typeof u=="number"?u:zt(u)),g}var Bw=0,ps=function(a,u){this.lines=[],this.type=u,this.doc=a,this.id=++Bw};ps.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,u=a&&!a.curOp;if(u&&wa(a),dt(this,"clear")){var d=this.find();d&&Nn(this,"clear",d.from,d.to)}for(var f=null,g=null,y=0;y<this.lines.length;++y){var w=this.lines[y],k=sc(w.markedSpans,this);a&&!this.collapsed?us(a,zt(w),"text"):a&&(k.to!=null&&(g=zt(w)),k.from!=null&&(f=zt(w))),w.markedSpans=B6(w.markedSpans,k),k.from==null&&this.collapsed&&!ls(this.doc,w)&&a&&Ar(w,Ol(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var C=0;C<this.lines.length;++C){var O=Ei(this.lines[C]),U=Dd(O);U>a.display.maxLineLength&&(a.display.maxLine=O,a.display.maxLineLength=U,a.display.maxLineChanged=!0)}f!=null&&a&&this.collapsed&&yr(a,f,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Aw(a.doc)),a&&Nn(a,"markerCleared",a,this,f,g),u&&xa(a),this.parent&&this.parent.clear()}},ps.prototype.find=function(a,u){a==null&&this.type=="bookmark"&&(a=1);for(var d,f,g=0;g<this.lines.length;++g){var y=this.lines[g],w=sc(y.markedSpans,this);if(w.from!=null&&(d=Ee(u?y:zt(y),w.from),a==-1))return d;if(w.to!=null&&(f=Ee(u?y:zt(y),w.to),a==1))return f}return d&&{from:d,to:f}},ps.prototype.changed=function(){var a=this,u=this.find(-1,!0),d=this,f=this.doc.cm;!u||!f||Dr(f,function(){var g=u.line,y=zt(u.line),w=Dm(f,y);if(w&&(U_(w),f.curOp.selectionChanged=f.curOp.forceUpdate=!0),f.curOp.updateMaxLine=!0,!ls(d.doc,g)&&d.height!=null){var k=d.height;d.height=null;var C=uc(d)-k;C&&Ar(g,g.height+C)}Nn(f,"markerChanged",f,a)})},ps.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(!u.maybeHiddenMarkers||Fe(u.maybeHiddenMarkers,this)==-1)&&(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},ps.prototype.detachLine=function(a){if(this.lines.splice(Fe(this.lines,a),1),!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;(u.maybeHiddenMarkers||(u.maybeHiddenMarkers=[])).push(this)}},Ft(ps);function $l(a,u,d,f,g){if(f&&f.shared)return Y3(a,u,d,f,g);if(a.cm&&!a.cm.curOp)return Ln(a.cm,$l)(a,u,d,f,g);var y=new ps(a,g),w=N(u,d);if(f&&pt(f,y,!1),w>0||w==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=I("span",[y.replacedWith],"CodeMirror-widget"),f.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),f.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(D_(a,u.line,u,d,y)||u.line!=d.line&&D_(a,d.line,u,d,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");z6()}y.addToHistory&&ww(a,{from:u,to:d,origin:"markText"},a.sel,NaN);var k=u.line,C=a.cm,O;if(a.iter(k,d.line+1,function(ee){C&&y.collapsed&&!C.options.lineWrapping&&Ei(ee)==C.display.maxLine&&(O=!0),y.collapsed&&k!=u.line&&Ar(ee,0),$6(ee,new Sd(y,k==u.line?u.ch:null,k==d.line?d.ch:null),a.cm&&a.cm.curOp),++k}),y.collapsed&&a.iter(u.line,d.line+1,function(ee){ls(a,ee)&&Ar(ee,0)}),y.clearOnEnter&&oe(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(R6(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),y.collapsed&&(y.id=++Bw,y.atomic=!0),C){if(O&&(C.curOp.updateMaxLine=!0),y.collapsed)yr(C,u.line,d.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var U=u.line;U<=d.line;U++)us(C,U,"text");y.atomic&&Aw(C.doc),Nn(C,"markerAdded",C,y)}return y}var Cc=function(a,u){this.markers=a,this.primary=u;for(var d=0;d<a.length;++d)a[d].parent=this};Cc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Nn(this,"clear")}},Cc.prototype.find=function(a,u){return this.primary.find(a,u)},Ft(Cc);function Y3(a,u,d,f,g){f=pt(f),f.shared=!1;var y=[$l(a,u,d,f,g)],w=y[0],k=f.widgetNode;return hs(a,function(C){k&&(f.widgetNode=k.cloneNode(!0)),y.push($l(C,Ue(C,u),Ue(C,d),f,g));for(var O=0;O<C.linked.length;++O)if(C.linked[O].isParent)return;w=ce(y)}),new Cc(y,w)}function $w(a){return a.findMarks(Ee(a.first,0),a.clipPos(Ee(a.lastLine())),function(u){return u.parent})}function J3(a,u){for(var d=0;d<u.length;d++){var f=u[d],g=f.find(),y=a.clipPos(g.from),w=a.clipPos(g.to);if(N(y,w)){var k=$l(a,y,w,f.primary,f.primary.type);f.markers.push(k),k.parent=f}}}function X3(a){for(var u=function(f){var g=a[f],y=[g.primary.doc];hs(g.primary.doc,function(C){return y.push(C)});for(var w=0;w<g.markers.length;w++){var k=g.markers[w];Fe(y,k.doc)==-1&&(k.parent=null,g.markers.splice(w--,1))}},d=0;d<a.length;d++)u(d)}var Z3=0,br=function(a,u,d,f,g){if(!(this instanceof br))return new br(a,u,d,f,g);d==null&&(d=0),xc.call(this,[new wc([new Al("",null)])]),this.first=d,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=d;var y=Ee(d,0);this.sel=fs(y),this.history=new Hd(null),this.id=++Z3,this.modeOption=u,this.lineSep=f,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),Jm(this,{from:y,to:y,text:a}),Yn(this,fs(y),He)};br.prototype=G(xc.prototype,{constructor:br,iter:function(a,u,d){d?this.iterN(a-this.first,u-a,d):this.iterN(this.first,this.first+this.size,a)},insert:function(a,u){for(var d=0,f=0;f<u.length;++f)d+=u[f].height;this.insertInner(a-this.first,u,d)},remove:function(a,u){this.removeInner(a-this.first,u)},getValue:function(a){var u=rc(this,this.first,this.first+this.size);return a===!1?u:u.join(a||this.lineSeparator())},setValue:Pn(function(a){var u=Ee(this.first,0),d=this.first+this.size-1;zl(this,{from:u,to:Ee(d,Je(this,d).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&dc(this.cm,0,0),Yn(this,fs(u),He)}),replaceRange:function(a,u,d,f){u=Ue(this,u),d=d?Ue(this,d):u,Bl(this,a,u,d,f)},getRange:function(a,u,d){var f=Ki(this,Ue(this,a),Ue(this,u));return d===!1?f:d===""?f.join(""):f.join(d||this.lineSeparator())},getLine:function(a){var u=this.getLineHandle(a);return u&&u.text},getLineHandle:function(a){if(pa(this,a))return Je(this,a)},getLineNumber:function(a){return zt(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=Je(this,a)),Ei(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Ue(this,a)},getCursor:function(a){var u=this.sel.primary(),d;return a==null||a=="head"?d=u.head:a=="anchor"?d=u.anchor:a=="end"||a=="to"||a===!1?d=u.to():d=u.from(),d},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Pn(function(a,u,d){Sw(this,Ue(this,typeof a=="number"?Ee(a,u||0):a),null,d)}),setSelection:Pn(function(a,u,d){Sw(this,Ue(this,a),Ue(this,u||a),d)}),extendSelection:Pn(function(a,u,d){Vd(this,Ue(this,a),u&&Ue(this,u),d)}),extendSelections:Pn(function(a,u){Cw(this,Vr(this,a),u)}),extendSelectionsBy:Pn(function(a,u){var d=me(this.sel.ranges,a);Cw(this,Vr(this,d),u)}),setSelections:Pn(function(a,u,d){if(!!a.length){for(var f=[],g=0;g<a.length;g++)f[g]=new Bt(Ue(this,a[g].anchor),Ue(this,a[g].head||a[g].anchor));u==null&&(u=Math.min(a.length-1,this.sel.primIndex)),Yn(this,Di(this.cm,f,u),d)}}),addSelection:Pn(function(a,u,d){var f=this.sel.ranges.slice(0);f.push(new Bt(Ue(this,a),Ue(this,u||a))),Yn(this,Di(this.cm,f,f.length-1),d)}),getSelection:function(a){for(var u=this.sel.ranges,d,f=0;f<u.length;f++){var g=Ki(this,u[f].from(),u[f].to());d=d?d.concat(g):g}return a===!1?d:d.join(a||this.lineSeparator())},getSelections:function(a){for(var u=[],d=this.sel.ranges,f=0;f<d.length;f++){var g=Ki(this,d[f].from(),d[f].to());a!==!1&&(g=g.join(a||this.lineSeparator())),u[f]=g}return u},replaceSelection:function(a,u,d){for(var f=[],g=0;g<this.sel.ranges.length;g++)f[g]=a;this.replaceSelections(f,u,d||"+input")},replaceSelections:Pn(function(a,u,d){for(var f=[],g=this.sel,y=0;y<g.ranges.length;y++){var w=g.ranges[y];f[y]={from:w.from(),to:w.to(),text:this.splitLines(a[y]),origin:d}}for(var k=u&&u!="end"&&B3(this,f,u),C=f.length-1;C>=0;C--)zl(this,f[C]);k?Tw(this,k):this.cm&&Pl(this.cm)}),undo:Pn(function(){Kd(this,"undo")}),redo:Pn(function(){Kd(this,"redo")}),undoSelection:Pn(function(){Kd(this,"undo",!0)}),redoSelection:Pn(function(){Kd(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,u=0,d=0,f=0;f<a.done.length;f++)a.done[f].ranges||++u;for(var g=0;g<a.undone.length;g++)a.undone[g].ranges||++d;return{undo:u,redo:d}},clearHistory:function(){var a=this;this.history=new Hd(this.history),hs(this,function(u){return u.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Fl(this.history.done),undone:Fl(this.history.undone)}},setHistory:function(a){var u=this.history=new Hd(this.history);u.done=Fl(a.done.slice(0),null,!0),u.undone=Fl(a.undone.slice(0),null,!0)},setGutterMarker:Pn(function(a,u,d){return _c(this,a,"gutter",function(f){var g=f.gutterMarkers||(f.gutterMarkers={});return g[u]=d,!d&&H(g)&&(f.gutterMarkers=null),!0})}),clearGutter:Pn(function(a){var u=this;this.iter(function(d){d.gutterMarkers&&d.gutterMarkers[a]&&_c(u,d,"gutter",function(){return d.gutterMarkers[a]=null,H(d.gutterMarkers)&&(d.gutterMarkers=null),!0})})}),lineInfo:function(a){var u;if(typeof a=="number"){if(!pa(this,a)||(u=a,a=Je(this,a),!a))return null}else if(u=zt(a),u==null)return null;return{line:u,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Pn(function(a,u,d){return _c(this,a,u=="gutter"?"gutter":"class",function(f){var g=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass";if(!f[g])f[g]=d;else{if(L(d).test(f[g]))return!1;f[g]+=" "+d}return!0})}),removeLineClass:Pn(function(a,u,d){return _c(this,a,u=="gutter"?"gutter":"class",function(f){var g=u=="text"?"textClass":u=="background"?"bgClass":u=="gutter"?"gutterClass":"wrapClass",y=f[g];if(y)if(d==null)f[g]=null;else{var w=y.match(L(d));if(!w)return!1;var k=w.index+w[0].length;f[g]=y.slice(0,w.index)+(!w.index||k==y.length?"":" ")+y.slice(k)||null}else return!1;return!0})}),addLineWidget:Pn(function(a,u,d){return G3(this,a,u,d)}),removeLineWidget:function(a){a.clear()},markText:function(a,u,d){return $l(this,Ue(this,a),Ue(this,u),d,d&&d.type||"range")},setBookmark:function(a,u){var d={replacedWith:u&&(u.nodeType==null?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};return a=Ue(this,a),$l(this,a,a,d,"bookmark")},findMarksAt:function(a){a=Ue(this,a);var u=[],d=Je(this,a.line).markedSpans;if(d)for(var f=0;f<d.length;++f){var g=d[f];(g.from==null||g.from<=a.ch)&&(g.to==null||g.to>=a.ch)&&u.push(g.marker.parent||g.marker)}return u},findMarks:function(a,u,d){a=Ue(this,a),u=Ue(this,u);var f=[],g=a.line;return this.iter(a.line,u.line+1,function(y){var w=y.markedSpans;if(w)for(var k=0;k<w.length;k++){var C=w[k];!(C.to!=null&&g==a.line&&a.ch>=C.to||C.from==null&&g!=a.line||C.from!=null&&g==u.line&&C.from>=u.ch)&&(!d||d(C.marker))&&f.push(C.marker.parent||C.marker)}++g}),f},getAllMarks:function(){var a=[];return this.iter(function(u){var d=u.markedSpans;if(d)for(var f=0;f<d.length;++f)d[f].from!=null&&a.push(d[f].marker)}),a},posFromIndex:function(a){var u,d=this.first,f=this.lineSeparator().length;return this.iter(function(g){var y=g.text.length+f;if(y>a)return u=a,!0;a-=y,++d}),Ue(this,Ee(d,u))},indexFromPos:function(a){a=Ue(this,a);var u=a.ch;if(a.line<this.first||a.ch<0)return 0;var d=this.lineSeparator().length;return this.iter(this.first,a.line,function(f){u+=f.text.length+d}),u},copy:function(a){var u=new br(rc(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return u.scrollTop=this.scrollTop,u.scrollLeft=this.scrollLeft,u.sel=this.sel,u.extend=!1,a&&(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory())),u},linkedDoc:function(a){a||(a={});var u=this.first,d=this.first+this.size;a.from!=null&&a.from>u&&(u=a.from),a.to!=null&&a.to<d&&(d=a.to);var f=new br(rc(this,u,d),a.mode||this.modeOption,u,this.lineSep,this.direction);return a.sharedHist&&(f.history=this.history),(this.linked||(this.linked=[])).push({doc:f,sharedHist:a.sharedHist}),f.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],J3(f,$w(this)),f},unlinkDoc:function(a){if(a instanceof nn&&(a=a.doc),this.linked)for(var u=0;u<this.linked.length;++u){var d=this.linked[u];if(d.doc==a){this.linked.splice(u,1),a.unlinkDoc(this),X3($w(this));break}}if(a.history==this.history){var f=[a.id];hs(a,function(g){return f.push(g.id)},!0),a.history=new Hd(null),a.history.done=Fl(this.history.done,f),a.history.undone=Fl(this.history.undone,f)}},iterLinkedDocs:function(a){hs(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):Qu(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Pn(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(u){return u.order=null}),this.cm&&$3(this.cm))})}),br.prototype.eachLine=br.prototype.iter;var Hw=0;function Q3(a){var u=this;if(jw(u),!(We(u,a)||Co(u.display,a))){Rt(a),c&&(Hw=+new Date);var d=va(u,a,!0),f=a.dataTransfer.files;if(!(!d||u.isReadOnly()))if(f&&f.length&&window.FileReader&&window.File)for(var g=f.length,y=Array(g),w=0,k=function(){++w==g&&Ln(u,function(){d=Ue(u.doc,d);var se={from:d,to:d,text:u.doc.splitLines(y.filter(function(ye){return ye!=null}).join(u.doc.lineSeparator())),origin:"paste"};zl(u.doc,se),Tw(u.doc,fs(Ue(u.doc,d),Ue(u.doc,ds(se))))})()},C=function(se,ye){if(u.options.allowDropFileTypes&&Fe(u.options.allowDropFileTypes,se.type)==-1){k();return}var Te=new FileReader;Te.onerror=function(){return k()},Te.onload=function(){var Oe=Te.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Oe)){k();return}y[ye]=Oe,k()},Te.readAsText(se)},O=0;O<f.length;O++)C(f[O],O);else{if(u.state.draggingText&&u.doc.sel.contains(d)>-1){u.state.draggingText(a),setTimeout(function(){return u.display.input.focus()},20);return}try{var U=a.dataTransfer.getData("Text");if(U){var ee;if(u.state.draggingText&&!u.state.draggingText.copy&&(ee=u.listSelections()),Wd(u.doc,fs(d,d)),ee)for(var ue=0;ue<ee.length;++ue)Bl(u.doc,"",ee[ue].anchor,ee[ue].head,"drag");u.replaceSelection(U,"around","paste"),u.display.input.focus()}}catch{}}}}function e4(a,u){if(c&&(!a.state.draggingText||+new Date-Hw<100)){_n(u);return}if(!(We(a,u)||Co(a.display,u))&&(u.dataTransfer.setData("Text",a.getSelection()),u.dataTransfer.effectAllowed="copyMove",u.dataTransfer.setDragImage&&!_)){var d=Q("img",null,null,"position: fixed; left: 0; top: 0;");d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",b&&(d.width=d.height=1,a.display.wrapper.appendChild(d),d._top=d.offsetTop),u.dataTransfer.setDragImage(d,0,0),b&&d.parentNode.removeChild(d)}}function t4(a,u){var d=va(a,u);if(!!d){var f=document.createDocumentFragment();Rm(a,d,f),a.display.dragCursor||(a.display.dragCursor=Q("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),W(a.display.dragCursor,f)}}function jw(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Vw(a){if(!!document.getElementsByClassName){for(var u=document.getElementsByClassName("CodeMirror"),d=[],f=0;f<u.length;f++){var g=u[f].CodeMirror;g&&d.push(g)}d.length&&d[0].operation(function(){for(var y=0;y<d.length;y++)a(d[y])})}}var Ww=!1;function n4(){Ww||(r4(),Ww=!0)}function r4(){var a;oe(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,Vw(i4)},100))}),oe(window,"blur",function(){return Vw(Ll)})}function i4(a){var u=a.display;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.scrollbarsClipped=!1,a.setSize()}for(var gs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Sc=0;Sc<10;Sc++)gs[Sc+48]=gs[Sc+96]=String(Sc);for(var qd=65;qd<=90;qd++)gs[qd]=String.fromCharCode(qd);for(var Tc=1;Tc<=12;Tc++)gs[Tc+111]=gs[Tc+63235]="F"+Tc;var To={};To.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},To.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},To.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},To.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},To.default=M?To.macDefault:To.pcDefault;function o4(a){var u=a.split(/-(?!$)/);a=u[u.length-1];for(var d,f,g,y,w=0;w<u.length-1;w++){var k=u[w];if(/^(cmd|meta|m)$/i.test(k))y=!0;else if(/^a(lt)?$/i.test(k))d=!0;else if(/^(c|ctrl|control)$/i.test(k))f=!0;else if(/^s(hift)?$/i.test(k))g=!0;else throw new Error("Unrecognized modifier name: "+k)}return d&&(a="Alt-"+a),f&&(a="Ctrl-"+a),y&&(a="Cmd-"+a),g&&(a="Shift-"+a),a}function s4(a){var u={};for(var d in a)if(a.hasOwnProperty(d)){var f=a[d];if(/^(name|fallthrough|(de|at)tach)$/.test(d))continue;if(f=="..."){delete a[d];continue}for(var g=me(d.split(" "),o4),y=0;y<g.length;y++){var w=void 0,k=void 0;y==g.length-1?(k=g.join(" "),w=f):(k=g.slice(0,y+1).join(" "),w="...");var C=u[k];if(!C)u[k]=w;else if(C!=w)throw new Error("Inconsistent bindings for "+k)}delete a[d]}for(var O in u)a[O]=u[O];return a}function Hl(a,u,d,f){u=Gd(u);var g=u.call?u.call(a,f):u[a];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&d(g))return"handled";if(u.fallthrough){if(Object.prototype.toString.call(u.fallthrough)!="[object Array]")return Hl(a,u.fallthrough,d,f);for(var y=0;y<u.fallthrough.length;y++){var w=Hl(a,u.fallthrough[y],d,f);if(w)return w}}}function Uw(a){var u=typeof a=="string"?a:gs[a.keyCode];return u=="Ctrl"||u=="Alt"||u=="Shift"||u=="Mod"}function Kw(a,u,d){var f=a;return u.altKey&&f!="Alt"&&(a="Alt-"+a),(z?u.metaKey:u.ctrlKey)&&f!="Ctrl"&&(a="Ctrl-"+a),(z?u.ctrlKey:u.metaKey)&&f!="Mod"&&(a="Cmd-"+a),!d&&u.shiftKey&&f!="Shift"&&(a="Shift-"+a),a}function qw(a,u){if(b&&a.keyCode==34&&a.char)return!1;var d=gs[a.keyCode];return d==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(d=a.code),Kw(d,a,u))}function Gd(a){return typeof a=="string"?To[a]:a}function jl(a,u){for(var d=a.doc.sel.ranges,f=[],g=0;g<d.length;g++){for(var y=u(d[g]);f.length&&N(y.from,ce(f).to)<=0;){var w=f.pop();if(N(w.from,y.from)<0){y.from=w.from;break}}f.push(y)}Dr(a,function(){for(var k=f.length-1;k>=0;k--)Bl(a.doc,"",f[k].from,f[k].to,"+delete");Pl(a)})}function ev(a,u,d){var f=ae(a.text,u+d,d);return f<0||f>a.text.length?null:f}function tv(a,u,d){var f=ev(a,u.ch,d);return f==null?null:new Ee(u.line,f,d<0?"after":"before")}function nv(a,u,d,f,g){if(a){u.doc.direction=="rtl"&&(g=-g);var y=Me(d,u.doc.direction);if(y){var w=g<0?ce(y):y[0],k=g<0==(w.level==1),C=k?"after":"before",O;if(w.level>0||u.doc.direction=="rtl"){var U=Ml(u,d);O=g<0?d.text.length-1:0;var ee=Ji(u,U,O).top;O=fe(function(ue){return Ji(u,U,ue).top==ee},g<0==(w.level==1)?w.from:w.to-1,O),C=="before"&&(O=ev(d,O,1))}else O=g<0?w.to:w.from;return new Ee(f,O,C)}}return new Ee(f,g<0?d.text.length:0,g<0?"before":"after")}function a4(a,u,d,f){var g=Me(u,a.doc.direction);if(!g)return tv(u,d,f);d.ch>=u.text.length?(d.ch=u.text.length,d.sticky="before"):d.ch<=0&&(d.ch=0,d.sticky="after");var y=q(g,d.ch,d.sticky),w=g[y];if(a.doc.direction=="ltr"&&w.level%2==0&&(f>0?w.to>d.ch:w.from<d.ch))return tv(u,d,f);var k=function(Re,$e){return ev(u,Re instanceof Ee?Re.ch:Re,$e)},C,O=function(Re){return a.options.lineWrapping?(C=C||Ml(a,u),Z_(a,u,C,Re)):{begin:0,end:u.text.length}},U=O(d.sticky=="before"?k(d,-1):d.ch);if(a.doc.direction=="rtl"||w.level==1){var ee=w.level==1==f<0,ue=k(d,ee?1:-1);if(ue!=null&&(ee?ue<=w.to&&ue<=U.end:ue>=w.from&&ue>=U.begin)){var se=ee?"before":"after";return new Ee(d.line,ue,se)}}var ye=function(Re,$e,ze){for(var qe=function(Jt,In){return In?new Ee(d.line,k(Jt,1),"before"):new Ee(d.line,Jt,"after")};Re>=0&&Re<g.length;Re+=$e){var it=g[Re],nt=$e>0==(it.level!=1),bt=nt?ze.begin:k(ze.end,-1);if(it.from<=bt&&bt<it.to||(bt=nt?it.from:k(it.to,-1),ze.begin<=bt&&bt<ze.end))return qe(bt,nt)}},Te=ye(y+f,f,U);if(Te)return Te;var Oe=f>0?U.end:k(U.begin,-1);return Oe!=null&&!(f>0&&Oe==u.text.length)&&(Te=ye(f>0?0:g.length-1,f,O(Oe)),Te)?Te:null}var Ec={selectAll:Ow,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),He)},killLine:function(a){return jl(a,function(u){if(u.empty()){var d=Je(a.doc,u.head.line).text.length;return u.head.ch==d&&u.head.line<a.lastLine()?{from:u.head,to:Ee(u.head.line+1,0)}:{from:u.head,to:Ee(u.head.line,d)}}else return{from:u.from(),to:u.to()}})},deleteLine:function(a){return jl(a,function(u){return{from:Ee(u.from().line,0),to:Ue(a.doc,Ee(u.to().line+1,0))}})},delLineLeft:function(a){return jl(a,function(u){return{from:Ee(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(a){return jl(a,function(u){var d=a.charCoords(u.head,"div").top+5,f=a.coordsChar({left:0,top:d},"div");return{from:f,to:u.from()}})},delWrappedLineRight:function(a){return jl(a,function(u){var d=a.charCoords(u.head,"div").top+5,f=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:d},"div");return{from:u.from(),to:f}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(Ee(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(Ee(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(u){return Gw(a,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(u){return Yw(a,u.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(u){return l4(a,u.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(u){var d=a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:d},"div")},je)},goLineLeft:function(a){return a.extendSelectionsBy(function(u){var d=a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:0,top:d},"div")},je)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(u){var d=a.cursorCoords(u.head,"div").top+5,f=a.coordsChar({left:0,top:d},"div");return f.ch<a.getLine(f.line).search(/\S/)?Yw(a,u.head):f},je)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var u=[],d=a.listSelections(),f=a.options.tabSize,g=0;g<d.length;g++){var y=d[g].from(),w=ot(a.getLine(y.line),y.ch,f);u.push(re(f-w%f))}a.replaceSelections(u)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Dr(a,function(){for(var u=a.listSelections(),d=[],f=0;f<u.length;f++)if(!!u[f].empty()){var g=u[f].head,y=Je(a.doc,g.line).text;if(y){if(g.ch==y.length&&(g=new Ee(g.line,g.ch-1)),g.ch>0)g=new Ee(g.line,g.ch+1),a.replaceRange(y.charAt(g.ch-1)+y.charAt(g.ch-2),Ee(g.line,g.ch-2),g,"+transpose");else if(g.line>a.doc.first){var w=Je(a.doc,g.line-1).text;w&&(g=new Ee(g.line,1),a.replaceRange(y.charAt(0)+a.doc.lineSeparator()+w.charAt(w.length-1),Ee(g.line-1,w.length-1),g,"+transpose"))}}d.push(new Bt(g,g))}a.setSelections(d)})},newlineAndIndent:function(a){return Dr(a,function(){for(var u=a.listSelections(),d=u.length-1;d>=0;d--)a.replaceRange(a.doc.lineSeparator(),u[d].anchor,u[d].head,"+input");u=a.listSelections();for(var f=0;f<u.length;f++)a.indentLine(u[f].from().line,null,!0);Pl(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Gw(a,u){var d=Je(a.doc,u),f=Ei(d);return f!=d&&(u=zt(f)),nv(!0,a,f,u,1)}function l4(a,u){var d=Je(a.doc,u),f=U6(d);return f!=d&&(u=zt(f)),nv(!0,a,d,u,-1)}function Yw(a,u){var d=Gw(a,u.line),f=Je(a.doc,d.line),g=Me(f,a.doc.direction);if(!g||g[0].level==0){var y=Math.max(d.ch,f.text.search(/\S/)),w=u.line==d.line&&u.ch<=y&&u.ch;return Ee(d.line,w?0:y,d.sticky)}return d}function Yd(a,u,d){if(typeof u=="string"&&(u=Ec[u],!u))return!1;a.display.input.ensurePolled();var f=a.display.shift,g=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),d&&(a.display.shift=!1),g=u(a)!=be}finally{a.display.shift=f,a.state.suppressEdits=!1}return g}function u4(a,u,d){for(var f=0;f<a.state.keyMaps.length;f++){var g=Hl(u,a.state.keyMaps[f],d,a);if(g)return g}return a.options.extraKeys&&Hl(u,a.options.extraKeys,d,a)||Hl(u,a.options.keyMap,d,a)}var c4=new Ge;function Ac(a,u,d,f){var g=a.state.keySeq;if(g){if(Uw(u))return"handled";if(/\'$/.test(u)?a.state.keySeq=null:c4.set(50,function(){a.state.keySeq==g&&(a.state.keySeq=null,a.display.input.reset())}),Jw(a,g+" "+u,d,f))return!0}return Jw(a,u,d,f)}function Jw(a,u,d,f){var g=u4(a,u,f);return g=="multi"&&(a.state.keySeq=u),g=="handled"&&Nn(a,"keyHandled",a,u,d),(g=="handled"||g=="multi")&&(Rt(d),zm(a)),!!g}function Xw(a,u){var d=qw(u,!0);return d?u.shiftKey&&!a.state.keySeq?Ac(a,"Shift-"+d,u,function(f){return Yd(a,f,!0)})||Ac(a,d,u,function(f){if(typeof f=="string"?/^go[A-Z]/.test(f):f.motion)return Yd(a,f)}):Ac(a,d,u,function(f){return Yd(a,f)}):!1}function f4(a,u,d){return Ac(a,"'"+d+"'",u,function(f){return Yd(a,f,!0)})}var rv=null;function Zw(a){var u=this;if(!(a.target&&a.target!=u.display.input.getField())&&(u.curOp.focus=Se(),!We(u,a))){c&&h<11&&a.keyCode==27&&(a.returnValue=!1);var d=a.keyCode;u.display.shift=d==16||a.shiftKey;var f=Xw(u,a);b&&(rv=f?d:null,!f&&d==88&&!kd&&(M?a.metaKey:a.ctrlKey)&&u.replaceSelection("",null,"cut")),i&&!M&&!f&&d==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),d==18&&!/\bCodeMirror-crosshair\b/.test(u.display.lineDiv.className)&&d4(u)}}function d4(a){var u=a.display.lineDiv;Ve(u,"CodeMirror-crosshair");function d(f){(f.keyCode==18||!f.altKey)&&(V(u,"CodeMirror-crosshair"),Ae(document,"keyup",d),Ae(document,"mouseover",d))}oe(document,"keyup",d),oe(document,"mouseover",d)}function Qw(a){a.keyCode==16&&(this.doc.sel.shift=!1),We(this,a)}function ex(a){var u=this;if(!(a.target&&a.target!=u.display.input.getField())&&!(Co(u.display,a)||We(u,a)||a.ctrlKey&&!a.altKey||M&&a.metaKey)){var d=a.keyCode,f=a.charCode;if(b&&d==rv){rv=null,Rt(a);return}if(!(b&&(!a.which||a.which<10)&&Xw(u,a))){var g=String.fromCharCode(f==null?d:f);g!="\b"&&(f4(u,a,g)||u.display.input.onKeyPress(a))}}}var h4=400,iv=function(a,u,d){this.time=a,this.pos=u,this.button=d};iv.prototype.compare=function(a,u,d){return this.time+h4>a&&N(u,this.pos)==0&&d==this.button};var Dc,Mc;function p4(a,u){var d=+new Date;return Mc&&Mc.compare(d,a,u)?(Dc=Mc=null,"triple"):Dc&&Dc.compare(d,a,u)?(Mc=new iv(d,a,u),Dc=null,"double"):(Dc=new iv(d,a,u),Mc=null,"single")}function tx(a){var u=this,d=u.display;if(!(We(u,a)||d.activeTouch&&d.input.supportsTouch())){if(d.input.ensurePolled(),d.shift=a.shiftKey,Co(d,a)){p||(d.scroller.draggable=!1,setTimeout(function(){return d.scroller.draggable=!0},100));return}if(!ov(u,a)){var f=va(u,a),g=vr(a),y=f?p4(f,g):"single";window.focus(),g==1&&u.state.selectingText&&u.state.selectingText(a),!(f&&g4(u,g,f,y,a))&&(g==1?f?v4(u,f,y,a):wn(a)==d.scroller&&Rt(a):g==2?(f&&Vd(u.doc,f),setTimeout(function(){return d.input.focus()},20)):g==3&&(B?u.display.input.onContextMenu(a):Bm(u)))}}}function g4(a,u,d,f,g){var y="Click";return f=="double"?y="Double"+y:f=="triple"&&(y="Triple"+y),y=(u==1?"Left":u==2?"Middle":"Right")+y,Ac(a,Kw(y,g),g,function(w){if(typeof w=="string"&&(w=Ec[w]),!w)return!1;var k=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),k=w(a,d)!=be}finally{a.state.suppressEdits=!1}return k})}function m4(a,u,d){var f=a.getOption("configureMouse"),g=f?f(a,u,d):{};if(g.unit==null){var y=Y?d.shiftKey&&d.metaKey:d.altKey;g.unit=y?"rectangle":u=="single"?"char":u=="double"?"word":"line"}return(g.extend==null||a.doc.extend)&&(g.extend=a.doc.extend||d.shiftKey),g.addNew==null&&(g.addNew=M?d.metaKey:d.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(M?d.altKey:d.ctrlKey)),g}function v4(a,u,d,f){c?setTimeout(Mt(nw,a),0):a.curOp.focus=Se();var g=m4(a,d,f),y=a.doc.sel,w;a.options.dragDrop&&$r&&!a.isReadOnly()&&d=="single"&&(w=y.contains(u))>-1&&(N((w=y.ranges[w]).from(),u)<0||u.xRel>0)&&(N(w.to(),u)>0||u.xRel<0)?y4(a,f,u,g):b4(a,f,u,g)}function y4(a,u,d,f){var g=a.display,y=!1,w=Ln(a,function(O){p&&(g.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:Bm(a)),Ae(g.wrapper.ownerDocument,"mouseup",w),Ae(g.wrapper.ownerDocument,"mousemove",k),Ae(g.scroller,"dragstart",C),Ae(g.scroller,"drop",w),y||(Rt(O),f.addNew||Vd(a.doc,d,null,null,f.extend),p&&!_||c&&h==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),k=function(O){y=y||Math.abs(u.clientX-O.clientX)+Math.abs(u.clientY-O.clientY)>=10},C=function(){return y=!0};p&&(g.scroller.draggable=!0),a.state.draggingText=w,w.copy=!f.moveOnDrag,oe(g.wrapper.ownerDocument,"mouseup",w),oe(g.wrapper.ownerDocument,"mousemove",k),oe(g.scroller,"dragstart",C),oe(g.scroller,"drop",w),a.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function nx(a,u,d){if(d=="char")return new Bt(u,u);if(d=="word")return a.findWordAt(u);if(d=="line")return new Bt(Ee(u.line,0),Ue(a.doc,Ee(u.line+1,0)));var f=d(a,u);return new Bt(f.from,f.to)}function b4(a,u,d,f){c&&Bm(a);var g=a.display,y=a.doc;Rt(u);var w,k,C=y.sel,O=C.ranges;if(f.addNew&&!f.extend?(k=y.sel.contains(d),k>-1?w=O[k]:w=new Bt(d,d)):(w=y.sel.primary(),k=y.sel.primIndex),f.unit=="rectangle")f.addNew||(w=new Bt(d,d)),d=va(a,u,!0,!0),k=-1;else{var U=nx(a,d,f.unit);f.extend?w=Zm(w,U.anchor,U.head,f.extend):w=U}f.addNew?k==-1?(k=O.length,Yn(y,Di(a,O.concat([w]),k),{scroll:!1,origin:"*mouse"})):O.length>1&&O[k].empty()&&f.unit=="char"&&!f.extend?(Yn(y,Di(a,O.slice(0,k).concat(O.slice(k+1)),0),{scroll:!1,origin:"*mouse"}),C=y.sel):Qm(y,k,w,Ke):(k=0,Yn(y,new Wr([w],0),Ke),C=y.sel);var ee=d;function ue(ze){if(N(ee,ze)!=0)if(ee=ze,f.unit=="rectangle"){for(var qe=[],it=a.options.tabSize,nt=ot(Je(y,d.line).text,d.ch,it),bt=ot(Je(y,ze.line).text,ze.ch,it),Jt=Math.min(nt,bt),In=Math.max(nt,bt),an=Math.min(d.line,ze.line),Mr=Math.min(a.lastLine(),Math.max(d.line,ze.line));an<=Mr;an++){var _r=Je(y,an).text,xn=gt(_r,Jt,it);Jt==In?qe.push(new Bt(Ee(an,xn),Ee(an,xn))):_r.length>xn&&qe.push(new Bt(Ee(an,xn),Ee(an,gt(_r,In,it))))}qe.length||qe.push(new Bt(d,d)),Yn(y,Di(a,C.ranges.slice(0,k).concat(qe),k),{origin:"*mouse",scroll:!1}),a.scrollIntoView(ze)}else{var wr=w,Hn=nx(a,ze,f.unit),Dn=wr.anchor,kn;N(Hn.anchor,Dn)>0?(kn=Hn.head,Dn=ct(wr.from(),Hn.anchor)):(kn=Hn.anchor,Dn=De(wr.to(),Hn.head));var cn=C.ranges.slice(0);cn[k]=_4(a,new Bt(Ue(y,Dn),kn)),Yn(y,Di(a,cn,k),Ke)}}var se=g.wrapper.getBoundingClientRect(),ye=0;function Te(ze){var qe=++ye,it=va(a,ze,!0,f.unit=="rectangle");if(!!it)if(N(it,ee)!=0){a.curOp.focus=Se(),ue(it);var nt=Rd(g,y);(it.line>=nt.to||it.line<nt.from)&&setTimeout(Ln(a,function(){ye==qe&&Te(ze)}),150)}else{var bt=ze.clientY<se.top?-20:ze.clientY>se.bottom?20:0;bt&&setTimeout(Ln(a,function(){ye==qe&&(g.scroller.scrollTop+=bt,Te(ze))}),50)}}function Oe(ze){a.state.selectingText=!1,ye=1/0,ze&&(Rt(ze),g.input.focus()),Ae(g.wrapper.ownerDocument,"mousemove",Re),Ae(g.wrapper.ownerDocument,"mouseup",$e),y.history.lastSelOrigin=null}var Re=Ln(a,function(ze){ze.buttons===0||!vr(ze)?Oe(ze):Te(ze)}),$e=Ln(a,Oe);a.state.selectingText=$e,oe(g.wrapper.ownerDocument,"mousemove",Re),oe(g.wrapper.ownerDocument,"mouseup",$e)}function _4(a,u){var d=u.anchor,f=u.head,g=Je(a.doc,d.line);if(N(d,f)==0&&d.sticky==f.sticky)return u;var y=Me(g);if(!y)return u;var w=q(y,d.ch,d.sticky),k=y[w];if(k.from!=d.ch&&k.to!=d.ch)return u;var C=w+(k.from==d.ch==(k.level!=1)?0:1);if(C==0||C==y.length)return u;var O;if(f.line!=d.line)O=(f.line-d.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var U=q(y,f.ch,f.sticky),ee=U-w||(f.ch-d.ch)*(k.level==1?-1:1);U==C-1||U==C?O=ee<0:O=ee>0}var ue=y[C+(O?-1:0)],se=O==(ue.level==1),ye=se?ue.from:ue.to,Te=se?"after":"before";return d.ch==ye&&d.sticky==Te?u:new Bt(new Ee(d.line,ye,Te),f)}function rx(a,u,d,f){var g,y;if(u.touches)g=u.touches[0].clientX,y=u.touches[0].clientY;else try{g=u.clientX,y=u.clientY}catch{return!1}if(g>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;f&&Rt(u);var w=a.display,k=w.lineDiv.getBoundingClientRect();if(y>k.bottom||!dt(a,d))return tn(u);y-=k.top-w.viewOffset;for(var C=0;C<a.display.gutterSpecs.length;++C){var O=w.gutters.childNodes[C];if(O&&O.getBoundingClientRect().right>=g){var U=qi(a.doc,y),ee=a.display.gutterSpecs[C];return we(a,d,a,U,ee.className,u),tn(u)}}}function ov(a,u){return rx(a,u,"gutterClick",!0)}function ix(a,u){Co(a.display,u)||w4(a,u)||We(a,u,"contextmenu")||B||a.display.input.onContextMenu(u)}function w4(a,u){return dt(a,"gutterContextMenu")?rx(a,u,"gutterContextMenu",!1):!1}function ox(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),cc(a)}var Vl={toString:function(){return"CodeMirror.Init"}},sx={},Jd={};function x4(a){var u=a.optionHandlers;function d(f,g,y,w){a.defaults[f]=g,y&&(u[f]=w?function(k,C,O){O!=Vl&&y(k,C,O)}:y)}a.defineOption=d,a.Init=Vl,d("value","",function(f,g){return f.setValue(g)},!0),d("mode",null,function(f,g){f.doc.modeOption=g,Ym(f)},!0),d("indentUnit",2,Ym,!0),d("indentWithTabs",!1),d("smartIndent",!0),d("tabSize",4,function(f){yc(f),cc(f),yr(f)},!0),d("lineSeparator",null,function(f,g){if(f.doc.lineSep=g,!!g){var y=[],w=f.doc.first;f.doc.iter(function(C){for(var O=0;;){var U=C.text.indexOf(g,O);if(U==-1)break;O=U+g.length,y.push(Ee(w,U))}w++});for(var k=y.length-1;k>=0;k--)Bl(f.doc,g,y[k],Ee(y[k].line,y[k].ch+g.length))}}),d("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(f,g,y){f.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),y!=Vl&&f.refresh()}),d("specialCharPlaceholder",X6,function(f){return f.refresh()},!0),d("electricChars",!0),d("inputStyle",R?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),d("spellcheck",!1,function(f,g){return f.getInputField().spellcheck=g},!0),d("autocorrect",!1,function(f,g){return f.getInputField().autocorrect=g},!0),d("autocapitalize",!1,function(f,g){return f.getInputField().autocapitalize=g},!0),d("rtlMoveVisually",!J),d("wholeLineUpdateBefore",!0),d("theme","default",function(f){ox(f),vc(f)},!0),d("keyMap","default",function(f,g,y){var w=Gd(g),k=y!=Vl&&Gd(y);k&&k.detach&&k.detach(f,w),w.attach&&w.attach(f,k||null)}),d("extraKeys",null),d("configureMouse",null),d("lineWrapping",!1,C4,!0),d("gutters",[],function(f,g){f.display.gutterSpecs=qm(g,f.options.lineNumbers),vc(f)},!0),d("fixedGutter",!0,function(f,g){f.display.gutters.style.left=g?Im(f.display)+"px":"0",f.refresh()},!0),d("coverGutterNextToScrollbar",!1,function(f){return Il(f)},!0),d("scrollbarStyle","native",function(f){lw(f),Il(f),f.display.scrollbars.setScrollTop(f.doc.scrollTop),f.display.scrollbars.setScrollLeft(f.doc.scrollLeft)},!0),d("lineNumbers",!1,function(f,g){f.display.gutterSpecs=qm(f.options.gutters,g),vc(f)},!0),d("firstLineNumber",1,vc,!0),d("lineNumberFormatter",function(f){return f},vc,!0),d("showCursorWhenSelecting",!1,fc,!0),d("resetSelectionOnContextMenu",!0),d("lineWiseCopyCut",!0),d("pasteLinesPerSelection",!0),d("selectionsMayTouch",!1),d("readOnly",!1,function(f,g){g=="nocursor"&&(Ll(f),f.display.input.blur()),f.display.input.readOnlyChanged(g)}),d("screenReaderLabel",null,function(f,g){g=g===""?null:g,f.display.input.screenReaderLabelChanged(g)}),d("disableInput",!1,function(f,g){g||f.display.input.reset()},!0),d("dragDrop",!0,k4),d("allowDropFileTypes",null),d("cursorBlinkRate",530),d("cursorScrollMargin",0),d("cursorHeight",1,fc,!0),d("singleCursorHeightPerLine",!0,fc,!0),d("workTime",100),d("workDelay",100),d("flattenSpans",!0,yc,!0),d("addModeClass",!1,yc,!0),d("pollInterval",100),d("undoDepth",200,function(f,g){return f.doc.history.undoDepth=g}),d("historyEventDelay",1250),d("viewportMargin",10,function(f){return f.refresh()},!0),d("maxHighlightLength",1e4,yc,!0),d("moveInputWithCursor",!0,function(f,g){g||f.display.input.resetPosition()}),d("tabindex",null,function(f,g){return f.display.input.getField().tabIndex=g||""}),d("autofocus",null),d("direction","ltr",function(f,g){return f.doc.setDirection(g)},!0),d("phrases",null)}function k4(a,u,d){var f=d&&d!=Vl;if(!u!=!f){var g=a.display.dragFunctions,y=u?oe:Ae;y(a.display.scroller,"dragstart",g.start),y(a.display.scroller,"dragenter",g.enter),y(a.display.scroller,"dragover",g.over),y(a.display.scroller,"dragleave",g.leave),y(a.display.scroller,"drop",g.drop)}}function C4(a){a.options.lineWrapping?(Ve(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(V(a.display.wrapper,"CodeMirror-wrap"),Sm(a)),Fm(a),yr(a),cc(a),setTimeout(function(){return Il(a)},100)}function nn(a,u){var d=this;if(!(this instanceof nn))return new nn(a,u);this.options=u=u?pt(u):{},pt(sx,u,!1);var f=u.value;typeof f=="string"?f=new br(f,u.mode,null,u.lineSeparator,u.direction):u.mode&&(f.modeOption=u.mode),this.doc=f;var g=new nn.inputStyles[u.inputStyle](this),y=this.display=new R3(a,f,g,u);y.wrapper.CodeMirror=this,ox(this),u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),lw(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ge,keySeq:null,specialChars:null},u.autofocus&&!R&&y.input.focus(),c&&h<11&&setTimeout(function(){return d.display.input.reset(!0)},20),S4(this),n4(),wa(this),this.curOp.forceUpdate=!0,yw(this,f),u.autofocus&&!R||this.hasFocus()?setTimeout(function(){d.hasFocus()&&!d.state.focused&&$m(d)},20):Ll(this);for(var w in Jd)Jd.hasOwnProperty(w)&&Jd[w](this,u[w],Vl);fw(this),u.finishInit&&u.finishInit(this);for(var k=0;k<sv.length;++k)sv[k](this);xa(this),p&&u.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}nn.defaults=sx,nn.optionHandlers=Jd;function S4(a){var u=a.display;oe(u.scroller,"mousedown",Ln(a,tx)),c&&h<11?oe(u.scroller,"dblclick",Ln(a,function(C){if(!We(a,C)){var O=va(a,C);if(!(!O||ov(a,C)||Co(a.display,C))){Rt(C);var U=a.findWordAt(O);Vd(a.doc,U.anchor,U.head)}}})):oe(u.scroller,"dblclick",function(C){return We(a,C)||Rt(C)}),oe(u.scroller,"contextmenu",function(C){return ix(a,C)}),oe(u.input.getField(),"contextmenu",function(C){u.scroller.contains(C.target)||ix(a,C)});var d,f={end:0};function g(){u.activeTouch&&(d=setTimeout(function(){return u.activeTouch=null},1e3),f=u.activeTouch,f.end=+new Date)}function y(C){if(C.touches.length!=1)return!1;var O=C.touches[0];return O.radiusX<=1&&O.radiusY<=1}function w(C,O){if(O.left==null)return!0;var U=O.left-C.left,ee=O.top-C.top;return U*U+ee*ee>20*20}oe(u.scroller,"touchstart",function(C){if(!We(a,C)&&!y(C)&&!ov(a,C)){u.input.ensurePolled(),clearTimeout(d);var O=+new Date;u.activeTouch={start:O,moved:!1,prev:O-f.end<=300?f:null},C.touches.length==1&&(u.activeTouch.left=C.touches[0].pageX,u.activeTouch.top=C.touches[0].pageY)}}),oe(u.scroller,"touchmove",function(){u.activeTouch&&(u.activeTouch.moved=!0)}),oe(u.scroller,"touchend",function(C){var O=u.activeTouch;if(O&&!Co(u,C)&&O.left!=null&&!O.moved&&new Date-O.start<300){var U=a.coordsChar(u.activeTouch,"page"),ee;!O.prev||w(O,O.prev)?ee=new Bt(U,U):!O.prev.prev||w(O,O.prev.prev)?ee=a.findWordAt(U):ee=new Bt(Ee(U.line,0),Ue(a.doc,Ee(U.line+1,0))),a.setSelection(ee.anchor,ee.head),a.focus(),Rt(C)}g()}),oe(u.scroller,"touchcancel",g),oe(u.scroller,"scroll",function(){u.scroller.clientHeight&&(hc(a,u.scroller.scrollTop),ba(a,u.scroller.scrollLeft,!0),we(a,"scroll",a))}),oe(u.scroller,"mousewheel",function(C){return pw(a,C)}),oe(u.scroller,"DOMMouseScroll",function(C){return pw(a,C)}),oe(u.wrapper,"scroll",function(){return u.wrapper.scrollTop=u.wrapper.scrollLeft=0}),u.dragFunctions={enter:function(C){We(a,C)||_n(C)},over:function(C){We(a,C)||(t4(a,C),_n(C))},start:function(C){return e4(a,C)},drop:Ln(a,Q3),leave:function(C){We(a,C)||jw(a)}};var k=u.input.getField();oe(k,"keyup",function(C){return Qw.call(a,C)}),oe(k,"keydown",Ln(a,Zw)),oe(k,"keypress",Ln(a,ex)),oe(k,"focus",function(C){return $m(a,C)}),oe(k,"blur",function(C){return Ll(a,C)})}var sv=[];nn.defineInitHook=function(a){return sv.push(a)};function Oc(a,u,d,f){var g=a.doc,y;d==null&&(d="add"),d=="smart"&&(g.mode.indent?y=oc(a,u).state:d="prev");var w=a.options.tabSize,k=Je(g,u),C=ot(k.text,null,w);k.stateAfter&&(k.stateAfter=null);var O=k.text.match(/^\s*/)[0],U;if(!f&&!/\S/.test(k.text))U=0,d="not";else if(d=="smart"&&(U=g.mode.indent(y,k.text.slice(O.length),k.text),U==be||U>150)){if(!f)return;d="prev"}d=="prev"?u>g.first?U=ot(Je(g,u-1).text,null,w):U=0:d=="add"?U=C+a.options.indentUnit:d=="subtract"?U=C-a.options.indentUnit:typeof d=="number"&&(U=C+d),U=Math.max(0,U);var ee="",ue=0;if(a.options.indentWithTabs)for(var se=Math.floor(U/w);se;--se)ue+=w,ee+="	";if(ue<U&&(ee+=re(U-ue)),ee!=O)return Bl(g,ee,Ee(u,0),Ee(u,O.length),"+input"),k.stateAfter=null,!0;for(var ye=0;ye<g.sel.ranges.length;ye++){var Te=g.sel.ranges[ye];if(Te.head.line==u&&Te.head.ch<O.length){var Oe=Ee(u,O.length);Qm(g,ye,new Bt(Oe,Oe));break}}}var Mi=null;function Xd(a){Mi=a}function av(a,u,d,f,g){var y=a.doc;a.display.shift=!1,f||(f=y.sel);var w=+new Date-200,k=g=="paste"||a.state.pasteIncoming>w,C=Qu(u),O=null;if(k&&f.ranges.length>1)if(Mi&&Mi.text.join(`
`)==u){if(f.ranges.length%Mi.text.length==0){O=[];for(var U=0;U<Mi.text.length;U++)O.push(y.splitLines(Mi.text[U]))}}else C.length==f.ranges.length&&a.options.pasteLinesPerSelection&&(O=me(C,function(Re){return[Re]}));for(var ee=a.curOp.updateInput,ue=f.ranges.length-1;ue>=0;ue--){var se=f.ranges[ue],ye=se.from(),Te=se.to();se.empty()&&(d&&d>0?ye=Ee(ye.line,ye.ch-d):a.state.overwrite&&!k?Te=Ee(Te.line,Math.min(Je(y,Te.line).text.length,Te.ch+ce(C).length)):k&&Mi&&Mi.lineWise&&Mi.text.join(`
`)==C.join(`
`)&&(ye=Te=Ee(ye.line,0)));var Oe={from:ye,to:Te,text:O?O[ue%O.length]:C,origin:g||(k?"paste":a.state.cutIncoming>w?"cut":"+input")};zl(a.doc,Oe),Nn(a,"inputRead",a,Oe)}u&&!k&&lx(a,u),Pl(a),a.curOp.updateInput<2&&(a.curOp.updateInput=ee),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function ax(a,u){var d=a.clipboardData&&a.clipboardData.getData("Text");if(d)return a.preventDefault(),!u.isReadOnly()&&!u.options.disableInput&&Dr(u,function(){return av(u,d,0,null,"paste")}),!0}function lx(a,u){if(!(!a.options.electricChars||!a.options.smartIndent))for(var d=a.doc.sel,f=d.ranges.length-1;f>=0;f--){var g=d.ranges[f];if(!(g.head.ch>100||f&&d.ranges[f-1].head.line==g.head.line)){var y=a.getModeAt(g.head),w=!1;if(y.electricChars){for(var k=0;k<y.electricChars.length;k++)if(u.indexOf(y.electricChars.charAt(k))>-1){w=Oc(a,g.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(Je(a.doc,g.head.line).text.slice(0,g.head.ch))&&(w=Oc(a,g.head.line,"smart"));w&&Nn(a,"electricInput",a,g.head.line)}}}function ux(a){for(var u=[],d=[],f=0;f<a.doc.sel.ranges.length;f++){var g=a.doc.sel.ranges[f].head.line,y={anchor:Ee(g,0),head:Ee(g+1,0)};d.push(y),u.push(a.getRange(y.anchor,y.head))}return{text:u,ranges:d}}function cx(a,u,d,f){a.setAttribute("autocorrect",d?"":"off"),a.setAttribute("autocapitalize",f?"":"off"),a.setAttribute("spellcheck",!!u)}function fx(){var a=Q("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),u=Q("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return p?a.style.width="1000px":a.setAttribute("wrap","off"),E&&(a.style.border="1px solid black"),cx(a),u}function T4(a){var u=a.optionHandlers,d=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(f,g){var y=this.options,w=y[f];y[f]==g&&f!="mode"||(y[f]=g,u.hasOwnProperty(f)&&Ln(this,u[f])(this,g,w),we(this,"optionChange",this,f))},getOption:function(f){return this.options[f]},getDoc:function(){return this.doc},addKeyMap:function(f,g){this.state.keyMaps[g?"push":"unshift"](Gd(f))},removeKeyMap:function(f){for(var g=this.state.keyMaps,y=0;y<g.length;++y)if(g[y]==f||g[y].name==f)return g.splice(y,1),!0},addOverlay:ir(function(f,g){var y=f.token?f:a.getMode(this.options,f);if(y.startState)throw new Error("Overlays may not be stateful.");ve(this.state.overlays,{mode:y,modeSpec:f,opaque:g&&g.opaque,priority:g&&g.priority||0},function(w){return w.priority}),this.state.modeGen++,yr(this)}),removeOverlay:ir(function(f){for(var g=this.state.overlays,y=0;y<g.length;++y){var w=g[y].modeSpec;if(w==f||typeof f=="string"&&w.name==f){g.splice(y,1),this.state.modeGen++,yr(this);return}}}),indentLine:ir(function(f,g,y){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),pa(this.doc,f)&&Oc(this,f,g,y)}),indentSelection:ir(function(f){for(var g=this.doc.sel.ranges,y=-1,w=0;w<g.length;w++){var k=g[w];if(k.empty())k.head.line>y&&(Oc(this,k.head.line,f,!0),y=k.head.line,w==this.doc.sel.primIndex&&Pl(this));else{var C=k.from(),O=k.to(),U=Math.max(y,C.line);y=Math.min(this.lastLine(),O.line-(O.ch?0:1))+1;for(var ee=U;ee<y;++ee)Oc(this,ee,f);var ue=this.doc.sel.ranges;C.ch==0&&g.length==ue.length&&ue[w].from().ch>0&&Qm(this.doc,w,new Bt(C,ue[w].to()),He)}}}),getTokenAt:function(f,g){return __(this,f,g)},getLineTokens:function(f,g){return __(this,Ee(f),g,!0)},getTokenTypeAt:function(f){f=Ue(this.doc,f);var g=v_(this,Je(this.doc,f.line)),y=0,w=(g.length-1)/2,k=f.ch,C;if(k==0)C=g[2];else for(;;){var O=y+w>>1;if((O?g[O*2-1]:0)>=k)w=O;else if(g[O*2+1]<k)y=O+1;else{C=g[O*2+2];break}}var U=C?C.indexOf("overlay "):-1;return U<0?C:U==0?null:C.slice(0,U-1)},getModeAt:function(f){var g=this.doc.mode;return g.innerMode?a.innerMode(g,this.getTokenAt(f).state).mode:g},getHelper:function(f,g){return this.getHelpers(f,g)[0]},getHelpers:function(f,g){var y=[];if(!d.hasOwnProperty(g))return y;var w=d[g],k=this.getModeAt(f);if(typeof k[g]=="string")w[k[g]]&&y.push(w[k[g]]);else if(k[g])for(var C=0;C<k[g].length;C++){var O=w[k[g][C]];O&&y.push(O)}else k.helperType&&w[k.helperType]?y.push(w[k.helperType]):w[k.name]&&y.push(w[k.name]);for(var U=0;U<w._global.length;U++){var ee=w._global[U];ee.pred(k,this)&&Fe(y,ee.val)==-1&&y.push(ee.val)}return y},getStateAfter:function(f,g){var y=this.doc;return f=Ot(y,f==null?y.first+y.size-1:f),oc(this,f+1,g).state},cursorCoords:function(f,g){var y,w=this.doc.sel.primary();return f==null?y=w.head:typeof f=="object"?y=Ue(this.doc,f):y=f?w.from():w.to(),Ai(this,y,g||"page")},charCoords:function(f,g){return Ld(this,Ue(this.doc,f),g||"page")},coordsChar:function(f,g){return f=Y_(this,f,g||"page"),Nm(this,f.left,f.top)},lineAtHeight:function(f,g){return f=Y_(this,{top:f,left:0},g||"page").top,qi(this.doc,f+this.display.viewOffset)},heightAtLine:function(f,g,y){var w=!1,k;if(typeof f=="number"){var C=this.doc.first+this.doc.size-1;f<this.doc.first?f=this.doc.first:f>C&&(f=C,w=!0),k=Je(this.doc,f)}else k=f;return Nd(this,k,{top:0,left:0},g||"page",y||w).top+(w?this.doc.height-ko(k):0)},defaultTextHeight:function(){return Ol(this.display)},defaultCharWidth:function(){return Nl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(f,g,y,w,k){var C=this.display;f=Ai(this,Ue(this.doc,f));var O=f.bottom,U=f.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),C.sizer.appendChild(g),w=="over")O=f.top;else if(w=="above"||w=="near"){var ee=Math.max(C.wrapper.clientHeight,this.doc.height),ue=Math.max(C.sizer.clientWidth,C.lineSpace.clientWidth);(w=="above"||f.bottom+g.offsetHeight>ee)&&f.top>g.offsetHeight?O=f.top-g.offsetHeight:f.bottom+g.offsetHeight<=ee&&(O=f.bottom),U+g.offsetWidth>ue&&(U=ue-g.offsetWidth)}g.style.top=O+"px",g.style.left=g.style.right="",k=="right"?(U=C.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(k=="left"?U=0:k=="middle"&&(U=(C.sizer.clientWidth-g.offsetWidth)/2),g.style.left=U+"px"),y&&k3(this,{left:U,top:O,right:U+g.offsetWidth,bottom:O+g.offsetHeight})},triggerOnKeyDown:ir(Zw),triggerOnKeyPress:ir(ex),triggerOnKeyUp:Qw,triggerOnMouseDown:ir(tx),execCommand:function(f){if(Ec.hasOwnProperty(f))return Ec[f].call(null,this)},triggerElectric:ir(function(f){lx(this,f)}),findPosH:function(f,g,y,w){var k=1;g<0&&(k=-1,g=-g);for(var C=Ue(this.doc,f),O=0;O<g&&(C=lv(this.doc,C,k,y,w),!C.hitSide);++O);return C},moveH:ir(function(f,g){var y=this;this.extendSelectionsBy(function(w){return y.display.shift||y.doc.extend||w.empty()?lv(y.doc,w.head,f,g,y.options.rtlMoveVisually):f<0?w.from():w.to()},je)}),deleteH:ir(function(f,g){var y=this.doc.sel,w=this.doc;y.somethingSelected()?w.replaceSelection("",null,"+delete"):jl(this,function(k){var C=lv(w,k.head,f,g,!1);return f<0?{from:C,to:k.head}:{from:k.head,to:C}})}),findPosV:function(f,g,y,w){var k=1,C=w;g<0&&(k=-1,g=-g);for(var O=Ue(this.doc,f),U=0;U<g;++U){var ee=Ai(this,O,"div");if(C==null?C=ee.left:ee.left=C,O=dx(this,ee,k,y),O.hitSide)break}return O},moveV:ir(function(f,g){var y=this,w=this.doc,k=[],C=!this.display.shift&&!w.extend&&w.sel.somethingSelected();if(w.extendSelectionsBy(function(U){if(C)return f<0?U.from():U.to();var ee=Ai(y,U.head,"div");U.goalColumn!=null&&(ee.left=U.goalColumn),k.push(ee.left);var ue=dx(y,ee,f,g);return g=="page"&&U==w.sel.primary()&&jm(y,Ld(y,ue,"div").top-ee.top),ue},je),k.length)for(var O=0;O<w.sel.ranges.length;O++)w.sel.ranges[O].goalColumn=k[O]}),findWordAt:function(f){var g=this.doc,y=Je(g,f.line).text,w=f.ch,k=f.ch;if(y){var C=this.getHelper(f,"wordChars");(f.sticky=="before"||k==y.length)&&w?--w:++k;for(var O=y.charAt(w),U=A(O,C)?function(ee){return A(ee,C)}:/\s/.test(O)?function(ee){return/\s/.test(ee)}:function(ee){return!/\s/.test(ee)&&!A(ee)};w>0&&U(y.charAt(w-1));)--w;for(;k<y.length&&U(y.charAt(k));)++k}return new Bt(Ee(f.line,w),Ee(f.line,k))},toggleOverwrite:function(f){f!=null&&f==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ve(this.display.cursorDiv,"CodeMirror-overwrite"):V(this.display.cursorDiv,"CodeMirror-overwrite"),we(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Se()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:ir(function(f,g){dc(this,f,g)}),getScrollInfo:function(){var f=this.display.scroller;return{left:f.scrollLeft,top:f.scrollTop,height:f.scrollHeight-Yi(this)-this.display.barHeight,width:f.scrollWidth-Yi(this)-this.display.barWidth,clientHeight:Am(this),clientWidth:ga(this)}},scrollIntoView:ir(function(f,g){f==null?(f={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof f=="number"?f={from:Ee(f,0),to:null}:f.from==null&&(f={from:f,to:null}),f.to||(f.to=f.from),f.margin=g||0,f.from.line!=null?C3(this,f):iw(this,f.from,f.to,f.margin)}),setSize:ir(function(f,g){var y=this,w=function(C){return typeof C=="number"||/^\d+$/.test(String(C))?C+"px":C};f!=null&&(this.display.wrapper.style.width=w(f)),g!=null&&(this.display.wrapper.style.height=w(g)),this.options.lineWrapping&&K_(this);var k=this.display.viewFrom;this.doc.iter(k,this.display.viewTo,function(C){if(C.widgets){for(var O=0;O<C.widgets.length;O++)if(C.widgets[O].noHScroll){us(y,k,"widget");break}}++k}),this.curOp.forceUpdate=!0,we(this,"refresh",this)}),operation:function(f){return Dr(this,f)},startOperation:function(){return wa(this)},endOperation:function(){return xa(this)},refresh:ir(function(){var f=this.display.cachedTextHeight;yr(this),this.curOp.forceUpdate=!0,cc(this),dc(this,this.doc.scrollLeft,this.doc.scrollTop),Um(this.display),(f==null||Math.abs(f-Ol(this.display))>.5||this.options.lineWrapping)&&Fm(this),we(this,"refresh",this)}),swapDoc:ir(function(f){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),yw(this,f),cc(this),this.display.input.reset(),dc(this,f.scrollLeft,f.scrollTop),this.curOp.forceScroll=!0,Nn(this,"swapDoc",this,g),g}),phrase:function(f){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,f)?g[f]:f},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ft(a),a.registerHelper=function(f,g,y){d.hasOwnProperty(f)||(d[f]=a[f]={_global:[]}),d[f][g]=y},a.registerGlobalHelper=function(f,g,y,w){a.registerHelper(f,g,w),d[f]._global.push({pred:y,val:w})}}function lv(a,u,d,f,g){var y=u,w=d,k=Je(a,u.line),C=g&&a.direction=="rtl"?-d:d;function O(){var $e=u.line+C;return $e<a.first||$e>=a.first+a.size?!1:(u=new Ee($e,u.ch,u.sticky),k=Je(a,$e))}function U($e){var ze;if(f=="codepoint"){var qe=k.text.charCodeAt(u.ch+(d>0?0:-1));if(isNaN(qe))ze=null;else{var it=d>0?qe>=55296&&qe<56320:qe>=56320&&qe<57343;ze=new Ee(u.line,Math.max(0,Math.min(k.text.length,u.ch+d*(it?2:1))),-d)}}else g?ze=a4(a.cm,k,u,d):ze=tv(k,u,d);if(ze==null)if(!$e&&O())u=nv(g,a.cm,k,u.line,C);else return!1;else u=ze;return!0}if(f=="char"||f=="codepoint")U();else if(f=="column")U(!0);else if(f=="word"||f=="group")for(var ee=null,ue=f=="group",se=a.cm&&a.cm.getHelper(u,"wordChars"),ye=!0;!(d<0&&!U(!ye));ye=!1){var Te=k.text.charAt(u.ch)||`
`,Oe=A(Te,se)?"w":ue&&Te==`
`?"n":!ue||/\s/.test(Te)?null:"p";if(ue&&!ye&&!Oe&&(Oe="s"),ee&&ee!=Oe){d<0&&(d=1,U(),u.sticky="after");break}if(Oe&&(ee=Oe),d>0&&!U(!ye))break}var Re=Ud(a,u,y,w,!0);return ne(y,Re)&&(Re.hitSide=!0),Re}function dx(a,u,d,f){var g=a.doc,y=u.left,w;if(f=="page"){var k=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),C=Math.max(k-.5*Ol(a.display),3);w=(d>0?u.bottom:u.top)+d*C}else f=="line"&&(w=d>0?u.bottom+3:u.top-3);for(var O;O=Nm(a,y,w),!!O.outside;){if(d<0?w<=0:w>=g.height){O.hitSide=!0;break}w+=d*5}return O}var Ut=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ge,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ut.prototype.init=function(a){var u=this,d=this,f=d.cm,g=d.div=a.lineDiv;g.contentEditable=!0,cx(g,f.options.spellcheck,f.options.autocorrect,f.options.autocapitalize);function y(k){for(var C=k.target;C;C=C.parentNode){if(C==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(C.className))break}return!1}oe(g,"paste",function(k){!y(k)||We(f,k)||ax(k,f)||h<=11&&setTimeout(Ln(f,function(){return u.updateFromDOM()}),20)}),oe(g,"compositionstart",function(k){u.composing={data:k.data,done:!1}}),oe(g,"compositionupdate",function(k){u.composing||(u.composing={data:k.data,done:!1})}),oe(g,"compositionend",function(k){u.composing&&(k.data!=u.composing.data&&u.readFromDOMSoon(),u.composing.done=!0)}),oe(g,"touchstart",function(){return d.forceCompositionEnd()}),oe(g,"input",function(){u.composing||u.readFromDOMSoon()});function w(k){if(!(!y(k)||We(f,k))){if(f.somethingSelected())Xd({lineWise:!1,text:f.getSelections()}),k.type=="cut"&&f.replaceSelection("",null,"cut");else if(f.options.lineWiseCopyCut){var C=ux(f);Xd({lineWise:!0,text:C.text}),k.type=="cut"&&f.operation(function(){f.setSelections(C.ranges,0,He),f.replaceSelection("",null,"cut")})}else return;if(k.clipboardData){k.clipboardData.clearData();var O=Mi.text.join(`
`);if(k.clipboardData.setData("Text",O),k.clipboardData.getData("Text")==O){k.preventDefault();return}}var U=fx(),ee=U.firstChild;f.display.lineSpace.insertBefore(U,f.display.lineSpace.firstChild),ee.value=Mi.text.join(`
`);var ue=Se();yt(ee),setTimeout(function(){f.display.lineSpace.removeChild(U),ue.focus(),ue==g&&d.showPrimarySelection()},50)}}oe(g,"copy",w),oe(g,"cut",w)},Ut.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Ut.prototype.prepareSelection=function(){var a=tw(this.cm,!1);return a.focus=Se()==this.div,a},Ut.prototype.showSelection=function(a,u){!a||!this.cm.display.view.length||((a.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Ut.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ut.prototype.showPrimarySelection=function(){var a=this.getSelection(),u=this.cm,d=u.doc.sel.primary(),f=d.from(),g=d.to();if(u.display.viewTo==u.display.viewFrom||f.line>=u.display.viewTo||g.line<u.display.viewFrom){a.removeAllRanges();return}var y=Zd(u,a.anchorNode,a.anchorOffset),w=Zd(u,a.focusNode,a.focusOffset);if(!(y&&!y.bad&&w&&!w.bad&&N(ct(y,w),f)==0&&N(De(y,w),g)==0)){var k=u.display.view,C=f.line>=u.display.viewFrom&&hx(u,f)||{node:k[0].measure.map[2],offset:0},O=g.line<u.display.viewTo&&hx(u,g);if(!O){var U=k[k.length-1].measure,ee=U.maps?U.maps[U.maps.length-1]:U.map;O={node:ee[ee.length-1],offset:ee[ee.length-2]-ee[ee.length-3]}}if(!C||!O){a.removeAllRanges();return}var ue=a.rangeCount&&a.getRangeAt(0),se;try{se=de(C.node,C.offset,O.offset,O.node)}catch{}se&&(!i&&u.state.focused?(a.collapse(C.node,C.offset),se.collapsed||(a.removeAllRanges(),a.addRange(se))):(a.removeAllRanges(),a.addRange(se)),ue&&a.anchorNode==null?a.addRange(ue):i&&this.startGracePeriod()),this.rememberSelection()}},Ut.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Ut.prototype.showMultipleSelections=function(a){W(this.cm.display.cursorDiv,a.cursors),W(this.cm.display.selectionDiv,a.selection)},Ut.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Ut.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var u=a.getRangeAt(0).commonAncestorContainer;return pe(this.div,u)},Ut.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Se()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ut.prototype.blur=function(){this.div.blur()},Ut.prototype.getField=function(){return this.div},Ut.prototype.supportsTouch=function(){return!0},Ut.prototype.receivedFocus=function(){var a=this,u=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):Dr(this.cm,function(){return u.cm.curOp.selectionChanged=!0});function d(){u.cm.state.focused&&(u.pollSelection(),u.polling.set(u.cm.options.pollInterval,d))}this.polling.set(this.cm.options.pollInterval,d)},Ut.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Ut.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),u=this.cm;if(T&&v&&this.cm.display.gutterSpecs.length&&E4(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var d=Zd(u,a.anchorNode,a.anchorOffset),f=Zd(u,a.focusNode,a.focusOffset);d&&f&&Dr(u,function(){Yn(u.doc,fs(d,f),He),(d.bad||f.bad)&&(u.curOp.selectionChanged=!0)})}}},Ut.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,u=a.display,d=a.doc.sel.primary(),f=d.from(),g=d.to();if(f.ch==0&&f.line>a.firstLine()&&(f=Ee(f.line-1,Je(a.doc,f.line-1).length)),g.ch==Je(a.doc,g.line).text.length&&g.line<a.lastLine()&&(g=Ee(g.line+1,0)),f.line<u.viewFrom||g.line>u.viewTo-1)return!1;var y,w,k;f.line==u.viewFrom||(y=ya(a,f.line))==0?(w=zt(u.view[0].line),k=u.view[0].node):(w=zt(u.view[y].line),k=u.view[y-1].node.nextSibling);var C=ya(a,g.line),O,U;if(C==u.view.length-1?(O=u.viewTo-1,U=u.lineDiv.lastChild):(O=zt(u.view[C+1].line)-1,U=u.view[C+1].node.previousSibling),!k)return!1;for(var ee=a.doc.splitLines(A4(a,k,U,w,O)),ue=Ki(a.doc,Ee(w,0),Ee(O,Je(a.doc,O).text.length));ee.length>1&&ue.length>1;)if(ce(ee)==ce(ue))ee.pop(),ue.pop(),O--;else if(ee[0]==ue[0])ee.shift(),ue.shift(),w++;else break;for(var se=0,ye=0,Te=ee[0],Oe=ue[0],Re=Math.min(Te.length,Oe.length);se<Re&&Te.charCodeAt(se)==Oe.charCodeAt(se);)++se;for(var $e=ce(ee),ze=ce(ue),qe=Math.min($e.length-(ee.length==1?se:0),ze.length-(ue.length==1?se:0));ye<qe&&$e.charCodeAt($e.length-ye-1)==ze.charCodeAt(ze.length-ye-1);)++ye;if(ee.length==1&&ue.length==1&&w==f.line)for(;se&&se>f.ch&&$e.charCodeAt($e.length-ye-1)==ze.charCodeAt(ze.length-ye-1);)se--,ye++;ee[ee.length-1]=$e.slice(0,$e.length-ye).replace(/^\u200b+/,""),ee[0]=ee[0].slice(se).replace(/\u200b+$/,"");var it=Ee(w,se),nt=Ee(O,ue.length?ce(ue).length-ye:0);if(ee.length>1||ee[0]||N(it,nt))return Bl(a.doc,ee,it,nt,"+input"),!0},Ut.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ut.prototype.reset=function(){this.forceCompositionEnd()},Ut.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ut.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},Ut.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&Dr(this.cm,function(){return yr(a.cm)})},Ut.prototype.setUneditable=function(a){a.contentEditable="false"},Ut.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Ln(this.cm,av)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},Ut.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},Ut.prototype.onContextMenu=function(){},Ut.prototype.resetPosition=function(){},Ut.prototype.needsContentAttribute=!0;function hx(a,u){var d=Dm(a,u.line);if(!d||d.hidden)return null;var f=Je(a.doc,u.line),g=H_(d,f,u.line),y=Me(f,a.doc.direction),w="left";if(y){var k=q(y,u.ch);w=k%2?"right":"left"}var C=W_(g.map,u.ch,w);return C.offset=C.collapse=="right"?C.end:C.start,C}function E4(a){for(var u=a;u;u=u.parentNode)if(/CodeMirror-gutter-wrapper/.test(u.className))return!0;return!1}function Wl(a,u){return u&&(a.bad=!0),a}function A4(a,u,d,f,g){var y="",w=!1,k=a.doc.lineSeparator(),C=!1;function O(se){return function(ye){return ye.id==se}}function U(){w&&(y+=k,C&&(y+=k),w=C=!1)}function ee(se){se&&(U(),y+=se)}function ue(se){if(se.nodeType==1){var ye=se.getAttribute("cm-text");if(ye){ee(ye);return}var Te=se.getAttribute("cm-marker"),Oe;if(Te){var Re=a.findMarks(Ee(f,0),Ee(g+1,0),O(+Te));Re.length&&(Oe=Re[0].find(0))&&ee(Ki(a.doc,Oe.from,Oe.to).join(k));return}if(se.getAttribute("contenteditable")=="false")return;var $e=/^(pre|div|p|li|table|br)$/i.test(se.nodeName);if(!/^br$/i.test(se.nodeName)&&se.textContent.length==0)return;$e&&U();for(var ze=0;ze<se.childNodes.length;ze++)ue(se.childNodes[ze]);/^(pre|p)$/i.test(se.nodeName)&&(C=!0),$e&&(w=!0)}else se.nodeType==3&&ee(se.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ue(u),u!=d;)u=u.nextSibling,C=!1;return y}function Zd(a,u,d){var f;if(u==a.display.lineDiv){if(f=a.display.lineDiv.childNodes[d],!f)return Wl(a.clipPos(Ee(a.display.viewTo-1)),!0);u=null,d=0}else for(f=u;;f=f.parentNode){if(!f||f==a.display.lineDiv)return null;if(f.parentNode&&f.parentNode==a.display.lineDiv)break}for(var g=0;g<a.display.view.length;g++){var y=a.display.view[g];if(y.node==f)return D4(y,u,d)}}function D4(a,u,d){var f=a.text.firstChild,g=!1;if(!u||!pe(f,u))return Wl(Ee(zt(a.line),0),!0);if(u==f&&(g=!0,u=f.childNodes[d],d=0,!u)){var y=a.rest?ce(a.rest):a.line;return Wl(Ee(zt(y),y.text.length),g)}var w=u.nodeType==3?u:null,k=u;for(!w&&u.childNodes.length==1&&u.firstChild.nodeType==3&&(w=u.firstChild,d&&(d=w.nodeValue.length));k.parentNode!=f;)k=k.parentNode;var C=a.measure,O=C.maps;function U(Oe,Re,$e){for(var ze=-1;ze<(O?O.length:0);ze++)for(var qe=ze<0?C.map:O[ze],it=0;it<qe.length;it+=3){var nt=qe[it+2];if(nt==Oe||nt==Re){var bt=zt(ze<0?a.line:a.rest[ze]),Jt=qe[it]+$e;return($e<0||nt!=Oe)&&(Jt=qe[it+($e?1:0)]),Ee(bt,Jt)}}}var ee=U(w,k,d);if(ee)return Wl(ee,g);for(var ue=k.nextSibling,se=w?w.nodeValue.length-d:0;ue;ue=ue.nextSibling){if(ee=U(ue,ue.firstChild,0),ee)return Wl(Ee(ee.line,ee.ch-se),g);se+=ue.textContent.length}for(var ye=k.previousSibling,Te=d;ye;ye=ye.previousSibling){if(ee=U(ye,ye.firstChild,-1),ee)return Wl(Ee(ee.line,ee.ch+Te),g);Te+=ye.textContent.length}}var gn=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Ge,this.hasSelection=!1,this.composing=null};gn.prototype.init=function(a){var u=this,d=this,f=this.cm;this.createField(a);var g=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),E&&(g.style.width="0px"),oe(g,"input",function(){c&&h>=9&&u.hasSelection&&(u.hasSelection=null),d.poll()}),oe(g,"paste",function(w){We(f,w)||ax(w,f)||(f.state.pasteIncoming=+new Date,d.fastPoll())});function y(w){if(!We(f,w)){if(f.somethingSelected())Xd({lineWise:!1,text:f.getSelections()});else if(f.options.lineWiseCopyCut){var k=ux(f);Xd({lineWise:!0,text:k.text}),w.type=="cut"?f.setSelections(k.ranges,null,He):(d.prevInput="",g.value=k.text.join(`
`),yt(g))}else return;w.type=="cut"&&(f.state.cutIncoming=+new Date)}}oe(g,"cut",y),oe(g,"copy",y),oe(a.scroller,"paste",function(w){if(!(Co(a,w)||We(f,w))){if(!g.dispatchEvent){f.state.pasteIncoming=+new Date,d.focus();return}var k=new Event("paste");k.clipboardData=w.clipboardData,g.dispatchEvent(k)}}),oe(a.lineSpace,"selectstart",function(w){Co(a,w)||Rt(w)}),oe(g,"compositionstart",function(){var w=f.getCursor("from");d.composing&&d.composing.range.clear(),d.composing={start:w,range:f.markText(w,f.getCursor("to"),{className:"CodeMirror-composing"})}}),oe(g,"compositionend",function(){d.composing&&(d.poll(),d.composing.range.clear(),d.composing=null)})},gn.prototype.createField=function(a){this.wrapper=fx(),this.textarea=this.wrapper.firstChild},gn.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},gn.prototype.prepareSelection=function(){var a=this.cm,u=a.display,d=a.doc,f=tw(a);if(a.options.moveInputWithCursor){var g=Ai(a,d.sel.primary().head,"div"),y=u.wrapper.getBoundingClientRect(),w=u.lineDiv.getBoundingClientRect();f.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,g.top+w.top-y.top)),f.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,g.left+w.left-y.left))}return f},gn.prototype.showSelection=function(a){var u=this.cm,d=u.display;W(d.cursorDiv,a.cursors),W(d.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},gn.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing)){var u=this.cm;if(u.somethingSelected()){this.prevInput="";var d=u.getSelection();this.textarea.value=d,u.state.focused&&yt(this.textarea),c&&h>=9&&(this.hasSelection=d)}else a||(this.prevInput=this.textarea.value="",c&&h>=9&&(this.hasSelection=null))}},gn.prototype.getField=function(){return this.textarea},gn.prototype.supportsTouch=function(){return!1},gn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!R||Se()!=this.textarea))try{this.textarea.focus()}catch{}},gn.prototype.blur=function(){this.textarea.blur()},gn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},gn.prototype.receivedFocus=function(){this.slowPoll()},gn.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},gn.prototype.fastPoll=function(){var a=!1,u=this;u.pollingFast=!0;function d(){var f=u.poll();!f&&!a?(a=!0,u.polling.set(60,d)):(u.pollingFast=!1,u.slowPoll())}u.polling.set(20,d)},gn.prototype.poll=function(){var a=this,u=this.cm,d=this.textarea,f=this.prevInput;if(this.contextMenuPending||!u.state.focused||xd(d)&&!f&&!this.composing||u.isReadOnly()||u.options.disableInput||u.state.keySeq)return!1;var g=d.value;if(g==f&&!u.somethingSelected())return!1;if(c&&h>=9&&this.hasSelection===g||M&&/[\uf700-\uf7ff]/.test(g))return u.display.input.reset(),!1;if(u.doc.sel==u.display.selForContextMenu){var y=g.charCodeAt(0);if(y==8203&&!f&&(f="\u200B"),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var w=0,k=Math.min(f.length,g.length);w<k&&f.charCodeAt(w)==g.charCodeAt(w);)++w;return Dr(u,function(){av(u,g.slice(w),f.length-w,null,a.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?d.value=a.prevInput="":a.prevInput=g,a.composing&&(a.composing.range.clear(),a.composing.range=u.markText(a.composing.start,u.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},gn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},gn.prototype.onKeyPress=function(){c&&h>=9&&(this.hasSelection=null),this.fastPoll()},gn.prototype.onContextMenu=function(a){var u=this,d=u.cm,f=d.display,g=u.textarea;u.contextMenuPending&&u.contextMenuPending();var y=va(d,a),w=f.scroller.scrollTop;if(!y||b)return;var k=d.options.resetSelectionOnContextMenu;k&&d.doc.sel.contains(y)==-1&&Ln(d,Yn)(d.doc,fs(y),He);var C=g.style.cssText,O=u.wrapper.style.cssText,U=u.wrapper.offsetParent.getBoundingClientRect();u.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-U.top-5)+"px; left: "+(a.clientX-U.left-5)+`px;
      z-index: 1000; background: `+(c?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ee;p&&(ee=window.scrollY),f.input.focus(),p&&window.scrollTo(null,ee),f.input.reset(),d.somethingSelected()||(g.value=u.prevInput=" "),u.contextMenuPending=se,f.selForContextMenu=d.doc.sel,clearTimeout(f.detectingSelectAll);function ue(){if(g.selectionStart!=null){var Te=d.somethingSelected(),Oe="\u200B"+(Te?g.value:"");g.value="\u21DA",g.value=Oe,u.prevInput=Te?"":"\u200B",g.selectionStart=1,g.selectionEnd=Oe.length,f.selForContextMenu=d.doc.sel}}function se(){if(u.contextMenuPending==se&&(u.contextMenuPending=!1,u.wrapper.style.cssText=O,g.style.cssText=C,c&&h<9&&f.scrollbars.setScrollTop(f.scroller.scrollTop=w),g.selectionStart!=null)){(!c||c&&h<9)&&ue();var Te=0,Oe=function(){f.selForContextMenu==d.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&u.prevInput=="\u200B"?Ln(d,Ow)(d):Te++<10?f.detectingSelectAll=setTimeout(Oe,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(Oe,200)}}if(c&&h>=9&&ue(),B){_n(a);var ye=function(){Ae(window,"mouseup",ye),setTimeout(se,20)};oe(window,"mouseup",ye)}else setTimeout(se,50)},gn.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},gn.prototype.setUneditable=function(){},gn.prototype.needsContentAttribute=!1;function M4(a,u){if(u=u?pt(u):{},u.value=a.value,!u.tabindex&&a.tabIndex&&(u.tabindex=a.tabIndex),!u.placeholder&&a.placeholder&&(u.placeholder=a.placeholder),u.autofocus==null){var d=Se();u.autofocus=d==a||a.getAttribute("autofocus")!=null&&d==document.body}function f(){a.value=k.getValue()}var g;if(a.form&&(oe(a.form,"submit",f),!u.leaveSubmitMethodAlone)){var y=a.form;g=y.submit;try{var w=y.submit=function(){f(),y.submit=g,y.submit(),y.submit=w}}catch{}}u.finishInit=function(C){C.save=f,C.getTextArea=function(){return a},C.toTextArea=function(){C.toTextArea=isNaN,f(),a.parentNode.removeChild(C.getWrapperElement()),a.style.display="",a.form&&(Ae(a.form,"submit",f),!u.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=g))}},a.style.display="none";var k=nn(function(C){return a.parentNode.insertBefore(C,a.nextSibling)},u);return k}function O4(a){a.off=Ae,a.on=oe,a.wheelEventPixels=z3,a.Doc=br,a.splitLines=Qu,a.countColumn=ot,a.findColumn=gt,a.isWordChar=F,a.Pass=be,a.signal=we,a.Line=Al,a.changeEnd=ds,a.scrollbarModel=aw,a.Pos=Ee,a.cmpPos=N,a.modes=li,a.mimeModes=Hr,a.resolveMode=Sl,a.getMode=Tl,a.modeExtensions=Si,a.extendMode=Ti,a.copyState=jr,a.startState=nc,a.innerMode=tc,a.commands=Ec,a.keyMap=To,a.keyName=qw,a.isModifierKey=Uw,a.lookupKey=Hl,a.normalizeKeyMap=s4,a.StringStream=un,a.SharedTextMarker=Cc,a.TextMarker=ps,a.LineWidget=kc,a.e_preventDefault=Rt,a.e_stopPropagation=Qt,a.e_stop=_n,a.addClass=Ve,a.contains=pe,a.rmClass=V,a.keyNames=gs}x4(nn),T4(nn);var N4="iter insert remove copy getEditor constructor".split(" ");for(var Qd in br.prototype)br.prototype.hasOwnProperty(Qd)&&Fe(N4,Qd)<0&&(nn.prototype[Qd]=function(a){return function(){return a.apply(this.doc,arguments)}}(br.prototype[Qd]));return Ft(br),nn.inputStyles={textarea:gn,contenteditable:Ut},nn.defineMode=function(a){!nn.defaults.mode&&a!="null"&&(nn.defaults.mode=a),Cd.apply(this,arguments)},nn.defineMIME=wo,nn.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),nn.defineMIME("text/plain","null"),nn.defineExtension=function(a,u){nn.prototype[a]=u},nn.defineDocExtension=function(a,u){br.prototype[a]=u},nn.fromTextArea=M4,O4(nn),nn.version="5.65.3",nn})})(gr);var i6=gr.exports;(function(e,t){(function(n){n(gr.exports)})(function(n){var r=n.Pos,i="http://www.w3.org/2000/svg";function o(S,F){this.mv=S,this.type=F,this.classes=F=="left"?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}o.prototype={constructor:o,init:function(S,F,A){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=n(S,be({value:F,readOnly:!this.mv.options.allowEditingOriginals},be(A))),this.mv.options.connect=="align"&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new te(this.edit)),this.orig.state.trackAlignable=new te(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.lockButton.setAttribute("aria-label",this.lockButton.title),this.orig.state.diffViews=[this];var H=A.chunkClassLocation||"background";Object.prototype.toString.call(H)!="[object Array]"&&(H=[H]),this.classes.classLocation=H,this.diff=de(Q(F),Q(A.value),this.mv.options.ignoreWhitespace),this.chunks=pe(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=A.showDifferences!==!1},registerEvents:function(S){this.forceUpdate=c(this),v(this,!0,!1),h(this,S)},setShowDifferences:function(S){S=S!==!1,S!=this.showDifferences&&(this.showDifferences=S,this.forceUpdate("full"))}};function s(S){S.diffOutOfDate&&(S.diff=de(S.orig.getValue(),S.edit.getValue(),S.mv.options.ignoreWhitespace),S.chunks=pe(S.diff),S.diffOutOfDate=!1,n.signal(S.edit,"updateDiff",S.diff))}var l=!1;function c(S){var F={from:0,to:0,marked:[]},A={from:0,to:0,marked:[]},H,P=!1;function X(q){l=!0,P=!1,q=="full"&&(S.svg&&Fe(S.svg),S.copyButtons&&Fe(S.copyButtons),_(S.edit,F.marked,S.classes),_(S.orig,A.marked,S.classes),F.from=F.to=A.from=A.to=0),s(S),S.showDifferences&&(x(S.edit,S.diff,F,DIFF_INSERT,S.classes),x(S.orig,S.diff,A,DIFF_DELETE,S.classes)),S.mv.options.connect=="align"&&Z(S),T(S),S.needsScrollSync!=null&&p(S,S.needsScrollSync),l=!1}function ae(q){l||(S.dealigned=!0,fe(q))}function fe(q){l||P||(clearTimeout(H),q===!0&&(P=!0),H=setTimeout(X,q===!0?20:250))}function ge(q,he){S.diffOutOfDate||(S.diffOutOfDate=!0,F.from=F.to=A.from=A.to=0),ae(he.text.length-1!=he.to.line-he.from.line)}function K(){S.diffOutOfDate=!0,S.dealigned=!0,X("full")}return S.edit.on("change",ge),S.orig.on("change",ge),S.edit.on("swapDoc",K),S.orig.on("swapDoc",K),S.mv.options.connect=="align"&&(n.on(S.edit.state.trackAlignable,"realign",ae),n.on(S.orig.state.trackAlignable,"realign",ae)),S.edit.on("viewportChange",function(){fe(!1)}),S.orig.on("viewportChange",function(){fe(!1)}),X(),X}function h(S,F){S.edit.on("scroll",function(){p(S,!0)&&T(S)}),S.orig.on("scroll",function(){p(S,!1)&&T(S),F&&p(F,!0)&&T(F)})}function p(S,F){if(S.diffOutOfDate)return S.lockScroll&&S.needsScrollSync==null&&(S.needsScrollSync=F),!1;if(S.needsScrollSync=null,!S.lockScroll)return!0;var A,H,P=+new Date;if(F?(A=S.edit,H=S.orig):(A=S.orig,H=S.edit),A.state.scrollSetBy==S&&(A.state.scrollSetAt||0)+250>P)return!1;var X=A.getScrollInfo();if(S.mv.options.connect=="align")rt=X.top;else{var ae=.5*X.clientHeight,fe=X.top+ae,ge=A.lineAtHeight(fe,"local"),K=tt(S.chunks,ge,F),q=m(A,F?K.edit:K.orig),he=m(H,F?K.orig:K.edit),Me=(fe-q.top)/(q.bot-q.top),rt=he.top-ae+Me*(he.bot-he.top),oe,Pe;if(rt>X.top&&(Pe=X.top/ae)<1)rt=rt*Pe+X.top*(1-Pe);else if((oe=X.height-X.clientHeight-X.top)<ae){var Ae=H.getScrollInfo(),we=Ae.height-Ae.clientHeight-rt;we>oe&&(Pe=oe/ae)<1&&(rt=rt*Pe+(Ae.height-Ae.clientHeight-oe)*(1-Pe))}}return H.scrollTo(X.left,rt),H.state.scrollSetAt=P,H.state.scrollSetBy=S,!0}function m(S,F){var A=F.after;return A==null&&(A=S.lastLine()+1),{top:S.heightAtLine(F.before||0,"local"),bot:S.heightAtLine(A,"local")}}function v(S,F,A){S.lockScroll=F,F&&A!=!1&&p(S,DIFF_INSERT)&&T(S),(F?n.addClass:n.rmClass)(S.lockButton,"CodeMirror-merge-scrolllock-enabled")}function b(S,F,A){for(var H=A.classLocation,P=0;P<H.length;P++)S.removeLineClass(F,H[P],A.chunk),S.removeLineClass(F,H[P],A.start),S.removeLineClass(F,H[P],A.end)}function _(S,F,A){for(var H=0;H<F.length;++H){var P=F[H];P instanceof n.TextMarker?P.clear():P.parent&&b(S,P,A)}F.length=0}function x(S,F,A,H,P){var X=S.getViewport();S.operation(function(){A.from==A.to||X.from-A.to>20||A.from-X.to>20?(_(S,A.marked,P),E(S,F,H,A.marked,X.from,X.to,P),A.from=X.from,A.to=X.to):(X.from<A.from&&(E(S,F,H,A.marked,X.from,A.from,P),A.from=X.from),X.to>A.to&&(E(S,F,H,A.marked,A.to,X.to,P),A.to=X.to))})}function D(S,F,A,H,P,X){for(var ae=A.classLocation,fe=S.getLineHandle(F),ge=0;ge<ae.length;ge++)H&&S.addLineClass(fe,ae[ge],A.chunk),P&&S.addLineClass(fe,ae[ge],A.start),X&&S.addLineClass(fe,ae[ge],A.end);return fe}function E(S,F,A,H,P,X,ae){var fe=r(0,0),ge=r(P,0),K=S.clipPos(r(X-1)),q=A==DIFF_DELETE?ae.del:ae.insert;function he(Qt,tn){for(var _n=Math.max(P,Qt),wn=Math.min(X,tn),vr=_n;vr<wn;++vr)H.push(D(S,vr,ae,!0,vr==Qt,vr==tn-1));Qt==tn&&_n==tn&&wn==tn&&(_n?H.push(D(S,_n-1,ae,!1,!1,!0)):H.push(D(S,_n,ae,!1,!0,!1)))}for(var Me=0,rt=!1,oe=0;oe<F.length;++oe){var Pe=F[oe],Ae=Pe[0],we=Pe[1];if(Ae==DIFF_EQUAL){var We=fe.line+(Ve(F,oe)?0:1);He(fe,we);var qt=fe.line+(Se(F,oe)?1:0);qt>We&&(rt&&(he(Me,We),rt=!1),Me=qt)}else if(rt=!0,Ae==A){var dt=He(fe,we,!0),Ft=ce(ge,fe),Rt=re(K,dt);me(Ft,Rt)||H.push(S.markText(Ft,Rt,{className:q})),fe=dt}}rt&&he(Me,fe.line+1)}function T(S){if(!!S.showDifferences){if(S.svg){Fe(S.svg);var F=S.gap.offsetWidth;ke(S.svg,"width",F,"height",S.gap.offsetHeight)}S.copyButtons&&Fe(S.copyButtons);for(var A=S.edit.getViewport(),H=S.orig.getViewport(),P=S.mv.wrap.getBoundingClientRect().top,X=P-S.edit.getScrollerElement().getBoundingClientRect().top+S.edit.getScrollInfo().top,ae=P-S.orig.getScrollerElement().getBoundingClientRect().top+S.orig.getScrollInfo().top,fe=0;fe<S.chunks.length;fe++){var ge=S.chunks[fe];ge.editFrom<=A.to&&ge.editTo>=A.from&&ge.origFrom<=H.to&&ge.origTo>=H.from&&L(S,ge,ae,X,F)}}}function R(S,F){for(var A=0,H=0,P=0;P<F.length;P++){var X=F[P];if(X.editTo>S&&X.editFrom<=S)return null;if(X.editFrom>S)break;A=X.editTo,H=X.origTo}return H+(S-A)}function M(S,F,A){for(var H=S.state.trackAlignable,P=S.firstLine(),X=0,ae=[],fe=0;;fe++){for(var ge=F[fe],K=ge?A?ge.origFrom:ge.editFrom:1e9;X<H.alignable.length;X+=2){var q=H.alignable[X]+1;if(!(q<=P))if(q<=K)ae.push(q);else break}if(!ge)break;ae.push(P=A?ge.origTo:ge.editTo)}return ae}function Y(S,F,A,H){var P=0,X=0,ae=0,fe=0;e:for(;;P++){var ge=S[P],K=F[X];if(!ge&&K==null)break;for(var q=ge?ge[0]:1e9,he=K==null?1e9:K;ae<A.length;){var Me=A[ae];if(Me.origFrom<=he&&Me.origTo>he){X++,P--;continue e}if(Me.editTo>q){if(Me.editFrom<=q)continue e;break}fe+=Me.origTo-Me.origFrom-(Me.editTo-Me.editFrom),ae++}if(q==he-fe)ge[H]=he,X++;else if(q<he-fe)ge[H]=q+fe;else{var rt=[he-fe,null,null];rt[H]=he,S.splice(P,0,rt),X++}}}function J(S,F){var A=M(S.edit,S.chunks,!1),H=[];if(F)for(var P=0,X=0;P<F.chunks.length;P++){for(var ae=F.chunks[P].editTo;X<A.length&&A[X]<ae;)X++;(X==A.length||A[X]!=ae)&&A.splice(X++,0,ae)}for(var P=0;P<A.length;P++)H.push([A[P],null,null]);return Y(H,M(S.orig,S.chunks,!0),S.chunks,1),F&&Y(H,M(F.orig,F.chunks,!0),F.chunks,2),H}function Z(S,F){if(!(!S.dealigned&&!F)){if(!S.orig.curOp)return S.orig.operation(function(){Z(S,F)});S.dealigned=!1;var A=S.mv.left==S?S.mv.right:S.mv.left;A&&(s(A),A.dealigned=!1);for(var H=J(S,A),P=S.mv.aligners,X=0;X<P.length;X++)P[X].clear();P.length=0;var ae=[S.edit,S.orig],fe=[],ge=[];A&&ae.push(A.orig);for(var X=0;X<ae.length;X++)fe.push(ae[X].getScrollInfo().top),ge.push(-ae[X].getScrollerElement().getBoundingClientRect().top);(ge[0]!=ge[1]||ae.length==3&&ge[1]!=ge[2])&&z(ae,ge,[0,0,0],P);for(var K=0;K<H.length;K++)z(ae,ge,H[K],P);for(var X=0;X<ae.length;X++)ae[X].scrollTo(null,fe[X])}}function z(S,F,A,H){for(var P=-1e8,X=[],ae=0;ae<S.length;ae++)if(A[ae]!=null){var fe=S[ae].heightAtLine(A[ae],"local")-F[ae];X[ae]=fe,P=Math.max(P,fe)}for(var ae=0;ae<S.length;ae++)if(A[ae]!=null){var ge=P-X[ae];ge>1&&H.push(B(S[ae],A[ae],ge))}}function B(S,F,A){var H=!0;F>S.lastLine()&&(F--,H=!1);var P=document.createElement("div");return P.className="CodeMirror-merge-spacer",P.style.height=A+"px",P.style.minWidth="1px",S.addLineWidget(F,P,{height:A,above:H,mergeSpacer:!0,handleMouseEvents:!0})}function L(S,F,A,H,P){var X=S.type=="left",ae=S.orig.heightAtLine(F.origFrom,"local",!0)-A;if(S.svg){var fe=ae,ge=S.edit.heightAtLine(F.editFrom,"local",!0)-H;if(X){var K=fe;fe=ge,ge=K}var q=S.orig.heightAtLine(F.origTo,"local",!0)-A,he=S.edit.heightAtLine(F.editTo,"local",!0)-H;if(X){var K=q;q=he,he=K}var Me=" C "+P/2+" "+ge+" "+P/2+" "+fe+" "+(P+2)+" "+fe,rt=" C "+P/2+" "+q+" "+P/2+" "+he+" -1 "+he;ke(S.svg.appendChild(document.createElementNS(i,"path")),"d","M -1 "+ge+Me+" L "+(P+2)+" "+q+rt+" z","class",S.classes.connect)}if(S.copyButtons){var oe=S.copyButtons.appendChild(Ge("div",S.type=="left"?"\u21DD":"\u21DC","CodeMirror-merge-copy")),Pe=S.mv.options.allowEditingOriginals;if(oe.title=S.edit.phrase(Pe?"Push to left":"Revert chunk"),oe.chunk=F,oe.style.top=(F.origTo>F.origFrom?ae:S.edit.heightAtLine(F.editFrom,"local")-H)+"px",oe.setAttribute("role","button"),oe.setAttribute("tabindex","0"),oe.setAttribute("aria-label",oe.title),Pe){var Ae=S.edit.heightAtLine(F.editFrom,"local")-H,we=S.copyButtons.appendChild(Ge("div",S.type=="right"?"\u21DD":"\u21DC","CodeMirror-merge-copy-reverse"));we.title="Push to right",we.chunk={editFrom:F.origFrom,editTo:F.origTo,origFrom:F.editFrom,origTo:F.editTo},we.style.top=Ae+"px",S.type=="right"?we.style.left="2px":we.style.right="2px",we.setAttribute("role","button"),we.setAttribute("tabindex","0"),we.setAttribute("aria-label",we.title)}}}function V(S,F,A,H){if(!S.diffOutOfDate){var P=H.origTo>A.lastLine()?r(H.origFrom-1):r(H.origFrom,0),X=r(H.origTo,0),ae=H.editTo>F.lastLine()?r(H.editFrom-1):r(H.editFrom,0),fe=r(H.editTo,0),ge=S.mv.options.revertChunk;ge?ge(S.mv,A,P,X,F,ae,fe):F.replaceRange(A.getRange(P,X),ae,fe)}}var ie=n.MergeView=function(S,F){if(!(this instanceof ie))return new ie(S,F);this.options=F;var A=F.origLeft,H=F.origRight==null?F.orig:F.origRight,P=A!=null,X=H!=null,ae=1+(P?1:0)+(X?1:0),fe=[],ge=this.left=null,K=this.right=null,q=this;if(P){ge=this.left=new o(this,"left");var he=Ge("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");fe.push(he),fe.push(W(ge))}var Me=Ge("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(fe.push(Me),X){K=this.right=new o(this,"right"),fe.push(W(K));var rt=Ge("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");fe.push(rt)}(X?rt:Me).className+=" CodeMirror-merge-pane-rightmost",fe.push(Ge("div",null,null,"height: 0; clear: both;"));var oe=this.wrap=S.appendChild(Ge("div",fe,"CodeMirror-merge CodeMirror-merge-"+ae+"pane"));this.edit=n(Me,be(F)),ge&&ge.init(he,A,F),K&&K.init(rt,H,F),F.collapseIdentical&&this.editor().operation(function(){ot(q,F.collapseIdentical)}),F.connect=="align"&&(this.aligners=[],Z(this.left||this.right,!0)),ge&&ge.registerEvents(K),K&&K.registerEvents(ge);var Pe=function(){ge&&T(ge),K&&T(K)};n.on(window,"resize",Pe);var Ae=setInterval(function(){for(var we=oe.parentNode;we&&we!=document.body;we=we.parentNode);we||(clearInterval(Ae),n.off(window,"resize",Pe))},5e3)};function W(S){var F=S.lockButton=Ge("div",null,"CodeMirror-merge-scrolllock");F.setAttribute("role","button"),F.setAttribute("tabindex","0");var A=Ge("div",[F],"CodeMirror-merge-scrolllock-wrap");n.on(F,"click",function(){v(S,!S.lockScroll)}),n.on(F,"keyup",function(ae){ae.key==="Enter"&&v(S,!S.lockScroll)});var H=[A];if(S.mv.options.revertButtons!==!1){let ae=function(fe){var ge=fe.target||fe.srcElement;if(!!ge.chunk){if(ge.className=="CodeMirror-merge-copy-reverse"){V(S,S.orig,S.edit,ge.chunk);return}V(S,S.edit,S.orig,ge.chunk)}};var X=ae;S.copyButtons=Ge("div",null,"CodeMirror-merge-copybuttons-"+S.type),n.on(S.copyButtons,"click",ae),n.on(S.copyButtons,"keyup",function(fe){fe.key==="Enter"&&ae(fe)}),H.unshift(S.copyButtons)}if(S.mv.options.connect!="align"){var P=document.createElementNS&&document.createElementNS(i,"svg");P&&!P.createSVGRect&&(P=null),S.svg=P,P&&H.push(P)}return S.gap=Ge("div",H,"CodeMirror-merge-gap")}ie.prototype={constructor:ie,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(S){this.right&&this.right.setShowDifferences(S),this.left&&this.left.setShowDifferences(S)},rightChunks:function(){if(this.right)return s(this.right),this.right.chunks},leftChunks:function(){if(this.left)return s(this.left),this.left.chunks}};function Q(S){return typeof S=="string"?S:S.getValue()}var I;function de(S,F,A){I||(I=new diff_match_patch);for(var H=I.diff_main(S,F),P=0;P<H.length;++P){var X=H[P];(A?!/[^ \t]/.test(X[1]):!X[1])?H.splice(P--,1):P&&H[P-1][0]==X[0]&&(H.splice(P--,1),H[P][1]+=X[1])}return H}function pe(S){var F=[];if(!S.length)return F;for(var A=0,H=0,P=r(0,0),X=r(0,0),ae=0;ae<S.length;++ae){var fe=S[ae],ge=fe[0];if(ge==DIFF_EQUAL){var K=!Ve(S,ae)||P.line<A||X.line<H?1:0,q=P.line+K,he=X.line+K;He(P,fe[1],null,X);var Me=Se(S,ae)?1:0,rt=P.line+Me,oe=X.line+Me;rt>q&&(ae&&F.push({origFrom:H,origTo:he,editFrom:A,editTo:q}),A=rt,H=oe)}else He(ge==DIFF_INSERT?P:X,fe[1])}return(A<=P.line||H<=X.line)&&F.push({origFrom:H,origTo:X.line+1,editFrom:A,editTo:P.line+1}),F}function Se(S,F){if(F==S.length-1)return!0;var A=S[F+1][1];return A.length==1&&F<S.length-2||A.charCodeAt(0)!=10?!1:F==S.length-2?!0:(A=S[F+2][1],(A.length>1||F==S.length-3)&&A.charCodeAt(0)==10)}function Ve(S,F){if(F==0)return!0;var A=S[F-1][1];return A.charCodeAt(A.length-1)!=10?!1:F==1?!0:(A=S[F-2][1],A.charCodeAt(A.length-1)==10)}function tt(S,F,A){for(var H,P,X,ae,fe=0;fe<S.length;fe++){var ge=S[fe],K=A?ge.editFrom:ge.origFrom,q=A?ge.editTo:ge.origTo;P==null&&(K>F?(P=ge.editFrom,ae=ge.origFrom):q>F&&(P=ge.editTo,ae=ge.origTo)),q<=F?(H=ge.editTo,X=ge.origTo):K<=F&&(H=ge.editFrom,X=ge.origFrom)}return{edit:{before:H,after:P},orig:{before:X,after:ae}}}function yt(S,F,A){S.addLineClass(F,"wrap","CodeMirror-merge-collapsed-line");var H=document.createElement("span");H.className="CodeMirror-merge-collapsed-widget",H.title=S.phrase("Identical text collapsed. Click to expand.");var P=S.markText(r(F,0),r(A-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:H,clearOnEnter:!0});function X(){P.clear(),S.removeLineClass(F,"wrap","CodeMirror-merge-collapsed-line")}return P.explicitlyCleared&&X(),n.on(H,"click",X),P.on("clear",X),n.on(H,"click",X),{mark:P,clear:X}}function Mt(S,F){var A=[];function H(){for(var fe=0;fe<A.length;fe++)A[fe].clear()}for(var P=0;P<F.length;P++){var X=F[P],ae=yt(X.cm,X.line,X.line+S);A.push(ae),ae.mark.on("clear",H)}return A[0].mark}function pt(S,F,A,H){for(var P=0;P<S.chunks.length;P++)for(var X=S.chunks[P],ae=X.editFrom-F;ae<X.editTo+F;ae++){var fe=ae+A;fe>=0&&fe<H.length&&(H[fe]=!1)}}function ot(S,F){typeof F!="number"&&(F=2);for(var A=[],H=S.editor(),P=H.firstLine(),X=P,ae=H.lastLine();X<=ae;X++)A.push(!0);S.left&&pt(S.left,F,P,A),S.right&&pt(S.right,F,P,A);for(var fe=0;fe<A.length;fe++)if(A[fe]){for(var ge=fe+P,K=1;fe<A.length-1&&A[fe+1];fe++,K++);if(K>F){var q=[{line:ge,cm:H}];S.left&&q.push({line:R(ge,S.left.chunks),cm:S.left.orig}),S.right&&q.push({line:R(ge,S.right.chunks),cm:S.right.orig});var he=Mt(K,q);S.options.onCollapse&&S.options.onCollapse(S,ge,K,he)}}}function Ge(S,F,A,H){var P=document.createElement(S);if(A&&(P.className=A),H&&(P.style.cssText=H),typeof F=="string")P.appendChild(document.createTextNode(F));else if(F)for(var X=0;X<F.length;++X)P.appendChild(F[X]);return P}function Fe(S){for(var F=S.childNodes.length;F>0;--F)S.removeChild(S.firstChild)}function ke(S){for(var F=1;F<arguments.length;F+=2)S.setAttribute(arguments[F],arguments[F+1])}function be(S,F){F||(F={});for(var A in S)S.hasOwnProperty(A)&&(F[A]=S[A]);return F}function He(S,F,A,H){for(var P=A?r(S.line,S.ch):S,X=0;;){var ae=F.indexOf(`
`,X);if(ae==-1)break;++P.line,H&&++H.line,X=ae+1}return P.ch=(X?0:P.ch)+(F.length-X),H&&(H.ch=(X?0:H.ch)+(F.length-X)),P}var Ke=1,je=2,gt=4;function te(S){this.cm=S,this.alignable=[],this.height=S.doc.height;var F=this;S.on("markerAdded",function(A,H){if(!!H.collapsed){var P=H.find(1);P!=null&&F.set(P.line,gt)}}),S.on("markerCleared",function(A,H,P,X){X!=null&&H.collapsed&&F.check(X,gt,F.hasMarker)}),S.on("markerChanged",this.signal.bind(this)),S.on("lineWidgetAdded",function(A,H,P){H.mergeSpacer||(H.above?F.set(P-1,je):F.set(P,Ke))}),S.on("lineWidgetCleared",function(A,H,P){H.mergeSpacer||(H.above?F.check(P-1,je,F.hasWidgetBelow):F.check(P,Ke,F.hasWidget))}),S.on("lineWidgetChanged",this.signal.bind(this)),S.on("change",function(A,H){var P=H.from.line,X=H.to.line-H.from.line,ae=H.text.length-1,fe=P+ae;(X||ae)&&F.map(P,X,ae),F.check(fe,gt,F.hasMarker),(X||ae)&&F.check(H.from.line,gt,F.hasMarker)}),S.on("viewportChange",function(){F.cm.doc.height!=F.height&&F.signal()})}te.prototype={signal:function(){n.signal(this,"realign"),this.height=this.cm.doc.height},set:function(S,F){for(var A=-1;A<this.alignable.length;A+=2){var H=this.alignable[A]-S;if(H==0){if((this.alignable[A+1]&F)==F)return;this.alignable[A+1]|=F,this.signal();return}if(H>0)break}this.signal(),this.alignable.splice(A,0,S,F)},find:function(S){for(var F=0;F<this.alignable.length;F+=2)if(this.alignable[F]==S)return F;return-1},check:function(S,F,A){var H=this.find(S);if(!(H==-1||!(this.alignable[H+1]&F))&&!A.call(this,S)){this.signal();var P=this.alignable[H+1]&~F;P?this.alignable[H+1]=P:this.alignable.splice(H,2)}},hasMarker:function(S){var F=this.cm.getLineHandle(S);if(F.markedSpans){for(var A=0;A<F.markedSpans.length;A++)if(F.markedSpans[A].marker.collapsed&&F.markedSpans[A].to!=null)return!0}return!1},hasWidget:function(S){var F=this.cm.getLineHandle(S);if(F.widgets){for(var A=0;A<F.widgets.length;A++)if(!F.widgets[A].above&&!F.widgets[A].mergeSpacer)return!0}return!1},hasWidgetBelow:function(S){if(S==this.cm.lastLine())return!1;var F=this.cm.getLineHandle(S+1);if(F.widgets){for(var A=0;A<F.widgets.length;A++)if(F.widgets[A].above&&!F.widgets[A].mergeSpacer)return!0}return!1},map:function(S,F,A){for(var H=A-F,P=S+F,X=-1,ae=-1,fe=0;fe<this.alignable.length;fe+=2){var ge=this.alignable[fe];ge==S&&this.alignable[fe+1]&je&&(X=fe),ge==P&&this.alignable[fe+1]&je&&(ae=fe),!(ge<=S)&&(ge<P?this.alignable.splice(fe--,2):this.alignable[fe]+=H)}if(X>-1){var K=this.alignable[X+1];K==je?this.alignable.splice(X,2):this.alignable[X+1]=K&~je}ae>-1&&A&&this.set(S+A,je)}};function re(S,F){return(S.line-F.line||S.ch-F.ch)<0?S:F}function ce(S,F){return(S.line-F.line||S.ch-F.ch)>0?S:F}function me(S,F){return S.line==F.line&&S.ch==F.ch}function ve(S,F,A){for(var H=S.length-1;H>=0;H--){var P=S[H],X=(A?P.origTo:P.editTo)-1;if(X<F)return X}}function j(S,F,A){for(var H=0;H<S.length;H++){var P=S[H],X=A?P.origFrom:P.editFrom;if(X>F)return X}}function G(S,F){var A=null,H=S.state.diffViews,P=S.getCursor().line;if(H)for(var X=0;X<H.length;X++){var ae=H[X],fe=S==ae.orig;s(ae);var ge=F<0?ve(ae.chunks,P,fe):j(ae.chunks,P,fe);ge!=null&&(A==null||(F<0?ge>A:ge<A))&&(A=ge)}if(A!=null)S.setCursor(A,0);else return n.Pass}n.commands.goNextDiff=function(S){return G(S,1)},n.commands.goPrevDiff=function(S){return G(S,-1)}})})();var o6={exports:{}};(function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;t.Diff=function(o,s){return[o,s]},t.prototype.diff_main=function(o,s,l,c){typeof c=="undefined"&&(this.Diff_Timeout<=0?c=Number.MAX_VALUE:c=new Date().getTime()+this.Diff_Timeout*1e3);var h=c;if(o==null||s==null)throw new Error("Null input. (diff_main)");if(o==s)return o?[new t.Diff(i,o)]:[];typeof l=="undefined"&&(l=!0);var p=l,m=this.diff_commonPrefix(o,s),v=o.substring(0,m);o=o.substring(m),s=s.substring(m),m=this.diff_commonSuffix(o,s);var b=o.substring(o.length-m);o=o.substring(0,o.length-m),s=s.substring(0,s.length-m);var _=this.diff_compute_(o,s,p,h);return v&&_.unshift(new t.Diff(i,v)),b&&_.push(new t.Diff(i,b)),this.diff_cleanupMerge(_),_},t.prototype.diff_compute_=function(o,s,l,c){var h;if(!o)return[new t.Diff(r,s)];if(!s)return[new t.Diff(n,o)];var p=o.length>s.length?o:s,m=o.length>s.length?s:o,v=p.indexOf(m);if(v!=-1)return h=[new t.Diff(r,p.substring(0,v)),new t.Diff(i,m),new t.Diff(r,p.substring(v+m.length))],o.length>s.length&&(h[0][0]=h[2][0]=n),h;if(m.length==1)return[new t.Diff(n,o),new t.Diff(r,s)];var b=this.diff_halfMatch_(o,s);if(b){var _=b[0],x=b[1],D=b[2],E=b[3],T=b[4],R=this.diff_main(_,D,l,c),M=this.diff_main(x,E,l,c);return R.concat([new t.Diff(i,T)],M)}return l&&o.length>100&&s.length>100?this.diff_lineMode_(o,s,c):this.diff_bisect_(o,s,c)},t.prototype.diff_lineMode_=function(o,s,l){var c=this.diff_linesToChars_(o,s);o=c.chars1,s=c.chars2;var h=c.lineArray,p=this.diff_main(o,s,!1,l);this.diff_charsToLines_(p,h),this.diff_cleanupSemantic(p),p.push(new t.Diff(i,""));for(var m=0,v=0,b=0,_="",x="";m<p.length;){switch(p[m][0]){case r:b++,x+=p[m][1];break;case n:v++,_+=p[m][1];break;case i:if(v>=1&&b>=1){p.splice(m-v-b,v+b),m=m-v-b;for(var D=this.diff_main(_,x,!1,l),E=D.length-1;E>=0;E--)p.splice(m,0,D[E]);m=m+D.length}b=0,v=0,_="",x="";break}m++}return p.pop(),p},t.prototype.diff_bisect_=function(o,s,l){for(var c=o.length,h=s.length,p=Math.ceil((c+h)/2),m=p,v=2*p,b=new Array(v),_=new Array(v),x=0;x<v;x++)b[x]=-1,_[x]=-1;b[m+1]=0,_[m+1]=0;for(var D=c-h,E=D%2!=0,T=0,R=0,M=0,Y=0,J=0;J<p&&!(new Date().getTime()>l);J++){for(var Z=-J+T;Z<=J-R;Z+=2){var z=m+Z,B;Z==-J||Z!=J&&b[z-1]<b[z+1]?B=b[z+1]:B=b[z-1]+1;for(var L=B-Z;B<c&&L<h&&o.charAt(B)==s.charAt(L);)B++,L++;if(b[z]=B,B>c)R+=2;else if(L>h)T+=2;else if(E){var V=m+D-Z;if(V>=0&&V<v&&_[V]!=-1){var ie=c-_[V];if(B>=ie)return this.diff_bisectSplit_(o,s,B,L,l)}}}for(var W=-J+M;W<=J-Y;W+=2){var V=m+W,ie;W==-J||W!=J&&_[V-1]<_[V+1]?ie=_[V+1]:ie=_[V-1]+1;for(var Q=ie-W;ie<c&&Q<h&&o.charAt(c-ie-1)==s.charAt(h-Q-1);)ie++,Q++;if(_[V]=ie,ie>c)Y+=2;else if(Q>h)M+=2;else if(!E){var z=m+D-W;if(z>=0&&z<v&&b[z]!=-1){var B=b[z],L=m+B-z;if(ie=c-ie,B>=ie)return this.diff_bisectSplit_(o,s,B,L,l)}}}}return[new t.Diff(n,o),new t.Diff(r,s)]},t.prototype.diff_bisectSplit_=function(o,s,l,c,h){var p=o.substring(0,l),m=s.substring(0,c),v=o.substring(l),b=s.substring(c),_=this.diff_main(p,m,!1,h),x=this.diff_main(v,b,!1,h);return _.concat(x)},t.prototype.diff_linesToChars_=function(o,s){var l=[],c={};l[0]="";function h(b){for(var _="",x=0,D=-1,E=l.length;D<b.length-1;){D=b.indexOf(`
`,x),D==-1&&(D=b.length-1);var T=b.substring(x,D+1);(c.hasOwnProperty?c.hasOwnProperty(T):c[T]!==void 0)?_+=String.fromCharCode(c[T]):(E==p&&(T=b.substring(x),D=b.length),_+=String.fromCharCode(E),c[T]=E,l[E++]=T),x=D+1}return _}var p=4e4,m=h(o);p=65535;var v=h(s);return{chars1:m,chars2:v,lineArray:l}},t.prototype.diff_charsToLines_=function(o,s){for(var l=0;l<o.length;l++){for(var c=o[l][1],h=[],p=0;p<c.length;p++)h[p]=s[c.charCodeAt(p)];o[l][1]=h.join("")}},t.prototype.diff_commonPrefix=function(o,s){if(!o||!s||o.charAt(0)!=s.charAt(0))return 0;for(var l=0,c=Math.min(o.length,s.length),h=c,p=0;l<h;)o.substring(p,h)==s.substring(p,h)?(l=h,p=l):c=h,h=Math.floor((c-l)/2+l);return h},t.prototype.diff_commonSuffix=function(o,s){if(!o||!s||o.charAt(o.length-1)!=s.charAt(s.length-1))return 0;for(var l=0,c=Math.min(o.length,s.length),h=c,p=0;l<h;)o.substring(o.length-h,o.length-p)==s.substring(s.length-h,s.length-p)?(l=h,p=l):c=h,h=Math.floor((c-l)/2+l);return h},t.prototype.diff_commonOverlap_=function(o,s){var l=o.length,c=s.length;if(l==0||c==0)return 0;l>c?o=o.substring(l-c):l<c&&(s=s.substring(0,l));var h=Math.min(l,c);if(o==s)return h;for(var p=0,m=1;;){var v=o.substring(h-m),b=s.indexOf(v);if(b==-1)return p;m+=b,(b==0||o.substring(h-m)==s.substring(0,m))&&(p=m,m++)}},t.prototype.diff_halfMatch_=function(o,s){if(this.Diff_Timeout<=0)return null;var l=o.length>s.length?o:s,c=o.length>s.length?s:o;if(l.length<4||c.length*2<l.length)return null;var h=this;function p(R,M,Y){for(var J=R.substring(Y,Y+Math.floor(R.length/4)),Z=-1,z="",B,L,V,ie;(Z=M.indexOf(J,Z+1))!=-1;){var W=h.diff_commonPrefix(R.substring(Y),M.substring(Z)),Q=h.diff_commonSuffix(R.substring(0,Y),M.substring(0,Z));z.length<Q+W&&(z=M.substring(Z-Q,Z)+M.substring(Z,Z+W),B=R.substring(0,Y-Q),L=R.substring(Y+W),V=M.substring(0,Z-Q),ie=M.substring(Z+W))}return z.length*2>=R.length?[B,L,V,ie,z]:null}var m=p(l,c,Math.ceil(l.length/4)),v=p(l,c,Math.ceil(l.length/2)),b;if(!m&&!v)return null;v?m?b=m[4].length>v[4].length?m:v:b=v:b=m;var _,x,D,E;o.length>s.length?(_=b[0],x=b[1],D=b[2],E=b[3]):(D=b[0],E=b[1],_=b[2],x=b[3]);var T=b[4];return[_,x,D,E,T]},t.prototype.diff_cleanupSemantic=function(o){for(var s=!1,l=[],c=0,h=null,p=0,m=0,v=0,b=0,_=0;p<o.length;)o[p][0]==i?(l[c++]=p,m=b,v=_,b=0,_=0,h=o[p][1]):(o[p][0]==r?b+=o[p][1].length:_+=o[p][1].length,h&&h.length<=Math.max(m,v)&&h.length<=Math.max(b,_)&&(o.splice(l[c-1],0,new t.Diff(n,h)),o[l[c-1]+1][0]=r,c--,c--,p=c>0?l[c-1]:-1,m=0,v=0,b=0,_=0,h=null,s=!0)),p++;for(s&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),p=1;p<o.length;){if(o[p-1][0]==n&&o[p][0]==r){var x=o[p-1][1],D=o[p][1],E=this.diff_commonOverlap_(x,D),T=this.diff_commonOverlap_(D,x);E>=T?(E>=x.length/2||E>=D.length/2)&&(o.splice(p,0,new t.Diff(i,D.substring(0,E))),o[p-1][1]=x.substring(0,x.length-E),o[p+1][1]=D.substring(E),p++):(T>=x.length/2||T>=D.length/2)&&(o.splice(p,0,new t.Diff(i,x.substring(0,T))),o[p-1][0]=r,o[p-1][1]=D.substring(0,D.length-T),o[p+1][0]=n,o[p+1][1]=x.substring(T),p++),p++}p++}},t.prototype.diff_cleanupSemanticLossless=function(o){function s(T,R){if(!T||!R)return 6;var M=T.charAt(T.length-1),Y=R.charAt(0),J=M.match(t.nonAlphaNumericRegex_),Z=Y.match(t.nonAlphaNumericRegex_),z=J&&M.match(t.whitespaceRegex_),B=Z&&Y.match(t.whitespaceRegex_),L=z&&M.match(t.linebreakRegex_),V=B&&Y.match(t.linebreakRegex_),ie=L&&T.match(t.blanklineEndRegex_),W=V&&R.match(t.blanklineStartRegex_);return ie||W?5:L||V?4:J&&!z&&B?3:z||B?2:J||Z?1:0}for(var l=1;l<o.length-1;){if(o[l-1][0]==i&&o[l+1][0]==i){var c=o[l-1][1],h=o[l][1],p=o[l+1][1],m=this.diff_commonSuffix(c,h);if(m){var v=h.substring(h.length-m);c=c.substring(0,c.length-m),h=v+h.substring(0,h.length-m),p=v+p}for(var b=c,_=h,x=p,D=s(c,h)+s(h,p);h.charAt(0)===p.charAt(0);){c+=h.charAt(0),h=h.substring(1)+p.charAt(0),p=p.substring(1);var E=s(c,h)+s(h,p);E>=D&&(D=E,b=c,_=h,x=p)}o[l-1][1]!=b&&(b?o[l-1][1]=b:(o.splice(l-1,1),l--),o[l][1]=_,x?o[l+1][1]=x:(o.splice(l+1,1),l--))}l++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(o){for(var s=!1,l=[],c=0,h=null,p=0,m=!1,v=!1,b=!1,_=!1;p<o.length;)o[p][0]==i?(o[p][1].length<this.Diff_EditCost&&(b||_)?(l[c++]=p,m=b,v=_,h=o[p][1]):(c=0,h=null),b=_=!1):(o[p][0]==n?_=!0:b=!0,h&&(m&&v&&b&&_||h.length<this.Diff_EditCost/2&&m+v+b+_==3)&&(o.splice(l[c-1],0,new t.Diff(n,h)),o[l[c-1]+1][0]=r,c--,h=null,m&&v?(b=_=!0,c=0):(c--,p=c>0?l[c-1]:-1,b=_=!1),s=!0)),p++;s&&this.diff_cleanupMerge(o)},t.prototype.diff_cleanupMerge=function(o){o.push(new t.Diff(i,""));for(var s=0,l=0,c=0,h="",p="",m;s<o.length;)switch(o[s][0]){case r:c++,p+=o[s][1],s++;break;case n:l++,h+=o[s][1],s++;break;case i:l+c>1?(l!==0&&c!==0&&(m=this.diff_commonPrefix(p,h),m!==0&&(s-l-c>0&&o[s-l-c-1][0]==i?o[s-l-c-1][1]+=p.substring(0,m):(o.splice(0,0,new t.Diff(i,p.substring(0,m))),s++),p=p.substring(m),h=h.substring(m)),m=this.diff_commonSuffix(p,h),m!==0&&(o[s][1]=p.substring(p.length-m)+o[s][1],p=p.substring(0,p.length-m),h=h.substring(0,h.length-m))),s-=l+c,o.splice(s,l+c),h.length&&(o.splice(s,0,new t.Diff(n,h)),s++),p.length&&(o.splice(s,0,new t.Diff(r,p)),s++),s++):s!==0&&o[s-1][0]==i?(o[s-1][1]+=o[s][1],o.splice(s,1)):s++,c=0,l=0,h="",p="";break}o[o.length-1][1]===""&&o.pop();var v=!1;for(s=1;s<o.length-1;)o[s-1][0]==i&&o[s+1][0]==i&&(o[s][1].substring(o[s][1].length-o[s-1][1].length)==o[s-1][1]?(o[s][1]=o[s-1][1]+o[s][1].substring(0,o[s][1].length-o[s-1][1].length),o[s+1][1]=o[s-1][1]+o[s+1][1],o.splice(s-1,1),v=!0):o[s][1].substring(0,o[s+1][1].length)==o[s+1][1]&&(o[s-1][1]+=o[s+1][1],o[s][1]=o[s][1].substring(o[s+1][1].length)+o[s+1][1],o.splice(s+1,1),v=!0)),s++;v&&this.diff_cleanupMerge(o)},t.prototype.diff_xIndex=function(o,s){var l=0,c=0,h=0,p=0,m;for(m=0;m<o.length&&(o[m][0]!==r&&(l+=o[m][1].length),o[m][0]!==n&&(c+=o[m][1].length),!(l>s));m++)h=l,p=c;return o.length!=m&&o[m][0]===n?p:p+(s-h)},t.prototype.diff_prettyHtml=function(o){for(var s=[],l=/&/g,c=/</g,h=/>/g,p=/\n/g,m=0;m<o.length;m++){var v=o[m][0],b=o[m][1],_=b.replace(l,"&amp;").replace(c,"&lt;").replace(h,"&gt;").replace(p,"&para;<br>");switch(v){case r:s[m]='<ins style="background:#e6ffe6;">'+_+"</ins>";break;case n:s[m]='<del style="background:#ffe6e6;">'+_+"</del>";break;case i:s[m]="<span>"+_+"</span>";break}}return s.join("")},t.prototype.diff_text1=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==r&&(s[l]=o[l][1]);return s.join("")},t.prototype.diff_text2=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==n&&(s[l]=o[l][1]);return s.join("")},t.prototype.diff_levenshtein=function(o){for(var s=0,l=0,c=0,h=0;h<o.length;h++){var p=o[h][0],m=o[h][1];switch(p){case r:l+=m.length;break;case n:c+=m.length;break;case i:s+=Math.max(l,c),l=0,c=0;break}}return s+=Math.max(l,c),s},t.prototype.diff_toDelta=function(o){for(var s=[],l=0;l<o.length;l++)switch(o[l][0]){case r:s[l]="+"+encodeURI(o[l][1]);break;case n:s[l]="-"+o[l][1].length;break;case i:s[l]="="+o[l][1].length;break}return s.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(o,s){for(var l=[],c=0,h=0,p=s.split(/\t/g),m=0;m<p.length;m++){var v=p[m].substring(1);switch(p[m].charAt(0)){case"+":try{l[c++]=new t.Diff(r,decodeURI(v))}catch{throw new Error("Illegal escape in diff_fromDelta: "+v)}break;case"-":case"=":var b=parseInt(v,10);if(isNaN(b)||b<0)throw new Error("Invalid number in diff_fromDelta: "+v);var _=o.substring(h,h+=b);p[m].charAt(0)=="="?l[c++]=new t.Diff(i,_):l[c++]=new t.Diff(n,_);break;default:if(p[m])throw new Error("Invalid diff operation in diff_fromDelta: "+p[m])}}if(h!=o.length)throw new Error("Delta length ("+h+") does not equal source text length ("+o.length+").");return l},t.prototype.match_main=function(o,s,l){if(o==null||s==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,o.length)),o==s?0:o.length?o.substring(l,l+s.length)==s?l:this.match_bitap_(o,s,l):-1},t.prototype.match_bitap_=function(o,s,l){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var c=this.match_alphabet_(s),h=this;function p(B,L){var V=B/s.length,ie=Math.abs(l-L);return h.Match_Distance?V+ie/h.Match_Distance:ie?1:V}var m=this.Match_Threshold,v=o.indexOf(s,l);v!=-1&&(m=Math.min(p(0,v),m),v=o.lastIndexOf(s,l+s.length),v!=-1&&(m=Math.min(p(0,v),m)));var b=1<<s.length-1;v=-1;for(var _,x,D=s.length+o.length,E,T=0;T<s.length;T++){for(_=0,x=D;_<x;)p(T,l+x)<=m?_=x:D=x,x=Math.floor((D-_)/2+_);D=x;var R=Math.max(1,l-x+1),M=Math.min(l+x,o.length)+s.length,Y=Array(M+2);Y[M+1]=(1<<T)-1;for(var J=M;J>=R;J--){var Z=c[o.charAt(J-1)];if(T===0?Y[J]=(Y[J+1]<<1|1)&Z:Y[J]=(Y[J+1]<<1|1)&Z|((E[J+1]|E[J])<<1|1)|E[J+1],Y[J]&b){var z=p(T,J-1);if(z<=m)if(m=z,v=J-1,v>l)R=Math.max(1,2*l-v);else break}}if(p(T+1,l)>m)break;E=Y}return v},t.prototype.match_alphabet_=function(o){for(var s={},l=0;l<o.length;l++)s[o.charAt(l)]=0;for(var l=0;l<o.length;l++)s[o.charAt(l)]|=1<<o.length-l-1;return s},t.prototype.patch_addContext_=function(o,s){if(s.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var l=s.substring(o.start2,o.start2+o.length1),c=0;s.indexOf(l)!=s.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)c+=this.Patch_Margin,l=s.substring(o.start2-c,o.start2+o.length1+c);c+=this.Patch_Margin;var h=s.substring(o.start2-c,o.start2);h&&o.diffs.unshift(new t.Diff(i,h));var p=s.substring(o.start2+o.length1,o.start2+o.length1+c);p&&o.diffs.push(new t.Diff(i,p)),o.start1-=h.length,o.start2-=h.length,o.length1+=h.length+p.length,o.length2+=h.length+p.length}},t.prototype.patch_make=function(o,s,l){var c,h;if(typeof o=="string"&&typeof s=="string"&&typeof l=="undefined")c=o,h=this.diff_main(c,s,!0),h.length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h));else if(o&&typeof o=="object"&&typeof s=="undefined"&&typeof l=="undefined")h=o,c=this.diff_text1(h);else if(typeof o=="string"&&s&&typeof s=="object"&&typeof l=="undefined")c=o,h=s;else if(typeof o=="string"&&typeof s=="string"&&l&&typeof l=="object")c=o,h=l;else throw new Error("Unknown call format to patch_make.");if(h.length===0)return[];for(var p=[],m=new t.patch_obj,v=0,b=0,_=0,x=c,D=c,E=0;E<h.length;E++){var T=h[E][0],R=h[E][1];switch(!v&&T!==i&&(m.start1=b,m.start2=_),T){case r:m.diffs[v++]=h[E],m.length2+=R.length,D=D.substring(0,_)+R+D.substring(_);break;case n:m.length1+=R.length,m.diffs[v++]=h[E],D=D.substring(0,_)+D.substring(_+R.length);break;case i:R.length<=2*this.Patch_Margin&&v&&h.length!=E+1?(m.diffs[v++]=h[E],m.length1+=R.length,m.length2+=R.length):R.length>=2*this.Patch_Margin&&v&&(this.patch_addContext_(m,x),p.push(m),m=new t.patch_obj,v=0,x=D,b=_);break}T!==r&&(b+=R.length),T!==n&&(_+=R.length)}return v&&(this.patch_addContext_(m,x),p.push(m)),p},t.prototype.patch_deepCopy=function(o){for(var s=[],l=0;l<o.length;l++){var c=o[l],h=new t.patch_obj;h.diffs=[];for(var p=0;p<c.diffs.length;p++)h.diffs[p]=new t.Diff(c.diffs[p][0],c.diffs[p][1]);h.start1=c.start1,h.start2=c.start2,h.length1=c.length1,h.length2=c.length2,s[l]=h}return s},t.prototype.patch_apply=function(o,s){if(o.length==0)return[s,[]];o=this.patch_deepCopy(o);var l=this.patch_addPadding(o);s=l+s+l,this.patch_splitMax(o);for(var c=0,h=[],p=0;p<o.length;p++){var m=o[p].start2+c,v=this.diff_text1(o[p].diffs),b,_=-1;if(v.length>this.Match_MaxBits?(b=this.match_main(s,v.substring(0,this.Match_MaxBits),m),b!=-1&&(_=this.match_main(s,v.substring(v.length-this.Match_MaxBits),m+v.length-this.Match_MaxBits),(_==-1||b>=_)&&(b=-1))):b=this.match_main(s,v,m),b==-1)h[p]=!1,c-=o[p].length2-o[p].length1;else{h[p]=!0,c=b-m;var x;if(_==-1?x=s.substring(b,b+v.length):x=s.substring(b,_+this.Match_MaxBits),v==x)s=s.substring(0,b)+this.diff_text2(o[p].diffs)+s.substring(b+v.length);else{var D=this.diff_main(v,x,!1);if(v.length>this.Match_MaxBits&&this.diff_levenshtein(D)/v.length>this.Patch_DeleteThreshold)h[p]=!1;else{this.diff_cleanupSemanticLossless(D);for(var E=0,T,R=0;R<o[p].diffs.length;R++){var M=o[p].diffs[R];M[0]!==i&&(T=this.diff_xIndex(D,E)),M[0]===r?s=s.substring(0,b+T)+M[1]+s.substring(b+T):M[0]===n&&(s=s.substring(0,b+T)+s.substring(b+this.diff_xIndex(D,E+M[1].length))),M[0]!==n&&(E+=M[1].length)}}}}}return s=s.substring(l.length,s.length-l.length),[s,h]},t.prototype.patch_addPadding=function(o){for(var s=this.Patch_Margin,l="",c=1;c<=s;c++)l+=String.fromCharCode(c);for(var c=0;c<o.length;c++)o[c].start1+=s,o[c].start2+=s;var h=o[0],p=h.diffs;if(p.length==0||p[0][0]!=i)p.unshift(new t.Diff(i,l)),h.start1-=s,h.start2-=s,h.length1+=s,h.length2+=s;else if(s>p[0][1].length){var m=s-p[0][1].length;p[0][1]=l.substring(p[0][1].length)+p[0][1],h.start1-=m,h.start2-=m,h.length1+=m,h.length2+=m}if(h=o[o.length-1],p=h.diffs,p.length==0||p[p.length-1][0]!=i)p.push(new t.Diff(i,l)),h.length1+=s,h.length2+=s;else if(s>p[p.length-1][1].length){var m=s-p[p.length-1][1].length;p[p.length-1][1]+=l.substring(0,m),h.length1+=m,h.length2+=m}return l},t.prototype.patch_splitMax=function(o){for(var s=this.Match_MaxBits,l=0;l<o.length;l++)if(!(o[l].length1<=s)){var c=o[l];o.splice(l--,1);for(var h=c.start1,p=c.start2,m="";c.diffs.length!==0;){var v=new t.patch_obj,b=!0;for(v.start1=h-m.length,v.start2=p-m.length,m!==""&&(v.length1=v.length2=m.length,v.diffs.push(new t.Diff(i,m)));c.diffs.length!==0&&v.length1<s-this.Patch_Margin;){var _=c.diffs[0][0],x=c.diffs[0][1];_===r?(v.length2+=x.length,p+=x.length,v.diffs.push(c.diffs.shift()),b=!1):_===n&&v.diffs.length==1&&v.diffs[0][0]==i&&x.length>2*s?(v.length1+=x.length,h+=x.length,b=!1,v.diffs.push(new t.Diff(_,x)),c.diffs.shift()):(x=x.substring(0,s-v.length1-this.Patch_Margin),v.length1+=x.length,h+=x.length,_===i?(v.length2+=x.length,p+=x.length):b=!1,v.diffs.push(new t.Diff(_,x)),x==c.diffs[0][1]?c.diffs.shift():c.diffs[0][1]=c.diffs[0][1].substring(x.length))}m=this.diff_text2(v.diffs),m=m.substring(m.length-this.Patch_Margin);var D=this.diff_text1(c.diffs).substring(0,this.Patch_Margin);D!==""&&(v.length1+=D.length,v.length2+=D.length,v.diffs.length!==0&&v.diffs[v.diffs.length-1][0]===i?v.diffs[v.diffs.length-1][1]+=D:v.diffs.push(new t.Diff(i,D))),b||o.splice(++l,0,v)}}},t.prototype.patch_toText=function(o){for(var s=[],l=0;l<o.length;l++)s[l]=o[l];return s.join("")},t.prototype.patch_fromText=function(o){var s=[];if(!o)return s;for(var l=o.split(`
`),c=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;c<l.length;){var p=l[c].match(h);if(!p)throw new Error("Invalid patch string: "+l[c]);var m=new t.patch_obj;for(s.push(m),m.start1=parseInt(p[1],10),p[2]===""?(m.start1--,m.length1=1):p[2]=="0"?m.length1=0:(m.start1--,m.length1=parseInt(p[2],10)),m.start2=parseInt(p[3],10),p[4]===""?(m.start2--,m.length2=1):p[4]=="0"?m.length2=0:(m.start2--,m.length2=parseInt(p[4],10)),c++;c<l.length;){var v=l[c].charAt(0);try{var b=decodeURI(l[c].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+b)}if(v=="-")m.diffs.push(new t.Diff(n,b));else if(v=="+")m.diffs.push(new t.Diff(r,b));else if(v==" ")m.diffs.push(new t.Diff(i,b));else{if(v=="@")break;if(v!=="")throw new Error('Invalid patch mode "'+v+'" in: '+b)}c++}}return s},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var o,s;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var l=["@@ -"+o+" +"+s+` @@
`],c,h=0;h<this.diffs.length;h++){switch(this.diffs[h][0]){case r:c="+";break;case n:c="-";break;case i:c=" ";break}l[h+1]=c+encodeURI(this.diffs[h][1])+`
`}return l.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=r,e.exports.DIFF_EQUAL=i})(o6);var WX=o6.exports,UX={exports:{}};(function(e,t){(function(n){n(gr.exports)})(function(n){n.defineSimpleMode=function(v,b){n.defineMode(v,function(_){return n.simpleMode(_,b)})},n.simpleMode=function(v,b){r(b,"start");var _={},x=b.meta||{},D=!1;for(var E in b)if(E!=x&&b.hasOwnProperty(E))for(var T=_[E]=[],R=b[E],M=0;M<R.length;M++){var Y=R[M];T.push(new s(Y,b)),(Y.indent||Y.dedent)&&(D=!0)}var J={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:D?[]:null}},copyState:function(z){var B={state:z.state,pending:z.pending,local:z.local,localState:null,indent:z.indent&&z.indent.slice(0)};z.localState&&(B.localState=n.copyState(z.local.mode,z.localState)),z.stack&&(B.stack=z.stack.slice(0));for(var L=z.persistentStates;L;L=L.next)B.persistentStates={mode:L.mode,spec:L.spec,state:L.state==z.localState?B.localState:n.copyState(L.mode,L.state),next:B.persistentStates};return B},token:l(_,v),innerMode:function(z){return z.local&&{mode:z.local.mode,state:z.localState}},indent:m(_,x)};if(x)for(var Z in x)x.hasOwnProperty(Z)&&(J[Z]=x[Z]);return J};function r(v,b){if(!v.hasOwnProperty(b))throw new Error("Undefined state "+b+" in simple mode")}function i(v,b){if(!v)return/(?:)/;var _="";return v instanceof RegExp?(v.ignoreCase&&(_="i"),v.unicode&&(_+="u"),v=v.source):v=String(v),new RegExp((b===!1?"":"^")+"(?:"+v+")",_)}function o(v){if(!v)return null;if(v.apply)return v;if(typeof v=="string")return v.replace(/\./g," ");for(var b=[],_=0;_<v.length;_++)b.push(v[_]&&v[_].replace(/\./g," "));return b}function s(v,b){(v.next||v.push)&&r(b,v.next||v.push),this.regex=i(v.regex),this.token=o(v.token),this.data=v}function l(v,b){return function(_,x){if(x.pending){var D=x.pending.shift();return x.pending.length==0&&(x.pending=null),_.pos+=D.text.length,D.token}if(x.local)if(x.local.end&&_.match(x.local.end)){var E=x.local.endToken||null;return x.local=x.localState=null,E}else{var E=x.local.mode.token(_,x.localState),T;return x.local.endScan&&(T=x.local.endScan.exec(_.current()))&&(_.pos=_.start+T.index),E}for(var R=v[x.state],M=0;M<R.length;M++){var Y=R[M],J=(!Y.data.sol||_.sol())&&_.match(Y.regex);if(J){Y.data.next?x.state=Y.data.next:Y.data.push?((x.stack||(x.stack=[])).push(x.state),x.state=Y.data.push):Y.data.pop&&x.stack&&x.stack.length&&(x.state=x.stack.pop()),Y.data.mode&&h(b,x,Y.data.mode,Y.token),Y.data.indent&&x.indent.push(_.indentation()+b.indentUnit),Y.data.dedent&&x.indent.pop();var Z=Y.token;if(Z&&Z.apply&&(Z=Z(J)),J.length>2&&Y.token&&typeof Y.token!="string"){for(var z=2;z<J.length;z++)J[z]&&(x.pending||(x.pending=[])).push({text:J[z],token:Y.token[z-1]});return _.backUp(J[0].length-(J[1]?J[1].length:0)),Z[0]}else return Z&&Z.join?Z[0]:Z}}return _.next(),null}}function c(v,b){if(v===b)return!0;if(!v||typeof v!="object"||!b||typeof b!="object")return!1;var _=0;for(var x in v)if(v.hasOwnProperty(x)){if(!b.hasOwnProperty(x)||!c(v[x],b[x]))return!1;_++}for(var x in b)b.hasOwnProperty(x)&&_--;return _==0}function h(v,b,_,x){var D;if(_.persistent)for(var E=b.persistentStates;E&&!D;E=E.next)(_.spec?c(_.spec,E.spec):_.mode==E.mode)&&(D=E);var T=D?D.mode:_.mode||n.getMode(v,_.spec),R=D?D.state:n.startState(T);_.persistent&&!D&&(b.persistentStates={mode:T,spec:_.spec,state:R,next:b.persistentStates}),b.localState=R,b.local={mode:T,end:_.end&&i(_.end),endScan:_.end&&_.forceEnd!==!1&&i(_.end,!1),endToken:x&&x.join?x[x.length-1]:x}}function p(v,b){for(var _=0;_<b.length;_++)if(b[_]===v)return!0}function m(v,b){return function(_,x,D){if(_.local&&_.local.mode.indent)return _.local.mode.indent(_.localState,x,D);if(_.indent==null||_.local||b.dontIndentStates&&p(_.state,b.dontIndentStates)>-1)return n.Pass;var E=_.indent.length-1,T=v[_.state];e:for(;;){for(var R=0;R<T.length;R++){var M=T[R];if(M.data.dedent&&M.data.dedentIfLineStart!==!1){var Y=M.regex.exec(x);if(Y&&Y[0]){E--,(M.next||M.push)&&(T=v[M.next||M.push]),x=x.slice(Y[0].length);continue e}}}break}return E<0?0:_.indent[E]}}})})();var KX=Object.defineProperty,qX=Object.defineProperties,GX=Object.getOwnPropertyDescriptors,A2=Object.getOwnPropertySymbols,YX=Object.prototype.hasOwnProperty,JX=Object.prototype.propertyIsEnumerable,D2=(e,t,n)=>t in e?KX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ra=(e,t)=>{for(var n in t||(t={}))YX.call(t,n)&&D2(e,n,t[n]);if(A2)for(var n of A2(t))JX.call(t,n)&&D2(e,n,t[n]);return e},XX=(e,t)=>qX(e,GX(t));!window.CodeMirror&&(window.CodeMirror=i6);const bd=window.CodeMirror||i6;var n_=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const ZX=ln({name:"DefaultMode",props:{name:{type:String,default:`cm-textarea-${+new Date}`},value:{type:String,default:""},content:{type:String,default:""},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>null},placeholder:{type:String,default:""}},emits:{ready:e=>e,"update:cminstance":e=>e},setup(e,{emit:t}){const n=Ct(),r=Ct(null),i=()=>{r.value=ia(bd.fromTextArea(n.value,e.options)),t("update:cminstance",r.value);const o=Sn(()=>e.cminstance,s=>{var l;s&&((l=e.cminstance)==null||l.setValue(e.value||e.content)),t("ready",Cr(r)),o==null||o()},{deep:!0})};return Vi(()=>{i()}),{textarea:n,initialize:i}}}),QX=["name","placeholder"];function eZ(e,t,n,r,i,o){return _e(),Le("textarea",{ref:"textarea",name:e.$props.name,placeholder:e.$props.placeholder},null,8,QX)}var M2=n_(ZX,[["render",eZ]]);window.diff_match_patch=WX;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0;const tZ=ln({name:"MergeMode",props:{options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})}},emits:["update:cminstance","ready"],setup(e,{emit:t}){const n=Ct(),r=Ct(),i=()=>{n.value=ia(bd.MergeView(r.value,e.options)),t("update:cminstance",n.value),t("ready",n)};return Vi(()=>{i()}),{mergeView:r,initialize:i}}}),nZ={ref:"mergeView"};function rZ(e,t,n,r,i,o){return _e(),Le("div",nZ,null,512)}var iZ=n_(tZ,[["render",rZ]]),O2;(function(e){e.info="info",e.warning="warning",e.error="error"})(O2||(O2={}));function oZ(e){const t=/#link#(.+)#link#/g,n=[];let r;for(r=t.exec(e);r;){const i=document.createElement("a"),o=JSON.parse(r[1]),s=Object.entries(o);for(const[l,c]of s)i.setAttribute(l,c);i.className="editor_custom_link",i.innerHTML="logDownload",n.push({start:r.index,end:r.index+r[0].length,node:i}),r=t.exec(e)}return n}function sZ(e){const t=[];function n(){const r=/#log<(\w*)>log#((.|\r\n|\n)*?)#log<(\w*)>log#/g;let i;for(i=r.exec(e);i;){const s=i[0].replace(/\r\n/g,`
`).split(`
`),c=i[2].replace(/\r\n/g,`
`).split(`
`),h=document.createElement("span"),p=i[1];h.className=`c-editor--log__${p}`;let m=0;for(let v=0;v<s.length;v++){const b=s[v],_=c[v],x=h.cloneNode(!1);x.innerText=_,t.push({start:i.index+m,end:i.index+m+b.length,node:x}),m=m+b.length+1}i=r.exec(e)}}return n(),t}const Ah=[{regex:/(\[.*?\])([ \t]*)(<error>[ \t])(.+)/,token:["tag","","error.strong","error.strong"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<info>)(.+)(.?)/,token:["tag","","bracket","bracket","hr"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<warning>)(.+)(.?)/,token:["tag","","comment","comment","hr"],sol:!0}];bd.defineSimpleMode("fclog",{start:[...Ah,{regex:/.*/,token:"hr"}],error:[...Ah,{regex:/.*/,token:"error.strong"}],info:[...Ah,{regex:/.*/,token:"bracket"}],warning:[...Ah,{regex:/.*\[/,token:"comment"}]});bd.defineSimpleMode("log",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:["","string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});const aZ=ln({name:"CodemirrorFclog",props:{value:{type:String,default:""},name:{type:String,default:`cm-textarea-${+new Date}`},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["update:cminstance","ready"],setup(e,{emit:t}){const n=Ct(),r=Ct(null),i=(s=e.cminstance)=>{s.getAllMarks().forEach(p=>p.clear());const c=s.getValue(),h=[].concat(oZ(c)).concat(sZ(c));for(let p=0;p<h.length;p++){const m=h[p];s.markText(s.posFromIndex(m.start),s.posFromIndex(m.end),{replacedWith:m.node})}},o=()=>{var s;r.value=ia(bd.fromTextArea(n.value,e.options)),t("update:cminstance",Cr(r)),(s=r.value)==null||s.on("change",i)};return Sn(()=>e.cminstance,s=>{var l;s&&(i(e.cminstance),(l=e.cminstance)==null||l.setValue(e.value),t("ready",r))},{deep:!0,immediate:!0}),Vi(()=>{o()}),{initialize:o,textarea:n}}}),lZ=["name","placeholder"];function uZ(e,t,n,r,i,o){return _e(),Le("textarea",{ref:"textarea",name:e.$props.name,placeholder:e.$props.placeholder},null,8,lZ)}var cZ=n_(aZ,[["render",uZ]]);const s6={"update:value":e=>e,change:(e,t)=>({value:e,cm:t}),input:e=>e,ready:e=>e},fZ=["changes","scroll","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"],dZ=()=>{const e={};return fZ.forEach(t=>{e[t]=(...n)=>n}),e},hZ=Ra(Ra({},s6),dZ()),c0={mode:"text",theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2};function pZ(e){Promise.resolve().then(()=>{const t=e.getScrollInfo();e.scrollTo(t.left,t.height)})}const gZ=({props:e,cminstance:t,emit:n,internalInstance:r,content:i})=>{const o=vn(()=>{var c;return e.merge?(c=Cr(t))==null?void 0:c.editor():Cr(t)}),s=()=>{const c=[];return Object.keys(r==null?void 0:r.vnode.props).forEach(h=>{if(h.startsWith("on")){const p=h.replace(h[2],h[2].toLowerCase()).slice(2);!s6[p]&&c.push(p)}}),c};return{listenerEvents:()=>{o.value.on("change",p=>{const m=p.getValue();m!==i.value&&(i.value=m,i.value&&n("update:value",i.value||""),i.value&&n("input",i.value||""),Promise.resolve().then(()=>{n("change",i.value,p)}),e.keepCursorInEnd&&pZ(p))});const c={};s().filter(p=>!c[p]&&(c[p]=!0)).forEach(p=>{o.value.on(p,(...m)=>{n(p,...m)})})}}};function mZ({props:e,cminstance:t,presetRef:n}){const r=Ct(null),i=Ct(null),o=vn(()=>{var v;return e.merge?(v=Cr(t))==null?void 0:v.editor():Cr(t)}),s=()=>{oo(()=>{var v;(v=o.value)==null||v.refresh()})},l=(v=e.width,b=e.height)=>{var _;r.value=String(v).replace("px",""),i.value=String(b).replace("px","");const x=i.value;(_=o.value)==null||_.setSize(r.value,x)},c=()=>{var v;const b=(v=o.value)==null?void 0:v.getWrapperElement();b==null||b.remove()},h=()=>{var v,b,_;const x=(v=o.value)==null?void 0:v.getDoc().getHistory();(b=n.value)==null||b.initialize(),c(),(_=o.value)==null||_.getDoc().setHistory(x)},p=()=>{const v=document.querySelector(".CodeMirror-gutters");return(v==null?void 0:v.style.left.replace("px",""))!=="0"};return{reload:h,refresh:s,resize:l,destroy:c,containerHeight:i,reviseStyle:()=>{if(s(),!p())return;const v=setInterval(()=>{p()?s():clearInterval(v)},60),b=setTimeout(()=>{clearInterval(v),clearTimeout(b)},400)}}}const vZ=ln({props:{value:{type:String,default:""},options:{type:Object,default:()=>c0},globalOptions:{type:Object,default:()=>c0},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},originalStyle:{type:Boolean,default:!1},keepCursorInEnd:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},name:{type:String,default:""},marker:{type:Function,default:()=>null},unseenLines:{type:Array,default:()=>[]}},emits:hZ,setup(e,{expose:t,emit:n}){var r,i;const o=e;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value(z,B){if(z==null)throw new TypeError("Cannot convert undefined or null to object");const L=Object(z);for(let V=1;V<arguments.length;V++){const ie=arguments[V];if(ie!=null)for(const W in ie)Object.prototype.hasOwnProperty.call(ie,W)&&(L[W]=ie[W])}return L},writable:!0,configurable:!0});const s=Ct(null),l=Ct(""),c=iT(M2),h=Ct(Ra(Ra(Ra({},c0),o.globalOptions),o.options)),p=yo(),m=o.name||((i=(r=p==null?void 0:p.parent)==null?void 0:r.type)==null?void 0:i.name)||void 0,v=Ct(null),b=vn(()=>{var z;return o.merge?(z=Cr(s))==null?void 0:z.editor():Cr(s)}),{refresh:_,resize:x,destroy:D,containerHeight:E,reviseStyle:T}=mZ({props:o,cminstance:s,presetRef:v}),{listenerEvents:R}=gZ({props:o,cminstance:s,emit:n,internalInstance:p,content:l}),M=()=>{o.unseenLines!==void 0&&o.marker!==void 0&&o.unseenLines.forEach(z=>{var B,L;const V=(B=s.value)==null?void 0:B.lineInfo(z);(L=s.value)==null||L.setGutterMarker(z,"breakpoints",V!=null&&V.gutterMarkers?null:o.marker())})},Y=z=>{var B,L;const V=(B=s.value)==null?void 0:B.getValue();z!==V&&((L=s.value)==null||L.setValue(z),l.value=z,T()),M()},J=()=>{R(),M(),x(o.width,o.height),n("ready",s.value),Sn([()=>o.width,()=>o.height],([z,B])=>{x(z,B)},{deep:!0})},Z=()=>{if(o.options.mode==="fclog"||o.options.mode==="log"){c.value=cZ;return}if(o.merge){c.value=iZ;return}c.value=M2};return Sn(()=>o.options,z=>{var B;for(const L in o.options)(B=b.value)==null||B.setOption(L,Cr(z[L]))},{deep:!0}),Sn(()=>o.value,z=>{Y(z)}),Sn(()=>o.placeholder,z=>{var B;(B=b.value)==null||B.setOption("placeholder",z)}),Sn(()=>o.merge,z=>{Z()},{immediate:!0}),Zo(()=>{D()}),t({cminstance:s,resize:x,refresh:_,destroy:D}),(z,B)=>(_e(),Le("div",{class:It(["codemirror-container",{merge:z.$props.merge,bordered:z.$props.border||z.$props.merge&&!o.originalStyle,"width-auto":!z.$props.width||z.$props.width=="100%","height-auto":!z.$props.height||z.$props.height=="100%","original-style":o.originalStyle}]),style:mi({height:Cr(E)+"px"})},[(_e(),Ht(Ws(Cr(c)),yi({ref_key:"presetRef",ref:v,cminstance:s.value,"onUpdate:cminstance":B[0]||(B[0]=L=>s.value=L),style:{height:"100%"}},XX(Ra(Ra({},z.$props),z.$attrs),{options:h.value,name:Cr(m),content:l.value}),{onReady:J}),null,16,["cminstance"]))],6))}});function yZ(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document=="undefined")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}yZ(`.codemirror-container {
  position: relative;
  display: inline-block;
  height: 100%;
  width: fit-content;
  font-size: 12px;
  overflow: hidden;
}
.codemirror-container.bordered {
  border-radius: 4px;
  border: 1px solid #dddddd;
}
.codemirror-container.width-auto {
  width: 100%;
}
.codemirror-container.height-auto {
  height: 100%;
}
.codemirror-container.height-auto .CodeMirror,
.codemirror-container.height-auto .cm-s-default {
  height: 100% !important;
}
.codemirror-container .editor_custom_link {
  cursor: pointer;
  color: #1474f1;
  text-decoration: underline;
}
.codemirror-container .editor_custom_link:hover {
  color: #04b4fa;
}
.codemirror-container:not(.original-style) .CodeMirror-lines .CodeMirror-placeholder.CodeMirror-line-like {
  color: #666;
}
.codemirror-container:not(.original-style) .CodeMirror,
.codemirror-container:not(.original-style) .CodeMirror-merge-pane {
  height: 100%;
  font-family: consolas !important;
}
.codemirror-container:not(.original-style) .CodeMirror-merge,
.codemirror-container:not(.original-style) .CodeMirror-merge-right .CodeMirror {
  height: 100%;
  border: none !important;
}
.codemirror-container:not(.original-style) .c-editor--log__error {
  color: #bb0606;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__info {
  color: #333333;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__warning {
  color: #ee9900;
}
.codemirror-container:not(.original-style) .c-editor--log__success {
  color: #669600;
}
.codemirror-container:not(.original-style) .cm-header,
.codemirror-container:not(.original-style) .cm-strong {
  font-weight: bold;
}
`);var a6={exports:{}},dm={},r_={exports:{}},l6={},hm={};function Kn(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}Kn.prototype.clone_empty=function(){var e=new Kn(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e};Kn.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]};Kn.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1};Kn.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};Kn.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};Kn.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};Kn.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,e.__items[0]===" "&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1};Kn.prototype.is_empty=function(){return this.__items.length===0};Kn.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};Kn.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf(`
`);t!==-1?this.__character_count=e.length-t:this.__character_count+=e.length};Kn.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e};Kn.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};Kn.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};Kn.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};Kn.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e};function _d(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}_d.prototype.get_indent_size=function(e,t){var n=this.__base_string_length;return t=t||0,e<0&&(n=0),n+=e*this.__indent_size,n+=t,n};_d.prototype.get_indent_string=function(e,t){var n=this.__base_string;return t=t||0,e<0&&(e=0,n=""),t+=e*this.__indent_size,this.__ensure_cache(t),n+=this.__cache[t],n};_d.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()};_d.prototype.__add_column=function(){var e=this.__cache.length,t=0,n="";this.__indent_size&&e>=this.__indent_size&&(t=Math.floor(e/this.__indent_size),e-=t*this.__indent_size,n=new Array(t+1).join(this.__indent_string)),e&&(n+=new Array(e+1).join(" ")),this.__cache.push(n)};function qn(e,t){this.__indent_cache=new _d(e,t),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new Kn(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}qn.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};qn.prototype.get_line_number=function(){return this.__lines.length};qn.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)};qn.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)};qn.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};qn.prototype.add_new_line=function(e){return this.is_empty()||!e&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};qn.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&(t[t.length-1]===`
`&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join(`
`);return e!==`
`&&(n=n.replace(/[\n]/g,e)),n};qn.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};qn.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)};qn.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};qn.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};qn.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};qn.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()};qn.prototype.trim=function(e){for(e=e===void 0?!1:e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};qn.prototype.just_added_newline=function(){return this.current_line.is_empty()};qn.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};qn.prototype.ensure_empty_line_above=function(e,t){for(var n=this.__lines.length-2;n>=0;){var r=this.__lines[n];if(r.is_empty())break;if(r.item(0).indexOf(e)!==0&&r.item(-1)!==t){this.__lines.splice(n+1,0,new Kn(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}};hm.Output=qn;var i_={};function bZ(e,t,n,r){this.type=e,this.text=t,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}i_.Token=bZ;var o_={};(function(e){var t="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",o="(?:\\\\u[0-9a-fA-F]{4}|["+t+r+"])",s="(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])*";e.identifier=new RegExp(o+s,"g"),e.identifierStart=new RegExp(o),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp(`\r
|`+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")})(o_);var s_={},Ju={};function fa(e,t){this.raw_options=u6(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}fa.prototype._get_array=function(e,t){var n=this.raw_options[e],r=t||[];return typeof n=="object"?n!==null&&typeof n.concat=="function"&&(r=n.concat()):typeof n=="string"&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r};fa.prototype._get_boolean=function(e,t){var n=this.raw_options[e],r=n===void 0?!!t:!!n;return r};fa.prototype._get_characters=function(e,t){var n=this.raw_options[e],r=t||"";return typeof n=="string"&&(r=n.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),r};fa.prototype._get_number=function(e,t){var n=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var r=parseInt(n,10);return isNaN(r)&&(r=t),r};fa.prototype._get_selection=function(e,t,n){var r=this._get_selection_list(e,t,n);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+e+`' can only be one of the following values:
`+t+`
You passed in: '`+this.raw_options[e]+"'");return r[0]};fa.prototype._get_selection_list=function(e,t,n){if(!t||t.length===0)throw new Error("Selection list cannot be empty.");if(n=n||[t[0]],!this._is_valid_selection(n,t))throw new Error("Invalid Default Value!");var r=this._get_array(e,n);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+e+`' can contain only the following values:
`+t+`
You passed in: '`+this.raw_options[e]+"'");return r};fa.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some(function(n){return t.indexOf(n)===-1})};function u6(e,t){var n={};e=c6(e);var r;for(r in e)r!==t&&(n[r]=e[r]);if(t&&e[t])for(r in e[t])n[r]=e[t][r];return n}function c6(e){var t={},n;for(n in e){var r=n.replace(/-/g,"_");t[r]=e[n]}return t}Ju.Options=fa;Ju.normalizeOpts=c6;Ju.mergeOpts=u6;var f6=Ju.Options,_Z=["before-newline","after-newline","preserve-newline"];function d6(e){f6.call(this,e,"js");var t=this.raw_options.brace_style||null;t==="expand-strict"?this.raw_options.brace_style="expand":t==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=n[r];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",_Z),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}d6.prototype=new f6;s_.Options=d6;var da={},pm={},h6=RegExp.prototype.hasOwnProperty("sticky");function nr(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}nr.prototype.restart=function(){this.__position=0};nr.prototype.back=function(){this.__position>0&&(this.__position-=1)};nr.prototype.hasNext=function(){return this.__position<this.__input_length};nr.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e};nr.prototype.peek=function(e){var t=null;return e=e||0,e+=this.__position,e>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t};nr.prototype.__match=function(e,t){e.lastIndex=t;var n=e.exec(this.__input);return n&&!(h6&&e.sticky)&&n.index!==t&&(n=null),n};nr.prototype.test=function(e,t){return t=t||0,t+=this.__position,t>=0&&t<this.__input_length?!!this.__match(e,t):!1};nr.prototype.testChar=function(e,t){var n=this.peek(t);return e.lastIndex=0,n!==null&&e.test(n)};nr.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t};nr.prototype.read=function(e,t,n){var r="",i;return e&&(i=this.match(e),i&&(r+=i[0])),t&&(i||!e)&&(r+=this.readUntil(t,n)),r};nr.prototype.readUntil=function(e,t){var n="",r=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(r=i.index,t&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n};nr.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)};nr.prototype.get_regexp=function(e,t){var n=null,r="g";return t&&h6&&(r="y"),typeof e=="string"&&e!==""?n=new RegExp(e,r):e&&(n=new RegExp(e.source,r)),n};nr.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};nr.prototype.peekUntilAfter=function(e){var t=this.__position,n=this.readUntilAfter(e);return this.__position=t,n};nr.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e};pm.InputScanner=nr;var Xu={},p6={};function kl(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}kl.prototype.restart=function(){this.__position=0};kl.prototype.isEmpty=function(){return this.__tokens_length===0};kl.prototype.hasNext=function(){return this.__position<this.__tokens_length};kl.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e};kl.prototype.peek=function(e){var t=null;return e=e||0,e+=this.__position,e>=0&&e<this.__tokens_length&&(t=this.__tokens[e]),t};kl.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1};p6.TokenStream=kl;var g6={},wd={};function vo(e,t){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}vo.prototype.read=function(){var e=this._input.read(this._starting_pattern);return(!this._starting_pattern||e)&&(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e};vo.prototype.read_match=function(){return this._input.match(this._match_pattern)};vo.prototype.until_after=function(e){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(e),t._update(),t};vo.prototype.until=function(e){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(e),t._update(),t};vo.prototype.starting_with=function(e){var t=this._create();return t._starting_pattern=this._input.get_regexp(e,!0),t._update(),t};vo.prototype.matching=function(e){var t=this._create();return t._match_pattern=this._input.get_regexp(e,!0),t._update(),t};vo.prototype._create=function(){return new vo(this._input,this)};vo.prototype._update=function(){};wd.Pattern=vo;var m6=wd.Pattern;function na(e,t){m6.call(this,e,t),t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}na.prototype=new m6;na.prototype.__set_whitespace_patterns=function(e,t){e+="\\t ",t+="\\n\\r",this._match_pattern=this._input.get_regexp("["+e+t+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")};na.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var e=this._input.read(this._match_pattern);if(e===" ")this.whitespace_before_token=" ";else if(e){var t=this.__split(this._newline_regexp,e);this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]}return e};na.prototype.matching=function(e,t){var n=this._create();return n.__set_whitespace_patterns(e,t),n._update(),n};na.prototype._create=function(){return new na(this._input,this)};na.prototype.__split=function(e,t){e.lastIndex=0;for(var n=0,r=[],i=e.exec(t);i;)r.push(t.substring(n,i.index)),n=i.index+i[0].length,i=e.exec(t);return n<t.length?r.push(t.substring(n,t.length)):r.push(""),r};g6.WhitespacePattern=na;var wZ=pm.InputScanner,v6=i_.Token,f0=p6.TokenStream,xZ=g6.WhitespacePattern,ed={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},_o=function(e,t){this._input=new wZ(e),this._options=t||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new xZ(this._input)};_o.prototype.tokenize=function(){this._input.restart(),this.__tokens=new f0,this._reset();for(var e,t=new v6(ed.START,""),n=null,r=[],i=new f0;t.type!==ed.EOF;){for(e=this._get_next_token(t,n);this._is_comment(e);)i.add(e),e=this._get_next_token(t,n);i.isEmpty()||(e.comments_before=i,i=new f0),e.parent=n,this._is_opening(e)?(r.push(n),n=e):n&&this._is_closing(e,n)&&(e.opened=n,n.closed=e,n=r.pop(),e.parent=n),e.previous=t,t.next=e,this.__tokens.add(e),t=e}return this.__tokens};_o.prototype._is_first_token=function(){return this.__tokens.isEmpty()};_o.prototype._reset=function(){};_o.prototype._get_next_token=function(e,t){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(ed.RAW,n):this._create_token(ed.EOF,"")};_o.prototype._is_comment=function(e){return!1};_o.prototype._is_opening=function(e){return!1};_o.prototype._is_closing=function(e,t){return!1};_o.prototype._create_token=function(e,t){var n=new v6(e,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n};_o.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};Xu.Tokenizer=_o;Xu.TOKEN=ed;var gm={};function a_(e,t){e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}a_.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(e);n;)t[n[1]]=n[2],n=this.__directive_pattern.exec(e);return t};a_.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)};gm.Directives=a_;var l_={},$y=wd.Pattern,Hy={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function ji(e,t){$y.call(this,e,t),this.__template_pattern=null,this._disabled=Object.assign({},Hy),this._excluded=Object.assign({},Hy),t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var n=new $y(e);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}ji.prototype=new $y;ji.prototype._create=function(){return new ji(this._input,this)};ji.prototype._update=function(){this.__set_templated_pattern()};ji.prototype.disable=function(e){var t=this._create();return t._disabled[e]=!0,t._update(),t};ji.prototype.read_options=function(e){var t=this._create();for(var n in Hy)t._disabled[n]=e.templating.indexOf(n)===-1;return t._update(),t};ji.prototype.exclude=function(e){var t=this._create();return t._excluded[e]=!0,t._update(),t};ji.prototype.read=function(){var e="";this._match_pattern?e=this._input.read(this._starting_pattern):e=this._input.read(this._starting_pattern,this.__template_pattern);for(var t=this._read_template();t;)this._match_pattern?t+=this._input.read(this._match_pattern):t+=this._input.readUntil(this.__template_pattern),e+=t,t=this._read_template();return this._until_after&&(e+=this._input.readUntilAfter(this._until_pattern)),e};ji.prototype.__set_templated_pattern=function(){var e=[];this._disabled.php||e.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||e.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||e.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(e.push(this.__patterns.django._starting_pattern.source),e.push(this.__patterns.django_value._starting_pattern.source),e.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||e.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&e.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+e.join("|")+")")};ji.prototype._read_template=function(){var e="",t=this._input.peek();if(t==="<"){var n=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&n==="?"&&(e=e||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&n==="%"&&(e=e||this.__patterns.erb.read())}else t==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(e=e||this.__patterns.handlebars_comment.read(),e=e||this.__patterns.handlebars_unescaped.read(),e=e||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(e=e||this.__patterns.django_value.read()),this._excluded.django||(e=e||this.__patterns.django_comment.read(),e=e||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(e=e||this.__patterns.smarty_comment.read(),e=e||this.__patterns.smarty_literal.read(),e=e||this.__patterns.smarty.read()));return e};l_.TemplatablePattern=ji;var kZ=pm.InputScanner,y6=Xu.Tokenizer,d0=Xu.TOKEN,CZ=gm.Directives,gi=o_,SZ=wd.Pattern,TZ=l_.TemplatablePattern;function h0(e,t){return t.indexOf(e)!==-1}var ut={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:d0.START,RAW:d0.RAW,EOF:d0.EOF},N2=new CZ(/\/\*/,/\*\//),EZ=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,AZ=/[0-9]/,DZ=/[^\d\.]/,MZ=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),dl=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";dl=dl.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");dl="\\?\\.(?!\\d) "+dl;dl=dl.replace(/ /g,"|");var OZ=new RegExp(dl),b6="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),NZ=b6.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),LZ=new RegExp("^(?:"+NZ.join("|")+")$"),Wh,rr=function(e,t){y6.call(this,e,t),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new SZ(this._input),r=new TZ(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(gi.identifier).matching(gi.identifierMatch),number:n.matching(EZ),punct:n.matching(OZ),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(gi.lineBreak),shebang:n.starting_with(/#!/).until_after(gi.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};rr.prototype=new y6;rr.prototype._is_comment=function(e){return e.type===ut.COMMENT||e.type===ut.BLOCK_COMMENT||e.type===ut.UNKNOWN};rr.prototype._is_opening=function(e){return e.type===ut.START_BLOCK||e.type===ut.START_EXPR};rr.prototype._is_closing=function(e,t){return(e.type===ut.END_BLOCK||e.type===ut.END_EXPR)&&t&&(e.text==="]"&&t.text==="["||e.text===")"&&t.text==="("||e.text==="}"&&t.text==="{")};rr.prototype._reset=function(){Wh=!1};rr.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(ut.EOF,""):(n=n||this._read_non_javascript(r),n=n||this._read_string(r),n=n||this._read_word(e),n=n||this._read_singles(r),n=n||this._read_comment(r),n=n||this._read_regexp(r,e),n=n||this._read_xml(r,e),n=n||this._read_punctuation(),n=n||this._create_token(ut.UNKNOWN,this._input.next()),n)};rr.prototype._read_word=function(e){var t;if(t=this.__patterns.identifier.read(),t!=="")return t=t.replace(gi.allLineBreaks,`
`),!(e.type===ut.DOT||e.type===ut.RESERVED&&(e.text==="set"||e.text==="get"))&&LZ.test(t)?(t==="in"||t==="of")&&(e.type===ut.WORD||e.type===ut.STRING)?this._create_token(ut.OPERATOR,t):this._create_token(ut.RESERVED,t):this._create_token(ut.WORD,t);if(t=this.__patterns.number.read(),t!=="")return this._create_token(ut.WORD,t)};rr.prototype._read_singles=function(e){var t=null;return e==="("||e==="["?t=this._create_token(ut.START_EXPR,e):e===")"||e==="]"?t=this._create_token(ut.END_EXPR,e):e==="{"?t=this._create_token(ut.START_BLOCK,e):e==="}"?t=this._create_token(ut.END_BLOCK,e):e===";"?t=this._create_token(ut.SEMICOLON,e):e==="."&&DZ.test(this._input.peek(1))?t=this._create_token(ut.DOT,e):e===","&&(t=this._create_token(ut.COMMA,e)),t&&this._input.next(),t};rr.prototype._read_punctuation=function(){var e=this.__patterns.punct.read();if(e!=="")return e==="="?this._create_token(ut.EQUALS,e):e==="?."?this._create_token(ut.DOT,e):this._create_token(ut.OPERATOR,e)};rr.prototype._read_non_javascript=function(e){var t="";if(e==="#"){if(this._is_first_token()&&(t=this.__patterns.shebang.read(),t))return this._create_token(ut.UNKNOWN,t.trim()+`
`);if(t=this.__patterns.include.read(),t)return this._create_token(ut.UNKNOWN,t.trim()+`
`);e=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(AZ)){do e=this._input.next(),n+=e;while(this._input.hasNext()&&e!=="#"&&e!=="=");return e==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(n+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(n+="{}",this._input.next(),this._input.next())),this._create_token(ut.WORD,n)}this._input.back()}else if(e==="<"&&this._is_first_token()){if(t=this.__patterns.html_comment_start.read(),t){for(;this._input.hasNext()&&!this._input.testChar(gi.newline);)t+=this._input.next();return Wh=!0,this._create_token(ut.COMMENT,t)}}else if(Wh&&e==="-"&&(t=this.__patterns.html_comment_end.read(),t))return Wh=!1,this._create_token(ut.COMMENT,t);return null};rr.prototype._read_comment=function(e){var t=null;if(e==="/"){var n="";if(this._input.peek(1)==="*"){n=this.__patterns.block_comment.read();var r=N2.get_directives(n);r&&r.ignore==="start"&&(n+=N2.readIgnored(this._input)),n=n.replace(gi.allLineBreaks,`
`),t=this._create_token(ut.BLOCK_COMMENT,n),t.directives=r}else this._input.peek(1)==="/"&&(n=this.__patterns.comment.read(),t=this._create_token(ut.COMMENT,n))}return t};rr.prototype._read_string=function(e){if(e==="`"||e==="'"||e==='"'){var t=this._input.next();return this.has_char_escapes=!1,e==="`"?t+=this._read_string_recursive("`",!0,"${"):t+=this._read_string_recursive(e),this.has_char_escapes&&this._options.unescape_strings&&(t=PZ(t)),this._input.peek()===e&&(t+=this._input.next()),t=t.replace(gi.allLineBreaks,`
`),this._create_token(ut.STRING,t)}return null};rr.prototype._allow_regexp_or_xml=function(e){return e.type===ut.RESERVED&&h0(e.text,["return","case","throw","else","do","typeof","yield"])||e.type===ut.END_EXPR&&e.text===")"&&e.opened.previous.type===ut.RESERVED&&h0(e.opened.previous.text,["if","while","for"])||h0(e.type,[ut.COMMENT,ut.START_EXPR,ut.START_BLOCK,ut.START,ut.END_BLOCK,ut.OPERATOR,ut.EQUALS,ut.EOF,ut.SEMICOLON,ut.COMMA])};rr.prototype._read_regexp=function(e,t){if(e==="/"&&this._allow_regexp_or_xml(t)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==e)&&!this._input.testChar(gi.newline);)n+=this._input.peek(),r?r=!1:(r=this._input.peek()==="\\",this._input.peek()==="["?i=!0:this._input.peek()==="]"&&(i=!1)),this._input.next();return this._input.peek()===e&&(n+=this._input.next(),n+=this._input.read(gi.identifier)),this._create_token(ut.STRING,n)}return null};rr.prototype._read_xml=function(e,t){if(this._options.e4x&&e==="<"&&this._allow_regexp_or_xml(t)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),o=i.indexOf("{")===0,s=0;r;){var l=!!r[1],c=r[2],h=!!r[r.length-1]||c.slice(0,8)==="![CDATA[";if(!h&&(c===i||o&&c.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(l?--s:++s),n+=r[0],s<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(gi.allLineBreaks,`
`),this._create_token(ut.STRING,n)}}return null};function PZ(e){for(var t="",n=0,r=new kZ(e),i=null;r.hasNext();)if(i=r.match(/([\s]|[^\\]|\\\\)+/g),i&&(t+=i[0]),r.peek()==="\\"){if(r.next(),r.peek()==="x")i=r.match(/x([0-9A-Fa-f]{2})/g);else if(r.peek()==="u")i=r.match(/u([0-9A-Fa-f]{4})/g);else{t+="\\",r.hasNext()&&(t+=r.next());continue}if(!i||(n=parseInt(i[1],16),n>126&&n<=255&&i[0].indexOf("x")===0))return e;if(n>=0&&n<32){t+="\\"+i[0];continue}else n===34||n===39||n===92?t+="\\"+String.fromCharCode(n):t+=String.fromCharCode(n)}return t}rr.prototype._read_string_recursive=function(e,t,n){var r,i;e==="'"?i=this.__patterns.single_quote:e==='"'?i=this.__patterns.double_quote:e==="`"?i=this.__patterns.template_text:e==="}"&&(i=this.__patterns.template_expression);for(var o=i.read(),s="";this._input.hasNext();){if(s=this._input.next(),s===e||!t&&gi.newline.test(s)){this._input.back();break}else s==="\\"&&this._input.hasNext()?(r=this._input.peek(),r==="x"||r==="u"?this.has_char_escapes=!0:r==="\r"&&this._input.peek(1)===`
`&&this._input.next(),s+=this._input.next()):n&&(n==="${"&&s==="$"&&this._input.peek()==="{"&&(s+=this._input.next()),n===s&&(e==="`"?s+=this._read_string_recursive("}",t,"`"):s+=this._read_string_recursive("`",t,"${"),this._input.hasNext()&&(s+=this._input.next())));s+=i.read(),o+=s}return o};da.Tokenizer=rr;da.TOKEN=ut;da.positionable_operators=MZ.slice();da.line_starters=b6.slice();var IZ=hm.Output,FZ=i_.Token,ug=o_,RZ=s_.Options,zZ=da.Tokenizer,td=da.line_starters,Xc=da.positionable_operators,Ce=da.TOKEN;function kt(e,t){return t.indexOf(e)!==-1}function BZ(e){return e.replace(/^\s+/g,"")}function $Z(e){for(var t={},n=0;n<e.length;n++)t[e[n].replace(/-/g,"_")]=e[n];return t}function di(e,t){return e&&e.type===Ce.RESERVED&&e.text===t}function en(e,t){return e&&e.type===Ce.RESERVED&&kt(e.text,t)}var mm=["case","return","do","if","throw","else","await","break","continue","async"],HZ=["before-newline","after-newline","preserve-newline"],Df=$Z(HZ),_6=[Df.before_newline,Df.preserve_newline],ht={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function w6(e,t){t.multiline_frame||t.mode===ht.ForInitializer||t.mode===ht.Conditional||e.remove_indent(t.start_line_index)}function jZ(e){e=e.replace(ug.allLineBreaks,`
`);for(var t=[],n=e.indexOf(`
`);n!==-1;)t.push(e.substring(0,n)),e=e.substring(n+1),n=e.indexOf(`
`);return e.length&&t.push(e),t}function ra(e){return e===ht.ArrayLiteral}function Mf(e){return kt(e,[ht.Expression,ht.ForInitializer,ht.Conditional])}function VZ(e,t){for(var n=0;n<e.length;n++){var r=e[n].trim();if(r.charAt(0)!==t)return!1}return!0}function WZ(e,t){for(var n=0,r=e.length,i;n<r;n++)if(i=e[n],i&&i.indexOf(t)!==0)return!1;return!0}function jt(e,t){t=t||{},this._source_text=e||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new RZ(t)}jt.prototype.create_flags=function(e,t){var n=0;e&&(n=e.indentation_level,!this._output.just_added_newline()&&e.line_indent_level>n&&(n=e.line_indent_level));var r={mode:t,parent:e,last_token:e?e.last_token:new FZ(Ce.START_BLOCK,""),last_word:e?e.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:n,alignment:0,line_indent_level:e?e.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return r};jt.prototype._reset=function(e){var t=e.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new IZ(this._options,t),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(ht.BlockStatement);var n=new zZ(e,this._options);return this._tokens=n.tokenize(),e};jt.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e,t=this._reset(this._source_text),n=this._options.eol;this._options.eol==="auto"&&(n=`
`,t&&ug.lineBreak.test(t||"")&&(n=t.match(ug.lineBreak)[0]));for(var r=this._tokens.next();r;)this.handle_token(r),this._last_last_text=this._flags.last_token.text,this._flags.last_token=r,r=this._tokens.next();return e=this._output.get_code(n),e};jt.prototype.handle_token=function(e,t){e.type===Ce.START_EXPR?this.handle_start_expr(e):e.type===Ce.END_EXPR?this.handle_end_expr(e):e.type===Ce.START_BLOCK?this.handle_start_block(e):e.type===Ce.END_BLOCK?this.handle_end_block(e):e.type===Ce.WORD?this.handle_word(e):e.type===Ce.RESERVED?this.handle_word(e):e.type===Ce.SEMICOLON?this.handle_semicolon(e):e.type===Ce.STRING?this.handle_string(e):e.type===Ce.EQUALS?this.handle_equals(e):e.type===Ce.OPERATOR?this.handle_operator(e):e.type===Ce.COMMA?this.handle_comma(e):e.type===Ce.BLOCK_COMMENT?this.handle_block_comment(e,t):e.type===Ce.COMMENT?this.handle_comment(e,t):e.type===Ce.DOT?this.handle_dot(e):e.type===Ce.EOF?this.handle_eof(e):e.type===Ce.UNKNOWN?this.handle_unknown(e,t):this.handle_unknown(e,t)};jt.prototype.handle_whitespace_and_comments=function(e,t){var n=e.newlines,r=this._options.keep_array_indentation&&ra(this._flags.mode);if(e.comments_before)for(var i=e.comments_before.next();i;)this.handle_whitespace_and_comments(i,t),this.handle_token(i,t),i=e.comments_before.next();if(r)for(var o=0;o<n;o+=1)this.print_newline(o>0,t);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,t);for(var s=1;s<n;s+=1)this.print_newline(!0,t)}};var u_=["async","break","continue","return","throw","yield"];jt.prototype.allow_wrap_or_preserved_newline=function(e,t){if(t=t===void 0?!1:t,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&e.newlines||t,r=kt(this._flags.last_token.text,Xc)||kt(e.text,Xc);if(r){var i=kt(this._flags.last_token.text,Xc)&&kt(this._options.operator_position,_6)||kt(e.text,Xc);n=n&&i}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(en(this._flags.last_token,u_))return;this._output.set_wrap_point()}}};jt.prototype.print_newline=function(e,t){if(!t&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==Ce.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var n=this._tokens.peek();this._flags.mode===ht.Statement&&!(this._flags.if_block&&di(n,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(e)&&(this._flags.multiline_frame=!0)};jt.prototype.print_token_line_indentation=function(e){this._output.just_added_newline()&&(this._options.keep_array_indentation&&e.newlines&&(e.text==="["||ra(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(e.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};jt.prototype.print_token=function(e){if(this._output.raw){this._output.add_raw_token(e);return}if(this._options.comma_first&&e.previous&&e.previous.type===Ce.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var t=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(t),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(e),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(e),this._output.non_breaking_space=!0,this._output.add_token(e.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};jt.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};jt.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};jt.prototype.set_mode=function(e){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,e),this._flags=this.create_flags(this._previous_flags,e),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};jt.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===ht.Statement&&w6(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};jt.prototype.start_of_object_property=function(){return this._flags.parent.mode===ht.ObjectLiteral&&this._flags.mode===ht.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||en(this._flags.last_token,["get","set"]))};jt.prototype.start_of_statement=function(e){var t=!1;return t=t||en(this._flags.last_token,["var","let","const"])&&e.type===Ce.WORD,t=t||di(this._flags.last_token,"do"),t=t||!(this._flags.parent.mode===ht.ObjectLiteral&&this._flags.mode===ht.Statement)&&en(this._flags.last_token,u_)&&!e.newlines,t=t||di(this._flags.last_token,"else")&&!(di(e,"if")&&!e.comments_before),t=t||this._flags.last_token.type===Ce.END_EXPR&&(this._previous_flags.mode===ht.ForInitializer||this._previous_flags.mode===ht.Conditional),t=t||this._flags.last_token.type===Ce.WORD&&this._flags.mode===ht.BlockStatement&&!this._flags.in_case&&!(e.text==="--"||e.text==="++")&&this._last_last_text!=="function"&&e.type!==Ce.WORD&&e.type!==Ce.RESERVED,t=t||this._flags.mode===ht.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||en(this._flags.last_token,["get","set"])),t?(this.set_mode(ht.Statement),this.indent(),this.handle_whitespace_and_comments(e,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e,en(e,["do","for","if","while"])),!0):!1};jt.prototype.handle_start_expr=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e);var t=ht.Expression;if(e.text==="["){if(this._flags.last_token.type===Ce.WORD||this._flags.last_token.text===")"){en(this._flags.last_token,td)&&(this._output.space_before_token=!0),this.print_token(e),this.set_mode(t),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}t=ht.ArrayLiteral,ra(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),kt(this._flags.last_token.type,[Ce.START_EXPR,Ce.END_EXPR,Ce.WORD,Ce.OPERATOR,Ce.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===Ce.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,t=ht.ForInitializer):kt(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,t=ht.Conditional):kt(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&e.whitespace_before===""?this._output.space_before_token=!1:(kt(this._flags.last_token.text,td)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===Ce.EQUALS||this._flags.last_token.type===Ce.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e);else if(this._flags.last_token.type===Ce.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);en(n,["async","function"])||n.text==="*"&&en(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===ht.ObjectLiteral?(n.text==="{"||n.text===","||n.text==="*"&&(r.text==="{"||r.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(e);(this._flags.last_token.type===Ce.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(kt(this._last_last_text,["function","yield"])||this._flags.mode===ht.ObjectLiteral&&kt(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===Ce.START_BLOCK?this.print_newline():(this._flags.last_token.type===Ce.END_EXPR||this._flags.last_token.type===Ce.START_EXPR||this._flags.last_token.type===Ce.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===Ce.COMMA)&&this.allow_wrap_or_preserved_newline(e,e.newlines),this.print_token(e),this.set_mode(t),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};jt.prototype.handle_end_expr=function(e){for(;this._flags.mode===ht.Statement;)this.restore_mode();this.handle_whitespace_and_comments(e),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(e,e.text==="]"&&ra(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===Ce.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(e),this.restore_mode(),w6(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===ht.Conditional&&(this._previous_flags.mode=ht.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};jt.prototype.handle_start_block=function(e){this.handle_whitespace_and_comments(e);var t=this._tokens.peek(),n=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===Ce.END_EXPR?(this.set_mode(ht.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(ht.BlockStatement):n&&(kt(n.text,[":",","])&&kt(t.type,[Ce.STRING,Ce.WORD,Ce.RESERVED])||kt(t.text,["get","set","..."])&&kt(n.type,[Ce.WORD,Ce.RESERVED]))?kt(this._last_last_text,["class","interface"])&&!kt(n.text,[":",","])?this.set_mode(ht.BlockStatement):this.set_mode(ht.ObjectLiteral):this._flags.last_token.type===Ce.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(ht.BlockStatement):kt(this._flags.last_token.type,[Ce.EQUALS,Ce.START_EXPR,Ce.COMMA,Ce.OPERATOR])||en(this._flags.last_token,["return","throw","import","default"])?this.set_mode(ht.ObjectLiteral):this.set_mode(ht.BlockStatement),this._flags.last_token&&en(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var r=!t.comments_before&&t.text==="}",i=r&&this._flags.last_word==="function"&&this._flags.last_token.type===Ce.END_EXPR;if(this._options.brace_preserve_inline){var o=0,s=null;this._flags.inline_frame=!0;do if(o+=1,s=this._tokens.peek(o-1),s.newlines){this._flags.inline_frame=!1;break}while(s.type!==Ce.EOF&&!(s.type===Ce.END_BLOCK&&s.opened===e))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&e.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==Ce.OPERATOR&&(i||this._flags.last_token.type===Ce.EQUALS||en(this._flags.last_token,mm)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(ra(this._previous_flags.mode)&&(this._flags.last_token.type===Ce.START_EXPR||this._flags.last_token.type===Ce.COMMA)&&((this._flags.last_token.type===Ce.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===Ce.COMMA||this._flags.last_token.type===Ce.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(e),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==Ce.OPERATOR&&this._flags.last_token.type!==Ce.START_EXPR&&(this._flags.last_token.type===Ce.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(e),this.indent(),!r&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};jt.prototype.handle_end_block=function(e){for(this.handle_whitespace_and_comments(e);this._flags.mode===ht.Statement;)this.restore_mode();var t=this._flags.last_token.type===Ce.START_BLOCK;this._flags.inline_frame&&!t?this._output.space_before_token=!0:this._options.brace_style==="expand"?t||this.print_newline():t||(ra(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(e)};jt.prototype.handle_word=function(e){if(e.type===Ce.RESERVED){if(kt(e.text,["set","get"])&&this._flags.mode!==ht.ObjectLiteral)e.type=Ce.WORD;else if(e.text==="import"&&kt(this._tokens.peek().text,["(","."]))e.type=Ce.WORD;else if(kt(e.text,["as","from"])&&!this._flags.import_block)e.type=Ce.WORD;else if(this._flags.mode===ht.ObjectLiteral){var t=this._tokens.peek();t.text===":"&&(e.type=Ce.WORD)}}if(this.start_of_statement(e)?en(this._flags.last_token,["var","let","const"])&&e.type===Ce.WORD&&(this._flags.declaration_statement=!0):e.newlines&&!Mf(this._flags.mode)&&(this._flags.last_token.type!==Ce.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==Ce.EQUALS&&(this._options.preserve_newlines||!en(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(e),this.print_newline()):this.handle_whitespace_and_comments(e),this._flags.do_block&&!this._flags.do_while)if(di(e,"while")){this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&di(e,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===ht.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&en(e,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(e),this._flags.in_case=!0;return}if((this._flags.last_token.type===Ce.COMMA||this._flags.last_token.type===Ce.START_EXPR||this._flags.last_token.type===Ce.EQUALS||this._flags.last_token.type===Ce.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e)),di(e,"function")){(kt(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(kt(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===Ce.OPERATOR))&&!this._output.just_added_blankline()&&!e.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===Ce.RESERVED||this._flags.last_token.type===Ce.WORD?en(this._flags.last_token,["get","set","new","export"])||en(this._flags.last_token,u_)?this._output.space_before_token=!0:di(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===Ce.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(Mf(this._flags.mode)||ra(this._flags.mode))||this.print_newline(),this.print_token(e),this._flags.last_word=e.text;return}var n="NONE";if(this._flags.last_token.type===Ce.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":en(e,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&e.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===Ce.SEMICOLON&&this._flags.mode===ht.BlockStatement?n="NEWLINE":this._flags.last_token.type===Ce.SEMICOLON&&Mf(this._flags.mode)?n="SPACE":this._flags.last_token.type===Ce.STRING?n="NEWLINE":this._flags.last_token.type===Ce.RESERVED||this._flags.last_token.type===Ce.WORD||this._flags.last_token.text==="*"&&(kt(this._last_last_text,["function","yield"])||this._flags.mode===ht.ObjectLiteral&&kt(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===Ce.START_BLOCK?this._flags.inline_frame?n="SPACE":n="NEWLINE":this._flags.last_token.type===Ce.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),en(e,td)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?n="SPACE":n="NEWLINE"),en(e,["else","catch","finally"]))if((!(this._flags.last_token.type===Ce.END_BLOCK&&this._previous_flags.mode===ht.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&e.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var r=this._output.current_line;r.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else n==="NEWLINE"?en(this._flags.last_token,mm)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&en(e,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==Ce.END_EXPR?(this._flags.last_token.type!==Ce.START_EXPR||!en(e,["var","let","const"]))&&this._flags.last_token.text!==":"&&(di(e,"if")&&di(e.previous,"else")?this._output.space_before_token=!0:this.print_newline()):en(e,td)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&ra(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():n==="SPACE"&&(this._output.space_before_token=!0);e.previous&&(e.previous.type===Ce.WORD||e.previous.type===Ce.RESERVED)&&(this._output.space_before_token=!0),this.print_token(e),this._flags.last_word=e.text,e.type===Ce.RESERVED&&(e.text==="do"?this._flags.do_block=!0:e.text==="if"?this._flags.if_block=!0:e.text==="import"?this._flags.import_block=!0:this._flags.import_block&&di(e,"from")&&(this._flags.import_block=!1))};jt.prototype.handle_semicolon=function(e){this.start_of_statement(e)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(e);for(var t=this._tokens.peek();this._flags.mode===ht.Statement&&!(this._flags.if_block&&di(t,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(e)};jt.prototype.handle_string=function(e){e.text.startsWith("`")&&e.newlines===0&&e.whitespace_before===""&&(e.previous.text===")"||this._flags.last_token.type===Ce.WORD)||(this.start_of_statement(e)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(e),this._flags.last_token.type===Ce.RESERVED||this._flags.last_token.type===Ce.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===Ce.COMMA||this._flags.last_token.type===Ce.START_EXPR||this._flags.last_token.type===Ce.EQUALS||this._flags.last_token.type===Ce.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(e):e.text.startsWith("`")&&this._flags.last_token.type===Ce.END_EXPR&&(e.previous.text==="]"||e.previous.text===")")&&e.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(e)};jt.prototype.handle_equals=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0};jt.prototype.handle_comma=function(e){this.handle_whitespace_and_comments(e,!0),this.print_token(e),this._output.space_before_token=!0,this._flags.declaration_statement?(Mf(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)):this._flags.mode===ht.ObjectLiteral||this._flags.mode===ht.Statement&&this._flags.parent.mode===ht.ObjectLiteral?(this._flags.mode===ht.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(e)};jt.prototype.handle_operator=function(e){var t=e.text==="*"&&(en(this._flags.last_token,["function","yield"])||kt(this._flags.last_token.type,[Ce.START_BLOCK,Ce.COMMA,Ce.END_BLOCK,Ce.SEMICOLON])),n=kt(e.text,["-","+"])&&(kt(this._flags.last_token.type,[Ce.START_BLOCK,Ce.START_EXPR,Ce.EQUALS,Ce.OPERATOR])||kt(this._flags.last_token.text,td)||this._flags.last_token.text===",");if(!this.start_of_statement(e)){var r=!t;this.handle_whitespace_and_comments(e,r)}if(e.text==="*"&&this._flags.last_token.type===Ce.DOT){this.print_token(e);return}if(e.text==="::"){this.print_token(e);return}if(this._flags.last_token.type===Ce.OPERATOR&&kt(this._options.operator_position,_6)&&this.allow_wrap_or_preserved_newline(e),e.text===":"&&this._flags.in_case){this.print_token(e),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==Ce.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var i=!0,o=!0,s=!1;if(e.text===":"?this._flags.ternary_depth===0?i=!1:(this._flags.ternary_depth-=1,s=!0):e.text==="?"&&(this._flags.ternary_depth+=1),!n&&!t&&this._options.preserve_newlines&&kt(e.text,Xc)){var l=e.text===":",c=l&&s,h=l&&!s;switch(this._options.operator_position){case Df.before_newline:this._output.space_before_token=!h,this.print_token(e),(!l||c)&&this.allow_wrap_or_preserved_newline(e),this._output.space_before_token=!0;return;case Df.after_newline:this._output.space_before_token=!0,!l||c?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(e):this._output.space_before_token=!1,this.print_token(e),this._output.space_before_token=!0;return;case Df.preserve_newline:h||this.allow_wrap_or_preserved_newline(e),i=!(this._output.just_added_newline()||h),this._output.space_before_token=i,this.print_token(e),this._output.space_before_token=!0;return}}if(t){this.allow_wrap_or_preserved_newline(e),i=!1;var p=this._tokens.peek();o=p&&kt(p.type,[Ce.WORD,Ce.RESERVED])}else if(e.text==="...")this.allow_wrap_or_preserved_newline(e),i=this._flags.last_token.type===Ce.START_BLOCK,o=!1;else if(kt(e.text,["--","++","!","~"])||n){if((this._flags.last_token.type===Ce.COMMA||this._flags.last_token.type===Ce.START_EXPR)&&this.allow_wrap_or_preserved_newline(e),i=!1,o=!1,e.newlines&&(e.text==="--"||e.text==="++"||e.text==="~")){var m=en(this._flags.last_token,mm)&&e.newlines;m&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(m,!0)}this._flags.last_token.text===";"&&Mf(this._flags.mode)&&(i=!0),this._flags.last_token.type===Ce.RESERVED?i=!0:this._flags.last_token.type===Ce.END_EXPR?i=!(this._flags.last_token.text==="]"&&(e.text==="--"||e.text==="++")):this._flags.last_token.type===Ce.OPERATOR&&(i=kt(e.text,["--","-","++","+"])&&kt(this._flags.last_token.text,["--","-","++","+"]),kt(e.text,["+","-"])&&kt(this._flags.last_token.text,["--","++"])&&(o=!0)),(this._flags.mode===ht.BlockStatement&&!this._flags.inline_frame||this._flags.mode===ht.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||i,this.print_token(e),this._output.space_before_token=o};jt.prototype.handle_block_comment=function(e,t){if(this._output.raw){this._output.add_raw_token(e),e.directives&&e.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(e.directives){this.print_newline(!1,t),this.print_token(e),e.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!ug.newline.test(e.text)&&!e.newlines){this._output.space_before_token=!0,this.print_token(e),this._output.space_before_token=!0;return}else this.print_block_commment(e,t)};jt.prototype.print_block_commment=function(e,t){var n=jZ(e.text),r,i=!1,o=!1,s=e.whitespace_before,l=s.length;if(this.print_newline(!1,t),this.print_token_line_indentation(e),this._output.add_token(n[0]),this.print_newline(!1,t),n.length>1){for(n=n.slice(1),i=VZ(n,"*"),o=WZ(n,s),i&&(this._flags.alignment=1),r=0;r<n.length;r++)i?(this.print_token_line_indentation(e),this._output.add_token(BZ(n[r]))):o&&n[r]?(this.print_token_line_indentation(e),this._output.add_token(n[r].substring(l))):(this._output.current_line.set_indent(-1),this._output.add_token(n[r])),this.print_newline(!1,t);this._flags.alignment=0}};jt.prototype.handle_comment=function(e,t){e.newlines?this.print_newline(!1,t):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(e),this.print_newline(!1,t)};jt.prototype.handle_dot=function(e){this.start_of_statement(e)||this.handle_whitespace_and_comments(e,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),en(this._flags.last_token,mm)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(e,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(e)};jt.prototype.handle_unknown=function(e,t){this.print_token(e),e.text[e.text.length-1]===`
`&&this.print_newline(!1,t)};jt.prototype.handle_eof=function(e){for(;this._flags.mode===ht.Statement;)this.restore_mode();this.handle_whitespace_and_comments(e)};l6.Beautifier=jt;var UZ=l6.Beautifier,KZ=s_.Options;function qZ(e,t){var n=new UZ(e,t);return n.beautify()}r_.exports=qZ;r_.exports.defaultOptions=function(){return new KZ};var c_={exports:{}},x6={},f_={},k6=Ju.Options;function C6(e){k6.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)n[r]!=="expand"?this.brace_style="collapse":this.brace_style=n[r]}C6.prototype=new k6;f_.Options=C6;var GZ=f_.Options,YZ=hm.Output,JZ=pm.InputScanner,XZ=gm.Directives,L2=new XZ(/\/\*/,/\*\//),P2=/\r\n|[\r\n]/,ZZ=/\r\n|[\r\n]/g,cg=/\s/,QZ=/(?:\s|\n)+/g,eQ=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,tQ=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function ss(e,t){this._source_text=e||"",this._options=new GZ(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}ss.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,this._ch==="\\")t+=this._input.next();else if(e.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return t};ss.prototype.eatWhitespace=function(e){for(var t=cg.test(this._input.peek()),n=0;cg.test(this._input.peek());)this._ch=this._input.next(),e&&this._ch===`
`&&(n===0||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return t};ss.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,n=this._input.peek(t);n;){if(n==="{")return!0;if(n==="(")e+=1;else if(n===")"){if(e===0)return!1;e-=1}else if(n===";"||n==="}")return!1;t++,n=this._input.peek(t)}return!1};ss.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)};ss.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)};ss.prototype.indent=function(){this._indentLevel++};ss.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};ss.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;t==="auto"&&(t=`
`,e&&P2.test(e||"")&&(t=e.match(P2)[0])),e=e.replace(ZZ,`
`);var n=e.match(/^[\t ]*/)[0];this._output=new YZ(this._options,n),this._input=new JZ(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r=0,i=!1,o=!1,s=!1,l=!1,c=!1,h=!1,p=this._ch,m=!1,v,b,_;v=this._input.read(QZ),b=v!=="",_=p,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),p=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var x=this._input.read(eQ),D=L2.get_directives(x);D&&D.ignore==="start"&&(x+=L2.readIgnored(this._input)),this.print_string(x),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(tQ)),this.eatWhitespace(!0);else if(this._ch==="@"||this._ch==="$")if(this.preserveSingleSpace(b),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var E=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);E.match(/[ :]$/)&&(E=this.eatString(": ").replace(/\s$/,""),this.print_string(E),this._output.space_before_token=!0),E=E.replace(/\s$/,""),E==="extend"?l=!0:E==="import"&&(c=!0),E in this.NESTED_AT_RULE?(this._nestedLevel+=1,E in this.CONDITIONAL_GROUP_RULE&&(s=!0)):!i&&r===0&&E.indexOf(":")!==-1&&(o=!0,this.indent())}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(b),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")o&&(o=!1,this.outdent()),s?(s=!1,i=this._indentLevel>=this._nestedLevel):i=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&i&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(_==="("?this._output.space_before_token=!1:_!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),_==="{"&&this._output.trim(!0),c=!1,l=!1,o&&(this.outdent(),o=!1),this.print_string(this._ch),i=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var T=0;T<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;T++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[T])){m=!0;break}(i||s)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!l&&r===0?(this.print_string(":"),o||(o=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var R=_==='"'||_==="'";this.preserveSingleSpace(R||b),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")m=!1,r===0?(o&&(this.outdent(),o=!1),l=!1,c=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),r++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),r&&(r--,this.outdent()));else{var M=!1;this._input.lookBack("with")&&(M=!0),this.preserveSingleSpace(b||M),this.print_string(this._ch),o&&_==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),h=!0):(this.eatWhitespace(),r++,this.indent())}else if(this._ch===")")r&&(r--,this.outdent()),h&&this._input.peek()===";"&&this._options.selector_separator_newline&&(h=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!o||h)&&r===0&&!c&&!l?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!o&&r===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&cg.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(b),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),cg.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var Y=_==='"'||_==="'";this.preserveSingleSpace(Y||b),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&m&&this._output.add_new_line()}var J=this._output.get_code(t);return J};x6.Beautifier=ss;var nQ=x6.Beautifier,rQ=f_.Options;function iQ(e,t){var n=new nQ(e,t);return n.beautify()}c_.exports=iQ;c_.exports.defaultOptions=function(){return new rQ};var d_={exports:{}},S6={},h_={},T6=Ju.Options;function E6(e){T6.call(this,e,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}E6.prototype=new T6;h_.Options=E6;var vm={},A6=Xu.Tokenizer,p0=Xu.TOKEN,oQ=gm.Directives,sQ=l_.TemplatablePattern,aQ=wd.Pattern,En={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:p0.START,RAW:p0.RAW,EOF:p0.EOF},I2=new oQ(/<\!--/,/-->/),mr=function(e,t){A6.call(this,e,t),this._current_tag_name="";var n=new sQ(this._input).read_options(this._options),r=new aQ(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var i=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(i).until_after(i)}};mr.prototype=new A6;mr.prototype._is_comment=function(e){return!1};mr.prototype._is_opening=function(e){return e.type===En.TAG_OPEN};mr.prototype._is_closing=function(e,t){return e.type===En.TAG_CLOSE&&t&&((e.text===">"||e.text==="/>")&&t.text[0]==="<"||e.text==="}}"&&t.text[0]==="{"&&t.text[1]==="{")};mr.prototype._reset=function(){this._current_tag_name=""};mr.prototype._get_next_token=function(e,t){var n=null;this._readWhitespace();var r=this._input.peek();return r===null?this._create_token(En.EOF,""):(n=n||this._read_open_handlebars(r,t),n=n||this._read_attribute(r,e,t),n=n||this._read_close(r,t),n=n||this._read_raw_content(r,e,t),n=n||this._read_content_word(r),n=n||this._read_comment_or_cdata(r),n=n||this._read_processing(r),n=n||this._read_open(r,t),n=n||this._create_token(En.UNKNOWN,this._input.next()),n)};mr.prototype._read_comment_or_cdata=function(e){var t=null,n=null,r=null;if(e==="<"){var i=this._input.peek(1);i==="!"&&(n=this.__patterns.comment.read(),n?(r=I2.get_directives(n),r&&r.ignore==="start"&&(n+=I2.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(t=this._create_token(En.COMMENT,n),t.directives=r)}return t};mr.prototype._read_processing=function(e){var t=null,n=null,r=null;if(e==="<"){var i=this._input.peek(1);(i==="!"||i==="?")&&(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(t=this._create_token(En.COMMENT,n),t.directives=r)}return t};mr.prototype._read_open=function(e,t){var n=null,r=null;return t||e==="<"&&(n=this._input.next(),this._input.peek()==="/"&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(En.TAG_OPEN,n)),r};mr.prototype._read_open_handlebars=function(e,t){var n=null,r=null;return t||this._options.indent_handlebars&&e==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),r=this._create_token(En.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(En.TAG_OPEN,n))),r};mr.prototype._read_close=function(e,t){var n=null,r=null;return t&&(t.text[0]==="<"&&(e===">"||e==="/"&&this._input.peek(1)===">")?(n=this._input.next(),e==="/"&&(n+=this._input.next()),r=this._create_token(En.TAG_CLOSE,n)):t.text[0]==="{"&&e==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),r=this._create_token(En.TAG_CLOSE,"}}"))),r};mr.prototype._read_attribute=function(e,t,n){var r=null,i="";if(n&&n.text[0]==="<")if(e==="=")r=this._create_token(En.EQUALS,this._input.next());else if(e==='"'||e==="'"){var o=this._input.next();e==='"'?o+=this.__patterns.double_quote.read():o+=this.__patterns.single_quote.read(),r=this._create_token(En.VALUE,o)}else i=this.__patterns.attribute.read(),i&&(t.type===En.EQUALS?r=this._create_token(En.VALUE,i):r=this._create_token(En.ATTRIBUTE,i));return r};mr.prototype._is_content_unformatted=function(e){return this._options.void_elements.indexOf(e)===-1&&(this._options.content_unformatted.indexOf(e)!==-1||this._options.unformatted.indexOf(e)!==-1)};mr.prototype._read_raw_content=function(e,t,n){var r="";if(n&&n.text[0]==="{")r=this.__patterns.handlebars_raw_close.read();else if(t.type===En.TAG_CLOSE&&t.opened.text[0]==="<"&&t.text[0]!=="/"){var i=t.opened.text.substr(1).toLowerCase();if(i==="script"||i==="style"){var o=this._read_comment_or_cdata(e);if(o)return o.type=En.TEXT,o;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(En.TEXT,r):null};mr.prototype._read_content_word=function(e){var t="";if(this._options.unformatted_content_delimiter&&e===this._options.unformatted_content_delimiter[0]&&(t=this.__patterns.unformatted_content_delimiter.read()),t||(t=this.__patterns.word.read()),t)return this._create_token(En.TEXT,t)};vm.Tokenizer=mr;vm.TOKEN=En;var lQ=h_.Options,uQ=hm.Output,cQ=vm.Tokenizer,Zt=vm.TOKEN,F2=/\r\n|[\r\n]/,fQ=/\r\n|[\r\n]/g,Ci=function(e,t){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=e.max_preserve_newlines,this.preserve_newlines=e.preserve_newlines,this._output=new uQ(e,t)};Ci.prototype.current_line_has_match=function(e){return this._output.current_line.has_match(e)};Ci.prototype.set_space_before_token=function(e,t){this._output.space_before_token=e,this._output.non_breaking_space=t};Ci.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};Ci.prototype.add_raw_token=function(e){this._output.add_raw_token(e)};Ci.prototype.print_preserved_newlines=function(e){var t=0;e.type!==Zt.TEXT&&e.previous.type!==Zt.TEXT&&(t=e.newlines?1:0),this.preserve_newlines&&(t=e.newlines<this.max_preserve_newlines+1?e.newlines:this.max_preserve_newlines+1);for(var n=0;n<t;n++)this.print_newline(n>0);return t!==0};Ci.prototype.traverse_whitespace=function(e){return e.whitespace_before||e.newlines?(this.print_preserved_newlines(e)||(this._output.space_before_token=!0),!0):!1};Ci.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};Ci.prototype.print_newline=function(e){this._output.add_new_line(e)};Ci.prototype.print_token=function(e){e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(e.text))};Ci.prototype.indent=function(){this.indent_level++};Ci.prototype.get_full_indent=function(e){return e=this.indent_level+(e||0),e<1?"":this._output.get_indent_string(e)};var dQ=function(e){for(var t=null,n=e.next;n.type!==Zt.EOF&&e.closed!==n;){if(n.type===Zt.ATTRIBUTE&&n.text==="type"){n.next&&n.next.type===Zt.EQUALS&&n.next.next&&n.next.next.type===Zt.VALUE&&(t=n.next.next.text);break}n=n.next}return t},hQ=function(e,t){var n=null,r=null;return t.closed?(e==="script"?n="text/javascript":e==="style"&&(n="text/css"),n=dQ(t)||n,n.search("text/css")>-1?r="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function Zc(e,t){return t.indexOf(e)!==-1}function pQ(e,t,n){this.parent=e||null,this.tag=t?t.tag_name:"",this.indent_level=n||0,this.parser_token=t||null}function Cl(e){this._printer=e,this._current_frame=null}Cl.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};Cl.prototype.record_tag=function(e){var t=new pQ(this._current_frame,e,this._printer.indent_level);this._current_frame=t};Cl.prototype._try_pop_frame=function(e){var t=null;return e&&(t=e.parser_token,this._printer.indent_level=e.indent_level,this._current_frame=e.parent),t};Cl.prototype._get_frame=function(e,t){for(var n=this._current_frame;n&&e.indexOf(n.tag)===-1;){if(t&&t.indexOf(n.tag)!==-1){n=null;break}n=n.parent}return n};Cl.prototype.try_pop=function(e,t){var n=this._get_frame([e],t);return this._try_pop_frame(n)};Cl.prototype.indent_to_tag=function(e){var t=this._get_frame(e);t&&(this._printer.indent_level=t.indent_level)};function ki(e,t,n,r){this._source_text=e||"",t=t||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var i=new lQ(t,"html");this._options=i,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}ki.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;this._options.eol==="auto"&&(t=`
`,e&&F2.test(e)&&(t=e.match(F2)[0])),e=e.replace(fQ,`
`);var n=e.match(/^[\t ]*/)[0],r={text:"",type:""},i=new D6,o=new Ci(this._options,n),s=new cQ(e,this._options).tokenize();this._tag_stack=new Cl(o);for(var l=null,c=s.next();c.type!==Zt.EOF;)c.type===Zt.TAG_OPEN||c.type===Zt.COMMENT?(l=this._handle_tag_open(o,c,i,r),i=l):c.type===Zt.ATTRIBUTE||c.type===Zt.EQUALS||c.type===Zt.VALUE||c.type===Zt.TEXT&&!i.tag_complete?l=this._handle_inside_tag(o,c,i,s):c.type===Zt.TAG_CLOSE?l=this._handle_tag_close(o,c,i):c.type===Zt.TEXT?l=this._handle_text(o,c,i):o.add_raw_token(c),r=l,c=s.next();var h=o._output.get_code(t);return h};ki.prototype._handle_tag_close=function(e,t,n){var r={text:t.text,type:t.type};return e.alignment_size=0,n.tag_complete=!0,e.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),n.is_unformatted?e.add_raw_token(t):(n.tag_start_char==="<"&&(e.set_space_before_token(t.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&e.print_newline(!1)),e.print_token(t)),n.indent_content&&!(n.is_unformatted||n.is_content_unformatted)&&(e.indent(),n.indent_content=!1),!n.is_inline_element&&!(n.is_unformatted||n.is_content_unformatted)&&e.set_wrap_point(),r};ki.prototype._handle_inside_tag=function(e,t,n,r){var i=n.has_wrapped_attrs,o={text:t.text,type:t.type};if(e.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),n.is_unformatted)e.add_raw_token(t);else if(n.tag_start_char==="{"&&t.type===Zt.TEXT)e.print_preserved_newlines(t)?(t.newlines=0,e.add_raw_token(t)):e.print_token(t);else{if(t.type===Zt.ATTRIBUTE?(e.set_space_before_token(!0),n.attr_count+=1):(t.type===Zt.EQUALS||t.type===Zt.VALUE&&t.previous.type===Zt.EQUALS)&&e.set_space_before_token(!1),t.type===Zt.ATTRIBUTE&&n.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(e.traverse_whitespace(t),i=i||t.newlines!==0),this._is_wrap_attributes_force)){var s=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&n.attr_count===1){var l=!0,c=0,h;do{if(h=r.peek(c),h.type===Zt.ATTRIBUTE){l=!1;break}c+=1}while(c<4&&h.type!==Zt.EOF&&h.type!==Zt.TAG_CLOSE);s=!l}s&&(e.print_newline(!1),i=!0)}e.print_token(t),i=i||e.previous_token_wrapped(),n.has_wrapped_attrs=i}return o};ki.prototype._handle_text=function(e,t,n){var r={text:t.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(e,t,n):n.is_unformatted||n.is_content_unformatted?e.add_raw_token(t):(e.traverse_whitespace(t),e.print_token(t)),r};ki.prototype._print_custom_beatifier_text=function(e,t,n){var r=this;if(t.text!==""){var i=t.text,o,s=1,l="",c="";n.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?o=this._js_beautify:n.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?o=this._css_beautify:n.custom_beautifier_name==="html"&&(o=function(_,x){var D=new ki(_,x,r._js_beautify,r._css_beautify);return D.beautify()}),this._options.indent_scripts==="keep"?s=0:this._options.indent_scripts==="separate"&&(s=-e.indent_level);var h=e.get_full_indent(s);if(i=i.replace(/\n[ \t]*$/,""),n.custom_beautifier_name!=="html"&&i[0]==="<"&&i.match(/^(<!--|<!\[CDATA\[)/)){var p=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(i);if(!p){e.add_raw_token(t);return}l=h+p[1]+`
`,i=p[4],p[5]&&(c=h+p[5]),i=i.replace(/\n[ \t]*$/,""),(p[2]||p[3].indexOf(`
`)!==-1)&&(p=p[3].match(/[ \t]+$/),p&&(t.whitespace_before=p[0]))}if(i)if(o){var m=function(){this.eol=`
`};m.prototype=this._options.raw_options;var v=new m;i=o(h+i,v)}else{var b=t.whitespace_before;b&&(i=i.replace(new RegExp(`
(`+b+")?","g"),`
`)),i=h+i.replace(/\n/g,`
`+h)}l&&(i?i=l+i+`
`+c:i=l+c),e.print_newline(!1),i&&(t.text=i,t.whitespace_before="",t.newlines=0,e.add_raw_token(t),e.print_newline(!0))}};ki.prototype._handle_tag_open=function(e,t,n,r){var i=this._get_tag_open_token(t);return(n.is_unformatted||n.is_content_unformatted)&&!n.is_empty_element&&t.type===Zt.TAG_OPEN&&t.text.indexOf("</")===0?(e.add_raw_token(t),i.start_tag_token=this._tag_stack.try_pop(i.tag_name)):(e.traverse_whitespace(t),this._set_tag_position(e,t,i,n,r),i.is_inline_element||e.set_wrap_point(),e.print_token(t)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=t.text.length+1),!i.tag_complete&&!i.is_unformatted&&(e.alignment_size=i.alignment_size),i};var D6=function(e,t){if(this.parent=e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!t)this.tag_complete=!0;else{var n;this.tag_start_char=t.text[0],this.text=t.text,this.tag_start_char==="<"?(n=t.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=t.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"",(t.text.startsWith("{{#>")||t.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&t.next!==null?this.tag_check=t.next.text.split(" ")[0]:this.tag_check=t.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),t.type===Zt.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&t.closed.text==="/>";var r=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(r=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(r)))}};ki.prototype._get_tag_open_token=function(e){var t=new D6(this._tag_stack.get_parser_token(),e);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||Zc(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&Zc(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&Zc(t.tag_check,this._options.content_unformatted),t.is_inline_element=Zc(t.tag_name,this._options.inline)||t.tag_start_char==="{",t};ki.prototype._set_tag_position=function(e,t,n,r,i){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||e.print_newline(!1)),this._tag_stack.record_tag(n),(n.tag_name==="script"||n.tag_name==="style")&&!(n.is_unformatted||n.is_content_unformatted)&&(n.custom_beautifier_name=hQ(n.tag_check,t)))),Zc(n.tag_check,this._options.extra_liners)&&(e.print_newline(!1),e._output.just_added_blankline()||e.print_newline(!0)),n.is_empty_element){if(n.tag_start_char==="{"&&n.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var o=e.current_line_has_match(/{{#if/);o||e.print_newline(!1)}n.tag_name==="!--"&&i.type===Zt.TAG_CLOSE&&r.is_end_tag&&n.text.indexOf(`
`)===-1||(n.is_inline_element||n.is_unformatted||e.print_newline(!1),this._calcluate_parent_multiline(e,n))}else if(n.is_end_tag){var s=!1;s=n.start_tag_token&&n.start_tag_token.multiline_content,s=s||!n.is_inline_element&&!(r.is_inline_element||r.is_unformatted)&&!(i.type===Zt.TAG_CLOSE&&n.start_tag_token===r)&&i.type!=="TK_CONTENT",(n.is_content_unformatted||n.is_unformatted)&&(s=!1),s&&e.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,n.tag_start_char==="<"&&(n.tag_name==="html"?n.indent_content=this._options.indent_inner_html:n.tag_name==="head"?n.indent_content=this._options.indent_head_inner_html:n.tag_name==="body"&&(n.indent_content=this._options.indent_body_inner_html)),!(n.is_inline_element||n.is_unformatted)&&(i.type!=="TK_CONTENT"||n.is_content_unformatted)&&e.print_newline(!1),this._calcluate_parent_multiline(e,n)};ki.prototype._calcluate_parent_multiline=function(e,t){t.parent&&e._output.just_added_newline()&&!((t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element)&&(t.parent.multiline_content=!0)};var gQ=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],mQ=["a","audio","del","ins","map","noscript","video"];ki.prototype._do_optional_end_element=function(e){var t=null;if(!(e.is_empty_element||!e.is_start_tag||!e.parent)){if(e.tag_name==="body")t=t||this._tag_stack.try_pop("head");else if(e.tag_name==="li")t=t||this._tag_stack.try_pop("li",["ol","ul"]);else if(e.tag_name==="dd"||e.tag_name==="dt")t=t||this._tag_stack.try_pop("dt",["dl"]),t=t||this._tag_stack.try_pop("dd",["dl"]);else if(e.parent.tag_name==="p"&&gQ.indexOf(e.tag_name)!==-1){var n=e.parent.parent;(!n||mQ.indexOf(n.tag_name)===-1)&&(t=t||this._tag_stack.try_pop("p"))}else e.tag_name==="rp"||e.tag_name==="rt"?(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]),t=t||this._tag_stack.try_pop("rp",["ruby","rtc"])):e.tag_name==="optgroup"?t=t||this._tag_stack.try_pop("optgroup",["select"]):e.tag_name==="option"?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):e.tag_name==="colgroup"?t=t||this._tag_stack.try_pop("caption",["table"]):e.tag_name==="thead"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"])):e.tag_name==="tbody"||e.tag_name==="tfoot"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"]),t=t||this._tag_stack.try_pop("thead",["table"]),t=t||this._tag_stack.try_pop("tbody",["table"])):e.tag_name==="tr"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"]),t=t||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(e.tag_name==="th"||e.tag_name==="td")&&(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),t=t||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return e.parent=this._tag_stack.get_parser_token(),t}};S6.Beautifier=ki;var vQ=S6.Beautifier,yQ=h_.Options;function bQ(e,t,n,r){var i=new vQ(e,t,n,r);return i.beautify()}d_.exports=bQ;d_.exports.defaultOptions=function(){return new yQ};var M6=r_.exports,O6=c_.exports,N6=d_.exports;function L6(e,t,n,r){return n=n||M6,r=r||O6,N6(e,t,n,r)}L6.defaultOptions=N6.defaultOptions;dm.js=M6;dm.css=O6;dm.html=L6;(function(e){function t(n,r,i){var o=function(s,l){return n.js_beautify(s,l)};return o.js=n.js_beautify,o.css=r.css_beautify,o.html=i.html_beautify,o.js_beautify=n.js_beautify,o.css_beautify=r.css_beautify,o.html_beautify=i.html_beautify,o}(function(n){var r=dm;r.js_beautify=r.js,r.css_beautify=r.css,r.html_beautify=r.html,n.exports=t(r,r,r)})(e)})(a6);var _Q=a6.exports,wQ={exports:{}};(function(e,t){(function(n){n(gr.exports)})(function(n){n.overlayMode=function(r,i,o){return{startState:function(){return{base:n.startState(r),overlay:n.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(s){return{base:n.copyState(r,s.base),overlay:n.copyState(i,s.overlay),basePos:s.basePos,baseCur:null,overlayPos:s.overlayPos,overlayCur:null}},token:function(s,l){return(s!=l.streamSeen||Math.min(l.basePos,l.overlayPos)<s.start)&&(l.streamSeen=s,l.basePos=l.overlayPos=s.start),s.start==l.basePos&&(l.baseCur=r.token(s,l.base),l.basePos=s.pos),s.start==l.overlayPos&&(s.pos=s.start,l.overlayCur=i.token(s,l.overlay),l.overlayPos=s.pos),s.pos=Math.min(l.basePos,l.overlayPos),l.overlayCur==null?l.baseCur:l.baseCur!=null&&l.overlay.combineTokens||o&&l.overlay.combineTokens==null?l.baseCur+" "+l.overlayCur:l.overlayCur},indent:r.indent&&function(s,l,c){return r.indent(s.base,l,c)},electricChars:r.electricChars,innerMode:function(s){return{state:s.base,mode:r}},blankLine:function(s){var l,c;return r.blankLine&&(l=r.blankLine(s.base)),i.blankLine&&(c=i.blankLine(s.overlay)),c==null?l:o&&l!=null?l+" "+c:c}}}})})();var P6={exports:{}};(function(e,t){(function(n){n(gr.exports)})(function(n){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(o,s){var l=o.indentUnit,c={},h=s.htmlMode?r:i;for(var p in h)c[p]=h[p];for(var p in s)c[p]=s[p];var m,v;function b(I,de){function pe(tt){return de.tokenize=tt,tt(I,de)}var Se=I.next();if(Se=="<")return I.eat("!")?I.eat("[")?I.match("CDATA[")?pe(D("atom","]]>")):null:I.match("--")?pe(D("comment","-->")):I.match("DOCTYPE",!0,!0)?(I.eatWhile(/[\w\._\-]/),pe(E(1))):null:I.eat("?")?(I.eatWhile(/[\w\._\-]/),de.tokenize=D("meta","?>"),"meta"):(m=I.eat("/")?"closeTag":"openTag",de.tokenize=_,"tag bracket");if(Se=="&"){var Ve;return I.eat("#")?I.eat("x")?Ve=I.eatWhile(/[a-fA-F\d]/)&&I.eat(";"):Ve=I.eatWhile(/[\d]/)&&I.eat(";"):Ve=I.eatWhile(/[\w\.\-:]/)&&I.eat(";"),Ve?"atom":"error"}else return I.eatWhile(/[^&<]/),null}b.isInText=!0;function _(I,de){var pe=I.next();if(pe==">"||pe=="/"&&I.eat(">"))return de.tokenize=b,m=pe==">"?"endTag":"selfcloseTag","tag bracket";if(pe=="=")return m="equals",null;if(pe=="<"){de.tokenize=b,de.state=J,de.tagName=de.tagStart=null;var Se=de.tokenize(I,de);return Se?Se+" tag error":"tag error"}else return/[\'\"]/.test(pe)?(de.tokenize=x(pe),de.stringStartCol=I.column(),de.tokenize(I,de)):(I.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function x(I){var de=function(pe,Se){for(;!pe.eol();)if(pe.next()==I){Se.tokenize=_;break}return"string"};return de.isInAttribute=!0,de}function D(I,de){return function(pe,Se){for(;!pe.eol();){if(pe.match(de)){Se.tokenize=b;break}pe.next()}return I}}function E(I){return function(de,pe){for(var Se;(Se=de.next())!=null;){if(Se=="<")return pe.tokenize=E(I+1),pe.tokenize(de,pe);if(Se==">")if(I==1){pe.tokenize=b;break}else return pe.tokenize=E(I-1),pe.tokenize(de,pe)}return"meta"}}function T(I){return I&&I.toLowerCase()}function R(I,de,pe){this.prev=I.context,this.tagName=de||"",this.indent=I.indented,this.startOfLine=pe,(c.doNotIndent.hasOwnProperty(de)||I.context&&I.context.noIndent)&&(this.noIndent=!0)}function M(I){I.context&&(I.context=I.context.prev)}function Y(I,de){for(var pe;;){if(!I.context||(pe=I.context.tagName,!c.contextGrabbers.hasOwnProperty(T(pe))||!c.contextGrabbers[T(pe)].hasOwnProperty(T(de))))return;M(I)}}function J(I,de,pe){return I=="openTag"?(pe.tagStart=de.column(),Z):I=="closeTag"?z:J}function Z(I,de,pe){return I=="word"?(pe.tagName=de.current(),v="tag",V):c.allowMissingTagName&&I=="endTag"?(v="tag bracket",V(I,de,pe)):(v="error",Z)}function z(I,de,pe){if(I=="word"){var Se=de.current();return pe.context&&pe.context.tagName!=Se&&c.implicitlyClosed.hasOwnProperty(T(pe.context.tagName))&&M(pe),pe.context&&pe.context.tagName==Se||c.matchClosing===!1?(v="tag",B):(v="tag error",L)}else return c.allowMissingTagName&&I=="endTag"?(v="tag bracket",B(I,de,pe)):(v="error",L)}function B(I,de,pe){return I!="endTag"?(v="error",B):(M(pe),J)}function L(I,de,pe){return v="error",B(I,de,pe)}function V(I,de,pe){if(I=="word")return v="attribute",ie;if(I=="endTag"||I=="selfcloseTag"){var Se=pe.tagName,Ve=pe.tagStart;return pe.tagName=pe.tagStart=null,I=="selfcloseTag"||c.autoSelfClosers.hasOwnProperty(T(Se))?Y(pe,Se):(Y(pe,Se),pe.context=new R(pe,Se,Ve==pe.indented)),J}return v="error",V}function ie(I,de,pe){return I=="equals"?W:(c.allowMissing||(v="error"),V(I,de,pe))}function W(I,de,pe){return I=="string"?Q:I=="word"&&c.allowUnquoted?(v="string",V):(v="error",V(I,de,pe))}function Q(I,de,pe){return I=="string"?Q:V(I,de,pe)}return{startState:function(I){var de={tokenize:b,state:J,indented:I||0,tagName:null,tagStart:null,context:null};return I!=null&&(de.baseIndent=I),de},token:function(I,de){if(!de.tagName&&I.sol()&&(de.indented=I.indentation()),I.eatSpace())return null;m=null;var pe=de.tokenize(I,de);return(pe||m)&&pe!="comment"&&(v=null,de.state=de.state(m||pe,I,de),v&&(pe=v=="error"?pe+" error":v)),pe},indent:function(I,de,pe){var Se=I.context;if(I.tokenize.isInAttribute)return I.tagStart==I.indented?I.stringStartCol+1:I.indented+l;if(Se&&Se.noIndent)return n.Pass;if(I.tokenize!=_&&I.tokenize!=b)return pe?pe.match(/^(\s*)/)[0].length:0;if(I.tagName)return c.multilineTagIndentPastTag!==!1?I.tagStart+I.tagName.length+2:I.tagStart+l*(c.multilineTagIndentFactor||1);if(c.alignCDATA&&/<!\[CDATA\[/.test(de))return 0;var Ve=de&&/^<(\/)?([\w_:\.-]*)/.exec(de);if(Ve&&Ve[1])for(;Se;)if(Se.tagName==Ve[2]){Se=Se.prev;break}else if(c.implicitlyClosed.hasOwnProperty(T(Se.tagName)))Se=Se.prev;else break;else if(Ve)for(;Se;){var tt=c.contextGrabbers[T(Se.tagName)];if(tt&&tt.hasOwnProperty(T(Ve[2])))Se=Se.prev;else break}for(;Se&&Se.prev&&!Se.startOfLine;)Se=Se.prev;return Se?Se.indent+l:I.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml",skipAttribute:function(I){I.state==W&&(I.state=V)},xmlCurrentTag:function(I){return I.tagName?{name:I.tagName,close:I.type=="closeTag"}:null},xmlCurrentContext:function(I){for(var de=[],pe=I.context;pe;pe=pe.prev)de.push(pe.tagName);return de.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var p_={exports:{}};(function(e,t){(function(n){n(gr.exports)})(function(n){n.defineMode("javascript",function(r,i){var o=r.indentUnit,s=i.statementIndent,l=i.jsonld,c=i.json||l,h=i.trackScope!==!1,p=i.typescript,m=i.wordCharacters||/[\w$\xa1-\uffff]/,v=function(){function N(Gn){return{type:Gn,style:"keyword"}}var ne=N("keyword a"),xe=N("keyword b"),De=N("keyword c"),ct=N("keyword d"),Ot=N("operator"),Ue={type:"atom",style:"atom"};return{if:N("if"),while:ne,with:ne,else:xe,do:xe,try:xe,finally:xe,return:ct,break:ct,continue:ct,new:N("new"),delete:De,void:De,throw:De,debugger:N("debugger"),var:N("var"),const:N("var"),let:N("var"),function:N("function"),catch:N("catch"),for:N("for"),switch:N("switch"),case:N("case"),default:N("default"),in:Ot,typeof:Ot,instanceof:Ot,true:Ue,false:Ue,null:Ue,undefined:Ue,NaN:Ue,Infinity:Ue,this:N("this"),class:N("class"),super:N("atom"),yield:De,export:N("export"),import:N("import"),extends:De,await:De}}(),b=/[+\-*&%=<>!?|~^@]/,_=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function x(N){for(var ne=!1,xe,De=!1;(xe=N.next())!=null;){if(!ne){if(xe=="/"&&!De)return;xe=="["?De=!0:De&&xe=="]"&&(De=!1)}ne=!ne&&xe=="\\"}}var D,E;function T(N,ne,xe){return D=N,E=xe,ne}function R(N,ne){var xe=N.next();if(xe=='"'||xe=="'")return ne.tokenize=M(xe),ne.tokenize(N,ne);if(xe=="."&&N.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return T("number","number");if(xe=="."&&N.match(".."))return T("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(xe))return T(xe);if(xe=="="&&N.eat(">"))return T("=>","operator");if(xe=="0"&&N.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return T("number","number");if(/\d/.test(xe))return N.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),T("number","number");if(xe=="/")return N.eat("*")?(ne.tokenize=Y,Y(N,ne)):N.eat("/")?(N.skipToEnd(),T("comment","comment")):Ee(N,ne,1)?(x(N),N.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),T("regexp","string-2")):(N.eat("="),T("operator","operator",N.current()));if(xe=="`")return ne.tokenize=J,J(N,ne);if(xe=="#"&&N.peek()=="!")return N.skipToEnd(),T("meta","meta");if(xe=="#"&&N.eatWhile(m))return T("variable","property");if(xe=="<"&&N.match("!--")||xe=="-"&&N.match("->")&&!/\S/.test(N.string.slice(0,N.start)))return N.skipToEnd(),T("comment","comment");if(b.test(xe))return(xe!=">"||!ne.lexical||ne.lexical.type!=">")&&(N.eat("=")?(xe=="!"||xe=="=")&&N.eat("="):/[<>*+\-|&?]/.test(xe)&&(N.eat(xe),xe==">"&&N.eat(xe))),xe=="?"&&N.eat(".")?T("."):T("operator","operator",N.current());if(m.test(xe)){N.eatWhile(m);var De=N.current();if(ne.lastType!="."){if(v.propertyIsEnumerable(De)){var ct=v[De];return T(ct.type,ct.style,De)}if(De=="async"&&N.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return T("async","keyword",De)}return T("variable","variable",De)}}function M(N){return function(ne,xe){var De=!1,ct;if(l&&ne.peek()=="@"&&ne.match(_))return xe.tokenize=R,T("jsonld-keyword","meta");for(;(ct=ne.next())!=null&&!(ct==N&&!De);)De=!De&&ct=="\\";return De||(xe.tokenize=R),T("string","string")}}function Y(N,ne){for(var xe=!1,De;De=N.next();){if(De=="/"&&xe){ne.tokenize=R;break}xe=De=="*"}return T("comment","comment")}function J(N,ne){for(var xe=!1,De;(De=N.next())!=null;){if(!xe&&(De=="`"||De=="$"&&N.eat("{"))){ne.tokenize=R;break}xe=!xe&&De=="\\"}return T("quasi","string-2",N.current())}var Z="([{}])";function z(N,ne){ne.fatArrowAt&&(ne.fatArrowAt=null);var xe=N.string.indexOf("=>",N.start);if(!(xe<0)){if(p){var De=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(N.string.slice(N.start,xe));De&&(xe=De.index)}for(var ct=0,Ot=!1,Ue=xe-1;Ue>=0;--Ue){var Gn=N.string.charAt(Ue),Vr=Z.indexOf(Gn);if(Vr>=0&&Vr<3){if(!ct){++Ue;break}if(--ct==0){Gn=="("&&(Ot=!0);break}}else if(Vr>=3&&Vr<6)++ct;else if(m.test(Gn))Ot=!0;else if(/["'\/`]/.test(Gn))for(;;--Ue){if(Ue==0)return;var El=N.string.charAt(Ue-1);if(El==Gn&&N.string.charAt(Ue-2)!="\\"){Ue--;break}}else if(Ot&&!ct){++Ue;break}}Ot&&!ct&&(ne.fatArrowAt=Ue)}}var B={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function L(N,ne,xe,De,ct,Ot){this.indented=N,this.column=ne,this.type=xe,this.prev=ct,this.info=Ot,De!=null&&(this.align=De)}function V(N,ne){if(!h)return!1;for(var xe=N.localVars;xe;xe=xe.next)if(xe.name==ne)return!0;for(var De=N.context;De;De=De.prev)for(var xe=De.vars;xe;xe=xe.next)if(xe.name==ne)return!0}function ie(N,ne,xe,De,ct){var Ot=N.cc;for(W.state=N,W.stream=ct,W.marked=null,W.cc=Ot,W.style=ne,N.lexical.hasOwnProperty("align")||(N.lexical.align=!0);;){var Ue=Ot.length?Ot.pop():c?je:He;if(Ue(xe,De)){for(;Ot.length&&Ot[Ot.length-1].lex;)Ot.pop()();return W.marked?W.marked:xe=="variable"&&V(N,De)?"variable-2":ne}}}var W={state:null,column:null,marked:null,cc:null};function Q(){for(var N=arguments.length-1;N>=0;N--)W.cc.push(arguments[N])}function I(){return Q.apply(null,arguments),!0}function de(N,ne){for(var xe=ne;xe;xe=xe.next)if(xe.name==N)return!0;return!1}function pe(N){var ne=W.state;if(W.marked="def",!!h){if(ne.context){if(ne.lexical.info=="var"&&ne.context&&ne.context.block){var xe=Se(N,ne.context);if(xe!=null){ne.context=xe;return}}else if(!de(N,ne.localVars)){ne.localVars=new yt(N,ne.localVars);return}}i.globalVars&&!de(N,ne.globalVars)&&(ne.globalVars=new yt(N,ne.globalVars))}}function Se(N,ne){if(ne)if(ne.block){var xe=Se(N,ne.prev);return xe?xe==ne.prev?ne:new tt(xe,ne.vars,!0):null}else return de(N,ne.vars)?ne:new tt(ne.prev,new yt(N,ne.vars),!1);else return null}function Ve(N){return N=="public"||N=="private"||N=="protected"||N=="abstract"||N=="readonly"}function tt(N,ne,xe){this.prev=N,this.vars=ne,this.block=xe}function yt(N,ne){this.name=N,this.next=ne}var Mt=new yt("this",new yt("arguments",null));function pt(){W.state.context=new tt(W.state.context,W.state.localVars,!1),W.state.localVars=Mt}function ot(){W.state.context=new tt(W.state.context,W.state.localVars,!0),W.state.localVars=null}pt.lex=ot.lex=!0;function Ge(){W.state.localVars=W.state.context.vars,W.state.context=W.state.context.prev}Ge.lex=!0;function Fe(N,ne){var xe=function(){var De=W.state,ct=De.indented;if(De.lexical.type=="stat")ct=De.lexical.indented;else for(var Ot=De.lexical;Ot&&Ot.type==")"&&Ot.align;Ot=Ot.prev)ct=Ot.indented;De.lexical=new L(ct,W.stream.column(),N,null,De.lexical,ne)};return xe.lex=!0,xe}function ke(){var N=W.state;N.lexical.prev&&(N.lexical.type==")"&&(N.indented=N.lexical.indented),N.lexical=N.lexical.prev)}ke.lex=!0;function be(N){function ne(xe){return xe==N?I():N==";"||xe=="}"||xe==")"||xe=="]"?Q():I(ne)}return ne}function He(N,ne){return N=="var"?I(Fe("vardef",ne),$r,be(";"),ke):N=="keyword a"?I(Fe("form"),te,He,ke):N=="keyword b"?I(Fe("form"),He,ke):N=="keyword d"?W.stream.match(/^\s*$/,!1)?I():I(Fe("stat"),ce,be(";"),ke):N=="debugger"?I(be(";")):N=="{"?I(Fe("}"),ot,Me,ke,Ge):N==";"?I():N=="if"?(W.state.lexical.info=="else"&&W.state.cc[W.state.cc.length-1]==ke&&W.state.cc.pop()(),I(Fe("form"),te,He,ke,xd)):N=="function"?I(li):N=="for"?I(Fe("form"),ot,kd,He,Ge,ke):N=="class"||p&&ne=="interface"?(W.marked="keyword",I(Fe("form",N=="class"?N:ne),Tl,ke)):N=="variable"?p&&ne=="declare"?(W.marked="keyword",I(He)):p&&(ne=="module"||ne=="enum"||ne=="type")&&W.stream.match(/^\s*\w/,!1)?(W.marked="keyword",ne=="enum"?I(qi):ne=="type"?I(Cd,be("operator"),we,be(";")):I(Fe("form"),pn,be("{"),Fe("}"),Me,ke,ke)):p&&ne=="namespace"?(W.marked="keyword",I(Fe("form"),je,He,ke)):p&&ne=="abstract"?(W.marked="keyword",I(He)):I(Fe("stat"),X):N=="switch"?I(Fe("form"),te,be("{"),Fe("}","switch"),ot,Me,ke,ke,Ge):N=="case"?I(je,be(":")):N=="default"?I(be(":")):N=="catch"?I(Fe("form"),pt,Ke,He,ke,Ge):N=="export"?I(Fe("stat"),tc,ke):N=="import"?I(Fe("stat"),un,ke):N=="async"?I(He):ne=="@"?I(je,He):Q(Fe("stat"),je,be(";"),ke)}function Ke(N){if(N=="(")return I(wo,be(")"))}function je(N,ne){return re(N,ne,!1)}function gt(N,ne){return re(N,ne,!0)}function te(N){return N!="("?Q():I(Fe(")"),ce,be(")"),ke)}function re(N,ne,xe){if(W.state.fatArrowAt==W.stream.start){var De=xe?F:S;if(N=="(")return I(pt,Fe(")"),q(wo,")"),ke,be("=>"),De,Ge);if(N=="variable")return Q(pt,pn,be("=>"),De,Ge)}var ct=xe?ve:me;return B.hasOwnProperty(N)?I(ct):N=="function"?I(li,ct):N=="class"||p&&ne=="interface"?(W.marked="keyword",I(Fe("form"),Sl,ke)):N=="keyword c"||N=="async"?I(xe?gt:je):N=="("?I(Fe(")"),ce,be(")"),ke,ct):N=="operator"||N=="spread"?I(xe?gt:je):N=="["?I(Fe("]"),zt,ke,ct):N=="{"?he(fe,"}",null,ct):N=="quasi"?Q(j,ct):N=="new"?I(A(xe)):I()}function ce(N){return N.match(/[;\}\)\],]/)?Q():Q(je)}function me(N,ne){return N==","?I(ce):ve(N,ne,!1)}function ve(N,ne,xe){var De=xe==!1?me:ve,ct=xe==!1?je:gt;if(N=="=>")return I(pt,xe?F:S,Ge);if(N=="operator")return/\+\+|--/.test(ne)||p&&ne=="!"?I(De):p&&ne=="<"&&W.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?I(Fe(">"),q(we,">"),ke,De):ne=="?"?I(je,be(":"),ct):I(ct);if(N=="quasi")return Q(j,De);if(N!=";"){if(N=="(")return he(gt,")","call",De);if(N==".")return I(ae,De);if(N=="[")return I(Fe("]"),ce,be("]"),ke,De);if(p&&ne=="as")return W.marked="keyword",I(we,De);if(N=="regexp")return W.state.lastType=W.marked="operator",W.stream.backUp(W.stream.pos-W.stream.start-1),I(ct)}}function j(N,ne){return N!="quasi"?Q():ne.slice(ne.length-2)!="${"?I(j):I(ce,G)}function G(N){if(N=="}")return W.marked="string-2",W.state.tokenize=J,I(j)}function S(N){return z(W.stream,W.state),Q(N=="{"?He:je)}function F(N){return z(W.stream,W.state),Q(N=="{"?He:gt)}function A(N){return function(ne){return ne=="."?I(N?P:H):ne=="variable"&&p?I(_n,N?ve:me):Q(N?gt:je)}}function H(N,ne){if(ne=="target")return W.marked="keyword",I(me)}function P(N,ne){if(ne=="target")return W.marked="keyword",I(ve)}function X(N){return N==":"?I(ke,He):Q(me,be(";"),ke)}function ae(N){if(N=="variable")return W.marked="property",I()}function fe(N,ne){if(N=="async")return W.marked="property",I(fe);if(N=="variable"||W.style=="keyword"){if(W.marked="property",ne=="get"||ne=="set")return I(ge);var xe;return p&&W.state.fatArrowAt==W.stream.start&&(xe=W.stream.match(/^\s*:\s*/,!1))&&(W.state.fatArrowAt=W.stream.pos+xe[0].length),I(K)}else{if(N=="number"||N=="string")return W.marked=l?"property":W.style+" property",I(K);if(N=="jsonld-keyword")return I(K);if(p&&Ve(ne))return W.marked="keyword",I(fe);if(N=="[")return I(je,rt,be("]"),K);if(N=="spread")return I(gt,K);if(ne=="*")return W.marked="keyword",I(fe);if(N==":")return Q(K)}}function ge(N){return N!="variable"?Q(K):(W.marked="property",I(li))}function K(N){if(N==":")return I(gt);if(N=="(")return Q(li)}function q(N,ne,xe){function De(ct,Ot){if(xe?xe.indexOf(ct)>-1:ct==","){var Ue=W.state.lexical;return Ue.info=="call"&&(Ue.pos=(Ue.pos||0)+1),I(function(Gn,Vr){return Gn==ne||Vr==ne?Q():Q(N)},De)}return ct==ne||Ot==ne?I():xe&&xe.indexOf(";")>-1?Q(N):I(be(ne))}return function(ct,Ot){return ct==ne||Ot==ne?I():Q(N,De)}}function he(N,ne,xe){for(var De=3;De<arguments.length;De++)W.cc.push(arguments[De]);return I(Fe(ne,xe),q(N,ne),ke)}function Me(N){return N=="}"?I():Q(He,Me)}function rt(N,ne){if(p){if(N==":")return I(we);if(ne=="?")return I(rt)}}function oe(N,ne){if(p&&(N==":"||ne=="in"))return I(we)}function Pe(N){if(p&&N==":")return W.stream.match(/^\s*\w+\s+is\b/,!1)?I(je,Ae,we):I(we)}function Ae(N,ne){if(ne=="is")return W.marked="keyword",I()}function we(N,ne){if(ne=="keyof"||ne=="typeof"||ne=="infer"||ne=="readonly")return W.marked="keyword",I(ne=="typeof"?gt:we);if(N=="variable"||ne=="void")return W.marked="type",I(tn);if(ne=="|"||ne=="&")return I(we);if(N=="string"||N=="number"||N=="atom")return I(tn);if(N=="[")return I(Fe("]"),q(we,"]",","),ke,tn);if(N=="{")return I(Fe("}"),qt,ke,tn);if(N=="(")return I(q(Qt,")"),We,tn);if(N=="<")return I(q(we,">"),we);if(N=="quasi")return Q(Ft,tn)}function We(N){if(N=="=>")return I(we)}function qt(N){return N.match(/[\}\)\]]/)?I():N==","||N==";"?I(qt):Q(dt,qt)}function dt(N,ne){if(N=="variable"||W.style=="keyword")return W.marked="property",I(dt);if(ne=="?"||N=="number"||N=="string")return I(dt);if(N==":")return I(we);if(N=="[")return I(be("variable"),oe,be("]"),dt);if(N=="(")return Q(Hr,dt);if(!N.match(/[;\}\)\],]/))return I()}function Ft(N,ne){return N!="quasi"?Q():ne.slice(ne.length-2)!="${"?I(Ft):I(we,Rt)}function Rt(N){if(N=="}")return W.marked="string-2",W.state.tokenize=J,I(Ft)}function Qt(N,ne){return N=="variable"&&W.stream.match(/^\s*[?:]/,!1)||ne=="?"?I(Qt):N==":"?I(we):N=="spread"?I(Qt):Q(we)}function tn(N,ne){if(ne=="<")return I(Fe(">"),q(we,">"),ke,tn);if(ne=="|"||N=="."||ne=="&")return I(we);if(N=="[")return I(we,be("]"),tn);if(ne=="extends"||ne=="implements")return W.marked="keyword",I(we);if(ne=="?")return I(we,be(":"),we)}function _n(N,ne){if(ne=="<")return I(Fe(">"),q(we,">"),ke,tn)}function wn(){return Q(we,vr)}function vr(N,ne){if(ne=="=")return I(we)}function $r(N,ne){return ne=="enum"?(W.marked="keyword",I(qi)):Q(pn,rt,Ui,Qu)}function pn(N,ne){if(p&&Ve(ne))return W.marked="keyword",I(pn);if(N=="variable")return pe(ne),I();if(N=="spread")return I(pn);if(N=="[")return he(Zu,"]");if(N=="{")return he(ha,"}")}function ha(N,ne){return N=="variable"&&!W.stream.match(/^\s*:/,!1)?(pe(ne),I(Ui)):(N=="variable"&&(W.marked="property"),N=="spread"?I(pn):N=="}"?Q():N=="["?I(je,be("]"),be(":"),ha):I(be(":"),pn,Ui))}function Zu(){return Q(pn,Ui)}function Ui(N,ne){if(ne=="=")return I(gt)}function Qu(N){if(N==",")return I($r)}function xd(N,ne){if(N=="keyword b"&&ne=="else")return I(Fe("form","else"),He,ke)}function kd(N,ne){if(ne=="await")return I(kd);if(N=="(")return I(Fe(")"),ec,ke)}function ec(N){return N=="var"?I($r,as):N=="variable"?I(as):Q(as)}function as(N,ne){return N==")"?I():N==";"?I(as):ne=="in"||ne=="of"?(W.marked="keyword",I(je,as)):Q(je,as)}function li(N,ne){if(ne=="*")return W.marked="keyword",I(li);if(N=="variable")return pe(ne),I(li);if(N=="(")return I(pt,Fe(")"),q(wo,")"),ke,Pe,He,Ge);if(p&&ne=="<")return I(Fe(">"),q(wn,">"),ke,li)}function Hr(N,ne){if(ne=="*")return W.marked="keyword",I(Hr);if(N=="variable")return pe(ne),I(Hr);if(N=="(")return I(pt,Fe(")"),q(wo,")"),ke,Pe,Ge);if(p&&ne=="<")return I(Fe(">"),q(wn,">"),ke,Hr)}function Cd(N,ne){if(N=="keyword"||N=="variable")return W.marked="type",I(Cd);if(ne=="<")return I(Fe(">"),q(wn,">"),ke)}function wo(N,ne){return ne=="@"&&I(je,wo),N=="spread"?I(wo):p&&Ve(ne)?(W.marked="keyword",I(wo)):p&&N=="this"?I(rt,Ui):Q(pn,rt,Ui)}function Sl(N,ne){return N=="variable"?Tl(N,ne):Si(N,ne)}function Tl(N,ne){if(N=="variable")return pe(ne),I(Si)}function Si(N,ne){if(ne=="<")return I(Fe(">"),q(wn,">"),ke,Si);if(ne=="extends"||ne=="implements"||p&&N==",")return ne=="implements"&&(W.marked="keyword"),I(p?we:je,Si);if(N=="{")return I(Fe("}"),Ti,ke)}function Ti(N,ne){if(N=="async"||N=="variable"&&(ne=="static"||ne=="get"||ne=="set"||p&&Ve(ne))&&W.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return W.marked="keyword",I(Ti);if(N=="variable"||W.style=="keyword")return W.marked="property",I(jr,Ti);if(N=="number"||N=="string")return I(jr,Ti);if(N=="[")return I(je,rt,be("]"),jr,Ti);if(ne=="*")return W.marked="keyword",I(Ti);if(p&&N=="(")return Q(Hr,Ti);if(N==";"||N==",")return I(Ti);if(N=="}")return I();if(ne=="@")return I(je,Ti)}function jr(N,ne){if(ne=="!"||ne=="?")return I(jr);if(N==":")return I(we,Ui);if(ne=="=")return I(gt);var xe=W.state.lexical.prev,De=xe&&xe.info=="interface";return Q(De?Hr:li)}function tc(N,ne){return ne=="*"?(W.marked="keyword",I(Ar,be(";"))):ne=="default"?(W.marked="keyword",I(je,be(";"))):N=="{"?I(q(nc,"}"),Ar,be(";")):Q(He)}function nc(N,ne){if(ne=="as")return W.marked="keyword",I(be("variable"));if(N=="variable")return Q(gt,nc)}function un(N){return N=="string"?I():N=="("?Q(je):N=="."?Q(me):Q(Je,Ki,Ar)}function Je(N,ne){return N=="{"?he(Je,"}"):(N=="variable"&&pe(ne),ne=="*"&&(W.marked="keyword"),I(rc))}function Ki(N){if(N==",")return I(Je,Ki)}function rc(N,ne){if(ne=="as")return W.marked="keyword",I(Je)}function Ar(N,ne){if(ne=="from")return W.marked="keyword",I(je)}function zt(N){return N=="]"?I():Q(q(gt,"]"))}function qi(){return Q(Fe("form"),pn,be("{"),Fe("}"),q(pa,"}"),ke,ke)}function pa(){return Q(pn,Ui)}function ic(N,ne){return N.lastType=="operator"||N.lastType==","||b.test(ne.charAt(0))||/[,.]/.test(ne.charAt(0))}function Ee(N,ne,xe){return ne.tokenize==R&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ne.lastType)||ne.lastType=="quasi"&&/\{\s*$/.test(N.string.slice(0,N.pos-(xe||0)))}return{startState:function(N){var ne={tokenize:R,lastType:"sof",cc:[],lexical:new L((N||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new tt(null,null,!1),indented:N||0};return i.globalVars&&typeof i.globalVars=="object"&&(ne.globalVars=i.globalVars),ne},token:function(N,ne){if(N.sol()&&(ne.lexical.hasOwnProperty("align")||(ne.lexical.align=!1),ne.indented=N.indentation(),z(N,ne)),ne.tokenize!=Y&&N.eatSpace())return null;var xe=ne.tokenize(N,ne);return D=="comment"?xe:(ne.lastType=D=="operator"&&(E=="++"||E=="--")?"incdec":D,ie(ne,xe,D,E,N))},indent:function(N,ne){if(N.tokenize==Y||N.tokenize==J)return n.Pass;if(N.tokenize!=R)return 0;var xe=ne&&ne.charAt(0),De=N.lexical,ct;if(!/^\s*else\b/.test(ne))for(var Ot=N.cc.length-1;Ot>=0;--Ot){var Ue=N.cc[Ot];if(Ue==ke)De=De.prev;else if(Ue!=xd&&Ue!=Ge)break}for(;(De.type=="stat"||De.type=="form")&&(xe=="}"||(ct=N.cc[N.cc.length-1])&&(ct==me||ct==ve)&&!/^[,\.=+\-*:?[\(]/.test(ne));)De=De.prev;s&&De.type==")"&&De.prev.type=="stat"&&(De=De.prev);var Gn=De.type,Vr=xe==Gn;return Gn=="vardef"?De.indented+(N.lastType=="operator"||N.lastType==","?De.info.length+1:0):Gn=="form"&&xe=="{"?De.indented:Gn=="form"?De.indented+o:Gn=="stat"?De.indented+(ic(N,ne)?s||o:0):De.info=="switch"&&!Vr&&i.doubleIndentSwitch!=!1?De.indented+(/^(?:case|default)\b/.test(ne)?o:2*o):De.align?De.column+(Vr?0:1):De.indented+(Vr?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:c?null:"/*",blockCommentEnd:c?null:"*/",blockCommentContinue:c?null:" * ",lineComment:c?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:c?"json":"javascript",jsonldMode:l,jsonMode:c,expressionAllowed:Ee,skipExpression:function(N){ie(N,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();var xQ={exports:{}};(function(e,t){(function(n){n(gr.exports)})(function(n){n.defineMode("coffeescript",function(r,i){var o="error";function s(L){return new RegExp("^(("+L.join(")|(")+"))\\b")}var l=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,c=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,h=/^[_A-Za-z$][_A-Za-z$0-9]*/,p=/^@[_A-Za-z$][_A-Za-z$0-9]*/,m=s(["and","or","not","is","isnt","in","instanceof","typeof"]),v=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],b=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],_=s(v.concat(b));v=s(v);var x=/^('{3}|\"{3}|['\"])/,D=/^(\/{3}|\/)/,E=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],T=s(E);function R(L,V){if(L.sol()){V.scope.align===null&&(V.scope.align=!1);var ie=V.scope.offset;if(L.eatSpace()){var W=L.indentation();return W>ie&&V.scope.type=="coffee"?"indent":W<ie?"dedent":null}else ie>0&&Z(L,V)}if(L.eatSpace())return null;var Q=L.peek();if(L.match("####"))return L.skipToEnd(),"comment";if(L.match("###"))return V.tokenize=Y,V.tokenize(L,V);if(Q==="#")return L.skipToEnd(),"comment";if(L.match(/^-?[0-9\.]/,!1)){var I=!1;if(L.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(I=!0),L.match(/^-?\d+\.\d*/)&&(I=!0),L.match(/^-?\.\d+/)&&(I=!0),I)return L.peek()=="."&&L.backUp(1),"number";var de=!1;if(L.match(/^-?0x[0-9a-f]+/i)&&(de=!0),L.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(de=!0),L.match(/^-?0(?![\dx])/i)&&(de=!0),de)return"number"}if(L.match(x))return V.tokenize=M(L.current(),!1,"string"),V.tokenize(L,V);if(L.match(D)){if(L.current()!="/"||L.match(/^.*\//,!1))return V.tokenize=M(L.current(),!0,"string-2"),V.tokenize(L,V);L.backUp(1)}return L.match(l)||L.match(m)?"operator":L.match(c)?"punctuation":L.match(T)?"atom":L.match(p)||V.prop&&L.match(h)?"property":L.match(_)?"keyword":L.match(h)?"variable":(L.next(),o)}function M(L,V,ie){return function(W,Q){for(;!W.eol();)if(W.eatWhile(/[^'"\/\\]/),W.eat("\\")){if(W.next(),V&&W.eol())return ie}else{if(W.match(L))return Q.tokenize=R,ie;W.eat(/['"\/]/)}return V&&(i.singleLineStringErrors?ie=o:Q.tokenize=R),ie}}function Y(L,V){for(;!L.eol();){if(L.eatWhile(/[^#]/),L.match("###")){V.tokenize=R;break}L.eatWhile("#")}return"comment"}function J(L,V,ie){ie=ie||"coffee";for(var W=0,Q=!1,I=null,de=V.scope;de;de=de.prev)if(de.type==="coffee"||de.type=="}"){W=de.offset+r.indentUnit;break}ie!=="coffee"?(Q=null,I=L.column()+L.current().length):V.scope.align&&(V.scope.align=!1),V.scope={offset:W,type:ie,prev:V.scope,align:Q,alignOffset:I}}function Z(L,V){if(!!V.scope.prev)if(V.scope.type==="coffee"){for(var ie=L.indentation(),W=!1,Q=V.scope;Q;Q=Q.prev)if(ie===Q.offset){W=!0;break}if(!W)return!0;for(;V.scope.prev&&V.scope.offset!==ie;)V.scope=V.scope.prev;return!1}else return V.scope=V.scope.prev,!1}function z(L,V){var ie=V.tokenize(L,V),W=L.current();W==="return"&&(V.dedent=!0),((W==="->"||W==="=>")&&L.eol()||ie==="indent")&&J(L,V);var Q="[({".indexOf(W);if(Q!==-1&&J(L,V,"])}".slice(Q,Q+1)),v.exec(W)&&J(L,V),W=="then"&&Z(L,V),ie==="dedent"&&Z(L,V))return o;if(Q="])}".indexOf(W),Q!==-1){for(;V.scope.type=="coffee"&&V.scope.prev;)V.scope=V.scope.prev;V.scope.type==W&&(V.scope=V.scope.prev)}return V.dedent&&L.eol()&&(V.scope.type=="coffee"&&V.scope.prev&&(V.scope=V.scope.prev),V.dedent=!1),ie}var B={startState:function(L){return{tokenize:R,scope:{offset:L||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(L,V){var ie=V.scope.align===null&&V.scope;ie&&L.sol()&&(ie.align=!1);var W=z(L,V);return W&&W!="comment"&&(ie&&(ie.align=!0),V.prop=W=="punctuation"&&L.current()=="."),W},indent:function(L,V){if(L.tokenize!=R)return 0;var ie=L.scope,W=V&&"])}".indexOf(V.charAt(0))>-1;if(W)for(;ie.type=="coffee"&&ie.prev;)ie=ie.prev;var Q=W&&ie.type===V.charAt(0);return ie.align?ie.alignOffset-(Q?1:0):(Q?ie.prev:ie).offset},lineComment:"#",fold:"indent"};return B}),n.defineMIME("application/vnd.coffeescript","coffeescript"),n.defineMIME("text/x-coffeescript","coffeescript"),n.defineMIME("text/coffeescript","coffeescript")})})();var ym={exports:{}};(function(e,t){(function(n){n(gr.exports)})(function(n){n.defineMode("css",function(L,V){var ie=V.inline;V.propertyKeywords||(V=n.resolveMode("text/css"));var W=L.indentUnit,Q=V.tokenHooks,I=V.documentTypes||{},de=V.mediaTypes||{},pe=V.mediaFeatures||{},Se=V.mediaValueKeywords||{},Ve=V.propertyKeywords||{},tt=V.nonStandardPropertyKeywords||{},yt=V.fontProperties||{},Mt=V.counterDescriptors||{},pt=V.colorKeywords||{},ot=V.valueKeywords||{},Ge=V.allowNested,Fe=V.lineComment,ke=V.supportsAtComponent===!0,be=L.highlightNonStandardPropertyKeywords!==!1,He,Ke;function je(A,H){return He=H,A}function gt(A,H){var P=A.next();if(Q[P]){var X=Q[P](A,H);if(X!==!1)return X}if(P=="@")return A.eatWhile(/[\w\\\-]/),je("def",A.current());if(P=="="||(P=="~"||P=="|")&&A.eat("="))return je(null,"compare");if(P=='"'||P=="'")return H.tokenize=te(P),H.tokenize(A,H);if(P=="#")return A.eatWhile(/[\w\\\-]/),je("atom","hash");if(P=="!")return A.match(/^\s*\w*/),je("keyword","important");if(/\d/.test(P)||P=="."&&A.eat(/\d/))return A.eatWhile(/[\w.%]/),je("number","unit");if(P==="-"){if(/[\d.]/.test(A.peek()))return A.eatWhile(/[\w.%]/),je("number","unit");if(A.match(/^-[\w\\\-]*/))return A.eatWhile(/[\w\\\-]/),A.match(/^\s*:/,!1)?je("variable-2","variable-definition"):je("variable-2","variable");if(A.match(/^\w+-/))return je("meta","meta")}else return/[,+>*\/]/.test(P)?je(null,"select-op"):P=="."&&A.match(/^-?[_a-z][_a-z0-9-]*/i)?je("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(P)?je(null,P):A.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(A.current())&&(H.tokenize=re),je("variable callee","variable")):/[\w\\\-]/.test(P)?(A.eatWhile(/[\w\\\-]/),je("property","word")):je(null,null)}function te(A){return function(H,P){for(var X=!1,ae;(ae=H.next())!=null;){if(ae==A&&!X){A==")"&&H.backUp(1);break}X=!X&&ae=="\\"}return(ae==A||!X&&A!=")")&&(P.tokenize=null),je("string","string")}}function re(A,H){return A.next(),A.match(/^\s*[\"\')]/,!1)?H.tokenize=null:H.tokenize=te(")"),je(null,"(")}function ce(A,H,P){this.type=A,this.indent=H,this.prev=P}function me(A,H,P,X){return A.context=new ce(P,H.indentation()+(X===!1?0:W),A.context),P}function ve(A){return A.context.prev&&(A.context=A.context.prev),A.context.type}function j(A,H,P){return F[P.context.type](A,H,P)}function G(A,H,P,X){for(var ae=X||1;ae>0;ae--)P.context=P.context.prev;return j(A,H,P)}function S(A){var H=A.current().toLowerCase();ot.hasOwnProperty(H)?Ke="atom":pt.hasOwnProperty(H)?Ke="keyword":Ke="variable"}var F={};return F.top=function(A,H,P){if(A=="{")return me(P,H,"block");if(A=="}"&&P.context.prev)return ve(P);if(ke&&/@component/i.test(A))return me(P,H,"atComponentBlock");if(/^@(-moz-)?document$/i.test(A))return me(P,H,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(A))return me(P,H,"atBlock");if(/^@(font-face|counter-style)/i.test(A))return P.stateArg=A,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(A))return"keyframes";if(A&&A.charAt(0)=="@")return me(P,H,"at");if(A=="hash")Ke="builtin";else if(A=="word")Ke="tag";else{if(A=="variable-definition")return"maybeprop";if(A=="interpolation")return me(P,H,"interpolation");if(A==":")return"pseudo";if(Ge&&A=="(")return me(P,H,"parens")}return P.context.type},F.block=function(A,H,P){if(A=="word"){var X=H.current().toLowerCase();return Ve.hasOwnProperty(X)?(Ke="property","maybeprop"):tt.hasOwnProperty(X)?(Ke=be?"string-2":"property","maybeprop"):Ge?(Ke=H.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ke+=" error","maybeprop")}else return A=="meta"?"block":!Ge&&(A=="hash"||A=="qualifier")?(Ke="error","block"):F.top(A,H,P)},F.maybeprop=function(A,H,P){return A==":"?me(P,H,"prop"):j(A,H,P)},F.prop=function(A,H,P){if(A==";")return ve(P);if(A=="{"&&Ge)return me(P,H,"propBlock");if(A=="}"||A=="{")return G(A,H,P);if(A=="(")return me(P,H,"parens");if(A=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(H.current()))Ke+=" error";else if(A=="word")S(H);else if(A=="interpolation")return me(P,H,"interpolation");return"prop"},F.propBlock=function(A,H,P){return A=="}"?ve(P):A=="word"?(Ke="property","maybeprop"):P.context.type},F.parens=function(A,H,P){return A=="{"||A=="}"?G(A,H,P):A==")"?ve(P):A=="("?me(P,H,"parens"):A=="interpolation"?me(P,H,"interpolation"):(A=="word"&&S(H),"parens")},F.pseudo=function(A,H,P){return A=="meta"?"pseudo":A=="word"?(Ke="variable-3",P.context.type):j(A,H,P)},F.documentTypes=function(A,H,P){return A=="word"&&I.hasOwnProperty(H.current())?(Ke="tag",P.context.type):F.atBlock(A,H,P)},F.atBlock=function(A,H,P){if(A=="(")return me(P,H,"atBlock_parens");if(A=="}"||A==";")return G(A,H,P);if(A=="{")return ve(P)&&me(P,H,Ge?"block":"top");if(A=="interpolation")return me(P,H,"interpolation");if(A=="word"){var X=H.current().toLowerCase();X=="only"||X=="not"||X=="and"||X=="or"?Ke="keyword":de.hasOwnProperty(X)?Ke="attribute":pe.hasOwnProperty(X)?Ke="property":Se.hasOwnProperty(X)?Ke="keyword":Ve.hasOwnProperty(X)?Ke="property":tt.hasOwnProperty(X)?Ke=be?"string-2":"property":ot.hasOwnProperty(X)?Ke="atom":pt.hasOwnProperty(X)?Ke="keyword":Ke="error"}return P.context.type},F.atComponentBlock=function(A,H,P){return A=="}"?G(A,H,P):A=="{"?ve(P)&&me(P,H,Ge?"block":"top",!1):(A=="word"&&(Ke="error"),P.context.type)},F.atBlock_parens=function(A,H,P){return A==")"?ve(P):A=="{"||A=="}"?G(A,H,P,2):F.atBlock(A,H,P)},F.restricted_atBlock_before=function(A,H,P){return A=="{"?me(P,H,"restricted_atBlock"):A=="word"&&P.stateArg=="@counter-style"?(Ke="variable","restricted_atBlock_before"):j(A,H,P)},F.restricted_atBlock=function(A,H,P){return A=="}"?(P.stateArg=null,ve(P)):A=="word"?(P.stateArg=="@font-face"&&!yt.hasOwnProperty(H.current().toLowerCase())||P.stateArg=="@counter-style"&&!Mt.hasOwnProperty(H.current().toLowerCase())?Ke="error":Ke="property","maybeprop"):"restricted_atBlock"},F.keyframes=function(A,H,P){return A=="word"?(Ke="variable","keyframes"):A=="{"?me(P,H,"top"):j(A,H,P)},F.at=function(A,H,P){return A==";"?ve(P):A=="{"||A=="}"?G(A,H,P):(A=="word"?Ke="tag":A=="hash"&&(Ke="builtin"),"at")},F.interpolation=function(A,H,P){return A=="}"?ve(P):A=="{"||A==";"?G(A,H,P):(A=="word"?Ke="variable":A!="variable"&&A!="("&&A!=")"&&(Ke="error"),"interpolation")},{startState:function(A){return{tokenize:null,state:ie?"block":"top",stateArg:null,context:new ce(ie?"block":"top",A||0,null)}},token:function(A,H){if(!H.tokenize&&A.eatSpace())return null;var P=(H.tokenize||gt)(A,H);return P&&typeof P=="object"&&(He=P[1],P=P[0]),Ke=P,He!="comment"&&(H.state=F[H.state](He,A,H)),Ke},indent:function(A,H){var P=A.context,X=H&&H.charAt(0),ae=P.indent;return P.type=="prop"&&(X=="}"||X==")")&&(P=P.prev),P.prev&&(X=="}"&&(P.type=="block"||P.type=="top"||P.type=="interpolation"||P.type=="restricted_atBlock")?(P=P.prev,ae=P.indent):(X==")"&&(P.type=="parens"||P.type=="atBlock_parens")||X=="{"&&(P.type=="at"||P.type=="atBlock"))&&(ae=Math.max(0,P.indent-W))),ae},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Fe,fold:"brace"}});function r(L){for(var V={},ie=0;ie<L.length;++ie)V[L[ie].toLowerCase()]=!0;return V}var i=["domain","regexp","url","url-prefix"],o=r(i),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],l=r(s),c=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],h=r(c),p=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],m=r(p),v=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],b=r(v),_=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],x=r(_),D=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],E=r(D),T=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],R=r(T),M=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],Y=r(M),J=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],Z=r(J),z=i.concat(s).concat(c).concat(p).concat(v).concat(_).concat(M).concat(J);n.registerHelper("hintWords","css",z);function B(L,V){for(var ie=!1,W;(W=L.next())!=null;){if(ie&&W=="/"){V.tokenize=null;break}ie=W=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:o,mediaTypes:l,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:b,nonStandardPropertyKeywords:x,fontProperties:E,counterDescriptors:R,colorKeywords:Y,valueKeywords:Z,tokenHooks:{"/":function(L,V){return L.eat("*")?(V.tokenize=B,B(L,V)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:l,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:b,nonStandardPropertyKeywords:x,colorKeywords:Y,valueKeywords:Z,fontProperties:E,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(L,V){return L.eat("/")?(L.skipToEnd(),["comment","comment"]):L.eat("*")?(V.tokenize=B,B(L,V)):["operator","operator"]},":":function(L){return L.match(/^\s*\{/,!1)?[null,null]:!1},$:function(L){return L.match(/^[\w-]+/),L.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(L){return L.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:l,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:b,nonStandardPropertyKeywords:x,colorKeywords:Y,valueKeywords:Z,fontProperties:E,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(L,V){return L.eat("/")?(L.skipToEnd(),["comment","comment"]):L.eat("*")?(V.tokenize=B,B(L,V)):["operator","operator"]},"@":function(L){return L.eat("{")?[null,"interpolation"]:L.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(L.eatWhile(/[\w\\\-]/),L.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:o,mediaTypes:l,mediaFeatures:h,propertyKeywords:b,nonStandardPropertyKeywords:x,fontProperties:E,counterDescriptors:R,colorKeywords:Y,valueKeywords:Z,supportsAtComponent:!0,tokenHooks:{"/":function(L,V){return L.eat("*")?(V.tokenize=B,B(L,V)):!1}},name:"css",helperType:"gss"})})})();var kQ={exports:{}};(function(e,t){(function(n){n(gr.exports,ym.exports)})(function(n){n.defineMode("sass",function(r){var i=n.mimeModes["text/css"],o=i.propertyKeywords||{},s=i.colorKeywords||{},l=i.valueKeywords||{},c=i.fontProperties||{};function h(B){return new RegExp("^"+B.join("|"))}var p=["true","false","null","auto"],m=new RegExp("^"+p.join("|")),v=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],b=h(v),_=/^::?[a-zA-Z_][\w\-]*/,x;function D(B){return!B.peek()||B.match(/\s+$/,!1)}function E(B,L){var V=B.peek();return V===")"?(B.next(),L.tokenizer=Z,"operator"):V==="("?(B.next(),B.eatSpace(),"operator"):V==="'"||V==='"'?(L.tokenizer=R(B.next()),"string"):(L.tokenizer=R(")",!1),"string")}function T(B,L){return function(V,ie){return V.sol()&&V.indentation()<=B?(ie.tokenizer=Z,Z(V,ie)):(L&&V.skipTo("*/")?(V.next(),V.next(),ie.tokenizer=Z):V.skipToEnd(),"comment")}}function R(B,L){L==null&&(L=!0);function V(ie,W){var Q=ie.next(),I=ie.peek(),de=ie.string.charAt(ie.pos-2),pe=Q!=="\\"&&I===B||Q===B&&de!=="\\";return pe?(Q!==B&&L&&ie.next(),D(ie)&&(W.cursorHalf=0),W.tokenizer=Z,"string"):Q==="#"&&I==="{"?(W.tokenizer=M(V),ie.next(),"operator"):"string"}return V}function M(B){return function(L,V){return L.peek()==="}"?(L.next(),V.tokenizer=B,"operator"):Z(L,V)}}function Y(B){if(B.indentCount==0){B.indentCount++;var L=B.scopes[0].offset,V=L+r.indentUnit;B.scopes.unshift({offset:V})}}function J(B){B.scopes.length!=1&&B.scopes.shift()}function Z(B,L){var V=B.peek();if(B.match("/*"))return L.tokenizer=T(B.indentation(),!0),L.tokenizer(B,L);if(B.match("//"))return L.tokenizer=T(B.indentation(),!1),L.tokenizer(B,L);if(B.match("#{"))return L.tokenizer=M(Z),"operator";if(V==='"'||V==="'")return B.next(),L.tokenizer=R(V),"string";if(L.cursorHalf){if(V==="#"&&(B.next(),B.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))||B.match(/^-?[0-9\.]+/))return D(B)&&(L.cursorHalf=0),"number";if(B.match(/^(px|em|in)\b/))return D(B)&&(L.cursorHalf=0),"unit";if(B.match(m))return D(B)&&(L.cursorHalf=0),"keyword";if(B.match(/^url/)&&B.peek()==="(")return L.tokenizer=E,D(B)&&(L.cursorHalf=0),"atom";if(V==="$")return B.next(),B.eatWhile(/[\w-]/),D(B)&&(L.cursorHalf=0),"variable-2";if(V==="!")return B.next(),L.cursorHalf=0,B.match(/^[\w]+/)?"keyword":"operator";if(B.match(b))return D(B)&&(L.cursorHalf=0),"operator";if(B.eatWhile(/[\w-]/))return D(B)&&(L.cursorHalf=0),x=B.current().toLowerCase(),l.hasOwnProperty(x)?"atom":s.hasOwnProperty(x)?"keyword":o.hasOwnProperty(x)?(L.prevProp=B.current().toLowerCase(),"property"):"tag";if(D(B))return L.cursorHalf=0,null}else{if(V==="-"&&B.match(/^-\w+-/))return"meta";if(V==="."){if(B.next(),B.match(/^[\w-]+/))return Y(L),"qualifier";if(B.peek()==="#")return Y(L),"tag"}if(V==="#"){if(B.next(),B.match(/^[\w-]+/))return Y(L),"builtin";if(B.peek()==="#")return Y(L),"tag"}if(V==="$")return B.next(),B.eatWhile(/[\w-]/),"variable-2";if(B.match(/^-?[0-9\.]+/))return"number";if(B.match(/^(px|em|in)\b/))return"unit";if(B.match(m))return"keyword";if(B.match(/^url/)&&B.peek()==="(")return L.tokenizer=E,"atom";if(V==="="&&B.match(/^=[\w-]+/))return Y(L),"meta";if(V==="+"&&B.match(/^\+[\w-]+/))return"variable-3";if(V==="@"&&B.match("@extend")&&(B.match(/\s*[\w]/)||J(L)),B.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return Y(L),"def";if(V==="@")return B.next(),B.eatWhile(/[\w-]/),"def";if(B.eatWhile(/[\w-]/))if(B.match(/ *: *[\w-\+\$#!\("']/,!1)){x=B.current().toLowerCase();var ie=L.prevProp+"-"+x;return o.hasOwnProperty(ie)?"property":o.hasOwnProperty(x)?(L.prevProp=x,"property"):c.hasOwnProperty(x)?"property":"tag"}else return B.match(/ *:/,!1)?(Y(L),L.cursorHalf=1,L.prevProp=B.current().toLowerCase(),"property"):(B.match(/ *,/,!1)||Y(L),"tag");if(V===":")return B.match(_)?"variable-3":(B.next(),L.cursorHalf=1,"operator")}return B.match(b)?"operator":(B.next(),null)}function z(B,L){B.sol()&&(L.indentCount=0);var V=L.tokenizer(B,L),ie=B.current();if((ie==="@return"||ie==="}")&&J(L),V!==null){for(var W=B.pos-ie.length,Q=W+r.indentUnit*L.indentCount,I=[],de=0;de<L.scopes.length;de++){var pe=L.scopes[de];pe.offset<=Q&&I.push(pe)}L.scopes=I}return V}return{startState:function(){return{tokenizer:Z,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(B,L){var V=z(B,L);return L.lastToken={style:V,content:B.current()},V},indent:function(B){return B.scopes[0].offset},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"indent"}},"css"),n.defineMIME("text/x-sass","sass")})})();var CQ={exports:{}};(function(e,t){(function(n){n(gr.exports)})(function(n){n.defineMode("stylus",function(M){for(var Y=M.indentUnit,J="",Z=T(r),z=/^(a|b|i|s|col|em)$/i,B=T(l),L=T(c),V=T(m),ie=T(p),W=T(i),Q=E(i),I=T(s),de=T(o),pe=T(h),Se=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,Ve=E(v),tt=T(b),yt=new RegExp(/^\-(moz|ms|o|webkit)-/i),Mt=T(_),pt="",ot={},Ge,Fe,ke,be;J.length<Y;)J+=" ";function He(K,q){if(pt=K.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),q.context.line.firstWord=pt?pt[0].replace(/^\s*/,""):"",q.context.line.indent=K.indentation(),Ge=K.peek(),K.match("//"))return K.skipToEnd(),["comment","comment"];if(K.match("/*"))return q.tokenize=Ke,Ke(K,q);if(Ge=='"'||Ge=="'")return K.next(),q.tokenize=je(Ge),q.tokenize(K,q);if(Ge=="@")return K.next(),K.eatWhile(/[\w\\-]/),["def",K.current()];if(Ge=="#"){if(K.next(),K.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(K.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return K.match(yt)?["meta","vendor-prefixes"]:K.match(/^-?[0-9]?\.?[0-9]/)?(K.eatWhile(/[a-z%]/i),["number","unit"]):Ge=="!"?(K.next(),[K.match(/^(important|optional)/i)?"keyword":"operator","important"]):Ge=="."&&K.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:K.match(Q)?(K.peek()=="("&&(q.tokenize=gt),["property","word"]):K.match(/^[a-z][\w-]*\(/i)?(K.backUp(1),["keyword","mixin"]):K.match(/^(\+|-)[a-z][\w-]*\(/i)?(K.backUp(1),["keyword","block-mixin"]):K.string.match(/^\s*&/)&&K.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:K.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(K.backUp(1),["variable-3","reference"]):K.match(/^&{1}\s*$/)?["variable-3","reference"]:K.match(Ve)?["operator","operator"]:K.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?K.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!j(K.current())?(K.match("."),["variable-2","variable-name"]):["variable-2","word"]:K.match(Se)?["operator",K.current()]:/[:;,{}\[\]\(\)]/.test(Ge)?(K.next(),[null,Ge]):(K.next(),[null,null])}function Ke(K,q){for(var he=!1,Me;(Me=K.next())!=null;){if(he&&Me=="/"){q.tokenize=null;break}he=Me=="*"}return["comment","comment"]}function je(K){return function(q,he){for(var Me=!1,rt;(rt=q.next())!=null;){if(rt==K&&!Me){K==")"&&q.backUp(1);break}Me=!Me&&rt=="\\"}return(rt==K||!Me&&K!=")")&&(he.tokenize=null),["string","string"]}}function gt(K,q){return K.next(),K.match(/\s*[\"\')]/,!1)?q.tokenize=null:q.tokenize=je(")"),[null,"("]}function te(K,q,he,Me){this.type=K,this.indent=q,this.prev=he,this.line=Me||{firstWord:"",indent:0}}function re(K,q,he,Me){return Me=Me>=0?Me:Y,K.context=new te(he,q.indentation()+Me,K.context),he}function ce(K,q){var he=K.context.indent-Y;return q=q||!1,K.context=K.context.prev,q&&(K.context.indent=he),K.context.type}function me(K,q,he){return ot[he.context.type](K,q,he)}function ve(K,q,he,Me){for(var rt=Me||1;rt>0;rt--)he.context=he.context.prev;return me(K,q,he)}function j(K){return K.toLowerCase()in Z}function G(K){return K=K.toLowerCase(),K in B||K in pe}function S(K){return K.toLowerCase()in tt}function F(K){return K.toLowerCase().match(yt)}function A(K){var q=K.toLowerCase(),he="variable-2";return j(K)?he="tag":S(K)?he="block-keyword":G(K)?he="property":q in V||q in Mt?he="atom":q=="return"||q in ie?he="keyword":K.match(/^[A-Z]/)&&(he="string"),he}function H(K,q){return fe(q)&&(K=="{"||K=="]"||K=="hash"||K=="qualifier")||K=="block-mixin"}function P(K,q){return K=="{"&&q.match(/^\s*\$?[\w-]+/i,!1)}function X(K,q){return K==":"&&q.match(/^[a-z-]+/,!1)}function ae(K){return K.sol()||K.string.match(new RegExp("^\\s*"+R(K.current())))}function fe(K){return K.eol()||K.match(/^\s*$/,!1)}function ge(K){var q=/^\s*[-_]*[a-z0-9]+[\w-]*/i,he=typeof K=="string"?K.match(q):K.string.match(q);return he?he[0].replace(/^\s*/,""):""}return ot.block=function(K,q,he){if(K=="comment"&&ae(q)||K==","&&fe(q)||K=="mixin")return re(he,q,"block",0);if(P(K,q))return re(he,q,"interpolation");if(fe(q)&&K=="]"&&!/^\s*(\.|#|:|\[|\*|&)/.test(q.string)&&!j(ge(q)))return re(he,q,"block",0);if(H(K,q))return re(he,q,"block");if(K=="}"&&fe(q))return re(he,q,"block",0);if(K=="variable-name")return q.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||S(ge(q))?re(he,q,"variableName"):re(he,q,"variableName",0);if(K=="=")return!fe(q)&&!S(ge(q))?re(he,q,"block",0):re(he,q,"block");if(K=="*"&&(fe(q)||q.match(/\s*(,|\.|#|\[|:|{)/,!1)))return be="tag",re(he,q,"block");if(X(K,q))return re(he,q,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(K))return re(he,q,fe(q)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(K))return re(he,q,"keyframes");if(/@extends?/.test(K))return re(he,q,"extend",0);if(K&&K.charAt(0)=="@")return q.indentation()>0&&G(q.current().slice(1))?(be="variable-2","block"):/(@import|@require|@charset)/.test(K)?re(he,q,"block",0):re(he,q,"block");if(K=="reference"&&fe(q))return re(he,q,"block");if(K=="(")return re(he,q,"parens");if(K=="vendor-prefixes")return re(he,q,"vendorPrefixes");if(K=="word"){var Me=q.current();if(be=A(Me),be=="property")return ae(q)?re(he,q,"block",0):(be="atom","block");if(be=="tag"){if(/embed|menu|pre|progress|sub|table/.test(Me)&&G(ge(q))||q.string.match(new RegExp("\\[\\s*"+Me+"|"+Me+"\\s*\\]")))return be="atom","block";if(z.test(Me)&&(ae(q)&&q.string.match(/=/)||!ae(q)&&!q.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!j(ge(q))))return be="variable-2",S(ge(q))?"block":re(he,q,"block",0);if(fe(q))return re(he,q,"block")}if(be=="block-keyword")return be="keyword",q.current(/(if|unless)/)&&!ae(q)?"block":re(he,q,"block");if(Me=="return")return re(he,q,"block",0);if(be=="variable-2"&&q.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return re(he,q,"block")}return he.context.type},ot.parens=function(K,q,he){if(K=="(")return re(he,q,"parens");if(K==")")return he.context.prev.type=="parens"?ce(he):q.string.match(/^[a-z][\w-]*\(/i)&&fe(q)||S(ge(q))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(ge(q))||!q.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&j(ge(q))?re(he,q,"block"):q.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||q.string.match(/^\s*(\(|\)|[0-9])/)||q.string.match(/^\s+[a-z][\w-]*\(/i)||q.string.match(/^\s+[\$-]?[a-z]/i)?re(he,q,"block",0):fe(q)?re(he,q,"block"):re(he,q,"block",0);if(K&&K.charAt(0)=="@"&&G(q.current().slice(1))&&(be="variable-2"),K=="word"){var Me=q.current();be=A(Me),be=="tag"&&z.test(Me)&&(be="variable-2"),(be=="property"||Me=="to")&&(be="atom")}return K=="variable-name"?re(he,q,"variableName"):X(K,q)?re(he,q,"pseudo"):he.context.type},ot.vendorPrefixes=function(K,q,he){return K=="word"?(be="property",re(he,q,"block",0)):ce(he)},ot.pseudo=function(K,q,he){return G(ge(q.string))?ve(K,q,he):(q.match(/^[a-z-]+/),be="variable-3",fe(q)?re(he,q,"block"):ce(he))},ot.atBlock=function(K,q,he){if(K=="(")return re(he,q,"atBlock_parens");if(H(K,q))return re(he,q,"block");if(P(K,q))return re(he,q,"interpolation");if(K=="word"){var Me=q.current().toLowerCase();if(/^(only|not|and|or)$/.test(Me)?be="keyword":W.hasOwnProperty(Me)?be="tag":de.hasOwnProperty(Me)?be="attribute":I.hasOwnProperty(Me)?be="property":L.hasOwnProperty(Me)?be="string-2":be=A(q.current()),be=="tag"&&fe(q))return re(he,q,"block")}return K=="operator"&&/^(not|and|or)$/.test(q.current())&&(be="keyword"),he.context.type},ot.atBlock_parens=function(K,q,he){if(K=="{"||K=="}")return he.context.type;if(K==")")return fe(q)?re(he,q,"block"):re(he,q,"atBlock");if(K=="word"){var Me=q.current().toLowerCase();return be=A(Me),/^(max|min)/.test(Me)&&(be="property"),be=="tag"&&(z.test(Me)?be="variable-2":be="atom"),he.context.type}return ot.atBlock(K,q,he)},ot.keyframes=function(K,q,he){return q.indentation()=="0"&&(K=="}"&&ae(q)||K=="]"||K=="hash"||K=="qualifier"||j(q.current()))?ve(K,q,he):K=="{"?re(he,q,"keyframes"):K=="}"?ae(q)?ce(he,!0):re(he,q,"keyframes"):K=="unit"&&/^[0-9]+\%$/.test(q.current())?re(he,q,"keyframes"):K=="word"&&(be=A(q.current()),be=="block-keyword")?(be="keyword",re(he,q,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(K)?re(he,q,fe(q)?"block":"atBlock"):K=="mixin"?re(he,q,"block",0):he.context.type},ot.interpolation=function(K,q,he){return K=="{"&&ce(he)&&re(he,q,"block"),K=="}"?q.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||q.string.match(/^\s*[a-z]/i)&&j(ge(q))?re(he,q,"block"):!q.string.match(/^(\{|\s*\&)/)||q.match(/\s*[\w-]/,!1)?re(he,q,"block",0):re(he,q,"block"):K=="variable-name"?re(he,q,"variableName",0):(K=="word"&&(be=A(q.current()),be=="tag"&&(be="atom")),he.context.type)},ot.extend=function(K,q,he){return K=="["||K=="="?"extend":K=="]"?ce(he):K=="word"?(be=A(q.current()),"extend"):ce(he)},ot.variableName=function(K,q,he){return K=="string"||K=="["||K=="]"||q.current().match(/^(\.|\$)/)?(q.current().match(/^\.[\w-]+/i)&&(be="variable-2"),"variableName"):ve(K,q,he)},{startState:function(K){return{tokenize:null,state:"block",context:new te("block",K||0,null)}},token:function(K,q){return!q.tokenize&&K.eatSpace()?null:(Fe=(q.tokenize||He)(K,q),Fe&&typeof Fe=="object"&&(ke=Fe[1],Fe=Fe[0]),be=Fe,q.state=ot[q.state](ke,K,q),be)},indent:function(K,q,he){var Me=K.context,rt=q&&q.charAt(0),oe=Me.indent,Pe=ge(q),Ae=he.match(/^\s*/)[0].replace(/\t/g,J).length,we=K.context.prev?K.context.prev.line.firstWord:"",We=K.context.prev?K.context.prev.line.indent:Ae;return Me.prev&&(rt=="}"&&(Me.type=="block"||Me.type=="atBlock"||Me.type=="keyframes")||rt==")"&&(Me.type=="parens"||Me.type=="atBlock_parens")||rt=="{"&&Me.type=="at")?oe=Me.indent-Y:/(\})/.test(rt)||(/@|\$|\d/.test(rt)||/^\{/.test(q)||/^\s*\/(\/|\*)/.test(q)||/^\s*\/\*/.test(we)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(q)||/^(\+|-)?[a-z][\w-]*\(/i.test(q)||/^return/.test(q)||S(Pe)?oe=Ae:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(rt)||j(Pe)?/\,\s*$/.test(we)?oe=We:/^\s+/.test(he)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(we)||j(we))?oe=Ae<=We?We:We+Y:oe=Ae:!/,\s*$/.test(he)&&(F(Pe)||G(Pe))&&(S(we)?oe=Ae<=We?We:We+Y:/^\{/.test(we)?oe=Ae<=We?Ae:We+Y:F(we)||G(we)?oe=Ae>=We?We:Ae:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(we)||/=\s*$/.test(we)||j(we)||/^\$[\w-\.\[\]\'\"]/.test(we)?oe=We+Y:oe=Ae)),oe},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"indent"}});var r=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],i=["domain","regexp","url-prefix","url"],o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","dynamic-range","video-dynamic-range"],l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],c=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],h=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],p=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],m=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","high","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","standard","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],v=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],b=["for","if","else","unless","from","to"],_=["null","true","false","href","title","type","not-allowed","readonly","disabled"],x=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],D=r.concat(i,o,s,l,c,p,m,h,v,b,_,x);function E(M){return M=M.sort(function(Y,J){return J>Y}),new RegExp("^(("+M.join(")|(")+"))\\b")}function T(M){for(var Y={},J=0;J<M.length;++J)Y[M[J]]=!0;return Y}function R(M){return M.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}n.registerHelper("hintWords","stylus",D),n.defineMIME("text/x-styl","stylus")})})();var SQ={exports:{}},TQ={exports:{}};(function(e,t){(function(n){n(gr.exports,P6.exports,p_.exports,ym.exports)})(function(n){var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(m,v,b){var _=m.current(),x=_.search(v);return x>-1?m.backUp(_.length-x):_.match(/<\/?$/)&&(m.backUp(_.length),m.match(v,!1)||m.match(_)),b}var o={};function s(m){var v=o[m];return v||(o[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function l(m,v){var b=m.match(s(v));return b?/^\s*(.*?)\s*$/.exec(b[2])[1]:""}function c(m,v){return new RegExp((v?"^":"")+"</\\s*"+m+"\\s*>","i")}function h(m,v){for(var b in m)for(var _=v[b]||(v[b]=[]),x=m[b],D=x.length-1;D>=0;D--)_.unshift(x[D])}function p(m,v){for(var b=0;b<m.length;b++){var _=m[b];if(!_[0]||_[1].test(l(v,_[0])))return _[2]}}n.defineMode("htmlmixed",function(m,v){var b=n.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:v.multilineTagIndentFactor,multilineTagIndentPastTag:v.multilineTagIndentPastTag,allowMissingTagName:v.allowMissingTagName}),_={},x=v&&v.tags,D=v&&v.scriptTypes;if(h(r,_),x&&h(x,_),D)for(var E=D.length-1;E>=0;E--)_.script.unshift(["type",D[E].matches,D[E].mode]);function T(R,M){var Y=b.token(R,M.htmlState),J=/\btag\b/.test(Y),Z;if(J&&!/[<>\s\/]/.test(R.current())&&(Z=M.htmlState.tagName&&M.htmlState.tagName.toLowerCase())&&_.hasOwnProperty(Z))M.inTag=Z+" ";else if(M.inTag&&J&&/>$/.test(R.current())){var z=/^([\S]+) (.*)/.exec(M.inTag);M.inTag=null;var B=R.current()==">"&&p(_[z[1]],z[2]),L=n.getMode(m,B),V=c(z[1],!0),ie=c(z[1],!1);M.token=function(W,Q){return W.match(V,!1)?(Q.token=T,Q.localState=Q.localMode=null,null):i(W,ie,Q.localMode.token(W,Q.localState))},M.localMode=L,M.localState=n.startState(L,b.indent(M.htmlState,"",""))}else M.inTag&&(M.inTag+=R.current(),R.eol()&&(M.inTag+=" "));return Y}return{startState:function(){var R=n.startState(b);return{token:T,inTag:null,localMode:null,localState:null,htmlState:R}},copyState:function(R){var M;return R.localState&&(M=n.copyState(R.localMode,R.localState)),{token:R.token,inTag:R.inTag,localMode:R.localMode,localState:M,htmlState:n.copyState(b,R.htmlState)}},token:function(R,M){return M.token(R,M)},indent:function(R,M,Y){return!R.localMode||/^\s*<\//.test(M)?b.indent(R.htmlState,M,Y):R.localMode.indent?R.localMode.indent(R.localState,M,Y):n.Pass},innerMode:function(R){return{state:R.localState||R.htmlState,mode:R.localMode||b}}}},"xml","javascript","css"),n.defineMIME("text/html","htmlmixed")})})();(function(e,t){(function(n){n(gr.exports,p_.exports,ym.exports,TQ.exports)})(function(n){n.defineMode("pug",function(r){var i="keyword",o="meta",s="builtin",l="qualifier",c={"{":"}","(":")","[":"]"},h=n.getMode(r,"javascript");function p(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=n.startState(h),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}p.prototype.copy=function(){var j=new p;return j.javaScriptLine=this.javaScriptLine,j.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,j.javaScriptArguments=this.javaScriptArguments,j.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,j.isInterpolating=this.isInterpolating,j.interpolationNesting=this.interpolationNesting,j.jsState=n.copyState(h,this.jsState),j.innerMode=this.innerMode,this.innerMode&&this.innerState&&(j.innerState=n.copyState(this.innerMode,this.innerState)),j.restOfLine=this.restOfLine,j.isIncludeFiltered=this.isIncludeFiltered,j.isEach=this.isEach,j.lastTag=this.lastTag,j.scriptType=this.scriptType,j.isAttrs=this.isAttrs,j.attrsNest=this.attrsNest.slice(),j.inAttributeName=this.inAttributeName,j.attributeIsType=this.attributeIsType,j.attrValue=this.attrValue,j.indentOf=this.indentOf,j.indentToken=this.indentToken,j.innerModeForLine=this.innerModeForLine,j};function m(j,G){if(j.sol()&&(G.javaScriptLine=!1,G.javaScriptLineExcludesColon=!1),G.javaScriptLine){if(G.javaScriptLineExcludesColon&&j.peek()===":"){G.javaScriptLine=!1,G.javaScriptLineExcludesColon=!1;return}var S=h.token(j,G.jsState);return j.eol()&&(G.javaScriptLine=!1),S||!0}}function v(j,G){if(G.javaScriptArguments){if(G.javaScriptArgumentsDepth===0&&j.peek()!=="("){G.javaScriptArguments=!1;return}if(j.peek()==="("?G.javaScriptArgumentsDepth++:j.peek()===")"&&G.javaScriptArgumentsDepth--,G.javaScriptArgumentsDepth===0){G.javaScriptArguments=!1;return}var S=h.token(j,G.jsState);return S||!0}}function b(j){if(j.match(/^yield\b/))return"keyword"}function _(j){if(j.match(/^(?:doctype) *([^\n]+)?/))return o}function x(j,G){if(j.match("#{"))return G.isInterpolating=!0,G.interpolationNesting=0,"punctuation"}function D(j,G){if(G.isInterpolating){if(j.peek()==="}"){if(G.interpolationNesting--,G.interpolationNesting<0)return j.next(),G.isInterpolating=!1,"punctuation"}else j.peek()==="{"&&G.interpolationNesting++;return h.token(j,G.jsState)||!0}}function E(j,G){if(j.match(/^case\b/))return G.javaScriptLine=!0,i}function T(j,G){if(j.match(/^when\b/))return G.javaScriptLine=!0,G.javaScriptLineExcludesColon=!0,i}function R(j){if(j.match(/^default\b/))return i}function M(j,G){if(j.match(/^extends?\b/))return G.restOfLine="string",i}function Y(j,G){if(j.match(/^append\b/))return G.restOfLine="variable",i}function J(j,G){if(j.match(/^prepend\b/))return G.restOfLine="variable",i}function Z(j,G){if(j.match(/^block\b *(?:(prepend|append)\b)?/))return G.restOfLine="variable",i}function z(j,G){if(j.match(/^include\b/))return G.restOfLine="string",i}function B(j,G){if(j.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&j.match("include"))return G.isIncludeFiltered=!0,i}function L(j,G){if(G.isIncludeFiltered){var S=Ve(j,G);return G.isIncludeFiltered=!1,G.restOfLine="string",S}}function V(j,G){if(j.match(/^mixin\b/))return G.javaScriptLine=!0,i}function ie(j,G){if(j.match(/^\+([-\w]+)/))return j.match(/^\( *[-\w]+ *=/,!1)||(G.javaScriptArguments=!0,G.javaScriptArgumentsDepth=0),"variable";if(j.match("+#{",!1))return j.next(),G.mixinCallAfter=!0,x(j,G)}function W(j,G){if(G.mixinCallAfter)return G.mixinCallAfter=!1,j.match(/^\( *[-\w]+ *=/,!1)||(G.javaScriptArguments=!0,G.javaScriptArgumentsDepth=0),!0}function Q(j,G){if(j.match(/^(if|unless|else if|else)\b/))return G.javaScriptLine=!0,i}function I(j,G){if(j.match(/^(- *)?(each|for)\b/))return G.isEach=!0,i}function de(j,G){if(G.isEach){if(j.match(/^ in\b/))return G.javaScriptLine=!0,G.isEach=!1,i;if(j.sol()||j.eol())G.isEach=!1;else if(j.next()){for(;!j.match(/^ in\b/,!1)&&j.next(););return"variable"}}}function pe(j,G){if(j.match(/^while\b/))return G.javaScriptLine=!0,i}function Se(j,G){var S;if(S=j.match(/^(\w(?:[-:\w]*\w)?)\/?/))return G.lastTag=S[1].toLowerCase(),G.lastTag==="script"&&(G.scriptType="application/javascript"),"tag"}function Ve(j,G){if(j.match(/^:([\w\-]+)/)){var S;return r&&r.innerModes&&(S=r.innerModes(j.current().substring(1))),S||(S=j.current().substring(1)),typeof S=="string"&&(S=n.getMode(r,S)),gt(j,G,S),"atom"}}function tt(j,G){if(j.match(/^(!?=|-)/))return G.javaScriptLine=!0,"punctuation"}function yt(j){if(j.match(/^#([\w-]+)/))return s}function Mt(j){if(j.match(/^\.([\w-]+)/))return l}function pt(j,G){if(j.peek()=="(")return j.next(),G.isAttrs=!0,G.attrsNest=[],G.inAttributeName=!0,G.attrValue="",G.attributeIsType=!1,"punctuation"}function ot(j,G){if(G.isAttrs){if(c[j.peek()]&&G.attrsNest.push(c[j.peek()]),G.attrsNest[G.attrsNest.length-1]===j.peek())G.attrsNest.pop();else if(j.eat(")"))return G.isAttrs=!1,"punctuation";if(G.inAttributeName&&j.match(/^[^=,\)!]+/))return(j.peek()==="="||j.peek()==="!")&&(G.inAttributeName=!1,G.jsState=n.startState(h),G.lastTag==="script"&&j.current().trim().toLowerCase()==="type"?G.attributeIsType=!0:G.attributeIsType=!1),"attribute";var S=h.token(j,G.jsState);if(G.attributeIsType&&S==="string"&&(G.scriptType=j.current().toString()),G.attrsNest.length===0&&(S==="string"||S==="variable"||S==="keyword"))try{return Function("","var x "+G.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),G.inAttributeName=!0,G.attrValue="",j.backUp(j.current().length),ot(j,G)}catch{}return G.attrValue+=j.current(),S||!0}}function Ge(j,G){if(j.match(/^&attributes\b/))return G.javaScriptArguments=!0,G.javaScriptArgumentsDepth=0,"keyword"}function Fe(j){if(j.sol()&&j.eatSpace())return"indent"}function ke(j,G){if(j.match(/^ *\/\/(-)?([^\n]*)/))return G.indentOf=j.indentation(),G.indentToken="comment","comment"}function be(j){if(j.match(/^: */))return"colon"}function He(j,G){if(j.match(/^(?:\| ?| )([^\n]+)/))return"string";if(j.match(/^(<[^\n]*)/,!1))return gt(j,G,"htmlmixed"),G.innerModeForLine=!0,te(j,G,!0)}function Ke(j,G){if(j.eat(".")){var S=null;return G.lastTag==="script"&&G.scriptType.toLowerCase().indexOf("javascript")!=-1?S=G.scriptType.toLowerCase().replace(/"|'/g,""):G.lastTag==="style"&&(S="css"),gt(j,G,S),"dot"}}function je(j){return j.next(),null}function gt(j,G,S){S=n.mimeModes[S]||S,S=r.innerModes&&r.innerModes(S)||S,S=n.mimeModes[S]||S,S=n.getMode(r,S),G.indentOf=j.indentation(),S&&S.name!=="null"?G.innerMode=S:G.indentToken="string"}function te(j,G,S){if(j.indentation()>G.indentOf||G.innerModeForLine&&!j.sol()||S)return G.innerMode?(G.innerState||(G.innerState=G.innerMode.startState?n.startState(G.innerMode,j.indentation()):{}),j.hideFirstChars(G.indentOf+2,function(){return G.innerMode.token(j,G.innerState)||!0})):(j.skipToEnd(),G.indentToken);j.sol()&&(G.indentOf=1/0,G.indentToken=null,G.innerMode=null,G.innerState=null)}function re(j,G){if(j.sol()&&(G.restOfLine=""),G.restOfLine){j.skipToEnd();var S=G.restOfLine;return G.restOfLine="",S}}function ce(){return new p}function me(j){return j.copy()}function ve(j,G){var S=te(j,G)||re(j,G)||D(j,G)||L(j,G)||de(j,G)||ot(j,G)||m(j,G)||v(j,G)||W(j,G)||b(j)||_(j)||x(j,G)||E(j,G)||T(j,G)||R(j)||M(j,G)||Y(j,G)||J(j,G)||Z(j,G)||z(j,G)||B(j,G)||V(j,G)||ie(j,G)||Q(j,G)||I(j,G)||pe(j,G)||Se(j,G)||Ve(j,G)||tt(j,G)||yt(j)||Mt(j)||pt(j,G)||Ge(j,G)||Fe(j)||He(j,G)||ke(j,G)||be(j)||Ke(j,G)||je(j);return S===!0?null:S}return{startState:ce,copyState:me,token:ve}},"javascript","css","htmlmixed"),n.defineMIME("text/x-pug","pug"),n.defineMIME("text/x-jade","pug")})})();var EQ={exports:{}},AQ={exports:{}};(function(e,t){(function(n){n(gr.exports)})(function(n){n.multiplexingMode=function(r){var i=Array.prototype.slice.call(arguments,1);function o(s,l,c,h){if(typeof l=="string"){var p=s.indexOf(l,c);return h&&p>-1?p+l.length:p}var m=l.exec(c?s.slice(c):s);return m?m.index+c+(h?m[0].length:0):-1}return{startState:function(){return{outer:n.startState(r),innerActive:null,inner:null,startingInner:!1}},copyState:function(s){return{outer:n.copyState(r,s.outer),innerActive:s.innerActive,inner:s.innerActive&&n.copyState(s.innerActive.mode,s.inner),startingInner:s.startingInner}},token:function(s,l){if(l.innerActive){var D=l.innerActive,h=s.string;if(!D.close&&s.sol())return l.innerActive=l.inner=null,this.token(s,l);var v=D.close&&!l.startingInner?o(h,D.close,s.pos,D.parseDelimiters):-1;if(v==s.pos&&!D.parseDelimiters)return s.match(D.close),l.innerActive=l.inner=null,D.delimStyle&&D.delimStyle+" "+D.delimStyle+"-close";v>-1&&(s.string=h.slice(0,v));var E=D.mode.token(s,l.inner);return v>-1?s.string=h:s.pos>s.start&&(l.startingInner=!1),v==s.pos&&D.parseDelimiters&&(l.innerActive=l.inner=null),D.innerStyle&&(E?E=E+" "+D.innerStyle:E=D.innerStyle),E}else{for(var c=1/0,h=s.string,p=0;p<i.length;++p){var m=i[p],v=o(h,m.open,s.pos);if(v==s.pos){m.parseDelimiters||s.match(m.open),l.startingInner=!!m.parseDelimiters,l.innerActive=m;var b=0;if(r.indent){var _=r.indent(l.outer,"","");_!==n.Pass&&(b=_)}return l.inner=n.startState(m.mode,b),m.delimStyle&&m.delimStyle+" "+m.delimStyle+"-open"}else v!=-1&&v<c&&(c=v)}c!=1/0&&(s.string=h.slice(0,c));var x=r.token(s,l.outer);return c!=1/0&&(s.string=h),x}},indent:function(s,l,c){var h=s.innerActive?s.innerActive.mode:r;return h.indent?h.indent(s.innerActive?s.inner:s.outer,l,c):n.Pass},blankLine:function(s){var l=s.innerActive?s.innerActive.mode:r;if(l.blankLine&&l.blankLine(s.innerActive?s.inner:s.outer),s.innerActive)s.innerActive.close===`
`&&(s.innerActive=s.inner=null);else for(var c=0;c<i.length;++c){var h=i[c];h.open===`
`&&(s.innerActive=h,s.inner=n.startState(h.mode,l.indent?l.indent(s.outer,"",""):0))}},electricChars:r.electricChars,innerMode:function(s){return s.inner?{state:s.inner,mode:s.innerActive.mode}:{state:s.outer,mode:r}}}}})})();(function(e,t){(function(n){n(gr.exports,UX.exports,AQ.exports)})(function(n){n.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),n.defineMode("handlebars",function(r,i){var o=n.getMode(r,"handlebars-tags");return!i||!i.base?o:n.multiplexingMode(n.getMode(r,i.base),{open:"{{",close:/\}\}\}?/,mode:o,parseDelimiters:!0})}),n.defineMIME("text/x-handlebars-template","handlebars")})})();(function(e,t){(function(n){n(gr.exports,wQ.exports,P6.exports,p_.exports,xQ.exports,ym.exports,kQ.exports,CQ.exports,SQ.exports,EQ.exports)})(function(n){var r={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]};n.defineMode("vue-template",function(i,o){var s={token:function(l){if(l.match(/^\{\{.*?\}\}/))return"meta mustache";for(;l.next()&&!l.match("{{",!1););return null}};return n.overlayMode(n.getMode(i,o.backdrop||"text/html"),s)}),n.defineMode("vue",function(i){return n.getMode(i,{name:"htmlmixed",tags:r})},"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),n.defineMIME("script/x-vue","vue"),n.defineMIME("text/x-vue","vue")})})();const DQ={name:"CodeEditor",components:{Codemirror:vZ},props:{field:{type:Object,default:null},editor:{type:Object,default:null},visible:{type:Boolean,default:!1},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{proxyValue:"",options:{theme:"material",mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0,indentUnit:4}}},watch:{visible(e){e&&(this.proxyValue=_Q.html(this.modelValue,{indent_size:4})),this.resizeHandler()},proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.editor.on("resize",this.resizeHandler.bind(this))},methods:{resizeHandler(){this.visible&&this.$nextTick(()=>{const{width:e,height:t}=this.editor.view.dom.getBoundingClientRect();this.$el.style.width=`${e}px`,this.$el.style.height=`${t}px`})}}};function MQ(e,t,n,r,i,o){const s=At("Codemirror");return n.visible?(_e(),Ht(s,{key:0,value:i.proxyValue,"onUpdate:value":t[0]||(t[0]=l=>i.proxyValue=l),class:"vui-code-editor",options:i.options},null,8,["value","options"])):Nt("",!0)}var OQ=hn(DQ,[["render",MQ]]);const NQ={name:"VizyInput",components:{EditorContent:qU,MenuBar:CX,BlockPicker:jX,CodeEditor:OQ},props:{name:{type:String,required:!0,default:""},settings:{type:Object,default:()=>{}},value:{type:[String,Array],required:!0,default:""}},emits:["content-update","init"],data(){return{isLivePreview:!1,mounted:!1,buttons:["bold","italic"],showCodeEditor:!1,codeEditorHtml:"",editor:null,json:null,html:null,parentToolbarOffset:0,cachedFieldHtml:{},cachedFieldJs:{},renderedJsCache:{}}},computed:{jsonContent(){return this.contentToValue(this.json)},toolbarFixed(){return this.settings.vizyConfig.toolbarFixed},isRoot(){return this.settings.isRoot}},watch:{jsonContent(e){this.$emit("content-update",e)},codeEditorHtml(e){this.editor.chain().setContent(e,!0).run()}},mounted(){this.editor=new KU({extensions:this.getExtensions(),content:this.valueToContent(this.clone(this.value)),autofocus:!1,onUpdate:()=>{this.json=this.editor.getJSON().content,this.html=this.editor.getHTML()}}),this.editor.vizyField=this,this.json=this.editor.getJSON().content,this.html=this.editor.getHTML(),this.json.forEach(e=>{if(e.type==="vizyBlock"){const{id:t}=e.attrs,n=nD(this.settings.blocks,{id:t});n&&(this.setCachedFieldHtml(t,n.fieldsHtml),this.setCachedFieldJs(t,n.footHtml))}}),this.$nextTick(()=>{if(this.mounted=!0,this.$emit("init",this),this.toolbarFixed){window.addEventListener("scroll",this.updateFixedToolbar),window.addEventListener("resize",this.updateFixedToolbar);const e=document.querySelector(".slideout[data-element-editor].so-visible .so-body");e&&(e.addEventListener("scroll",this.updateFixedToolbarEditor),e.addEventListener("resize",this.updateFixedToolbarEditor)),Garnish.on(Craft.Preview,"open",this.openLivePreviewCallback),Garnish.on(Craft.LivePreview,"enter",this.openLivePreviewCallback),Garnish.on(Craft.Preview,"close",this.closeLivePreviewCallback),Garnish.on(Craft.LivePreview,"exit",this.closeLivePreviewCallback)}this.editor.on("vui:code-editor-toggle",this.setCodeEditor)}),this.getParentInputs(this.$el).forEach(e=>{e.$refs.toolbar&&(this.parentToolbarOffset+=e.$refs.toolbar.$el.offsetHeight)}),this.refreshUnloadData()},created(){this.settings.vizyConfig.buttons&&(this.buttons=this.settings.vizyConfig.buttons)},beforeUnmount(){this.editor.destroy()},methods:{getFormattingOptions(){let e=["paragraph","code-block","blockquote","h1","h2","h3","h4","h5","h6"];return this.settings.vizyConfig.formatting&&this.settings.vizyConfig.formatting.length&&(e=this.settings.vizyConfig.formatting),e},getExtensions(){return[EK,zK,KK,AK,PK,IK,Mq,nK,oK,lK,hK,mK,vK,yK,bK,wK,kK,TK,DK.configure({levels:[1,2,3,4,5,6]}),MK,OK,LK,tq,nq.configure({types:["heading","paragraph"],defaultAlignment:"start"}),qq.configure({openOnClick:!1}),Jq]},setCodeEditor(){this.showCodeEditor?this.editor.chain().setContent(this.codeEditorHtml,!0).run():this.codeEditorHtml=this.editor.getHTML(),this.showCodeEditor=!this.showCodeEditor},valueToContent(e){if(!e)return null;if(!Array.isArray(e))try{e=JSON.parse(e)}catch(t){console.log(t)}return e=this.decodeHtml(e),e.length?{type:"doc",content:e}:null},decodeHtml(e){Array.isArray(e)&&(e=JSON.stringify(e));const t=document.createElement("textarea");return t.innerHTML=e,JSON.parse(t.value)},contentToValue(e){return e&&Array.isArray(e)&&e.length===1&&e[0].type==="paragraph"&&!e[0].content?null:JSON.stringify(e)},getParsedBlockHtml(e,t){return typeof e=="string"?e.replace(new RegExp(`__VIZY_BLOCK_${this.settings.placeholderKey}__`,"g"),t):""},getCachedFieldHtml(e){let t=this.cachedFieldHtml[e];return typeof t=="string"&&(t=t.replace(/&#(\d+);/g,(n,r)=>String.fromCharCode(r))),this.getParsedBlockHtml(t,e)},setCachedFieldHtml(e,t){this.cachedFieldHtml[e]=t},getCachedFieldJs(e){let t=this.cachedFieldJs[e];typeof t=="string"&&(t=t.replace(/&#(\d+);/g,(r,i)=>String.fromCharCode(i)));let n=this.getParsedBlockHtml(t,e);return this.renderedJsCache[e]&&(n=n.replace(/(superTableInput.addRow.*?;)/g,"null")),this.renderedJsCache[e]=n,n},setCachedFieldJs(e,t){this.cachedFieldJs[e]=t},openLivePreviewCallback(){this.isLivePreview=!0;const e=document.querySelector(".lp-editor-container .lp-editor");e&&(e.addEventListener("scroll",this.updateFixedToolbar),e.addEventListener("resize",this.updateFixedToolbar))},closeLivePreviewCallback(){this.isLivePreview=!1},updateFixedToolbar(e){let t=document.querySelector("body.fixed-header #header")?document.querySelector("body.fixed-header #header").offsetHeight:0;this.isLivePreview&&(t=document.querySelector(".lp-editor-container header.flex")?document.querySelector(".lp-editor-container header.flex").offsetHeight-parseFloat(window.getComputedStyle(document.querySelector(".lp-editor-container .lp-editor"),null).getPropertyValue("padding-top")):0),t=t+this.parentToolbarOffset,this.$refs.toolbar.$el.style.position="sticky",this.$refs.toolbar.$el.style.top=`${this.$el.scrollTop+t}px`},updateFixedToolbarEditor(e){let t=-24;t=t+this.parentToolbarOffset,this.$refs.toolbar.$el.style.position="sticky",this.$refs.toolbar.$el.style.top=`${this.$el.scrollTop+t}px`},getParentInputs(){const e=[];let t=this.$parent;for(;t;t=t.$parent)t.$options._componentTag==="vizy-input"&&e.push(t);return e},refreshUnloadData(){setTimeout(()=>{const e=$("form[data-confirm-unload]");for(let t=0;t<e.length;t++){const n=$(e[t]),r=n.data("initialSerializedValue");if(r){let i=r;typeof n.data("serializer")=="function"?i=n.data("serializer")():i=n.serialize(),n.data("initialSerializedValue",i)}}},500)},isFocused(){return this.editor.isFocused&&!this.editor.isActive("vizyBlock")}}},LQ={key:1,class:"input text",style:{"margin-top":"20px"}},PQ=["name","value"];function IQ(e,t,n,r,i,o){const s=At("menu-bar"),l=At("code-editor"),c=At("editor-content"),h=At("block-picker");return _e(),Le("div",null,[i.editor?(_e(),Le("div",{key:0,class:It(["vui-rich-text",{"has-focus":o.isFocused()}])},[i.buttons.length?(_e(),Ht(s,{key:0,ref:"toolbar",buttons:i.buttons,editor:i.editor,field:this},null,8,["buttons","editor"])):Nt("",!0),st(l,{modelValue:i.codeEditorHtml,"onUpdate:modelValue":t[0]||(t[0]=p=>i.codeEditorHtml=p),visible:i.showCodeEditor,editor:i.editor,field:this},null,8,["modelValue","visible","editor"]),st(c,{class:It([{"code-view":i.showCodeEditor},"vui-editor"]),editor:i.editor},null,8,["class","editor"]),st(h,{editor:i.editor,field:this,"block-groups":n.settings.blockGroups},null,8,["editor","block-groups"])],2)):Nt("",!0),e.$isDebug?(_e(),Le("div",LQ,Xe(o.jsonContent),1)):Nt("",!0),le("input",{type:"hidden",name:n.name,value:o.jsonContent},null,8,PQ)])}var FQ=hn(NQ,[["render",IQ]]),jy={data:void 0};const g_=e=>e.reduce((t,n)=>(t[n]=n)&&t,{}),Io=g_(["drag","dragend","dragenter","dragleave","dragstart","dragover","drop"]),RQ=g_(["copy","move","link","none"]),zQ=g_(["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"]),BQ={props:{draggable:{type:Boolean,default:!0},transferData:{},dropEffect:{validator:e=>e in RQ},effectAllowed:{validator:e=>e in zQ},image:String,imageXOffset:{type:Number,default:0},imageYOffset:{type:Number,default:0},hideImageHtml:{type:Boolean,default:!0},tag:{type:String,default:"div"}},data(){return{dragging:!1}},computed:{events:()=>Io,scopedData(){return this.dragging&&this.transferData},hideImageStyle:()=>({position:"fixed",top:"-1000px"})},methods:{emitEvent(e,t){const n=t.dataTransfer;if([Io.dragenter,Io.dragover].includes(e)&&this.dropEffect&&(n.dropEffect=this.dropEffect),e===Io.dragstart){if(this.effectAllowed&&(n.effectAllowed=this.effectAllowed),this.image||this.$slots.image||this.$refs.image){let r;this.image?(r=new Image,r.src=this.image):this.$refs.image?r=this.$refs.image:this.$slots.image&&(r=this.$slots.image[0].elm),n.setDragImage&&n.setDragImage(r,this.imageXOffset,this.imageYOffset)}this.transferData!==void 0&&(jy.data=this.transferData,t.dataTransfer.setData("text","")),this.dragging=!0}this.$emit(e,this.transferData,t),e===Io.dragend&&(jy.data=void 0,this.dragging=!1)}}};function $Q(e,t,n,r,i,o){return _e(),Ht(Ws(n.tag),{draggable:n.draggable,onDrag:t[0]||(t[0]=s=>o.emitEvent(o.events.drag,s)),onDragstart:t[1]||(t[1]=s=>o.emitEvent(o.events.dragstart,s)),onDragenter:t[2]||(t[2]=s=>o.emitEvent(o.events.dragenter,s)),onDragleave:t[3]||(t[3]=s=>o.emitEvent(o.events.dragleave,s)),onDragend:t[4]||(t[4]=s=>o.emitEvent(o.events.dragend,s))},{default:on(()=>[Cn(e.$slots,"default",{transferData:o.scopedData}),n.hideImageHtml?(_e(),Le("div",{key:0,ref:"image",style:mi(o.hideImageStyle)},[Cn(e.$slots,"image",{transferData:o.scopedData})],4)):Cn(e.$slots,"image",{key:1,transferData:o.scopedData})]),_:3},40,["draggable"])}var HQ=hn(BQ,[["render",$Q]]);const jc=new Set,jQ={data(){return{transferData:void 0,isDraggingOver:!1}},props:{tag:{type:String,default:"div"}},computed:{events:()=>Io,scopedData(){return this.isDraggingOver&&this.transferData}},methods:{emitEvent(e,t){this.transferData=jy.data,this.$emit(e,this.transferData,t),e===Io.dragenter&&(jc.size||t.target===this.$el)&&jc.add(t.target),e===Io.dragleave&&jc.delete(t.target),e===Io.drop&&jc.clear(),this.isDraggingOver=Boolean(jc.size)}}};function VQ(e,t,n,r,i,o){return _e(),Ht(Ws(n.tag),{onDragenter:t[0]||(t[0]=s=>o.emitEvent(o.events.dragenter,s)),onDragleave:t[1]||(t[1]=s=>o.emitEvent(o.events.dragleave,s)),onDragover:t[2]||(t[2]=Dt(s=>o.emitEvent(o.events.dragover,s),["prevent"])),onDrop:t[3]||(t[3]=Dt(s=>o.emitEvent(o.events.drop,s),["prevent"]))},{default:on(()=>[Cn(e.$slots,"default",{transferData:o.scopedData})]),_:3},32)}var WQ=hn(jQ,[["render",VQ]]);const UQ={name:"VizyIconPicker",props:{inputClasses:{type:Object,default:()=>{}},modelValue:{type:Object,default:()=>{}}},emits:["update:modelValue"],data(){return{tippy:null,id:`icon-picker-${Craft.randomString(10)}`,icons:[],search:"",selected:null,isFetching:!1,tippyVisible:!1}},computed:{iconsFiltered(){return Na(this.icons)?[]:this.icons.reduce((e,t)=>{const n=t.icons.filter(r=>r.label.toLowerCase().includes(this.search.toLowerCase()));return n.length?e.concat(Kt(Ne({},t),{icons:n})):e},[])}},watch:{selected(e){this.$emit("update:modelValue",e)}},created(){this.modelValue&&(this.selected=this.modelValue)},mounted(){const e=this,t=this.$el.querySelector(".js-vui-tippy-template");t.style.display="block",this.tippy=si(`#${this.id}`,{content:t,trigger:"focus",allowHTML:!0,arrow:!0,interactive:!0,placement:"bottom-start",theme:"light-border icon-picker",maxWidth:"none",zIndex:10,hideOnClick:!1,onCreate(n){e.isFetching=!1,n.popper.style.width="100%"},onShow(n){e.tippyVisible=!0,!(e.isFetching||e.icons.length)&&(e.isFetching=!0,fetch(Craft.getActionUrl("vizy/icons")).then(r=>r.json()).then(r=>{e.icons=r}).catch(r=>{n.setContent(`Request failed. ${r}`)}).finally(()=>{e.isFetching=!1}))},onHide(n){e.isFetching=!1,e.tippyVisible=!1},onHidden(n){e.search=""}})},methods:{select(e){this.selected=e,this.tippy[0].hide()},deleteIcon(){this.selected=null}}},KQ={key:0,class:"vui-icon-input-item"},qQ=["innerHTML"],GQ={class:"vui-icon-input-label"},YQ=["id"],JQ=le("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fal","data-icon":"times",class:"svg-inline--fa fa-times fa-w-10",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[le("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})],-1),XQ=[JQ],ZQ={class:"vui-icons-pane js-vui-tippy-template",style:{display:"none"}},QQ={key:0,class:"vui-no-icons"},eee=le("span",{class:"vui-loading"},null,-1),tee=[eee],nee={key:1,class:"vui-icons-groups"},ree={class:"vui-icons-group-name"},iee={class:"vui-icons"},oee=["title","onClick"],see=["innerHTML"],aee={class:"vui-icon-label"},lee={key:2,class:"vui-no-icons"};function uee(e,t,n,r,i,o){return _e(),Le("div",null,[le("div",{class:It(["vui-icon-input",{"tippy-visible":i.tippyVisible}])},[i.selected&&!i.tippyVisible?(_e(),Le("div",KQ,[le("div",{class:"vui-icon-input-svg",innerHTML:i.selected.svg},null,8,qQ),le("span",GQ,Xe(i.selected.label),1)])):Nt("",!0),On(le("input",{id:i.id,"onUpdate:modelValue":t[0]||(t[0]=s=>i.search=s),type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",class:It(n.inputClasses)},null,10,YQ),[[Pr,i.search]]),i.selected?(_e(),Le("button",{key:1,type:"button",class:"vui-icon-input-delete",onClick:t[1]||(t[1]=Dt((...s)=>o.deleteIcon&&o.deleteIcon(...s),["prevent"]))},XQ)):Nt("",!0)],2),le("div",ZQ,[i.isFetching?(_e(),Le("div",QQ,tee)):Object.keys(o.iconsFiltered).length?(_e(),Le("div",nee,[(_e(!0),Le(St,null,Tn(o.iconsFiltered,(s,l)=>(_e(),Le("div",{key:l,class:"vui-icons-group"},[le("span",ree,Xe(s.name),1),le("div",iee,[(_e(!0),Le(St,null,Tn(s.icons,(c,h)=>(_e(),Le("div",{key:h,class:"vui-icon-wrap",title:`${c.label} (${s.name})`,onClick:Dt(p=>o.select(c),["prevent"])},[le("div",{class:"vui-icon-svg",innerHTML:c.svg},null,8,see),le("span",aee,Xe(c.label),1)],8,oee))),128))])]))),128))])):(_e(),Le("div",lee,Xe(e.t("vizy","No icons match your query.")),1))])])}var cee=hn(UQ,[["render",uee]]);const fee={name:"FieldLayoutDesigner",props:{layoutUid:{type:String,default:null},fieldId:{type:String,default:null},blockTypeId:{type:String,default:null},modelValue:{type:[Object,Array,String],default:()=>{}}},emits:["update:modelValue"],data(){return{error:!1,errorMessage:"",loading:!1,mounted:!1,proxyValue:{}}},watch:{proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.proxyValue=this.modelValue},mounted(){this.loading=!0;const e=[];this.fieldId&&e.push(this.fieldId);const n=/fields\/edit\/(\d*)$/g.exec(window.location.href);n&&n[1]&&e.push(n[1]);const r={fieldIds:e,layoutUid:this.layoutUid,blockTypeId:this.blockTypeId,layout:this.proxyValue};Craft.sendActionRequest("POST","vizy/field/layout-designer",{data:r}).then(i=>{if(i.data.html)this.$el.innerHTML=i.data.html,Craft.appendBodyHtml(i.data.footHtml),this.watchForChanges(),this.mounted=!0;else throw new Error(i.data)}).catch(i=>{this.error=!0,this.errorMessage=i,this.loading=!1})},methods:{watchForChanges(){const e=eD(this.serializeLayout,250);new MutationObserver(n=>{e()}).observe(this.$el,{childList:!0,attributes:!0,subtree:!0,characterData:!0})},serializeLayout(){if(!this.mounted)return;const e=this.$el.querySelector('input[name="fieldLayout"]').value;this.proxyValue=e}}},dee={ref:"fld-container",class:"vui-block-editor-layout"},hee={class:"vui-workspace"},pee={key:0,class:"vui-loading-pane"},gee=le("div",{class:"vui-loading fui-loading-lg"},null,-1),mee=[gee],vee={key:1,class:"vui-error-pane error"},yee={class:"vui-error-content"},bee=le("span",{"data-icon":"alert"},null,-1),_ee=["innerHTML"];function wee(e,t,n,r,i,o){return _e(),Le("div",dee,[le("div",hee,[i.loading?(_e(),Le("div",pee,mee)):Nt("",!0),i.error?(_e(),Le("div",vee,[le("div",yee,[bee,le("span",{class:"error",innerHTML:i.errorMessage},null,8,_ee)])])):Nt("",!0)])],512)}var xee=hn(fee,[["render",wee]]);const kee=ln({name:"default-section",props:{section:{type:Object,required:!0},currentIndex:{type:[Number,String],required:!1,default:1/0},renderSuggestion:{type:Function,required:!1},normalizeItemFunction:{type:Function,required:!0},componentAttrPrefix:{type:String,required:!0},componentAttrIdAutosuggest:{type:String,required:!0}},data:function(){return{_currentIndex:this.currentIndex}},computed:{list:function(){let{limit:e,data:t}=this.section;return t.length<e&&(e=t.length),t.slice(0,e)}},methods:{getItemIndex(e){return this.section.start_index+e},getItemByIndex(e){return this.section.data[e]},onMouseEnter(e){const t=parseInt(e.currentTarget.getAttribute("data-suggestion-index"));this._currentIndex=t,this.$emit("updateCurrentIndex",t)},onMouseLeave(){this.$emit("updateCurrentIndex",null)}},render(){const e=this.componentAttrPrefix,t={beforeSection:this.$slots[`before-section-${this.section.name}`],afterSectionDefault:this.$slots["after-section"],afterSectionNamed:this.$slots[`after-section-${this.section.name}`]},n=`${e}__results-before ${e}__results-before--${this.section.name}`,r=t.beforeSection&&t.beforeSection({section:this.section,className:n}).filter(i=>i.type!==St&&i.children.length===0)||[];return Vn("ul",{role:"listbox",class:this.section.ulClass,"aria-labelledby":this.section.label&&`${this.componentAttrIdAutosuggest}-${this.section.label}`},[r[0]&&r[0]||this.section.label&&Vn("li",{class:n,id:`${this.componentAttrIdAutosuggest}-${this.section.label}`},[this.section.label])||"",this.list.map((i,o)=>{const s=this.normalizeItemFunction(this.section.name,this.section.type,this.section.label,this.section.liClass,i),l=this.getItemIndex(o),c=this._currentIndex===l||parseInt(this.currentIndex)===l;return Vn("li",Kt(Ne({role:"option","data-suggestion-index":l,"data-section-name":s.name,id:`${e}__results-item--${l}`},s.liAttributes),{key:l,class:Ne({[`${e}__results-item--highlighted`]:c,[`${e}__results-item`]:!0},s.liClass),onMouseenter:this.onMouseEnter,onMouseleave:this.onMouseLeave}),[this.renderSuggestion?this.renderSuggestion(s):this.$slots.default&&this.$slots.default({_key:o,suggestion:s})])}),t.afterSectionDefault&&t.afterSectionDefault({section:this.section,className:`${e}__results-after ${e}__results-after--${this.section.name}`}),t.afterSectionNamed&&t.afterSectionNamed({section:this.section,className:`${e}__results_after ${e}__results-after--${this.section.name}`})])}});function Cee(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function See(e,t){Cee(e,t)||(e.className+=" "+t)}function Tee(e,t){e.classList&&e.classList.remove(t)}const R2=-1,z2={name:"default",type:"default-section"},Eee={name:"Autosuggest",components:{DefaultSection:kee},inheritAttrs:!1,props:{modelValue:{type:String,default:null},inputProps:{type:Object,required:!0},limit:{type:Number,required:!1,default:1/0},suggestions:{type:Array,required:!0},renderSuggestion:{type:Function,required:!1,default:null},getSuggestionValue:{type:Function,required:!1,default:e=>{const t=e.item;return typeof t=="object"&&t.hasOwnProperty("name")?t.name:t}},shouldRenderSuggestions:{type:Function,required:!1,default:(e,t)=>e>0&&!t},sectionConfigs:{type:Object,required:!1,default:()=>({default:{onSelected:null}})},onSelected:{type:Function,required:!1,default:null},componentAttrIdAutosuggest:{type:String,required:!1,default:"autosuggest"},componentAttrClassAutosuggestResultsContainer:{type:String,required:!1,default:null},componentAttrClassAutosuggestResults:{type:String,required:!1,default:null},componentAttrPrefix:{type:String,required:!1,default:"autosuggest"},class:null,style:null},data(){return{internalValue:null,searchInputOriginal:null,currentIndex:null,currentItem:null,loading:!1,didSelectFromOptions:!1,defaultInputProps:{type:"text",autocomplete:"off"},clientXMouseDownInitial:null}},computed:{internal_inputProps(){return Ne(Ne(Ne({},this.defaultInputProps),this.inputProps),this.listeners)},listeners(){return{onInput:e=>{},onClick:()=>{this.loading=!1,this.$attrs.click&&this.$attrs.click(this.currentItem),this.$nextTick(()=>{this.ensureItemVisible(this.currentItem,this.currentIndex)})},onSelected:()=>{this.currentItem&&this.sectionConfigs[this.currentItem.name]&&this.sectionConfigs[this.currentItem.name].onSelected?this.sectionConfigs[this.currentItem.name].onSelected(this.currentItem,this.searchInputOriginal):this.sectionConfigs.default.onSelected?this.sectionConfigs.default.onSelected(null,this.searchInputOriginal):this.onSelected&&this.$emit("selected",this.currentItem,this.currentIndex),this.setChangeItem(null)}}},isOpen(){return this.shouldRenderSuggestions(this.totalResults,this.loading)},computedSections(){let e=0;return this.suggestions.map(t=>{if(!t.data)return;const n=t.name?t.name:z2.name;let r,i,o,s,l=null;this.sectionConfigs[n]&&(r=this.sectionConfigs[n].limit,o=this.sectionConfigs[n].type,i=this.sectionConfigs[n].label,s=this.sectionConfigs[n].ulClass,l=this.sectionConfigs[n].liClass),o=o||z2.type,r=r||this.limit,r=r||1/0,r=t.data.length<r?t.data.length:r,i=i||t.label;const c={name:n,label:i,type:o,limit:r,data:t.data,start_index:e,end_index:e+r-1,ulClass:s,liClass:l};return e+=r,c})},totalResults(){return this.computedSections.reduce((e,t)=>{if(!t)return e;const{limit:n,data:r}=t;return e+(r.length>=n?n:r.length)},0)},_componentAttrClassAutosuggestResultsContainer(){return this.componentAttrClassAutosuggestResultsContainer||`${this.componentAttrPrefix}__results-container`},_componentAttrClassAutosuggestResults(){return this.componentAttrClassAutosuggestResults||`${this.componentAttrPrefix}__results`}},watch:{modelValue:{handler(e){this.internalValue=e},immediate:!0},isOpen:{handler(e,t){e!==t&&this.$emit(e?"opened":"closed")},immediate:!0}},created(){this.loading=!0},mounted(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("mousedown",this.onDocumentMouseDown)},beforeUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousedown",this.onDocumentMouseDown)},methods:{afterSlot(e){return`after-section-${e.name||e.label}`},beforeSlot(e){return`before-section-${e.name||e.label}`},inputHandler(e){const t=e.target.value;this.$emit("update:modelValue",t),this.internalValue=t,this.didSelectFromOptions||(this.searchInputOriginal=t,this.currentIndex=null)},getSectionRef(e){return"computed_section_"+e},getItemByIndex(e){let t=!1;if(e===null)return t;for(var n=0;n<this.computedSections.length;n++)if(e>=this.computedSections[n].start_index&&e<=this.computedSections[n].end_index){let r=e-this.computedSections[n].start_index;this.computedSections[n].name;let i=this.computedSections[n].data[r];if(i){t=this.normalizeItem(this.computedSections[n].name,this.computedSections[n].type,i.name,"",i);break}}return t},handleKeyStroke(e){const{keyCode:t}=e;if([16,9,17,18,91,93].indexOf(t)>-1)return;const r=!this.isOpen;if(this.loading=!1,this.didSelectFromOptions=!1,this.isOpen)switch(t){case 40:case 38:if(e.preventDefault(),t===38&&this.currentIndex===null)break;const i=t===40?1:-1,o=Math.max((parseInt(this.currentIndex)||0)+(r?0:i),R2);this.setCurrentIndex(o,this.totalResults),this.didSelectFromOptions=!0,this.totalResults>0&&this.currentIndex>=0?(this.setChangeItem(this.getItemByIndex(this.currentIndex)),this.didSelectFromOptions=!0):this.currentIndex===R2&&(this.setChangeItem(null),this.internalValue=this.searchInputOriginal,e.preventDefault()),this.$nextTick(()=>{this.ensureItemVisible(this.currentItem,this.currentIndex)});break;case 13:e.preventDefault(),this.totalResults>0&&this.currentIndex>=0&&(this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.didSelectFromOptions=!0),this.loading=!0,this.listeners.onSelected(this.didSelectFromOptions);break;case 27:this.loading=!0,this.currentIndex=null,this.internalValue=this.searchInputOriginal,this.$emit("input",this.searchInputOriginal),e.preventDefault();break}},setChangeItem(e,t=!1){if(this.currentIndex===null||!e)this.currentItem=null,this.$emit("item-changed",null,null);else if(e){this.currentItem=e,this.$emit("item-changed",e,this.currentIndex);const n=this.getSuggestionValue(e);this.internalValue=n,t&&(this.searchInputOriginal=n),this.ensureItemVisible(e,this.currentIndex)}},normalizeItem(e,t,n,r,i){return{name:e,type:t,label:n,liClass:i.liClass||r,item:i}},ensureItemVisible(e,t,n){const r=this.$el.querySelector(n||`.${this._componentAttrClassAutosuggestResults}`);if(!r)return;const i=r.querySelector(`#${this.componentAttrPrefix}__results-item--${t}`);if(!i)return;const o=r.clientHeight,s=r.scrollTop,l=i.clientHeight,c=i.offsetTop;l+c>=s+o?r.scrollTop=l+c-o:c<s&&s>0&&(r.scrollTop=c)},updateCurrentIndex(e){this.setCurrentIndex(e,-1,!0)},clickedOnScrollbar(e,t){const n=this.$el.querySelector(`.${this._componentAttrClassAutosuggestResults}`),r=n&&n.clientWidth<=t+17&&t+17<=n.clientWidth+34;return e.target.tagName==="DIV"&&n&&r||!1},onDocumentMouseDown(e){var t=e.target.getBoundingClientRect?e.target.getBoundingClientRect():0;this.clientXMouseDownInitial=e.clientX-t.left},onDocumentMouseUp(e){if(!this.$el.contains(e.target)){this.loading=!0,this.currentIndex=null;return}e.target.tagName==="INPUT"||this.clickedOnScrollbar(e,this.clientXMouseDownInitial)||(this.loading=!0,this.didSelectFromOptions=!0,this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.listeners.onSelected(!0))},setCurrentIndex(e,t=-1,n=!1){let r=e;if(!n){const s=this.currentIndex===null,l=e>=t;(s||l)&&(r=0)}this.currentIndex=r;const i=this.$el.querySelector(`#${this.componentAttrPrefix}__results-item--${this.currentIndex}`),o=`${this.componentAttrPrefix}__results-item--highlighted`;this.$el.querySelector(`.${o}`)&&Tee(this.$el.querySelector(`.${o}`),o),i&&See(i,o)}}},Aee=["id"],Dee=["aria-expanded","aria-owns"],Mee=["type","value","autocomplete","aria-activedescendant","aria-controls"],Oee=["id"],Nee=["aria-labelledby"];function Lee(e,t,n,r,i,o){return _e(),Le("div",{id:n.componentAttrIdAutosuggest,class:It(e.$props.class),style:mi(e.$props.style)},[Cn(e.$slots,"before-input"),le("div",{role:"combobox","aria-expanded":o.isOpen?"true":"false","aria-haspopup":"listbox","aria-owns":`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`},[le("input",yi({type:o.internal_inputProps.type,value:i.internalValue,autocomplete:o.internal_inputProps.autocomplete,class:[o.isOpen?`${n.componentAttrPrefix}__input--open`:"",o.internal_inputProps.class]},o.internal_inputProps,{"aria-autocomplete":"list","aria-activedescendant":o.isOpen&&i.currentIndex!==null?`${n.componentAttrPrefix}__results-item--${i.currentIndex}`:"","aria-controls":`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`,onInput:t[0]||(t[0]=(...s)=>o.inputHandler&&o.inputHandler(...s)),onKeydown:t[1]||(t[1]=(...s)=>o.handleKeyStroke&&o.handleKeyStroke(...s))}),null,16,Mee)],8,Dee),Cn(e.$slots,"after-input"),le("div",{id:`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`,class:It(o._componentAttrClassAutosuggestResultsContainer)},[o.isOpen?(_e(),Le("div",{key:0,class:It(o._componentAttrClassAutosuggestResults),"aria-labelledby":n.componentAttrIdAutosuggest},[Cn(e.$slots,"before-suggestions"),(_e(!0),Le(St,null,Tn(o.computedSections,(s,l)=>(_e(),Ht(Ws(s.type),{ref_for:!0,ref:o.getSectionRef(`${s.name}${l}`),key:o.getSectionRef(`${s.name}${l}`),"current-index":i.currentIndex,"normalize-item-function":o.normalizeItem,"render-suggestion":n.renderSuggestion,section:s,"component-attr-prefix":n.componentAttrPrefix,"component-attr-id-autosuggest":n.componentAttrIdAutosuggest,onUpdateCurrentIndex:o.updateCurrentIndex},{[o.beforeSlot(s)]:on(({section:c,className:h})=>[Cn(e.$slots,o.beforeSlot(s),{section:c,className:h})]),default:on(({suggestion:c,_key:h})=>[Cn(e.$slots,"default",{suggestion:c,index:h},()=>[Qo(Xe(c.item),1)])]),[o.afterSlot(s)]:on(({section:c})=>[Cn(e.$slots,`after-section-${s.name||s.label}`,{section:c})]),"after-section":on(({section:c})=>[Cn(e.$slots,"after-section",{section:c})]),_:2},1064,["current-index","normalize-item-function","render-suggestion","section","component-attr-prefix","component-attr-id-autosuggest","onUpdateCurrentIndex"]))),128)),Cn(e.$slots,"after-suggestions")],10,Nee)):Nt("",!0),Cn(e.$slots,"after-suggestions-container")],10,Oee)],14,Aee)}var Pee=hn(Eee,[["render",Lee]]);const Iee={name:"AutoSuggest",components:{VueAutosuggest:Pee},props:{id:{type:String,default:""},suggestions:{type:[Object,Array],default:()=>[]},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{query:"",selected:"",filteredOptions:[],inputProps:{class:"text fullwidth",initialValue:this.modelValue,style:"",id:this.id,name:this.id,maxlength:"",autofocus:!1,disabled:!1,title:"",placeholder:""},limit:5}},methods:{onInputChange(e){this.query=(e||"").toLowerCase(),this.updateFilteredOptions(),e||this.$emit("update:modelValue","")},updateFilteredOptions(){if(this.query===""){this.filteredOptions=this.suggestions;return}const e=[];let t,n,r,i;for(t=0;t<this.suggestions.length;t++){for(r=[],n=0;n<this.suggestions[t].data.length;n++)i=this.suggestions[t].data[n],((i.name||i).toLowerCase().indexOf(this.query)!==-1||i.hint&&i.hint.toLowerCase().indexOf(this.query)!==-1)&&r.push(i.name?i:{name:i});r.length&&(r.sort((o,s)=>{const l=this.scoreItem(o,this.query),c=this.scoreItem(s,this.query);return l===c?0:l<c?1:-1}),e.push({label:this.suggestions[t].label||null,data:r.slice(0,this.limit)}))}this.filteredOptions=e},scoreItem(e){let t=0;return e.name.toLowerCase().indexOf(this.query)!==-1&&(t+=100+this.query.length/e.name.length),e.hint&&e.hint.toLowerCase().indexOf(this.query)!==-1&&(t+=this.query.length/e.hint.length),t},onSelected(e){if(this.selected=e.item,this.$emit("update:modelValue",e.item.name),e.item.name[0]=="@"){const t=this.$el.querySelector("input");t.focus(),t.selectionStart=t.selectionEnd=t.value.length}},getSuggestionValue(e){return e.item.name||e.item},onBlur(e){e.relatedTarget&&(this.filteredOptions=[])}}},Fee={key:0,class:"light"};function Ree(e,t,n,r,i,o){const s=At("vue-autosuggest");return _e(),Ht(s,{modelValue:i.inputProps.initialValue,"onUpdate:modelValue":[t[0]||(t[0]=l=>i.inputProps.initialValue=l),o.onInputChange],suggestions:i.filteredOptions,"get-suggestion-value":o.getSuggestionValue,"input-props":i.inputProps,limit:i.limit,"component-attr-id-autosuggest":n.id,onSelected:o.onSelected,onFocus:o.updateFilteredOptions,onBlur:o.onBlur},{default:on(({suggestion:l})=>[Qo(Xe(l.item.name||l.item)+" ",1),l.item.hint?(_e(),Le("span",Fee,"\u2013 "+Xe(l.item.hint),1)):Nt("",!0)]),_:1},8,["modelValue","suggestions","get-suggestion-value","input-props","limit","component-attr-id-autosuggest","onSelected","onFocus","onBlur","onUpdate:modelValue"])}var zee=hn(Iee,[["render",Ree]]);const Bee={name:"HandleInput",props:{id:{type:String,default:""},sourceValue:{type:String,default:""},collection:{type:Array,default:()=>[]},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{savedValue:"",proxyValue:""}},watch:{sourceValue(e){this.savedValue===""&&this.generateHandle()},proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.savedValue=this.modelValue,this.proxyValue=this.modelValue},methods:{generateHandle(e){let t=SX(this.sourceValue);this.collection.length&&(t=r6(this.collection,t,0)),this.proxyValue=t}}};function $ee(e,t,n,r,i,o){return On((_e(),Le("input",{id:"id","onUpdate:modelValue":t[0]||(t[0]=s=>i.proxyValue=s),type:"text",class:"text fullwidth code",autocomplete:"off",autocorrect:"off",autocapitalize:"off"},null,512)),[[Pr,i.proxyValue]])}var Hee=hn(Bee,[["render",$ee]]);const jee=function(){return window.safari!==void 0},Vee={name:"VizySettings",components:{VizyIconPicker:cee,LightswitchField:mO,FieldLayoutDesigner:xee,AutoSuggest:zee,HandleInput:Hee,Drag:HQ,Drop:WQ},props:{fieldName:{type:String,required:!0},errors:{type:[Object,Array],default:()=>{}}},data(){return{selectedBlockType:null,isSafari:jee(),emptySvg:'<svg height="100" viewBox="0 0 50 50" width="100"></svg>',fieldData:[],settings:{}}},computed:{handleCollection(){const e=[];return Array.isArray(this.fieldData)&&this.fieldData.forEach(t=>{t.blockTypes.forEach(n=>{n!==this.selectedBlockType&&e.push(n.handle)})}),e}},created(){this.fieldData=this.$root.fieldData,this.settings=this.$root.settings},mounted(){},methods:{updateSelectedBlockType(e,t=!1){this.selectedBlockType=null,this.$nextTick(()=>{this.selectedBlockType=e,this.$nextTick(()=>{this.$refs["name-field"].value||this.$refs["name-field"].focus()})})},selectBlockType(e){this.selectedBlockType===e?this.selectedBlockType=null:this.updateSelectedBlockType(e)},getErrors(e,t=""){let n=[];const r=`${e.id}:${t}`;return this.errors&&(n=Object.keys(this.errors).filter(i=>i.includes(r)).map(i=>this.errors[i][0])),n},hasErrors(e,t=""){return this.getErrors(e,t).length},addBlockType(e){e.blockTypes||(e.blockTypes=[]),e.blockTypes.push({id:By("type-"),enabled:!0}),this.updateSelectedBlockType(e.blockTypes[e.blockTypes.length-1],!0)},addGroup(){const e=prompt(Craft.t("vizy","Give your group a name."));e&&this.fieldData.push({id:By("group-"),name:e,blockTypes:[]})},deleteBlockType(){const e=Craft.t("vizy","Are you sure you want to delete \u201C{name}\u201D? This will permanently delete all content created with this block type.",{name:this.selectedBlockType.name});if(confirm(e))for(let t=0;this.fieldData.length;t++){const n=this.fieldData[t].blockTypes.indexOf(this.selectedBlockType);if(n!==-1){this.fieldData[t].blockTypes.splice(n,1),this.selectedBlockType=null;break}}},deleteGroup(e){const t=Craft.t("vizy","Are you sure you want to delete \u201C{name}\u201D? This will permanently delete all content created with any of these block types.",{name:e.name});if(confirm(t)){const n=this.fieldData.indexOf(e);n!==-1&&(this.fieldData.splice(n,1),this.selectedBlockType=null)}},moveGroupUp(e){const t=this.fieldData.indexOf(e),n=t-1,[r]=this.fieldData.splice(t,1);this.fieldData.splice(n,0,r)},moveGroupDown(e){const t=this.fieldData.indexOf(e),n=t+1,[r]=this.fieldData.splice(t,1);this.fieldData.splice(n,0,r)},dragEnter(e,t){!t||t.target.parentNode.classList.add("is-active")},dragLeave(e,t){!t||t.target.parentNode.classList.remove("is-active")},dragDrop(e,t){if(!t)return;t.target.parentNode.classList.remove("is-active");const n=parseInt(e.groupIndex),r=parseInt(e.blockTypeIndex),i=parseInt(t.target.getAttribute("data-group"));let o=parseInt(t.target.getAttribute("data-block"));if(n===i&&r===o||n===i&&r===o-1)return;n===i&&r<o&&(o=o-1);const[s]=this.fieldData[n].blockTypes.splice(r,1);this.fieldData[i].blockTypes||(this.fieldData[i].blockTypes=[]),this.fieldData[i].blockTypes.splice(o,0,s)}}},Wee={class:"vui-workspace"},Uee=["name","value"],Kee={class:"vui-popover"},qee={class:"vui-popover-inner"},Gee={key:0},Yee={class:"vui-block-items-header"},Jee=["onBlur","innerHTML"],Xee={class:"vui-block-items-header-actions"},Zee=["onClick"],Qee=le("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-up",class:"svg-inline--fa fa-arrow-up fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[le("path",{fill:"currentColor",d:"M6.101 261.899L25.9 281.698c4.686 4.686 12.284 4.686 16.971 0L198 126.568V468c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12V126.568l155.13 155.13c4.686 4.686 12.284 4.686 16.971 0l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L232.485 35.515c-4.686-4.686-12.284-4.686-16.971 0L6.101 244.929c-4.687 4.686-4.687 12.284 0 16.97z"})],-1),ete=[Qee],tte=["onClick"],nte=le("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-down",class:"svg-inline--fa fa-arrow-down fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[le("path",{fill:"currentColor",d:"M441.9 250.1l-19.8-19.8c-4.7-4.7-12.3-4.7-17 0L250 385.4V44c0-6.6-5.4-12-12-12h-28c-6.6 0-12 5.4-12 12v341.4L42.9 230.3c-4.7-4.7-12.3-4.7-17 0L6.1 250.1c-4.7 4.7-4.7 12.3 0 17l209.4 209.4c4.7 4.7 12.3 4.7 17 0l209.4-209.4c4.7-4.7 4.7-12.3 0-17z"})],-1),rte=[nte],ite=["onClick"],ote={class:"vui-block-items"},ste=["onClick"],ate={class:"dropzone-vertical-left"},lte=le("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),ute=["innerHTML"],cte={class:"vui-block-item-heading"},fte={class:"vui-block-item",style:{width:"90px",height:"62px",background:"white"}},dte=["innerHTML"],hte={class:"vui-block-item-heading"},pte={key:0,class:"dropzone-vertical-right"},gte=le("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),mte=["onClick"],vte={key:0},yte={class:"dropzone-vertical-left"},bte=le("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),_te=le("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-plus fa-w-12"},[le("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),wte={class:"vui-block-item-heading"},xte={key:0},kte=le("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-plus fa-w-12"},[le("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),Cte={class:"vui-block-item-heading"},Ste={key:0,class:"vui-block-editor"},Tte={class:"vui-block-titlebar"},Ete={class:"blocktype"},Ate={class:"vui-block-titlebar-actions"},Dte={key:0,class:"errors"},Mte={class:"field"},Ote={class:"heading"},Nte={id:"name-field-label",class:"required",for:"name"},Lte={id:"name-field-instructions",class:"instructions"},Pte={class:"input ltr"},Ite={key:0,class:"errors"},Fte={class:"field"},Rte={class:"heading"},zte={id:"handle-field-label",class:"required",for:"handle"},Bte={id:"handle-field-instructions",class:"instructions"},$te={class:"input ltr"},Hte={key:0,class:"errors"},jte={class:"field"},Vte={class:"heading"},Wte={id:"icon-field-label",class:"required",for:"icon"},Ute={id:"icon-field-instructions",class:"instructions"},Kte={class:"input ltr"},qte={key:0,class:"errors"},Gte={class:"field"},Yte={class:"heading"},Jte={id:"template-field-label",for:"template"},Xte={id:"template-field-instructions",class:"instructions"},Zte={class:"input ltr"},Qte={key:0,class:"errors"},ene={class:"field"},tne={class:"heading"},nne={id:"layout-field-label",class:"required",for:"layout"},rne={id:"layout-field-instructions",class:"instructions"},ine={class:"input ltr"},one={key:1,class:"vui-block-editor-empty"},sne={key:0},ane={key:1},lne=le("svg",{xmlns:"http://www.w3.org/2000/svg",width:"68px",height:"32.9px",viewBox:"0 0 68 32.9"},[le("path",{fill:"currentColor",d:"M8.2,32.9c-0.3,0-0.6-0.2-0.7-0.5c-0.7-2.2-2.3-3.6-3.9-5.1c-1.3-1.2-2.6-2.5-3.6-4.1c-0.1-0.2-0.1-0.5,0-0.7s0.3-0.4,0.6-0.4c2.1-0.2,9.2-1,11.8-3.2c0.3-0.3,0.8-0.2,1.1,0.1c0.3,0.3,0.2,0.8-0.1,1.1c-2.5,2.1-8.1,3-11.4,3.4c0.8,1,1.7,1.9,2.6,2.8C6.4,27.8,8.1,29.4,9,32c0.1,0.4-0.1,0.8-0.5,0.9C8.4,32.9,8.3,32.9,8.2,32.9z M30,30.8c-8.1,0-16.5-1.8-24-5.4c-0.4-0.2-0.5-0.6-0.4-1s0.6-0.5,1-0.4c14.3,6.9,32.1,7,44.2,0.4c9-4.9,14.4-13.1,15.7-23.8C66.6,0.2,67,0,67.4,0c0.4,0.1,0.7,0.4,0.7,0.8C66.7,12,61,20.6,51.5,25.7C45.4,29.1,37.8,30.8,30,30.8z"})],-1);function une(e,t,n,r,i,o){const s=At("drop"),l=At("drag"),c=At("lightswitch-field"),h=At("handle-input"),p=At("vizy-icon-picker"),m=At("auto-suggest"),v=At("field-layout-designer");return _e(),Le("div",Wee,[le("div",null,[le("textarea",{class:"hidden fullwidth",rows:"20",name:n.fieldName,value:JSON.stringify(i.fieldData)},null,8,Uee)]),le("div",Kee,[le("div",qee,[(_e(!0),Le(St,null,Tn(i.fieldData,(b,_)=>(_e(),Le("div",{key:_,class:"vui-block-group"},[_>0?(_e(),Le("hr",Gee)):Nt("",!0),le("div",Yee,[le("span",{class:"vui-block-items-header-text",contenteditable:"true",onBlur:x=>b.name=x.target.innerText,innerHTML:b.name},null,40,Jee),le("div",Xee,[_>0?(_e(),Le("button",{key:0,class:"vui-block-items-header-move",onClick:Dt(x=>o.moveGroupUp(b),["prevent"])},ete,8,Zee)):Nt("",!0),_<i.fieldData.length-1?(_e(),Le("button",{key:1,class:"vui-block-items-header-move",onClick:Dt(x=>o.moveGroupDown(b),["prevent"])},rte,8,tte)):Nt("",!0),le("button",{class:"vui-block-items-header-delete",onClick:Dt(x=>o.deleteGroup(b),["prevent"])},Xe(e.t("site","Delete")),9,ite)])]),le("div",ote,[(_e(!0),Le(St,null,Tn(b.blockTypes,(x,D)=>(_e(),Le("div",{key:D,class:It(["vui-block-item",{active:i.selectedBlockType===x,"has-error":o.hasErrors(x)}]),onClick:Dt(E=>o.selectBlockType(x),["prevent"])},[le("div",ate,[st(s,{"data-group":_,"data-block":D,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","data-block","onDrop","onDragenter","onDragleave"]),lte]),st(l,{"transfer-data":{groupIndex:_,blockTypeIndex:D}},hb({default:on(()=>[le("div",{innerHTML:x.icon?x.icon.svg:i.emptySvg},null,8,ute),le("span",cte,Xe(x.name),1),le("span",{class:It(["vui-block-item-status",{on:x.enabled}])},null,2)]),_:2},[i.isSafari?void 0:{name:"image",fn:on(()=>[le("div",fte,[le("div",{innerHTML:x.icon?x.icon.svg:i.emptySvg},null,8,dte),le("span",hte,Xe(x.name),1),le("span",{class:It(["vui-block-item-status",{on:x.enabled}])},null,2)])])}]),1032,["transfer-data"]),D==b.blockTypes.length-1?(_e(),Le("div",pte,[st(s,{"data-group":_,"data-block":D+1,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","data-block","onDrop","onDragenter","onDragleave"]),gte])):Nt("",!0)],10,ste))),128)),le("div",{class:"vui-block-item vui-block-new-item",onClick:Dt(x=>o.addBlockType(b),["prevent"])},[!b.blockTypes||!b.blockTypes.length?(_e(),Le("div",vte,[le("div",yte,[st(s,{"data-group":_,"data-block":0,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","onDrop","onDragenter","onDragleave"]),bte])])):Nt("",!0),_te,le("span",wte,Xe(e.t("vizy","Add Block")),1)],8,mte)])]))),128)),i.fieldData.length?(_e(),Le("hr",xte)):Nt("",!0),le("div",{class:"vui-block-item vui-block-new-item vui-block-new-group",onClick:t[0]||(t[0]=Dt((...b)=>o.addGroup&&o.addGroup(...b),["prevent"]))},[kte,le("span",Cte,Xe(e.t("vizy","Add Group")),1)])])]),i.selectedBlockType?(_e(),Le("div",Ste,[le("div",Tte,[le("div",Ete,Xe(i.selectedBlockType.name),1),le("div",Ate,[le("button",{class:"vui-block-titlebar-delete",onClick:t[1]||(t[1]=Dt((...b)=>o.deleteBlockType&&o.deleteBlockType(...b),["prevent"]))},Xe(e.t("vizy","Delete")),1),st(c,{modelValue:i.selectedBlockType.enabled,"onUpdate:modelValue":t[2]||(t[2]=b=>i.selectedBlockType.enabled=b),small:!0},null,8,["modelValue"])])]),o.getErrors(i.selectedBlockType,"general")?(_e(),Le("ul",Dte,[(_e(!0),Le(St,null,Tn(o.getErrors(i.selectedBlockType,"general"),(b,_)=>(_e(),Le("li",{key:_},Xe(b),1))),128))])):Nt("",!0),le("div",Mte,[le("div",Ote,[le("label",Nte,Xe(e.t("vizy","Name")),1)]),le("div",Lte,[le("p",null,Xe(e.t("vizy","What this block type will be called in the control panel.")),1)]),le("div",Pte,[On(le("input",{id:"name",ref:"name-field","onUpdate:modelValue":t[3]||(t[3]=b=>i.selectedBlockType.name=b),type:"text",class:It(["text fullwidth",{error:o.hasErrors(i.selectedBlockType,"name")}]),autocomplete:"off",autocorrect:"off",autocapitalize:"off"},null,2),[[Pr,i.selectedBlockType.name]])]),o.getErrors(i.selectedBlockType,"name")?(_e(),Le("ul",Ite,[(_e(!0),Le(St,null,Tn(o.getErrors(i.selectedBlockType,"name"),(b,_)=>(_e(),Le("li",{key:_},Xe(b),1))),128))])):Nt("",!0)]),le("div",Fte,[le("div",Rte,[le("label",zte,Xe(e.t("vizy","Handle")),1)]),le("div",Bte,[le("p",null,Xe(e.t("vizy","How you\u2019ll refer to this block type in the templates.")),1)]),le("div",$te,[st(h,{id:"handle",ref:"handle-field",modelValue:i.selectedBlockType.handle,"onUpdate:modelValue":t[4]||(t[4]=b=>i.selectedBlockType.handle=b),"source-value":i.selectedBlockType.name,collection:o.handleCollection,class:It({error:o.hasErrors(i.selectedBlockType,"handle")})},null,8,["modelValue","source-value","collection","class"])]),o.getErrors(i.selectedBlockType,"handle")?(_e(),Le("ul",Hte,[(_e(!0),Le(St,null,Tn(o.getErrors(i.selectedBlockType,"handle"),(b,_)=>(_e(),Le("li",{key:_},Xe(b),1))),128))])):Nt("",!0)]),le("div",jte,[le("div",Vte,[le("label",Wte,Xe(e.t("vizy","Icon")),1)]),le("div",Ute,[le("p",null,Xe(e.t("vizy","Select an appropriate icon for the block type. Start typing to search via keywords.")),1)]),le("div",Kte,[st(p,{modelValue:i.selectedBlockType.icon,"onUpdate:modelValue":t[5]||(t[5]=b=>i.selectedBlockType.icon=b),"input-classes":{error:o.hasErrors(i.selectedBlockType,"icon")}},null,8,["modelValue","input-classes"])]),o.getErrors(i.selectedBlockType,"icon")?(_e(),Le("ul",qte,[(_e(!0),Le(St,null,Tn(o.getErrors(i.selectedBlockType,"icon"),(b,_)=>(_e(),Le("li",{key:_},Xe(b),1))),128))])):Nt("",!0)]),le("div",Gte,[le("div",Yte,[le("label",Jte,Xe(e.t("vizy","Template")),1)]),le("div",Xte,[le("p",null,Xe(e.t("vizy","Provide the path for a template partial for rendering this block type.")),1)]),le("div",Zte,[st(m,{id:"template",modelValue:i.selectedBlockType.template,"onUpdate:modelValue":t[6]||(t[6]=b=>i.selectedBlockType.template=b),suggestions:i.settings.suggestions},null,8,["modelValue","suggestions"])]),o.getErrors(i.selectedBlockType,"template")?(_e(),Le("ul",Qte,[(_e(!0),Le(St,null,Tn(o.getErrors(i.selectedBlockType,"template"),(b,_)=>(_e(),Le("li",{key:_},Xe(b),1))),128))])):Nt("",!0)]),le("div",ene,[le("div",tne,[le("label",nne,Xe(e.t("vizy","Layout")),1)]),le("div",rne,[le("p",null,Xe(e.t("vizy","Define the field layout for this block type. Empty tabs are not allowed, and you must provide at least one element.")),1)]),le("div",ine,[st(v,{modelValue:i.selectedBlockType.layout,"onUpdate:modelValue":t[7]||(t[7]=b=>i.selectedBlockType.layout=b),"layout-uid":i.selectedBlockType.layoutUid,"field-id":i.settings.fieldId,"block-type-id":i.selectedBlockType.id},null,8,["modelValue","layout-uid","field-id","block-type-id"])])])])):(_e(),Le("div",one,[i.fieldData.length?(_e(),Le("p",sne,Xe(e.t("vizy","Select a block to edit.")),1)):(_e(),Le("p",ane,Xe(e.t("vizy","Add a new group to begin.")),1)),lne]))])}var cne=hn(Vee,[["render",une]]);typeof Craft.Vizy=="undefined"&&(Craft.Vizy={});Craft.Vizy.Input=Garnish.Base.extend({init(e){fD({components:{VizyInput:FQ},methods:{onInputInit(){}}}).mount(`#${e}-field`)}});Craft.Vizy.Settings=Garnish.Base.extend({init(e,t,n){fD({components:{VizySettings:cne},data(){return{fieldData:t,settings:n}}}).mount(`.${e}-vizy-configurator`)}});$(document).ready(()=>{Craft.VizyReady=!0,document.dispatchEvent(new CustomEvent("vite-script-loaded",{detail:{path:"field/src/js/vizy.js"}}))})});export default fne();
//# sourceMappingURL=vizy.545c415b.js.map
