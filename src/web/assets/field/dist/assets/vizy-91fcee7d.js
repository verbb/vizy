<<<<<<<< HEAD:src/web/assets/field/dist/assets/vizy-1d31d33d.js
var FP=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Pue=FP((ri,ii)=>{/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ai(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Ft={},bu=[],An=()=>{},vp=()=>!1,Cl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),b1=t=>t.startsWith("onUpdate:"),Rt=Object.assign,_1=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},VP=Object.prototype.hasOwnProperty,Dt=(t,e)=>VP.call(t,e),We=Array.isArray,_u=t=>oc(t)==="[object Map]",Tl=t=>oc(t)==="[object Set]",Gx=t=>oc(t)==="[object Date]",jP=t=>oc(t)==="[object RegExp]",pt=t=>typeof t=="function",xt=t=>typeof t=="string",Vi=t=>typeof t=="symbol",qt=t=>t!==null&&typeof t=="object",w1=t=>(qt(t)||pt(t))&&pt(t.then)&&pt(t.catch),CA=Object.prototype.toString,oc=t=>CA.call(t),WP=t=>oc(t).slice(8,-1),TA=t=>oc(t)==="[object Object]",k1=t=>xt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ya=ai(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),UP=ai("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),rg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},qP=/-(\w)/g,bn=rg(t=>t.replace(qP,(e,n)=>n?n.toUpperCase():"")),KP=/\B([A-Z])/g,ni=rg(t=>t.replace(KP,"-$1").toLowerCase()),El=rg(t=>t.charAt(0).toUpperCase()+t.slice(1)),wu=rg(t=>t?`on${El(t)}`:""),ji=(t,e)=>!Object.is(t,e),ku=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},zp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},zf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Bp=t=>{const e=xt(t)?Number(t):NaN;return isNaN(e)?t:e};let Yx;const x1=()=>Yx||(Yx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),GP="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",YP=ai(GP);function oi(t){if(We(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=xt(r)?EA(r):oi(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(xt(t)||qt(t))return t}const JP=/;(?![^(]*\))/g,XP=/:([^]+)/,ZP=/\/\*[^]*?\*\//g;function EA(t){const e={};return t.replace(ZP,"").split(JP).forEach(n=>{if(n){const r=n.split(XP);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function gt(t){let e="";if(xt(t))e=t;else if(We(t))for(let n=0;n<t.length;n++){const r=gt(t[n]);r&&(e+=r+" ")}else if(qt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function AA(t){if(!t)return null;let{class:e,style:n}=t;return e&&!xt(e)&&(t.class=gt(e)),n&&(t.style=oi(n)),t}const QP="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",eD="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",tD="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",nD="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",rD=ai(QP),iD=ai(eD),oD=ai(tD),sD=ai(nD),aD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lD=ai(aD);function OA(t){return!!t||t===""}function uD(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=qo(t[r],e[r]);return n}function qo(t,e){if(t===e)return!0;let n=Gx(t),r=Gx(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Vi(t),r=Vi(e),n||r)return t===e;if(n=We(t),r=We(e),n||r)return n&&r?uD(t,e):!1;if(n=qt(t),r=qt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const l=t.hasOwnProperty(s),u=e.hasOwnProperty(s);if(l&&!u||!l&&u||!qo(t[s],e[s]))return!1}}return String(t)===String(e)}function ig(t,e){return t.findIndex(n=>qo(n,e))}const Ne=t=>xt(t)?t:t==null?"":We(t)||qt(t)&&(t.toString===CA||!pt(t.toString))?JSON.stringify(t,MA,2):String(t),MA=(t,e)=>e&&e.__v_isRef?MA(t,e.value):_u(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[s0(r,o)+" =>"]=i,n),{})}:Tl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>s0(n))}:Vi(e)?s0(e):qt(e)&&!We(e)&&!TA(e)?String(e):e,s0=(t,e="")=>{var n;return Vi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zr;class S1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Zr,!e&&Zr&&(this.index=(Zr.scopes||(Zr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Zr;try{return Zr=this,e()}finally{Zr=n}}}on(){Zr=this}off(){Zr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function cD(t){return new S1(t)}function LA(t,e=Zr){e&&e.active&&e.effects.push(t)}function NA(){return Zr}function fD(t){Zr&&Zr.cleanups.push(t)}let Ja;class Pu{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,LA(this,i)}get dirty(){if(this._dirtyLevel===1){ua();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(dD(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),ca()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Gs,n=Ja;try{return Gs=!0,Ja=this,this._runnings++,Jx(this),this.fn()}finally{Xx(this),this._runnings--,Ja=n,Gs=e}}stop(){var e;this.active&&(Jx(this),Xx(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function dD(t){return t.value}function Jx(t){t._trackId++,t._depsLength=0}function Xx(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)IA(t.deps[e],t);t.deps.length=t._depsLength}}function IA(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function hD(t,e){t.effect instanceof Pu&&(t=t.effect.fn);const n=new Pu(t,An,()=>{n.dirty&&n.run()});e&&(Rt(n,e),e.scope&&LA(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function pD(t){t.effect.stop()}let Gs=!0,Ty=0;const PA=[];function ua(){PA.push(Gs),Gs=!1}function ca(){const t=PA.pop();Gs=t===void 0?!0:t}function C1(){Ty++}function T1(){for(Ty--;!Ty&&Ey.length;)Ey.shift()()}function DA(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&IA(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Ey=[];function RA(t,e,n){C1();for(const r of t.keys())if(r._dirtyLevel<e&&t.get(r)===r._trackId){const i=r._dirtyLevel;r._dirtyLevel=e,i===0&&(r._shouldSchedule=!0,r.trigger())}zA(t),T1()}function zA(t){for(const e of t.keys())e.scheduler&&e._shouldSchedule&&(!e._runnings||e.allowRecurse)&&t.get(e)===e._trackId&&(e._shouldSchedule=!1,Ey.push(e.scheduler))}const BA=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},$p=new WeakMap,Xa=Symbol(""),Ay=Symbol("");function Wr(t,e,n){if(Gs&&Ja){let r=$p.get(t);r||$p.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=BA(()=>r.delete(n))),DA(Ja,i)}}function Vo(t,e,n,r,i,o){const s=$p.get(t);if(!s)return;let l=[];if(e==="clear")l=[...s.values()];else if(n==="length"&&We(t)){const u=Number(r);s.forEach((f,d)=>{(d==="length"||!Vi(d)&&d>=u)&&l.push(f)})}else switch(n!==void 0&&l.push(s.get(n)),e){case"add":We(t)?k1(n)&&l.push(s.get("length")):(l.push(s.get(Xa)),_u(t)&&l.push(s.get(Ay)));break;case"delete":We(t)||(l.push(s.get(Xa)),_u(t)&&l.push(s.get(Ay)));break;case"set":_u(t)&&l.push(s.get(Xa));break}C1();for(const u of l)u&&RA(u,2);T1()}function mD(t,e){var n;return(n=$p.get(t))==null?void 0:n.get(e)}const gD=ai("__proto__,__v_isRef,__isVue"),$A=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Vi)),Zx=vD();function vD(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Mt(this);for(let o=0,s=this.length;o<s;o++)Wr(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Mt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ua(),C1();const r=Mt(this)[e].apply(this,n);return T1(),ca(),r}}),t}function yD(t){const e=Mt(this);return Wr(e,"has",t),e.hasOwnProperty(t)}class HA{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const i=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?qA:UA:o?WA:jA).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=We(e);if(!i){if(s&&Dt(Zx,n))return Reflect.get(Zx,n,r);if(n==="hasOwnProperty")return yD}const l=Reflect.get(e,n,r);return(Vi(n)?$A.has(n):gD(n))||(i||Wr(e,"get",n),o)?l:qn(l)?s&&k1(n)?l:l.value:qt(l)?i?A1(l):Al(l):l}}class FA extends HA{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._shallow){const u=ll(o);if(!Bf(r)&&!ll(r)&&(o=Mt(o),r=Mt(r)),!We(e)&&qn(o)&&!qn(r))return u?!1:(o.value=r,!0)}const s=We(e)&&k1(n)?Number(n)<e.length:Dt(e,n),l=Reflect.set(e,n,r,i);return e===Mt(i)&&(s?ji(r,o)&&Vo(e,"set",n,r):Vo(e,"add",n,r)),l}deleteProperty(e,n){const r=Dt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Vo(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Vi(n)||!$A.has(n))&&Wr(e,"has",n),r}ownKeys(e){return Wr(e,"iterate",We(e)?"length":Xa),Reflect.ownKeys(e)}}class VA extends HA{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const bD=new FA,_D=new VA,wD=new FA(!0),kD=new VA(!0),E1=t=>t,og=t=>Reflect.getPrototypeOf(t);function Sh(t,e,n=!1,r=!1){t=t.__v_raw;const i=Mt(t),o=Mt(e);n||(ji(e,o)&&Wr(i,"get",e),Wr(i,"get",o));const{has:s}=og(i),l=r?E1:n?M1:$f;if(s.call(i,e))return l(t.get(e));if(s.call(i,o))return l(t.get(o));t!==i&&t.get(e)}function Ch(t,e=!1){const n=this.__v_raw,r=Mt(n),i=Mt(t);return e||(ji(t,i)&&Wr(r,"has",t),Wr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Th(t,e=!1){return t=t.__v_raw,!e&&Wr(Mt(t),"iterate",Xa),Reflect.get(t,"size",t)}function Qx(t){t=Mt(t);const e=Mt(this);return og(e).has.call(e,t)||(e.add(t),Vo(e,"add",t,t)),this}function e2(t,e){e=Mt(e);const n=Mt(this),{has:r,get:i}=og(n);let o=r.call(n,t);o||(t=Mt(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?ji(e,s)&&Vo(n,"set",t,e):Vo(n,"add",t,e),this}function t2(t){const e=Mt(this),{has:n,get:r}=og(e);let i=n.call(e,t);i||(t=Mt(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Vo(e,"delete",t,void 0),o}function n2(){const t=Mt(this),e=t.size!==0,n=t.clear();return e&&Vo(t,"clear",void 0,void 0),n}function Eh(t,e){return function(r,i){const o=this,s=o.__v_raw,l=Mt(s),u=e?E1:t?M1:$f;return!t&&Wr(l,"iterate",Xa),s.forEach((f,d)=>r.call(i,u(f),u(d),o))}}function Ah(t,e,n){return function(...r){const i=this.__v_raw,o=Mt(i),s=_u(o),l=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,f=i[t](...r),d=n?E1:e?M1:$f;return!e&&Wr(o,"iterate",u?Ay:Xa),{next(){const{value:m,done:v}=f.next();return v?{value:m,done:v}:{value:l?[d(m[0]),d(m[1])]:d(m),done:v}},[Symbol.iterator](){return this}}}}function ks(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function xD(){const t={get(o){return Sh(this,o)},get size(){return Th(this)},has:Ch,add:Qx,set:e2,delete:t2,clear:n2,forEach:Eh(!1,!1)},e={get(o){return Sh(this,o,!1,!0)},get size(){return Th(this)},has:Ch,add:Qx,set:e2,delete:t2,clear:n2,forEach:Eh(!1,!0)},n={get(o){return Sh(this,o,!0)},get size(){return Th(this,!0)},has(o){return Ch.call(this,o,!0)},add:ks("add"),set:ks("set"),delete:ks("delete"),clear:ks("clear"),forEach:Eh(!0,!1)},r={get(o){return Sh(this,o,!0,!0)},get size(){return Th(this,!0)},has(o){return Ch.call(this,o,!0)},add:ks("add"),set:ks("set"),delete:ks("delete"),clear:ks("clear"),forEach:Eh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Ah(o,!1,!1),n[o]=Ah(o,!0,!1),e[o]=Ah(o,!1,!0),r[o]=Ah(o,!0,!0)}),[t,n,e,r]}const[SD,CD,TD,ED]=xD();function sg(t,e){const n=e?t?ED:TD:t?CD:SD;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Dt(n,i)&&i in r?n:r,i,o)}const AD={get:sg(!1,!1)},OD={get:sg(!1,!0)},MD={get:sg(!0,!1)},LD={get:sg(!0,!0)},jA=new WeakMap,WA=new WeakMap,UA=new WeakMap,qA=new WeakMap;function ND(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ID(t){return t.__v_skip||!Object.isExtensible(t)?0:ND(WP(t))}function Al(t){return ll(t)?t:ag(t,!1,bD,AD,jA)}function Hp(t){return ag(t,!1,wD,OD,WA)}function A1(t){return ag(t,!0,_D,MD,UA)}function PD(t){return ag(t,!0,kD,LD,qA)}function ag(t,e,n,r,i){if(!qt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=ID(t);if(s===0)return t;const l=new Proxy(t,s===2?r:n);return i.set(t,l),l}function Za(t){return ll(t)?Za(t.__v_raw):!!(t&&t.__v_isReactive)}function ll(t){return!!(t&&t.__v_isReadonly)}function Bf(t){return!!(t&&t.__v_isShallow)}function O1(t){return Za(t)||ll(t)}function Mt(t){const e=t&&t.__v_raw;return e?Mt(e):t}function fa(t){return zp(t,"__v_skip",!0),t}const $f=t=>qt(t)?Al(t):t,M1=t=>qt(t)?A1(t):t;class KA{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Pu(()=>e(this._value),()=>xu(this,1),()=>this.dep&&zA(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Mt(this);return(!e._cacheable||e.effect.dirty)&&ji(e._value,e._value=e.effect.run())&&xu(e,2),L1(e),e.effect._dirtyLevel>=1&&xu(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function DD(t,e,n=!1){let r,i;const o=pt(t);return o?(r=t,i=An):(r=t.get,i=t.set),new KA(r,i,o||!i,n)}function L1(t){Gs&&Ja&&(t=Mt(t),DA(Ja,t.dep||(t.dep=BA(()=>t.dep=void 0,t instanceof KA?t:void 0))))}function xu(t,e=2,n){t=Mt(t);const r=t.dep;r&&RA(r,e)}function qn(t){return!!(t&&t.__v_isRef===!0)}function Ot(t){return YA(t,!1)}function GA(t){return YA(t,!0)}function YA(t,e){return qn(t)?t:new RD(t,e)}class RD{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Mt(e),this._value=n?e:$f(e)}get value(){return L1(this),this._value}set value(e){const n=this.__v_isShallow||Bf(e)||ll(e);e=n?e:Mt(e),ji(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:$f(e),xu(this,2))}}function zD(t){xu(t,2)}function fr(t){return qn(t)?t.value:t}function BD(t){return pt(t)?t():fr(t)}const $D={get:(t,e,n)=>fr(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return qn(i)&&!qn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function N1(t){return Za(t)?t:new Proxy(t,$D)}class HD{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>L1(this),()=>xu(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function I1(t){return new HD(t)}function FD(t){const e=We(t)?new Array(t.length):{};for(const n in t)e[n]=JA(t,n);return e}class VD{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return mD(Mt(this._object),this._key)}}class jD{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function WD(t,e,n){return qn(t)?t:pt(t)?new jD(t):qt(t)&&arguments.length>1?JA(t,e,n):Ot(t)}function JA(t,e,n){const r=t[e];return qn(r)?r:new VD(t,e,n)}const UD={GET:"get",HAS:"has",ITERATE:"iterate"},qD={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const sf=[];function Ea(t,...e){ua();const n=sf.length?sf[sf.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=KD();if(r)mo(r,n,11,[t+e.join(""),n&&n.proxy,i.map(({vnode:o})=>`at <${G3(n,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${t}`,...e];i.length&&o.push(`
`,...GD(i)),console.warn(...o)}ca()}function KD(){let t=sf[sf.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function GD(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...YD(n))}),e}function YD({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${G3(t.component,t.type,r)}`,o=">"+n;return t.props?[i,...JD(t.props),o]:[i+o]}function JD(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...XA(r,t[r]))}),n.length>3&&e.push(" ..."),e}function XA(t,e,n){return xt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:qn(e)?(e=XA(t,Mt(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):pt(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Mt(e),n?e:[`${t}=`,e])}function XD(t,e){}const ZD={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},QD={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function mo(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Ol(o,e,n)}return i}function si(t,e,n,r){if(pt(t)){const o=mo(t,e,n,r);return o&&w1(o)&&o.catch(s=>{Ol(s,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(si(t[o],e,n,r));return i}function Ol(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const f=o.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](t,s,l)===!1)return}o=o.parent}const u=e.appContext.config.errorHandler;if(u){mo(u,null,10,[t,s,l]);return}}e5(t,n,i,r)}function e5(t,e,n,r=!0){console.error(t)}let Hf=!1,Oy=!1;const dr=[];let lo=0;const Su=[];let Is=null,Ra=0;const ZA=Promise.resolve();let P1=null;function Ri(t){const e=P1||ZA;return t?e.then(this?t.bind(this):t):e}function t5(t){let e=lo+1,n=dr.length;for(;e<n;){const r=e+n>>>1,i=dr[r],o=Ff(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function lg(t){(!dr.length||!dr.includes(t,Hf&&t.allowRecurse?lo+1:lo))&&(t.id==null?dr.push(t):dr.splice(t5(t.id),0,t),QA())}function QA(){!Hf&&!Oy&&(Oy=!0,P1=ZA.then(e3))}function n5(t){const e=dr.indexOf(t);e>lo&&dr.splice(e,1)}function Fp(t){We(t)?Su.push(...t):(!Is||!Is.includes(t,t.allowRecurse?Ra+1:Ra))&&Su.push(t),QA()}function r2(t,e,n=Hf?lo+1:0){for(;n<dr.length;n++){const r=dr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;dr.splice(n,1),n--,r()}}}function Vp(t){if(Su.length){const e=[...new Set(Su)].sort((n,r)=>Ff(n)-Ff(r));if(Su.length=0,Is){Is.push(...e);return}for(Is=e,Ra=0;Ra<Is.length;Ra++)Is[Ra]();Is=null,Ra=0}}const Ff=t=>t.id==null?1/0:t.id,r5=(t,e)=>{const n=Ff(t)-Ff(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function e3(t){Oy=!1,Hf=!0,dr.sort(r5);const e=An;try{for(lo=0;lo<dr.length;lo++){const n=dr[lo];n&&n.active!==!1&&mo(n,null,14)}}finally{lo=0,dr.length=0,Vp(),Hf=!1,P1=null,(dr.length||Su.length)&&e3()}}let su,Oh=[];function t3(t,e){var n,r;su=t,su?(su.enabled=!0,Oh.forEach(({event:i,args:o})=>su.emit(i,...o)),Oh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{t3(o,e)}),setTimeout(()=>{su||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Oh=[])},3e3)):Oh=[]}function i5(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ft;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:m,trim:v}=r[d]||Ft;v&&(i=n.map(y=>xt(y)?y.trim():y)),m&&(i=n.map(zf))}let l,u=r[l=wu(e)]||r[l=wu(bn(e))];!u&&o&&(u=r[l=wu(ni(e))]),u&&si(u,t,6,i);const f=r[l+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,si(f,t,6,i)}}function n3(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},l=!1;if(!pt(t)){const u=f=>{const d=n3(f,e,!0);d&&(l=!0,Rt(s,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!o&&!l?(qt(t)&&r.set(t,null),null):(We(o)?o.forEach(u=>s[u]=null):Rt(s,o),qt(t)&&r.set(t,s),s)}function ug(t,e){return!t||!Cl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Dt(t,e[0].toLowerCase()+e.slice(1))||Dt(t,ni(e))||Dt(t,e))}let On=null,cg=null;function Vf(t){const e=On;return On=t,cg=t&&t.type.__scopeId||null,e}function D1(t){cg=t}function R1(){cg=null}const z1=t=>Vt;function Vt(t,e=On,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&By(-1);const o=Vf(e);let s;try{s=t(...i)}finally{Vf(o),r._d&&By(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function yp(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:l,attrs:u,emit:f,render:d,renderCache:m,data:v,setupState:y,ctx:_,inheritAttrs:C}=t;let x,k;const A=Vf(t);try{if(n.shapeFlag&4){const E=i||r,H=E;x=ei(d.call(H,E,m,o,y,v,_)),k=u}else{const E=e;x=ei(E.length>1?E(o,{attrs:u,slots:l,emit:f}):E(o,null)),k=e.props?u:s5(u)}}catch(E){cf.length=0,Ol(E,t,1),x=Qe(pr)}let N=x;if(k&&C!==!1){const E=Object.keys(k),{shapeFlag:H}=N;E.length&&H&7&&(s&&E.some(b1)&&(k=a5(k,s)),N=yo(N,k))}return n.dirs&&(N=yo(N),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&(N.transition=n.transition),x=N,Vf(A),x}function o5(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(ea(i)){if(i.type!==pr||i.children==="v-if"){if(n)return;n=i}}else return}return n}const s5=t=>{let e;for(const n in t)(n==="class"||n==="style"||Cl(n))&&((e||(e={}))[n]=t[n]);return e},a5=(t,e)=>{const n={};for(const r in t)(!b1(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function l5(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:l,patchFlag:u}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?i2(r,s,f):!!s;if(u&8){const d=e.dynamicProps;for(let m=0;m<d.length;m++){const v=d[m];if(s[v]!==r[v]&&!ug(f,v))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?i2(r,s,f):!0:!!s;return!1}function i2(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!ug(n,o))return!0}return!1}function B1({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const $1="components",u5="directives";function ut(t,e){return H1($1,t,!0,e)||t}const r3=Symbol.for("v-ndc");function Qs(t){return xt(t)?H1($1,t,!1)||t:t||r3}function sc(t){return H1(u5,t)}function H1(t,e,n=!0,r=!1){const i=On||Bn;if(i){const o=i.type;if(t===$1){const l=Gp(o,!1);if(l&&(l===e||l===bn(e)||l===El(bn(e))))return o}const s=o2(i[t]||o[t],e)||o2(i.appContext[t],e);return!s&&r?o:s}}function o2(t,e){return t&&(t[e]||t[bn(e)]||t[El(bn(e))])}const i3=t=>t.__isSuspense;let My=0;const c5={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,o,s,l,u,f){if(t==null)d5(e,n,r,i,o,s,l,u,f);else{if(o&&o.deps>0){e.suspense=t.suspense;return}h5(t,e,n,r,i,s,l,u,f)}},hydrate:p5,create:F1,normalize:m5},f5=c5;function jf(t,e){const n=t.props&&t.props[e];pt(n)&&n()}function d5(t,e,n,r,i,o,s,l,u){const{p:f,o:{createElement:d}}=u,m=d("div"),v=t.suspense=F1(t,i,r,e,m,n,o,s,l,u);f(null,v.pendingBranch=t.ssContent,m,null,r,v,o,s),v.deps>0?(jf(t,"onPending"),jf(t,"onFallback"),f(null,t.ssFallback,e,n,r,null,o,s),Cu(v,t.ssFallback)):v.resolve(!1,!0)}function h5(t,e,n,r,i,o,s,l,{p:u,um:f,o:{createElement:d}}){const m=e.suspense=t.suspense;m.vnode=e,e.el=t.el;const v=e.ssContent,y=e.ssFallback,{activeBranch:_,pendingBranch:C,isInFallback:x,isHydrating:k}=m;if(C)m.pendingBranch=v,Ii(v,C)?(u(C,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0?m.resolve():x&&(k||(u(_,y,n,r,i,null,o,s,l),Cu(m,y)))):(m.pendingId=My++,k?(m.isHydrating=!1,m.activeBranch=C):f(C,i,m),m.deps=0,m.effects.length=0,m.hiddenContainer=d("div"),x?(u(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0?m.resolve():(u(_,y,n,r,i,null,o,s,l),Cu(m,y))):_&&Ii(v,_)?(u(_,v,n,r,i,m,o,s,l),m.resolve(!0)):(u(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0&&m.resolve()));else if(_&&Ii(v,_))u(_,v,n,r,i,m,o,s,l),Cu(m,v);else if(jf(e,"onPending"),m.pendingBranch=v,v.shapeFlag&512?m.pendingId=v.component.suspenseId:m.pendingId=My++,u(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0)m.resolve();else{const{timeout:A,pendingId:N}=m;A>0?setTimeout(()=>{m.pendingId===N&&m.fallback(y)},A):A===0&&m.fallback(y)}}function F1(t,e,n,r,i,o,s,l,u,f,d=!1){const{p:m,m:v,um:y,n:_,o:{parentNode:C,remove:x}}=f;let k;const A=g5(t);A&&e!=null&&e.pendingBranch&&(k=e.pendingId,e.deps++);const N=t.props?Bp(t.props.timeout):void 0,E=o,H={vnode:t,parent:e,parentComponent:n,namespace:s,container:r,hiddenContainer:i,deps:0,pendingId:My++,timeout:typeof N=="number"?N:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(I=!1,q=!1){const{vnode:P,activeBranch:z,pendingBranch:w,pendingId:R,effects:U,parentComponent:K,container:oe}=H;let D=!1;H.isHydrating?H.isHydrating=!1:I||(D=z&&w.transition&&w.transition.mode==="out-in",D&&(z.transition.afterLeave=()=>{R===H.pendingId&&(v(w,oe,o===E?_(z):o,0),Fp(U))}),z&&(C(z.el)!==H.hiddenContainer&&(o=_(z)),y(z,K,H,!0)),D||v(w,oe,o,0)),Cu(H,w),H.pendingBranch=null,H.isInFallback=!1;let ae=H.parent,ce=!1;for(;ae;){if(ae.pendingBranch){ae.effects.push(...U),ce=!0;break}ae=ae.parent}!ce&&!D&&Fp(U),H.effects=[],A&&e&&e.pendingBranch&&k===e.pendingId&&(e.deps--,e.deps===0&&!q&&e.resolve()),jf(P,"onResolve")},fallback(I){if(!H.pendingBranch)return;const{vnode:q,activeBranch:P,parentComponent:z,container:w,namespace:R}=H;jf(q,"onFallback");const U=_(P),K=()=>{H.isInFallback&&(m(null,I,w,U,z,null,R,l,u),Cu(H,I))},oe=I.transition&&I.transition.mode==="out-in";oe&&(P.transition.afterLeave=K),H.isInFallback=!0,y(P,z,null,!0),oe||K()},move(I,q,P){H.activeBranch&&v(H.activeBranch,I,q,P),H.container=I},next(){return H.activeBranch&&_(H.activeBranch)},registerDep(I,q){const P=!!H.pendingBranch;P&&H.deps++;const z=I.vnode.el;I.asyncDep.catch(w=>{Ol(w,I,0)}).then(w=>{if(I.isUnmounted||H.isUnmounted||H.pendingId!==I.suspenseId)return;I.asyncResolved=!0;const{vnode:R}=I;Fy(I,w,!1),z&&(R.el=z);const U=!z&&I.subTree.el;q(I,R,C(z||I.subTree.el),z?null:_(I.subTree),H,s,u),U&&x(U),B1(I,R.el),P&&--H.deps===0&&H.resolve()})},unmount(I,q){H.isUnmounted=!0,H.activeBranch&&y(H.activeBranch,n,I,q),H.pendingBranch&&y(H.pendingBranch,n,I,q)}};return H}function p5(t,e,n,r,i,o,s,l,u){const f=e.suspense=F1(e,r,n,t.parentNode,document.createElement("div"),null,i,o,s,l,!0),d=u(t,f.pendingBranch=e.ssContent,n,f,o,s);return f.deps===0&&f.resolve(!1,!0),d}function m5(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=s2(r?n.default:n),t.ssFallback=r?s2(n.fallback):Qe(pr)}function s2(t){let e;if(pt(t)){const n=fl&&t._c;n&&(t._d=!1,ge()),t=t(),n&&(t._d=!0,e=Br,$3())}return We(t)&&(t=o5(t)),t=ei(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function o3(t,e){e&&e.pendingBranch?We(t)?e.effects.push(...t):e.effects.push(t):Fp(t)}function Cu(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,B1(r,i))}function g5(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}const s3=Symbol.for("v-scx"),a3=()=>lf(s3);function l3(t,e){return bd(t,null,e)}function u3(t,e){return bd(t,null,{flush:"post"})}function c3(t,e){return bd(t,null,{flush:"sync"})}const Mh={};function En(t,e,n){return bd(t,e,n)}function bd(t,e,{immediate:n,deep:r,flush:i,once:o,onTrack:s,onTrigger:l}=Ft){if(e&&o){const I=e;e=(...q)=>{I(...q),H()}}const u=Bn,f=I=>r===!0?I:Fa(I,r===!1?1:void 0);let d,m=!1,v=!1;if(qn(t)?(d=()=>t.value,m=Bf(t)):Za(t)?(d=()=>f(t),m=!0):We(t)?(v=!0,m=t.some(I=>Za(I)||Bf(I)),d=()=>t.map(I=>{if(qn(I))return I.value;if(Za(I))return f(I);if(pt(I))return mo(I,u,2)})):pt(t)?e?d=()=>mo(t,u,2):d=()=>(y&&y(),si(t,u,3,[_])):d=An,e&&r){const I=d;d=()=>Fa(I())}let y,_=I=>{y=N.onStop=()=>{mo(I,u,4),y=N.onStop=void 0}},C;if(wd)if(_=An,e?n&&si(e,u,3,[d(),v?[]:void 0,_]):d(),i==="sync"){const I=a3();C=I.__watcherHandles||(I.__watcherHandles=[])}else return An;let x=v?new Array(t.length).fill(Mh):Mh;const k=()=>{if(!(!N.active||!N.dirty))if(e){const I=N.run();(r||m||(v?I.some((q,P)=>ji(q,x[P])):ji(I,x)))&&(y&&y(),si(e,u,3,[I,x===Mh?void 0:v&&x[0]===Mh?[]:x,_]),x=I)}else N.run()};k.allowRecurse=!!e;let A;i==="sync"?A=k:i==="post"?A=()=>Zn(k,u&&u.suspense):(k.pre=!0,u&&(k.id=u.uid),A=()=>lg(k));const N=new Pu(d,An,A),E=NA(),H=()=>{N.stop(),E&&_1(E.effects,N)};return e?n?k():x=N.run():i==="post"?Zn(N.run.bind(N),u&&u.suspense):N.run(),C&&C.push(H),H}function v5(t,e,n){const r=this.proxy,i=xt(t)?t.includes(".")?f3(r,t):()=>r[t]:t.bind(r,r);let o;pt(e)?o=e:(o=e.handler,n=e);const s=dl(this),l=bd(i,o.bind(r),n);return s(),l}function f3(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Fa(t,e,n=0,r){if(!qt(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),qn(t))Fa(t.value,e,n,r);else if(We(t))for(let i=0;i<t.length;i++)Fa(t[i],e,n,r);else if(Tl(t)||_u(t))t.forEach(i=>{Fa(i,e,n,r)});else if(TA(t))for(const i in t)Fa(t[i],e,n,r);return t}function Ut(t,e){if(On===null)return t;const n=gg(On)||On.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,s,l,u=Ft]=e[i];o&&(pt(o)&&(o={mounted:o,updated:o}),o.deep&&Fa(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:l,modifiers:u}))}return t}function so(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const l=i[s];o&&(l.oldValue=o[s].value);let u=l.dir[r];u&&(ua(),si(u,n,8,[t.el,l,t,e]),ca())}}const Ps=Symbol("_leaveCb"),Lh=Symbol("_enterCb");function V1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ts(()=>{t.isMounted=!0}),Ml(()=>{t.isUnmounting=!0}),t}const di=[Function,Array],j1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:di,onEnter:di,onAfterEnter:di,onEnterCancelled:di,onBeforeLeave:di,onLeave:di,onAfterLeave:di,onLeaveCancelled:di,onBeforeAppear:di,onAppear:di,onAfterAppear:di,onAppearCancelled:di},y5={name:"BaseTransition",props:j1,setup(t,{slots:e}){const n=qi(),r=V1();let i;return()=>{const o=e.default&&fg(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const C of o)if(C.type!==pr){s=C;break}}const l=Mt(t),{mode:u}=l;if(r.isLeaving)return a0(s);const f=a2(s);if(!f)return a0(s);const d=Du(f,l,r,n);ul(f,d);const m=n.subTree,v=m&&a2(m);let y=!1;const{getTransitionKey:_}=f.type;if(_){const C=_();i===void 0?i=C:C!==i&&(i=C,y=!0)}if(v&&v.type!==pr&&(!Ii(f,v)||y)){const C=Du(v,l,r,n);if(ul(v,C),u==="out-in")return r.isLeaving=!0,C.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},a0(s);u==="in-out"&&f.type!==pr&&(C.delayLeave=(x,k,A)=>{const N=h3(r,v);N[String(v.key)]=v,x[Ps]=()=>{k(),x[Ps]=void 0,delete d.delayedLeave},d.delayedLeave=A})}return s}}},d3=y5;function h3(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Du(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:m,onLeave:v,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:C,onAppear:x,onAfterAppear:k,onAppearCancelled:A}=e,N=String(t.key),E=h3(n,t),H=(P,z)=>{P&&si(P,r,9,z)},I=(P,z)=>{const w=z[1];H(P,z),We(P)?P.every(R=>R.length<=1)&&w():P.length<=1&&w()},q={mode:o,persisted:s,beforeEnter(P){let z=l;if(!n.isMounted)if(i)z=C||l;else return;P[Ps]&&P[Ps](!0);const w=E[N];w&&Ii(t,w)&&w.el[Ps]&&w.el[Ps](),H(z,[P])},enter(P){let z=u,w=f,R=d;if(!n.isMounted)if(i)z=x||u,w=k||f,R=A||d;else return;let U=!1;const K=P[Lh]=oe=>{U||(U=!0,oe?H(R,[P]):H(w,[P]),q.delayedLeave&&q.delayedLeave(),P[Lh]=void 0)};z?I(z,[P,K]):K()},leave(P,z){const w=String(t.key);if(P[Lh]&&P[Lh](!0),n.isUnmounting)return z();H(m,[P]);let R=!1;const U=P[Ps]=K=>{R||(R=!0,z(),K?H(_,[P]):H(y,[P]),P[Ps]=void 0,E[w]===t&&delete E[w])};E[w]=t,v?I(v,[P,U]):U()},clone(P){return Du(P,e,n,r)}};return q}function a0(t){if(_d(t))return t=yo(t),t.children=null,t}function a2(t){return _d(t)?t.children?t.children[0]:void 0:t}function ul(t,e){t.shapeFlag&6&&t.component?ul(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fg(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===kt?(s.patchFlag&128&&i++,r=r.concat(fg(s.children,e,l))):(e||s.type!==pr)&&r.push(l!=null?yo(s,{key:l}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Vn(t,e){return pt(t)?(()=>Rt({name:t.name},e,{setup:t}))():t}const Qa=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function b5(t){pt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:o,suspensible:s=!0,onError:l}=t;let u=null,f,d=0;const m=()=>(d++,u=null,v()),v=()=>{let y;return u||(y=u=e().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((C,x)=>{l(_,()=>C(m()),()=>x(_),d+1)});throw _}).then(_=>y!==u&&u?u:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),f=_,_)))};return Vn({name:"AsyncComponentWrapper",__asyncLoader:v,get __asyncResolved(){return f},setup(){const y=Bn;if(f)return()=>l0(f,y);const _=A=>{u=null,Ol(A,y,13,!r)};if(s&&y.suspense||wd)return v().then(A=>()=>l0(A,y)).catch(A=>(_(A),()=>r?Qe(r,{error:A}):null));const C=Ot(!1),x=Ot(),k=Ot(!!i);return i&&setTimeout(()=>{k.value=!1},i),o!=null&&setTimeout(()=>{if(!C.value&&!x.value){const A=new Error(`Async component timed out after ${o}ms.`);_(A),x.value=A}},o),v().then(()=>{C.value=!0,y.parent&&_d(y.parent.vnode)&&(y.parent.effect.dirty=!0,lg(y.parent.update))}).catch(A=>{_(A),x.value=A}),()=>{if(C.value&&f)return l0(f,y);if(x.value&&r)return Qe(r,{error:x.value});if(n&&!k.value)return Qe(n)}}})}function l0(t,e){const{ref:n,props:r,children:i,ce:o}=e.vnode,s=Qe(t,r,i);return s.ref=n,s.ce=o,delete e.vnode.ce,s}const _d=t=>t.type.__isKeepAlive,_5={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=qi(),r=n.ctx;if(!r.renderer)return()=>{const A=e.default&&e.default();return A&&A.length===1?A[0]:A};const i=new Map,o=new Set;let s=null;const l=n.suspense,{renderer:{p:u,m:f,um:d,o:{createElement:m}}}=r,v=m("div");r.activate=(A,N,E,H,I)=>{const q=A.component;f(A,N,E,0,l),u(q.vnode,A,N,E,q,l,H,A.slotScopeIds,I),Zn(()=>{q.isDeactivated=!1,q.a&&ku(q.a);const P=A.props&&A.props.onVnodeMounted;P&&Rr(P,q.parent,A)},l)},r.deactivate=A=>{const N=A.component;f(A,v,null,1,l),Zn(()=>{N.da&&ku(N.da);const E=A.props&&A.props.onVnodeUnmounted;E&&Rr(E,N.parent,A),N.isDeactivated=!0},l)};function y(A){u0(A),d(A,n,l,!0)}function _(A){i.forEach((N,E)=>{const H=Gp(N.type);H&&(!A||!A(H))&&C(E)})}function C(A){const N=i.get(A);!s||!Ii(N,s)?y(N):s&&u0(s),i.delete(A),o.delete(A)}En(()=>[t.include,t.exclude],([A,N])=>{A&&_(E=>Qc(A,E)),N&&_(E=>!Qc(N,E))},{flush:"post",deep:!0});let x=null;const k=()=>{x!=null&&i.set(x,c0(n.subTree))};return ts(k),hg(k),Ml(()=>{i.forEach(A=>{const{subTree:N,suspense:E}=n,H=c0(N);if(A.type===H.type&&A.key===H.key){u0(H);const I=H.component.da;I&&Zn(I,E);return}y(A)})}),()=>{if(x=null,!e.default)return null;const A=e.default(),N=A[0];if(A.length>1)return s=null,A;if(!ea(N)||!(N.shapeFlag&4)&&!(N.shapeFlag&128))return s=null,N;let E=c0(N);const H=E.type,I=Gp(Qa(E)?E.type.__asyncResolved||{}:H),{include:q,exclude:P,max:z}=t;if(q&&(!I||!Qc(q,I))||P&&I&&Qc(P,I))return s=E,N;const w=E.key==null?H:E.key,R=i.get(w);return E.el&&(E=yo(E),N.shapeFlag&128&&(N.ssContent=E)),x=w,R?(E.el=R.el,E.component=R.component,E.transition&&ul(E,E.transition),E.shapeFlag|=512,o.delete(w),o.add(w)):(o.add(w),z&&o.size>parseInt(z,10)&&C(o.values().next().value)),E.shapeFlag|=256,s=E,i3(N.type)?N:E}}},w5=_5;function Qc(t,e){return We(t)?t.some(n=>Qc(n,e)):xt(t)?t.split(",").includes(e):jP(t)?t.test(e):!1}function p3(t,e){g3(t,"a",e)}function m3(t,e){g3(t,"da",e)}function g3(t,e,n=Bn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(dg(e,r,n),n){let i=n.parent;for(;i&&i.parent;)_d(i.parent.vnode)&&k5(r,e,n,i),i=i.parent}}function k5(t,e,n,r){const i=dg(e,t,r,!0);pg(()=>{_1(r[e],i)},n)}function u0(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function c0(t){return t.shapeFlag&128?t.ssContent:t}function dg(t,e,n=Bn,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;ua();const l=dl(n),u=si(e,n,t,s);return l(),ca(),u});return r?i.unshift(o):i.push(o),o}}const es=t=>(e,n=Bn)=>(!wd||t==="sp")&&dg(t,(...r)=>e(...r),n),v3=es("bm"),ts=es("m"),y3=es("bu"),hg=es("u"),Ml=es("bum"),pg=es("um"),b3=es("sp"),_3=es("rtg"),w3=es("rtc");function k3(t,e=Bn){dg("ec",t,e)}function Zt(t,e,n,r){let i;const o=n&&n[r];if(We(t)||xt(t)){i=new Array(t.length);for(let s=0,l=t.length;s<l;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(qt(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,o&&o[l]));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const f=s[l];i[l]=e(t[f],f,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}function W1(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(We(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function pn(t,e,n={},r,i){if(On.isCE||On.parent&&Qa(On.parent)&&On.parent.isCE)return e!=="default"&&(n.name=e),Qe("slot",n,r&&r());let o=t[e];o&&o._c&&(o._d=!1),ge();const s=o&&x3(o(n)),l=Et(kt,{key:n.key||s&&s.key||`_${e}`},s||(r?r():[]),s&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function x3(t){return t.some(e=>ea(e)?!(e.type===pr||e.type===kt&&!x3(e.children)):!0)?t:null}function Ly(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:wu(r)]=t[r];return n}const Ny=t=>t?j3(t)?gg(t)||t.proxy:Ny(t.parent):null,af=Rt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ny(t.parent),$root:t=>Ny(t.root),$emit:t=>t.emit,$options:t=>U1(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,lg(t.update)}),$nextTick:t=>t.n||(t.n=Ri.bind(t.proxy)),$watch:t=>v5.bind(t)}),f0=(t,e)=>t!==Ft&&!t.__isScriptSetup&&Dt(t,e),Iy={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:l,appContext:u}=t;let f;if(e[0]!=="$"){const y=s[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(f0(r,e))return s[e]=1,r[e];if(i!==Ft&&Dt(i,e))return s[e]=2,i[e];if((f=t.propsOptions[0])&&Dt(f,e))return s[e]=3,o[e];if(n!==Ft&&Dt(n,e))return s[e]=4,n[e];Py&&(s[e]=0)}}const d=af[e];let m,v;if(d)return e==="$attrs"&&Wr(t,"get",e),d(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(n!==Ft&&Dt(n,e))return s[e]=4,n[e];if(v=u.config.globalProperties,Dt(v,e))return v[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return f0(i,e)?(i[e]=n,!0):r!==Ft&&Dt(r,e)?(r[e]=n,!0):Dt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let l;return!!n[s]||t!==Ft&&Dt(t,s)||f0(e,s)||(l=o[0])&&Dt(l,s)||Dt(r,s)||Dt(af,s)||Dt(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Dt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},x5=Rt({},Iy,{get(t,e){if(e!==Symbol.unscopables)return Iy.get(t,e,t)},has(t,e){return e[0]!=="_"&&!YP(e)}});function S5(){return null}function C5(){return null}function T5(t){}function E5(t){}function A5(){return null}function O5(){}function M5(t,e){return null}function L5(){return S3().slots}function N5(){return S3().attrs}function S3(){const t=qi();return t.setupContext||(t.setupContext=K3(t))}function Wf(t){return We(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function I5(t,e){const n=Wf(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?We(i)||pt(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function P5(t,e){return!t||!e?t||e:We(t)&&We(e)?t.concat(e):Rt({},Wf(t),Wf(e))}function D5(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function R5(t){const e=qi();let n=t();return Hy(),w1(n)&&(n=n.catch(r=>{throw dl(e),r})),[n,()=>dl(e)]}let Py=!0;function z5(t){const e=U1(t),n=t.proxy,r=t.ctx;Py=!1,e.beforeCreate&&l2(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:l,provide:u,inject:f,created:d,beforeMount:m,mounted:v,beforeUpdate:y,updated:_,activated:C,deactivated:x,beforeDestroy:k,beforeUnmount:A,destroyed:N,unmounted:E,render:H,renderTracked:I,renderTriggered:q,errorCaptured:P,serverPrefetch:z,expose:w,inheritAttrs:R,components:U,directives:K,filters:oe}=e;if(f&&B5(f,r,null),s)for(const ce in s){const ve=s[ce];pt(ve)&&(r[ce]=ve.bind(n))}if(i){const ce=i.call(n,n);qt(ce)&&(t.data=Al(ce))}if(Py=!0,o)for(const ce in o){const ve=o[ce],ze=pt(ve)?ve.bind(n,n):pt(ve.get)?ve.get.bind(n,n):An,qe=!pt(ve)&&pt(ve.set)?ve.set.bind(n):An,vt=er({get:ze,set:qe});Object.defineProperty(r,ce,{enumerable:!0,configurable:!0,get:()=>vt.value,set:mt=>vt.value=mt})}if(l)for(const ce in l)C3(l[ce],r,n,ce);if(u){const ce=pt(u)?u.call(n):u;Reflect.ownKeys(ce).forEach(ve=>{Wp(ve,ce[ve])})}d&&l2(d,t,"c");function ae(ce,ve){We(ve)?ve.forEach(ze=>ce(ze.bind(n))):ve&&ce(ve.bind(n))}if(ae(v3,m),ae(ts,v),ae(y3,y),ae(hg,_),ae(p3,C),ae(m3,x),ae(k3,P),ae(w3,I),ae(_3,q),ae(Ml,A),ae(pg,E),ae(b3,z),We(w))if(w.length){const ce=t.exposed||(t.exposed={});w.forEach(ve=>{Object.defineProperty(ce,ve,{get:()=>n[ve],set:ze=>n[ve]=ze})})}else t.exposed||(t.exposed={});H&&t.render===An&&(t.render=H),R!=null&&(t.inheritAttrs=R),U&&(t.components=U),K&&(t.directives=K)}function B5(t,e,n=An){We(t)&&(t=Dy(t));for(const r in t){const i=t[r];let o;qt(i)?"default"in i?o=lf(i.from||r,i.default,!0):o=lf(i.from||r):o=lf(i),qn(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function l2(t,e,n){si(We(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function C3(t,e,n,r){const i=r.includes(".")?f3(n,r):()=>n[r];if(xt(t)){const o=e[t];pt(o)&&En(i,o)}else if(pt(t))En(i,t.bind(n));else if(qt(t))if(We(t))t.forEach(o=>C3(o,e,n,r));else{const o=pt(t.handler)?t.handler.bind(n):e[t.handler];pt(o)&&En(i,o,t)}}function U1(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,l=o.get(e);let u;return l?u=l:!i.length&&!n&&!r?u=e:(u={},i.length&&i.forEach(f=>jp(u,f,s,!0)),jp(u,e,s)),qt(e)&&o.set(e,u),u}function jp(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&jp(t,o,n,!0),i&&i.forEach(s=>jp(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const l=$5[s]||n&&n[s];t[s]=l?l(t[s],e[s]):e[s]}return t}const $5={data:u2,props:c2,emits:c2,methods:ef,computed:ef,beforeCreate:Sr,created:Sr,beforeMount:Sr,mounted:Sr,beforeUpdate:Sr,updated:Sr,beforeDestroy:Sr,beforeUnmount:Sr,destroyed:Sr,unmounted:Sr,activated:Sr,deactivated:Sr,errorCaptured:Sr,serverPrefetch:Sr,components:ef,directives:ef,watch:F5,provide:u2,inject:H5};function u2(t,e){return e?t?function(){return Rt(pt(t)?t.call(this,this):t,pt(e)?e.call(this,this):e)}:e:t}function H5(t,e){return ef(Dy(t),Dy(e))}function Dy(t){if(We(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Sr(t,e){return t?[...new Set([].concat(t,e))]:e}function ef(t,e){return t?Rt(Object.create(null),t,e):e}function c2(t,e){return t?We(t)&&We(e)?[...new Set([...t,...e])]:Rt(Object.create(null),Wf(t),Wf(e??{})):e}function F5(t,e){if(!t)return e;if(!e)return t;const n=Rt(Object.create(null),t);for(const r in e)n[r]=Sr(t[r],e[r]);return n}function T3(){return{app:null,config:{isNativeTag:vp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let V5=0;function j5(t,e){return function(r,i=null){pt(r)||(r=Rt({},r)),i!=null&&!qt(i)&&(i=null);const o=T3(),s=new WeakSet;let l=!1;const u=o.app={_uid:V5++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:J3,get config(){return o.config},set config(f){},use(f,...d){return s.has(f)||(f&&pt(f.install)?(s.add(f),f.install(u,...d)):pt(f)&&(s.add(f),f(u,...d))),u},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),u},component(f,d){return d?(o.components[f]=d,u):o.components[f]},directive(f,d){return d?(o.directives[f]=d,u):o.directives[f]},mount(f,d,m){if(!l){const v=Qe(r,i);return v.appContext=o,m===!0?m="svg":m===!1&&(m=void 0),d&&e?e(v,f):t(v,f,m),l=!0,u._container=f,f.__vue_app__=u,gg(v.component)||v.component.proxy}},unmount(){l&&(t(null,u._container),delete u._container.__vue_app__)},provide(f,d){return o.provides[f]=d,u},runWithContext(f){Uf=u;try{return f()}finally{Uf=null}}};return u}}let Uf=null;function Wp(t,e){if(Bn){let n=Bn.provides;const r=Bn.parent&&Bn.parent.provides;r===n&&(n=Bn.provides=Object.create(r)),n[t]=e}}function lf(t,e,n=!1){const r=Bn||On;if(r||Uf){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Uf._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&pt(e)?e.call(r&&r.proxy):e}}function W5(){return!!(Bn||On||Uf)}function U5(t,e,n,r=!1){const i={},o={};zp(o,mg,1),t.propsDefaults=Object.create(null),E3(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:Hp(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function q5(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,l=Mt(i),[u]=t.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const d=t.vnode.dynamicProps;for(let m=0;m<d.length;m++){let v=d[m];if(ug(t.emitsOptions,v))continue;const y=e[v];if(u)if(Dt(o,v))y!==o[v]&&(o[v]=y,f=!0);else{const _=bn(v);i[_]=Ry(u,l,_,y,t,!1)}else y!==o[v]&&(o[v]=y,f=!0)}}}else{E3(t,e,i,o)&&(f=!0);let d;for(const m in l)(!e||!Dt(e,m)&&((d=ni(m))===m||!Dt(e,d)))&&(u?n&&(n[m]!==void 0||n[d]!==void 0)&&(i[m]=Ry(u,l,m,void 0,t,!0)):delete i[m]);if(o!==l)for(const m in o)(!e||!Dt(e,m))&&(delete o[m],f=!0)}f&&Vo(t,"set","$attrs")}function E3(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,l;if(e)for(let u in e){if(Ya(u))continue;const f=e[u];let d;i&&Dt(i,d=bn(u))?!o||!o.includes(d)?n[d]=f:(l||(l={}))[d]=f:ug(t.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,s=!0)}if(o){const u=Mt(n),f=l||Ft;for(let d=0;d<o.length;d++){const m=o[d];n[m]=Ry(i,u,m,f[m],t,!Dt(f,m))}}return s}function Ry(t,e,n,r,i,o){const s=t[n];if(s!=null){const l=Dt(s,"default");if(l&&r===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&pt(u)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const d=dl(i);r=f[n]=u.call(null,e),d()}}else r=u}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===ni(n))&&(r=!0))}return r}function A3(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},l=[];let u=!1;if(!pt(t)){const d=m=>{u=!0;const[v,y]=A3(m,e,!0);Rt(s,v),y&&l.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!u)return qt(t)&&r.set(t,bu),bu;if(We(o))for(let d=0;d<o.length;d++){const m=bn(o[d]);f2(m)&&(s[m]=Ft)}else if(o)for(const d in o){const m=bn(d);if(f2(m)){const v=o[d],y=s[m]=We(v)||pt(v)?{type:v}:Rt({},v);if(y){const _=p2(Boolean,y.type),C=p2(String,y.type);y[0]=_>-1,y[1]=C<0||_<C,(_>-1||Dt(y,"default"))&&l.push(m)}}}const f=[s,l];return qt(t)&&r.set(t,f),f}function f2(t){return t[0]!=="$"}function d2(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function h2(t,e){return d2(t)===d2(e)}function p2(t,e){return We(e)?e.findIndex(n=>h2(n,t)):pt(e)&&h2(e,t)?0:-1}const O3=t=>t[0]==="_"||t==="$stable",q1=t=>We(t)?t.map(ei):[ei(t)],K5=(t,e,n)=>{if(e._n)return e;const r=Vt((...i)=>q1(e(...i)),n);return r._c=!1,r},M3=(t,e,n)=>{const r=t._ctx;for(const i in t){if(O3(i))continue;const o=t[i];if(pt(o))e[i]=K5(i,o,r);else if(o!=null){const s=q1(o);e[i]=()=>s}}},L3=(t,e)=>{const n=q1(e);t.slots.default=()=>n},G5=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Mt(e),zp(e,"_",n)):M3(e,t.slots={})}else t.slots={},e&&L3(t,e);zp(t.slots,mg,1)},Y5=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=Ft;if(r.shapeFlag&32){const l=e._;l?n&&l===1?o=!1:(Rt(i,e),!n&&l===1&&delete i._):(o=!e.$stable,M3(e,i)),s=e}else e&&(L3(t,e),s={default:1});if(o)for(const l in i)!O3(l)&&s[l]==null&&delete i[l]};function Up(t,e,n,r,i=!1){if(We(t)){t.forEach((v,y)=>Up(v,e&&(We(e)?e[y]:e),n,r,i));return}if(Qa(r)&&!i)return;const o=r.shapeFlag&4?gg(r.component)||r.component.proxy:r.el,s=i?null:o,{i:l,r:u}=t,f=e&&e.r,d=l.refs===Ft?l.refs={}:l.refs,m=l.setupState;if(f!=null&&f!==u&&(xt(f)?(d[f]=null,Dt(m,f)&&(m[f]=null)):qn(f)&&(f.value=null)),pt(u))mo(u,l,12,[s,d]);else{const v=xt(u),y=qn(u),_=t.f;if(v||y){const C=()=>{if(_){const x=v?Dt(m,u)?m[u]:d[u]:u.value;i?We(x)&&_1(x,o):We(x)?x.includes(o)||x.push(o):v?(d[u]=[o],Dt(m,u)&&(m[u]=d[u])):(u.value=[o],t.k&&(d[t.k]=u.value))}else v?(d[u]=s,Dt(m,u)&&(m[u]=s)):y&&(u.value=s,t.k&&(d[t.k]=s))};i||_?C():(C.id=-1,Zn(C,n))}}}let xs=!1;const J5=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",X5=t=>t.namespaceURI.includes("MathML"),Nh=t=>{if(J5(t))return"svg";if(X5(t))return"mathml"},Wc=t=>t.nodeType===8;function Z5(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:s,remove:l,insert:u,createComment:f}}=t,d=(N,E)=>{if(!E.hasChildNodes()){__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&Ea("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,N,E),Vp(),E._vnode=N;return}xs=!1,m(E.firstChild,N,null,null,null),Vp(),E._vnode=N,xs&&console.error("Hydration completed but contains mismatches.")},m=(N,E,H,I,q,P=!1)=>{const z=Wc(N)&&N.data==="[",w=()=>C(N,E,H,I,q,z),{type:R,ref:U,shapeFlag:K,patchFlag:oe}=E;let D=N.nodeType;E.el=N,oe===-2&&(P=!1,E.dynamicChildren=null);let ae=null;switch(R){case cl:D!==3?E.children===""?(u(E.el=i(""),s(N),N),ae=N):ae=w():(N.data!==E.children&&(xs=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&Ea("Hydration text mismatch in",N.parentNode,`
  - rendered on server: ${JSON.stringify(N.data)}
  - expected on client: ${JSON.stringify(E.children)}`),N.data=E.children),ae=o(N));break;case pr:A(N)?(ae=o(N),k(E.el=N.content.firstChild,N,H)):D!==8||z?ae=w():ae=o(N);break;case el:if(z&&(N=o(N),D=N.nodeType),D===1||D===3){ae=N;const ce=!E.children.length;for(let ve=0;ve<E.staticCount;ve++)ce&&(E.children+=ae.nodeType===1?ae.outerHTML:ae.data),ve===E.staticCount-1&&(E.anchor=ae),ae=o(ae);return z?o(ae):ae}else w();break;case kt:z?ae=_(N,E,H,I,q,P):ae=w();break;default:if(K&1)(D!==1||E.type.toLowerCase()!==N.tagName.toLowerCase())&&!A(N)?ae=w():ae=v(N,E,H,I,q,P);else if(K&6){E.slotScopeIds=q;const ce=s(N);if(z?ae=x(N):Wc(N)&&N.data==="teleport start"?ae=x(N,N.data,"teleport end"):ae=o(N),e(E,ce,null,H,I,Nh(ce),P),Qa(E)){let ve;z?(ve=Qe(kt),ve.anchor=ae?ae.previousSibling:ce.lastChild):ve=N.nodeType===3?Ui(""):Qe("div"),ve.el=N,E.component.subTree=ve}}else K&64?D!==8?ae=w():ae=E.type.hydrate(N,E,H,I,q,P,t,y):K&128?ae=E.type.hydrate(N,E,H,I,Nh(s(N)),q,P,t,m):__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&Ea("Invalid HostVNode type:",R,`(${typeof R})`)}return U!=null&&Up(U,null,I,E),ae},v=(N,E,H,I,q,P)=>{P=P||!!E.dynamicChildren;const{type:z,props:w,patchFlag:R,shapeFlag:U,dirs:K,transition:oe}=E,D=z==="input"||z==="option";if(D||R!==-1){K&&so(E,null,H,"created");let ae=!1;if(A(N)){ae=D3(I,oe)&&H&&H.vnode.props&&H.vnode.props.appear;const ve=N.content.firstChild;ae&&oe.beforeEnter(ve),k(ve,N,H),E.el=N=ve}if(U&16&&!(w&&(w.innerHTML||w.textContent))){let ve=y(N.firstChild,E,N,H,I,q,P),ze=!1;for(;ve;){xs=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!ze&&(Ea("Hydration children mismatch on",N,`
Server rendered element contains more child nodes than client vdom.`),ze=!0);const qe=ve;ve=ve.nextSibling,l(qe)}}else U&8&&N.textContent!==E.children&&(xs=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&Ea("Hydration text content mismatch on",N,`
  - rendered on server: ${N.textContent}
  - expected on client: ${E.children}`),N.textContent=E.children);if(w)if(D||!P||R&48)for(const ve in w)(D&&(ve.endsWith("value")||ve==="indeterminate")||Cl(ve)&&!Ya(ve)||ve[0]===".")&&r(N,ve,null,w[ve],void 0,void 0,H);else w.onClick&&r(N,"onClick",null,w.onClick,void 0,void 0,H);let ce;(ce=w&&w.onVnodeBeforeMount)&&Rr(ce,H,E),K&&so(E,null,H,"beforeMount"),((ce=w&&w.onVnodeMounted)||K||ae)&&o3(()=>{ce&&Rr(ce,H,E),ae&&oe.enter(N),K&&so(E,null,H,"mounted")},I)}return N.nextSibling},y=(N,E,H,I,q,P,z)=>{z=z||!!E.dynamicChildren;const w=E.children,R=w.length;let U=!1;for(let K=0;K<R;K++){const oe=z?w[K]:w[K]=ei(w[K]);if(N)N=m(N,oe,I,q,P,z);else{if(oe.type===cl&&!oe.children)continue;xs=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!U&&(Ea("Hydration children mismatch on",H,`
Server rendered element contains fewer child nodes than client vdom.`),U=!0),n(null,oe,H,null,I,q,Nh(H),P)}}return N},_=(N,E,H,I,q,P)=>{const{slotScopeIds:z}=E;z&&(q=q?q.concat(z):z);const w=s(N),R=y(o(N),E,w,H,I,q,P);return R&&Wc(R)&&R.data==="]"?o(E.anchor=R):(xs=!0,u(E.anchor=f("]"),w,R),R)},C=(N,E,H,I,q,P)=>{if(xs=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&Ea(`Hydration node mismatch:
- rendered on server:`,N,N.nodeType===3?"(text)":Wc(N)&&N.data==="["?"(start of fragment)":"",`
- expected on client:`,E.type),E.el=null,P){const R=x(N);for(;;){const U=o(N);if(U&&U!==R)l(U);else break}}const z=o(N),w=s(N);return l(N),n(null,E,w,z,H,I,Nh(w),q),z},x=(N,E="[",H="]")=>{let I=0;for(;N;)if(N=o(N),N&&Wc(N)&&(N.data===E&&I++,N.data===H)){if(I===0)return o(N);I--}return N},k=(N,E,H)=>{const I=E.parentNode;I&&I.replaceChild(N,E);let q=H;for(;q;)q.vnode.el===E&&(q.vnode.el=q.subTree.el=N),q=q.parent},A=N=>N.nodeType===1&&N.tagName.toLowerCase()==="template";return[d,m]}function Q5(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(x1().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Zn=o3;function N3(t){return P3(t)}function I3(t){return P3(t,Z5)}function P3(t,e){Q5();const n=x1();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:l,createComment:u,setText:f,setElementText:d,parentNode:m,nextSibling:v,setScopeId:y=An,insertStaticContent:_}=t,C=(ie,ne,be,_e=null,xe=null,G=null,Z=void 0,L=null,W=!!ne.dynamicChildren)=>{if(ie===ne)return;ie&&!Ii(ie,ne)&&(_e=Be(ie),mt(ie,xe,G,!0),ie=null),ne.patchFlag===-2&&(W=!1,ne.dynamicChildren=null);const{type:O,ref:j,shapeFlag:F}=ne;switch(O){case cl:x(ie,ne,be,_e);break;case pr:k(ie,ne,be,_e);break;case el:ie==null&&A(ne,be,_e,Z);break;case kt:U(ie,ne,be,_e,xe,G,Z,L,W);break;default:F&1?H(ie,ne,be,_e,xe,G,Z,L,W):F&6?K(ie,ne,be,_e,xe,G,Z,L,W):(F&64||F&128)&&O.process(ie,ne,be,_e,xe,G,Z,L,W,Ke)}j!=null&&xe&&Up(j,ie&&ie.ref,G,ne||ie,!ne)},x=(ie,ne,be,_e)=>{if(ie==null)r(ne.el=l(ne.children),be,_e);else{const xe=ne.el=ie.el;ne.children!==ie.children&&f(xe,ne.children)}},k=(ie,ne,be,_e)=>{ie==null?r(ne.el=u(ne.children||""),be,_e):ne.el=ie.el},A=(ie,ne,be,_e)=>{[ie.el,ie.anchor]=_(ie.children,ne,be,_e,ie.el,ie.anchor)},N=({el:ie,anchor:ne},be,_e)=>{let xe;for(;ie&&ie!==ne;)xe=v(ie),r(ie,be,_e),ie=xe;r(ne,be,_e)},E=({el:ie,anchor:ne})=>{let be;for(;ie&&ie!==ne;)be=v(ie),i(ie),ie=be;i(ne)},H=(ie,ne,be,_e,xe,G,Z,L,W)=>{ne.type==="svg"?Z="svg":ne.type==="math"&&(Z="mathml"),ie==null?I(ne,be,_e,xe,G,Z,L,W):z(ie,ne,xe,G,Z,L,W)},I=(ie,ne,be,_e,xe,G,Z,L)=>{let W,O;const{props:j,shapeFlag:F,transition:Q,dirs:le}=ie;if(W=ie.el=s(ie.type,G,j&&j.is,j),F&8?d(W,ie.children):F&16&&P(ie.children,W,null,_e,xe,d0(ie,G),Z,L),le&&so(ie,null,_e,"created"),q(W,ie,ie.scopeId,Z,_e),j){for(const ye in j)ye!=="value"&&!Ya(ye)&&o(W,ye,null,j[ye],G,ie.children,_e,xe,Ie);"value"in j&&o(W,"value",null,j.value,G),(O=j.onVnodeBeforeMount)&&Rr(O,_e,ie)}le&&so(ie,null,_e,"beforeMount");const pe=D3(xe,Q);pe&&Q.beforeEnter(W),r(W,ne,be),((O=j&&j.onVnodeMounted)||pe||le)&&Zn(()=>{O&&Rr(O,_e,ie),pe&&Q.enter(W),le&&so(ie,null,_e,"mounted")},xe)},q=(ie,ne,be,_e,xe)=>{if(be&&y(ie,be),_e)for(let G=0;G<_e.length;G++)y(ie,_e[G]);if(xe){let G=xe.subTree;if(ne===G){const Z=xe.vnode;q(ie,Z,Z.scopeId,Z.slotScopeIds,xe.parent)}}},P=(ie,ne,be,_e,xe,G,Z,L,W=0)=>{for(let O=W;O<ie.length;O++){const j=ie[O]=L?Ds(ie[O]):ei(ie[O]);C(null,j,ne,be,_e,xe,G,Z,L)}},z=(ie,ne,be,_e,xe,G,Z)=>{const L=ne.el=ie.el;let{patchFlag:W,dynamicChildren:O,dirs:j}=ne;W|=ie.patchFlag&16;const F=ie.props||Ft,Q=ne.props||Ft;let le;if(be&&Aa(be,!1),(le=Q.onVnodeBeforeUpdate)&&Rr(le,be,ne,ie),j&&so(ne,ie,be,"beforeUpdate"),be&&Aa(be,!0),O?w(ie.dynamicChildren,O,L,be,_e,d0(ne,xe),G):Z||ve(ie,ne,L,null,be,_e,d0(ne,xe),G,!1),W>0){if(W&16)R(L,ne,F,Q,be,_e,xe);else if(W&2&&F.class!==Q.class&&o(L,"class",null,Q.class,xe),W&4&&o(L,"style",F.style,Q.style,xe),W&8){const pe=ne.dynamicProps;for(let ye=0;ye<pe.length;ye++){const Y=pe[ye],X=F[Y],de=Q[Y];(de!==X||Y==="value")&&o(L,Y,X,de,xe,ie.children,be,_e,Ie)}}W&1&&ie.children!==ne.children&&d(L,ne.children)}else!Z&&O==null&&R(L,ne,F,Q,be,_e,xe);((le=Q.onVnodeUpdated)||j)&&Zn(()=>{le&&Rr(le,be,ne,ie),j&&so(ne,ie,be,"updated")},_e)},w=(ie,ne,be,_e,xe,G,Z)=>{for(let L=0;L<ne.length;L++){const W=ie[L],O=ne[L],j=W.el&&(W.type===kt||!Ii(W,O)||W.shapeFlag&70)?m(W.el):be;C(W,O,j,null,_e,xe,G,Z,!0)}},R=(ie,ne,be,_e,xe,G,Z)=>{if(be!==_e){if(be!==Ft)for(const L in be)!Ya(L)&&!(L in _e)&&o(ie,L,be[L],null,Z,ne.children,xe,G,Ie);for(const L in _e){if(Ya(L))continue;const W=_e[L],O=be[L];W!==O&&L!=="value"&&o(ie,L,O,W,Z,ne.children,xe,G,Ie)}"value"in _e&&o(ie,"value",be.value,_e.value,Z)}},U=(ie,ne,be,_e,xe,G,Z,L,W)=>{const O=ne.el=ie?ie.el:l(""),j=ne.anchor=ie?ie.anchor:l("");let{patchFlag:F,dynamicChildren:Q,slotScopeIds:le}=ne;le&&(L=L?L.concat(le):le),ie==null?(r(O,be,_e),r(j,be,_e),P(ne.children||[],be,j,xe,G,Z,L,W)):F>0&&F&64&&Q&&ie.dynamicChildren?(w(ie.dynamicChildren,Q,be,xe,G,Z,L),(ne.key!=null||xe&&ne===xe.subTree)&&K1(ie,ne,!0)):ve(ie,ne,be,j,xe,G,Z,L,W)},K=(ie,ne,be,_e,xe,G,Z,L,W)=>{ne.slotScopeIds=L,ie==null?ne.shapeFlag&512?xe.ctx.activate(ne,be,_e,Z,W):oe(ne,be,_e,xe,G,Z,W):D(ie,ne,W)},oe=(ie,ne,be,_e,xe,G,Z)=>{const L=ie.component=V3(ie,_e,xe);if(_d(ie)&&(L.ctx.renderer=Ke),W3(L),L.asyncDep){if(xe&&xe.registerDep(L,ae),!ie.el){const W=L.subTree=Qe(pr);k(null,W,ne,be)}}else ae(L,ie,ne,be,xe,G,Z)},D=(ie,ne,be)=>{const _e=ne.component=ie.component;if(l5(ie,ne,be))if(_e.asyncDep&&!_e.asyncResolved){ce(_e,ne,be);return}else _e.next=ne,n5(_e.update),_e.effect.dirty=!0,_e.update();else ne.el=ie.el,_e.vnode=ne},ae=(ie,ne,be,_e,xe,G,Z)=>{const L=()=>{if(ie.isMounted){let{next:j,bu:F,u:Q,parent:le,vnode:pe}=ie;{const Te=R3(ie);if(Te){j&&(j.el=pe.el,ce(ie,j,Z)),Te.asyncDep.then(()=>{ie.isUnmounted||L()});return}}let ye=j,Y;Aa(ie,!1),j?(j.el=pe.el,ce(ie,j,Z)):j=pe,F&&ku(F),(Y=j.props&&j.props.onVnodeBeforeUpdate)&&Rr(Y,le,j,pe),Aa(ie,!0);const X=yp(ie),de=ie.subTree;ie.subTree=X,C(de,X,m(de.el),Be(de),ie,xe,G),j.el=X.el,ye===null&&B1(ie,X.el),Q&&Zn(Q,xe),(Y=j.props&&j.props.onVnodeUpdated)&&Zn(()=>Rr(Y,le,j,pe),xe)}else{let j;const{el:F,props:Q}=ne,{bm:le,m:pe,parent:ye}=ie,Y=Qa(ne);if(Aa(ie,!1),le&&ku(le),!Y&&(j=Q&&Q.onVnodeBeforeMount)&&Rr(j,ye,ne),Aa(ie,!0),F&&at){const X=()=>{ie.subTree=yp(ie),at(F,ie.subTree,ie,xe,null)};Y?ne.type.__asyncLoader().then(()=>!ie.isUnmounted&&X()):X()}else{const X=ie.subTree=yp(ie);C(null,X,be,_e,ie,xe,G),ne.el=X.el}if(pe&&Zn(pe,xe),!Y&&(j=Q&&Q.onVnodeMounted)){const X=ne;Zn(()=>Rr(j,ye,X),xe)}(ne.shapeFlag&256||ye&&Qa(ye.vnode)&&ye.vnode.shapeFlag&256)&&ie.a&&Zn(ie.a,xe),ie.isMounted=!0,ne=be=_e=null}},W=ie.effect=new Pu(L,An,()=>lg(O),ie.scope),O=ie.update=()=>{W.dirty&&W.run()};O.id=ie.uid,Aa(ie,!0),O()},ce=(ie,ne,be)=>{ne.component=ie;const _e=ie.vnode.props;ie.vnode=ne,ie.next=null,q5(ie,ne.props,_e,be),Y5(ie,ne.children,be),ua(),r2(ie),ca()},ve=(ie,ne,be,_e,xe,G,Z,L,W=!1)=>{const O=ie&&ie.children,j=ie?ie.shapeFlag:0,F=ne.children,{patchFlag:Q,shapeFlag:le}=ne;if(Q>0){if(Q&128){qe(O,F,be,_e,xe,G,Z,L,W);return}else if(Q&256){ze(O,F,be,_e,xe,G,Z,L,W);return}}le&8?(j&16&&Ie(O,xe,G),F!==O&&d(be,F)):j&16?le&16?qe(O,F,be,_e,xe,G,Z,L,W):Ie(O,xe,G,!0):(j&8&&d(be,""),le&16&&P(F,be,_e,xe,G,Z,L,W))},ze=(ie,ne,be,_e,xe,G,Z,L,W)=>{ie=ie||bu,ne=ne||bu;const O=ie.length,j=ne.length,F=Math.min(O,j);let Q;for(Q=0;Q<F;Q++){const le=ne[Q]=W?Ds(ne[Q]):ei(ne[Q]);C(ie[Q],le,be,null,xe,G,Z,L,W)}O>j?Ie(ie,xe,G,!0,!1,F):P(ne,be,_e,xe,G,Z,L,W,F)},qe=(ie,ne,be,_e,xe,G,Z,L,W)=>{let O=0;const j=ne.length;let F=ie.length-1,Q=j-1;for(;O<=F&&O<=Q;){const le=ie[O],pe=ne[O]=W?Ds(ne[O]):ei(ne[O]);if(Ii(le,pe))C(le,pe,be,null,xe,G,Z,L,W);else break;O++}for(;O<=F&&O<=Q;){const le=ie[F],pe=ne[Q]=W?Ds(ne[Q]):ei(ne[Q]);if(Ii(le,pe))C(le,pe,be,null,xe,G,Z,L,W);else break;F--,Q--}if(O>F){if(O<=Q){const le=Q+1,pe=le<j?ne[le].el:_e;for(;O<=Q;)C(null,ne[O]=W?Ds(ne[O]):ei(ne[O]),be,pe,xe,G,Z,L,W),O++}}else if(O>Q)for(;O<=F;)mt(ie[O],xe,G,!0),O++;else{const le=O,pe=O,ye=new Map;for(O=pe;O<=Q;O++){const Le=ne[O]=W?Ds(ne[O]):ei(ne[O]);Le.key!=null&&ye.set(Le.key,O)}let Y,X=0;const de=Q-pe+1;let Te=!1,je=0;const he=new Array(de);for(O=0;O<de;O++)he[O]=0;for(O=le;O<=F;O++){const Le=ie[O];if(X>=de){mt(Le,xe,G,!0);continue}let me;if(Le.key!=null)me=ye.get(Le.key);else for(Y=pe;Y<=Q;Y++)if(he[Y-pe]===0&&Ii(Le,ne[Y])){me=Y;break}me===void 0?mt(Le,xe,G,!0):(he[me-pe]=O+1,me>=je?je=me:Te=!0,C(Le,ne[me],be,null,xe,G,Z,L,W),X++)}const Ae=Te?eR(he):bu;for(Y=Ae.length-1,O=de-1;O>=0;O--){const Le=pe+O,me=ne[Le],Je=Le+1<j?ne[Le+1].el:_e;he[O]===0?C(null,me,be,Je,xe,G,Z,L,W):Te&&(Y<0||O!==Ae[Y]?vt(me,be,Je,2):Y--)}}},vt=(ie,ne,be,_e,xe=null)=>{const{el:G,type:Z,transition:L,children:W,shapeFlag:O}=ie;if(O&6){vt(ie.component.subTree,ne,be,_e);return}if(O&128){ie.suspense.move(ne,be,_e);return}if(O&64){Z.move(ie,ne,be,Ke);return}if(Z===kt){r(G,ne,be);for(let F=0;F<W.length;F++)vt(W[F],ne,be,_e);r(ie.anchor,ne,be);return}if(Z===el){N(ie,ne,be);return}if(_e!==2&&O&1&&L)if(_e===0)L.beforeEnter(G),r(G,ne,be),Zn(()=>L.enter(G),xe);else{const{leave:F,delayLeave:Q,afterLeave:le}=L,pe=()=>r(G,ne,be),ye=()=>{F(G,()=>{pe(),le&&le()})};Q?Q(G,pe,ye):ye()}else r(G,ne,be)},mt=(ie,ne,be,_e=!1,xe=!1)=>{const{type:G,props:Z,ref:L,children:W,dynamicChildren:O,shapeFlag:j,patchFlag:F,dirs:Q}=ie;if(L!=null&&Up(L,null,be,ie,!0),j&256){ne.ctx.deactivate(ie);return}const le=j&1&&Q,pe=!Qa(ie);let ye;if(pe&&(ye=Z&&Z.onVnodeBeforeUnmount)&&Rr(ye,ne,ie),j&6)Xe(ie.component,be,_e);else{if(j&128){ie.suspense.unmount(be,_e);return}le&&so(ie,null,ne,"beforeUnmount"),j&64?ie.type.remove(ie,ne,be,xe,Ke,_e):O&&(G!==kt||F>0&&F&64)?Ie(O,ne,be,!1,!0):(G===kt&&F&384||!xe&&j&16)&&Ie(W,ne,be),_e&&bt(ie)}(pe&&(ye=Z&&Z.onVnodeUnmounted)||le)&&Zn(()=>{ye&&Rr(ye,ne,ie),le&&so(ie,null,ne,"unmounted")},be)},bt=ie=>{const{type:ne,el:be,anchor:_e,transition:xe}=ie;if(ne===kt){yt(be,_e);return}if(ne===el){E(ie);return}const G=()=>{i(be),xe&&!xe.persisted&&xe.afterLeave&&xe.afterLeave()};if(ie.shapeFlag&1&&xe&&!xe.persisted){const{leave:Z,delayLeave:L}=xe,W=()=>Z(be,G);L?L(ie.el,G,W):W()}else G()},yt=(ie,ne)=>{let be;for(;ie!==ne;)be=v(ie),i(ie),ie=be;i(ne)},Xe=(ie,ne,be)=>{const{bum:_e,scope:xe,update:G,subTree:Z,um:L}=ie;_e&&ku(_e),xe.stop(),G&&(G.active=!1,mt(Z,ie,ne,be)),L&&Zn(L,ne),Zn(()=>{ie.isUnmounted=!0},ne),ne&&ne.pendingBranch&&!ne.isUnmounted&&ie.asyncDep&&!ie.asyncResolved&&ie.suspenseId===ne.pendingId&&(ne.deps--,ne.deps===0&&ne.resolve())},Ie=(ie,ne,be,_e=!1,xe=!1,G=0)=>{for(let Z=G;Z<ie.length;Z++)mt(ie[Z],ne,be,_e,xe)},Be=ie=>ie.shapeFlag&6?Be(ie.component.subTree):ie.shapeFlag&128?ie.suspense.next():v(ie.anchor||ie.el);let Ee=!1;const Ze=(ie,ne,be)=>{ie==null?ne._vnode&&mt(ne._vnode,null,null,!0):C(ne._vnode||null,ie,ne,null,null,null,be),Ee||(Ee=!0,r2(),Vp(),Ee=!1),ne._vnode=ie},Ke={p:C,um:mt,m:vt,r:bt,mt:oe,mc:P,pc:ve,pbc:w,n:Be,o:t};let Fe,at;return e&&([Fe,at]=e(Ke)),{render:Ze,hydrate:Fe,createApp:j5(Ze,Fe)}}function d0({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Aa({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function D3(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function K1(t,e,n=!1){const r=t.children,i=e.children;if(We(r)&&We(i))for(let o=0;o<r.length;o++){const s=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=Ds(i[o]),l.el=s.el),n||K1(s,l)),l.type===cl&&(l.el=s.el)}}function eR(t){const e=t.slice(),n=[0];let r,i,o,s,l;const u=t.length;for(r=0;r<u;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,t[n[l]]<f?o=l+1:s=l;f<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function R3(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:R3(e)}const tR=t=>t.__isTeleport,uf=t=>t&&(t.disabled||t.disabled===""),m2=t=>typeof SVGElement<"u"&&t instanceof SVGElement,g2=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,zy=(t,e)=>{const n=t&&t.to;return xt(n)?e?e(n):null:n},nR={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,s,l,u,f){const{mc:d,pc:m,pbc:v,o:{insert:y,querySelector:_,createText:C,createComment:x}}=f,k=uf(e.props);let{shapeFlag:A,children:N,dynamicChildren:E}=e;if(t==null){const H=e.el=C(""),I=e.anchor=C("");y(H,n,r),y(I,n,r);const q=e.target=zy(e.props,_),P=e.targetAnchor=C("");q&&(y(P,q),s==="svg"||m2(q)?s="svg":(s==="mathml"||g2(q))&&(s="mathml"));const z=(w,R)=>{A&16&&d(N,w,R,i,o,s,l,u)};k?z(n,I):q&&z(q,P)}else{e.el=t.el;const H=e.anchor=t.anchor,I=e.target=t.target,q=e.targetAnchor=t.targetAnchor,P=uf(t.props),z=P?n:I,w=P?H:q;if(s==="svg"||m2(I)?s="svg":(s==="mathml"||g2(I))&&(s="mathml"),E?(v(t.dynamicChildren,E,z,i,o,s,l),K1(t,e,!0)):u||m(t,e,z,w,i,o,s,l,!1),k)P?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ih(e,n,H,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=zy(e.props,_);R&&Ih(e,R,null,f,0)}else P&&Ih(e,I,q,f,1)}B3(e)},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:l,children:u,anchor:f,targetAnchor:d,target:m,props:v}=t;if(m&&o(d),s&&o(f),l&16){const y=s||!uf(v);for(let _=0;_<u.length;_++){const C=u[_];i(C,e,n,y,!!C.dynamicChildren)}}},move:Ih,hydrate:rR};function Ih(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:l,shapeFlag:u,children:f,props:d}=t,m=o===2;if(m&&r(s,e,n),(!m||uf(d))&&u&16)for(let v=0;v<f.length;v++)i(f[v],e,n,2);m&&r(l,e,n)}function rR(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:l,querySelector:u}},f){const d=e.target=zy(e.props,u);if(d){const m=d._lpa||d.firstChild;if(e.shapeFlag&16)if(uf(e.props))e.anchor=f(s(t),e,l(t),n,r,i,o),e.targetAnchor=m;else{e.anchor=s(t);let v=m;for(;v;)if(v=s(v),v&&v.nodeType===8&&v.data==="teleport anchor"){e.targetAnchor=v,d._lpa=e.targetAnchor&&s(e.targetAnchor);break}f(m,e,d,n,r,i,o)}B3(e)}return e.anchor&&s(e.anchor)}const z3=nR;function B3(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const kt=Symbol.for("v-fgt"),cl=Symbol.for("v-txt"),pr=Symbol.for("v-cmt"),el=Symbol.for("v-stc"),cf=[];let Br=null;function ge(t=!1){cf.push(Br=t?null:[])}function $3(){cf.pop(),Br=cf[cf.length-1]||null}let fl=1;function By(t){fl+=t}function H3(t){return t.dynamicChildren=fl>0?Br||bu:null,$3(),fl>0&&Br&&Br.push(t),t}function Se(t,e,n,r,i,o){return H3(ee(t,e,n,r,i,o,!0))}function Et(t,e,n,r,i){return H3(Qe(t,e,n,r,i,!0))}function ea(t){return t?t.__v_isVNode===!0:!1}function Ii(t,e){return t.type===e.type&&t.key===e.key}function iR(t){}const mg="__vInternal",F3=({key:t})=>t??null,bp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?xt(t)||qn(t)||pt(t)?{i:On,r:t,k:e,f:!!n}:t:null);function ee(t,e=null,n=null,r=0,i=null,o=t===kt?0:1,s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&F3(e),ref:e&&bp(e),scopeId:cg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:On};return l?(Y1(u,n),o&128&&t.normalize(u)):n&&(u.shapeFlag|=xt(n)?8:16),fl>0&&!s&&Br&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Br.push(u),u}const Qe=oR;function oR(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===r3)&&(t=pr),ea(t)){const l=yo(t,e,!0);return n&&Y1(l,n),fl>0&&!o&&Br&&(l.shapeFlag&6?Br[Br.indexOf(t)]=l:Br.push(l)),l.patchFlag|=-2,l}if(pR(t)&&(t=t.__vccOpts),e){e=G1(e);let{class:l,style:u}=e;l&&!xt(l)&&(e.class=gt(l)),qt(u)&&(O1(u)&&!We(u)&&(u=Rt({},u)),e.style=oi(u))}const s=xt(t)?1:i3(t)?128:tR(t)?64:qt(t)?4:pt(t)?2:0;return ee(t,e,n,r,i,s,o,!0)}function G1(t){return t?O1(t)||mg in t?Rt({},t):t:null}function yo(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,l=e?wi(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&F3(l),ref:e&&e.ref?n&&i?We(i)?i.concat(bp(e)):[i,bp(e)]:bp(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&yo(t.ssContent),ssFallback:t.ssFallback&&yo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ui(t=" ",e=0){return Qe(cl,null,t,e)}function sR(t,e){const n=Qe(el,null,t);return n.staticCount=e,n}function _t(t="",e=!1){return e?(ge(),Et(pr,null,t)):Qe(pr,null,t)}function ei(t){return t==null||typeof t=="boolean"?Qe(pr):We(t)?Qe(kt,null,t.slice()):typeof t=="object"?Ds(t):Qe(cl,null,String(t))}function Ds(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:yo(t)}function Y1(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(We(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Y1(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(mg in e)?e._ctx=On:i===3&&On&&(On.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pt(e)?(e={default:e,_ctx:On},n=32):(e=String(e),r&64?(n=16,e=[Ui(e)]):n=8);t.children=e,t.shapeFlag|=n}function wi(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=gt([e.class,r.class]));else if(i==="style")e.style=oi([e.style,r.style]);else if(Cl(i)){const o=e[i],s=r[i];s&&o!==s&&!(We(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function Rr(t,e,n,r=null){si(t,e,7,[n,r])}const aR=T3();let lR=0;function V3(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||aR,o={uid:lR++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new S1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:A3(r,i),emitsOptions:n3(r,i),emit:null,emitted:null,propsDefaults:Ft,inheritAttrs:r.inheritAttrs,ctx:Ft,data:Ft,props:Ft,attrs:Ft,slots:Ft,refs:Ft,setupState:Ft,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=i5.bind(null,o),t.ce&&t.ce(o),o}let Bn=null;const qi=()=>Bn||On;let qp,$y;{const t=x1(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};qp=e("__VUE_INSTANCE_SETTERS__",n=>Bn=n),$y=e("__VUE_SSR_SETTERS__",n=>wd=n)}const dl=t=>{const e=Bn;return qp(t),t.scope.on(),()=>{t.scope.off(),qp(e)}},Hy=()=>{Bn&&Bn.scope.off(),qp(null)};function j3(t){return t.vnode.shapeFlag&4}let wd=!1;function W3(t,e=!1){e&&$y(e);const{props:n,children:r}=t.vnode,i=j3(t);U5(t,n,i,e),G5(t,r);const o=i?uR(t,e):void 0;return e&&$y(!1),o}function uR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=fa(new Proxy(t.ctx,Iy));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?K3(t):null,o=dl(t);ua();const s=mo(r,t,0,[t.props,i]);if(ca(),o(),w1(s)){if(s.then(Hy,Hy),e)return s.then(l=>{Fy(t,l,e)}).catch(l=>{Ol(l,t,0)});t.asyncDep=s}else Fy(t,s,e)}else q3(t,e)}function Fy(t,e,n){pt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qt(e)&&(t.setupState=N1(e)),q3(t,n)}let Kp,Vy;function U3(t){Kp=t,Vy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,x5))}}const cR=()=>!Kp;function q3(t,e,n){const r=t.type;if(!t.render){if(!e&&Kp&&!r.render){const i=r.template||U1(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:l,compilerOptions:u}=r,f=Rt(Rt({isCustomElement:o,delimiters:l},s),u);r.render=Kp(i,f)}}t.render=r.render||An,Vy&&Vy(t)}{const i=dl(t);ua();try{z5(t)}finally{ca(),i()}}}function fR(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Wr(t,"get","$attrs"),e[n]}}))}function K3(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return fR(t)},slots:t.slots,emit:t.emit,expose:e}}function gg(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(N1(fa(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in af)return af[n](t)},has(e,n){return n in e||n in af}}))}const dR=/(?:^|[-_])(\w)/g,hR=t=>t.replace(dR,e=>e.toUpperCase()).replace(/[-_]/g,"");function Gp(t,e=!0){return pt(t)?t.displayName||t.name:t.name||e&&t.__name}function G3(t,e,n=!1){let r=Gp(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=o=>{for(const s in o)if(o[s]===e)return s};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?hR(r):n?"App":"Anonymous"}function pR(t){return pt(t)&&"__vccOpts"in t}const er=(t,e)=>DD(t,e,wd);function mR(t,e,n=Ft){const r=qi(),i=bn(e),o=ni(e),s=I1((u,f)=>{let d;return c3(()=>{const m=t[e];ji(d,m)&&(d=m,f())}),{get(){return u(),n.get?n.get(d):d},set(m){const v=r.vnode.props;!(v&&(e in v||i in v||o in v)&&(`onUpdate:${e}`in v||`onUpdate:${i}`in v||`onUpdate:${o}`in v))&&ji(m,d)&&(d=m,f()),r.emit(`update:${e}`,n.set?n.set(m):m)}}}),l=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return s[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?t[l]||{}:s,done:!1}:{done:!0}}}},s}function Hr(t,e,n){const r=arguments.length;return r===2?qt(e)&&!We(e)?ea(e)?Qe(t,null,[e]):Qe(t,e):Qe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ea(n)&&(n=[n]),Qe(t,e,n))}function gR(){}function vR(t,e,n,r){const i=n[r];if(i&&Y3(i,t))return i;const o=e();return o.memo=t.slice(),n[r]=o}function Y3(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(ji(n[r],e[r]))return!1;return fl>0&&Br&&Br.push(t),!0}const J3="3.4.15",yR=An,bR=QD,_R=su,wR=t3,kR={createComponentInstance:V3,setupComponent:W3,renderComponentRoot:yp,setCurrentRenderingInstance:Vf,isVNode:ea,normalizeVNode:ei},xR=kR,SR=null,CR=null,TR=null;/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ER="http://www.w3.org/2000/svg",AR="http://www.w3.org/1998/Math/MathML",Rs=typeof document<"u"?document:null,v2=Rs&&Rs.createElement("template"),OR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Rs.createElementNS(ER,t):e==="mathml"?Rs.createElementNS(AR,t):Rs.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Rs.createTextNode(t),createComment:t=>Rs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Rs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{v2.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const l=v2.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ss="transition",Uc="animation",Ru=Symbol("_vtc"),zu=(t,{slots:e})=>Hr(d3,Z3(t),e);zu.displayName="Transition";const X3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},MR=zu.props=Rt({},j1,X3),Oa=(t,e=[])=>{We(t)?t.forEach(n=>n(...e)):t&&t(...e)},y2=t=>t?We(t)?t.some(e=>e.length>1):t.length>1:!1;function Z3(t){const e={};for(const U in t)U in X3||(e[U]=t[U]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:f=s,appearToClass:d=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,_=LR(i),C=_&&_[0],x=_&&_[1],{onBeforeEnter:k,onEnter:A,onEnterCancelled:N,onLeave:E,onLeaveCancelled:H,onBeforeAppear:I=k,onAppear:q=A,onAppearCancelled:P=N}=e,z=(U,K,oe)=>{Os(U,K?d:l),Os(U,K?f:s),oe&&oe()},w=(U,K)=>{U._isLeaving=!1,Os(U,m),Os(U,y),Os(U,v),K&&K()},R=U=>(K,oe)=>{const D=U?q:A,ae=()=>z(K,U,oe);Oa(D,[K,ae]),b2(()=>{Os(K,U?u:o),Io(K,U?d:l),y2(D)||_2(K,r,C,ae)})};return Rt(e,{onBeforeEnter(U){Oa(k,[U]),Io(U,o),Io(U,s)},onBeforeAppear(U){Oa(I,[U]),Io(U,u),Io(U,f)},onEnter:R(!1),onAppear:R(!0),onLeave(U,K){U._isLeaving=!0;const oe=()=>w(U,K);Io(U,m),eO(),Io(U,v),b2(()=>{U._isLeaving&&(Os(U,m),Io(U,y),y2(E)||_2(U,r,x,oe))}),Oa(E,[U,oe])},onEnterCancelled(U){z(U,!1),Oa(N,[U])},onAppearCancelled(U){z(U,!0),Oa(P,[U])},onLeaveCancelled(U){w(U),Oa(H,[U])}})}function LR(t){if(t==null)return null;if(qt(t))return[h0(t.enter),h0(t.leave)];{const e=h0(t);return[e,e]}}function h0(t){return Bp(t)}function Io(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ru]||(t[Ru]=new Set)).add(e)}function Os(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ru];n&&(n.delete(e),n.size||(t[Ru]=void 0))}function b2(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let NR=0;function _2(t,e,n,r){const i=t._endId=++NR,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:l,propCount:u}=Q3(t,e);if(!s)return r();const f=s+"end";let d=0;const m=()=>{t.removeEventListener(f,v),o()},v=y=>{y.target===t&&++d>=u&&m()};setTimeout(()=>{d<u&&m()},l+1),t.addEventListener(f,v)}function Q3(t,e){const n=window.getComputedStyle(t),r=_=>(n[_]||"").split(", "),i=r(`${Ss}Delay`),o=r(`${Ss}Duration`),s=w2(i,o),l=r(`${Uc}Delay`),u=r(`${Uc}Duration`),f=w2(l,u);let d=null,m=0,v=0;e===Ss?s>0&&(d=Ss,m=s,v=o.length):e===Uc?f>0&&(d=Uc,m=f,v=u.length):(m=Math.max(s,f),d=m>0?s>f?Ss:Uc:null,v=d?d===Ss?o.length:u.length:0);const y=d===Ss&&/\b(transform|all)(,|$)/.test(r(`${Ss}Property`).toString());return{type:d,timeout:m,propCount:v,hasTransform:y}}function w2(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>k2(n)+k2(t[r])))}function k2(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function eO(){return document.body.offsetHeight}function IR(t,e,n){const r=t[Ru];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const J1=Symbol("_vod"),Bu={beforeMount(t,{value:e},{transition:n}){t[J1]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):qc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),qc(t,!0),r.enter(t)):r.leave(t,()=>{qc(t,!1)}):qc(t,e))},beforeUnmount(t,{value:e}){qc(t,e)}};function qc(t,e){t.style.display=e?t[J1]:"none"}function PR(){Bu.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const tO=Symbol("");function DR(t){const e=qi();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>Wy(o,i))},r=()=>{const i=t(e.proxy);jy(e.subTree,i),n(i)};u3(r),ts(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),pg(()=>i.disconnect())})}function jy(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{jy(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Wy(t.el,e);else if(t.type===kt)t.children.forEach(n=>jy(n,e));else if(t.type===el){let{el:n,anchor:r}=t;for(;n&&(Wy(n,e),n!==r);)n=n.nextSibling}}function Wy(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[tO]=r}}function RR(t,e,n){const r=t.style,i=r.display,o=xt(n);if(n&&!o){if(e&&!xt(e))for(const s in e)n[s]==null&&Uy(r,s,"");for(const s in n)Uy(r,s,n[s])}else if(o){if(e!==n){const s=r[tO];s&&(n+=";"+s),r.cssText=n}}else e&&t.removeAttribute("style");J1 in t&&(r.display=i)}const x2=/\s*!important$/;function Uy(t,e,n){if(We(n))n.forEach(r=>Uy(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=zR(t,e);x2.test(n)?t.setProperty(ni(r),n.replace(x2,""),"important"):t[r]=n}}const S2=["Webkit","Moz","ms"],p0={};function zR(t,e){const n=p0[e];if(n)return n;let r=bn(e);if(r!=="filter"&&r in t)return p0[e]=r;r=El(r);for(let i=0;i<S2.length;i++){const o=S2[i]+r;if(o in t)return p0[e]=o}return e}const C2="http://www.w3.org/1999/xlink";function BR(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(C2,e.slice(6,e.length)):t.setAttributeNS(C2,e,n);else{const o=lD(e);n==null||o&&!OA(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function $R(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=n;const f=l==="OPTION"?t.getAttribute("value"):t.value,d=n??"";f!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let u=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=OA(n):n==null&&f==="string"?(n="",u=!0):f==="number"&&(n=0,u=!0)}try{t[e]=n}catch{}u&&t.removeAttribute(e)}function Bo(t,e,n,r){t.addEventListener(e,n,r)}function HR(t,e,n,r){t.removeEventListener(e,n,r)}const T2=Symbol("_vei");function FR(t,e,n,r,i=null){const o=t[T2]||(t[T2]={}),s=o[e];if(r&&s)s.value=r;else{const[l,u]=VR(e);if(r){const f=o[e]=UR(r,i);Bo(t,l,f,u)}else s&&(HR(t,l,s,u),o[e]=void 0)}}const E2=/(?:Once|Passive|Capture)$/;function VR(t){let e;if(E2.test(t)){e={};let r;for(;r=t.match(E2);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ni(t.slice(2)),e]}let m0=0;const jR=Promise.resolve(),WR=()=>m0||(jR.then(()=>m0=0),m0=Date.now());function UR(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;si(qR(r,n.value),e,5,[r])};return n.value=t,n.attached=WR(),n}function qR(t,e){if(We(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const A2=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,KR=(t,e,n,r,i,o,s,l,u)=>{const f=i==="svg";e==="class"?IR(t,r,f):e==="style"?RR(t,n,r):Cl(e)?b1(e)||FR(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):GR(t,e,r,f))?$R(t,e,r,o,s,l,u):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),BR(t,e,r,f))};function GR(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&A2(e)&&pt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return A2(e)&&xt(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function nO(t,e){const n=Vn(t);class r extends vg{constructor(o){super(n,o,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const YR=t=>nO(t,dO),JR=typeof HTMLElement<"u"?HTMLElement:class{};class vg extends JR{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Ri(()=>{this._connected||(qy(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:o,styles:s}=r;let l;if(o&&!We(o))for(const u in o){const f=o[u];(f===Number||f&&f.type===Number)&&(u in this._props&&(this._props[u]=Bp(this._props[u])),(l||(l=Object.create(null)))[bn(u)]=!0)}this._numberProps=l,i&&this._resolveProps(r),this._applyStyles(s),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=We(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(bn))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o)}})}_setAttr(e){let n=this.getAttribute(e);const r=bn(e);this._numberProps&&this._numberProps[r]&&(n=Bp(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(ni(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(ni(e),n+""):n||this.removeAttribute(ni(e))))}_update(){qy(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Qe(this._def,Rt({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(o,s)=>{this.dispatchEvent(new CustomEvent(o,{detail:s}))};n.emit=(o,...s)=>{r(o,s),ni(o)!==o&&r(ni(o),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof vg){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function XR(t="$style"){{const e=qi();if(!e)return Ft;const n=e.type.__cssModules;if(!n)return Ft;const r=n[t];return r||Ft}}const rO=new WeakMap,iO=new WeakMap,Yp=Symbol("_moveCb"),O2=Symbol("_enterCb"),oO={name:"TransitionGroup",props:Rt({},MR,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=qi(),r=V1();let i,o;return hg(()=>{if(!i.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!r8(i[0].el,n.vnode.el,s))return;i.forEach(e8),i.forEach(t8);const l=i.filter(n8);eO(),l.forEach(u=>{const f=u.el,d=f.style;Io(f,s),d.transform=d.webkitTransform=d.transitionDuration="";const m=f[Yp]=v=>{v&&v.target!==f||(!v||/transform$/.test(v.propertyName))&&(f.removeEventListener("transitionend",m),f[Yp]=null,Os(f,s))};f.addEventListener("transitionend",m)})}),()=>{const s=Mt(t),l=Z3(s);let u=s.tag||kt;i=o,o=e.default?fg(e.default()):[];for(let f=0;f<o.length;f++){const d=o[f];d.key!=null&&ul(d,Du(d,l,r,n))}if(i)for(let f=0;f<i.length;f++){const d=i[f];ul(d,Du(d,l,r,n)),rO.set(d,d.el.getBoundingClientRect())}return Qe(u,null,o)}}},ZR=t=>delete t.mode;oO.props;const QR=oO;function e8(t){const e=t.el;e[Yp]&&e[Yp](),e[O2]&&e[O2]()}function t8(t){iO.set(t,t.el.getBoundingClientRect())}function n8(t){const e=rO.get(t),n=iO.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",t}}function r8(t,e,n){const r=t.cloneNode(),i=t[Ru];i&&i.forEach(l=>{l.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:s}=Q3(r);return o.removeChild(r),s}const ta=t=>{const e=t.props["onUpdate:modelValue"]||!1;return We(e)?n=>ku(e,n):e};function i8(t){t.target.composing=!0}function M2(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const bi=Symbol("_assign"),Mn={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[bi]=ta(i);const o=r||i.props&&i.props.type==="number";Bo(t,e?"change":"input",s=>{if(s.target.composing)return;let l=t.value;n&&(l=l.trim()),o&&(l=zf(l)),t[bi](l)}),n&&Bo(t,"change",()=>{t.value=t.value.trim()}),e||(Bo(t,"compositionstart",i8),Bo(t,"compositionend",M2),Bo(t,"change",M2))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t[bi]=ta(o),t.composing)return;const s=i||t.type==="number"?zf(t.value):t.value,l=e??"";s!==l&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===l)||(t.value=l))}},kd={deep:!0,created(t,e,n){t[bi]=ta(n),Bo(t,"change",()=>{const r=t._modelValue,i=$u(t),o=t.checked,s=t[bi];if(We(r)){const l=ig(r,i),u=l!==-1;if(o&&!u)s(r.concat(i));else if(!o&&u){const f=[...r];f.splice(l,1),s(f)}}else if(Tl(r)){const l=new Set(r);o?l.add(i):l.delete(i),s(l)}else s(sO(t,o))})},mounted:L2,beforeUpdate(t,e,n){t[bi]=ta(n),L2(t,e,n)}};function L2(t,{value:e,oldValue:n},r){t._modelValue=e,We(e)?t.checked=ig(e,r.props.value)>-1:Tl(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=qo(e,sO(t,!0)))}const X1={created(t,{value:e},n){t.checked=qo(e,n.props.value),t[bi]=ta(n),Bo(t,"change",()=>{t[bi]($u(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[bi]=ta(r),e!==n&&(t.checked=qo(e,r.props.value))}},Z1={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Tl(e);Bo(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?zf($u(s)):$u(s));t[bi](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,Ri(()=>{t._assigning=!1})}),t[bi]=ta(r)},mounted(t,{value:e,oldValue:n,modifiers:{number:r}}){N2(t,e,n,r)},beforeUpdate(t,e,n){t[bi]=ta(n)},updated(t,{value:e,oldValue:n,modifiers:{number:r}}){t._assigning||N2(t,e,n,r)}};function N2(t,e,n,r){const i=t.multiple,o=We(e);if(!(i&&!o&&!Tl(e))&&!(o&&qo(e,n))){for(let s=0,l=t.options.length;s<l;s++){const u=t.options[s],f=$u(u);if(i)if(o){const d=typeof f;d==="string"||d==="number"?u.selected=e.includes(r?zf(f):f):u.selected=ig(e,f)>-1}else u.selected=e.has(f);else if(qo($u(u),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function $u(t){return"_value"in t?t._value:t.value}function sO(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const aO={created(t,e,n){Ph(t,e,n,null,"created")},mounted(t,e,n){Ph(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Ph(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Ph(t,e,n,r,"updated")}};function lO(t,e){switch(t){case"SELECT":return Z1;case"TEXTAREA":return Mn;default:switch(e){case"checkbox":return kd;case"radio":return X1;default:return Mn}}}function Ph(t,e,n,r,i){const s=lO(t.tagName,n.props&&n.props.type)[i];s&&s(t,e,n,r)}function o8(){Mn.getSSRProps=({value:t})=>({value:t}),X1.getSSRProps=({value:t},e)=>{if(e.props&&qo(e.props.value,t))return{checked:!0}},kd.getSSRProps=({value:t},e)=>{if(We(t)){if(e.props&&ig(t,e.props.value)>-1)return{checked:!0}}else if(Tl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},aO.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=lO(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const s8=["ctrl","shift","alt","meta"],a8={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>s8.some(n=>t[`${n}Key`]&&!e.includes(n))},lt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<e.length;s++){const l=a8[e[s]];if(l&&l(i,e))return}return t(i,...o)})},l8={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Tu=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=ni(i.key);if(e.some(s=>s===o||l8[s]===o))return t(i)})},uO=Rt({patchProp:KR},OR);let ff,I2=!1;function cO(){return ff||(ff=N3(uO))}function fO(){return ff=I2?ff:I3(uO),I2=!0,ff}const qy=(...t)=>{cO().render(...t)},dO=(...t)=>{fO().hydrate(...t)},Q1=(...t)=>{const e=cO().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=pO(r);if(!i)return;const o=e._component;!pt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,hO(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e},u8=(...t)=>{const e=fO().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=pO(r);if(i)return n(i,!0,hO(i))},e};function hO(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function pO(t){return xt(t)?document.querySelector(t):t}let P2=!1;const c8=()=>{P2||(P2=!0,o8(),PR())},f8=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:d3,BaseTransitionPropsValidators:j1,Comment:pr,DeprecationTypes:TR,EffectScope:S1,ErrorCodes:ZD,ErrorTypeStrings:bR,Fragment:kt,KeepAlive:w5,ReactiveEffect:Pu,Static:el,Suspense:f5,Teleport:z3,Text:cl,TrackOpTypes:UD,Transition:zu,TransitionGroup:QR,TriggerOpTypes:qD,VueElement:vg,assertNumber:XD,callWithAsyncErrorHandling:si,callWithErrorHandling:mo,camelize:bn,capitalize:El,cloneVNode:yo,compatUtils:CR,computed:er,createApp:Q1,createBlock:Et,createCommentVNode:_t,createElementBlock:Se,createElementVNode:ee,createHydrationRenderer:I3,createPropsRestProxy:D5,createRenderer:N3,createSSRApp:u8,createSlots:W1,createStaticVNode:sR,createTextVNode:Ui,createVNode:Qe,customRef:I1,defineAsyncComponent:b5,defineComponent:Vn,defineCustomElement:nO,defineEmits:C5,defineExpose:T5,defineModel:O5,defineOptions:E5,defineProps:S5,defineSSRCustomElement:YR,defineSlots:A5,devtools:_R,effect:hD,effectScope:cD,getCurrentInstance:qi,getCurrentScope:NA,getTransitionRawChildren:fg,guardReactiveProps:G1,h:Hr,handleError:Ol,hasInjectionContext:W5,hydrate:dO,initCustomFormatter:gR,initDirectivesForSSR:c8,inject:lf,isMemoSame:Y3,isProxy:O1,isReactive:Za,isReadonly:ll,isRef:qn,isRuntimeOnly:cR,isShallow:Bf,isVNode:ea,markRaw:fa,mergeDefaults:I5,mergeModels:P5,mergeProps:wi,nextTick:Ri,normalizeClass:gt,normalizeProps:AA,normalizeStyle:oi,onActivated:p3,onBeforeMount:v3,onBeforeUnmount:Ml,onBeforeUpdate:y3,onDeactivated:m3,onErrorCaptured:k3,onMounted:ts,onRenderTracked:w3,onRenderTriggered:_3,onScopeDispose:fD,onServerPrefetch:b3,onUnmounted:pg,onUpdated:hg,openBlock:ge,popScopeId:R1,provide:Wp,proxyRefs:N1,pushScopeId:D1,queuePostFlushCb:Fp,reactive:Al,readonly:A1,ref:Ot,registerRuntimeCompiler:U3,render:qy,renderList:Zt,renderSlot:pn,resolveComponent:ut,resolveDirective:sc,resolveDynamicComponent:Qs,resolveFilter:SR,resolveTransitionHooks:Du,setBlockTracking:By,setDevtoolsHook:wR,setTransitionHooks:ul,shallowReactive:Hp,shallowReadonly:PD,shallowRef:GA,ssrContextKey:s3,ssrUtils:xR,stop:pD,toDisplayString:Ne,toHandlerKey:wu,toHandlers:Ly,toRaw:Mt,toRef:WD,toRefs:FD,toValue:BD,transformVNodeArgs:iR,triggerRef:zD,unref:fr,useAttrs:N5,useCssModule:XR,useCssVars:DR,useModel:mR,useSSRContext:a3,useSlots:L5,useTransitionState:V1,vModelCheckbox:kd,vModelDynamic:aO,vModelRadio:X1,vModelSelect:Z1,vModelText:Mn,vShow:Bu,version:J3,warn:yR,watch:En,watchEffect:l3,watchPostEffect:u3,watchSyncEffect:c3,withAsyncContext:R5,withCtx:Vt,withDefaults:M5,withDirectives:Ut,withKeys:Tu,withMemo:vR,withModifiers:lt,withScopeId:z1},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qf=Symbol(""),df=Symbol(""),e_=Symbol(""),Jp=Symbol(""),mO=Symbol(""),hl=Symbol(""),gO=Symbol(""),vO=Symbol(""),t_=Symbol(""),n_=Symbol(""),xd=Symbol(""),r_=Symbol(""),yO=Symbol(""),i_=Symbol(""),o_=Symbol(""),s_=Symbol(""),a_=Symbol(""),l_=Symbol(""),u_=Symbol(""),bO=Symbol(""),_O=Symbol(""),yg=Symbol(""),Xp=Symbol(""),c_=Symbol(""),f_=Symbol(""),Kf=Symbol(""),Sd=Symbol(""),d_=Symbol(""),Ky=Symbol(""),d8=Symbol(""),Gy=Symbol(""),Zp=Symbol(""),h8=Symbol(""),p8=Symbol(""),h_=Symbol(""),m8=Symbol(""),g8=Symbol(""),p_=Symbol(""),wO=Symbol(""),Hu={[qf]:"Fragment",[df]:"Teleport",[e_]:"Suspense",[Jp]:"KeepAlive",[mO]:"BaseTransition",[hl]:"openBlock",[gO]:"createBlock",[vO]:"createElementBlock",[t_]:"createVNode",[n_]:"createElementVNode",[xd]:"createCommentVNode",[r_]:"createTextVNode",[yO]:"createStaticVNode",[i_]:"resolveComponent",[o_]:"resolveDynamicComponent",[s_]:"resolveDirective",[a_]:"resolveFilter",[l_]:"withDirectives",[u_]:"renderList",[bO]:"renderSlot",[_O]:"createSlots",[yg]:"toDisplayString",[Xp]:"mergeProps",[c_]:"normalizeClass",[f_]:"normalizeStyle",[Kf]:"normalizeProps",[Sd]:"guardReactiveProps",[d_]:"toHandlers",[Ky]:"camelize",[d8]:"capitalize",[Gy]:"toHandlerKey",[Zp]:"setBlockTracking",[h8]:"pushScopeId",[p8]:"popScopeId",[h_]:"withCtx",[m8]:"unref",[g8]:"isRef",[p_]:"withMemo",[wO]:"isMemoSame"};function v8(t){Object.getOwnPropertySymbols(t).forEach(e=>{Hu[e]=t[e]})}const li={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function y8(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:li}}function Gf(t,e,n,r,i,o,s,l=!1,u=!1,f=!1,d=li){return t&&(l?(t.helper(hl),t.helper(ju(t.inSSR,f))):t.helper(Vu(t.inSSR,f)),s&&t.helper(l_)),{type:13,tag:e,props:n,children:r,patchFlag:i,dynamicProps:o,directives:s,isBlock:l,disableTracking:u,isComponent:f,loc:d}}function Cd(t,e=li){return{type:17,loc:e,elements:t}}function vi(t,e=li){return{type:15,loc:e,properties:t}}function yn(t,e){return{type:16,loc:li,key:xt(t)?Tt(t,!0):t,value:e}}function Tt(t,e=!1,n=li,r=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:r}}function $i(t,e=li){return{type:8,loc:e,children:t}}function zn(t,e=[],n=li){return{type:14,loc:n,callee:t,arguments:e}}function Fu(t,e=void 0,n=!1,r=!1,i=li){return{type:18,params:t,returns:e,newline:n,isSlot:r,loc:i}}function Yy(t,e,n,r=!0){return{type:19,test:t,consequent:e,alternate:n,newline:r,loc:li}}function b8(t,e,n=!1){return{type:20,index:t,value:e,isVNode:n,loc:li}}function _8(t){return{type:21,body:t,loc:li}}function Vu(t,e){return t||e?t_:n_}function ju(t,e){return t||e?gO:vO}function m_(t,{helper:e,removeHelper:n,inSSR:r}){t.isBlock||(t.isBlock=!0,n(Vu(r,t.isComponent)),e(hl),e(ju(r,t.isComponent)))}const D2=new Uint8Array([123,123]),R2=new Uint8Array([125,125]);function z2(t){return t>=97&&t<=122||t>=65&&t<=90}function Qr(t){return t===32||t===10||t===9||t===12||t===13}function Cs(t){return t===47||t===62||Qr(t)}function Qp(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const lr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class w8{constructor(e,n){this.stack=e,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=D2,this.delimiterClose=R2,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=D2,this.delimiterClose=R2}getPos(e){let n=1,r=e+1;for(let i=this.newlines.length-1;i>=0;i--){const o=this.newlines[i];if(e>o){n=i+2,r=e-o;break}}return{column:r,line:n,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Cs(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Qr(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.sectionStart=n+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===lr.TitleEnd||this.currentSequence===lr.TextareaEnd&&!this.inSFCRoot?e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===lr.Cdata[this.sequenceIndex]?++this.sequenceIndex===lr.Cdata.length&&(this.state=28,this.currentSequence=lr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===lr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,n){this.enterRCDATA(e,n),this.state=31}enterRCDATA(e,n){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=n}stateBeforeTagName(e){if(e===33)this.state=22,this.sectionStart=this.index+1;else if(e===63)this.state=24,this.sectionStart=this.index+1;else if(z2(e))if(this.sectionStart=this.index,this.mode===0)this.state=6;else if(this.inSFCRoot)this.state=34;else if(this.inXML)this.state=6;else{const n=e|32;n===116?this.state=30:this.state=n===115?29:6}else e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Cs(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Cs(e)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(Qp("</"+n),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Qr(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=z2(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Qr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Qr(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Qr(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Cs(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Cs(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Cs(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Cs(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Cs(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Qr(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Qr(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,n){(e===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Qr(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=lr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const n=e|32;n===lr.ScriptEnd[3]?this.startSpecial(lr.ScriptEnd,4):n===lr.StyleEnd[3]?this.startSpecial(lr.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){const n=e|32;n===lr.TitleEnd[3]?this.startSpecial(lr.TitleEnd,4):n===lr.TextareaEnd[3]?this.startSpecial(lr.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===lr.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){}}function B2(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function tl(t,e){const n=B2("MODE",e),r=B2(t,e);return n===3?r===!0:r!==!1}function Yf(t,e,n,...r){return tl(t,e)}function g_(t){throw t}function kO(t){}function an(t,e,n,r){const i=`https://vuejs.org/error-reference/#compiler-${t}`,o=new SyntaxError(String(i));return o.code=t,o.loc=e,o}const $r=t=>t.type===4&&t.isStatic;function xO(t){switch(t){case"Teleport":case"teleport":return df;case"Suspense":case"suspense":return e_;case"KeepAlive":case"keep-alive":return Jp;case"BaseTransition":case"base-transition":return mO}}const k8=/^\d|[^\$\w]/,v_=t=>!k8.test(t),x8=/[A-Za-z_$\xA0-\uFFFF]/,S8=/[\.\?\w$\xA0-\uFFFF]/,C8=/\s+[.[]\s*|\s*[.[]\s+/g,T8=t=>{t=t.trim().replace(C8,s=>s.trim());let e=0,n=[],r=0,i=0,o=null;for(let s=0;s<t.length;s++){const l=t.charAt(s);switch(e){case 0:if(l==="[")n.push(e),e=1,r++;else if(l==="(")n.push(e),e=2,i++;else if(!(s===0?x8:S8).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(n.push(e),e=3,o=l):l==="["?r++:l==="]"&&(--r||(e=n.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")n.push(e),e=3,o=l;else if(l==="(")i++;else if(l===")"){if(s===t.length-1)return!1;--i||(e=n.pop())}break;case 3:l===o&&(e=n.pop(),o=null);break}}return!r&&!i},SO=T8;function Li(t,e,n=!1){for(let r=0;r<t.props.length;r++){const i=t.props[r];if(i.type===7&&(n||i.exp)&&(xt(e)?i.name===e:e.test(i.name)))return i}}function bg(t,e,n=!1,r=!1){for(let i=0;i<t.props.length;i++){const o=t.props[i];if(o.type===6){if(n)continue;if(o.name===e&&(o.value||r))return o}else if(o.name==="bind"&&(o.exp||r)&&Va(o.arg,e))return o}}function Va(t,e){return!!(t&&$r(t)&&t.content===e)}function E8(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function g0(t){return t.type===5||t.type===2}function A8(t){return t.type===7&&t.name==="slot"}function em(t){return t.type===1&&t.tagType===3}function tm(t){return t.type===1&&t.tagType===2}const O8=new Set([Kf,Sd]);function CO(t,e=[]){if(t&&!xt(t)&&t.type===14){const n=t.callee;if(!xt(n)&&O8.has(n))return CO(t.arguments[0],e.concat(t))}return[t,e]}function nm(t,e,n){let r,i=t.type===13?t.props:t.arguments[2],o=[],s;if(i&&!xt(i)&&i.type===14){const l=CO(i);i=l[0],o=l[1],s=o[o.length-1]}if(i==null||xt(i))r=vi([e]);else if(i.type===14){const l=i.arguments[0];!xt(l)&&l.type===15?$2(e,l)||l.properties.unshift(e):i.callee===d_?r=zn(n.helper(Xp),[vi([e]),i]):i.arguments.unshift(vi([e])),!r&&(r=i)}else i.type===15?($2(e,i)||i.properties.unshift(e),r=i):(r=zn(n.helper(Xp),[vi([e]),i]),s&&s.callee===Sd&&(s=o[o.length-2]));t.type===13?s?s.arguments[0]=r:t.props=r:s?s.arguments[0]=r:t.arguments[2]=r}function $2(t,e){let n=!1;if(t.key.type===4){const r=t.key.content;n=e.properties.some(i=>i.key.type===4&&i.key.content===r)}return n}function Jf(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,r)=>n==="-"?"_":t.charCodeAt(r).toString())}`}function M8(t){return t.type===14&&t.callee===p_?t.arguments[1].returns:t}const L8=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,TO={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:vp,isPreTag:vp,isCustomElement:vp,onError:g_,onWarn:kO,comments:!1,prefixIdentifiers:!1};let jt=TO,Xf=null,nl="",cr=null,Lt=null,Ir="",Po=-1,Na=-1,rm=0,zs=!1,Jy=null;const hn=[],gn=new w8(hn,{onerr:No,ontext(t,e){Dh(Jn(t,e),t,e)},ontextentity(t,e,n){Dh(t,e,n)},oninterpolation(t,e){if(zs)return Dh(Jn(t,e),t,e);let n=t+gn.delimiterOpen.length,r=e-gn.delimiterClose.length;for(;Qr(nl.charCodeAt(n));)n++;for(;Qr(nl.charCodeAt(r-1));)r--;let i=Jn(n,r);i.includes("&")&&(i=jt.decodeEntities(i,!1)),Xy({type:5,content:wp(i,!1,Rn(n,r)),loc:Rn(t,e)})},onopentagname(t,e){const n=Jn(t,e);cr={type:1,tag:n,ns:jt.getNamespace(n,hn[0],jt.ns),tagType:0,props:[],children:[],loc:Rn(t-1,e),codegenNode:void 0}},onopentagend(t){F2(t)},onclosetag(t,e){const n=Jn(t,e);if(!jt.isVoidTag(n)){let r=!1;for(let i=0;i<hn.length;i++)if(hn[i].tag.toLowerCase()===n.toLowerCase()){r=!0,i>0&&No(24,hn[0].loc.start.offset);for(let s=0;s<=i;s++){const l=hn.shift();_p(l,e,s<i)}break}r||No(23,EO(t,60))}},onselfclosingtag(t){var e;const n=cr.tag;cr.isSelfClosing=!0,F2(t),((e=hn[0])==null?void 0:e.tag)===n&&_p(hn.shift(),t)},onattribname(t,e){Lt={type:6,name:Jn(t,e),nameLoc:Rn(t,e),value:void 0,loc:Rn(t)}},ondirname(t,e){const n=Jn(t,e),r=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!zs&&r===""&&No(26,t),zs||r==="")Lt={type:6,name:n,nameLoc:Rn(t,e),value:void 0,loc:Rn(t)};else if(Lt={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?["prop"]:[],loc:Rn(t)},r==="pre"){zs=gn.inVPre=!0,Jy=cr;const i=cr.props;for(let o=0;o<i.length;o++)i[o].type===7&&(i[o]=H8(i[o]))}},ondirarg(t,e){if(t===e)return;const n=Jn(t,e);if(zs)Lt.name+=n,ja(Lt.nameLoc,e);else{const r=n[0]!=="[";Lt.arg=wp(r?n:n.slice(1,-1),r,Rn(t,e),r?3:0)}},ondirmodifier(t,e){const n=Jn(t,e);if(zs)Lt.name+="."+n,ja(Lt.nameLoc,e);else if(Lt.name==="slot"){const r=Lt.arg;r&&(r.content+="."+n,ja(r.loc,e))}else Lt.modifiers.push(n)},onattribdata(t,e){Ir+=Jn(t,e),Po<0&&(Po=t),Na=e},onattribentity(t,e,n){Ir+=t,Po<0&&(Po=e),Na=n},onattribnameend(t){const e=Lt.loc.start.offset,n=Jn(e,t);Lt.type===7&&(Lt.rawName=n),cr.props.some(r=>(r.type===7?r.rawName:r.name)===n)&&No(2,e)},onattribend(t,e){if(cr&&Lt){if(ja(Lt.loc,e),t!==0)if(Ir.includes("&")&&(Ir=jt.decodeEntities(Ir,!0)),Lt.type===6)Lt.name==="class"&&(Ir=OO(Ir).trim()),t===1&&!Ir&&No(13,e),Lt.value={type:2,content:Ir,loc:t===1?Rn(Po,Na):Rn(Po-1,Na+1)},gn.inSFCRoot&&cr.tag==="template"&&Lt.name==="lang"&&Ir&&Ir!=="html"&&gn.enterRCDATA(Qp("</template"),0);else{let n=0;Lt.exp=wp(Ir,!1,Rn(Po,Na),0,n),Lt.name==="for"&&(Lt.forParseResult=I8(Lt.exp));let r=-1;Lt.name==="bind"&&(r=Lt.modifiers.indexOf("sync"))>-1&&Yf("COMPILER_V_BIND_SYNC",jt,Lt.loc,Lt.rawName)&&(Lt.name="model",Lt.modifiers.splice(r,1))}(Lt.type!==7||Lt.name!=="pre")&&cr.props.push(Lt)}Ir="",Po=Na=-1},oncomment(t,e){jt.comments&&Xy({type:3,content:Jn(t,e),loc:Rn(t-4,e+3)})},onend(){const t=nl.length;for(let e=0;e<hn.length;e++)_p(hn[e],t-1),No(24,hn[e].loc.start.offset)},oncdata(t,e){hn[0].ns!==0?Dh(Jn(t,e),t,e):No(1,t-9)},onprocessinginstruction(t){(hn[0]?hn[0].ns:jt.ns)===0&&No(21,t-1)}}),H2=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,N8=/^\(|\)$/g;function I8(t){const e=t.loc,n=t.content,r=n.match(L8);if(!r)return;const[,i,o]=r,s=(m,v,y=!1)=>{const _=e.start.offset+v,C=_+m.length;return wp(m,!1,Rn(_,C),0,y?1:0)},l={source:s(o.trim(),n.indexOf(o,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let u=i.trim().replace(N8,"").trim();const f=i.indexOf(u),d=u.match(H2);if(d){u=u.replace(H2,"").trim();const m=d[1].trim();let v;if(m&&(v=n.indexOf(m,f+u.length),l.key=s(m,v,!0)),d[2]){const y=d[2].trim();y&&(l.index=s(y,n.indexOf(y,l.key?v+m.length:f+u.length),!0))}}return u&&(l.value=s(u,f,!0)),l}function Jn(t,e){return nl.slice(t,e)}function F2(t){gn.inSFCRoot&&(cr.innerLoc=Rn(t+1,t+1)),Xy(cr);const{tag:e,ns:n}=cr;n===0&&jt.isPreTag(e)&&rm++,jt.isVoidTag(e)?_p(cr,t):(hn.unshift(cr),(n===1||n===2)&&(gn.inXML=!0)),cr=null}function Dh(t,e,n){var r;{const s=(r=hn[0])==null?void 0:r.tag;s!=="script"&&s!=="style"&&t.includes("&")&&(t=jt.decodeEntities(t,!1))}const i=hn[0]||Xf,o=i.children[i.children.length-1];(o==null?void 0:o.type)===2?(o.content+=t,ja(o.loc,n)):i.children.push({type:2,content:t,loc:Rn(e,n)})}function _p(t,e,n=!1){n?ja(t.loc,EO(e,60)):ja(t.loc,e+1),gn.inSFCRoot&&(t.children.length?t.innerLoc.end=Rt({},t.children[t.children.length-1].loc.end):t.innerLoc.end=Rt({},t.innerLoc.start),t.innerLoc.source=Jn(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:r,ns:i}=t;zs||(r==="slot"?t.tagType=2:V2(t)?t.tagType=3:D8(t)&&(t.tagType=1)),gn.inRCDATA||(t.children=AO(t.children,t.tag)),i===0&&jt.isPreTag(r)&&rm--,Jy===t&&(zs=gn.inVPre=!1,Jy=null),gn.inXML&&(hn[0]?hn[0].ns:jt.ns)===0&&(gn.inXML=!1);{const o=t.props;if(!gn.inSFCRoot&&tl("COMPILER_NATIVE_TEMPLATE",jt)&&t.tag==="template"&&!V2(t)){const l=hn[0]||Xf,u=l.children.indexOf(t);l.children.splice(u,1,...t.children)}const s=o.find(l=>l.type===6&&l.name==="inline-template");s&&Yf("COMPILER_INLINE_TEMPLATE",jt,s.loc)&&t.children.length&&(s.value={type:2,content:Jn(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:s.loc})}}function EO(t,e){let n=t;for(;nl.charCodeAt(n)!==e&&n>=0;)n--;return n}const P8=new Set(["if","else","else-if","for","slot"]);function V2({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&P8.has(e[n].name))return!0}return!1}function D8({tag:t,props:e}){var n;if(jt.isCustomElement(t))return!1;if(t==="component"||R8(t.charCodeAt(0))||xO(t)||(n=jt.isBuiltInComponent)!=null&&n.call(jt,t)||jt.isNativeTag&&!jt.isNativeTag(t))return!0;for(let r=0;r<e.length;r++){const i=e[r];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(Yf("COMPILER_IS_ON_ELEMENT",jt,i.loc))return!0}}else if(i.name==="bind"&&Va(i.arg,"is")&&Yf("COMPILER_IS_ON_ELEMENT",jt,i.loc))return!0}return!1}function R8(t){return t>64&&t<91}const z8=/\r\n/g;function AO(t,e){var n,r;const i=jt.whitespace!=="preserve";let o=!1;for(let s=0;s<t.length;s++){const l=t[s];if(l.type===2)if(rm)l.content=l.content.replace(z8,`
`);else if(B8(l.content)){const u=(n=t[s-1])==null?void 0:n.type,f=(r=t[s+1])==null?void 0:r.type;!u||!f||i&&(u===3&&(f===3||f===1)||u===1&&(f===3||f===1&&$8(l.content)))?(o=!0,t[s]=null):l.content=" "}else i&&(l.content=OO(l.content))}if(rm&&e&&jt.isPreTag(e)){const s=t[0];s&&s.type===2&&(s.content=s.content.replace(/^\r?\n/,""))}return o?t.filter(Boolean):t}function B8(t){for(let e=0;e<t.length;e++)if(!Qr(t.charCodeAt(e)))return!1;return!0}function $8(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function OO(t){let e="",n=!1;for(let r=0;r<t.length;r++)Qr(t.charCodeAt(r))?n||(e+=" ",n=!0):(e+=t[r],n=!1);return e}function Xy(t){(hn[0]||Xf).children.push(t)}function Rn(t,e){return{start:gn.getPos(t),end:e==null?e:gn.getPos(e),source:e==null?e:Jn(t,e)}}function ja(t,e){t.end=gn.getPos(e),t.source=Jn(t.start.offset,e)}function H8(t){const e={type:6,name:t.rawName,nameLoc:Rn(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function wp(t,e=!1,n,r=0,i=0){return Tt(t,e,n,r)}function No(t,e,n){jt.onError(an(t,Rn(e,e)))}function F8(){gn.reset(),cr=null,Lt=null,Ir="",Po=-1,Na=-1,hn.length=0}function V8(t,e){if(F8(),nl=t,jt=Rt({},TO),e){let i;for(i in e)e[i]!=null&&(jt[i]=e[i])}gn.mode=jt.parseMode==="html"?1:jt.parseMode==="sfc"?2:0,gn.inXML=jt.ns===1||jt.ns===2;const n=e==null?void 0:e.delimiters;n&&(gn.delimiterOpen=Qp(n[0]),gn.delimiterClose=Qp(n[1]));const r=Xf=y8([],t);return gn.parse(nl),r.loc=Rn(0,t.length),r.children=AO(r.children),Xf=null,r}function j8(t,e){kp(t,e,MO(t,t.children[0]))}function MO(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!tm(e)}function kp(t,e,n=!1){const{children:r}=t,i=r.length;let o=0;for(let s=0;s<r.length;s++){const l=r[s];if(l.type===1&&l.tagType===0){const u=n?0:yi(l,e);if(u>0){if(u>=2){l.codegenNode.patchFlag="-1",l.codegenNode=e.hoist(l.codegenNode),o++;continue}}else{const f=l.codegenNode;if(f.type===13){const d=PO(f);if((!d||d===512||d===1)&&NO(l,e)>=2){const m=IO(l);m&&(f.props=e.hoist(m))}f.dynamicProps&&(f.dynamicProps=e.hoist(f.dynamicProps))}}}if(l.type===1){const u=l.tagType===1;u&&e.scopes.vSlot++,kp(l,e),u&&e.scopes.vSlot--}else if(l.type===11)kp(l,e,l.children.length===1);else if(l.type===9)for(let u=0;u<l.branches.length;u++)kp(l.branches[u],e,l.branches[u].children.length===1)}if(o&&e.transformHoist&&e.transformHoist(r,e,t),o&&o===i&&t.type===1&&t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&We(t.codegenNode.children)){const s=e.hoist(Cd(t.codegenNode.children));e.hmr&&(s.content=`[...${s.content}]`),t.codegenNode.children=s}}function yi(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const r=n.get(t);if(r!==void 0)return r;const i=t.codegenNode;if(i.type!==13||i.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject")return 0;if(PO(i))return n.set(t,0),0;{let l=3;const u=NO(t,e);if(u===0)return n.set(t,0),0;u<l&&(l=u);for(let f=0;f<t.children.length;f++){const d=yi(t.children[f],e);if(d===0)return n.set(t,0),0;d<l&&(l=d)}if(l>1)for(let f=0;f<t.props.length;f++){const d=t.props[f];if(d.type===7&&d.name==="bind"&&d.exp){const m=yi(d.exp,e);if(m===0)return n.set(t,0),0;m<l&&(l=m)}}if(i.isBlock){for(let f=0;f<t.props.length;f++)if(t.props[f].type===7)return n.set(t,0),0;e.removeHelper(hl),e.removeHelper(ju(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(Vu(e.inSSR,i.isComponent))}return n.set(t,l),l}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return yi(t.content,e);case 4:return t.constType;case 8:let s=3;for(let l=0;l<t.children.length;l++){const u=t.children[l];if(xt(u)||Vi(u))continue;const f=yi(u,e);if(f===0)return 0;f<s&&(s=f)}return s;default:return 0}}const W8=new Set([c_,f_,Kf,Sd]);function LO(t,e){if(t.type===14&&!xt(t.callee)&&W8.has(t.callee)){const n=t.arguments[0];if(n.type===4)return yi(n,e);if(n.type===14)return LO(n,e)}return 0}function NO(t,e){let n=3;const r=IO(t);if(r&&r.type===15){const{properties:i}=r;for(let o=0;o<i.length;o++){const{key:s,value:l}=i[o],u=yi(s,e);if(u===0)return u;u<n&&(n=u);let f;if(l.type===4?f=yi(l,e):l.type===14?f=LO(l,e):f=0,f===0)return f;f<n&&(n=f)}}return n}function IO(t){const e=t.codegenNode;if(e.type===13)return e.props}function PO(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function U8(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:r=!1,hmr:i=!1,cacheHandlers:o=!1,nodeTransforms:s=[],directiveTransforms:l={},transformHoist:u=null,isBuiltInComponent:f=An,isCustomElement:d=An,expressionPlugins:m=[],scopeId:v=null,slotted:y=!0,ssr:_=!1,inSSR:C=!1,ssrCssVars:x="",bindingMetadata:k=Ft,inline:A=!1,isTS:N=!1,onError:E=g_,onWarn:H=kO,compatConfig:I}){const q=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),P={filename:e,selfName:q&&El(bn(q[1])),prefixIdentifiers:n,hoistStatic:r,hmr:i,cacheHandlers:o,nodeTransforms:s,directiveTransforms:l,transformHoist:u,isBuiltInComponent:f,isCustomElement:d,expressionPlugins:m,scopeId:v,slotted:y,ssr:_,inSSR:C,ssrCssVars:x,bindingMetadata:k,inline:A,isTS:N,onError:E,onWarn:H,compatConfig:I,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new WeakMap,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(z){const w=P.helpers.get(z)||0;return P.helpers.set(z,w+1),z},removeHelper(z){const w=P.helpers.get(z);if(w){const R=w-1;R?P.helpers.set(z,R):P.helpers.delete(z)}},helperString(z){return`_${Hu[P.helper(z)]}`},replaceNode(z){P.parent.children[P.childIndex]=P.currentNode=z},removeNode(z){const w=P.parent.children,R=z?w.indexOf(z):P.currentNode?P.childIndex:-1;!z||z===P.currentNode?(P.currentNode=null,P.onNodeRemoved()):P.childIndex>R&&(P.childIndex--,P.onNodeRemoved()),P.parent.children.splice(R,1)},onNodeRemoved:An,addIdentifiers(z){},removeIdentifiers(z){},hoist(z){xt(z)&&(z=Tt(z)),P.hoists.push(z);const w=Tt(`_hoisted_${P.hoists.length}`,!1,z.loc,2);return w.hoisted=z,w},cache(z,w=!1){return b8(P.cached++,z,w)}};return P.filters=new Set,P}function q8(t,e){const n=U8(t,e);_g(t,n),e.hoistStatic&&j8(t,n),e.ssr||K8(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function K8(t,e){const{helper:n}=e,{children:r}=t;if(r.length===1){const i=r[0];if(MO(t,i)&&i.codegenNode){const o=i.codegenNode;o.type===13&&m_(o,e),t.codegenNode=o}else t.codegenNode=i}else if(r.length>1){let i=64;t.codegenNode=Gf(e,n(qf),void 0,t.children,i+"",void 0,void 0,!0,void 0,!1)}}function G8(t,e){let n=0;const r=()=>{n--};for(;n<t.children.length;n++){const i=t.children[n];xt(i)||(e.parent=t,e.childIndex=n,e.onNodeRemoved=r,_g(i,e))}}function _g(t,e){e.currentNode=t;const{nodeTransforms:n}=e,r=[];for(let o=0;o<n.length;o++){const s=n[o](t,e);if(s&&(We(s)?r.push(...s):r.push(s)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(xd);break;case 5:e.ssr||e.helper(yg);break;case 9:for(let o=0;o<t.branches.length;o++)_g(t.branches[o],e);break;case 10:case 11:case 1:case 0:G8(t,e);break}e.currentNode=t;let i=r.length;for(;i--;)r[i]()}function DO(t,e){const n=xt(t)?r=>r===t:r=>t.test(r);return(r,i)=>{if(r.type===1){const{props:o}=r;if(r.tagType===3&&o.some(A8))return;const s=[];for(let l=0;l<o.length;l++){const u=o[l];if(u.type===7&&n(u.name)){o.splice(l,1),l--;const f=e(r,u,i);f&&s.push(f)}}return s}}}const wg="/*#__PURE__*/",RO=t=>`${Hu[t]}: _${Hu[t]}`;function j2(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:o=null,optimizeImports:s=!1,runtimeGlobalName:l="Vue",runtimeModuleName:u="vue",ssrRuntimeModuleName:f="vue/server-renderer",ssr:d=!1,isTS:m=!1,inSSR:v=!1}){const y={mode:e,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:o,optimizeImports:s,runtimeGlobalName:l,runtimeModuleName:u,ssrRuntimeModuleName:f,ssr:d,isTS:m,inSSR:v,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(C){return`_${Hu[C]}`},push(C,x=-2,k){y.code+=C},indent(){_(++y.indentLevel)},deindent(C=!1){C?--y.indentLevel:_(--y.indentLevel)},newline(){_(y.indentLevel)}};function _(C){y.push(`
`+"  ".repeat(C),0)}return y}function Y8(t,e={}){const n=j2(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:o,indent:s,deindent:l,newline:u,scopeId:f,ssr:d}=n,m=Array.from(t.helpers),v=m.length>0,y=!o&&r!=="module",_=!1,C=_?j2(t,e):n;J8(t,C);const x=d?"ssrRender":"render",A=(d?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${x}(${A}) {`),s(),y&&(i("with (_ctx) {"),s(),v&&(i(`const { ${m.map(RO).join(", ")} } = _Vue
`,-1),u())),t.components.length&&(v0(t.components,"component",n),(t.directives.length||t.temps>0)&&u()),t.directives.length&&(v0(t.directives,"directive",n),t.temps>0&&u()),t.filters&&t.filters.length&&(u(),v0(t.filters,"filter",n),u()),t.temps>0){i("let ");for(let N=0;N<t.temps;N++)i(`${N>0?", ":""}_temp${N}`)}return(t.components.length||t.directives.length||t.temps)&&(i(`
`,0),u()),d||i("return "),t.codegenNode?mr(t.codegenNode,n):i("null"),y&&(l(),i("}")),l(),i("}"),{ast:t,code:n.code,preamble:_?C.code:"",map:n.map?n.map.toJSON():void 0}}function J8(t,e){const{ssr:n,prefixIdentifiers:r,push:i,newline:o,runtimeModuleName:s,runtimeGlobalName:l,ssrRuntimeModuleName:u}=e,f=l,d=Array.from(t.helpers);if(d.length>0&&(i(`const _Vue = ${f}
`,-1),t.hoists.length)){const m=[t_,n_,xd,r_,yO].filter(v=>d.includes(v)).map(RO).join(", ");i(`const { ${m} } = _Vue
`,-1)}X8(t.hoists,e),o(),i("return ")}function v0(t,e,{helper:n,push:r,newline:i,isTS:o}){const s=n(e==="filter"?a_:e==="component"?i_:s_);for(let l=0;l<t.length;l++){let u=t[l];const f=u.endsWith("__self");f&&(u=u.slice(0,-6)),r(`const ${Jf(u,e)} = ${s}(${JSON.stringify(u)}${f?", true":""})${o?"!":""}`),l<t.length-1&&i()}}function X8(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:r,helper:i,scopeId:o,mode:s}=e;r();for(let l=0;l<t.length;l++){const u=t[l];u&&(n(`const _hoisted_${l+1} = `),mr(u,e),r())}e.pure=!1}function y_(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),Td(t,e,n),n&&e.deindent(),e.push("]")}function Td(t,e,n=!1,r=!0){const{push:i,newline:o}=e;for(let s=0;s<t.length;s++){const l=t[s];xt(l)?i(l,-3):We(l)?y_(l,e):mr(l,e),s<t.length-1&&(n?(r&&i(","),o()):r&&i(", "))}}function mr(t,e){if(xt(t)){e.push(t,-3);return}if(Vi(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:mr(t.codegenNode,e);break;case 2:Z8(t,e);break;case 4:zO(t,e);break;case 5:Q8(t,e);break;case 12:mr(t.codegenNode,e);break;case 8:BO(t,e);break;case 3:tz(t,e);break;case 13:nz(t,e);break;case 14:iz(t,e);break;case 15:oz(t,e);break;case 17:sz(t,e);break;case 18:az(t,e);break;case 19:lz(t,e);break;case 20:uz(t,e);break;case 21:Td(t.body,e,!0,!1);break}}function Z8(t,e){e.push(JSON.stringify(t.content),-3,t)}function zO(t,e){const{content:n,isStatic:r}=t;e.push(r?JSON.stringify(n):n,-3,t)}function Q8(t,e){const{push:n,helper:r,pure:i}=e;i&&n(wg),n(`${r(yg)}(`),mr(t.content,e),n(")")}function BO(t,e){for(let n=0;n<t.children.length;n++){const r=t.children[n];xt(r)?e.push(r,-3):mr(r,e)}}function ez(t,e){const{push:n}=e;if(t.type===8)n("["),BO(t,e),n("]");else if(t.isStatic){const r=v_(t.content)?t.content:JSON.stringify(t.content);n(r,-2,t)}else n(`[${t.content}]`,-3,t)}function tz(t,e){const{push:n,helper:r,pure:i}=e;i&&n(wg),n(`${r(xd)}(${JSON.stringify(t.content)})`,-3,t)}function nz(t,e){const{push:n,helper:r,pure:i}=e,{tag:o,props:s,children:l,patchFlag:u,dynamicProps:f,directives:d,isBlock:m,disableTracking:v,isComponent:y}=t;d&&n(r(l_)+"("),m&&n(`(${r(hl)}(${v?"true":""}), `),i&&n(wg);const _=m?ju(e.inSSR,y):Vu(e.inSSR,y);n(r(_)+"(",-2,t),Td(rz([o,s,l,u,f]),e),n(")"),m&&n(")"),d&&(n(", "),mr(d,e),n(")"))}function rz(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function iz(t,e){const{push:n,helper:r,pure:i}=e,o=xt(t.callee)?t.callee:r(t.callee);i&&n(wg),n(o+"(",-2,t),Td(t.arguments,e),n(")")}function oz(t,e){const{push:n,indent:r,deindent:i,newline:o}=e,{properties:s}=t;if(!s.length){n("{}",-2,t);return}const l=s.length>1||!1;n(l?"{":"{ "),l&&r();for(let u=0;u<s.length;u++){const{key:f,value:d}=s[u];ez(f,e),n(": "),mr(d,e),u<s.length-1&&(n(","),o())}l&&i(),n(l?"}":" }")}function sz(t,e){y_(t.elements,e)}function az(t,e){const{push:n,indent:r,deindent:i}=e,{params:o,returns:s,body:l,newline:u,isSlot:f}=t;f&&n(`_${Hu[h_]}(`),n("(",-2,t),We(o)?Td(o,e):o&&mr(o,e),n(") => "),(u||l)&&(n("{"),r()),s?(u&&n("return "),We(s)?y_(s,e):mr(s,e)):l&&mr(l,e),(u||l)&&(i(),n("}")),f&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function lz(t,e){const{test:n,consequent:r,alternate:i,newline:o}=t,{push:s,indent:l,deindent:u,newline:f}=e;if(n.type===4){const m=!v_(n.content);m&&s("("),zO(n,e),m&&s(")")}else s("("),mr(n,e),s(")");o&&l(),e.indentLevel++,o||s(" "),s("? "),mr(r,e),e.indentLevel--,o&&f(),o||s(" "),s(": ");const d=i.type===19;d||e.indentLevel++,mr(i,e),d||e.indentLevel--,o&&u(!0)}function uz(t,e){const{push:n,helper:r,indent:i,deindent:o,newline:s}=e;n(`_cache[${t.index}] || (`),t.isVNode&&(i(),n(`${r(Zp)}(-1),`),s()),n(`_cache[${t.index}] = `),mr(t.value,e),t.isVNode&&(n(","),s(),n(`${r(Zp)}(1),`),s(),n(`_cache[${t.index}]`),o()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const cz=DO(/^(if|else|else-if)$/,(t,e,n)=>fz(t,e,n,(r,i,o)=>{const s=n.parent.children;let l=s.indexOf(r),u=0;for(;l-->=0;){const f=s[l];f&&f.type===9&&(u+=f.branches.length)}return()=>{if(o)r.codegenNode=U2(i,u,n);else{const f=dz(r.codegenNode);f.alternate=U2(i,u+r.branches.length-1,n)}}}));function fz(t,e,n,r){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:t.loc;n.onError(an(28,e.loc)),e.exp=Tt("true",!1,i)}if(e.name==="if"){const i=W2(t,e),o={type:9,loc:t.loc,branches:[i]};if(n.replaceNode(o),r)return r(o,i,!0)}else{const i=n.parent.children;let o=i.indexOf(t);for(;o-->=-1;){const s=i[o];if(s&&s.type===3){n.removeNode(s);continue}if(s&&s.type===2&&!s.content.trim().length){n.removeNode(s);continue}if(s&&s.type===9){e.name==="else-if"&&s.branches[s.branches.length-1].condition===void 0&&n.onError(an(30,t.loc)),n.removeNode();const l=W2(t,e);s.branches.push(l);const u=r&&r(s,l,!1);_g(l,n),u&&u(),n.currentNode=null}else n.onError(an(30,t.loc));break}}}function W2(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!Li(t,"for")?t.children:[t],userKey:bg(t,"key"),isTemplateIf:n}}function U2(t,e,n){return t.condition?Yy(t.condition,q2(t,e,n),zn(n.helper(xd),['""',"true"])):q2(t,e,n)}function q2(t,e,n){const{helper:r}=n,i=yn("key",Tt(`${e}`,!1,li,2)),{children:o}=t,s=o[0];if(o.length!==1||s.type!==1)if(o.length===1&&s.type===11){const u=s.codegenNode;return nm(u,i,n),u}else{let u=64;return Gf(n,r(qf),vi([i]),o,u+"",void 0,void 0,!0,!1,!1,t.loc)}else{const u=s.codegenNode,f=M8(u);return f.type===13&&m_(f,n),nm(f,i,n),u}}function dz(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const hz=DO("for",(t,e,n)=>{const{helper:r,removeHelper:i}=n;return pz(t,e,n,o=>{const s=zn(r(u_),[o.source]),l=em(t),u=Li(t,"memo"),f=bg(t,"key"),d=f&&(f.type===6?Tt(f.value.content,!0):f.exp),m=f?yn("key",d):null,v=o.source.type===4&&o.source.constType>0,y=v?64:f?128:256;return o.codegenNode=Gf(n,r(qf),void 0,s,y+"",void 0,void 0,!0,!v,!1,t.loc),()=>{let _;const{children:C}=o,x=C.length!==1||C[0].type!==1,k=tm(t)?t:l&&t.children.length===1&&tm(t.children[0])?t.children[0]:null;if(k?(_=k.codegenNode,l&&m&&nm(_,m,n)):x?_=Gf(n,r(qf),m?vi([m]):void 0,t.children,"64",void 0,void 0,!0,void 0,!1):(_=C[0].codegenNode,l&&m&&nm(_,m,n),_.isBlock!==!v&&(_.isBlock?(i(hl),i(ju(n.inSSR,_.isComponent))):i(Vu(n.inSSR,_.isComponent))),_.isBlock=!v,_.isBlock?(r(hl),r(ju(n.inSSR,_.isComponent))):r(Vu(n.inSSR,_.isComponent))),u){const A=Fu(Zy(o.parseResult,[Tt("_cached")]));A.body=_8([$i(["const _memo = (",u.exp,")"]),$i(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${n.helperString(wO)}(_cached, _memo)) return _cached`]),$i(["const _item = ",_]),Tt("_item.memo = _memo"),Tt("return _item")]),s.arguments.push(A,Tt("_cache"),Tt(String(n.cached++)))}else s.arguments.push(Fu(Zy(o.parseResult),_,!0))}})});function pz(t,e,n,r){if(!e.exp){n.onError(an(31,e.loc));return}const i=e.forParseResult;if(!i){n.onError(an(32,e.loc));return}$O(i);const{addIdentifiers:o,removeIdentifiers:s,scopes:l}=n,{source:u,value:f,key:d,index:m}=i,v={type:11,loc:e.loc,source:u,valueAlias:f,keyAlias:d,objectIndexAlias:m,parseResult:i,children:em(t)?t.children:[t]};n.replaceNode(v),l.vFor++;const y=r&&r(v);return()=>{l.vFor--,y&&y()}}function $O(t,e){t.finalized||(t.finalized=!0)}function Zy({value:t,key:e,index:n},r=[]){return mz([t,e,n,...r])}function mz(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,r)=>n||Tt("_".repeat(r+1),!1))}const K2=Tt("undefined",!1),gz=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=Li(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},vz=(t,e,n,r)=>Fu(t,n,!1,!0,n.length?n[0].loc:r);function yz(t,e,n=vz){e.helper(h_);const{children:r,loc:i}=t,o=[],s=[];let l=e.scopes.vSlot>0||e.scopes.vFor>0;const u=Li(t,"slot",!0);if(u){const{arg:x,exp:k}=u;x&&!$r(x)&&(l=!0),o.push(yn(x||Tt("default",!0),n(k,void 0,r,i)))}let f=!1,d=!1;const m=[],v=new Set;let y=0;for(let x=0;x<r.length;x++){const k=r[x];let A;if(!em(k)||!(A=Li(k,"slot",!0))){k.type!==3&&m.push(k);continue}if(u){e.onError(an(37,A.loc));break}f=!0;const{children:N,loc:E}=k,{arg:H=Tt("default",!0),exp:I,loc:q}=A;let P;$r(H)?P=H?H.content:"default":l=!0;const z=Li(k,"for"),w=n(I,z,N,E);let R,U;if(R=Li(k,"if"))l=!0,s.push(Yy(R.exp,Rh(H,w,y++),K2));else if(U=Li(k,/^else(-if)?$/,!0)){let K=x,oe;for(;K--&&(oe=r[K],oe.type===3););if(oe&&em(oe)&&Li(oe,"if")){r.splice(x,1),x--;let D=s[s.length-1];for(;D.alternate.type===19;)D=D.alternate;D.alternate=U.exp?Yy(U.exp,Rh(H,w,y++),K2):Rh(H,w,y++)}else e.onError(an(30,U.loc))}else if(z){l=!0;const K=z.forParseResult;K?($O(K),s.push(zn(e.helper(u_),[K.source,Fu(Zy(K),Rh(H,w),!0)]))):e.onError(an(32,z.loc))}else{if(P){if(v.has(P)){e.onError(an(38,q));continue}v.add(P),P==="default"&&(d=!0)}o.push(yn(H,w))}}if(!u){const x=(k,A)=>{const N=n(k,void 0,A,i);return e.compatConfig&&(N.isNonScopedSlot=!0),yn("default",N)};f?m.length&&m.some(k=>HO(k))&&(d?e.onError(an(39,m[0].loc)):o.push(x(void 0,m))):o.push(x(void 0,r))}const _=l?2:xp(t.children)?3:1;let C=vi(o.concat(yn("_",Tt(_+"",!1))),i);return s.length&&(C=zn(e.helper(_O),[C,Cd(s)])),{slots:C,hasDynamicSlots:l}}function Rh(t,e,n){const r=[yn("name",t),yn("fn",e)];return n!=null&&r.push(yn("key",Tt(String(n),!0))),vi(r)}function xp(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||xp(n.children))return!0;break;case 9:if(xp(n.branches))return!0;break;case 10:case 11:if(xp(n.children))return!0;break}}return!1}function HO(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():HO(t.content)}const FO=new WeakMap,bz=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:r,props:i}=t,o=t.tagType===1;let s=o?_z(t,e):`"${r}"`;const l=qt(s)&&s.callee===o_;let u,f,d,m=0,v,y,_,C=l||s===df||s===e_||!o&&(r==="svg"||r==="foreignObject");if(i.length>0){const x=VO(t,e,void 0,o,l);u=x.props,m=x.patchFlag,y=x.dynamicPropNames;const k=x.directives;_=k&&k.length?Cd(k.map(A=>kz(A,e))):void 0,x.shouldUseBlock&&(C=!0)}if(t.children.length>0)if(s===Jp&&(C=!0,m|=1024),o&&s!==df&&s!==Jp){const{slots:k,hasDynamicSlots:A}=yz(t,e);f=k,A&&(m|=1024)}else if(t.children.length===1&&s!==df){const k=t.children[0],A=k.type,N=A===5||A===8;N&&yi(k,e)===0&&(m|=1),N||A===2?f=k:f=t.children}else f=t.children;m!==0&&(d=String(m),y&&y.length&&(v=xz(y))),t.codegenNode=Gf(e,s,u,f,d,v,_,!!C,!1,o,t.loc)};function _z(t,e,n=!1){let{tag:r}=t;const i=Qy(r),o=bg(t,"is");if(o)if(i||tl("COMPILER_IS_ON_ELEMENT",e)){const l=o.type===6?o.value&&Tt(o.value.content,!0):o.exp;if(l)return zn(e.helper(o_),[l])}else o.type===6&&o.value.content.startsWith("vue:")&&(r=o.value.content.slice(4));const s=xO(r)||e.isBuiltInComponent(r);return s?(n||e.helper(s),s):(e.helper(i_),e.components.add(r),Jf(r,"component"))}function VO(t,e,n=t.props,r,i,o=!1){const{tag:s,loc:l,children:u}=t;let f=[];const d=[],m=[],v=u.length>0;let y=!1,_=0,C=!1,x=!1,k=!1,A=!1,N=!1,E=!1;const H=[],I=z=>{f.length&&(d.push(vi(G2(f),l)),f=[]),z&&d.push(z)},q=({key:z,value:w})=>{if($r(z)){const R=z.content,U=Cl(R);if(U&&(!r||i)&&R.toLowerCase()!=="onclick"&&R!=="onUpdate:modelValue"&&!Ya(R)&&(A=!0),U&&Ya(R)&&(E=!0),U&&w.type===14&&(w=w.arguments[0]),w.type===20||(w.type===4||w.type===8)&&yi(w,e)>0)return;R==="ref"?C=!0:R==="class"?x=!0:R==="style"?k=!0:R!=="key"&&!H.includes(R)&&H.push(R),r&&(R==="class"||R==="style")&&!H.includes(R)&&H.push(R)}else N=!0};for(let z=0;z<n.length;z++){const w=n[z];if(w.type===6){const{loc:R,name:U,nameLoc:K,value:oe}=w;let D=!0;if(U==="ref"&&(C=!0,e.scopes.vFor>0&&f.push(yn(Tt("ref_for",!0),Tt("true")))),U==="is"&&(Qy(s)||oe&&oe.content.startsWith("vue:")||tl("COMPILER_IS_ON_ELEMENT",e)))continue;f.push(yn(Tt(U,!0,K),Tt(oe?oe.content:"",D,oe?oe.loc:R)))}else{const{name:R,arg:U,exp:K,loc:oe,modifiers:D}=w,ae=R==="bind",ce=R==="on";if(R==="slot"){r||e.onError(an(40,oe));continue}if(R==="once"||R==="memo"||R==="is"||ae&&Va(U,"is")&&(Qy(s)||tl("COMPILER_IS_ON_ELEMENT",e))||ce&&o)continue;if((ae&&Va(U,"key")||ce&&v&&Va(U,"vue:before-update"))&&(y=!0),ae&&Va(U,"ref")&&e.scopes.vFor>0&&f.push(yn(Tt("ref_for",!0),Tt("true"))),!U&&(ae||ce)){if(N=!0,K)if(ae){if(I(),tl("COMPILER_V_BIND_OBJECT_ORDER",e)){d.unshift(K);continue}d.push(K)}else I({type:14,loc:oe,callee:e.helper(d_),arguments:r?[K]:[K,"true"]});else e.onError(an(ae?34:35,oe));continue}ae&&D.includes("prop")&&(_|=32);const ve=e.directiveTransforms[R];if(ve){const{props:ze,needRuntime:qe}=ve(w,t,e);!o&&ze.forEach(q),ce&&U&&!$r(U)?I(vi(ze,l)):f.push(...ze),qe&&(m.push(w),Vi(qe)&&FO.set(w,qe))}else UP(R)||(m.push(w),v&&(y=!0))}}let P;if(d.length?(I(),d.length>1?P=zn(e.helper(Xp),d,l):P=d[0]):f.length&&(P=vi(G2(f),l)),N?_|=16:(x&&!r&&(_|=2),k&&!r&&(_|=4),H.length&&(_|=8),A&&(_|=32)),!y&&(_===0||_===32)&&(C||E||m.length>0)&&(_|=512),!e.inSSR&&P)switch(P.type){case 15:let z=-1,w=-1,R=!1;for(let oe=0;oe<P.properties.length;oe++){const D=P.properties[oe].key;$r(D)?D.content==="class"?z=oe:D.content==="style"&&(w=oe):D.isHandlerKey||(R=!0)}const U=P.properties[z],K=P.properties[w];R?P=zn(e.helper(Kf),[P]):(U&&!$r(U.value)&&(U.value=zn(e.helper(c_),[U.value])),K&&(k||K.value.type===4&&K.value.content.trim()[0]==="["||K.value.type===17)&&(K.value=zn(e.helper(f_),[K.value])));break;case 14:break;default:P=zn(e.helper(Kf),[zn(e.helper(Sd),[P])]);break}return{props:P,directives:m,patchFlag:_,dynamicPropNames:H,shouldUseBlock:y}}function G2(t){const e=new Map,n=[];for(let r=0;r<t.length;r++){const i=t[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const o=i.key.content,s=e.get(o);s?(o==="style"||o==="class"||Cl(o))&&wz(s,i):(e.set(o,i),n.push(i))}return n}function wz(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Cd([t.value,e.value],t.loc)}function kz(t,e){const n=[],r=FO.get(t);r?n.push(e.helperString(r)):(e.helper(s_),e.directives.add(t.name),n.push(Jf(t.name,"directive")));const{loc:i}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const o=Tt("true",!1,i);n.push(vi(t.modifiers.map(s=>yn(s,o)),i))}return Cd(n,t.loc)}function xz(t){let e="[";for(let n=0,r=t.length;n<r;n++)e+=JSON.stringify(t[n]),n<r-1&&(e+=", ");return e+"]"}function Qy(t){return t==="component"||t==="Component"}const Sz=(t,e)=>{if(tm(t)){const{children:n,loc:r}=t,{slotName:i,slotProps:o}=Cz(t,e),s=[e.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let l=2;o&&(s[2]=o,l=3),n.length&&(s[3]=Fu([],n,!1,!1,r),l=4),e.scopeId&&!e.slotted&&(l=5),s.splice(l),t.codegenNode=zn(e.helper(bO),s,r)}};function Cz(t,e){let n='"default"',r;const i=[];for(let o=0;o<t.props.length;o++){const s=t.props[o];s.type===6?s.value&&(s.name==="name"?n=JSON.stringify(s.value.content):(s.name=bn(s.name),i.push(s))):s.name==="bind"&&Va(s.arg,"name")?s.exp&&(n=s.exp):(s.name==="bind"&&s.arg&&$r(s.arg)&&(s.arg.content=bn(s.arg.content)),i.push(s))}if(i.length>0){const{props:o,directives:s}=VO(t,e,i,!1,!1);r=o,s.length&&e.onError(an(36,s[0].loc))}return{slotName:n,slotProps:r}}const Tz=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,jO=(t,e,n,r)=>{const{loc:i,modifiers:o,arg:s}=t;!t.exp&&!o.length&&n.onError(an(35,i));let l;if(s.type===4)if(s.isStatic){let m=s.content;m.startsWith("vue:")&&(m=`vnode-${m.slice(4)}`);const v=e.tagType!==0||m.startsWith("vnode")||!/[A-Z]/.test(m)?wu(bn(m)):`on:${m}`;l=Tt(v,!0,s.loc)}else l=$i([`${n.helperString(Gy)}(`,s,")"]);else l=s,l.children.unshift(`${n.helperString(Gy)}(`),l.children.push(")");let u=t.exp;u&&!u.content.trim()&&(u=void 0);let f=n.cacheHandlers&&!u&&!n.inVOnce;if(u){const m=SO(u.content),v=!(m||Tz.test(u.content)),y=u.content.includes(";");(v||f&&m)&&(u=$i([`${v?"$event":"(...args)"} => ${y?"{":"("}`,u,y?"}":")"]))}let d={props:[yn(l,u||Tt("() => {}",!1,i))]};return r&&(d=r(d)),f&&(d.props[0].value=n.cache(d.props[0].value)),d.props.forEach(m=>m.key.isHandlerKey=!0),d},Ez=(t,e,n)=>{const{modifiers:r,loc:i}=t,o=t.arg;let{exp:s}=t;if(!s&&o.type===4){const l=bn(o.content);s=t.exp=Tt(l,!1,o.loc)}return o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),r.includes("camel")&&(o.type===4?o.isStatic?o.content=bn(o.content):o.content=`${n.helperString(Ky)}(${o.content})`:(o.children.unshift(`${n.helperString(Ky)}(`),o.children.push(")"))),n.inSSR||(r.includes("prop")&&Y2(o,"."),r.includes("attr")&&Y2(o,"^")),!s||s.type===4&&!s.content.trim()?(n.onError(an(34,i)),{props:[yn(o,Tt("",!0,i))]}):{props:[yn(o,s)]}},Y2=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Az=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let r,i=!1;for(let o=0;o<n.length;o++){const s=n[o];if(g0(s)){i=!0;for(let l=o+1;l<n.length;l++){const u=n[l];if(g0(u))r||(r=n[o]=$i([s],s.loc)),r.children.push(" + ",u),n.splice(l,1),l--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(o=>o.type===7&&!e.directiveTransforms[o.name])&&t.tag!=="template")))for(let o=0;o<n.length;o++){const s=n[o];if(g0(s)||s.type===8){const l=[];(s.type!==2||s.content!==" ")&&l.push(s),!e.ssr&&yi(s,e)===0&&l.push("1"),n[o]={type:12,content:s,loc:s.loc,codegenNode:zn(e.helper(r_),l)}}}}},J2=new WeakSet,Oz=(t,e)=>{if(t.type===1&&Li(t,"once",!0))return J2.has(t)||e.inVOnce||e.inSSR?void 0:(J2.add(t),e.inVOnce=!0,e.helper(Zp),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0))})},WO=(t,e,n)=>{const{exp:r,arg:i}=t;if(!r)return n.onError(an(41,t.loc)),zh();const o=r.loc.source,s=r.type===4?r.content:o,l=n.bindingMetadata[o];if(l==="props"||l==="props-aliased")return n.onError(an(44,r.loc)),zh();const u=!1;if(!s.trim()||!SO(s)&&!u)return n.onError(an(42,r.loc)),zh();const f=i||Tt("modelValue",!0),d=i?$r(i)?`onUpdate:${bn(i.content)}`:$i(['"onUpdate:" + ',i]):"onUpdate:modelValue";let m;const v=n.isTS?"($event: any)":"$event";m=$i([`${v} => ((`,r,") = $event)"]);const y=[yn(f,t.exp),yn(d,m)];if(t.modifiers.length&&e.tagType===1){const _=t.modifiers.map(x=>(v_(x)?x:JSON.stringify(x))+": true").join(", "),C=i?$r(i)?`${i.content}Modifiers`:$i([i,' + "Modifiers"']):"modelModifiers";y.push(yn(C,Tt(`{ ${_} }`,!1,t.loc,2)))}return zh(y)};function zh(t=[]){return{props:t}}const Mz=/[\w).+\-_$\]]/,Lz=(t,e)=>{tl("COMPILER_FILTERS",e)&&(t.type===5&&im(t.content,e),t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&im(n.exp,e)}))};function im(t,e){if(t.type===4)X2(t,e);else for(let n=0;n<t.children.length;n++){const r=t.children[n];typeof r=="object"&&(r.type===4?X2(r,e):r.type===8?im(t,e):r.type===5&&im(r.content,e))}}function X2(t,e){const n=t.content;let r=!1,i=!1,o=!1,s=!1,l=0,u=0,f=0,d=0,m,v,y,_,C=[];for(y=0;y<n.length;y++)if(v=m,m=n.charCodeAt(y),r)m===39&&v!==92&&(r=!1);else if(i)m===34&&v!==92&&(i=!1);else if(o)m===96&&v!==92&&(o=!1);else if(s)m===47&&v!==92&&(s=!1);else if(m===124&&n.charCodeAt(y+1)!==124&&n.charCodeAt(y-1)!==124&&!l&&!u&&!f)_===void 0?(d=y+1,_=n.slice(0,y).trim()):x();else{switch(m){case 34:i=!0;break;case 39:r=!0;break;case 96:o=!0;break;case 40:f++;break;case 41:f--;break;case 91:u++;break;case 93:u--;break;case 123:l++;break;case 125:l--;break}if(m===47){let k=y-1,A;for(;k>=0&&(A=n.charAt(k),A===" ");k--);(!A||!Mz.test(A))&&(s=!0)}}_===void 0?_=n.slice(0,y).trim():d!==0&&x();function x(){C.push(n.slice(d,y).trim()),d=y+1}if(C.length){for(y=0;y<C.length;y++)_=Nz(_,C[y],e);t.content=_}}function Nz(t,e,n){n.helper(a_);const r=e.indexOf("(");if(r<0)return n.filters.add(e),`${Jf(e,"filter")}(${t})`;{const i=e.slice(0,r),o=e.slice(r+1);return n.filters.add(i),`${Jf(i,"filter")}(${t}${o!==")"?","+o:o}`}}const Z2=new WeakSet,Iz=(t,e)=>{if(t.type===1){const n=Li(t,"memo");return!n||Z2.has(t)?void 0:(Z2.add(t),()=>{const r=t.codegenNode||e.currentNode.codegenNode;r&&r.type===13&&(t.tagType!==1&&m_(r,e),t.codegenNode=zn(e.helper(p_),[n.exp,Fu(void 0,r),"_cache",String(e.cached++)]))})}};function Pz(t){return[[Oz,cz,Iz,hz,Lz,Sz,bz,gz,Az],{on:jO,bind:Ez,model:WO}]}function Dz(t,e={}){const n=e.onError||g_,r=e.mode==="module";e.prefixIdentifiers===!0?n(an(47)):r&&n(an(48));const i=!1;e.cacheHandlers&&n(an(49)),e.scopeId&&!r&&n(an(50));const o=Rt({},e,{prefixIdentifiers:i}),s=xt(t)?V8(t,o):t,[l,u]=Pz();return q8(s,Rt({},o,{nodeTransforms:[...l,...e.nodeTransforms||[]],directiveTransforms:Rt({},u,e.directiveTransforms||{})})),Y8(s,o)}const Rz=()=>({props:[]});/**
* @vue/compiler-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const UO=Symbol(""),qO=Symbol(""),KO=Symbol(""),GO=Symbol(""),eb=Symbol(""),YO=Symbol(""),JO=Symbol(""),XO=Symbol(""),ZO=Symbol(""),QO=Symbol("");v8({[UO]:"vModelRadio",[qO]:"vModelCheckbox",[KO]:"vModelText",[GO]:"vModelSelect",[eb]:"vModelDynamic",[YO]:"withModifiers",[JO]:"withKeys",[XO]:"vShow",[ZO]:"Transition",[QO]:"TransitionGroup"});let nu;function zz(t,e=!1){return nu||(nu=document.createElement("div")),e?(nu.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,nu.children[0].getAttribute("foo")):(nu.innerHTML=t,nu.textContent)}const Bz={parseMode:"html",isVoidTag:sD,isNativeTag:t=>rD(t)||iD(t)||oD(t),isPreTag:t=>t==="pre",decodeEntities:zz,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return ZO;if(t==="TransitionGroup"||t==="transition-group")return QO},getNamespace(t,e,n){let r=e?e.ns:n;if(e&&r===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(r=0);else e&&r===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(r=0);if(r===0){if(t==="svg")return 1;if(t==="math")return 2}return r}},$z=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:Tt("style",!0,e.loc),exp:Hz(e.value.content,e.loc),modifiers:[],loc:e.loc})})},Hz=(t,e)=>{const n=EA(t);return Tt(JSON.stringify(n),!1,e,3)};function Ys(t,e){return an(t,e)}const Fz=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Ys(53,i)),e.children.length&&(n.onError(Ys(54,i)),e.children.length=0),{props:[yn(Tt("innerHTML",!0,i),r||Tt("",!0))]}},Vz=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Ys(55,i)),e.children.length&&(n.onError(Ys(56,i)),e.children.length=0),{props:[yn(Tt("textContent",!0),r?yi(r,n)>0?r:zn(n.helperString(yg),[r],i):Tt("",!0))]}},jz=(t,e,n)=>{const r=WO(t,e,n);if(!r.props.length||e.tagType===1)return r;t.arg&&n.onError(Ys(58,t.arg.loc));const{tag:i}=e,o=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||o){let s=KO,l=!1;if(i==="input"||o){const u=bg(e,"type");if(u){if(u.type===7)s=eb;else if(u.value)switch(u.value.content){case"radio":s=UO;break;case"checkbox":s=qO;break;case"file":l=!0,n.onError(Ys(59,t.loc));break}}else E8(e)&&(s=eb)}else i==="select"&&(s=GO);l||(r.needRuntime=n.helper(s))}else n.onError(Ys(57,t.loc));return r.props=r.props.filter(s=>!(s.key.type===4&&s.key.content==="modelValue")),r},Wz=ai("passive,once,capture"),Uz=ai("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),qz=ai("left,right"),eM=ai("onkeyup,onkeydown,onkeypress",!0),Kz=(t,e,n,r)=>{const i=[],o=[],s=[];for(let l=0;l<e.length;l++){const u=e[l];u==="native"&&Yf("COMPILER_V_ON_NATIVE",n)||Wz(u)?s.push(u):qz(u)?$r(t)?eM(t.content)?i.push(u):o.push(u):(i.push(u),o.push(u)):Uz(u)?o.push(u):i.push(u)}return{keyModifiers:i,nonKeyModifiers:o,eventOptionModifiers:s}},Q2=(t,e)=>$r(t)&&t.content.toLowerCase()==="onclick"?Tt(e,!0):t.type!==4?$i(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,Gz=(t,e,n)=>jO(t,e,n,r=>{const{modifiers:i}=t;if(!i.length)return r;let{key:o,value:s}=r.props[0];const{keyModifiers:l,nonKeyModifiers:u,eventOptionModifiers:f}=Kz(o,i,n,t.loc);if(u.includes("right")&&(o=Q2(o,"onContextmenu")),u.includes("middle")&&(o=Q2(o,"onMouseup")),u.length&&(s=zn(n.helper(YO),[s,JSON.stringify(u)])),l.length&&(!$r(o)||eM(o.content))&&(s=zn(n.helper(JO),[s,JSON.stringify(l)])),f.length){const d=f.map(El).join("");o=$r(o)?Tt(`${o.content}${d}`,!0):$i(["(",o,`) + "${d}"`])}return{props:[yn(o,s)]}}),Yz=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Ys(61,i)),{props:[],needRuntime:n.helper(XO)}},Jz=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},Xz=[$z],Zz={cloak:Rz,html:Fz,text:Vz,model:jz,on:Gz,show:Yz};function Qz(t,e={}){return Dz(t,Rt({},Bz,e,{nodeTransforms:[Jz,...Xz,...e.nodeTransforms||[]],directiveTransforms:Rt({},Zz,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const eS=new WeakMap;function e7(t){let e=eS.get(t??Ft);return e||(e=Object.create(null),eS.set(t??Ft,e)),e}function tb(t,e){if(!xt(t))if(t.nodeType)t=t.innerHTML;else return An;const n=t,r=e7(e),i=r[n];if(i)return i;if(t[0]==="#"){const u=document.querySelector(t);t=u?u.innerHTML:""}const o=Rt({hoistStatic:!0,onError:void 0,onWarn:An},e);!o.isCustomElement&&typeof customElements<"u"&&(o.isCustomElement=u=>!!customElements.get(u));const{code:s}=Qz(t,o),l=new Function("Vue",s)(f8);return l._rc=!0,r[n]=l}U3(tb);function t7(t){return t=t||Object.create(null),{on:function(n,r){(t[n]||(t[n]=[])).push(r)},off:function(n,r){t[n]&&t[n].splice(t[n].indexOf(r)>>>0,1)},emit:function(n,r){(t[n]||[]).slice().map(function(i){i(r)}),(t["*"]||[]).slice().map(function(i){i(n,r)})}}}function ns(t){return t.split("-")[0]}function Eu(t){return t.split("-")[1]}function Ed(t){return["top","bottom"].includes(ns(t))?"x":"y"}function b_(t){return t==="y"?"height":"width"}function tS(t){let{reference:e,floating:n,placement:r}=t;const i=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2;let s;switch(ns(r)){case"top":s={x:i,y:e.y-n.height};break;case"bottom":s={x:i,y:e.y+e.height};break;case"right":s={x:e.x+e.width,y:o};break;case"left":s={x:e.x-n.width,y:o};break;default:s={x:e.x,y:e.y}}const l=Ed(r),u=b_(l);switch(Eu(r)){case"start":s[l]=s[l]-(e[u]/2-n[u]/2);break;case"end":s[l]=s[l]+(e[u]/2-n[u]/2);break}return s}const n7=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n;let l=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=tS({...l,placement:r}),d=r,m={};for(let v=0;v<o.length;v++){const{name:y,fn:_}=o[v],{x:C,y:x,data:k,reset:A}=await _({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:m,rects:l,platform:s,elements:{reference:t,floating:e}});if(u=C??u,f=x??f,m={...m,[y]:k??{}},A){typeof A=="object"&&(A.placement&&(d=A.placement),A.rects&&(l=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:u,y:f}=tS({...l,placement:d})),v=-1;continue}}return{x:u,y:f,placement:d,strategy:i,middlewareData:m}};function r7(t){return{top:0,right:0,bottom:0,left:0,...t}}function tM(t){return typeof t!="number"?r7(t):{top:t,right:t,bottom:t,left:t}}function nb(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function kg(t,e){e===void 0&&(e={});const{x:n,y:r,platform:i,rects:o,elements:s,strategy:l}=t,{boundary:u="clippingParents",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:v=0}=e,y=tM(v),C=s[m?d==="floating"?"reference":"floating":d],x=await i.getClippingClientRect({element:await i.isElement(C)?C:C.contextElement||await i.getDocumentElement({element:s.floating}),boundary:u,rootBoundary:f}),k=nb(await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:d==="floating"?{...o.floating,x:n,y:r}:o.reference,offsetParent:await i.getOffsetParent({element:s.floating}),strategy:l}));return{top:x.top-k.top+y.top,bottom:k.bottom-x.bottom+y.bottom,left:x.left-k.left+y.left,right:k.right-x.right+y.right}}const i7=Math.min,Ia=Math.max;function rb(t,e,n){return Ia(t,i7(e,n))}const o7=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=t??{},{x:i,y:o,placement:s,rects:l,platform:u}=e;if(n==null)return{};const f=tM(r),d={x:i,y:o},m=ns(s),v=Ed(m),y=b_(v),_=await u.getDimensions({element:n}),C=v==="y"?"top":"left",x=v==="y"?"bottom":"right",k=l.reference[y]+l.reference[v]-d[v]-l.floating[y],A=d[v]-l.reference[v],N=await u.getOffsetParent({element:n}),E=N?v==="y"?N.clientHeight||0:N.clientWidth||0:0,H=k/2-A/2,I=f[C],q=E-_[y]-f[x],P=E/2-_[y]/2+H,z=rb(I,P,q);return{data:{[v]:z,centerOffset:P-z}}}}),s7={left:"right",right:"left",bottom:"top",top:"bottom"};function om(t){return t.replace(/left|right|bottom|top/g,e=>s7[e])}function nM(t,e){const n=Eu(t)==="start",r=Ed(t),i=b_(r);let o=r==="x"?n?"right":"left":n?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=om(o)),{main:o,cross:om(o)}}const a7={start:"end",end:"start"};function ib(t){return t.replace(/start|end/g,e=>a7[e])}const l7=["top","right","bottom","left"],u7=l7.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function c7(t,e,n){return(t?[...n.filter(i=>Eu(i)===t),...n.filter(i=>Eu(i)!==t)]:n.filter(i=>ns(i)===i)).filter(i=>t?Eu(i)===t||(e?ib(i)!==i:!1):!0)}const f7=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,i,o,s,l;const{x:u,y:f,rects:d,middlewareData:m,placement:v}=e,{alignment:y=null,allowedPlacements:_=u7,autoAlignment:C=!0,...x}=t;if((n=m.autoPlacement)!=null&&n.skip)return{};const k=c7(y,C,_),A=await kg(e,x),N=(r=(i=m.autoPlacement)==null?void 0:i.index)!=null?r:0,E=k[N],{main:H,cross:I}=nM(E,d);if(v!==E)return{x:u,y:f,reset:{placement:k[0]}};const q=[A[ns(E)],A[H],A[I]],P=[...(o=(s=m.autoPlacement)==null?void 0:s.overflows)!=null?o:[],{placement:E,overflows:q}],z=k[N+1];if(z)return{data:{index:N+1,overflows:P},reset:{placement:z}};const w=P.slice().sort((U,K)=>U.overflows[0]-K.overflows[0]),R=(l=w.find(U=>{let{overflows:K}=U;return K.every(oe=>oe<=0)}))==null?void 0:l.placement;return{data:{skip:!0},reset:{placement:R??w[0].placement}}}}};function d7(t){const e=om(t);return[ib(t),e,ib(e)]}const h7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:l}=e;if((n=o.flip)!=null&&n.skip)return{};const{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",flipAlignment:v=!0,...y}=t,_=ns(i),x=d||(_===l||!v?[om(l)]:d7(l)),k=[l,...x],A=await kg(e,y),N=[];let E=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&N.push(A[_]),f){const{main:P,cross:z}=nM(i,s);N.push(A[P],A[z])}if(E=[...E,{placement:i,overflows:N}],!N.every(P=>P<=0)){var H,I;const P=((H=(I=o.flip)==null?void 0:I.index)!=null?H:0)+1,z=k[P];if(z)return{data:{index:P,overflows:E},reset:{placement:z}};let w="bottom";switch(m){case"bestFit":{var q;const R=(q=E.slice().sort((U,K)=>U.overflows.filter(oe=>oe>0).reduce((oe,D)=>oe+D,0)-K.overflows.filter(oe=>oe>0).reduce((oe,D)=>oe+D,0))[0])==null?void 0:q.placement;R&&(w=R);break}case"initialPlacement":w=l;break}return{data:{skip:!0},reset:{placement:w}}}return{}}}};function p7(t){let{placement:e,rects:n,value:r}=t;const i=ns(e),o=["left","top"].includes(i)?-1:1,s=typeof r=="function"?r({...n,placement:e}):r,{mainAxis:l,crossAxis:u}=typeof s=="number"?{mainAxis:s,crossAxis:0}:{mainAxis:0,crossAxis:0,...s};return Ed(i)==="x"?{x:u,y:l*o}:{x:l*o,y:u}}const m7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,fn(e){const{x:n,y:r,placement:i,rects:o}=e,s=p7({placement:i,rects:o,value:t});return{x:n+s.x,y:r+s.y,data:s}}}};function g7(t){return t==="x"?"y":"x"}const v7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:x=>{let{x:k,y:A}=x;return{x:k,y:A}}},...u}=t,f={x:n,y:r},d=await kg(e,u),m=Ed(ns(i)),v=g7(m);let y=f[m],_=f[v];if(o){const x=m==="y"?"top":"left",k=m==="y"?"bottom":"right",A=y+d[x],N=y-d[k];y=rb(A,y,N)}if(s){const x=v==="y"?"top":"left",k=v==="y"?"bottom":"right",A=_+d[x],N=_-d[k];_=rb(A,_,N)}const C=l.fn({...e,[m]:y,[v]:_});return{...C,data:{x:C.x-n,y:C.y-r}}}}},y7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n;const{placement:r,rects:i,middlewareData:o}=e,{apply:s,...l}=t;if((n=o.size)!=null&&n.skip)return{};const u=await kg(e,l),f=ns(r),d=Eu(r)==="end";let m,v;f==="top"||f==="bottom"?(m=f,v=d?"left":"right"):(v=f,m=d?"top":"bottom");const y=Ia(u.left,0),_=Ia(u.right,0),C=Ia(u.top,0),x=Ia(u.bottom,0),k={height:i.floating.height-(["left","right"].includes(r)?2*(C!==0||x!==0?C+x:Ia(u.top,u.bottom)):u[m]),width:i.floating.width-(["top","bottom"].includes(r)?2*(y!==0||_!==0?y+_:Ia(u.left,u.right)):u[v])};return s==null||s({...k,...i}),{data:{skip:!0},reset:{rects:!0}}}}};function __(t){return(t==null?void 0:t.toString())==="[object Window]"}function da(t){if(t==null)return window;if(!__(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function xg(t){return da(t).getComputedStyle(t)}function Ko(t){return __(t)?"":t?(t.nodeName||"").toLowerCase():""}function Go(t){return t instanceof da(t).HTMLElement}function sm(t){return t instanceof da(t).Element}function b7(t){return t instanceof da(t).Node}function rM(t){const e=da(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Sg(t){const{overflow:e,overflowX:n,overflowY:r}=xg(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function _7(t){return["table","td","th"].includes(Ko(t))}function iM(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),n=xg(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)}const nS=Math.min,hf=Math.max,am=Math.round;function Wu(t,e){e===void 0&&(e=!1);const n=t.getBoundingClientRect();let r=1,i=1;return e&&Go(t)&&(r=t.offsetWidth>0&&am(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&am(n.height)/t.offsetHeight||1),{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function ha(t){return((b7(t)?t.ownerDocument:t.document)||window.document).documentElement}function Cg(t){return __(t)?{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}:{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function oM(t){return Wu(ha(t)).left+Cg(t).scrollLeft}function w7(t){const e=Wu(t);return am(e.width)!==t.offsetWidth||am(e.height)!==t.offsetHeight}function k7(t,e,n){const r=Go(e),i=ha(e),o=Wu(t,r&&w7(e));let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&n!=="fixed")if((Ko(e)!=="body"||Sg(i))&&(s=Cg(e)),Go(e)){const u=Wu(e,!0);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else i&&(l.x=oM(i));return{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function Tg(t){return Ko(t)==="html"?t:t.assignedSlot||t.parentNode||(rM(t)?t.host:null)||ha(t)}function rS(t){return!Go(t)||getComputedStyle(t).position==="fixed"?null:t.offsetParent}function x7(t){let e=Tg(t);for(;Go(e)&&!["html","body"].includes(Ko(e));){if(iM(e))return e;e=e.parentNode}return null}function ob(t){const e=da(t);let n=rS(t);for(;n&&_7(n)&&getComputedStyle(n).position==="static";)n=rS(n);return n&&(Ko(n)==="html"||Ko(n)==="body"&&getComputedStyle(n).position==="static"&&!iM(n))?e:n||x7(t)||e}function iS(t){return{width:t.offsetWidth,height:t.offsetHeight}}function S7(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Go(n),o=ha(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if((i||!i&&r!=="fixed")&&((Ko(n)!=="body"||Sg(o))&&(s=Cg(n)),Go(n))){const u=Wu(n,!0);l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+l.x,y:e.y-s.scrollTop+l.y}}function C7(t){const e=da(t),n=ha(t),r=e.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;return r&&(i=r.width,o=r.height,Math.abs(e.innerWidth/r.scale-r.width)<.01&&(s=r.offsetLeft,l=r.offsetTop)),{width:i,height:o,x:s,y:l}}function T7(t){var e;const n=ha(t),r=Cg(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=hf(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=hf(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let l=-r.scrollLeft+oM(t);const u=-r.scrollTop;return xg(i||n).direction==="rtl"&&(l+=hf(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function sM(t){return["html","body","#document"].includes(Ko(t))?t.ownerDocument.body:Go(t)&&Sg(t)?t:sM(Tg(t))}function lm(t,e){var n;e===void 0&&(e=[]);const r=sM(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=da(r),s=i?[o].concat(o.visualViewport||[],Sg(r)?r:[]):r,l=e.concat(s);return i?l:l.concat(lm(Tg(s)))}function E7(t,e){const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&rM(n)){let r=e;do{if(r&&t===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function A7(t){const e=Wu(t),n=e.top+t.clientTop,r=e.left+t.clientLeft;return{top:n,left:r,x:r,y:n,right:r+t.clientWidth,bottom:n+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function oS(t,e){return e==="viewport"?nb(C7(t)):sm(e)?A7(e):nb(T7(ha(t)))}function O7(t){const e=lm(Tg(t)),r=["absolute","fixed"].includes(xg(t).position)&&Go(t)?ob(t):t;return sm(r)?e.filter(i=>sm(i)&&E7(i,r)&&Ko(i)!=="body"):[]}function M7(t){let{element:e,boundary:n,rootBoundary:r}=t;const o=[...n==="clippingParents"?O7(e):[].concat(n),r],s=o[0],l=o.reduce((u,f)=>{const d=oS(e,f);return u.top=hf(d.top,u.top),u.right=nS(d.right,u.right),u.bottom=nS(d.bottom,u.bottom),u.left=hf(d.left,u.left),u},oS(e,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}const L7={getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:k7(e,ob(n),r),floating:{...iS(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:t=>S7(t),getOffsetParent:t=>{let{element:e}=t;return ob(e)},isElement:t=>sm(t),getDocumentElement:t=>{let{element:e}=t;return ha(e)},getClippingClientRect:t=>M7(t),getDimensions:t=>{let{element:e}=t;return iS(e)},getClientRects:t=>{let{element:e}=t;return e.getClientRects()}},N7=(t,e,n)=>n7(t,e,{platform:L7,...n});var I7=Object.defineProperty,P7=Object.defineProperties,D7=Object.getOwnPropertyDescriptors,sS=Object.getOwnPropertySymbols,R7=Object.prototype.hasOwnProperty,z7=Object.prototype.propertyIsEnumerable,aS=(t,e,n)=>e in t?I7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$o=(t,e)=>{for(var n in e||(e={}))R7.call(e,n)&&aS(t,n,e[n]);if(sS)for(var n of sS(e))z7.call(e,n)&&aS(t,n,e[n]);return t},Ad=(t,e)=>P7(t,D7(e));function aM(t,e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(typeof e[n]=="object"&&t[n]?aM(t[n],e[n]):t[n]=e[n])}const jo={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:t=>[...t,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function Uu(t,e){let n=jo.themes[t]||{},r;do r=n[e],typeof r>"u"?n.$extend?n=jo.themes[n.$extend]||{}:(n=null,r=jo[e]):n=null;while(n);return r}function B7(t){const e=[t];let n=jo.themes[t]||{};do n.$extend&&!n.$resetCss?(e.push(n.$extend),n=jo.themes[n.$extend]||{}):n=null;while(n);return e.map(r=>`v-popper--theme-${r}`)}function lS(t){const e=[t];let n=jo.themes[t]||{};do n.$extend?(e.push(n.$extend),n=jo.themes[n.$extend]||{}):n=null;while(n);return e}let pl=!1;if(typeof window<"u"){pl=!1;try{const t=Object.defineProperty({},"passive",{get(){pl=!0}});window.addEventListener("test",null,t)}catch{}}let lM=!1;typeof window<"u"&&typeof navigator<"u"&&(lM=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const uM=["auto","top","bottom","left","right"].reduce((t,e)=>t.concat([e,`${e}-start`,`${e}-end`]),[]),uS={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart"},cS={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend"};function fS(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1)}function y0(){return new Promise(t=>requestAnimationFrame(()=>{requestAnimationFrame(t)}))}const Pi=[];let Ma=null;const dS={};function hS(t){let e=dS[t];return e||(e=dS[t]=[]),e}let sb=function(){};typeof window<"u"&&(sb=window.Element);function Pt(t){return function(e){return Uu(e.theme,t)}}const b0="__floating-vue__popper";var cM=()=>Vn({name:"VPopper",provide(){return{[b0]:{parentPopper:this}}},inject:{[b0]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:Pt("disabled")},positioningDisabled:{type:Boolean,default:Pt("positioningDisabled")},placement:{type:String,default:Pt("placement"),validator:t=>uM.includes(t)},delay:{type:[String,Number,Object],default:Pt("delay")},distance:{type:[Number,String],default:Pt("distance")},skidding:{type:[Number,String],default:Pt("skidding")},triggers:{type:Array,default:Pt("triggers")},showTriggers:{type:[Array,Function],default:Pt("showTriggers")},hideTriggers:{type:[Array,Function],default:Pt("hideTriggers")},popperTriggers:{type:Array,default:Pt("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:Pt("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:Pt("popperHideTriggers")},container:{type:[String,Object,sb,Boolean],default:Pt("container")},boundary:{type:[String,sb],default:Pt("boundary")},strategy:{type:String,validator:t=>["absolute","fixed"].includes(t),default:Pt("strategy")},autoHide:{type:[Boolean,Function],default:Pt("autoHide")},handleResize:{type:Boolean,default:Pt("handleResize")},instantMove:{type:Boolean,default:Pt("instantMove")},eagerMount:{type:Boolean,default:Pt("eagerMount")},popperClass:{type:[String,Array,Object],default:Pt("popperClass")},computeTransformOrigin:{type:Boolean,default:Pt("computeTransformOrigin")},autoMinSize:{type:Boolean,default:Pt("autoMinSize")},autoSize:{type:[Boolean,String],default:Pt("autoSize")},autoMaxSize:{type:Boolean,default:Pt("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:Pt("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:Pt("preventOverflow")},overflowPadding:{type:[Number,String],default:Pt("overflowPadding")},arrowPadding:{type:[Number,String],default:Pt("arrowPadding")},arrowOverflow:{type:Boolean,default:Pt("arrowOverflow")},flip:{type:Boolean,default:Pt("flip")},shift:{type:Boolean,default:Pt("shift")},shiftCrossAxis:{type:Boolean,default:Pt("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:Pt("noAutoFocus")}},emits:["show","hide","update:shown","apply-show","apply-hide","close-group","close-directive","auto-hide","resize","dispose"],data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:Ad($o({},this.classes),{popperClass:this.popperClass}),result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var t;return(t=this[b0])==null?void 0:t.parentPopper},hasPopperShowTriggerHover(){var t,e;return((t=this.popperTriggers)==null?void 0:t.includes("hover"))||((e=this.popperShowTriggers)==null?void 0:e.includes("hover"))}},watch:$o($o({shown:"$_autoShowHide",disabled(t){t?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())}},["triggers","positioningDisabled"].reduce((t,e)=>(t[e]="$_refreshListeners",t),{})),["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((t,e)=>(t[e]="$_computePosition",t),{})),created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(t=>t.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:t=null,skipDelay:e=!1,force:n=!1}={}){var r,i;(r=this.parentPopper)!=null&&r.lockedChild&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(n||!this.disabled)&&(((i=this.parentPopper)==null?void 0:i.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(t,e),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:t=null,skipDelay:e=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:e}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(t,e),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var t,e;this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=(e=(t=this.referenceNode)==null?void 0:t.call(this))!=null?e:this.$el,this.$_targetNodes=this.targetNodes().filter(n=>n.nodeType===n.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){var t;if(this.$_isDisposed||this.positioningDisabled)return;const e={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&e.middleware.push(m7({mainAxis:this.distance,crossAxis:this.skidding}));const n=this.placement.startsWith("auto");if(n?e.middleware.push(f7({alignment:(t=this.placement.split("-")[1])!=null?t:""})):e.placement=this.placement,this.preventOverflow&&(this.shift&&e.middleware.push(v7({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!n&&this.flip&&e.middleware.push(h7({padding:this.overflowPadding,boundary:this.boundary}))),e.middleware.push(o7({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&e.middleware.push({name:"arrowOverflow",fn:({placement:i,rects:o,middlewareData:s})=>{let l;const{centerOffset:u}=s.arrow;return i.startsWith("top")||i.startsWith("bottom")?l=Math.abs(u)>o.reference.width/2:l=Math.abs(u)>o.reference.height/2,{data:{overflow:l}}}}),this.autoMinSize||this.autoSize){const i=this.autoSize?this.autoSize:this.autoMinSize?"min":null;e.middleware.push({name:"autoSize",fn:({rects:o,placement:s,middlewareData:l})=>{var u;if((u=l.autoSize)!=null&&u.skip)return{};let f,d;return s.startsWith("top")||s.startsWith("bottom")?f=o.reference.width:d=o.reference.height,this.$_innerNode.style[i==="min"?"minWidth":i==="max"?"maxWidth":"width"]=f!=null?`${f}px`:null,this.$_innerNode.style[i==="min"?"minHeight":i==="max"?"maxHeight":"height"]=d!=null?`${d}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,e.middleware.push(y7({boundary:this.boundary,padding:this.overflowPadding,apply:({width:i,height:o})=>{this.$_innerNode.style.maxWidth=i!=null?`${i}px`:null,this.$_innerNode.style.maxHeight=o!=null?`${o}px`:null}})));const r=await N7(this.$_referenceNode,this.$_popperNode,e);Object.assign(this.result,{x:r.x,y:r.y,placement:r.placement,strategy:r.strategy,arrow:$o($o({},r.middlewareData.arrow),r.middlewareData.arrowOverflow)})},$_scheduleShow(t=null,e=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),Ma&&this.instantMove&&Ma.instantMove&&Ma!==this.parentPopper){Ma.$_applyHide(!0),this.$_applyShow(!0);return}e?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(t=null,e=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(Ma=this),e?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(t){const e=this.delay;return parseInt(e&&e[t]||e||0)},async $_applyShow(t=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=t,!this.isShown&&(this.$_ensureTeleport(),await y0(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...lm(this.$_referenceNode),...lm(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const e=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),r=n.parentNode.getBoundingClientRect(),i=e.x+e.width/2-(r.left+n.offsetLeft),o=e.y+e.height/2-(r.top+n.offsetTop);this.result.transformOrigin=`${i}px ${o}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const t=this.showGroup;if(t){let e;for(let n=0;n<Pi.length;n++)e=Pi[n],e.showGroup!==t&&(e.hide(),e.$emit("close-group"))}Pi.push(this),document.body.classList.add("v-popper--some-open");for(const e of lS(this.theme))hS(e).push(this),document.body.classList.add(`v-popper--some-open--${e}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await y0(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(t=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=t,fS(Pi,this),Pi.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of lS(this.theme)){const r=hS(n);fS(r,this),r.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}Ma===this&&(Ma=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const e=Uu(this.theme,"disposeTimeout");e!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},e)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await y0(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let t=this.container;if(typeof t=="string"?t=window.document.querySelector(t):t===!1&&(t=this.$_targetNodes[0].parentNode),!t)throw new Error("No container for popover: "+this.container);t.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const t=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,uS,this.triggers,this.showTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],uS,this.popperTriggers,this.popperShowTriggers,t);const e=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,cS,this.triggers,this.hideTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],cS,this.popperTriggers,this.popperHideTriggers,e)},$_registerEventListeners(t,e,n){this.$_events.push({targetNodes:t,eventType:e,handler:n}),t.forEach(r=>r.addEventListener(e,n,pl?{passive:!0}:void 0))},$_registerTriggerListeners(t,e,n,r,i){let o=n;r!=null&&(o=typeof r=="function"?r(o):r),o.forEach(s=>{const l=e[s];l&&this.$_registerEventListeners(t,l,i)})},$_removeEventListeners(t){const e=[];this.$_events.forEach(n=>{const{targetNodes:r,eventType:i,handler:o}=n;!t||t===i?r.forEach(s=>s.removeEventListener(i,o)):e.push(n)}),this.$_events=e},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(t,e=!1){this.$_showFrameLocked||(this.hide({event:t}),t.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),e&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(t,e){for(const n of this.$_targetNodes){const r=n.getAttribute(t);r&&(n.removeAttribute(t),n.setAttribute(e,r))}},$_applyAttrsToTarget(t){for(const e of this.$_targetNodes)for(const n in t){const r=t[n];r==null?e.removeAttribute(n):e.setAttribute(n,r)}},$_updateParentShownChildren(t){let e=this.parentPopper;for(;e;)t?e.shownChildren.add(this.randomId):(e.shownChildren.delete(this.randomId),e.$_pendingHide&&e.hide()),e=e.parentPopper},$_isAimingPopper(){const t=this.$_referenceNode.getBoundingClientRect();if(pf>=t.left&&pf<=t.right&&mf>=t.top&&mf<=t.bottom){const e=this.$_popperNode.getBoundingClientRect(),n=pf-Ms,r=mf-Ls,o=e.left+e.width/2-Ms+(e.top+e.height/2)-Ls+e.width+e.height,s=Ms+n*o,l=Ls+r*o;return Bh(Ms,Ls,s,l,e.left,e.top,e.left,e.bottom)||Bh(Ms,Ls,s,l,e.left,e.top,e.right,e.top)||Bh(Ms,Ls,s,l,e.right,e.top,e.right,e.bottom)||Bh(Ms,Ls,s,l,e.left,e.bottom,e.right,e.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});typeof document<"u"&&typeof window<"u"&&(lM?(document.addEventListener("touchstart",pS,pl?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",H7,pl?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",pS,!0),window.addEventListener("click",$7,!0)),window.addEventListener("resize",j7));function pS(t){for(let e=0;e<Pi.length;e++){const n=Pi[e];try{const r=n.popperNode();n.$_mouseDownContains=r.contains(t.target)}catch{}}}function $7(t){fM(t)}function H7(t){fM(t,!0)}function fM(t,e=!1){const n={};for(let r=Pi.length-1;r>=0;r--){const i=Pi[r];try{const o=i.$_containsGlobalTarget=F7(i,t);i.$_pendingHide=!1,requestAnimationFrame(()=>{if(i.$_pendingHide=!1,!n[i.randomId]&&mS(i,o,t)){if(i.$_handleGlobalClose(t,e),!t.closeAllPopover&&t.closePopover&&o){let l=i.parentPopper;for(;l;)n[l.randomId]=!0,l=l.parentPopper;return}let s=i.parentPopper;for(;s&&mS(s,s.$_containsGlobalTarget,t);){s.$_handleGlobalClose(t,e);s=s.parentPopper}}})}catch{}}}function F7(t,e){const n=t.popperNode();return t.$_mouseDownContains||n.contains(e.target)}function mS(t,e,n){return n.closeAllPopover||n.closePopover&&e||V7(t,n)&&!e}function V7(t,e){if(typeof t.autoHide=="function"){const n=t.autoHide(e);return t.lastAutoHide=n,n}return t.autoHide}function j7(t){for(let e=0;e<Pi.length;e++)Pi[e].$_computePosition(t)}let Ms=0,Ls=0,pf=0,mf=0;typeof window<"u"&&window.addEventListener("mousemove",t=>{Ms=pf,Ls=mf,pf=t.clientX,mf=t.clientY},pl?{passive:!0}:void 0);function Bh(t,e,n,r,i,o,s,l){const u=((s-i)*(e-o)-(l-o)*(t-i))/((l-o)*(n-t)-(s-i)*(r-e)),f=((n-t)*(e-o)-(r-e)*(t-i))/((l-o)*(n-t)-(s-i)*(r-e));return u>=0&&u<=1&&f>=0&&f<=1}var Eg=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const W7={extends:cM()};function U7(t,e,n,r,i,o){return ge(),Se("div",{ref:"reference",class:gt(["v-popper",{"v-popper--shown":t.slotData.isShown}])},[pn(t.$slots,"default",AA(G1(t.slotData)))],2)}var q7=Eg(W7,[["render",U7]]);function K7(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("Trident/");if(n>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0?parseInt(t.substring(i+5,t.indexOf(".",i)),10):-1}let Sp;function ab(){ab.init||(ab.init=!0,Sp=K7()!==-1)}var Ag={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){ab(),Ri(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",Sp&&this.$el.appendChild(t),t.data="about:blank",Sp||this.$el.appendChild(t)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Sp&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const G7=z1();D1("data-v-b329ee4c");const Y7={class:"resize-observer",tabindex:"-1"};R1();const J7=G7((t,e,n,r,i,o)=>(ge(),Et("div",Y7)));Ag.render=J7;Ag.__scopeId="data-v-b329ee4c";Ag.__file="src/components/ResizeObserver.vue";var dM=(t="theme")=>({computed:{themeClass(){return B7(this[t])}}});const X7=Vn({name:"VPopperContent",components:{ResizeObserver:Ag},mixins:[dM()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(t){return t!=null&&!isNaN(t)?`${t}px`:null}}}),Z7=["id","aria-hidden","tabindex","data-popper-placement"],Q7={ref:"inner",class:"v-popper__inner"},eB=ee("div",{class:"v-popper__arrow-outer"},null,-1),tB=ee("div",{class:"v-popper__arrow-inner"},null,-1),nB=[eB,tB];function rB(t,e,n,r,i,o){const s=ut("ResizeObserver");return ge(),Se("div",{id:t.popperId,ref:"popover",class:gt(["v-popper__popper",[t.themeClass,t.classes.popperClass,{"v-popper__popper--shown":t.shown,"v-popper__popper--hidden":!t.shown,"v-popper__popper--show-from":t.classes.showFrom,"v-popper__popper--show-to":t.classes.showTo,"v-popper__popper--hide-from":t.classes.hideFrom,"v-popper__popper--hide-to":t.classes.hideTo,"v-popper__popper--skip-transition":t.skipTransition,"v-popper__popper--arrow-overflow":t.result&&t.result.arrow.overflow,"v-popper__popper--no-positioning":!t.result}]]),style:oi(t.result?{position:t.result.strategy,transform:`translate3d(${Math.round(t.result.x)}px,${Math.round(t.result.y)}px,0)`}:void 0),"aria-hidden":t.shown?"false":"true",tabindex:t.autoHide?0:void 0,"data-popper-placement":t.result?t.result.placement:void 0,onKeyup:e[2]||(e[2]=Tu(l=>t.autoHide&&t.$emit("hide"),["esc"]))},[ee("div",{class:"v-popper__backdrop",onClick:e[0]||(e[0]=l=>t.autoHide&&t.$emit("hide"))}),ee("div",{class:"v-popper__wrapper",style:oi(t.result?{transformOrigin:t.result.transformOrigin}:void 0)},[ee("div",Q7,[t.mounted?(ge(),Se(kt,{key:0},[ee("div",null,[pn(t.$slots,"default")]),t.handleResize?(ge(),Et(s,{key:0,onNotify:e[1]||(e[1]=l=>t.$emit("resize",l))})):_t("",!0)],64)):_t("",!0)],512),ee("div",{ref:"arrow",class:"v-popper__arrow-container",style:oi(t.result?{left:t.toPx(t.result.arrow.x),top:t.toPx(t.result.arrow.y)}:void 0)},nB,4)],4)],46,Z7)}var hM=Eg(X7,[["render",rB]]),pM={methods:{show(...t){return this.$refs.popper.show(...t)},hide(...t){return this.$refs.popper.hide(...t)},dispose(...t){return this.$refs.popper.dispose(...t)},onResize(...t){return this.$refs.popper.onResize(...t)}}};const iB=Vn({name:"VPopperWrapper",components:{Popper:q7,PopperContent:hM},mixins:[pM,dM("finalTheme")],props:{theme:{type:String,default:null}},computed:{finalTheme(){var t;return(t=this.theme)!=null?t:this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(t=>t!==this.$refs.popperContent.$el)}}});function oB(t,e,n,r,i,o){const s=ut("PopperContent"),l=ut("Popper");return ge(),Et(l,{ref:"popper",theme:t.finalTheme,"target-nodes":t.getTargetNodes,"popper-node":()=>t.$refs.popperContent.$el,class:gt([t.themeClass])},{default:Vt(({popperId:u,isShown:f,shouldMountContent:d,skipTransition:m,autoHide:v,show:y,hide:_,handleResize:C,onResize:x,classes:k,result:A})=>[pn(t.$slots,"default",{shown:f,show:y,hide:_}),Qe(s,{ref:"popperContent","popper-id":u,theme:t.finalTheme,shown:f,mounted:d,"skip-transition":m,"auto-hide":v,"handle-resize":C,classes:k,result:A,onHide:_,onResize:x},{default:Vt(()=>[pn(t.$slots,"popper",{shown:f,hide:_})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},8,["theme","target-nodes","popper-node","class"])}var w_=Eg(iB,[["render",oB]]);const sB=Vn(Ad($o({},w_),{name:"VDropdown",vPopperTheme:"dropdown"})),aB=Vn(Ad($o({},w_),{name:"VMenu",vPopperTheme:"menu"})),lB=Vn(Ad($o({},w_),{name:"VTooltip",vPopperTheme:"tooltip"})),uB=Vn({name:"VTooltipDirective",components:{Popper:cM(),PopperContent:hM},mixins:[pM],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:t=>Uu(t.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:t=>Uu(t.theme,"loadingContent")}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(t){if(typeof this.content=="function"&&this.$_isShown&&(t||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const e=++this.$_fetchId,n=this.content(this);n.then?n.then(r=>this.onResult(e,r)):this.onResult(e,n)}},onResult(t,e){t===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=e)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),cB=["innerHTML"],fB=["textContent"];function dB(t,e,n,r,i,o){const s=ut("PopperContent"),l=ut("Popper");return ge(),Et(l,wi({ref:"popper"},t.$attrs,{theme:t.theme,"popper-node":()=>t.$refs.popperContent.$el,onApplyShow:t.onShow,onApplyHide:t.onHide}),{default:Vt(({popperId:u,isShown:f,shouldMountContent:d,skipTransition:m,autoHide:v,hide:y,handleResize:_,onResize:C,classes:x,result:k})=>[Qe(s,{ref:"popperContent",class:gt({"v-popper--tooltip-loading":t.loading}),"popper-id":u,theme:t.theme,shown:f,mounted:d,"skip-transition":m,"auto-hide":v,"handle-resize":_,classes:x,result:k,onHide:y,onResize:C},{default:Vt(()=>[t.html?(ge(),Se("div",{key:0,innerHTML:t.finalContent},null,8,cB)):(ge(),Se("div",{key:1,textContent:Ne(t.finalContent)},null,8,fB))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","popper-node","onApplyShow","onApplyHide"])}var hB=Eg(uB,[["render",dB]]);const mM="v-popper--has-tooltip";function pB(t,e){let n=t.placement;if(!n&&e)for(const r of uM)e[r]&&(n=r);return n||(n=Uu(t.theme||"tooltip","placement")),n}function gM(t,e,n){let r;const i=typeof e;return i==="string"?r={content:e}:e&&i==="object"?r=e:r={content:!1},r.placement=pB(r,n),r.targetNodes=()=>[t],r.referenceNode=()=>t,r}let _0,Zf,mB=0;function gB(){if(_0)return;Zf=Ot([]),_0=Q1({name:"VTooltipDirectiveApp",setup(){return{directives:Zf}},render(){return this.directives.map(e=>Hr(hB,Ad($o({},e.options),{shown:e.shown||e.options.shown,key:e.id})))},devtools:{hide:!0}});const t=document.createElement("div");document.body.appendChild(t),_0.mount(t)}function vB(t,e,n){gB();const r=Ot(gM(t,e,n)),i=Ot(!1),o={id:mB++,options:r,shown:i};return Zf.value.push(o),t.classList&&t.classList.add(mM),t.$_popper={options:r,item:o,show(){i.value=!0},hide(){i.value=!1}}}function vM(t){if(t.$_popper){const e=Zf.value.indexOf(t.$_popper.item);e!==-1&&Zf.value.splice(e,1),delete t.$_popper,delete t.$_popperOldShown,delete t.$_popperMountTarget}t.classList&&t.classList.remove(mM)}function gS(t,{value:e,modifiers:n}){const r=gM(t,e,n);if(!r.content||Uu(r.theme||"tooltip","disabled"))vM(t);else{let i;t.$_popper?(i=t.$_popper,i.options.value=r):i=vB(t,e,n),typeof e.shown<"u"&&e.shown!==t.$_popperOldShown&&(t.$_popperOldShown=e.shown,e.shown?i.show():i.hide())}}var yB={beforeMount:gS,updated:gS,beforeUnmount(t){vM(t)}};function vS(t){t.addEventListener("click",yM),t.addEventListener("touchstart",bM,pl?{passive:!0}:!1)}function yS(t){t.removeEventListener("click",yM),t.removeEventListener("touchstart",bM),t.removeEventListener("touchend",_M),t.removeEventListener("touchcancel",wM)}function yM(t){const e=t.currentTarget;t.closePopover=!e.$_vclosepopover_touch,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function bM(t){if(t.changedTouches.length===1){const e=t.currentTarget;e.$_vclosepopover_touch=!0;const n=t.changedTouches[0];e.$_vclosepopover_touchPoint=n,e.addEventListener("touchend",_M),e.addEventListener("touchcancel",wM)}}function _M(t){const e=t.currentTarget;if(e.$_vclosepopover_touch=!1,t.changedTouches.length===1){const n=t.changedTouches[0],r=e.$_vclosepopover_touchPoint;t.closePopover=Math.abs(n.screenY-r.screenY)<20&&Math.abs(n.screenX-r.screenX)<20,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function wM(t){const e=t.currentTarget;e.$_vclosepopover_touch=!1}var bB={beforeMount(t,{value:e,modifiers:n}){t.$_closePopoverModifiers=n,(typeof e>"u"||e)&&vS(t)},updated(t,{value:e,oldValue:n,modifiers:r}){t.$_closePopoverModifiers=r,e!==n&&(typeof e>"u"||e?vS(t):yS(t))},beforeUnmount(t){yS(t)}};function _B(t,e={}){t.$_vTooltipInstalled||(t.$_vTooltipInstalled=!0,aM(jo,e),t.directive("tooltip",yB),t.directive("close-popper",bB),t.component("VTooltip",lB),t.component("VDropdown",sB),t.component("VMenu",aB))}const wB={version:"2.0.0-beta.20",install:_B,options:jo};function gf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gf=function(e){return typeof e}:gf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function bS(t,e,n,r,i,o,s){try{var l=t[o](s),u=l.value}catch(f){n(f);return}l.done?e(u):Promise.resolve(u).then(r,i)}function kB(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){bS(o,r,i,s,l,"next",u)}function l(u){bS(o,r,i,s,l,"throw",u)}s(void 0)})}}function xB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SB(t,e,n){return e&&_S(t.prototype,e),n&&_S(t,n),t}function Au(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wS(Object(n),!0).forEach(function(r){Au(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ml(t){return CB(t)||TB(t)||EB(t)||AB()}function CB(t){if(Array.isArray(t))return lb(t)}function TB(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function EB(t,e){if(t){if(typeof t=="string")return lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lb(t,e)}}function lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var OB='button:not([disabled]), select:not([disabled]), a[href]:not([disabled]), area[href]:not([disabled]), [contentEditable=""]:not([disabled]), [contentEditable="true"]:not([disabled]), [contentEditable="TRUE"]:not([disabled]), textarea:not([disabled]), iframe:not([disabled]), input:not([disabled]), summary:not([disabled]), [tabindex]:not([tabindex="-1"])',MB=function(e){return e.key==="Tab"||e.keyCode===9},LB=function(e,n){return ml(e.querySelectorAll(n)||[])},NB=function(e){return LB(e,OB)},kS=function(e){return e==document.activeElement},IB=function(){return!document.activeElement},PB=function(){function t(){xB(this,t),this.root=null,this.elements=[],this.onKeyDown=this.onKeyDown.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.firstElement=this.firstElement.bind(this),this.lastElement=this.lastElement.bind(this)}return SB(t,[{key:"lastElement",value:function(){return this.elements[this.elements.length-1]||null}},{key:"firstElement",value:function(){return this.elements[0]||null}},{key:"onKeyDown",value:function(n){if(MB(n)){if(n.shiftKey){kS(this.firstElement())&&(this.lastElement().focus(),n.preventDefault());return}if(IB()||kS(this.lastElement())){this.firstElement().focus(),n.preventDefault();return}}}},{key:"enabled",value:function(){return!!this.root}},{key:"enable",value:function(n){n&&(this.root=n,this.elements=NB(this.root),this.root.addEventListener("keydown",this.onKeyDown))}},{key:"disable",value:function(){this.root.removeEventListener("keydown",this.onKeyDown),this.root=null}}]),t}(),DB=function(e,n,r){var i=e.style[n];return e.style[n]=r,function(){e.style[n]=i}},xS=function(e){var n=e.targetTouches?e.targetTouches[0]:e,r=n.clientX,i=n.clientY;return{x:r,y:i}},RB=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},$h=function(e,n,r){return typeof e!="number"&&(e=Math.min(n,r)||n),typeof r!="number"&&(r=Math.max(n,e)),Math.min(Math.max(n,e),r)},SS=function(e){return e&&Number(e.replace(/px$/,""))||0},zB=function(e,n,r){if(r==="")return!0;var i=ml(n.querySelectorAll(r));return i.includes(e.target)},um={down:{pc:"mousedown",m:"touchstart"},move:{pc:"mousemove",m:"touchmove"},up:{pc:"mouseup",m:"touchend"}},Hh=function(e,n,r){n&&n.addEventListener(um[e].pc,r),n&&n.addEventListener(um[e].m,r,{passive:!1})},Fh=function(e,n,r){n&&n.removeEventListener(um[e].pc,r),n&&n.removeEventListener(um[e].m,r)},k_=!1;if(typeof window<"u"){var CS={get passive(){k_=!0}};window.addEventListener("testPassive",null,CS),window.removeEventListener("testPassive",null,CS)}var kM=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Ws=[],cm=!1,Cp=0,xM=-1,vf,yf,BB=function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(e);return["auto","scroll"].includes(n.overflowY)&&e.scrollHeight>e.clientHeight},$B=function(e,n){return!(e.scrollTop===0&&n<0||e.scrollTop+e.clientHeight+n>=e.scrollHeight&&n>0)},HB=function(e){for(var n=[];e;){if(n.push(e),e.classList.contains("vfm"))return n;e=e.parentElement}return n},FB=function(e,n){var r=!1,i=HB(e);return i.forEach(function(o){BB(o)&&$B(o,n)&&(r=!0)}),r},SM=function(e){return Ws.some(function(){return FB(e,-Cp)})},fm=function(e){var n=e||window.event;return SM(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},VB=function(e){if(yf===void 0){var n=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(n&&r>0){var i=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);yf=document.body.style.paddingRight,document.body.style.paddingRight="".concat(i+r,"px")}}vf===void 0&&(vf=document.body.style.overflow,document.body.style.overflow="hidden")},jB=function(){yf!==void 0&&(document.body.style.paddingRight=yf,yf=void 0),vf!==void 0&&(document.body.style.overflow=vf,vf=void 0)},WB=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},UB=function(e,n){return Cp=e.targetTouches[0].clientY-xM,SM(e.target)?!1:n&&n.scrollTop===0&&Cp>0||WB(n)&&Cp<0?fm(e):(e.stopPropagation(),!0)},qB=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Ws.some(function(i){return i.targetElement===e})){var r={targetElement:e,options:n||{}};Ws=[].concat(ml(Ws),[r]),kM?(e.ontouchstart=function(i){i.targetTouches.length===1&&(xM=i.targetTouches[0].clientY)},e.ontouchmove=function(i){i.targetTouches.length===1&&UB(i,e)},cm||(document.addEventListener("touchmove",fm,k_?{passive:!1}:void 0),cm=!0)):VB(n)}},w0=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Ws=Ws.filter(function(n){return n.targetElement!==e}),kM?(e.ontouchstart=null,e.ontouchmove=null,cm&&Ws.length===0&&(document.removeEventListener("touchmove",fm,k_?{passive:!1}:void 0),cm=!1)):Ws.length||jB()},Vh=function(){},no={Enter:"enter",Entering:"entering",Leave:"leave",Leaving:"leavng"},KB={t:"ns-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize",b:"ns-resize",bl:"nesw-resize",l:"ew-resize",tl:"nwse-resize"},Og={props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},ssr:{type:Boolean,default:!0},classes:{type:[String,Object,Array],default:""},overlayClass:{type:[String,Object,Array],default:""},contentClass:{type:[String,Object,Array],default:""},styles:{type:[Object,Array],default:function(){return{}}},overlayStyle:{type:[Object,Array],default:function(){return{}}},contentStyle:{type:[Object,Array],default:function(){return{}}},lockScroll:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!1},preventClick:{type:Boolean,default:!1},attach:{type:null,default:!1,validator:function(e){var n=gf(e);return n==="boolean"||n==="string"?!0:e.nodeType===Node.ELEMENT_NODE}},transition:{type:[String,Object],default:"vfm"},overlayTransition:{type:[String,Object],default:"vfm"},keepOverlay:{type:Boolean,default:!1},zIndexAuto:{type:Boolean,default:!0},zIndexBase:{type:[String,Number],default:1e3},zIndex:{type:[Boolean,String,Number],default:!1},focusRetain:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!0},drag:{type:Boolean,default:!1},dragSelector:{type:String,default:""},keepChangedStyle:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},resizeDirections:{type:Array,default:function(){return["t","tr","r","br","b","bl","l","tl"]},validator:function(e){return["t","tr","r","br","b","bl","l","tl"].filter(function(n){return e.indexOf(n)!==-1}).length===e.length}},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0}},emits:["update:modelValue","click-outside","before-open","opened","before-close","closed","_before-open","_opened","_closed","drag:start","drag:move","drag:end","resize:start","resize:move","resize:end"],setup:function(e,n){var r=n.emit,i=Symbol("vfm"),o=Ot(null),s=Ot(null),l=Ot(null),u=Ot(null),f=Ot(null),d=Ot(null),m=Ot(null),v=new PB,y=Ot(!1),_=Al({modal:!1,overlay:!1,resize:!1}),C=Ot(null),x=Ot(null),k=Ot(!1),A=Ot({}),N=Ot({}),E=Ot(null),H=Ot(null),I=Vh,q=Vh,P=er(function(){return typeof e.overlayTransition=="string"?{name:e.overlayTransition}:Dr({},e.overlayTransition)}),z=er(function(){return typeof e.transition=="string"?{name:e.transition}:Dr({},e.transition)}),w=er(function(){return(e.hideOverlay||C.value===no.Leave)&&x.value===no.Leave}),R=er(function(){return e.zIndex===!1?e.zIndexAuto?+e.zIndexBase+2*(m.value||0):!1:e.zIndex}),U=er(function(){return Dr({},R.value!==!1&&{zIndex:R.value})}),K=er(function(){var O=[N.value];return Array.isArray(e.contentStyle)?O.push.apply(O,ml(e.contentStyle)):O.push(e.contentStyle),O});En(function(){return e.modelValue},function(O){if(k.value){k.value=!1;return}if(D(),!O){if(ie("before-close",!0)){q("hide");return}ae()}}),En(function(){return e.lockScroll},ce),En(function(){return e.hideOverlay},function(O){e.modelValue&&!O&&(_.overlay=!0)}),En(function(){return e.attach},D),En(w,function(O){O&&(y.value=!1,s.value.style.display="none")},{flush:"post"}),En(function(){return e.drag},function(O){y.value&&(O?xe():G())}),En(function(){return e.resize},function(O){y.value&&(O?Z():L())}),En(function(){return e.keepChangedStyle},function(O){O||(N.value={})}),ts(function(){e.api.modals.push(oe()),D()}),Ml(function(){var O;ae(),e.lockScroll&&s.value&&w0(s.value),o==null||(O=o.value)===null||O===void 0||O.remove();var j=e.api.modals.findIndex(function(F){return F.uid===i});e.api.modals.splice(j,1)});function oe(){return{uid:i,props:e,emit:r,vfmContainer:s,vfmContent:l,vfmResize:u,vfmOverlayTransition:f,vfmTransition:d,getAttachElement:ve,modalStackIndex:m,visibility:_,handleLockScroll:ce,$focusTrap:v,toggle:be,params:A}}function D(){if(e.modelValue){if(r("_before-open",at({type:"_before-open"})),ie("before-open",!1)){q("show");return}var O=ve();if(O||e.attach===!1){if(e.attach!==!1)if(o.value)O.appendChild(o.value);else{y.value=!0,Ri(function(){D()});return}var j=e.api.openedModals.findIndex(function(F){return F.uid===i});j!==-1&&e.api.openedModals.splice(j,1),e.api.openedModals.push(oe()),m.value=e.api.openedModals.length-1,ce(),e.api.openedModals.filter(function(F){return F.uid!==i}).forEach(function(F,Q){F.getAttachElement()===O&&(F.modalStackIndex.value=Q,!F.props.keepOverlay&&(F.visibility.overlay=!1))}),y.value=!0,ze()}else O!==!1&&console.warn("Unable to locate target ".concat(e.attach))}}function ae(){var O=e.api.openedModals.findIndex(function(F){return F.uid===i});if(O!==-1&&e.api.openedModals.splice(O,1),e.api.openedModals.length>0){var j=e.api.openedModals[e.api.openedModals.length-1];j.props.focusTrap&&j.$focusTrap.firstElement().focus(),(j.props.focusRetain||j.props.focusTrap)&&j.vfmContainer.value.focus(),!j.props.hideOverlay&&(j.visibility.overlay=!0)}e.drag&&G(),e.resize&&L(),E.value=null,qe()}function ce(){e.modelValue&&Ri(function(){e.lockScroll?qB(s.value,{reserveScrollBarGap:!0}):w0(s.value)})}function ve(){var O;return e.attach===!1?O=!1:typeof e.attach=="string"?window?O=window.document.querySelector(e.attach):O=!1:O=e.attach,O}function ze(){_.overlay=!0,_.modal=!0}function qe(){_.overlay=!1,_.modal=!1}function vt(){C.value=no.Entering}function mt(){C.value=no.Enter}function bt(){C.value=no.Leaving}function yt(){C.value=no.Leave}function Xe(){x.value=no.Entering}function Ie(){x.value=no.Enter,(e.focusRetain||e.focusTrap)&&s.value.focus(),e.focusTrap&&v.enable(s.value),e.drag&&xe(),e.resize&&Z(),r("_opened"),r("opened",at({type:"opened"})),I("show")}function Be(){x.value=no.Leaving,v.enabled()&&v.disable()}function Ee(){x.value=no.Leave,m.value=null,e.lockScroll&&w0(s.value),e.keepChangedStyle||(N.value={});var O=!1,j=at({type:"closed",stop:function(){O=!0}});r("_closed"),r("closed",j),I("hide"),!O&&(A.value={})}function Ze(O){H.value=O==null?void 0:O.target}function Ke(){H.value===s.value&&E.value!=="resize:move"&&(r("click-outside",at({type:"click-outside"})),e.clickToClose&&r("update:modelValue",!1))}function Fe(){y.value&&e.escToClose&&r("update:modelValue",!1)}function at(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Dr({ref:oe()},O)}function ie(O,j){var F=!1,Q=at({type:O,stop:function(){F=!0}});return r(O,Q),F?(k.value=!0,Ri(function(){r("update:modelValue",j)}),!0):!1}function ne(O,j,F){E.value="".concat(j,":").concat(F),r(E.value,O)}function be(O,j){var F=arguments;return new Promise(function(Q,le){I=function(Y){Q(Y),I=Vh},q=function(Y){le(Y),q=Vh};var pe=typeof O=="boolean"?O:!e.modelValue;pe&&F.length===2&&(A.value=j),r("update:modelValue",pe)})}function _e(O){O.stopPropagation();var j="resize",F="drag",Q=O.target.getAttribute("direction"),le;if(Q)le=j;else if(zB(O,l.value,e.dragSelector))le=F;else return;ne(O,le,"start");var pe=xS(O),ye=s.value.getBoundingClientRect(),Y=l.value.getBoundingClientRect(),X=window.getComputedStyle(l.value).position==="absolute",de={top:SS(N.value.top),left:SS(N.value.left)},Te=function(){if(e.fitParent){var Le={absolute:function(){return{minTop:0,minLeft:0,maxTop:ye.height-Y.height,maxLeft:ye.width-Y.width}},relative:function(){return{minTop:de.top+ye.top-Y.top,minLeft:de.left+ye.left-Y.left,maxTop:de.top+ye.bottom-Y.bottom,maxLeft:de.left+ye.right-Y.right}}};return X?Le.absolute():Le.relative()}else return{}}(),je=le===j&&DB(document.body,"cursor",KB[Q]),he=function(me){me.stopPropagation(),ne(me,le,"move");var Je=xS(me),ct={x:Je.x-pe.x,y:Je.y-pe.y};le===j&&(ct=W(Q,ct,ye,Y,X));var ot,Ct;X?(ot=Y.top-ye.top+ct.y,Ct=Y.left-ye.left+ct.x):(ot=de.top+ct.y,Ct=de.left+ct.x),le===F&&e.fitParent&&(ot=$h(Te.minTop,ot,Te.maxTop),Ct=$h(Te.minLeft,Ct,Te.maxLeft));var yr=Dr(Dr(Dr({position:"relative",top:ot+"px",left:Ct+"px",margin:"unset",touchAction:"none"},X&&{position:"absolute",transform:"unset",width:Y.width+"px",height:Y.height+"px"}),ct.width&&{width:ct.width+"px"}),ct.height&&{height:ct.height+"px"});N.value=Dr(Dr({},N.value),yr)},Ae=function Le(me){me.stopPropagation(),le===j&&je&&je(),setTimeout(function(){ne(me,le,"end")}),Fh("move",document,he),Fh("up",document,Le)};Hh("move",document,he),Hh("up",document,Ae)}function xe(){Hh("down",l.value,_e),N.value.touchAction="none"}function G(){Fh("down",l.value,_e)}function Z(){_.resize=!0,Ri(function(){Hh("down",u.value,_e)})}function L(){Fh("down",u.value,_e),_.resize=!1}function W(O,j,F,Q,le){var pe=function(Te){var je,he=j[Te.axis];he=e.fitParent?$h(Te.min,he,Te.max):he;var Ae=$h(Te.minEdge,Te.getEdge(he),Te.maxEdge);return he=Te.getOffsetAxis(Ae,le),je={},Au(je,Te.edgeName,Ae),Au(je,Te.axis,he),je},ye=function(Te,je,he,Ae){var Le=Q[je],me=F[Te]-Q[Te],Je=RB(je);return{axis:he,edgeName:je,min:Ae?me:-Le,max:Ae?Le:me,minEdge:e["min".concat(Je)],maxEdge:e["max".concat(Je)],getEdge:function(ot){return Q[je]-ot*(Ae?1:-1)},getOffsetAxis:function(ot,Ct){var yr=Q[je]-ot;return Ct?Ae?yr:0:(Ae?1:-1)*yr/2}}},Y={t:["top","height","y",!0],b:["bottom","height","y",!1],l:["left","width","x",!0],r:["right","width","x",!1]},X={x:0,y:0};return O.split("").forEach(function(de){var Te=ye.apply(void 0,ml(Y[de]));X=Dr(Dr({},X),pe(Te))}),X}return{root:o,vfmContainer:s,vfmContent:l,vfmResize:u,vfmOverlayTransition:f,vfmTransition:d,computedOverlayTransition:P,computedTransition:z,visible:y,visibility:_,params:A,calculateZIndex:R,bindStyle:U,bindContentStyle:K,beforeOverlayEnter:vt,afterOverlayEnter:mt,beforeOverlayLeave:bt,afterOverlayLeave:yt,beforeModalEnter:Xe,afterModalEnter:Ie,beforeModalLeave:Be,afterModalLeave:Ee,onMousedown:Ze,onMouseupContainer:Ke,onEsc:Fe}}},k0=z1();D1("data-v-2836fdb5");var GB={key:0,ref:"vfmResize",class:"vfm__resize vfm--absolute vfm--inset vfm--prevent-none vfm--select-none vfm--touch-none"};R1();var YB=k0(function(t,e,n,r,i,o){return n.ssr||r.visible?Ut((ge(),Et("div",{key:0,ref:"root",style:r.bindStyle,class:["vfm vfm--inset",[n.attach===!1?"vfm--fixed":"vfm--absolute",{"vfm--prevent-none":n.preventClick}]],onKeydown:e[4]||(e[4]=Tu(function(){return r.onEsc&&r.onEsc.apply(r,arguments)},["esc"]))},[Qe(zu,wi(r.computedOverlayTransition,{onBeforeEnter:r.beforeOverlayEnter,onAfterEnter:r.afterOverlayEnter,onBeforeLeave:r.beforeOverlayLeave,onAfterLeave:r.afterOverlayLeave}),{default:k0(function(){return[!n.hideOverlay&&r.visibility.overlay?(ge(),Et("div",{key:0,class:["vfm__overlay vfm--overlay vfm--absolute vfm--inset",n.overlayClass],style:n.overlayStyle},null,6)):_t("v-if",!0)]}),_:1},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),Qe(zu,wi(r.computedTransition,{onBeforeEnter:r.beforeModalEnter,onAfterEnter:r.afterModalEnter,onBeforeLeave:r.beforeModalLeave,onAfterLeave:r.afterModalLeave}),{default:k0(function(){return[Ut(Qe("div",{ref:"vfmContainer",class:["vfm__container vfm--absolute vfm--inset vfm--outline-none",n.classes],style:n.styles,"aria-expanded":r.visibility.modal.toString(),role:"dialog","aria-modal":"true",tabindex:"-1",onMouseup:e[2]||(e[2]=lt(function(){return r.onMouseupContainer&&r.onMouseupContainer.apply(r,arguments)},["self"])),onMousedown:e[3]||(e[3]=lt(function(){return r.onMousedown&&r.onMousedown.apply(r,arguments)},["self"]))},[Qe("div",{ref:"vfmContent",class:["vfm__content",[n.contentClass,{"vfm--prevent-auto":n.preventClick}]],style:r.bindContentStyle,onMousedown:e[1]||(e[1]=function(s){return r.onMousedown(null)})},[pn(t.$slots,"default",{params:r.params,close:function(){return t.$emit("update:modelValue",!1)}}),r.visibility.resize&&r.visibility.modal?(ge(),Et("div",GB,[(ge(!0),Et(kt,null,Zt(n.resizeDirections,function(s){return ge(),Et("div",{key:s,direction:s,class:["vfm--resize-".concat(s),"vfm--absolute vfm--prevent-auto"]},null,10,["direction"])}),128))],512)):_t("v-if",!0)],38)],46,["aria-expanded"]),[[Bu,r.visibility.modal]])]}),_:3},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],38)),[[Bu,!n.ssr||r.visible]]):_t("v-if",!0)});function JB(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var XB=`
========
var VP=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Tue=VP((ri,ii)=>{/**
* @vue/shared v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ai(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Ft={},bu=[],An=()=>{},yp=()=>!1,Cl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),b1=t=>t.startsWith("onUpdate:"),Rt=Object.assign,_1=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jP=Object.prototype.hasOwnProperty,Dt=(t,e)=>jP.call(t,e),We=Array.isArray,_u=t=>oc(t)==="[object Map]",Tl=t=>oc(t)==="[object Set]",Gx=t=>oc(t)==="[object Date]",WP=t=>oc(t)==="[object RegExp]",pt=t=>typeof t=="function",xt=t=>typeof t=="string",Vi=t=>typeof t=="symbol",qt=t=>t!==null&&typeof t=="object",w1=t=>(qt(t)||pt(t))&&pt(t.then)&&pt(t.catch),CA=Object.prototype.toString,oc=t=>CA.call(t),UP=t=>oc(t).slice(8,-1),TA=t=>oc(t)==="[object Object]",k1=t=>xt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ya=ai(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qP=ai("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),ig=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},KP=/-(\w)/g,bn=ig(t=>t.replace(KP,(e,n)=>n?n.toUpperCase():"")),GP=/\B([A-Z])/g,ni=ig(t=>t.replace(GP,"-$1").toLowerCase()),El=ig(t=>t.charAt(0).toUpperCase()+t.slice(1)),wu=ig(t=>t?`on${El(t)}`:""),ji=(t,e)=>!Object.is(t,e),ku=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Bp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},zf=t=>{const e=parseFloat(t);return isNaN(e)?t:e},$p=t=>{const e=xt(t)?Number(t):NaN;return isNaN(e)?t:e};let Yx;const x1=()=>Yx||(Yx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),YP="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",JP=ai(YP);function oi(t){if(We(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=xt(r)?EA(r):oi(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(xt(t)||qt(t))return t}const XP=/;(?![^(]*\))/g,ZP=/:([^]+)/,QP=/\/\*[^]*?\*\//g;function EA(t){const e={};return t.replace(QP,"").split(XP).forEach(n=>{if(n){const r=n.split(ZP);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function vt(t){let e="";if(xt(t))e=t;else if(We(t))for(let n=0;n<t.length;n++){const r=vt(t[n]);r&&(e+=r+" ")}else if(qt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function AA(t){if(!t)return null;let{class:e,style:n}=t;return e&&!xt(e)&&(t.class=vt(e)),n&&(t.style=oi(n)),t}const eD="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",tD="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",nD="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",rD="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",iD=ai(eD),oD=ai(tD),sD=ai(nD),aD=ai(rD),lD="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uD=ai(lD);function OA(t){return!!t||t===""}function cD(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=qo(t[r],e[r]);return n}function qo(t,e){if(t===e)return!0;let n=Gx(t),r=Gx(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Vi(t),r=Vi(e),n||r)return t===e;if(n=We(t),r=We(e),n||r)return n&&r?cD(t,e):!1;if(n=qt(t),r=qt(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const l=t.hasOwnProperty(s),u=e.hasOwnProperty(s);if(l&&!u||!l&&u||!qo(t[s],e[s]))return!1}}return String(t)===String(e)}function og(t,e){return t.findIndex(n=>qo(n,e))}const Le=t=>xt(t)?t:t==null?"":We(t)||qt(t)&&(t.toString===CA||!pt(t.toString))?JSON.stringify(t,MA,2):String(t),MA=(t,e)=>e&&e.__v_isRef?MA(t,e.value):_u(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],o)=>(n[ay(r,o)+" =>"]=i,n),{})}:Tl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ay(n))}:Vi(e)?ay(e):qt(e)&&!We(e)&&!TA(e)?String(e):e,ay=(t,e="")=>{var n;return Vi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zr;class S1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Zr,!e&&Zr&&(this.index=(Zr.scopes||(Zr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Zr;try{return Zr=this,e()}finally{Zr=n}}}on(){Zr=this}off(){Zr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function fD(t){return new S1(t)}function NA(t,e=Zr){e&&e.active&&e.effects.push(t)}function LA(){return Zr}function dD(t){Zr&&Zr.cleanups.push(t)}let Ja;class Pu{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,NA(this,i)}get dirty(){if(this._dirtyLevel===1){ua();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(hD(n.computed),this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),ca()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Gs,n=Ja;try{return Gs=!0,Ja=this,this._runnings++,Jx(this),this.fn()}finally{Xx(this),this._runnings--,Ja=n,Gs=e}}stop(){var e;this.active&&(Jx(this),Xx(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function hD(t){return t.value}function Jx(t){t._trackId++,t._depsLength=0}function Xx(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)IA(t.deps[e],t);t.deps.length=t._depsLength}}function IA(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function pD(t,e){t.effect instanceof Pu&&(t=t.effect.fn);const n=new Pu(t,An,()=>{n.dirty&&n.run()});e&&(Rt(n,e),e.scope&&NA(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function mD(t){t.effect.stop()}let Gs=!0,E0=0;const PA=[];function ua(){PA.push(Gs),Gs=!1}function ca(){const t=PA.pop();Gs=t===void 0?!0:t}function C1(){E0++}function T1(){for(E0--;!E0&&A0.length;)A0.shift()()}function DA(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&IA(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const A0=[];function RA(t,e,n){C1();for(const r of t.keys())if(r._dirtyLevel<e&&t.get(r)===r._trackId){const i=r._dirtyLevel;r._dirtyLevel=e,i===0&&(r._shouldSchedule=!0,r.trigger())}zA(t),T1()}function zA(t){for(const e of t.keys())e.scheduler&&e._shouldSchedule&&(!e._runnings||e.allowRecurse)&&t.get(e)===e._trackId&&(e._shouldSchedule=!1,A0.push(e.scheduler))}const BA=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Hp=new WeakMap,Xa=Symbol(""),O0=Symbol("");function Wr(t,e,n){if(Gs&&Ja){let r=Hp.get(t);r||Hp.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=BA(()=>r.delete(n))),DA(Ja,i)}}function Vo(t,e,n,r,i,o){const s=Hp.get(t);if(!s)return;let l=[];if(e==="clear")l=[...s.values()];else if(n==="length"&&We(t)){const u=Number(r);s.forEach((f,d)=>{(d==="length"||!Vi(d)&&d>=u)&&l.push(f)})}else switch(n!==void 0&&l.push(s.get(n)),e){case"add":We(t)?k1(n)&&l.push(s.get("length")):(l.push(s.get(Xa)),_u(t)&&l.push(s.get(O0)));break;case"delete":We(t)||(l.push(s.get(Xa)),_u(t)&&l.push(s.get(O0)));break;case"set":_u(t)&&l.push(s.get(Xa));break}C1();for(const u of l)u&&RA(u,2);T1()}function gD(t,e){var n;return(n=Hp.get(t))==null?void 0:n.get(e)}const vD=ai("__proto__,__v_isRef,__isVue"),$A=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Vi)),Zx=yD();function yD(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Mt(this);for(let o=0,s=this.length;o<s;o++)Wr(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Mt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ua(),C1();const r=Mt(this)[e].apply(this,n);return T1(),ca(),r}}),t}function bD(t){const e=Mt(this);return Wr(e,"has",t),e.hasOwnProperty(t)}class HA{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const i=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?qA:UA:o?WA:jA).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const s=We(e);if(!i){if(s&&Dt(Zx,n))return Reflect.get(Zx,n,r);if(n==="hasOwnProperty")return bD}const l=Reflect.get(e,n,r);return(Vi(n)?$A.has(n):vD(n))||(i||Wr(e,"get",n),o)?l:qn(l)?s&&k1(n)?l:l.value:qt(l)?i?A1(l):Al(l):l}}class FA extends HA{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(!this._shallow){const u=ll(o);if(!Bf(r)&&!ll(r)&&(o=Mt(o),r=Mt(r)),!We(e)&&qn(o)&&!qn(r))return u?!1:(o.value=r,!0)}const s=We(e)&&k1(n)?Number(n)<e.length:Dt(e,n),l=Reflect.set(e,n,r,i);return e===Mt(i)&&(s?ji(r,o)&&Vo(e,"set",n,r):Vo(e,"add",n,r)),l}deleteProperty(e,n){const r=Dt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Vo(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Vi(n)||!$A.has(n))&&Wr(e,"has",n),r}ownKeys(e){return Wr(e,"iterate",We(e)?"length":Xa),Reflect.ownKeys(e)}}class VA extends HA{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const _D=new FA,wD=new VA,kD=new FA(!0),xD=new VA(!0),E1=t=>t,sg=t=>Reflect.getPrototypeOf(t);function Ch(t,e,n=!1,r=!1){t=t.__v_raw;const i=Mt(t),o=Mt(e);n||(ji(e,o)&&Wr(i,"get",e),Wr(i,"get",o));const{has:s}=sg(i),l=r?E1:n?M1:$f;if(s.call(i,e))return l(t.get(e));if(s.call(i,o))return l(t.get(o));t!==i&&t.get(e)}function Th(t,e=!1){const n=this.__v_raw,r=Mt(n),i=Mt(t);return e||(ji(t,i)&&Wr(r,"has",t),Wr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Eh(t,e=!1){return t=t.__v_raw,!e&&Wr(Mt(t),"iterate",Xa),Reflect.get(t,"size",t)}function Qx(t){t=Mt(t);const e=Mt(this);return sg(e).has.call(e,t)||(e.add(t),Vo(e,"add",t,t)),this}function eS(t,e){e=Mt(e);const n=Mt(this),{has:r,get:i}=sg(n);let o=r.call(n,t);o||(t=Mt(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?ji(e,s)&&Vo(n,"set",t,e):Vo(n,"add",t,e),this}function tS(t){const e=Mt(this),{has:n,get:r}=sg(e);let i=n.call(e,t);i||(t=Mt(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Vo(e,"delete",t,void 0),o}function nS(){const t=Mt(this),e=t.size!==0,n=t.clear();return e&&Vo(t,"clear",void 0,void 0),n}function Ah(t,e){return function(r,i){const o=this,s=o.__v_raw,l=Mt(s),u=e?E1:t?M1:$f;return!t&&Wr(l,"iterate",Xa),s.forEach((f,d)=>r.call(i,u(f),u(d),o))}}function Oh(t,e,n){return function(...r){const i=this.__v_raw,o=Mt(i),s=_u(o),l=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,f=i[t](...r),d=n?E1:e?M1:$f;return!e&&Wr(o,"iterate",u?O0:Xa),{next(){const{value:m,done:v}=f.next();return v?{value:m,done:v}:{value:l?[d(m[0]),d(m[1])]:d(m),done:v}},[Symbol.iterator](){return this}}}}function ks(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function SD(){const t={get(o){return Ch(this,o)},get size(){return Eh(this)},has:Th,add:Qx,set:eS,delete:tS,clear:nS,forEach:Ah(!1,!1)},e={get(o){return Ch(this,o,!1,!0)},get size(){return Eh(this)},has:Th,add:Qx,set:eS,delete:tS,clear:nS,forEach:Ah(!1,!0)},n={get(o){return Ch(this,o,!0)},get size(){return Eh(this,!0)},has(o){return Th.call(this,o,!0)},add:ks("add"),set:ks("set"),delete:ks("delete"),clear:ks("clear"),forEach:Ah(!0,!1)},r={get(o){return Ch(this,o,!0,!0)},get size(){return Eh(this,!0)},has(o){return Th.call(this,o,!0)},add:ks("add"),set:ks("set"),delete:ks("delete"),clear:ks("clear"),forEach:Ah(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Oh(o,!1,!1),n[o]=Oh(o,!0,!1),e[o]=Oh(o,!1,!0),r[o]=Oh(o,!0,!0)}),[t,n,e,r]}const[CD,TD,ED,AD]=SD();function ag(t,e){const n=e?t?AD:ED:t?TD:CD;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Dt(n,i)&&i in r?n:r,i,o)}const OD={get:ag(!1,!1)},MD={get:ag(!1,!0)},ND={get:ag(!0,!1)},LD={get:ag(!0,!0)},jA=new WeakMap,WA=new WeakMap,UA=new WeakMap,qA=new WeakMap;function ID(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PD(t){return t.__v_skip||!Object.isExtensible(t)?0:ID(UP(t))}function Al(t){return ll(t)?t:lg(t,!1,_D,OD,jA)}function Fp(t){return lg(t,!1,kD,MD,WA)}function A1(t){return lg(t,!0,wD,ND,UA)}function DD(t){return lg(t,!0,xD,LD,qA)}function lg(t,e,n,r,i){if(!qt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=PD(t);if(s===0)return t;const l=new Proxy(t,s===2?r:n);return i.set(t,l),l}function Za(t){return ll(t)?Za(t.__v_raw):!!(t&&t.__v_isReactive)}function ll(t){return!!(t&&t.__v_isReadonly)}function Bf(t){return!!(t&&t.__v_isShallow)}function O1(t){return Za(t)||ll(t)}function Mt(t){const e=t&&t.__v_raw;return e?Mt(e):t}function fa(t){return Bp(t,"__v_skip",!0),t}const $f=t=>qt(t)?Al(t):t,M1=t=>qt(t)?A1(t):t;class KA{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Pu(()=>e(this._value),()=>xu(this,1),()=>this.dep&&zA(this.dep)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Mt(this);return(!e._cacheable||e.effect.dirty)&&ji(e._value,e._value=e.effect.run())&&xu(e,2),N1(e),e.effect._dirtyLevel>=1&&xu(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function RD(t,e,n=!1){let r,i;const o=pt(t);return o?(r=t,i=An):(r=t.get,i=t.set),new KA(r,i,o||!i,n)}function N1(t){Gs&&Ja&&(t=Mt(t),DA(Ja,t.dep||(t.dep=BA(()=>t.dep=void 0,t instanceof KA?t:void 0))))}function xu(t,e=2,n){t=Mt(t);const r=t.dep;r&&RA(r,e)}function qn(t){return!!(t&&t.__v_isRef===!0)}function Ot(t){return YA(t,!1)}function GA(t){return YA(t,!0)}function YA(t,e){return qn(t)?t:new zD(t,e)}class zD{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Mt(e),this._value=n?e:$f(e)}get value(){return N1(this),this._value}set value(e){const n=this.__v_isShallow||Bf(e)||ll(e);e=n?e:Mt(e),ji(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:$f(e),xu(this,2))}}function BD(t){xu(t,2)}function fr(t){return qn(t)?t.value:t}function $D(t){return pt(t)?t():fr(t)}const HD={get:(t,e,n)=>fr(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return qn(i)&&!qn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function L1(t){return Za(t)?t:new Proxy(t,HD)}class FD{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>N1(this),()=>xu(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function I1(t){return new FD(t)}function VD(t){const e=We(t)?new Array(t.length):{};for(const n in t)e[n]=JA(t,n);return e}class jD{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return gD(Mt(this._object),this._key)}}class WD{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function UD(t,e,n){return qn(t)?t:pt(t)?new WD(t):qt(t)&&arguments.length>1?JA(t,e,n):Ot(t)}function JA(t,e,n){const r=t[e];return qn(r)?r:new jD(t,e,n)}const qD={GET:"get",HAS:"has",ITERATE:"iterate"},KD={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const sf=[];function Ea(t,...e){ua();const n=sf.length?sf[sf.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=GD();if(r)mo(r,n,11,[t+e.join(""),n&&n.proxy,i.map(({vnode:o})=>`at <${GO(n,o.type)}>`).join(`
`),i]);else{const o=[`[Vue warn]: ${t}`,...e];i.length&&o.push(`
`,...YD(i)),console.warn(...o)}ca()}function GD(){let t=sf[sf.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function YD(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...JD(n))}),e}function JD({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${GO(t.component,t.type,r)}`,o=">"+n;return t.props?[i,...XD(t.props),o]:[i+o]}function XD(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...XA(r,t[r]))}),n.length>3&&e.push(" ..."),e}function XA(t,e,n){return xt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:qn(e)?(e=XA(t,Mt(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):pt(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Mt(e),n?e:[`${t}=`,e])}function ZD(t,e){}const QD={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},eR={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function mo(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Ol(o,e,n)}return i}function si(t,e,n,r){if(pt(t)){const o=mo(t,e,n,r);return o&&w1(o)&&o.catch(s=>{Ol(s,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(si(t[o],e,n,r));return i}function Ol(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const f=o.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](t,s,l)===!1)return}o=o.parent}const u=e.appContext.config.errorHandler;if(u){mo(u,null,10,[t,s,l]);return}}tR(t,n,i,r)}function tR(t,e,n,r=!0){console.error(t)}let Hf=!1,M0=!1;const dr=[];let lo=0;const Su=[];let Is=null,Ra=0;const ZA=Promise.resolve();let P1=null;function Ri(t){const e=P1||ZA;return t?e.then(this?t.bind(this):t):e}function nR(t){let e=lo+1,n=dr.length;for(;e<n;){const r=e+n>>>1,i=dr[r],o=Ff(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function ug(t){(!dr.length||!dr.includes(t,Hf&&t.allowRecurse?lo+1:lo))&&(t.id==null?dr.push(t):dr.splice(nR(t.id),0,t),QA())}function QA(){!Hf&&!M0&&(M0=!0,P1=ZA.then(eO))}function rR(t){const e=dr.indexOf(t);e>lo&&dr.splice(e,1)}function Vp(t){We(t)?Su.push(...t):(!Is||!Is.includes(t,t.allowRecurse?Ra+1:Ra))&&Su.push(t),QA()}function rS(t,e,n=Hf?lo+1:0){for(;n<dr.length;n++){const r=dr[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;dr.splice(n,1),n--,r()}}}function jp(t){if(Su.length){const e=[...new Set(Su)].sort((n,r)=>Ff(n)-Ff(r));if(Su.length=0,Is){Is.push(...e);return}for(Is=e,Ra=0;Ra<Is.length;Ra++)Is[Ra]();Is=null,Ra=0}}const Ff=t=>t.id==null?1/0:t.id,iR=(t,e)=>{const n=Ff(t)-Ff(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function eO(t){M0=!1,Hf=!0,dr.sort(iR);const e=An;try{for(lo=0;lo<dr.length;lo++){const n=dr[lo];n&&n.active!==!1&&mo(n,null,14)}}finally{lo=0,dr.length=0,jp(),Hf=!1,P1=null,(dr.length||Su.length)&&eO()}}let su,Mh=[];function tO(t,e){var n,r;su=t,su?(su.enabled=!0,Mh.forEach(({event:i,args:o})=>su.emit(i,...o)),Mh=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{tO(o,e)}),setTimeout(()=>{su||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Mh=[])},3e3)):Mh=[]}function oR(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ft;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:m,trim:v}=r[d]||Ft;v&&(i=n.map(y=>xt(y)?y.trim():y)),m&&(i=n.map(zf))}let l,u=r[l=wu(e)]||r[l=wu(bn(e))];!u&&o&&(u=r[l=wu(ni(e))]),u&&si(u,t,6,i);const f=r[l+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,si(f,t,6,i)}}function nO(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},l=!1;if(!pt(t)){const u=f=>{const d=nO(f,e,!0);d&&(l=!0,Rt(s,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!o&&!l?(qt(t)&&r.set(t,null),null):(We(o)?o.forEach(u=>s[u]=null):Rt(s,o),qt(t)&&r.set(t,s),s)}function cg(t,e){return!t||!Cl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Dt(t,e[0].toLowerCase()+e.slice(1))||Dt(t,ni(e))||Dt(t,e))}let On=null,fg=null;function Vf(t){const e=On;return On=t,fg=t&&t.type.__scopeId||null,e}function D1(t){fg=t}function R1(){fg=null}const z1=t=>Vt;function Vt(t,e=On,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&$0(-1);const o=Vf(e);let s;try{s=t(...i)}finally{Vf(o),r._d&&$0(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function bp(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:l,attrs:u,emit:f,render:d,renderCache:m,data:v,setupState:y,ctx:_,inheritAttrs:C}=t;let x,k;const A=Vf(t);try{if(n.shapeFlag&4){const E=i||r,H=E;x=ei(d.call(H,E,m,o,y,v,_)),k=u}else{const E=e;x=ei(E.length>1?E(o,{attrs:u,slots:l,emit:f}):E(o,null)),k=e.props?u:aR(u)}}catch(E){cf.length=0,Ol(E,t,1),x=Qe(pr)}let L=x;if(k&&C!==!1){const E=Object.keys(k),{shapeFlag:H}=L;E.length&&H&7&&(s&&E.some(b1)&&(k=lR(k,s)),L=yo(L,k))}return n.dirs&&(L=yo(L),L.dirs=L.dirs?L.dirs.concat(n.dirs):n.dirs),n.transition&&(L.transition=n.transition),x=L,Vf(A),x}function sR(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(ea(i)){if(i.type!==pr||i.children==="v-if"){if(n)return;n=i}}else return}return n}const aR=t=>{let e;for(const n in t)(n==="class"||n==="style"||Cl(n))&&((e||(e={}))[n]=t[n]);return e},lR=(t,e)=>{const n={};for(const r in t)(!b1(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function uR(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:l,patchFlag:u}=e,f=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?iS(r,s,f):!!s;if(u&8){const d=e.dynamicProps;for(let m=0;m<d.length;m++){const v=d[m];if(s[v]!==r[v]&&!cg(f,v))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?iS(r,s,f):!0:!!s;return!1}function iS(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!cg(n,o))return!0}return!1}function B1({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const $1="components",cR="directives";function ut(t,e){return H1($1,t,!0,e)||t}const rO=Symbol.for("v-ndc");function Qs(t){return xt(t)?H1($1,t,!1)||t:t||rO}function sc(t){return H1(cR,t)}function H1(t,e,n=!0,r=!1){const i=On||Bn;if(i){const o=i.type;if(t===$1){const l=Yp(o,!1);if(l&&(l===e||l===bn(e)||l===El(bn(e))))return o}const s=oS(i[t]||o[t],e)||oS(i.appContext[t],e);return!s&&r?o:s}}function oS(t,e){return t&&(t[e]||t[bn(e)]||t[El(bn(e))])}const iO=t=>t.__isSuspense;let N0=0;const fR={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,o,s,l,u,f){if(t==null)hR(e,n,r,i,o,s,l,u,f);else{if(o&&o.deps>0){e.suspense=t.suspense;return}pR(t,e,n,r,i,s,l,u,f)}},hydrate:mR,create:F1,normalize:gR},dR=fR;function jf(t,e){const n=t.props&&t.props[e];pt(n)&&n()}function hR(t,e,n,r,i,o,s,l,u){const{p:f,o:{createElement:d}}=u,m=d("div"),v=t.suspense=F1(t,i,r,e,m,n,o,s,l,u);f(null,v.pendingBranch=t.ssContent,m,null,r,v,o,s),v.deps>0?(jf(t,"onPending"),jf(t,"onFallback"),f(null,t.ssFallback,e,n,r,null,o,s),Cu(v,t.ssFallback)):v.resolve(!1,!0)}function pR(t,e,n,r,i,o,s,l,{p:u,um:f,o:{createElement:d}}){const m=e.suspense=t.suspense;m.vnode=e,e.el=t.el;const v=e.ssContent,y=e.ssFallback,{activeBranch:_,pendingBranch:C,isInFallback:x,isHydrating:k}=m;if(C)m.pendingBranch=v,Ii(v,C)?(u(C,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0?m.resolve():x&&(k||(u(_,y,n,r,i,null,o,s,l),Cu(m,y)))):(m.pendingId=N0++,k?(m.isHydrating=!1,m.activeBranch=C):f(C,i,m),m.deps=0,m.effects.length=0,m.hiddenContainer=d("div"),x?(u(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0?m.resolve():(u(_,y,n,r,i,null,o,s,l),Cu(m,y))):_&&Ii(v,_)?(u(_,v,n,r,i,m,o,s,l),m.resolve(!0)):(u(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0&&m.resolve()));else if(_&&Ii(v,_))u(_,v,n,r,i,m,o,s,l),Cu(m,v);else if(jf(e,"onPending"),m.pendingBranch=v,v.shapeFlag&512?m.pendingId=v.component.suspenseId:m.pendingId=N0++,u(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0)m.resolve();else{const{timeout:A,pendingId:L}=m;A>0?setTimeout(()=>{m.pendingId===L&&m.fallback(y)},A):A===0&&m.fallback(y)}}function F1(t,e,n,r,i,o,s,l,u,f,d=!1){const{p:m,m:v,um:y,n:_,o:{parentNode:C,remove:x}}=f;let k;const A=vR(t);A&&e!=null&&e.pendingBranch&&(k=e.pendingId,e.deps++);const L=t.props?$p(t.props.timeout):void 0,E=o,H={vnode:t,parent:e,parentComponent:n,namespace:s,container:r,hiddenContainer:i,deps:0,pendingId:N0++,timeout:typeof L=="number"?L:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(I=!1,q=!1){const{vnode:P,activeBranch:z,pendingBranch:w,pendingId:R,effects:U,parentComponent:K,container:oe}=H;let D=!1;H.isHydrating?H.isHydrating=!1:I||(D=z&&w.transition&&w.transition.mode==="out-in",D&&(z.transition.afterLeave=()=>{R===H.pendingId&&(v(w,oe,o===E?_(z):o,0),Vp(U))}),z&&(C(z.el)!==H.hiddenContainer&&(o=_(z)),y(z,K,H,!0)),D||v(w,oe,o,0)),Cu(H,w),H.pendingBranch=null,H.isInFallback=!1;let ae=H.parent,ce=!1;for(;ae;){if(ae.pendingBranch){ae.effects.push(...U),ce=!0;break}ae=ae.parent}!ce&&!D&&Vp(U),H.effects=[],A&&e&&e.pendingBranch&&k===e.pendingId&&(e.deps--,e.deps===0&&!q&&e.resolve()),jf(P,"onResolve")},fallback(I){if(!H.pendingBranch)return;const{vnode:q,activeBranch:P,parentComponent:z,container:w,namespace:R}=H;jf(q,"onFallback");const U=_(P),K=()=>{H.isInFallback&&(m(null,I,w,U,z,null,R,l,u),Cu(H,I))},oe=I.transition&&I.transition.mode==="out-in";oe&&(P.transition.afterLeave=K),H.isInFallback=!0,y(P,z,null,!0),oe||K()},move(I,q,P){H.activeBranch&&v(H.activeBranch,I,q,P),H.container=I},next(){return H.activeBranch&&_(H.activeBranch)},registerDep(I,q){const P=!!H.pendingBranch;P&&H.deps++;const z=I.vnode.el;I.asyncDep.catch(w=>{Ol(w,I,0)}).then(w=>{if(I.isUnmounted||H.isUnmounted||H.pendingId!==I.suspenseId)return;I.asyncResolved=!0;const{vnode:R}=I;V0(I,w,!1),z&&(R.el=z);const U=!z&&I.subTree.el;q(I,R,C(z||I.subTree.el),z?null:_(I.subTree),H,s,u),U&&x(U),B1(I,R.el),P&&--H.deps===0&&H.resolve()})},unmount(I,q){H.isUnmounted=!0,H.activeBranch&&y(H.activeBranch,n,I,q),H.pendingBranch&&y(H.pendingBranch,n,I,q)}};return H}function mR(t,e,n,r,i,o,s,l,u){const f=e.suspense=F1(e,r,n,t.parentNode,document.createElement("div"),null,i,o,s,l,!0),d=u(t,f.pendingBranch=e.ssContent,n,f,o,s);return f.deps===0&&f.resolve(!1,!0),d}function gR(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=sS(r?n.default:n),t.ssFallback=r?sS(n.fallback):Qe(pr)}function sS(t){let e;if(pt(t)){const n=fl&&t._c;n&&(t._d=!1,ge()),t=t(),n&&(t._d=!0,e=$r,$O())}return We(t)&&(t=sR(t)),t=ei(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function oO(t,e){e&&e.pendingBranch?We(t)?e.effects.push(...t):e.effects.push(t):Vp(t)}function Cu(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,B1(r,i))}function vR(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}const sO=Symbol.for("v-scx"),aO=()=>lf(sO);function lO(t,e){return _d(t,null,e)}function uO(t,e){return _d(t,null,{flush:"post"})}function cO(t,e){return _d(t,null,{flush:"sync"})}const Nh={};function En(t,e,n){return _d(t,e,n)}function _d(t,e,{immediate:n,deep:r,flush:i,once:o,onTrack:s,onTrigger:l}=Ft){if(e&&o){const I=e;e=(...q)=>{I(...q),H()}}const u=Bn,f=I=>r===!0?I:Fa(I,r===!1?1:void 0);let d,m=!1,v=!1;if(qn(t)?(d=()=>t.value,m=Bf(t)):Za(t)?(d=()=>f(t),m=!0):We(t)?(v=!0,m=t.some(I=>Za(I)||Bf(I)),d=()=>t.map(I=>{if(qn(I))return I.value;if(Za(I))return f(I);if(pt(I))return mo(I,u,2)})):pt(t)?e?d=()=>mo(t,u,2):d=()=>(y&&y(),si(t,u,3,[_])):d=An,e&&r){const I=d;d=()=>Fa(I())}let y,_=I=>{y=L.onStop=()=>{mo(I,u,4),y=L.onStop=void 0}},C;if(kd)if(_=An,e?n&&si(e,u,3,[d(),v?[]:void 0,_]):d(),i==="sync"){const I=aO();C=I.__watcherHandles||(I.__watcherHandles=[])}else return An;let x=v?new Array(t.length).fill(Nh):Nh;const k=()=>{if(!(!L.active||!L.dirty))if(e){const I=L.run();(r||m||(v?I.some((q,P)=>ji(q,x[P])):ji(I,x)))&&(y&&y(),si(e,u,3,[I,x===Nh?void 0:v&&x[0]===Nh?[]:x,_]),x=I)}else L.run()};k.allowRecurse=!!e;let A;i==="sync"?A=k:i==="post"?A=()=>Zn(k,u&&u.suspense):(k.pre=!0,u&&(k.id=u.uid),A=()=>ug(k));const L=new Pu(d,An,A),E=LA(),H=()=>{L.stop(),E&&_1(E.effects,L)};return e?n?k():x=L.run():i==="post"?Zn(L.run.bind(L),u&&u.suspense):L.run(),C&&C.push(H),H}function yR(t,e,n){const r=this.proxy,i=xt(t)?t.includes(".")?fO(r,t):()=>r[t]:t.bind(r,r);let o;pt(e)?o=e:(o=e.handler,n=e);const s=dl(this),l=_d(i,o.bind(r),n);return s(),l}function fO(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Fa(t,e,n=0,r){if(!qt(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),qn(t))Fa(t.value,e,n,r);else if(We(t))for(let i=0;i<t.length;i++)Fa(t[i],e,n,r);else if(Tl(t)||_u(t))t.forEach(i=>{Fa(i,e,n,r)});else if(TA(t))for(const i in t)Fa(t[i],e,n,r);return t}function Ut(t,e){if(On===null)return t;const n=vg(On)||On.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,s,l,u=Ft]=e[i];o&&(pt(o)&&(o={mounted:o,updated:o}),o.deep&&Fa(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:l,modifiers:u}))}return t}function so(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const l=i[s];o&&(l.oldValue=o[s].value);let u=l.dir[r];u&&(ua(),si(u,n,8,[t.el,l,t,e]),ca())}}const Ps=Symbol("_leaveCb"),Lh=Symbol("_enterCb");function V1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ts(()=>{t.isMounted=!0}),Ml(()=>{t.isUnmounting=!0}),t}const di=[Function,Array],j1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:di,onEnter:di,onAfterEnter:di,onEnterCancelled:di,onBeforeLeave:di,onLeave:di,onAfterLeave:di,onLeaveCancelled:di,onBeforeAppear:di,onAppear:di,onAfterAppear:di,onAppearCancelled:di},bR={name:"BaseTransition",props:j1,setup(t,{slots:e}){const n=qi(),r=V1();let i;return()=>{const o=e.default&&dg(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const C of o)if(C.type!==pr){s=C;break}}const l=Mt(t),{mode:u}=l;if(r.isLeaving)return ly(s);const f=aS(s);if(!f)return ly(s);const d=Du(f,l,r,n);ul(f,d);const m=n.subTree,v=m&&aS(m);let y=!1;const{getTransitionKey:_}=f.type;if(_){const C=_();i===void 0?i=C:C!==i&&(i=C,y=!0)}if(v&&v.type!==pr&&(!Ii(f,v)||y)){const C=Du(v,l,r,n);if(ul(v,C),u==="out-in")return r.isLeaving=!0,C.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},ly(s);u==="in-out"&&f.type!==pr&&(C.delayLeave=(x,k,A)=>{const L=hO(r,v);L[String(v.key)]=v,x[Ps]=()=>{k(),x[Ps]=void 0,delete d.delayedLeave},d.delayedLeave=A})}return s}}},dO=bR;function hO(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Du(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:m,onLeave:v,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:C,onAppear:x,onAfterAppear:k,onAppearCancelled:A}=e,L=String(t.key),E=hO(n,t),H=(P,z)=>{P&&si(P,r,9,z)},I=(P,z)=>{const w=z[1];H(P,z),We(P)?P.every(R=>R.length<=1)&&w():P.length<=1&&w()},q={mode:o,persisted:s,beforeEnter(P){let z=l;if(!n.isMounted)if(i)z=C||l;else return;P[Ps]&&P[Ps](!0);const w=E[L];w&&Ii(t,w)&&w.el[Ps]&&w.el[Ps](),H(z,[P])},enter(P){let z=u,w=f,R=d;if(!n.isMounted)if(i)z=x||u,w=k||f,R=A||d;else return;let U=!1;const K=P[Lh]=oe=>{U||(U=!0,oe?H(R,[P]):H(w,[P]),q.delayedLeave&&q.delayedLeave(),P[Lh]=void 0)};z?I(z,[P,K]):K()},leave(P,z){const w=String(t.key);if(P[Lh]&&P[Lh](!0),n.isUnmounting)return z();H(m,[P]);let R=!1;const U=P[Ps]=K=>{R||(R=!0,z(),K?H(_,[P]):H(y,[P]),P[Ps]=void 0,E[w]===t&&delete E[w])};E[w]=t,v?I(v,[P,U]):U()},clone(P){return Du(P,e,n,r)}};return q}function ly(t){if(wd(t))return t=yo(t),t.children=null,t}function aS(t){return wd(t)?t.children?t.children[0]:void 0:t}function ul(t,e){t.shapeFlag&6&&t.component?ul(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function dg(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===kt?(s.patchFlag&128&&i++,r=r.concat(dg(s.children,e,l))):(e||s.type!==pr)&&r.push(l!=null?yo(s,{key:l}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Vn(t,e){return pt(t)?(()=>Rt({name:t.name},e,{setup:t}))():t}const Qa=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function _R(t){pt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:o,suspensible:s=!0,onError:l}=t;let u=null,f,d=0;const m=()=>(d++,u=null,v()),v=()=>{let y;return u||(y=u=e().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((C,x)=>{l(_,()=>C(m()),()=>x(_),d+1)});throw _}).then(_=>y!==u&&u?u:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),f=_,_)))};return Vn({name:"AsyncComponentWrapper",__asyncLoader:v,get __asyncResolved(){return f},setup(){const y=Bn;if(f)return()=>uy(f,y);const _=A=>{u=null,Ol(A,y,13,!r)};if(s&&y.suspense||kd)return v().then(A=>()=>uy(A,y)).catch(A=>(_(A),()=>r?Qe(r,{error:A}):null));const C=Ot(!1),x=Ot(),k=Ot(!!i);return i&&setTimeout(()=>{k.value=!1},i),o!=null&&setTimeout(()=>{if(!C.value&&!x.value){const A=new Error(`Async component timed out after ${o}ms.`);_(A),x.value=A}},o),v().then(()=>{C.value=!0,y.parent&&wd(y.parent.vnode)&&(y.parent.effect.dirty=!0,ug(y.parent.update))}).catch(A=>{_(A),x.value=A}),()=>{if(C.value&&f)return uy(f,y);if(x.value&&r)return Qe(r,{error:x.value});if(n&&!k.value)return Qe(n)}}})}function uy(t,e){const{ref:n,props:r,children:i,ce:o}=e.vnode,s=Qe(t,r,i);return s.ref=n,s.ce=o,delete e.vnode.ce,s}const wd=t=>t.type.__isKeepAlive,wR={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=qi(),r=n.ctx;if(!r.renderer)return()=>{const A=e.default&&e.default();return A&&A.length===1?A[0]:A};const i=new Map,o=new Set;let s=null;const l=n.suspense,{renderer:{p:u,m:f,um:d,o:{createElement:m}}}=r,v=m("div");r.activate=(A,L,E,H,I)=>{const q=A.component;f(A,L,E,0,l),u(q.vnode,A,L,E,q,l,H,A.slotScopeIds,I),Zn(()=>{q.isDeactivated=!1,q.a&&ku(q.a);const P=A.props&&A.props.onVnodeMounted;P&&zr(P,q.parent,A)},l)},r.deactivate=A=>{const L=A.component;f(A,v,null,1,l),Zn(()=>{L.da&&ku(L.da);const E=A.props&&A.props.onVnodeUnmounted;E&&zr(E,L.parent,A),L.isDeactivated=!0},l)};function y(A){cy(A),d(A,n,l,!0)}function _(A){i.forEach((L,E)=>{const H=Yp(L.type);H&&(!A||!A(H))&&C(E)})}function C(A){const L=i.get(A);!s||!Ii(L,s)?y(L):s&&cy(s),i.delete(A),o.delete(A)}En(()=>[t.include,t.exclude],([A,L])=>{A&&_(E=>Qc(A,E)),L&&_(E=>!Qc(L,E))},{flush:"post",deep:!0});let x=null;const k=()=>{x!=null&&i.set(x,fy(n.subTree))};return ts(k),pg(k),Ml(()=>{i.forEach(A=>{const{subTree:L,suspense:E}=n,H=fy(L);if(A.type===H.type&&A.key===H.key){cy(H);const I=H.component.da;I&&Zn(I,E);return}y(A)})}),()=>{if(x=null,!e.default)return null;const A=e.default(),L=A[0];if(A.length>1)return s=null,A;if(!ea(L)||!(L.shapeFlag&4)&&!(L.shapeFlag&128))return s=null,L;let E=fy(L);const H=E.type,I=Yp(Qa(E)?E.type.__asyncResolved||{}:H),{include:q,exclude:P,max:z}=t;if(q&&(!I||!Qc(q,I))||P&&I&&Qc(P,I))return s=E,L;const w=E.key==null?H:E.key,R=i.get(w);return E.el&&(E=yo(E),L.shapeFlag&128&&(L.ssContent=E)),x=w,R?(E.el=R.el,E.component=R.component,E.transition&&ul(E,E.transition),E.shapeFlag|=512,o.delete(w),o.add(w)):(o.add(w),z&&o.size>parseInt(z,10)&&C(o.values().next().value)),E.shapeFlag|=256,s=E,iO(L.type)?L:E}}},kR=wR;function Qc(t,e){return We(t)?t.some(n=>Qc(n,e)):xt(t)?t.split(",").includes(e):WP(t)?t.test(e):!1}function pO(t,e){gO(t,"a",e)}function mO(t,e){gO(t,"da",e)}function gO(t,e,n=Bn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(hg(e,r,n),n){let i=n.parent;for(;i&&i.parent;)wd(i.parent.vnode)&&xR(r,e,n,i),i=i.parent}}function xR(t,e,n,r){const i=hg(e,t,r,!0);mg(()=>{_1(r[e],i)},n)}function cy(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function fy(t){return t.shapeFlag&128?t.ssContent:t}function hg(t,e,n=Bn,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;ua();const l=dl(n),u=si(e,n,t,s);return l(),ca(),u});return r?i.unshift(o):i.push(o),o}}const es=t=>(e,n=Bn)=>(!kd||t==="sp")&&hg(t,(...r)=>e(...r),n),vO=es("bm"),ts=es("m"),yO=es("bu"),pg=es("u"),Ml=es("bum"),mg=es("um"),bO=es("sp"),_O=es("rtg"),wO=es("rtc");function kO(t,e=Bn){hg("ec",t,e)}function Zt(t,e,n,r){let i;const o=n&&n[r];if(We(t)||xt(t)){i=new Array(t.length);for(let s=0,l=t.length;s<l;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(qt(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,o&&o[l]));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const f=s[l];i[l]=e(t[f],f,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}function W1(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(We(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function pn(t,e,n={},r,i){if(On.isCE||On.parent&&Qa(On.parent)&&On.parent.isCE)return e!=="default"&&(n.name=e),Qe("slot",n,r&&r());let o=t[e];o&&o._c&&(o._d=!1),ge();const s=o&&xO(o(n)),l=Ct(kt,{key:n.key||s&&s.key||`_${e}`},s||(r?r():[]),s&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function xO(t){return t.some(e=>ea(e)?!(e.type===pr||e.type===kt&&!xO(e.children)):!0)?t:null}function L0(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:wu(r)]=t[r];return n}const I0=t=>t?jO(t)?vg(t)||t.proxy:I0(t.parent):null,af=Rt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>I0(t.parent),$root:t=>I0(t.root),$emit:t=>t.emit,$options:t=>U1(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,ug(t.update)}),$nextTick:t=>t.n||(t.n=Ri.bind(t.proxy)),$watch:t=>yR.bind(t)}),dy=(t,e)=>t!==Ft&&!t.__isScriptSetup&&Dt(t,e),P0={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:l,appContext:u}=t;let f;if(e[0]!=="$"){const y=s[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(dy(r,e))return s[e]=1,r[e];if(i!==Ft&&Dt(i,e))return s[e]=2,i[e];if((f=t.propsOptions[0])&&Dt(f,e))return s[e]=3,o[e];if(n!==Ft&&Dt(n,e))return s[e]=4,n[e];D0&&(s[e]=0)}}const d=af[e];let m,v;if(d)return e==="$attrs"&&Wr(t,"get",e),d(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(n!==Ft&&Dt(n,e))return s[e]=4,n[e];if(v=u.config.globalProperties,Dt(v,e))return v[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return dy(i,e)?(i[e]=n,!0):r!==Ft&&Dt(r,e)?(r[e]=n,!0):Dt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let l;return!!n[s]||t!==Ft&&Dt(t,s)||dy(e,s)||(l=o[0])&&Dt(l,s)||Dt(r,s)||Dt(af,s)||Dt(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Dt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},SR=Rt({},P0,{get(t,e){if(e!==Symbol.unscopables)return P0.get(t,e,t)},has(t,e){return e[0]!=="_"&&!JP(e)}});function CR(){return null}function TR(){return null}function ER(t){}function AR(t){}function OR(){return null}function MR(){}function NR(t,e){return null}function LR(){return SO().slots}function IR(){return SO().attrs}function SO(){const t=qi();return t.setupContext||(t.setupContext=KO(t))}function Wf(t){return We(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function PR(t,e){const n=Wf(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?We(i)||pt(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function DR(t,e){return!t||!e?t||e:We(t)&&We(e)?t.concat(e):Rt({},Wf(t),Wf(e))}function RR(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function zR(t){const e=qi();let n=t();return F0(),w1(n)&&(n=n.catch(r=>{throw dl(e),r})),[n,()=>dl(e)]}let D0=!0;function BR(t){const e=U1(t),n=t.proxy,r=t.ctx;D0=!1,e.beforeCreate&&lS(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:l,provide:u,inject:f,created:d,beforeMount:m,mounted:v,beforeUpdate:y,updated:_,activated:C,deactivated:x,beforeDestroy:k,beforeUnmount:A,destroyed:L,unmounted:E,render:H,renderTracked:I,renderTriggered:q,errorCaptured:P,serverPrefetch:z,expose:w,inheritAttrs:R,components:U,directives:K,filters:oe}=e;if(f&&$R(f,r,null),s)for(const ce in s){const ve=s[ce];pt(ve)&&(r[ce]=ve.bind(n))}if(i){const ce=i.call(n,n);qt(ce)&&(t.data=Al(ce))}if(D0=!0,o)for(const ce in o){const ve=o[ce],ze=pt(ve)?ve.bind(n,n):pt(ve.get)?ve.get.bind(n,n):An,qe=!pt(ve)&&pt(ve.set)?ve.set.bind(n):An,yt=er({get:ze,set:qe});Object.defineProperty(r,ce,{enumerable:!0,configurable:!0,get:()=>yt.value,set:mt=>yt.value=mt})}if(l)for(const ce in l)CO(l[ce],r,n,ce);if(u){const ce=pt(u)?u.call(n):u;Reflect.ownKeys(ce).forEach(ve=>{Up(ve,ce[ve])})}d&&lS(d,t,"c");function ae(ce,ve){We(ve)?ve.forEach(ze=>ce(ze.bind(n))):ve&&ce(ve.bind(n))}if(ae(vO,m),ae(ts,v),ae(yO,y),ae(pg,_),ae(pO,C),ae(mO,x),ae(kO,P),ae(wO,I),ae(_O,q),ae(Ml,A),ae(mg,E),ae(bO,z),We(w))if(w.length){const ce=t.exposed||(t.exposed={});w.forEach(ve=>{Object.defineProperty(ce,ve,{get:()=>n[ve],set:ze=>n[ve]=ze})})}else t.exposed||(t.exposed={});H&&t.render===An&&(t.render=H),R!=null&&(t.inheritAttrs=R),U&&(t.components=U),K&&(t.directives=K)}function $R(t,e,n=An){We(t)&&(t=R0(t));for(const r in t){const i=t[r];let o;qt(i)?"default"in i?o=lf(i.from||r,i.default,!0):o=lf(i.from||r):o=lf(i),qn(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function lS(t,e,n){si(We(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function CO(t,e,n,r){const i=r.includes(".")?fO(n,r):()=>n[r];if(xt(t)){const o=e[t];pt(o)&&En(i,o)}else if(pt(t))En(i,t.bind(n));else if(qt(t))if(We(t))t.forEach(o=>CO(o,e,n,r));else{const o=pt(t.handler)?t.handler.bind(n):e[t.handler];pt(o)&&En(i,o,t)}}function U1(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,l=o.get(e);let u;return l?u=l:!i.length&&!n&&!r?u=e:(u={},i.length&&i.forEach(f=>Wp(u,f,s,!0)),Wp(u,e,s)),qt(e)&&o.set(e,u),u}function Wp(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Wp(t,o,n,!0),i&&i.forEach(s=>Wp(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const l=HR[s]||n&&n[s];t[s]=l?l(t[s],e[s]):e[s]}return t}const HR={data:uS,props:cS,emits:cS,methods:ef,computed:ef,beforeCreate:Cr,created:Cr,beforeMount:Cr,mounted:Cr,beforeUpdate:Cr,updated:Cr,beforeDestroy:Cr,beforeUnmount:Cr,destroyed:Cr,unmounted:Cr,activated:Cr,deactivated:Cr,errorCaptured:Cr,serverPrefetch:Cr,components:ef,directives:ef,watch:VR,provide:uS,inject:FR};function uS(t,e){return e?t?function(){return Rt(pt(t)?t.call(this,this):t,pt(e)?e.call(this,this):e)}:e:t}function FR(t,e){return ef(R0(t),R0(e))}function R0(t){if(We(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Cr(t,e){return t?[...new Set([].concat(t,e))]:e}function ef(t,e){return t?Rt(Object.create(null),t,e):e}function cS(t,e){return t?We(t)&&We(e)?[...new Set([...t,...e])]:Rt(Object.create(null),Wf(t),Wf(e??{})):e}function VR(t,e){if(!t)return e;if(!e)return t;const n=Rt(Object.create(null),t);for(const r in e)n[r]=Cr(t[r],e[r]);return n}function TO(){return{app:null,config:{isNativeTag:yp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jR=0;function WR(t,e){return function(r,i=null){pt(r)||(r=Rt({},r)),i!=null&&!qt(i)&&(i=null);const o=TO(),s=new WeakSet;let l=!1;const u=o.app={_uid:jR++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:JO,get config(){return o.config},set config(f){},use(f,...d){return s.has(f)||(f&&pt(f.install)?(s.add(f),f.install(u,...d)):pt(f)&&(s.add(f),f(u,...d))),u},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),u},component(f,d){return d?(o.components[f]=d,u):o.components[f]},directive(f,d){return d?(o.directives[f]=d,u):o.directives[f]},mount(f,d,m){if(!l){const v=Qe(r,i);return v.appContext=o,m===!0?m="svg":m===!1&&(m=void 0),d&&e?e(v,f):t(v,f,m),l=!0,u._container=f,f.__vue_app__=u,vg(v.component)||v.component.proxy}},unmount(){l&&(t(null,u._container),delete u._container.__vue_app__)},provide(f,d){return o.provides[f]=d,u},runWithContext(f){Uf=u;try{return f()}finally{Uf=null}}};return u}}let Uf=null;function Up(t,e){if(Bn){let n=Bn.provides;const r=Bn.parent&&Bn.parent.provides;r===n&&(n=Bn.provides=Object.create(r)),n[t]=e}}function lf(t,e,n=!1){const r=Bn||On;if(r||Uf){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Uf._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&pt(e)?e.call(r&&r.proxy):e}}function UR(){return!!(Bn||On||Uf)}function qR(t,e,n,r=!1){const i={},o={};Bp(o,gg,1),t.propsDefaults=Object.create(null),EO(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:Fp(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function KR(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,l=Mt(i),[u]=t.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const d=t.vnode.dynamicProps;for(let m=0;m<d.length;m++){let v=d[m];if(cg(t.emitsOptions,v))continue;const y=e[v];if(u)if(Dt(o,v))y!==o[v]&&(o[v]=y,f=!0);else{const _=bn(v);i[_]=z0(u,l,_,y,t,!1)}else y!==o[v]&&(o[v]=y,f=!0)}}}else{EO(t,e,i,o)&&(f=!0);let d;for(const m in l)(!e||!Dt(e,m)&&((d=ni(m))===m||!Dt(e,d)))&&(u?n&&(n[m]!==void 0||n[d]!==void 0)&&(i[m]=z0(u,l,m,void 0,t,!0)):delete i[m]);if(o!==l)for(const m in o)(!e||!Dt(e,m))&&(delete o[m],f=!0)}f&&Vo(t,"set","$attrs")}function EO(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,l;if(e)for(let u in e){if(Ya(u))continue;const f=e[u];let d;i&&Dt(i,d=bn(u))?!o||!o.includes(d)?n[d]=f:(l||(l={}))[d]=f:cg(t.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,s=!0)}if(o){const u=Mt(n),f=l||Ft;for(let d=0;d<o.length;d++){const m=o[d];n[m]=z0(i,u,m,f[m],t,!Dt(f,m))}}return s}function z0(t,e,n,r,i,o){const s=t[n];if(s!=null){const l=Dt(s,"default");if(l&&r===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&pt(u)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const d=dl(i);r=f[n]=u.call(null,e),d()}}else r=u}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===ni(n))&&(r=!0))}return r}function AO(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},l=[];let u=!1;if(!pt(t)){const d=m=>{u=!0;const[v,y]=AO(m,e,!0);Rt(s,v),y&&l.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!u)return qt(t)&&r.set(t,bu),bu;if(We(o))for(let d=0;d<o.length;d++){const m=bn(o[d]);fS(m)&&(s[m]=Ft)}else if(o)for(const d in o){const m=bn(d);if(fS(m)){const v=o[d],y=s[m]=We(v)||pt(v)?{type:v}:Rt({},v);if(y){const _=pS(Boolean,y.type),C=pS(String,y.type);y[0]=_>-1,y[1]=C<0||_<C,(_>-1||Dt(y,"default"))&&l.push(m)}}}const f=[s,l];return qt(t)&&r.set(t,f),f}function fS(t){return t[0]!=="$"}function dS(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function hS(t,e){return dS(t)===dS(e)}function pS(t,e){return We(e)?e.findIndex(n=>hS(n,t)):pt(e)&&hS(e,t)?0:-1}const OO=t=>t[0]==="_"||t==="$stable",q1=t=>We(t)?t.map(ei):[ei(t)],GR=(t,e,n)=>{if(e._n)return e;const r=Vt((...i)=>q1(e(...i)),n);return r._c=!1,r},MO=(t,e,n)=>{const r=t._ctx;for(const i in t){if(OO(i))continue;const o=t[i];if(pt(o))e[i]=GR(i,o,r);else if(o!=null){const s=q1(o);e[i]=()=>s}}},NO=(t,e)=>{const n=q1(e);t.slots.default=()=>n},YR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Mt(e),Bp(e,"_",n)):MO(e,t.slots={})}else t.slots={},e&&NO(t,e);Bp(t.slots,gg,1)},JR=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=Ft;if(r.shapeFlag&32){const l=e._;l?n&&l===1?o=!1:(Rt(i,e),!n&&l===1&&delete i._):(o=!e.$stable,MO(e,i)),s=e}else e&&(NO(t,e),s={default:1});if(o)for(const l in i)!OO(l)&&s[l]==null&&delete i[l]};function qp(t,e,n,r,i=!1){if(We(t)){t.forEach((v,y)=>qp(v,e&&(We(e)?e[y]:e),n,r,i));return}if(Qa(r)&&!i)return;const o=r.shapeFlag&4?vg(r.component)||r.component.proxy:r.el,s=i?null:o,{i:l,r:u}=t,f=e&&e.r,d=l.refs===Ft?l.refs={}:l.refs,m=l.setupState;if(f!=null&&f!==u&&(xt(f)?(d[f]=null,Dt(m,f)&&(m[f]=null)):qn(f)&&(f.value=null)),pt(u))mo(u,l,12,[s,d]);else{const v=xt(u),y=qn(u),_=t.f;if(v||y){const C=()=>{if(_){const x=v?Dt(m,u)?m[u]:d[u]:u.value;i?We(x)&&_1(x,o):We(x)?x.includes(o)||x.push(o):v?(d[u]=[o],Dt(m,u)&&(m[u]=d[u])):(u.value=[o],t.k&&(d[t.k]=u.value))}else v?(d[u]=s,Dt(m,u)&&(m[u]=s)):y&&(u.value=s,t.k&&(d[t.k]=s))};i||_?C():(C.id=-1,Zn(C,n))}}}let xs=!1;const XR=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",ZR=t=>t.namespaceURI.includes("MathML"),Ih=t=>{if(XR(t))return"svg";if(ZR(t))return"mathml"},Wc=t=>t.nodeType===8;function QR(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:s,remove:l,insert:u,createComment:f}}=t,d=(L,E)=>{if(!E.hasChildNodes()){__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&Ea("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,L,E),jp(),E._vnode=L;return}xs=!1,m(E.firstChild,L,null,null,null),jp(),E._vnode=L,xs&&console.error("Hydration completed but contains mismatches.")},m=(L,E,H,I,q,P=!1)=>{const z=Wc(L)&&L.data==="[",w=()=>C(L,E,H,I,q,z),{type:R,ref:U,shapeFlag:K,patchFlag:oe}=E;let D=L.nodeType;E.el=L,oe===-2&&(P=!1,E.dynamicChildren=null);let ae=null;switch(R){case cl:D!==3?E.children===""?(u(E.el=i(""),s(L),L),ae=L):ae=w():(L.data!==E.children&&(xs=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&Ea("Hydration text mismatch in",L.parentNode,`
  - rendered on server: ${JSON.stringify(L.data)}
  - expected on client: ${JSON.stringify(E.children)}`),L.data=E.children),ae=o(L));break;case pr:A(L)?(ae=o(L),k(E.el=L.content.firstChild,L,H)):D!==8||z?ae=w():ae=o(L);break;case el:if(z&&(L=o(L),D=L.nodeType),D===1||D===3){ae=L;const ce=!E.children.length;for(let ve=0;ve<E.staticCount;ve++)ce&&(E.children+=ae.nodeType===1?ae.outerHTML:ae.data),ve===E.staticCount-1&&(E.anchor=ae),ae=o(ae);return z?o(ae):ae}else w();break;case kt:z?ae=_(L,E,H,I,q,P):ae=w();break;default:if(K&1)(D!==1||E.type.toLowerCase()!==L.tagName.toLowerCase())&&!A(L)?ae=w():ae=v(L,E,H,I,q,P);else if(K&6){E.slotScopeIds=q;const ce=s(L);if(z?ae=x(L):Wc(L)&&L.data==="teleport start"?ae=x(L,L.data,"teleport end"):ae=o(L),e(E,ce,null,H,I,Ih(ce),P),Qa(E)){let ve;z?(ve=Qe(kt),ve.anchor=ae?ae.previousSibling:ce.lastChild):ve=L.nodeType===3?Ui(""):Qe("div"),ve.el=L,E.component.subTree=ve}}else K&64?D!==8?ae=w():ae=E.type.hydrate(L,E,H,I,q,P,t,y):K&128?ae=E.type.hydrate(L,E,H,I,Ih(s(L)),q,P,t,m):__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&Ea("Invalid HostVNode type:",R,`(${typeof R})`)}return U!=null&&qp(U,null,I,E),ae},v=(L,E,H,I,q,P)=>{P=P||!!E.dynamicChildren;const{type:z,props:w,patchFlag:R,shapeFlag:U,dirs:K,transition:oe}=E,D=z==="input"||z==="option";if(D||R!==-1){K&&so(E,null,H,"created");let ae=!1;if(A(L)){ae=DO(I,oe)&&H&&H.vnode.props&&H.vnode.props.appear;const ve=L.content.firstChild;ae&&oe.beforeEnter(ve),k(ve,L,H),E.el=L=ve}if(U&16&&!(w&&(w.innerHTML||w.textContent))){let ve=y(L.firstChild,E,L,H,I,q,P),ze=!1;for(;ve;){xs=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!ze&&(Ea("Hydration children mismatch on",L,`
Server rendered element contains more child nodes than client vdom.`),ze=!0);const qe=ve;ve=ve.nextSibling,l(qe)}}else U&8&&L.textContent!==E.children&&(xs=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&Ea("Hydration text content mismatch on",L,`
  - rendered on server: ${L.textContent}
  - expected on client: ${E.children}`),L.textContent=E.children);if(w)if(D||!P||R&48)for(const ve in w)(D&&(ve.endsWith("value")||ve==="indeterminate")||Cl(ve)&&!Ya(ve)||ve[0]===".")&&r(L,ve,null,w[ve],void 0,void 0,H);else w.onClick&&r(L,"onClick",null,w.onClick,void 0,void 0,H);let ce;(ce=w&&w.onVnodeBeforeMount)&&zr(ce,H,E),K&&so(E,null,H,"beforeMount"),((ce=w&&w.onVnodeMounted)||K||ae)&&oO(()=>{ce&&zr(ce,H,E),ae&&oe.enter(L),K&&so(E,null,H,"mounted")},I)}return L.nextSibling},y=(L,E,H,I,q,P,z)=>{z=z||!!E.dynamicChildren;const w=E.children,R=w.length;let U=!1;for(let K=0;K<R;K++){const oe=z?w[K]:w[K]=ei(w[K]);if(L)L=m(L,oe,I,q,P,z);else{if(oe.type===cl&&!oe.children)continue;xs=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!U&&(Ea("Hydration children mismatch on",H,`
Server rendered element contains fewer child nodes than client vdom.`),U=!0),n(null,oe,H,null,I,q,Ih(H),P)}}return L},_=(L,E,H,I,q,P)=>{const{slotScopeIds:z}=E;z&&(q=q?q.concat(z):z);const w=s(L),R=y(o(L),E,w,H,I,q,P);return R&&Wc(R)&&R.data==="]"?o(E.anchor=R):(xs=!0,u(E.anchor=f("]"),w,R),R)},C=(L,E,H,I,q,P)=>{if(xs=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&Ea(`Hydration node mismatch:
- rendered on server:`,L,L.nodeType===3?"(text)":Wc(L)&&L.data==="["?"(start of fragment)":"",`
- expected on client:`,E.type),E.el=null,P){const R=x(L);for(;;){const U=o(L);if(U&&U!==R)l(U);else break}}const z=o(L),w=s(L);return l(L),n(null,E,w,z,H,I,Ih(w),q),z},x=(L,E="[",H="]")=>{let I=0;for(;L;)if(L=o(L),L&&Wc(L)&&(L.data===E&&I++,L.data===H)){if(I===0)return o(L);I--}return L},k=(L,E,H)=>{const I=E.parentNode;I&&I.replaceChild(L,E);let q=H;for(;q;)q.vnode.el===E&&(q.vnode.el=q.subTree.el=L),q=q.parent},A=L=>L.nodeType===1&&L.tagName.toLowerCase()==="template";return[d,m]}function e5(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(x1().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Zn=oO;function LO(t){return PO(t)}function IO(t){return PO(t,QR)}function PO(t,e){e5();const n=x1();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:l,createComment:u,setText:f,setElementText:d,parentNode:m,nextSibling:v,setScopeId:y=An,insertStaticContent:_}=t,C=(ie,te,be,_e=null,xe=null,G=null,Z=void 0,N=null,W=!!te.dynamicChildren)=>{if(ie===te)return;ie&&!Ii(ie,te)&&(_e=Be(ie),mt(ie,xe,G,!0),ie=null),te.patchFlag===-2&&(W=!1,te.dynamicChildren=null);const{type:O,ref:j,shapeFlag:F}=te;switch(O){case cl:x(ie,te,be,_e);break;case pr:k(ie,te,be,_e);break;case el:ie==null&&A(te,be,_e,Z);break;case kt:U(ie,te,be,_e,xe,G,Z,N,W);break;default:F&1?H(ie,te,be,_e,xe,G,Z,N,W):F&6?K(ie,te,be,_e,xe,G,Z,N,W):(F&64||F&128)&&O.process(ie,te,be,_e,xe,G,Z,N,W,Ke)}j!=null&&xe&&qp(j,ie&&ie.ref,G,te||ie,!te)},x=(ie,te,be,_e)=>{if(ie==null)r(te.el=l(te.children),be,_e);else{const xe=te.el=ie.el;te.children!==ie.children&&f(xe,te.children)}},k=(ie,te,be,_e)=>{ie==null?r(te.el=u(te.children||""),be,_e):te.el=ie.el},A=(ie,te,be,_e)=>{[ie.el,ie.anchor]=_(ie.children,te,be,_e,ie.el,ie.anchor)},L=({el:ie,anchor:te},be,_e)=>{let xe;for(;ie&&ie!==te;)xe=v(ie),r(ie,be,_e),ie=xe;r(te,be,_e)},E=({el:ie,anchor:te})=>{let be;for(;ie&&ie!==te;)be=v(ie),i(ie),ie=be;i(te)},H=(ie,te,be,_e,xe,G,Z,N,W)=>{te.type==="svg"?Z="svg":te.type==="math"&&(Z="mathml"),ie==null?I(te,be,_e,xe,G,Z,N,W):z(ie,te,xe,G,Z,N,W)},I=(ie,te,be,_e,xe,G,Z,N)=>{let W,O;const{props:j,shapeFlag:F,transition:Q,dirs:le}=ie;if(W=ie.el=s(ie.type,G,j&&j.is,j),F&8?d(W,ie.children):F&16&&P(ie.children,W,null,_e,xe,hy(ie,G),Z,N),le&&so(ie,null,_e,"created"),q(W,ie,ie.scopeId,Z,_e),j){for(const ye in j)ye!=="value"&&!Ya(ye)&&o(W,ye,null,j[ye],G,ie.children,_e,xe,Ie);"value"in j&&o(W,"value",null,j.value,G),(O=j.onVnodeBeforeMount)&&zr(O,_e,ie)}le&&so(ie,null,_e,"beforeMount");const pe=DO(xe,Q);pe&&Q.beforeEnter(W),r(W,te,be),((O=j&&j.onVnodeMounted)||pe||le)&&Zn(()=>{O&&zr(O,_e,ie),pe&&Q.enter(W),le&&so(ie,null,_e,"mounted")},xe)},q=(ie,te,be,_e,xe)=>{if(be&&y(ie,be),_e)for(let G=0;G<_e.length;G++)y(ie,_e[G]);if(xe){let G=xe.subTree;if(te===G){const Z=xe.vnode;q(ie,Z,Z.scopeId,Z.slotScopeIds,xe.parent)}}},P=(ie,te,be,_e,xe,G,Z,N,W=0)=>{for(let O=W;O<ie.length;O++){const j=ie[O]=N?Ds(ie[O]):ei(ie[O]);C(null,j,te,be,_e,xe,G,Z,N)}},z=(ie,te,be,_e,xe,G,Z)=>{const N=te.el=ie.el;let{patchFlag:W,dynamicChildren:O,dirs:j}=te;W|=ie.patchFlag&16;const F=ie.props||Ft,Q=te.props||Ft;let le;if(be&&Aa(be,!1),(le=Q.onVnodeBeforeUpdate)&&zr(le,be,te,ie),j&&so(te,ie,be,"beforeUpdate"),be&&Aa(be,!0),O?w(ie.dynamicChildren,O,N,be,_e,hy(te,xe),G):Z||ve(ie,te,N,null,be,_e,hy(te,xe),G,!1),W>0){if(W&16)R(N,te,F,Q,be,_e,xe);else if(W&2&&F.class!==Q.class&&o(N,"class",null,Q.class,xe),W&4&&o(N,"style",F.style,Q.style,xe),W&8){const pe=te.dynamicProps;for(let ye=0;ye<pe.length;ye++){const Y=pe[ye],X=F[Y],de=Q[Y];(de!==X||Y==="value")&&o(N,Y,X,de,xe,ie.children,be,_e,Ie)}}W&1&&ie.children!==te.children&&d(N,te.children)}else!Z&&O==null&&R(N,te,F,Q,be,_e,xe);((le=Q.onVnodeUpdated)||j)&&Zn(()=>{le&&zr(le,be,te,ie),j&&so(te,ie,be,"updated")},_e)},w=(ie,te,be,_e,xe,G,Z)=>{for(let N=0;N<te.length;N++){const W=ie[N],O=te[N],j=W.el&&(W.type===kt||!Ii(W,O)||W.shapeFlag&70)?m(W.el):be;C(W,O,j,null,_e,xe,G,Z,!0)}},R=(ie,te,be,_e,xe,G,Z)=>{if(be!==_e){if(be!==Ft)for(const N in be)!Ya(N)&&!(N in _e)&&o(ie,N,be[N],null,Z,te.children,xe,G,Ie);for(const N in _e){if(Ya(N))continue;const W=_e[N],O=be[N];W!==O&&N!=="value"&&o(ie,N,O,W,Z,te.children,xe,G,Ie)}"value"in _e&&o(ie,"value",be.value,_e.value,Z)}},U=(ie,te,be,_e,xe,G,Z,N,W)=>{const O=te.el=ie?ie.el:l(""),j=te.anchor=ie?ie.anchor:l("");let{patchFlag:F,dynamicChildren:Q,slotScopeIds:le}=te;le&&(N=N?N.concat(le):le),ie==null?(r(O,be,_e),r(j,be,_e),P(te.children||[],be,j,xe,G,Z,N,W)):F>0&&F&64&&Q&&ie.dynamicChildren?(w(ie.dynamicChildren,Q,be,xe,G,Z,N),(te.key!=null||xe&&te===xe.subTree)&&K1(ie,te,!0)):ve(ie,te,be,j,xe,G,Z,N,W)},K=(ie,te,be,_e,xe,G,Z,N,W)=>{te.slotScopeIds=N,ie==null?te.shapeFlag&512?xe.ctx.activate(te,be,_e,Z,W):oe(te,be,_e,xe,G,Z,W):D(ie,te,W)},oe=(ie,te,be,_e,xe,G,Z)=>{const N=ie.component=VO(ie,_e,xe);if(wd(ie)&&(N.ctx.renderer=Ke),WO(N),N.asyncDep){if(xe&&xe.registerDep(N,ae),!ie.el){const W=N.subTree=Qe(pr);k(null,W,te,be)}}else ae(N,ie,te,be,xe,G,Z)},D=(ie,te,be)=>{const _e=te.component=ie.component;if(uR(ie,te,be))if(_e.asyncDep&&!_e.asyncResolved){ce(_e,te,be);return}else _e.next=te,rR(_e.update),_e.effect.dirty=!0,_e.update();else te.el=ie.el,_e.vnode=te},ae=(ie,te,be,_e,xe,G,Z)=>{const N=()=>{if(ie.isMounted){let{next:j,bu:F,u:Q,parent:le,vnode:pe}=ie;{const Te=RO(ie);if(Te){j&&(j.el=pe.el,ce(ie,j,Z)),Te.asyncDep.then(()=>{ie.isUnmounted||N()});return}}let ye=j,Y;Aa(ie,!1),j?(j.el=pe.el,ce(ie,j,Z)):j=pe,F&&ku(F),(Y=j.props&&j.props.onVnodeBeforeUpdate)&&zr(Y,le,j,pe),Aa(ie,!0);const X=bp(ie),de=ie.subTree;ie.subTree=X,C(de,X,m(de.el),Be(de),ie,xe,G),j.el=X.el,ye===null&&B1(ie,X.el),Q&&Zn(Q,xe),(Y=j.props&&j.props.onVnodeUpdated)&&Zn(()=>zr(Y,le,j,pe),xe)}else{let j;const{el:F,props:Q}=te,{bm:le,m:pe,parent:ye}=ie,Y=Qa(te);if(Aa(ie,!1),le&&ku(le),!Y&&(j=Q&&Q.onVnodeBeforeMount)&&zr(j,ye,te),Aa(ie,!0),F&&at){const X=()=>{ie.subTree=bp(ie),at(F,ie.subTree,ie,xe,null)};Y?te.type.__asyncLoader().then(()=>!ie.isUnmounted&&X()):X()}else{const X=ie.subTree=bp(ie);C(null,X,be,_e,ie,xe,G),te.el=X.el}if(pe&&Zn(pe,xe),!Y&&(j=Q&&Q.onVnodeMounted)){const X=te;Zn(()=>zr(j,ye,X),xe)}(te.shapeFlag&256||ye&&Qa(ye.vnode)&&ye.vnode.shapeFlag&256)&&ie.a&&Zn(ie.a,xe),ie.isMounted=!0,te=be=_e=null}},W=ie.effect=new Pu(N,An,()=>ug(O),ie.scope),O=ie.update=()=>{W.dirty&&W.run()};O.id=ie.uid,Aa(ie,!0),O()},ce=(ie,te,be)=>{te.component=ie;const _e=ie.vnode.props;ie.vnode=te,ie.next=null,KR(ie,te.props,_e,be),JR(ie,te.children,be),ua(),rS(ie),ca()},ve=(ie,te,be,_e,xe,G,Z,N,W=!1)=>{const O=ie&&ie.children,j=ie?ie.shapeFlag:0,F=te.children,{patchFlag:Q,shapeFlag:le}=te;if(Q>0){if(Q&128){qe(O,F,be,_e,xe,G,Z,N,W);return}else if(Q&256){ze(O,F,be,_e,xe,G,Z,N,W);return}}le&8?(j&16&&Ie(O,xe,G),F!==O&&d(be,F)):j&16?le&16?qe(O,F,be,_e,xe,G,Z,N,W):Ie(O,xe,G,!0):(j&8&&d(be,""),le&16&&P(F,be,_e,xe,G,Z,N,W))},ze=(ie,te,be,_e,xe,G,Z,N,W)=>{ie=ie||bu,te=te||bu;const O=ie.length,j=te.length,F=Math.min(O,j);let Q;for(Q=0;Q<F;Q++){const le=te[Q]=W?Ds(te[Q]):ei(te[Q]);C(ie[Q],le,be,null,xe,G,Z,N,W)}O>j?Ie(ie,xe,G,!0,!1,F):P(te,be,_e,xe,G,Z,N,W,F)},qe=(ie,te,be,_e,xe,G,Z,N,W)=>{let O=0;const j=te.length;let F=ie.length-1,Q=j-1;for(;O<=F&&O<=Q;){const le=ie[O],pe=te[O]=W?Ds(te[O]):ei(te[O]);if(Ii(le,pe))C(le,pe,be,null,xe,G,Z,N,W);else break;O++}for(;O<=F&&O<=Q;){const le=ie[F],pe=te[Q]=W?Ds(te[Q]):ei(te[Q]);if(Ii(le,pe))C(le,pe,be,null,xe,G,Z,N,W);else break;F--,Q--}if(O>F){if(O<=Q){const le=Q+1,pe=le<j?te[le].el:_e;for(;O<=Q;)C(null,te[O]=W?Ds(te[O]):ei(te[O]),be,pe,xe,G,Z,N,W),O++}}else if(O>Q)for(;O<=F;)mt(ie[O],xe,G,!0),O++;else{const le=O,pe=O,ye=new Map;for(O=pe;O<=Q;O++){const Ne=te[O]=W?Ds(te[O]):ei(te[O]);Ne.key!=null&&ye.set(Ne.key,O)}let Y,X=0;const de=Q-pe+1;let Te=!1,je=0;const he=new Array(de);for(O=0;O<de;O++)he[O]=0;for(O=le;O<=F;O++){const Ne=ie[O];if(X>=de){mt(Ne,xe,G,!0);continue}let me;if(Ne.key!=null)me=ye.get(Ne.key);else for(Y=pe;Y<=Q;Y++)if(he[Y-pe]===0&&Ii(Ne,te[Y])){me=Y;break}me===void 0?mt(Ne,xe,G,!0):(he[me-pe]=O+1,me>=je?je=me:Te=!0,C(Ne,te[me],be,null,xe,G,Z,N,W),X++)}const Ae=Te?t5(he):bu;for(Y=Ae.length-1,O=de-1;O>=0;O--){const Ne=pe+O,me=te[Ne],Je=Ne+1<j?te[Ne+1].el:_e;he[O]===0?C(null,me,be,Je,xe,G,Z,N,W):Te&&(Y<0||O!==Ae[Y]?yt(me,be,Je,2):Y--)}}},yt=(ie,te,be,_e,xe=null)=>{const{el:G,type:Z,transition:N,children:W,shapeFlag:O}=ie;if(O&6){yt(ie.component.subTree,te,be,_e);return}if(O&128){ie.suspense.move(te,be,_e);return}if(O&64){Z.move(ie,te,be,Ke);return}if(Z===kt){r(G,te,be);for(let F=0;F<W.length;F++)yt(W[F],te,be,_e);r(ie.anchor,te,be);return}if(Z===el){L(ie,te,be);return}if(_e!==2&&O&1&&N)if(_e===0)N.beforeEnter(G),r(G,te,be),Zn(()=>N.enter(G),xe);else{const{leave:F,delayLeave:Q,afterLeave:le}=N,pe=()=>r(G,te,be),ye=()=>{F(G,()=>{pe(),le&&le()})};Q?Q(G,pe,ye):ye()}else r(G,te,be)},mt=(ie,te,be,_e=!1,xe=!1)=>{const{type:G,props:Z,ref:N,children:W,dynamicChildren:O,shapeFlag:j,patchFlag:F,dirs:Q}=ie;if(N!=null&&qp(N,null,be,ie,!0),j&256){te.ctx.deactivate(ie);return}const le=j&1&&Q,pe=!Qa(ie);let ye;if(pe&&(ye=Z&&Z.onVnodeBeforeUnmount)&&zr(ye,te,ie),j&6)Xe(ie.component,be,_e);else{if(j&128){ie.suspense.unmount(be,_e);return}le&&so(ie,null,te,"beforeUnmount"),j&64?ie.type.remove(ie,te,be,xe,Ke,_e):O&&(G!==kt||F>0&&F&64)?Ie(O,te,be,!1,!0):(G===kt&&F&384||!xe&&j&16)&&Ie(W,te,be),_e&&_t(ie)}(pe&&(ye=Z&&Z.onVnodeUnmounted)||le)&&Zn(()=>{ye&&zr(ye,te,ie),le&&so(ie,null,te,"unmounted")},be)},_t=ie=>{const{type:te,el:be,anchor:_e,transition:xe}=ie;if(te===kt){bt(be,_e);return}if(te===el){E(ie);return}const G=()=>{i(be),xe&&!xe.persisted&&xe.afterLeave&&xe.afterLeave()};if(ie.shapeFlag&1&&xe&&!xe.persisted){const{leave:Z,delayLeave:N}=xe,W=()=>Z(be,G);N?N(ie.el,G,W):W()}else G()},bt=(ie,te)=>{let be;for(;ie!==te;)be=v(ie),i(ie),ie=be;i(te)},Xe=(ie,te,be)=>{const{bum:_e,scope:xe,update:G,subTree:Z,um:N}=ie;_e&&ku(_e),xe.stop(),G&&(G.active=!1,mt(Z,ie,te,be)),N&&Zn(N,te),Zn(()=>{ie.isUnmounted=!0},te),te&&te.pendingBranch&&!te.isUnmounted&&ie.asyncDep&&!ie.asyncResolved&&ie.suspenseId===te.pendingId&&(te.deps--,te.deps===0&&te.resolve())},Ie=(ie,te,be,_e=!1,xe=!1,G=0)=>{for(let Z=G;Z<ie.length;Z++)mt(ie[Z],te,be,_e,xe)},Be=ie=>ie.shapeFlag&6?Be(ie.component.subTree):ie.shapeFlag&128?ie.suspense.next():v(ie.anchor||ie.el);let Ee=!1;const Ze=(ie,te,be)=>{ie==null?te._vnode&&mt(te._vnode,null,null,!0):C(te._vnode||null,ie,te,null,null,null,be),Ee||(Ee=!0,rS(),jp(),Ee=!1),te._vnode=ie},Ke={p:C,um:mt,m:yt,r:_t,mt:oe,mc:P,pc:ve,pbc:w,n:Be,o:t};let Fe,at;return e&&([Fe,at]=e(Ke)),{render:Ze,hydrate:Fe,createApp:WR(Ze,Fe)}}function hy({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Aa({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function DO(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function K1(t,e,n=!1){const r=t.children,i=e.children;if(We(r)&&We(i))for(let o=0;o<r.length;o++){const s=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=Ds(i[o]),l.el=s.el),n||K1(s,l)),l.type===cl&&(l.el=s.el)}}function t5(t){const e=t.slice(),n=[0];let r,i,o,s,l;const u=t.length;for(r=0;r<u;r++){const f=t[r];if(f!==0){if(i=n[n.length-1],t[i]<f){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,t[n[l]]<f?o=l+1:s=l;f<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}function RO(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:RO(e)}const n5=t=>t.__isTeleport,uf=t=>t&&(t.disabled||t.disabled===""),mS=t=>typeof SVGElement<"u"&&t instanceof SVGElement,gS=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,B0=(t,e)=>{const n=t&&t.to;return xt(n)?e?e(n):null:n},r5={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,o,s,l,u,f){const{mc:d,pc:m,pbc:v,o:{insert:y,querySelector:_,createText:C,createComment:x}}=f,k=uf(e.props);let{shapeFlag:A,children:L,dynamicChildren:E}=e;if(t==null){const H=e.el=C(""),I=e.anchor=C("");y(H,n,r),y(I,n,r);const q=e.target=B0(e.props,_),P=e.targetAnchor=C("");q&&(y(P,q),s==="svg"||mS(q)?s="svg":(s==="mathml"||gS(q))&&(s="mathml"));const z=(w,R)=>{A&16&&d(L,w,R,i,o,s,l,u)};k?z(n,I):q&&z(q,P)}else{e.el=t.el;const H=e.anchor=t.anchor,I=e.target=t.target,q=e.targetAnchor=t.targetAnchor,P=uf(t.props),z=P?n:I,w=P?H:q;if(s==="svg"||mS(I)?s="svg":(s==="mathml"||gS(I))&&(s="mathml"),E?(v(t.dynamicChildren,E,z,i,o,s,l),K1(t,e,!0)):u||m(t,e,z,w,i,o,s,l,!1),k)P?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ph(e,n,H,f,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const R=e.target=B0(e.props,_);R&&Ph(e,R,null,f,0)}else P&&Ph(e,I,q,f,1)}BO(e)},remove(t,e,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:l,children:u,anchor:f,targetAnchor:d,target:m,props:v}=t;if(m&&o(d),s&&o(f),l&16){const y=s||!uf(v);for(let _=0;_<u.length;_++){const C=u[_];i(C,e,n,y,!!C.dynamicChildren)}}},move:Ph,hydrate:i5};function Ph(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:s,anchor:l,shapeFlag:u,children:f,props:d}=t,m=o===2;if(m&&r(s,e,n),(!m||uf(d))&&u&16)for(let v=0;v<f.length;v++)i(f[v],e,n,2);m&&r(l,e,n)}function i5(t,e,n,r,i,o,{o:{nextSibling:s,parentNode:l,querySelector:u}},f){const d=e.target=B0(e.props,u);if(d){const m=d._lpa||d.firstChild;if(e.shapeFlag&16)if(uf(e.props))e.anchor=f(s(t),e,l(t),n,r,i,o),e.targetAnchor=m;else{e.anchor=s(t);let v=m;for(;v;)if(v=s(v),v&&v.nodeType===8&&v.data==="teleport anchor"){e.targetAnchor=v,d._lpa=e.targetAnchor&&s(e.targetAnchor);break}f(m,e,d,n,r,i,o)}BO(e)}return e.anchor&&s(e.anchor)}const zO=r5;function BO(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const kt=Symbol.for("v-fgt"),cl=Symbol.for("v-txt"),pr=Symbol.for("v-cmt"),el=Symbol.for("v-stc"),cf=[];let $r=null;function ge(t=!1){cf.push($r=t?null:[])}function $O(){cf.pop(),$r=cf[cf.length-1]||null}let fl=1;function $0(t){fl+=t}function HO(t){return t.dynamicChildren=fl>0?$r||bu:null,$O(),fl>0&&$r&&$r.push(t),t}function Se(t,e,n,r,i,o){return HO(re(t,e,n,r,i,o,!0))}function Ct(t,e,n,r,i){return HO(Qe(t,e,n,r,i,!0))}function ea(t){return t?t.__v_isVNode===!0:!1}function Ii(t,e){return t.type===e.type&&t.key===e.key}function o5(t){}const gg="__vInternal",FO=({key:t})=>t??null,_p=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?xt(t)||qn(t)||pt(t)?{i:On,r:t,k:e,f:!!n}:t:null);function re(t,e=null,n=null,r=0,i=null,o=t===kt?0:1,s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&FO(e),ref:e&&_p(e),scopeId:fg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:On};return l?(Y1(u,n),o&128&&t.normalize(u)):n&&(u.shapeFlag|=xt(n)?8:16),fl>0&&!s&&$r&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&$r.push(u),u}const Qe=s5;function s5(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===rO)&&(t=pr),ea(t)){const l=yo(t,e,!0);return n&&Y1(l,n),fl>0&&!o&&$r&&(l.shapeFlag&6?$r[$r.indexOf(t)]=l:$r.push(l)),l.patchFlag|=-2,l}if(m5(t)&&(t=t.__vccOpts),e){e=G1(e);let{class:l,style:u}=e;l&&!xt(l)&&(e.class=vt(l)),qt(u)&&(O1(u)&&!We(u)&&(u=Rt({},u)),e.style=oi(u))}const s=xt(t)?1:iO(t)?128:n5(t)?64:qt(t)?4:pt(t)?2:0;return re(t,e,n,r,i,s,o,!0)}function G1(t){return t?O1(t)||gg in t?Rt({},t):t:null}function yo(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,l=e?wi(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&FO(l),ref:e&&e.ref?n&&i?We(i)?i.concat(_p(e)):[i,_p(e)]:_p(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&yo(t.ssContent),ssFallback:t.ssFallback&&yo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ui(t=" ",e=0){return Qe(cl,null,t,e)}function a5(t,e){const n=Qe(el,null,t);return n.staticCount=e,n}function gt(t="",e=!1){return e?(ge(),Ct(pr,null,t)):Qe(pr,null,t)}function ei(t){return t==null||typeof t=="boolean"?Qe(pr):We(t)?Qe(kt,null,t.slice()):typeof t=="object"?Ds(t):Qe(cl,null,String(t))}function Ds(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:yo(t)}function Y1(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(We(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Y1(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(gg in e)?e._ctx=On:i===3&&On&&(On.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pt(e)?(e={default:e,_ctx:On},n=32):(e=String(e),r&64?(n=16,e=[Ui(e)]):n=8);t.children=e,t.shapeFlag|=n}function wi(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=vt([e.class,r.class]));else if(i==="style")e.style=oi([e.style,r.style]);else if(Cl(i)){const o=e[i],s=r[i];s&&o!==s&&!(We(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function zr(t,e,n,r=null){si(t,e,7,[n,r])}const l5=TO();let u5=0;function VO(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||l5,o={uid:u5++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new S1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:AO(r,i),emitsOptions:nO(r,i),emit:null,emitted:null,propsDefaults:Ft,inheritAttrs:r.inheritAttrs,ctx:Ft,data:Ft,props:Ft,attrs:Ft,slots:Ft,refs:Ft,setupState:Ft,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=oR.bind(null,o),t.ce&&t.ce(o),o}let Bn=null;const qi=()=>Bn||On;let Kp,H0;{const t=x1(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};Kp=e("__VUE_INSTANCE_SETTERS__",n=>Bn=n),H0=e("__VUE_SSR_SETTERS__",n=>kd=n)}const dl=t=>{const e=Bn;return Kp(t),t.scope.on(),()=>{t.scope.off(),Kp(e)}},F0=()=>{Bn&&Bn.scope.off(),Kp(null)};function jO(t){return t.vnode.shapeFlag&4}let kd=!1;function WO(t,e=!1){e&&H0(e);const{props:n,children:r}=t.vnode,i=jO(t);qR(t,n,i,e),YR(t,r);const o=i?c5(t,e):void 0;return e&&H0(!1),o}function c5(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=fa(new Proxy(t.ctx,P0));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?KO(t):null,o=dl(t);ua();const s=mo(r,t,0,[t.props,i]);if(ca(),o(),w1(s)){if(s.then(F0,F0),e)return s.then(l=>{V0(t,l,e)}).catch(l=>{Ol(l,t,0)});t.asyncDep=s}else V0(t,s,e)}else qO(t,e)}function V0(t,e,n){pt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qt(e)&&(t.setupState=L1(e)),qO(t,n)}let Gp,j0;function UO(t){Gp=t,j0=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,SR))}}const f5=()=>!Gp;function qO(t,e,n){const r=t.type;if(!t.render){if(!e&&Gp&&!r.render){const i=r.template||U1(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:l,compilerOptions:u}=r,f=Rt(Rt({isCustomElement:o,delimiters:l},s),u);r.render=Gp(i,f)}}t.render=r.render||An,j0&&j0(t)}{const i=dl(t);ua();try{BR(t)}finally{ca(),i()}}}function d5(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Wr(t,"get","$attrs"),e[n]}}))}function KO(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return d5(t)},slots:t.slots,emit:t.emit,expose:e}}function vg(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(L1(fa(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in af)return af[n](t)},has(e,n){return n in e||n in af}}))}const h5=/(?:^|[-_])(\w)/g,p5=t=>t.replace(h5,e=>e.toUpperCase()).replace(/[-_]/g,"");function Yp(t,e=!0){return pt(t)?t.displayName||t.name:t.name||e&&t.__name}function GO(t,e,n=!1){let r=Yp(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=o=>{for(const s in o)if(o[s]===e)return s};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?p5(r):n?"App":"Anonymous"}function m5(t){return pt(t)&&"__vccOpts"in t}const er=(t,e)=>RD(t,e,kd);function g5(t,e,n=Ft){const r=qi(),i=bn(e),o=ni(e),s=I1((u,f)=>{let d;return cO(()=>{const m=t[e];ji(d,m)&&(d=m,f())}),{get(){return u(),n.get?n.get(d):d},set(m){const v=r.vnode.props;!(v&&(e in v||i in v||o in v)&&(`onUpdate:${e}`in v||`onUpdate:${i}`in v||`onUpdate:${o}`in v))&&ji(m,d)&&(d=m,f()),r.emit(`update:${e}`,n.set?n.set(m):m)}}}),l=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return s[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?t[l]||{}:s,done:!1}:{done:!0}}}},s}function mr(t,e,n){const r=arguments.length;return r===2?qt(e)&&!We(e)?ea(e)?Qe(t,null,[e]):Qe(t,e):Qe(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ea(n)&&(n=[n]),Qe(t,e,n))}function v5(){}function y5(t,e,n,r){const i=n[r];if(i&&YO(i,t))return i;const o=e();return o.memo=t.slice(),n[r]=o}function YO(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(ji(n[r],e[r]))return!1;return fl>0&&$r&&$r.push(t),!0}const JO="3.4.15",b5=An,_5=eR,w5=su,k5=tO,x5={createComponentInstance:VO,setupComponent:WO,renderComponentRoot:bp,setCurrentRenderingInstance:Vf,isVNode:ea,normalizeVNode:ei},S5=x5,C5=null,T5=null,E5=null;/**
* @vue/runtime-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const A5="http://www.w3.org/2000/svg",O5="http://www.w3.org/1998/Math/MathML",Rs=typeof document<"u"?document:null,vS=Rs&&Rs.createElement("template"),M5={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?Rs.createElementNS(A5,t):e==="mathml"?Rs.createElementNS(O5,t):Rs.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Rs.createTextNode(t),createComment:t=>Rs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Rs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{vS.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const l=vS.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ss="transition",Uc="animation",Ru=Symbol("_vtc"),zu=(t,{slots:e})=>mr(dO,ZO(t),e);zu.displayName="Transition";const XO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},N5=zu.props=Rt({},j1,XO),Oa=(t,e=[])=>{We(t)?t.forEach(n=>n(...e)):t&&t(...e)},yS=t=>t?We(t)?t.some(e=>e.length>1):t.length>1:!1;function ZO(t){const e={};for(const U in t)U in XO||(e[U]=t[U]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:f=s,appearToClass:d=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,_=L5(i),C=_&&_[0],x=_&&_[1],{onBeforeEnter:k,onEnter:A,onEnterCancelled:L,onLeave:E,onLeaveCancelled:H,onBeforeAppear:I=k,onAppear:q=A,onAppearCancelled:P=L}=e,z=(U,K,oe)=>{Os(U,K?d:l),Os(U,K?f:s),oe&&oe()},w=(U,K)=>{U._isLeaving=!1,Os(U,m),Os(U,y),Os(U,v),K&&K()},R=U=>(K,oe)=>{const D=U?q:A,ae=()=>z(K,U,oe);Oa(D,[K,ae]),bS(()=>{Os(K,U?u:o),Io(K,U?d:l),yS(D)||_S(K,r,C,ae)})};return Rt(e,{onBeforeEnter(U){Oa(k,[U]),Io(U,o),Io(U,s)},onBeforeAppear(U){Oa(I,[U]),Io(U,u),Io(U,f)},onEnter:R(!1),onAppear:R(!0),onLeave(U,K){U._isLeaving=!0;const oe=()=>w(U,K);Io(U,m),eM(),Io(U,v),bS(()=>{U._isLeaving&&(Os(U,m),Io(U,y),yS(E)||_S(U,r,x,oe))}),Oa(E,[U,oe])},onEnterCancelled(U){z(U,!1),Oa(L,[U])},onAppearCancelled(U){z(U,!0),Oa(P,[U])},onLeaveCancelled(U){w(U),Oa(H,[U])}})}function L5(t){if(t==null)return null;if(qt(t))return[py(t.enter),py(t.leave)];{const e=py(t);return[e,e]}}function py(t){return $p(t)}function Io(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ru]||(t[Ru]=new Set)).add(e)}function Os(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ru];n&&(n.delete(e),n.size||(t[Ru]=void 0))}function bS(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let I5=0;function _S(t,e,n,r){const i=t._endId=++I5,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:l,propCount:u}=QO(t,e);if(!s)return r();const f=s+"end";let d=0;const m=()=>{t.removeEventListener(f,v),o()},v=y=>{y.target===t&&++d>=u&&m()};setTimeout(()=>{d<u&&m()},l+1),t.addEventListener(f,v)}function QO(t,e){const n=window.getComputedStyle(t),r=_=>(n[_]||"").split(", "),i=r(`${Ss}Delay`),o=r(`${Ss}Duration`),s=wS(i,o),l=r(`${Uc}Delay`),u=r(`${Uc}Duration`),f=wS(l,u);let d=null,m=0,v=0;e===Ss?s>0&&(d=Ss,m=s,v=o.length):e===Uc?f>0&&(d=Uc,m=f,v=u.length):(m=Math.max(s,f),d=m>0?s>f?Ss:Uc:null,v=d?d===Ss?o.length:u.length:0);const y=d===Ss&&/\b(transform|all)(,|$)/.test(r(`${Ss}Property`).toString());return{type:d,timeout:m,propCount:v,hasTransform:y}}function wS(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>kS(n)+kS(t[r])))}function kS(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function eM(){return document.body.offsetHeight}function P5(t,e,n){const r=t[Ru];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const J1=Symbol("_vod"),Bu={beforeMount(t,{value:e},{transition:n}){t[J1]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):qc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),qc(t,!0),r.enter(t)):r.leave(t,()=>{qc(t,!1)}):qc(t,e))},beforeUnmount(t,{value:e}){qc(t,e)}};function qc(t,e){t.style.display=e?t[J1]:"none"}function D5(){Bu.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const tM=Symbol("");function R5(t){const e=qi();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>U0(o,i))},r=()=>{const i=t(e.proxy);W0(e.subTree,i),n(i)};uO(r),ts(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),mg(()=>i.disconnect())})}function W0(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{W0(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)U0(t.el,e);else if(t.type===kt)t.children.forEach(n=>W0(n,e));else if(t.type===el){let{el:n,anchor:r}=t;for(;n&&(U0(n,e),n!==r);)n=n.nextSibling}}function U0(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[tM]=r}}function z5(t,e,n){const r=t.style,i=r.display,o=xt(n);if(n&&!o){if(e&&!xt(e))for(const s in e)n[s]==null&&q0(r,s,"");for(const s in n)q0(r,s,n[s])}else if(o){if(e!==n){const s=r[tM];s&&(n+=";"+s),r.cssText=n}}else e&&t.removeAttribute("style");J1 in t&&(r.display=i)}const xS=/\s*!important$/;function q0(t,e,n){if(We(n))n.forEach(r=>q0(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=B5(t,e);xS.test(n)?t.setProperty(ni(r),n.replace(xS,""),"important"):t[r]=n}}const SS=["Webkit","Moz","ms"],my={};function B5(t,e){const n=my[e];if(n)return n;let r=bn(e);if(r!=="filter"&&r in t)return my[e]=r;r=El(r);for(let i=0;i<SS.length;i++){const o=SS[i]+r;if(o in t)return my[e]=o}return e}const CS="http://www.w3.org/1999/xlink";function $5(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(CS,e.slice(6,e.length)):t.setAttributeNS(CS,e,n);else{const o=uD(e);n==null||o&&!OA(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function H5(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=n;const f=l==="OPTION"?t.getAttribute("value"):t.value,d=n??"";f!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let u=!1;if(n===""||n==null){const f=typeof t[e];f==="boolean"?n=OA(n):n==null&&f==="string"?(n="",u=!0):f==="number"&&(n=0,u=!0)}try{t[e]=n}catch{}u&&t.removeAttribute(e)}function Bo(t,e,n,r){t.addEventListener(e,n,r)}function F5(t,e,n,r){t.removeEventListener(e,n,r)}const TS=Symbol("_vei");function V5(t,e,n,r,i=null){const o=t[TS]||(t[TS]={}),s=o[e];if(r&&s)s.value=r;else{const[l,u]=j5(e);if(r){const f=o[e]=q5(r,i);Bo(t,l,f,u)}else s&&(F5(t,l,s,u),o[e]=void 0)}}const ES=/(?:Once|Passive|Capture)$/;function j5(t){let e;if(ES.test(t)){e={};let r;for(;r=t.match(ES);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ni(t.slice(2)),e]}let gy=0;const W5=Promise.resolve(),U5=()=>gy||(W5.then(()=>gy=0),gy=Date.now());function q5(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;si(K5(r,n.value),e,5,[r])};return n.value=t,n.attached=U5(),n}function K5(t,e){if(We(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const AS=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,G5=(t,e,n,r,i,o,s,l,u)=>{const f=i==="svg";e==="class"?P5(t,r,f):e==="style"?z5(t,n,r):Cl(e)?b1(e)||V5(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Y5(t,e,r,f))?H5(t,e,r,o,s,l,u):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),$5(t,e,r,f))};function Y5(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&AS(e)&&pt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return AS(e)&&xt(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function nM(t,e){const n=Vn(t);class r extends yg{constructor(o){super(n,o,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const J5=t=>nM(t,dM),X5=typeof HTMLElement<"u"?HTMLElement:class{};class yg extends X5{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Ri(()=>{this._connected||(K0(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:o,styles:s}=r;let l;if(o&&!We(o))for(const u in o){const f=o[u];(f===Number||f&&f.type===Number)&&(u in this._props&&(this._props[u]=$p(this._props[u])),(l||(l=Object.create(null)))[bn(u)]=!0)}this._numberProps=l,i&&this._resolveProps(r),this._applyStyles(s),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=We(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(bn))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o)}})}_setAttr(e){let n=this.getAttribute(e);const r=bn(e);this._numberProps&&this._numberProps[r]&&(n=$p(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(ni(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(ni(e),n+""):n||this.removeAttribute(ni(e))))}_update(){K0(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Qe(this._def,Rt({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(o,s)=>{this.dispatchEvent(new CustomEvent(o,{detail:s}))};n.emit=(o,...s)=>{r(o,s),ni(o)!==o&&r(ni(o),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof yg){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function Z5(t="$style"){{const e=qi();if(!e)return Ft;const n=e.type.__cssModules;if(!n)return Ft;const r=n[t];return r||Ft}}const rM=new WeakMap,iM=new WeakMap,Jp=Symbol("_moveCb"),OS=Symbol("_enterCb"),oM={name:"TransitionGroup",props:Rt({},N5,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=qi(),r=V1();let i,o;return pg(()=>{if(!i.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!i8(i[0].el,n.vnode.el,s))return;i.forEach(t8),i.forEach(n8);const l=i.filter(r8);eM(),l.forEach(u=>{const f=u.el,d=f.style;Io(f,s),d.transform=d.webkitTransform=d.transitionDuration="";const m=f[Jp]=v=>{v&&v.target!==f||(!v||/transform$/.test(v.propertyName))&&(f.removeEventListener("transitionend",m),f[Jp]=null,Os(f,s))};f.addEventListener("transitionend",m)})}),()=>{const s=Mt(t),l=ZO(s);let u=s.tag||kt;i=o,o=e.default?dg(e.default()):[];for(let f=0;f<o.length;f++){const d=o[f];d.key!=null&&ul(d,Du(d,l,r,n))}if(i)for(let f=0;f<i.length;f++){const d=i[f];ul(d,Du(d,l,r,n)),rM.set(d,d.el.getBoundingClientRect())}return Qe(u,null,o)}}},Q5=t=>delete t.mode;oM.props;const e8=oM;function t8(t){const e=t.el;e[Jp]&&e[Jp](),e[OS]&&e[OS]()}function n8(t){iM.set(t,t.el.getBoundingClientRect())}function r8(t){const e=rM.get(t),n=iM.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",t}}function i8(t,e,n){const r=t.cloneNode(),i=t[Ru];i&&i.forEach(l=>{l.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(r);const{hasTransform:s}=QO(r);return o.removeChild(r),s}const ta=t=>{const e=t.props["onUpdate:modelValue"]||!1;return We(e)?n=>ku(e,n):e};function o8(t){t.target.composing=!0}function MS(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const bi=Symbol("_assign"),Mn={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[bi]=ta(i);const o=r||i.props&&i.props.type==="number";Bo(t,e?"change":"input",s=>{if(s.target.composing)return;let l=t.value;n&&(l=l.trim()),o&&(l=zf(l)),t[bi](l)}),n&&Bo(t,"change",()=>{t.value=t.value.trim()}),e||(Bo(t,"compositionstart",o8),Bo(t,"compositionend",MS),Bo(t,"change",MS))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t[bi]=ta(o),t.composing)return;const s=i||t.type==="number"?zf(t.value):t.value,l=e??"";s!==l&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===l)||(t.value=l))}},xd={deep:!0,created(t,e,n){t[bi]=ta(n),Bo(t,"change",()=>{const r=t._modelValue,i=$u(t),o=t.checked,s=t[bi];if(We(r)){const l=og(r,i),u=l!==-1;if(o&&!u)s(r.concat(i));else if(!o&&u){const f=[...r];f.splice(l,1),s(f)}}else if(Tl(r)){const l=new Set(r);o?l.add(i):l.delete(i),s(l)}else s(sM(t,o))})},mounted:NS,beforeUpdate(t,e,n){t[bi]=ta(n),NS(t,e,n)}};function NS(t,{value:e,oldValue:n},r){t._modelValue=e,We(e)?t.checked=og(e,r.props.value)>-1:Tl(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=qo(e,sM(t,!0)))}const X1={created(t,{value:e},n){t.checked=qo(e,n.props.value),t[bi]=ta(n),Bo(t,"change",()=>{t[bi]($u(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[bi]=ta(r),e!==n&&(t.checked=qo(e,r.props.value))}},Z1={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Tl(e);Bo(t,"change",()=>{const o=Array.prototype.filter.call(t.options,s=>s.selected).map(s=>n?zf($u(s)):$u(s));t[bi](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,Ri(()=>{t._assigning=!1})}),t[bi]=ta(r)},mounted(t,{value:e,oldValue:n,modifiers:{number:r}}){LS(t,e,n,r)},beforeUpdate(t,e,n){t[bi]=ta(n)},updated(t,{value:e,oldValue:n,modifiers:{number:r}}){t._assigning||LS(t,e,n,r)}};function LS(t,e,n,r){const i=t.multiple,o=We(e);if(!(i&&!o&&!Tl(e))&&!(o&&qo(e,n))){for(let s=0,l=t.options.length;s<l;s++){const u=t.options[s],f=$u(u);if(i)if(o){const d=typeof f;d==="string"||d==="number"?u.selected=e.includes(r?zf(f):f):u.selected=og(e,f)>-1}else u.selected=e.has(f);else if(qo($u(u),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function $u(t){return"_value"in t?t._value:t.value}function sM(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const aM={created(t,e,n){Dh(t,e,n,null,"created")},mounted(t,e,n){Dh(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Dh(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Dh(t,e,n,r,"updated")}};function lM(t,e){switch(t){case"SELECT":return Z1;case"TEXTAREA":return Mn;default:switch(e){case"checkbox":return xd;case"radio":return X1;default:return Mn}}}function Dh(t,e,n,r,i){const s=lM(t.tagName,n.props&&n.props.type)[i];s&&s(t,e,n,r)}function s8(){Mn.getSSRProps=({value:t})=>({value:t}),X1.getSSRProps=({value:t},e)=>{if(e.props&&qo(e.props.value,t))return{checked:!0}},xd.getSSRProps=({value:t},e)=>{if(We(t)){if(e.props&&og(t,e.props.value)>-1)return{checked:!0}}else if(Tl(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},aM.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=lM(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const a8=["ctrl","shift","alt","meta"],l8={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>a8.some(n=>t[`${n}Key`]&&!e.includes(n))},lt=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...o)=>{for(let s=0;s<e.length;s++){const l=l8[e[s]];if(l&&l(i,e))return}return t(i,...o)})},u8={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Tu=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=ni(i.key);if(e.some(s=>s===o||u8[s]===o))return t(i)})},uM=Rt({patchProp:G5},M5);let ff,IS=!1;function cM(){return ff||(ff=LO(uM))}function fM(){return ff=IS?ff:IO(uM),IS=!0,ff}const K0=(...t)=>{cM().render(...t)},dM=(...t)=>{fM().hydrate(...t)},Q1=(...t)=>{const e=cM().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=pM(r);if(!i)return;const o=e._component;!pt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,hM(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e},c8=(...t)=>{const e=fM().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=pM(r);if(i)return n(i,!0,hM(i))},e};function hM(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function pM(t){return xt(t)?document.querySelector(t):t}let PS=!1;const f8=()=>{PS||(PS=!0,s8(),D5())},d8=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:dO,BaseTransitionPropsValidators:j1,Comment:pr,DeprecationTypes:E5,EffectScope:S1,ErrorCodes:QD,ErrorTypeStrings:_5,Fragment:kt,KeepAlive:kR,ReactiveEffect:Pu,Static:el,Suspense:dR,Teleport:zO,Text:cl,TrackOpTypes:qD,Transition:zu,TransitionGroup:e8,TriggerOpTypes:KD,VueElement:yg,assertNumber:ZD,callWithAsyncErrorHandling:si,callWithErrorHandling:mo,camelize:bn,capitalize:El,cloneVNode:yo,compatUtils:T5,computed:er,createApp:Q1,createBlock:Ct,createCommentVNode:gt,createElementBlock:Se,createElementVNode:re,createHydrationRenderer:IO,createPropsRestProxy:RR,createRenderer:LO,createSSRApp:c8,createSlots:W1,createStaticVNode:a5,createTextVNode:Ui,createVNode:Qe,customRef:I1,defineAsyncComponent:_R,defineComponent:Vn,defineCustomElement:nM,defineEmits:TR,defineExpose:ER,defineModel:MR,defineOptions:AR,defineProps:CR,defineSSRCustomElement:J5,defineSlots:OR,devtools:w5,effect:pD,effectScope:fD,getCurrentInstance:qi,getCurrentScope:LA,getTransitionRawChildren:dg,guardReactiveProps:G1,h:mr,handleError:Ol,hasInjectionContext:UR,hydrate:dM,initCustomFormatter:v5,initDirectivesForSSR:f8,inject:lf,isMemoSame:YO,isProxy:O1,isReactive:Za,isReadonly:ll,isRef:qn,isRuntimeOnly:f5,isShallow:Bf,isVNode:ea,markRaw:fa,mergeDefaults:PR,mergeModels:DR,mergeProps:wi,nextTick:Ri,normalizeClass:vt,normalizeProps:AA,normalizeStyle:oi,onActivated:pO,onBeforeMount:vO,onBeforeUnmount:Ml,onBeforeUpdate:yO,onDeactivated:mO,onErrorCaptured:kO,onMounted:ts,onRenderTracked:wO,onRenderTriggered:_O,onScopeDispose:dD,onServerPrefetch:bO,onUnmounted:mg,onUpdated:pg,openBlock:ge,popScopeId:R1,provide:Up,proxyRefs:L1,pushScopeId:D1,queuePostFlushCb:Vp,reactive:Al,readonly:A1,ref:Ot,registerRuntimeCompiler:UO,render:K0,renderList:Zt,renderSlot:pn,resolveComponent:ut,resolveDirective:sc,resolveDynamicComponent:Qs,resolveFilter:C5,resolveTransitionHooks:Du,setBlockTracking:$0,setDevtoolsHook:k5,setTransitionHooks:ul,shallowReactive:Fp,shallowReadonly:DD,shallowRef:GA,ssrContextKey:sO,ssrUtils:S5,stop:mD,toDisplayString:Le,toHandlerKey:wu,toHandlers:L0,toRaw:Mt,toRef:UD,toRefs:VD,toValue:$D,transformVNodeArgs:o5,triggerRef:BD,unref:fr,useAttrs:IR,useCssModule:Z5,useCssVars:R5,useModel:g5,useSSRContext:aO,useSlots:LR,useTransitionState:V1,vModelCheckbox:xd,vModelDynamic:aM,vModelRadio:X1,vModelSelect:Z1,vModelText:Mn,vShow:Bu,version:JO,warn:b5,watch:En,watchEffect:lO,watchPostEffect:uO,watchSyncEffect:cO,withAsyncContext:zR,withCtx:Vt,withDefaults:NR,withDirectives:Ut,withKeys:Tu,withMemo:y5,withModifiers:lt,withScopeId:z1},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qf=Symbol(""),df=Symbol(""),e_=Symbol(""),Xp=Symbol(""),mM=Symbol(""),hl=Symbol(""),gM=Symbol(""),vM=Symbol(""),t_=Symbol(""),n_=Symbol(""),Sd=Symbol(""),r_=Symbol(""),yM=Symbol(""),i_=Symbol(""),o_=Symbol(""),s_=Symbol(""),a_=Symbol(""),l_=Symbol(""),u_=Symbol(""),bM=Symbol(""),_M=Symbol(""),bg=Symbol(""),Zp=Symbol(""),c_=Symbol(""),f_=Symbol(""),Kf=Symbol(""),Cd=Symbol(""),d_=Symbol(""),G0=Symbol(""),h8=Symbol(""),Y0=Symbol(""),Qp=Symbol(""),p8=Symbol(""),m8=Symbol(""),h_=Symbol(""),g8=Symbol(""),v8=Symbol(""),p_=Symbol(""),wM=Symbol(""),Hu={[qf]:"Fragment",[df]:"Teleport",[e_]:"Suspense",[Xp]:"KeepAlive",[mM]:"BaseTransition",[hl]:"openBlock",[gM]:"createBlock",[vM]:"createElementBlock",[t_]:"createVNode",[n_]:"createElementVNode",[Sd]:"createCommentVNode",[r_]:"createTextVNode",[yM]:"createStaticVNode",[i_]:"resolveComponent",[o_]:"resolveDynamicComponent",[s_]:"resolveDirective",[a_]:"resolveFilter",[l_]:"withDirectives",[u_]:"renderList",[bM]:"renderSlot",[_M]:"createSlots",[bg]:"toDisplayString",[Zp]:"mergeProps",[c_]:"normalizeClass",[f_]:"normalizeStyle",[Kf]:"normalizeProps",[Cd]:"guardReactiveProps",[d_]:"toHandlers",[G0]:"camelize",[h8]:"capitalize",[Y0]:"toHandlerKey",[Qp]:"setBlockTracking",[p8]:"pushScopeId",[m8]:"popScopeId",[h_]:"withCtx",[g8]:"unref",[v8]:"isRef",[p_]:"withMemo",[wM]:"isMemoSame"};function y8(t){Object.getOwnPropertySymbols(t).forEach(e=>{Hu[e]=t[e]})}const li={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function b8(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:li}}function Gf(t,e,n,r,i,o,s,l=!1,u=!1,f=!1,d=li){return t&&(l?(t.helper(hl),t.helper(ju(t.inSSR,f))):t.helper(Vu(t.inSSR,f)),s&&t.helper(l_)),{type:13,tag:e,props:n,children:r,patchFlag:i,dynamicProps:o,directives:s,isBlock:l,disableTracking:u,isComponent:f,loc:d}}function Td(t,e=li){return{type:17,loc:e,elements:t}}function vi(t,e=li){return{type:15,loc:e,properties:t}}function yn(t,e){return{type:16,loc:li,key:xt(t)?Et(t,!0):t,value:e}}function Et(t,e=!1,n=li,r=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:r}}function $i(t,e=li){return{type:8,loc:e,children:t}}function zn(t,e=[],n=li){return{type:14,loc:n,callee:t,arguments:e}}function Fu(t,e=void 0,n=!1,r=!1,i=li){return{type:18,params:t,returns:e,newline:n,isSlot:r,loc:i}}function J0(t,e,n,r=!0){return{type:19,test:t,consequent:e,alternate:n,newline:r,loc:li}}function _8(t,e,n=!1){return{type:20,index:t,value:e,isVNode:n,loc:li}}function w8(t){return{type:21,body:t,loc:li}}function Vu(t,e){return t||e?t_:n_}function ju(t,e){return t||e?gM:vM}function m_(t,{helper:e,removeHelper:n,inSSR:r}){t.isBlock||(t.isBlock=!0,n(Vu(r,t.isComponent)),e(hl),e(ju(r,t.isComponent)))}const DS=new Uint8Array([123,123]),RS=new Uint8Array([125,125]);function zS(t){return t>=97&&t<=122||t>=65&&t<=90}function Qr(t){return t===32||t===10||t===9||t===12||t===13}function Cs(t){return t===47||t===62||Qr(t)}function em(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const lr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class k8{constructor(e,n){this.stack=e,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=DS,this.delimiterClose=RS,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=DS,this.delimiterClose=RS}getPos(e){let n=1,r=e+1;for(let i=this.newlines.length-1;i>=0;i--){const o=this.newlines[i];if(e>o){n=i+2,r=e-o;break}}return{column:r,line:n,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Cs(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Qr(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.sectionStart=n+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===lr.TitleEnd||this.currentSequence===lr.TextareaEnd&&!this.inSFCRoot?e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===lr.Cdata[this.sequenceIndex]?++this.sequenceIndex===lr.Cdata.length&&(this.state=28,this.currentSequence=lr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===lr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,n){this.enterRCDATA(e,n),this.state=31}enterRCDATA(e,n){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=n}stateBeforeTagName(e){if(e===33)this.state=22,this.sectionStart=this.index+1;else if(e===63)this.state=24,this.sectionStart=this.index+1;else if(zS(e))if(this.sectionStart=this.index,this.mode===0)this.state=6;else if(this.inSFCRoot)this.state=34;else if(this.inXML)this.state=6;else{const n=e|32;n===116?this.state=30:this.state=n===115?29:6}else e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Cs(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Cs(e)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(em("</"+n),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Qr(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=zS(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Qr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Qr(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Qr(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Cs(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Cs(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Cs(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Cs(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Cs(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Qr(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Qr(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,n){(e===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Qr(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=lr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const n=e|32;n===lr.ScriptEnd[3]?this.startSpecial(lr.ScriptEnd,4):n===lr.StyleEnd[3]?this.startSpecial(lr.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){const n=e|32;n===lr.TitleEnd[3]?this.startSpecial(lr.TitleEnd,4):n===lr.TextareaEnd[3]?this.startSpecial(lr.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===lr.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){}}function BS(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function tl(t,e){const n=BS("MODE",e),r=BS(t,e);return n===3?r===!0:r!==!1}function Yf(t,e,n,...r){return tl(t,e)}function g_(t){throw t}function kM(t){}function an(t,e,n,r){const i=`https://vuejs.org/error-reference/#compiler-${t}`,o=new SyntaxError(String(i));return o.code=t,o.loc=e,o}const Hr=t=>t.type===4&&t.isStatic;function xM(t){switch(t){case"Teleport":case"teleport":return df;case"Suspense":case"suspense":return e_;case"KeepAlive":case"keep-alive":return Xp;case"BaseTransition":case"base-transition":return mM}}const x8=/^\d|[^\$\w]/,v_=t=>!x8.test(t),S8=/[A-Za-z_$\xA0-\uFFFF]/,C8=/[\.\?\w$\xA0-\uFFFF]/,T8=/\s+[.[]\s*|\s*[.[]\s+/g,E8=t=>{t=t.trim().replace(T8,s=>s.trim());let e=0,n=[],r=0,i=0,o=null;for(let s=0;s<t.length;s++){const l=t.charAt(s);switch(e){case 0:if(l==="[")n.push(e),e=1,r++;else if(l==="(")n.push(e),e=2,i++;else if(!(s===0?S8:C8).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(n.push(e),e=3,o=l):l==="["?r++:l==="]"&&(--r||(e=n.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")n.push(e),e=3,o=l;else if(l==="(")i++;else if(l===")"){if(s===t.length-1)return!1;--i||(e=n.pop())}break;case 3:l===o&&(e=n.pop(),o=null);break}}return!r&&!i},SM=E8;function Ni(t,e,n=!1){for(let r=0;r<t.props.length;r++){const i=t.props[r];if(i.type===7&&(n||i.exp)&&(xt(e)?i.name===e:e.test(i.name)))return i}}function _g(t,e,n=!1,r=!1){for(let i=0;i<t.props.length;i++){const o=t.props[i];if(o.type===6){if(n)continue;if(o.name===e&&(o.value||r))return o}else if(o.name==="bind"&&(o.exp||r)&&Va(o.arg,e))return o}}function Va(t,e){return!!(t&&Hr(t)&&t.content===e)}function A8(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function vy(t){return t.type===5||t.type===2}function O8(t){return t.type===7&&t.name==="slot"}function tm(t){return t.type===1&&t.tagType===3}function nm(t){return t.type===1&&t.tagType===2}const M8=new Set([Kf,Cd]);function CM(t,e=[]){if(t&&!xt(t)&&t.type===14){const n=t.callee;if(!xt(n)&&M8.has(n))return CM(t.arguments[0],e.concat(t))}return[t,e]}function rm(t,e,n){let r,i=t.type===13?t.props:t.arguments[2],o=[],s;if(i&&!xt(i)&&i.type===14){const l=CM(i);i=l[0],o=l[1],s=o[o.length-1]}if(i==null||xt(i))r=vi([e]);else if(i.type===14){const l=i.arguments[0];!xt(l)&&l.type===15?$S(e,l)||l.properties.unshift(e):i.callee===d_?r=zn(n.helper(Zp),[vi([e]),i]):i.arguments.unshift(vi([e])),!r&&(r=i)}else i.type===15?($S(e,i)||i.properties.unshift(e),r=i):(r=zn(n.helper(Zp),[vi([e]),i]),s&&s.callee===Cd&&(s=o[o.length-2]));t.type===13?s?s.arguments[0]=r:t.props=r:s?s.arguments[0]=r:t.arguments[2]=r}function $S(t,e){let n=!1;if(t.key.type===4){const r=t.key.content;n=e.properties.some(i=>i.key.type===4&&i.key.content===r)}return n}function Jf(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,r)=>n==="-"?"_":t.charCodeAt(r).toString())}`}function N8(t){return t.type===14&&t.callee===p_?t.arguments[1].returns:t}const L8=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,TM={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:yp,isPreTag:yp,isCustomElement:yp,onError:g_,onWarn:kM,comments:!1,prefixIdentifiers:!1};let jt=TM,Xf=null,nl="",cr=null,Nt=null,Pr="",Po=-1,La=-1,im=0,zs=!1,X0=null;const hn=[],gn=new k8(hn,{onerr:Lo,ontext(t,e){Rh(Jn(t,e),t,e)},ontextentity(t,e,n){Rh(t,e,n)},oninterpolation(t,e){if(zs)return Rh(Jn(t,e),t,e);let n=t+gn.delimiterOpen.length,r=e-gn.delimiterClose.length;for(;Qr(nl.charCodeAt(n));)n++;for(;Qr(nl.charCodeAt(r-1));)r--;let i=Jn(n,r);i.includes("&")&&(i=jt.decodeEntities(i,!1)),Z0({type:5,content:kp(i,!1,Rn(n,r)),loc:Rn(t,e)})},onopentagname(t,e){const n=Jn(t,e);cr={type:1,tag:n,ns:jt.getNamespace(n,hn[0],jt.ns),tagType:0,props:[],children:[],loc:Rn(t-1,e),codegenNode:void 0}},onopentagend(t){FS(t)},onclosetag(t,e){const n=Jn(t,e);if(!jt.isVoidTag(n)){let r=!1;for(let i=0;i<hn.length;i++)if(hn[i].tag.toLowerCase()===n.toLowerCase()){r=!0,i>0&&Lo(24,hn[0].loc.start.offset);for(let s=0;s<=i;s++){const l=hn.shift();wp(l,e,s<i)}break}r||Lo(23,EM(t,60))}},onselfclosingtag(t){var e;const n=cr.tag;cr.isSelfClosing=!0,FS(t),((e=hn[0])==null?void 0:e.tag)===n&&wp(hn.shift(),t)},onattribname(t,e){Nt={type:6,name:Jn(t,e),nameLoc:Rn(t,e),value:void 0,loc:Rn(t)}},ondirname(t,e){const n=Jn(t,e),r=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!zs&&r===""&&Lo(26,t),zs||r==="")Nt={type:6,name:n,nameLoc:Rn(t,e),value:void 0,loc:Rn(t)};else if(Nt={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?["prop"]:[],loc:Rn(t)},r==="pre"){zs=gn.inVPre=!0,X0=cr;const i=cr.props;for(let o=0;o<i.length;o++)i[o].type===7&&(i[o]=F8(i[o]))}},ondirarg(t,e){if(t===e)return;const n=Jn(t,e);if(zs)Nt.name+=n,ja(Nt.nameLoc,e);else{const r=n[0]!=="[";Nt.arg=kp(r?n:n.slice(1,-1),r,Rn(t,e),r?3:0)}},ondirmodifier(t,e){const n=Jn(t,e);if(zs)Nt.name+="."+n,ja(Nt.nameLoc,e);else if(Nt.name==="slot"){const r=Nt.arg;r&&(r.content+="."+n,ja(r.loc,e))}else Nt.modifiers.push(n)},onattribdata(t,e){Pr+=Jn(t,e),Po<0&&(Po=t),La=e},onattribentity(t,e,n){Pr+=t,Po<0&&(Po=e),La=n},onattribnameend(t){const e=Nt.loc.start.offset,n=Jn(e,t);Nt.type===7&&(Nt.rawName=n),cr.props.some(r=>(r.type===7?r.rawName:r.name)===n)&&Lo(2,e)},onattribend(t,e){if(cr&&Nt){if(ja(Nt.loc,e),t!==0)if(Pr.includes("&")&&(Pr=jt.decodeEntities(Pr,!0)),Nt.type===6)Nt.name==="class"&&(Pr=OM(Pr).trim()),t===1&&!Pr&&Lo(13,e),Nt.value={type:2,content:Pr,loc:t===1?Rn(Po,La):Rn(Po-1,La+1)},gn.inSFCRoot&&cr.tag==="template"&&Nt.name==="lang"&&Pr&&Pr!=="html"&&gn.enterRCDATA(em("</template"),0);else{let n=0;Nt.exp=kp(Pr,!1,Rn(Po,La),0,n),Nt.name==="for"&&(Nt.forParseResult=P8(Nt.exp));let r=-1;Nt.name==="bind"&&(r=Nt.modifiers.indexOf("sync"))>-1&&Yf("COMPILER_V_BIND_SYNC",jt,Nt.loc,Nt.rawName)&&(Nt.name="model",Nt.modifiers.splice(r,1))}(Nt.type!==7||Nt.name!=="pre")&&cr.props.push(Nt)}Pr="",Po=La=-1},oncomment(t,e){jt.comments&&Z0({type:3,content:Jn(t,e),loc:Rn(t-4,e+3)})},onend(){const t=nl.length;for(let e=0;e<hn.length;e++)wp(hn[e],t-1),Lo(24,hn[e].loc.start.offset)},oncdata(t,e){hn[0].ns!==0?Rh(Jn(t,e),t,e):Lo(1,t-9)},onprocessinginstruction(t){(hn[0]?hn[0].ns:jt.ns)===0&&Lo(21,t-1)}}),HS=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,I8=/^\(|\)$/g;function P8(t){const e=t.loc,n=t.content,r=n.match(L8);if(!r)return;const[,i,o]=r,s=(m,v,y=!1)=>{const _=e.start.offset+v,C=_+m.length;return kp(m,!1,Rn(_,C),0,y?1:0)},l={source:s(o.trim(),n.indexOf(o,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let u=i.trim().replace(I8,"").trim();const f=i.indexOf(u),d=u.match(HS);if(d){u=u.replace(HS,"").trim();const m=d[1].trim();let v;if(m&&(v=n.indexOf(m,f+u.length),l.key=s(m,v,!0)),d[2]){const y=d[2].trim();y&&(l.index=s(y,n.indexOf(y,l.key?v+m.length:f+u.length),!0))}}return u&&(l.value=s(u,f,!0)),l}function Jn(t,e){return nl.slice(t,e)}function FS(t){gn.inSFCRoot&&(cr.innerLoc=Rn(t+1,t+1)),Z0(cr);const{tag:e,ns:n}=cr;n===0&&jt.isPreTag(e)&&im++,jt.isVoidTag(e)?wp(cr,t):(hn.unshift(cr),(n===1||n===2)&&(gn.inXML=!0)),cr=null}function Rh(t,e,n){var r;{const s=(r=hn[0])==null?void 0:r.tag;s!=="script"&&s!=="style"&&t.includes("&")&&(t=jt.decodeEntities(t,!1))}const i=hn[0]||Xf,o=i.children[i.children.length-1];(o==null?void 0:o.type)===2?(o.content+=t,ja(o.loc,n)):i.children.push({type:2,content:t,loc:Rn(e,n)})}function wp(t,e,n=!1){n?ja(t.loc,EM(e,60)):ja(t.loc,e+1),gn.inSFCRoot&&(t.children.length?t.innerLoc.end=Rt({},t.children[t.children.length-1].loc.end):t.innerLoc.end=Rt({},t.innerLoc.start),t.innerLoc.source=Jn(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:r,ns:i}=t;zs||(r==="slot"?t.tagType=2:VS(t)?t.tagType=3:R8(t)&&(t.tagType=1)),gn.inRCDATA||(t.children=AM(t.children,t.tag)),i===0&&jt.isPreTag(r)&&im--,X0===t&&(zs=gn.inVPre=!1,X0=null),gn.inXML&&(hn[0]?hn[0].ns:jt.ns)===0&&(gn.inXML=!1);{const o=t.props;if(!gn.inSFCRoot&&tl("COMPILER_NATIVE_TEMPLATE",jt)&&t.tag==="template"&&!VS(t)){const l=hn[0]||Xf,u=l.children.indexOf(t);l.children.splice(u,1,...t.children)}const s=o.find(l=>l.type===6&&l.name==="inline-template");s&&Yf("COMPILER_INLINE_TEMPLATE",jt,s.loc)&&t.children.length&&(s.value={type:2,content:Jn(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:s.loc})}}function EM(t,e){let n=t;for(;nl.charCodeAt(n)!==e&&n>=0;)n--;return n}const D8=new Set(["if","else","else-if","for","slot"]);function VS({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&D8.has(e[n].name))return!0}return!1}function R8({tag:t,props:e}){var n;if(jt.isCustomElement(t))return!1;if(t==="component"||z8(t.charCodeAt(0))||xM(t)||(n=jt.isBuiltInComponent)!=null&&n.call(jt,t)||jt.isNativeTag&&!jt.isNativeTag(t))return!0;for(let r=0;r<e.length;r++){const i=e[r];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(Yf("COMPILER_IS_ON_ELEMENT",jt,i.loc))return!0}}else if(i.name==="bind"&&Va(i.arg,"is")&&Yf("COMPILER_IS_ON_ELEMENT",jt,i.loc))return!0}return!1}function z8(t){return t>64&&t<91}const B8=/\r\n/g;function AM(t,e){var n,r;const i=jt.whitespace!=="preserve";let o=!1;for(let s=0;s<t.length;s++){const l=t[s];if(l.type===2)if(im)l.content=l.content.replace(B8,`
`);else if($8(l.content)){const u=(n=t[s-1])==null?void 0:n.type,f=(r=t[s+1])==null?void 0:r.type;!u||!f||i&&(u===3&&(f===3||f===1)||u===1&&(f===3||f===1&&H8(l.content)))?(o=!0,t[s]=null):l.content=" "}else i&&(l.content=OM(l.content))}if(im&&e&&jt.isPreTag(e)){const s=t[0];s&&s.type===2&&(s.content=s.content.replace(/^\r?\n/,""))}return o?t.filter(Boolean):t}function $8(t){for(let e=0;e<t.length;e++)if(!Qr(t.charCodeAt(e)))return!1;return!0}function H8(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function OM(t){let e="",n=!1;for(let r=0;r<t.length;r++)Qr(t.charCodeAt(r))?n||(e+=" ",n=!0):(e+=t[r],n=!1);return e}function Z0(t){(hn[0]||Xf).children.push(t)}function Rn(t,e){return{start:gn.getPos(t),end:e==null?e:gn.getPos(e),source:e==null?e:Jn(t,e)}}function ja(t,e){t.end=gn.getPos(e),t.source=Jn(t.start.offset,e)}function F8(t){const e={type:6,name:t.rawName,nameLoc:Rn(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function kp(t,e=!1,n,r=0,i=0){return Et(t,e,n,r)}function Lo(t,e,n){jt.onError(an(t,Rn(e,e)))}function V8(){gn.reset(),cr=null,Nt=null,Pr="",Po=-1,La=-1,hn.length=0}function j8(t,e){if(V8(),nl=t,jt=Rt({},TM),e){let i;for(i in e)e[i]!=null&&(jt[i]=e[i])}gn.mode=jt.parseMode==="html"?1:jt.parseMode==="sfc"?2:0,gn.inXML=jt.ns===1||jt.ns===2;const n=e==null?void 0:e.delimiters;n&&(gn.delimiterOpen=em(n[0]),gn.delimiterClose=em(n[1]));const r=Xf=b8([],t);return gn.parse(nl),r.loc=Rn(0,t.length),r.children=AM(r.children),Xf=null,r}function W8(t,e){xp(t,e,MM(t,t.children[0]))}function MM(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!nm(e)}function xp(t,e,n=!1){const{children:r}=t,i=r.length;let o=0;for(let s=0;s<r.length;s++){const l=r[s];if(l.type===1&&l.tagType===0){const u=n?0:yi(l,e);if(u>0){if(u>=2){l.codegenNode.patchFlag="-1",l.codegenNode=e.hoist(l.codegenNode),o++;continue}}else{const f=l.codegenNode;if(f.type===13){const d=PM(f);if((!d||d===512||d===1)&&LM(l,e)>=2){const m=IM(l);m&&(f.props=e.hoist(m))}f.dynamicProps&&(f.dynamicProps=e.hoist(f.dynamicProps))}}}if(l.type===1){const u=l.tagType===1;u&&e.scopes.vSlot++,xp(l,e),u&&e.scopes.vSlot--}else if(l.type===11)xp(l,e,l.children.length===1);else if(l.type===9)for(let u=0;u<l.branches.length;u++)xp(l.branches[u],e,l.branches[u].children.length===1)}if(o&&e.transformHoist&&e.transformHoist(r,e,t),o&&o===i&&t.type===1&&t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&We(t.codegenNode.children)){const s=e.hoist(Td(t.codegenNode.children));e.hmr&&(s.content=`[...${s.content}]`),t.codegenNode.children=s}}function yi(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const r=n.get(t);if(r!==void 0)return r;const i=t.codegenNode;if(i.type!==13||i.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject")return 0;if(PM(i))return n.set(t,0),0;{let l=3;const u=LM(t,e);if(u===0)return n.set(t,0),0;u<l&&(l=u);for(let f=0;f<t.children.length;f++){const d=yi(t.children[f],e);if(d===0)return n.set(t,0),0;d<l&&(l=d)}if(l>1)for(let f=0;f<t.props.length;f++){const d=t.props[f];if(d.type===7&&d.name==="bind"&&d.exp){const m=yi(d.exp,e);if(m===0)return n.set(t,0),0;m<l&&(l=m)}}if(i.isBlock){for(let f=0;f<t.props.length;f++)if(t.props[f].type===7)return n.set(t,0),0;e.removeHelper(hl),e.removeHelper(ju(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(Vu(e.inSSR,i.isComponent))}return n.set(t,l),l}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return yi(t.content,e);case 4:return t.constType;case 8:let s=3;for(let l=0;l<t.children.length;l++){const u=t.children[l];if(xt(u)||Vi(u))continue;const f=yi(u,e);if(f===0)return 0;f<s&&(s=f)}return s;default:return 0}}const U8=new Set([c_,f_,Kf,Cd]);function NM(t,e){if(t.type===14&&!xt(t.callee)&&U8.has(t.callee)){const n=t.arguments[0];if(n.type===4)return yi(n,e);if(n.type===14)return NM(n,e)}return 0}function LM(t,e){let n=3;const r=IM(t);if(r&&r.type===15){const{properties:i}=r;for(let o=0;o<i.length;o++){const{key:s,value:l}=i[o],u=yi(s,e);if(u===0)return u;u<n&&(n=u);let f;if(l.type===4?f=yi(l,e):l.type===14?f=NM(l,e):f=0,f===0)return f;f<n&&(n=f)}}return n}function IM(t){const e=t.codegenNode;if(e.type===13)return e.props}function PM(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function q8(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:r=!1,hmr:i=!1,cacheHandlers:o=!1,nodeTransforms:s=[],directiveTransforms:l={},transformHoist:u=null,isBuiltInComponent:f=An,isCustomElement:d=An,expressionPlugins:m=[],scopeId:v=null,slotted:y=!0,ssr:_=!1,inSSR:C=!1,ssrCssVars:x="",bindingMetadata:k=Ft,inline:A=!1,isTS:L=!1,onError:E=g_,onWarn:H=kM,compatConfig:I}){const q=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),P={filename:e,selfName:q&&El(bn(q[1])),prefixIdentifiers:n,hoistStatic:r,hmr:i,cacheHandlers:o,nodeTransforms:s,directiveTransforms:l,transformHoist:u,isBuiltInComponent:f,isCustomElement:d,expressionPlugins:m,scopeId:v,slotted:y,ssr:_,inSSR:C,ssrCssVars:x,bindingMetadata:k,inline:A,isTS:L,onError:E,onWarn:H,compatConfig:I,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new WeakMap,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(z){const w=P.helpers.get(z)||0;return P.helpers.set(z,w+1),z},removeHelper(z){const w=P.helpers.get(z);if(w){const R=w-1;R?P.helpers.set(z,R):P.helpers.delete(z)}},helperString(z){return`_${Hu[P.helper(z)]}`},replaceNode(z){P.parent.children[P.childIndex]=P.currentNode=z},removeNode(z){const w=P.parent.children,R=z?w.indexOf(z):P.currentNode?P.childIndex:-1;!z||z===P.currentNode?(P.currentNode=null,P.onNodeRemoved()):P.childIndex>R&&(P.childIndex--,P.onNodeRemoved()),P.parent.children.splice(R,1)},onNodeRemoved:An,addIdentifiers(z){},removeIdentifiers(z){},hoist(z){xt(z)&&(z=Et(z)),P.hoists.push(z);const w=Et(`_hoisted_${P.hoists.length}`,!1,z.loc,2);return w.hoisted=z,w},cache(z,w=!1){return _8(P.cached++,z,w)}};return P.filters=new Set,P}function K8(t,e){const n=q8(t,e);wg(t,n),e.hoistStatic&&W8(t,n),e.ssr||G8(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function G8(t,e){const{helper:n}=e,{children:r}=t;if(r.length===1){const i=r[0];if(MM(t,i)&&i.codegenNode){const o=i.codegenNode;o.type===13&&m_(o,e),t.codegenNode=o}else t.codegenNode=i}else if(r.length>1){let i=64;t.codegenNode=Gf(e,n(qf),void 0,t.children,i+"",void 0,void 0,!0,void 0,!1)}}function Y8(t,e){let n=0;const r=()=>{n--};for(;n<t.children.length;n++){const i=t.children[n];xt(i)||(e.parent=t,e.childIndex=n,e.onNodeRemoved=r,wg(i,e))}}function wg(t,e){e.currentNode=t;const{nodeTransforms:n}=e,r=[];for(let o=0;o<n.length;o++){const s=n[o](t,e);if(s&&(We(s)?r.push(...s):r.push(s)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(Sd);break;case 5:e.ssr||e.helper(bg);break;case 9:for(let o=0;o<t.branches.length;o++)wg(t.branches[o],e);break;case 10:case 11:case 1:case 0:Y8(t,e);break}e.currentNode=t;let i=r.length;for(;i--;)r[i]()}function DM(t,e){const n=xt(t)?r=>r===t:r=>t.test(r);return(r,i)=>{if(r.type===1){const{props:o}=r;if(r.tagType===3&&o.some(O8))return;const s=[];for(let l=0;l<o.length;l++){const u=o[l];if(u.type===7&&n(u.name)){o.splice(l,1),l--;const f=e(r,u,i);f&&s.push(f)}}return s}}}const kg="/*#__PURE__*/",RM=t=>`${Hu[t]}: _${Hu[t]}`;function jS(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:o=null,optimizeImports:s=!1,runtimeGlobalName:l="Vue",runtimeModuleName:u="vue",ssrRuntimeModuleName:f="vue/server-renderer",ssr:d=!1,isTS:m=!1,inSSR:v=!1}){const y={mode:e,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:o,optimizeImports:s,runtimeGlobalName:l,runtimeModuleName:u,ssrRuntimeModuleName:f,ssr:d,isTS:m,inSSR:v,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(C){return`_${Hu[C]}`},push(C,x=-2,k){y.code+=C},indent(){_(++y.indentLevel)},deindent(C=!1){C?--y.indentLevel:_(--y.indentLevel)},newline(){_(y.indentLevel)}};function _(C){y.push(`
`+"  ".repeat(C),0)}return y}function J8(t,e={}){const n=jS(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:o,indent:s,deindent:l,newline:u,scopeId:f,ssr:d}=n,m=Array.from(t.helpers),v=m.length>0,y=!o&&r!=="module",_=!1,C=_?jS(t,e):n;X8(t,C);const x=d?"ssrRender":"render",A=(d?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${x}(${A}) {`),s(),y&&(i("with (_ctx) {"),s(),v&&(i(`const { ${m.map(RM).join(", ")} } = _Vue
`,-1),u())),t.components.length&&(yy(t.components,"component",n),(t.directives.length||t.temps>0)&&u()),t.directives.length&&(yy(t.directives,"directive",n),t.temps>0&&u()),t.filters&&t.filters.length&&(u(),yy(t.filters,"filter",n),u()),t.temps>0){i("let ");for(let L=0;L<t.temps;L++)i(`${L>0?", ":""}_temp${L}`)}return(t.components.length||t.directives.length||t.temps)&&(i(`
`,0),u()),d||i("return "),t.codegenNode?gr(t.codegenNode,n):i("null"),y&&(l(),i("}")),l(),i("}"),{ast:t,code:n.code,preamble:_?C.code:"",map:n.map?n.map.toJSON():void 0}}function X8(t,e){const{ssr:n,prefixIdentifiers:r,push:i,newline:o,runtimeModuleName:s,runtimeGlobalName:l,ssrRuntimeModuleName:u}=e,f=l,d=Array.from(t.helpers);if(d.length>0&&(i(`const _Vue = ${f}
`,-1),t.hoists.length)){const m=[t_,n_,Sd,r_,yM].filter(v=>d.includes(v)).map(RM).join(", ");i(`const { ${m} } = _Vue
`,-1)}Z8(t.hoists,e),o(),i("return ")}function yy(t,e,{helper:n,push:r,newline:i,isTS:o}){const s=n(e==="filter"?a_:e==="component"?i_:s_);for(let l=0;l<t.length;l++){let u=t[l];const f=u.endsWith("__self");f&&(u=u.slice(0,-6)),r(`const ${Jf(u,e)} = ${s}(${JSON.stringify(u)}${f?", true":""})${o?"!":""}`),l<t.length-1&&i()}}function Z8(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:r,helper:i,scopeId:o,mode:s}=e;r();for(let l=0;l<t.length;l++){const u=t[l];u&&(n(`const _hoisted_${l+1} = `),gr(u,e),r())}e.pure=!1}function y_(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),Ed(t,e,n),n&&e.deindent(),e.push("]")}function Ed(t,e,n=!1,r=!0){const{push:i,newline:o}=e;for(let s=0;s<t.length;s++){const l=t[s];xt(l)?i(l,-3):We(l)?y_(l,e):gr(l,e),s<t.length-1&&(n?(r&&i(","),o()):r&&i(", "))}}function gr(t,e){if(xt(t)){e.push(t,-3);return}if(Vi(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:gr(t.codegenNode,e);break;case 2:Q8(t,e);break;case 4:zM(t,e);break;case 5:ez(t,e);break;case 12:gr(t.codegenNode,e);break;case 8:BM(t,e);break;case 3:nz(t,e);break;case 13:rz(t,e);break;case 14:oz(t,e);break;case 15:sz(t,e);break;case 17:az(t,e);break;case 18:lz(t,e);break;case 19:uz(t,e);break;case 20:cz(t,e);break;case 21:Ed(t.body,e,!0,!1);break}}function Q8(t,e){e.push(JSON.stringify(t.content),-3,t)}function zM(t,e){const{content:n,isStatic:r}=t;e.push(r?JSON.stringify(n):n,-3,t)}function ez(t,e){const{push:n,helper:r,pure:i}=e;i&&n(kg),n(`${r(bg)}(`),gr(t.content,e),n(")")}function BM(t,e){for(let n=0;n<t.children.length;n++){const r=t.children[n];xt(r)?e.push(r,-3):gr(r,e)}}function tz(t,e){const{push:n}=e;if(t.type===8)n("["),BM(t,e),n("]");else if(t.isStatic){const r=v_(t.content)?t.content:JSON.stringify(t.content);n(r,-2,t)}else n(`[${t.content}]`,-3,t)}function nz(t,e){const{push:n,helper:r,pure:i}=e;i&&n(kg),n(`${r(Sd)}(${JSON.stringify(t.content)})`,-3,t)}function rz(t,e){const{push:n,helper:r,pure:i}=e,{tag:o,props:s,children:l,patchFlag:u,dynamicProps:f,directives:d,isBlock:m,disableTracking:v,isComponent:y}=t;d&&n(r(l_)+"("),m&&n(`(${r(hl)}(${v?"true":""}), `),i&&n(kg);const _=m?ju(e.inSSR,y):Vu(e.inSSR,y);n(r(_)+"(",-2,t),Ed(iz([o,s,l,u,f]),e),n(")"),m&&n(")"),d&&(n(", "),gr(d,e),n(")"))}function iz(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function oz(t,e){const{push:n,helper:r,pure:i}=e,o=xt(t.callee)?t.callee:r(t.callee);i&&n(kg),n(o+"(",-2,t),Ed(t.arguments,e),n(")")}function sz(t,e){const{push:n,indent:r,deindent:i,newline:o}=e,{properties:s}=t;if(!s.length){n("{}",-2,t);return}const l=s.length>1||!1;n(l?"{":"{ "),l&&r();for(let u=0;u<s.length;u++){const{key:f,value:d}=s[u];tz(f,e),n(": "),gr(d,e),u<s.length-1&&(n(","),o())}l&&i(),n(l?"}":" }")}function az(t,e){y_(t.elements,e)}function lz(t,e){const{push:n,indent:r,deindent:i}=e,{params:o,returns:s,body:l,newline:u,isSlot:f}=t;f&&n(`_${Hu[h_]}(`),n("(",-2,t),We(o)?Ed(o,e):o&&gr(o,e),n(") => "),(u||l)&&(n("{"),r()),s?(u&&n("return "),We(s)?y_(s,e):gr(s,e)):l&&gr(l,e),(u||l)&&(i(),n("}")),f&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function uz(t,e){const{test:n,consequent:r,alternate:i,newline:o}=t,{push:s,indent:l,deindent:u,newline:f}=e;if(n.type===4){const m=!v_(n.content);m&&s("("),zM(n,e),m&&s(")")}else s("("),gr(n,e),s(")");o&&l(),e.indentLevel++,o||s(" "),s("? "),gr(r,e),e.indentLevel--,o&&f(),o||s(" "),s(": ");const d=i.type===19;d||e.indentLevel++,gr(i,e),d||e.indentLevel--,o&&u(!0)}function cz(t,e){const{push:n,helper:r,indent:i,deindent:o,newline:s}=e;n(`_cache[${t.index}] || (`),t.isVNode&&(i(),n(`${r(Qp)}(-1),`),s()),n(`_cache[${t.index}] = `),gr(t.value,e),t.isVNode&&(n(","),s(),n(`${r(Qp)}(1),`),s(),n(`_cache[${t.index}]`),o()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const fz=DM(/^(if|else|else-if)$/,(t,e,n)=>dz(t,e,n,(r,i,o)=>{const s=n.parent.children;let l=s.indexOf(r),u=0;for(;l-->=0;){const f=s[l];f&&f.type===9&&(u+=f.branches.length)}return()=>{if(o)r.codegenNode=US(i,u,n);else{const f=hz(r.codegenNode);f.alternate=US(i,u+r.branches.length-1,n)}}}));function dz(t,e,n,r){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:t.loc;n.onError(an(28,e.loc)),e.exp=Et("true",!1,i)}if(e.name==="if"){const i=WS(t,e),o={type:9,loc:t.loc,branches:[i]};if(n.replaceNode(o),r)return r(o,i,!0)}else{const i=n.parent.children;let o=i.indexOf(t);for(;o-->=-1;){const s=i[o];if(s&&s.type===3){n.removeNode(s);continue}if(s&&s.type===2&&!s.content.trim().length){n.removeNode(s);continue}if(s&&s.type===9){e.name==="else-if"&&s.branches[s.branches.length-1].condition===void 0&&n.onError(an(30,t.loc)),n.removeNode();const l=WS(t,e);s.branches.push(l);const u=r&&r(s,l,!1);wg(l,n),u&&u(),n.currentNode=null}else n.onError(an(30,t.loc));break}}}function WS(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!Ni(t,"for")?t.children:[t],userKey:_g(t,"key"),isTemplateIf:n}}function US(t,e,n){return t.condition?J0(t.condition,qS(t,e,n),zn(n.helper(Sd),['""',"true"])):qS(t,e,n)}function qS(t,e,n){const{helper:r}=n,i=yn("key",Et(`${e}`,!1,li,2)),{children:o}=t,s=o[0];if(o.length!==1||s.type!==1)if(o.length===1&&s.type===11){const u=s.codegenNode;return rm(u,i,n),u}else{let u=64;return Gf(n,r(qf),vi([i]),o,u+"",void 0,void 0,!0,!1,!1,t.loc)}else{const u=s.codegenNode,f=N8(u);return f.type===13&&m_(f,n),rm(f,i,n),u}}function hz(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const pz=DM("for",(t,e,n)=>{const{helper:r,removeHelper:i}=n;return mz(t,e,n,o=>{const s=zn(r(u_),[o.source]),l=tm(t),u=Ni(t,"memo"),f=_g(t,"key"),d=f&&(f.type===6?Et(f.value.content,!0):f.exp),m=f?yn("key",d):null,v=o.source.type===4&&o.source.constType>0,y=v?64:f?128:256;return o.codegenNode=Gf(n,r(qf),void 0,s,y+"",void 0,void 0,!0,!v,!1,t.loc),()=>{let _;const{children:C}=o,x=C.length!==1||C[0].type!==1,k=nm(t)?t:l&&t.children.length===1&&nm(t.children[0])?t.children[0]:null;if(k?(_=k.codegenNode,l&&m&&rm(_,m,n)):x?_=Gf(n,r(qf),m?vi([m]):void 0,t.children,"64",void 0,void 0,!0,void 0,!1):(_=C[0].codegenNode,l&&m&&rm(_,m,n),_.isBlock!==!v&&(_.isBlock?(i(hl),i(ju(n.inSSR,_.isComponent))):i(Vu(n.inSSR,_.isComponent))),_.isBlock=!v,_.isBlock?(r(hl),r(ju(n.inSSR,_.isComponent))):r(Vu(n.inSSR,_.isComponent))),u){const A=Fu(Q0(o.parseResult,[Et("_cached")]));A.body=w8([$i(["const _memo = (",u.exp,")"]),$i(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${n.helperString(wM)}(_cached, _memo)) return _cached`]),$i(["const _item = ",_]),Et("_item.memo = _memo"),Et("return _item")]),s.arguments.push(A,Et("_cache"),Et(String(n.cached++)))}else s.arguments.push(Fu(Q0(o.parseResult),_,!0))}})});function mz(t,e,n,r){if(!e.exp){n.onError(an(31,e.loc));return}const i=e.forParseResult;if(!i){n.onError(an(32,e.loc));return}$M(i);const{addIdentifiers:o,removeIdentifiers:s,scopes:l}=n,{source:u,value:f,key:d,index:m}=i,v={type:11,loc:e.loc,source:u,valueAlias:f,keyAlias:d,objectIndexAlias:m,parseResult:i,children:tm(t)?t.children:[t]};n.replaceNode(v),l.vFor++;const y=r&&r(v);return()=>{l.vFor--,y&&y()}}function $M(t,e){t.finalized||(t.finalized=!0)}function Q0({value:t,key:e,index:n},r=[]){return gz([t,e,n,...r])}function gz(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,r)=>n||Et("_".repeat(r+1),!1))}const KS=Et("undefined",!1),vz=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=Ni(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},yz=(t,e,n,r)=>Fu(t,n,!1,!0,n.length?n[0].loc:r);function bz(t,e,n=yz){e.helper(h_);const{children:r,loc:i}=t,o=[],s=[];let l=e.scopes.vSlot>0||e.scopes.vFor>0;const u=Ni(t,"slot",!0);if(u){const{arg:x,exp:k}=u;x&&!Hr(x)&&(l=!0),o.push(yn(x||Et("default",!0),n(k,void 0,r,i)))}let f=!1,d=!1;const m=[],v=new Set;let y=0;for(let x=0;x<r.length;x++){const k=r[x];let A;if(!tm(k)||!(A=Ni(k,"slot",!0))){k.type!==3&&m.push(k);continue}if(u){e.onError(an(37,A.loc));break}f=!0;const{children:L,loc:E}=k,{arg:H=Et("default",!0),exp:I,loc:q}=A;let P;Hr(H)?P=H?H.content:"default":l=!0;const z=Ni(k,"for"),w=n(I,z,L,E);let R,U;if(R=Ni(k,"if"))l=!0,s.push(J0(R.exp,zh(H,w,y++),KS));else if(U=Ni(k,/^else(-if)?$/,!0)){let K=x,oe;for(;K--&&(oe=r[K],oe.type===3););if(oe&&tm(oe)&&Ni(oe,"if")){r.splice(x,1),x--;let D=s[s.length-1];for(;D.alternate.type===19;)D=D.alternate;D.alternate=U.exp?J0(U.exp,zh(H,w,y++),KS):zh(H,w,y++)}else e.onError(an(30,U.loc))}else if(z){l=!0;const K=z.forParseResult;K?($M(K),s.push(zn(e.helper(u_),[K.source,Fu(Q0(K),zh(H,w),!0)]))):e.onError(an(32,z.loc))}else{if(P){if(v.has(P)){e.onError(an(38,q));continue}v.add(P),P==="default"&&(d=!0)}o.push(yn(H,w))}}if(!u){const x=(k,A)=>{const L=n(k,void 0,A,i);return e.compatConfig&&(L.isNonScopedSlot=!0),yn("default",L)};f?m.length&&m.some(k=>HM(k))&&(d?e.onError(an(39,m[0].loc)):o.push(x(void 0,m))):o.push(x(void 0,r))}const _=l?2:Sp(t.children)?3:1;let C=vi(o.concat(yn("_",Et(_+"",!1))),i);return s.length&&(C=zn(e.helper(_M),[C,Td(s)])),{slots:C,hasDynamicSlots:l}}function zh(t,e,n){const r=[yn("name",t),yn("fn",e)];return n!=null&&r.push(yn("key",Et(String(n),!0))),vi(r)}function Sp(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||Sp(n.children))return!0;break;case 9:if(Sp(n.branches))return!0;break;case 10:case 11:if(Sp(n.children))return!0;break}}return!1}function HM(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():HM(t.content)}const FM=new WeakMap,_z=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:r,props:i}=t,o=t.tagType===1;let s=o?wz(t,e):`"${r}"`;const l=qt(s)&&s.callee===o_;let u,f,d,m=0,v,y,_,C=l||s===df||s===e_||!o&&(r==="svg"||r==="foreignObject");if(i.length>0){const x=VM(t,e,void 0,o,l);u=x.props,m=x.patchFlag,y=x.dynamicPropNames;const k=x.directives;_=k&&k.length?Td(k.map(A=>xz(A,e))):void 0,x.shouldUseBlock&&(C=!0)}if(t.children.length>0)if(s===Xp&&(C=!0,m|=1024),o&&s!==df&&s!==Xp){const{slots:k,hasDynamicSlots:A}=bz(t,e);f=k,A&&(m|=1024)}else if(t.children.length===1&&s!==df){const k=t.children[0],A=k.type,L=A===5||A===8;L&&yi(k,e)===0&&(m|=1),L||A===2?f=k:f=t.children}else f=t.children;m!==0&&(d=String(m),y&&y.length&&(v=Sz(y))),t.codegenNode=Gf(e,s,u,f,d,v,_,!!C,!1,o,t.loc)};function wz(t,e,n=!1){let{tag:r}=t;const i=eb(r),o=_g(t,"is");if(o)if(i||tl("COMPILER_IS_ON_ELEMENT",e)){const l=o.type===6?o.value&&Et(o.value.content,!0):o.exp;if(l)return zn(e.helper(o_),[l])}else o.type===6&&o.value.content.startsWith("vue:")&&(r=o.value.content.slice(4));const s=xM(r)||e.isBuiltInComponent(r);return s?(n||e.helper(s),s):(e.helper(i_),e.components.add(r),Jf(r,"component"))}function VM(t,e,n=t.props,r,i,o=!1){const{tag:s,loc:l,children:u}=t;let f=[];const d=[],m=[],v=u.length>0;let y=!1,_=0,C=!1,x=!1,k=!1,A=!1,L=!1,E=!1;const H=[],I=z=>{f.length&&(d.push(vi(GS(f),l)),f=[]),z&&d.push(z)},q=({key:z,value:w})=>{if(Hr(z)){const R=z.content,U=Cl(R);if(U&&(!r||i)&&R.toLowerCase()!=="onclick"&&R!=="onUpdate:modelValue"&&!Ya(R)&&(A=!0),U&&Ya(R)&&(E=!0),U&&w.type===14&&(w=w.arguments[0]),w.type===20||(w.type===4||w.type===8)&&yi(w,e)>0)return;R==="ref"?C=!0:R==="class"?x=!0:R==="style"?k=!0:R!=="key"&&!H.includes(R)&&H.push(R),r&&(R==="class"||R==="style")&&!H.includes(R)&&H.push(R)}else L=!0};for(let z=0;z<n.length;z++){const w=n[z];if(w.type===6){const{loc:R,name:U,nameLoc:K,value:oe}=w;let D=!0;if(U==="ref"&&(C=!0,e.scopes.vFor>0&&f.push(yn(Et("ref_for",!0),Et("true")))),U==="is"&&(eb(s)||oe&&oe.content.startsWith("vue:")||tl("COMPILER_IS_ON_ELEMENT",e)))continue;f.push(yn(Et(U,!0,K),Et(oe?oe.content:"",D,oe?oe.loc:R)))}else{const{name:R,arg:U,exp:K,loc:oe,modifiers:D}=w,ae=R==="bind",ce=R==="on";if(R==="slot"){r||e.onError(an(40,oe));continue}if(R==="once"||R==="memo"||R==="is"||ae&&Va(U,"is")&&(eb(s)||tl("COMPILER_IS_ON_ELEMENT",e))||ce&&o)continue;if((ae&&Va(U,"key")||ce&&v&&Va(U,"vue:before-update"))&&(y=!0),ae&&Va(U,"ref")&&e.scopes.vFor>0&&f.push(yn(Et("ref_for",!0),Et("true"))),!U&&(ae||ce)){if(L=!0,K)if(ae){if(I(),tl("COMPILER_V_BIND_OBJECT_ORDER",e)){d.unshift(K);continue}d.push(K)}else I({type:14,loc:oe,callee:e.helper(d_),arguments:r?[K]:[K,"true"]});else e.onError(an(ae?34:35,oe));continue}ae&&D.includes("prop")&&(_|=32);const ve=e.directiveTransforms[R];if(ve){const{props:ze,needRuntime:qe}=ve(w,t,e);!o&&ze.forEach(q),ce&&U&&!Hr(U)?I(vi(ze,l)):f.push(...ze),qe&&(m.push(w),Vi(qe)&&FM.set(w,qe))}else qP(R)||(m.push(w),v&&(y=!0))}}let P;if(d.length?(I(),d.length>1?P=zn(e.helper(Zp),d,l):P=d[0]):f.length&&(P=vi(GS(f),l)),L?_|=16:(x&&!r&&(_|=2),k&&!r&&(_|=4),H.length&&(_|=8),A&&(_|=32)),!y&&(_===0||_===32)&&(C||E||m.length>0)&&(_|=512),!e.inSSR&&P)switch(P.type){case 15:let z=-1,w=-1,R=!1;for(let oe=0;oe<P.properties.length;oe++){const D=P.properties[oe].key;Hr(D)?D.content==="class"?z=oe:D.content==="style"&&(w=oe):D.isHandlerKey||(R=!0)}const U=P.properties[z],K=P.properties[w];R?P=zn(e.helper(Kf),[P]):(U&&!Hr(U.value)&&(U.value=zn(e.helper(c_),[U.value])),K&&(k||K.value.type===4&&K.value.content.trim()[0]==="["||K.value.type===17)&&(K.value=zn(e.helper(f_),[K.value])));break;case 14:break;default:P=zn(e.helper(Kf),[zn(e.helper(Cd),[P])]);break}return{props:P,directives:m,patchFlag:_,dynamicPropNames:H,shouldUseBlock:y}}function GS(t){const e=new Map,n=[];for(let r=0;r<t.length;r++){const i=t[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const o=i.key.content,s=e.get(o);s?(o==="style"||o==="class"||Cl(o))&&kz(s,i):(e.set(o,i),n.push(i))}return n}function kz(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Td([t.value,e.value],t.loc)}function xz(t,e){const n=[],r=FM.get(t);r?n.push(e.helperString(r)):(e.helper(s_),e.directives.add(t.name),n.push(Jf(t.name,"directive")));const{loc:i}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const o=Et("true",!1,i);n.push(vi(t.modifiers.map(s=>yn(s,o)),i))}return Td(n,t.loc)}function Sz(t){let e="[";for(let n=0,r=t.length;n<r;n++)e+=JSON.stringify(t[n]),n<r-1&&(e+=", ");return e+"]"}function eb(t){return t==="component"||t==="Component"}const Cz=(t,e)=>{if(nm(t)){const{children:n,loc:r}=t,{slotName:i,slotProps:o}=Tz(t,e),s=[e.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let l=2;o&&(s[2]=o,l=3),n.length&&(s[3]=Fu([],n,!1,!1,r),l=4),e.scopeId&&!e.slotted&&(l=5),s.splice(l),t.codegenNode=zn(e.helper(bM),s,r)}};function Tz(t,e){let n='"default"',r;const i=[];for(let o=0;o<t.props.length;o++){const s=t.props[o];s.type===6?s.value&&(s.name==="name"?n=JSON.stringify(s.value.content):(s.name=bn(s.name),i.push(s))):s.name==="bind"&&Va(s.arg,"name")?s.exp&&(n=s.exp):(s.name==="bind"&&s.arg&&Hr(s.arg)&&(s.arg.content=bn(s.arg.content)),i.push(s))}if(i.length>0){const{props:o,directives:s}=VM(t,e,i,!1,!1);r=o,s.length&&e.onError(an(36,s[0].loc))}return{slotName:n,slotProps:r}}const Ez=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,jM=(t,e,n,r)=>{const{loc:i,modifiers:o,arg:s}=t;!t.exp&&!o.length&&n.onError(an(35,i));let l;if(s.type===4)if(s.isStatic){let m=s.content;m.startsWith("vue:")&&(m=`vnode-${m.slice(4)}`);const v=e.tagType!==0||m.startsWith("vnode")||!/[A-Z]/.test(m)?wu(bn(m)):`on:${m}`;l=Et(v,!0,s.loc)}else l=$i([`${n.helperString(Y0)}(`,s,")"]);else l=s,l.children.unshift(`${n.helperString(Y0)}(`),l.children.push(")");let u=t.exp;u&&!u.content.trim()&&(u=void 0);let f=n.cacheHandlers&&!u&&!n.inVOnce;if(u){const m=SM(u.content),v=!(m||Ez.test(u.content)),y=u.content.includes(";");(v||f&&m)&&(u=$i([`${v?"$event":"(...args)"} => ${y?"{":"("}`,u,y?"}":")"]))}let d={props:[yn(l,u||Et("() => {}",!1,i))]};return r&&(d=r(d)),f&&(d.props[0].value=n.cache(d.props[0].value)),d.props.forEach(m=>m.key.isHandlerKey=!0),d},Az=(t,e,n)=>{const{modifiers:r,loc:i}=t,o=t.arg;let{exp:s}=t;if(!s&&o.type===4){const l=bn(o.content);s=t.exp=Et(l,!1,o.loc)}return o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),r.includes("camel")&&(o.type===4?o.isStatic?o.content=bn(o.content):o.content=`${n.helperString(G0)}(${o.content})`:(o.children.unshift(`${n.helperString(G0)}(`),o.children.push(")"))),n.inSSR||(r.includes("prop")&&YS(o,"."),r.includes("attr")&&YS(o,"^")),!s||s.type===4&&!s.content.trim()?(n.onError(an(34,i)),{props:[yn(o,Et("",!0,i))]}):{props:[yn(o,s)]}},YS=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Oz=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let r,i=!1;for(let o=0;o<n.length;o++){const s=n[o];if(vy(s)){i=!0;for(let l=o+1;l<n.length;l++){const u=n[l];if(vy(u))r||(r=n[o]=$i([s],s.loc)),r.children.push(" + ",u),n.splice(l,1),l--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(o=>o.type===7&&!e.directiveTransforms[o.name])&&t.tag!=="template")))for(let o=0;o<n.length;o++){const s=n[o];if(vy(s)||s.type===8){const l=[];(s.type!==2||s.content!==" ")&&l.push(s),!e.ssr&&yi(s,e)===0&&l.push("1"),n[o]={type:12,content:s,loc:s.loc,codegenNode:zn(e.helper(r_),l)}}}}},JS=new WeakSet,Mz=(t,e)=>{if(t.type===1&&Ni(t,"once",!0))return JS.has(t)||e.inVOnce||e.inSSR?void 0:(JS.add(t),e.inVOnce=!0,e.helper(Qp),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0))})},WM=(t,e,n)=>{const{exp:r,arg:i}=t;if(!r)return n.onError(an(41,t.loc)),Bh();const o=r.loc.source,s=r.type===4?r.content:o,l=n.bindingMetadata[o];if(l==="props"||l==="props-aliased")return n.onError(an(44,r.loc)),Bh();const u=!1;if(!s.trim()||!SM(s)&&!u)return n.onError(an(42,r.loc)),Bh();const f=i||Et("modelValue",!0),d=i?Hr(i)?`onUpdate:${bn(i.content)}`:$i(['"onUpdate:" + ',i]):"onUpdate:modelValue";let m;const v=n.isTS?"($event: any)":"$event";m=$i([`${v} => ((`,r,") = $event)"]);const y=[yn(f,t.exp),yn(d,m)];if(t.modifiers.length&&e.tagType===1){const _=t.modifiers.map(x=>(v_(x)?x:JSON.stringify(x))+": true").join(", "),C=i?Hr(i)?`${i.content}Modifiers`:$i([i,' + "Modifiers"']):"modelModifiers";y.push(yn(C,Et(`{ ${_} }`,!1,t.loc,2)))}return Bh(y)};function Bh(t=[]){return{props:t}}const Nz=/[\w).+\-_$\]]/,Lz=(t,e)=>{tl("COMPILER_FILTERS",e)&&(t.type===5&&om(t.content,e),t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&om(n.exp,e)}))};function om(t,e){if(t.type===4)XS(t,e);else for(let n=0;n<t.children.length;n++){const r=t.children[n];typeof r=="object"&&(r.type===4?XS(r,e):r.type===8?om(t,e):r.type===5&&om(r.content,e))}}function XS(t,e){const n=t.content;let r=!1,i=!1,o=!1,s=!1,l=0,u=0,f=0,d=0,m,v,y,_,C=[];for(y=0;y<n.length;y++)if(v=m,m=n.charCodeAt(y),r)m===39&&v!==92&&(r=!1);else if(i)m===34&&v!==92&&(i=!1);else if(o)m===96&&v!==92&&(o=!1);else if(s)m===47&&v!==92&&(s=!1);else if(m===124&&n.charCodeAt(y+1)!==124&&n.charCodeAt(y-1)!==124&&!l&&!u&&!f)_===void 0?(d=y+1,_=n.slice(0,y).trim()):x();else{switch(m){case 34:i=!0;break;case 39:r=!0;break;case 96:o=!0;break;case 40:f++;break;case 41:f--;break;case 91:u++;break;case 93:u--;break;case 123:l++;break;case 125:l--;break}if(m===47){let k=y-1,A;for(;k>=0&&(A=n.charAt(k),A===" ");k--);(!A||!Nz.test(A))&&(s=!0)}}_===void 0?_=n.slice(0,y).trim():d!==0&&x();function x(){C.push(n.slice(d,y).trim()),d=y+1}if(C.length){for(y=0;y<C.length;y++)_=Iz(_,C[y],e);t.content=_}}function Iz(t,e,n){n.helper(a_);const r=e.indexOf("(");if(r<0)return n.filters.add(e),`${Jf(e,"filter")}(${t})`;{const i=e.slice(0,r),o=e.slice(r+1);return n.filters.add(i),`${Jf(i,"filter")}(${t}${o!==")"?","+o:o}`}}const ZS=new WeakSet,Pz=(t,e)=>{if(t.type===1){const n=Ni(t,"memo");return!n||ZS.has(t)?void 0:(ZS.add(t),()=>{const r=t.codegenNode||e.currentNode.codegenNode;r&&r.type===13&&(t.tagType!==1&&m_(r,e),t.codegenNode=zn(e.helper(p_),[n.exp,Fu(void 0,r),"_cache",String(e.cached++)]))})}};function Dz(t){return[[Mz,fz,Pz,pz,Lz,Cz,_z,vz,Oz],{on:jM,bind:Az,model:WM}]}function Rz(t,e={}){const n=e.onError||g_,r=e.mode==="module";e.prefixIdentifiers===!0?n(an(47)):r&&n(an(48));const i=!1;e.cacheHandlers&&n(an(49)),e.scopeId&&!r&&n(an(50));const o=Rt({},e,{prefixIdentifiers:i}),s=xt(t)?j8(t,o):t,[l,u]=Dz();return K8(s,Rt({},o,{nodeTransforms:[...l,...e.nodeTransforms||[]],directiveTransforms:Rt({},u,e.directiveTransforms||{})})),J8(s,o)}const zz=()=>({props:[]});/**
* @vue/compiler-dom v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const UM=Symbol(""),qM=Symbol(""),KM=Symbol(""),GM=Symbol(""),tb=Symbol(""),YM=Symbol(""),JM=Symbol(""),XM=Symbol(""),ZM=Symbol(""),QM=Symbol("");y8({[UM]:"vModelRadio",[qM]:"vModelCheckbox",[KM]:"vModelText",[GM]:"vModelSelect",[tb]:"vModelDynamic",[YM]:"withModifiers",[JM]:"withKeys",[XM]:"vShow",[ZM]:"Transition",[QM]:"TransitionGroup"});let nu;function Bz(t,e=!1){return nu||(nu=document.createElement("div")),e?(nu.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,nu.children[0].getAttribute("foo")):(nu.innerHTML=t,nu.textContent)}const $z={parseMode:"html",isVoidTag:aD,isNativeTag:t=>iD(t)||oD(t)||sD(t),isPreTag:t=>t==="pre",decodeEntities:Bz,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return ZM;if(t==="TransitionGroup"||t==="transition-group")return QM},getNamespace(t,e,n){let r=e?e.ns:n;if(e&&r===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(r=0);else e&&r===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(r=0);if(r===0){if(t==="svg")return 1;if(t==="math")return 2}return r}},Hz=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:Et("style",!0,e.loc),exp:Fz(e.value.content,e.loc),modifiers:[],loc:e.loc})})},Fz=(t,e)=>{const n=EA(t);return Et(JSON.stringify(n),!1,e,3)};function Ys(t,e){return an(t,e)}const Vz=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Ys(53,i)),e.children.length&&(n.onError(Ys(54,i)),e.children.length=0),{props:[yn(Et("innerHTML",!0,i),r||Et("",!0))]}},jz=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Ys(55,i)),e.children.length&&(n.onError(Ys(56,i)),e.children.length=0),{props:[yn(Et("textContent",!0),r?yi(r,n)>0?r:zn(n.helperString(bg),[r],i):Et("",!0))]}},Wz=(t,e,n)=>{const r=WM(t,e,n);if(!r.props.length||e.tagType===1)return r;t.arg&&n.onError(Ys(58,t.arg.loc));const{tag:i}=e,o=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||o){let s=KM,l=!1;if(i==="input"||o){const u=_g(e,"type");if(u){if(u.type===7)s=tb;else if(u.value)switch(u.value.content){case"radio":s=UM;break;case"checkbox":s=qM;break;case"file":l=!0,n.onError(Ys(59,t.loc));break}}else A8(e)&&(s=tb)}else i==="select"&&(s=GM);l||(r.needRuntime=n.helper(s))}else n.onError(Ys(57,t.loc));return r.props=r.props.filter(s=>!(s.key.type===4&&s.key.content==="modelValue")),r},Uz=ai("passive,once,capture"),qz=ai("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Kz=ai("left,right"),e3=ai("onkeyup,onkeydown,onkeypress",!0),Gz=(t,e,n,r)=>{const i=[],o=[],s=[];for(let l=0;l<e.length;l++){const u=e[l];u==="native"&&Yf("COMPILER_V_ON_NATIVE",n)||Uz(u)?s.push(u):Kz(u)?Hr(t)?e3(t.content)?i.push(u):o.push(u):(i.push(u),o.push(u)):qz(u)?o.push(u):i.push(u)}return{keyModifiers:i,nonKeyModifiers:o,eventOptionModifiers:s}},QS=(t,e)=>Hr(t)&&t.content.toLowerCase()==="onclick"?Et(e,!0):t.type!==4?$i(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,Yz=(t,e,n)=>jM(t,e,n,r=>{const{modifiers:i}=t;if(!i.length)return r;let{key:o,value:s}=r.props[0];const{keyModifiers:l,nonKeyModifiers:u,eventOptionModifiers:f}=Gz(o,i,n,t.loc);if(u.includes("right")&&(o=QS(o,"onContextmenu")),u.includes("middle")&&(o=QS(o,"onMouseup")),u.length&&(s=zn(n.helper(YM),[s,JSON.stringify(u)])),l.length&&(!Hr(o)||e3(o.content))&&(s=zn(n.helper(JM),[s,JSON.stringify(l)])),f.length){const d=f.map(El).join("");o=Hr(o)?Et(`${o.content}${d}`,!0):$i(["(",o,`) + "${d}"`])}return{props:[yn(o,s)]}}),Jz=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Ys(61,i)),{props:[],needRuntime:n.helper(XM)}},Xz=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},Zz=[Hz],Qz={cloak:zz,html:Vz,text:jz,model:Wz,on:Yz,show:Jz};function e7(t,e={}){return Rz(t,Rt({},$z,e,{nodeTransforms:[Xz,...Zz,...e.nodeTransforms||[]],directiveTransforms:Rt({},Qz,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.4.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const e2=new WeakMap;function t7(t){let e=e2.get(t??Ft);return e||(e=Object.create(null),e2.set(t??Ft,e)),e}function Zf(t,e){if(!xt(t))if(t.nodeType)t=t.innerHTML;else return An;const n=t,r=t7(e),i=r[n];if(i)return i;if(t[0]==="#"){const u=document.querySelector(t);t=u?u.innerHTML:""}const o=Rt({hoistStatic:!0,onError:void 0,onWarn:An},e);!o.isCustomElement&&typeof customElements<"u"&&(o.isCustomElement=u=>!!customElements.get(u));const{code:s}=e7(t,o),l=new Function("Vue",s)(d8);return l._rc=!0,r[n]=l}UO(Zf);function n7(t){return t=t||Object.create(null),{on:function(n,r){(t[n]||(t[n]=[])).push(r)},off:function(n,r){t[n]&&t[n].splice(t[n].indexOf(r)>>>0,1)},emit:function(n,r){(t[n]||[]).slice().map(function(i){i(r)}),(t["*"]||[]).slice().map(function(i){i(n,r)})}}}function ns(t){return t.split("-")[0]}function Eu(t){return t.split("-")[1]}function Ad(t){return["top","bottom"].includes(ns(t))?"x":"y"}function b_(t){return t==="y"?"height":"width"}function t2(t){let{reference:e,floating:n,placement:r}=t;const i=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2;let s;switch(ns(r)){case"top":s={x:i,y:e.y-n.height};break;case"bottom":s={x:i,y:e.y+e.height};break;case"right":s={x:e.x+e.width,y:o};break;case"left":s={x:e.x-n.width,y:o};break;default:s={x:e.x,y:e.y}}const l=Ad(r),u=b_(l);switch(Eu(r)){case"start":s[l]=s[l]-(e[u]/2-n[u]/2);break;case"end":s[l]=s[l]+(e[u]/2-n[u]/2);break}return s}const r7=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n;let l=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=t2({...l,placement:r}),d=r,m={};for(let v=0;v<o.length;v++){const{name:y,fn:_}=o[v],{x:C,y:x,data:k,reset:A}=await _({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:m,rects:l,platform:s,elements:{reference:t,floating:e}});if(u=C??u,f=x??f,m={...m,[y]:k??{}},A){typeof A=="object"&&(A.placement&&(d=A.placement),A.rects&&(l=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:u,y:f}=t2({...l,placement:d})),v=-1;continue}}return{x:u,y:f,placement:d,strategy:i,middlewareData:m}};function i7(t){return{top:0,right:0,bottom:0,left:0,...t}}function t3(t){return typeof t!="number"?i7(t):{top:t,right:t,bottom:t,left:t}}function nb(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function xg(t,e){e===void 0&&(e={});const{x:n,y:r,platform:i,rects:o,elements:s,strategy:l}=t,{boundary:u="clippingParents",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:v=0}=e,y=t3(v),C=s[m?d==="floating"?"reference":"floating":d],x=await i.getClippingClientRect({element:await i.isElement(C)?C:C.contextElement||await i.getDocumentElement({element:s.floating}),boundary:u,rootBoundary:f}),k=nb(await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:d==="floating"?{...o.floating,x:n,y:r}:o.reference,offsetParent:await i.getOffsetParent({element:s.floating}),strategy:l}));return{top:x.top-k.top+y.top,bottom:k.bottom-x.bottom+y.bottom,left:x.left-k.left+y.left,right:k.right-x.right+y.right}}const o7=Math.min,Ia=Math.max;function rb(t,e,n){return Ia(t,o7(e,n))}const s7=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=t??{},{x:i,y:o,placement:s,rects:l,platform:u}=e;if(n==null)return{};const f=t3(r),d={x:i,y:o},m=ns(s),v=Ad(m),y=b_(v),_=await u.getDimensions({element:n}),C=v==="y"?"top":"left",x=v==="y"?"bottom":"right",k=l.reference[y]+l.reference[v]-d[v]-l.floating[y],A=d[v]-l.reference[v],L=await u.getOffsetParent({element:n}),E=L?v==="y"?L.clientHeight||0:L.clientWidth||0:0,H=k/2-A/2,I=f[C],q=E-_[y]-f[x],P=E/2-_[y]/2+H,z=rb(I,P,q);return{data:{[v]:z,centerOffset:P-z}}}}),a7={left:"right",right:"left",bottom:"top",top:"bottom"};function sm(t){return t.replace(/left|right|bottom|top/g,e=>a7[e])}function n3(t,e){const n=Eu(t)==="start",r=Ad(t),i=b_(r);let o=r==="x"?n?"right":"left":n?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=sm(o)),{main:o,cross:sm(o)}}const l7={start:"end",end:"start"};function ib(t){return t.replace(/start|end/g,e=>l7[e])}const u7=["top","right","bottom","left"],c7=u7.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function f7(t,e,n){return(t?[...n.filter(i=>Eu(i)===t),...n.filter(i=>Eu(i)!==t)]:n.filter(i=>ns(i)===i)).filter(i=>t?Eu(i)===t||(e?ib(i)!==i:!1):!0)}const d7=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,i,o,s,l;const{x:u,y:f,rects:d,middlewareData:m,placement:v}=e,{alignment:y=null,allowedPlacements:_=c7,autoAlignment:C=!0,...x}=t;if((n=m.autoPlacement)!=null&&n.skip)return{};const k=f7(y,C,_),A=await xg(e,x),L=(r=(i=m.autoPlacement)==null?void 0:i.index)!=null?r:0,E=k[L],{main:H,cross:I}=n3(E,d);if(v!==E)return{x:u,y:f,reset:{placement:k[0]}};const q=[A[ns(E)],A[H],A[I]],P=[...(o=(s=m.autoPlacement)==null?void 0:s.overflows)!=null?o:[],{placement:E,overflows:q}],z=k[L+1];if(z)return{data:{index:L+1,overflows:P},reset:{placement:z}};const w=P.slice().sort((U,K)=>U.overflows[0]-K.overflows[0]),R=(l=w.find(U=>{let{overflows:K}=U;return K.every(oe=>oe<=0)}))==null?void 0:l.placement;return{data:{skip:!0},reset:{placement:R??w[0].placement}}}}};function h7(t){const e=sm(t);return[ib(t),e,ib(e)]}const p7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:l}=e;if((n=o.flip)!=null&&n.skip)return{};const{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",flipAlignment:v=!0,...y}=t,_=ns(i),x=d||(_===l||!v?[sm(l)]:h7(l)),k=[l,...x],A=await xg(e,y),L=[];let E=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&L.push(A[_]),f){const{main:P,cross:z}=n3(i,s);L.push(A[P],A[z])}if(E=[...E,{placement:i,overflows:L}],!L.every(P=>P<=0)){var H,I;const P=((H=(I=o.flip)==null?void 0:I.index)!=null?H:0)+1,z=k[P];if(z)return{data:{index:P,overflows:E},reset:{placement:z}};let w="bottom";switch(m){case"bestFit":{var q;const R=(q=E.slice().sort((U,K)=>U.overflows.filter(oe=>oe>0).reduce((oe,D)=>oe+D,0)-K.overflows.filter(oe=>oe>0).reduce((oe,D)=>oe+D,0))[0])==null?void 0:q.placement;R&&(w=R);break}case"initialPlacement":w=l;break}return{data:{skip:!0},reset:{placement:w}}}return{}}}};function m7(t){let{placement:e,rects:n,value:r}=t;const i=ns(e),o=["left","top"].includes(i)?-1:1,s=typeof r=="function"?r({...n,placement:e}):r,{mainAxis:l,crossAxis:u}=typeof s=="number"?{mainAxis:s,crossAxis:0}:{mainAxis:0,crossAxis:0,...s};return Ad(i)==="x"?{x:u,y:l*o}:{x:l*o,y:u}}const g7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,fn(e){const{x:n,y:r,placement:i,rects:o}=e,s=m7({placement:i,rects:o,value:t});return{x:n+s.x,y:r+s.y,data:s}}}};function v7(t){return t==="x"?"y":"x"}const y7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:x=>{let{x:k,y:A}=x;return{x:k,y:A}}},...u}=t,f={x:n,y:r},d=await xg(e,u),m=Ad(ns(i)),v=v7(m);let y=f[m],_=f[v];if(o){const x=m==="y"?"top":"left",k=m==="y"?"bottom":"right",A=y+d[x],L=y-d[k];y=rb(A,y,L)}if(s){const x=v==="y"?"top":"left",k=v==="y"?"bottom":"right",A=_+d[x],L=_-d[k];_=rb(A,_,L)}const C=l.fn({...e,[m]:y,[v]:_});return{...C,data:{x:C.x-n,y:C.y-r}}}}},b7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n;const{placement:r,rects:i,middlewareData:o}=e,{apply:s,...l}=t;if((n=o.size)!=null&&n.skip)return{};const u=await xg(e,l),f=ns(r),d=Eu(r)==="end";let m,v;f==="top"||f==="bottom"?(m=f,v=d?"left":"right"):(v=f,m=d?"top":"bottom");const y=Ia(u.left,0),_=Ia(u.right,0),C=Ia(u.top,0),x=Ia(u.bottom,0),k={height:i.floating.height-(["left","right"].includes(r)?2*(C!==0||x!==0?C+x:Ia(u.top,u.bottom)):u[m]),width:i.floating.width-(["top","bottom"].includes(r)?2*(y!==0||_!==0?y+_:Ia(u.left,u.right)):u[v])};return s==null||s({...k,...i}),{data:{skip:!0},reset:{rects:!0}}}}};function __(t){return(t==null?void 0:t.toString())==="[object Window]"}function da(t){if(t==null)return window;if(!__(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function Sg(t){return da(t).getComputedStyle(t)}function Ko(t){return __(t)?"":t?(t.nodeName||"").toLowerCase():""}function Go(t){return t instanceof da(t).HTMLElement}function am(t){return t instanceof da(t).Element}function _7(t){return t instanceof da(t).Node}function r3(t){const e=da(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Cg(t){const{overflow:e,overflowX:n,overflowY:r}=Sg(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function w7(t){return["table","td","th"].includes(Ko(t))}function i3(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),n=Sg(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)}const n2=Math.min,hf=Math.max,lm=Math.round;function Wu(t,e){e===void 0&&(e=!1);const n=t.getBoundingClientRect();let r=1,i=1;return e&&Go(t)&&(r=t.offsetWidth>0&&lm(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&lm(n.height)/t.offsetHeight||1),{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function ha(t){return((_7(t)?t.ownerDocument:t.document)||window.document).documentElement}function Tg(t){return __(t)?{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}:{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function o3(t){return Wu(ha(t)).left+Tg(t).scrollLeft}function k7(t){const e=Wu(t);return lm(e.width)!==t.offsetWidth||lm(e.height)!==t.offsetHeight}function x7(t,e,n){const r=Go(e),i=ha(e),o=Wu(t,r&&k7(e));let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&n!=="fixed")if((Ko(e)!=="body"||Cg(i))&&(s=Tg(e)),Go(e)){const u=Wu(e,!0);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else i&&(l.x=o3(i));return{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function Eg(t){return Ko(t)==="html"?t:t.assignedSlot||t.parentNode||(r3(t)?t.host:null)||ha(t)}function r2(t){return!Go(t)||getComputedStyle(t).position==="fixed"?null:t.offsetParent}function S7(t){let e=Eg(t);for(;Go(e)&&!["html","body"].includes(Ko(e));){if(i3(e))return e;e=e.parentNode}return null}function ob(t){const e=da(t);let n=r2(t);for(;n&&w7(n)&&getComputedStyle(n).position==="static";)n=r2(n);return n&&(Ko(n)==="html"||Ko(n)==="body"&&getComputedStyle(n).position==="static"&&!i3(n))?e:n||S7(t)||e}function i2(t){return{width:t.offsetWidth,height:t.offsetHeight}}function C7(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Go(n),o=ha(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if((i||!i&&r!=="fixed")&&((Ko(n)!=="body"||Cg(o))&&(s=Tg(n)),Go(n))){const u=Wu(n,!0);l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+l.x,y:e.y-s.scrollTop+l.y}}function T7(t){const e=da(t),n=ha(t),r=e.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;return r&&(i=r.width,o=r.height,Math.abs(e.innerWidth/r.scale-r.width)<.01&&(s=r.offsetLeft,l=r.offsetTop)),{width:i,height:o,x:s,y:l}}function E7(t){var e;const n=ha(t),r=Tg(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=hf(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=hf(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let l=-r.scrollLeft+o3(t);const u=-r.scrollTop;return Sg(i||n).direction==="rtl"&&(l+=hf(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function s3(t){return["html","body","#document"].includes(Ko(t))?t.ownerDocument.body:Go(t)&&Cg(t)?t:s3(Eg(t))}function um(t,e){var n;e===void 0&&(e=[]);const r=s3(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=da(r),s=i?[o].concat(o.visualViewport||[],Cg(r)?r:[]):r,l=e.concat(s);return i?l:l.concat(um(Eg(s)))}function A7(t,e){const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&r3(n)){let r=e;do{if(r&&t===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function O7(t){const e=Wu(t),n=e.top+t.clientTop,r=e.left+t.clientLeft;return{top:n,left:r,x:r,y:n,right:r+t.clientWidth,bottom:n+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function o2(t,e){return e==="viewport"?nb(T7(t)):am(e)?O7(e):nb(E7(ha(t)))}function M7(t){const e=um(Eg(t)),r=["absolute","fixed"].includes(Sg(t).position)&&Go(t)?ob(t):t;return am(r)?e.filter(i=>am(i)&&A7(i,r)&&Ko(i)!=="body"):[]}function N7(t){let{element:e,boundary:n,rootBoundary:r}=t;const o=[...n==="clippingParents"?M7(e):[].concat(n),r],s=o[0],l=o.reduce((u,f)=>{const d=o2(e,f);return u.top=hf(d.top,u.top),u.right=n2(d.right,u.right),u.bottom=n2(d.bottom,u.bottom),u.left=hf(d.left,u.left),u},o2(e,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}const L7={getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:x7(e,ob(n),r),floating:{...i2(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:t=>C7(t),getOffsetParent:t=>{let{element:e}=t;return ob(e)},isElement:t=>am(t),getDocumentElement:t=>{let{element:e}=t;return ha(e)},getClippingClientRect:t=>N7(t),getDimensions:t=>{let{element:e}=t;return i2(e)},getClientRects:t=>{let{element:e}=t;return e.getClientRects()}},I7=(t,e,n)=>r7(t,e,{platform:L7,...n});var P7=Object.defineProperty,D7=Object.defineProperties,R7=Object.getOwnPropertyDescriptors,s2=Object.getOwnPropertySymbols,z7=Object.prototype.hasOwnProperty,B7=Object.prototype.propertyIsEnumerable,a2=(t,e,n)=>e in t?P7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$o=(t,e)=>{for(var n in e||(e={}))z7.call(e,n)&&a2(t,n,e[n]);if(s2)for(var n of s2(e))B7.call(e,n)&&a2(t,n,e[n]);return t},Od=(t,e)=>D7(t,R7(e));function a3(t,e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(typeof e[n]=="object"&&t[n]?a3(t[n],e[n]):t[n]=e[n])}const jo={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:t=>[...t,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function Uu(t,e){let n=jo.themes[t]||{},r;do r=n[e],typeof r>"u"?n.$extend?n=jo.themes[n.$extend]||{}:(n=null,r=jo[e]):n=null;while(n);return r}function $7(t){const e=[t];let n=jo.themes[t]||{};do n.$extend&&!n.$resetCss?(e.push(n.$extend),n=jo.themes[n.$extend]||{}):n=null;while(n);return e.map(r=>`v-popper--theme-${r}`)}function l2(t){const e=[t];let n=jo.themes[t]||{};do n.$extend?(e.push(n.$extend),n=jo.themes[n.$extend]||{}):n=null;while(n);return e}let pl=!1;if(typeof window<"u"){pl=!1;try{const t=Object.defineProperty({},"passive",{get(){pl=!0}});window.addEventListener("test",null,t)}catch{}}let l3=!1;typeof window<"u"&&typeof navigator<"u"&&(l3=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const u3=["auto","top","bottom","left","right"].reduce((t,e)=>t.concat([e,`${e}-start`,`${e}-end`]),[]),u2={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart"},c2={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend"};function f2(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1)}function by(){return new Promise(t=>requestAnimationFrame(()=>{requestAnimationFrame(t)}))}const Pi=[];let Ma=null;const d2={};function h2(t){let e=d2[t];return e||(e=d2[t]=[]),e}let sb=function(){};typeof window<"u"&&(sb=window.Element);function Pt(t){return function(e){return Uu(e.theme,t)}}const _y="__floating-vue__popper";var c3=()=>Vn({name:"VPopper",provide(){return{[_y]:{parentPopper:this}}},inject:{[_y]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:Pt("disabled")},positioningDisabled:{type:Boolean,default:Pt("positioningDisabled")},placement:{type:String,default:Pt("placement"),validator:t=>u3.includes(t)},delay:{type:[String,Number,Object],default:Pt("delay")},distance:{type:[Number,String],default:Pt("distance")},skidding:{type:[Number,String],default:Pt("skidding")},triggers:{type:Array,default:Pt("triggers")},showTriggers:{type:[Array,Function],default:Pt("showTriggers")},hideTriggers:{type:[Array,Function],default:Pt("hideTriggers")},popperTriggers:{type:Array,default:Pt("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:Pt("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:Pt("popperHideTriggers")},container:{type:[String,Object,sb,Boolean],default:Pt("container")},boundary:{type:[String,sb],default:Pt("boundary")},strategy:{type:String,validator:t=>["absolute","fixed"].includes(t),default:Pt("strategy")},autoHide:{type:[Boolean,Function],default:Pt("autoHide")},handleResize:{type:Boolean,default:Pt("handleResize")},instantMove:{type:Boolean,default:Pt("instantMove")},eagerMount:{type:Boolean,default:Pt("eagerMount")},popperClass:{type:[String,Array,Object],default:Pt("popperClass")},computeTransformOrigin:{type:Boolean,default:Pt("computeTransformOrigin")},autoMinSize:{type:Boolean,default:Pt("autoMinSize")},autoSize:{type:[Boolean,String],default:Pt("autoSize")},autoMaxSize:{type:Boolean,default:Pt("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:Pt("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:Pt("preventOverflow")},overflowPadding:{type:[Number,String],default:Pt("overflowPadding")},arrowPadding:{type:[Number,String],default:Pt("arrowPadding")},arrowOverflow:{type:Boolean,default:Pt("arrowOverflow")},flip:{type:Boolean,default:Pt("flip")},shift:{type:Boolean,default:Pt("shift")},shiftCrossAxis:{type:Boolean,default:Pt("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:Pt("noAutoFocus")}},emits:["show","hide","update:shown","apply-show","apply-hide","close-group","close-directive","auto-hide","resize","dispose"],data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:Od($o({},this.classes),{popperClass:this.popperClass}),result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var t;return(t=this[_y])==null?void 0:t.parentPopper},hasPopperShowTriggerHover(){var t,e;return((t=this.popperTriggers)==null?void 0:t.includes("hover"))||((e=this.popperShowTriggers)==null?void 0:e.includes("hover"))}},watch:$o($o({shown:"$_autoShowHide",disabled(t){t?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())}},["triggers","positioningDisabled"].reduce((t,e)=>(t[e]="$_refreshListeners",t),{})),["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((t,e)=>(t[e]="$_computePosition",t),{})),created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(t=>t.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:t=null,skipDelay:e=!1,force:n=!1}={}){var r,i;(r=this.parentPopper)!=null&&r.lockedChild&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(n||!this.disabled)&&(((i=this.parentPopper)==null?void 0:i.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(t,e),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:t=null,skipDelay:e=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:e}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(t,e),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var t,e;this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=(e=(t=this.referenceNode)==null?void 0:t.call(this))!=null?e:this.$el,this.$_targetNodes=this.targetNodes().filter(n=>n.nodeType===n.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){var t;if(this.$_isDisposed||this.positioningDisabled)return;const e={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&e.middleware.push(g7({mainAxis:this.distance,crossAxis:this.skidding}));const n=this.placement.startsWith("auto");if(n?e.middleware.push(d7({alignment:(t=this.placement.split("-")[1])!=null?t:""})):e.placement=this.placement,this.preventOverflow&&(this.shift&&e.middleware.push(y7({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!n&&this.flip&&e.middleware.push(p7({padding:this.overflowPadding,boundary:this.boundary}))),e.middleware.push(s7({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&e.middleware.push({name:"arrowOverflow",fn:({placement:i,rects:o,middlewareData:s})=>{let l;const{centerOffset:u}=s.arrow;return i.startsWith("top")||i.startsWith("bottom")?l=Math.abs(u)>o.reference.width/2:l=Math.abs(u)>o.reference.height/2,{data:{overflow:l}}}}),this.autoMinSize||this.autoSize){const i=this.autoSize?this.autoSize:this.autoMinSize?"min":null;e.middleware.push({name:"autoSize",fn:({rects:o,placement:s,middlewareData:l})=>{var u;if((u=l.autoSize)!=null&&u.skip)return{};let f,d;return s.startsWith("top")||s.startsWith("bottom")?f=o.reference.width:d=o.reference.height,this.$_innerNode.style[i==="min"?"minWidth":i==="max"?"maxWidth":"width"]=f!=null?`${f}px`:null,this.$_innerNode.style[i==="min"?"minHeight":i==="max"?"maxHeight":"height"]=d!=null?`${d}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,e.middleware.push(b7({boundary:this.boundary,padding:this.overflowPadding,apply:({width:i,height:o})=>{this.$_innerNode.style.maxWidth=i!=null?`${i}px`:null,this.$_innerNode.style.maxHeight=o!=null?`${o}px`:null}})));const r=await I7(this.$_referenceNode,this.$_popperNode,e);Object.assign(this.result,{x:r.x,y:r.y,placement:r.placement,strategy:r.strategy,arrow:$o($o({},r.middlewareData.arrow),r.middlewareData.arrowOverflow)})},$_scheduleShow(t=null,e=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),Ma&&this.instantMove&&Ma.instantMove&&Ma!==this.parentPopper){Ma.$_applyHide(!0),this.$_applyShow(!0);return}e?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(t=null,e=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(Ma=this),e?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(t){const e=this.delay;return parseInt(e&&e[t]||e||0)},async $_applyShow(t=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=t,!this.isShown&&(this.$_ensureTeleport(),await by(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...um(this.$_referenceNode),...um(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const e=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),r=n.parentNode.getBoundingClientRect(),i=e.x+e.width/2-(r.left+n.offsetLeft),o=e.y+e.height/2-(r.top+n.offsetTop);this.result.transformOrigin=`${i}px ${o}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const t=this.showGroup;if(t){let e;for(let n=0;n<Pi.length;n++)e=Pi[n],e.showGroup!==t&&(e.hide(),e.$emit("close-group"))}Pi.push(this),document.body.classList.add("v-popper--some-open");for(const e of l2(this.theme))h2(e).push(this),document.body.classList.add(`v-popper--some-open--${e}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await by(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(t=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=t,f2(Pi,this),Pi.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of l2(this.theme)){const r=h2(n);f2(r,this),r.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}Ma===this&&(Ma=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const e=Uu(this.theme,"disposeTimeout");e!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},e)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await by(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let t=this.container;if(typeof t=="string"?t=window.document.querySelector(t):t===!1&&(t=this.$_targetNodes[0].parentNode),!t)throw new Error("No container for popover: "+this.container);t.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const t=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,u2,this.triggers,this.showTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],u2,this.popperTriggers,this.popperShowTriggers,t);const e=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,c2,this.triggers,this.hideTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],c2,this.popperTriggers,this.popperHideTriggers,e)},$_registerEventListeners(t,e,n){this.$_events.push({targetNodes:t,eventType:e,handler:n}),t.forEach(r=>r.addEventListener(e,n,pl?{passive:!0}:void 0))},$_registerTriggerListeners(t,e,n,r,i){let o=n;r!=null&&(o=typeof r=="function"?r(o):r),o.forEach(s=>{const l=e[s];l&&this.$_registerEventListeners(t,l,i)})},$_removeEventListeners(t){const e=[];this.$_events.forEach(n=>{const{targetNodes:r,eventType:i,handler:o}=n;!t||t===i?r.forEach(s=>s.removeEventListener(i,o)):e.push(n)}),this.$_events=e},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(t,e=!1){this.$_showFrameLocked||(this.hide({event:t}),t.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),e&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(t,e){for(const n of this.$_targetNodes){const r=n.getAttribute(t);r&&(n.removeAttribute(t),n.setAttribute(e,r))}},$_applyAttrsToTarget(t){for(const e of this.$_targetNodes)for(const n in t){const r=t[n];r==null?e.removeAttribute(n):e.setAttribute(n,r)}},$_updateParentShownChildren(t){let e=this.parentPopper;for(;e;)t?e.shownChildren.add(this.randomId):(e.shownChildren.delete(this.randomId),e.$_pendingHide&&e.hide()),e=e.parentPopper},$_isAimingPopper(){const t=this.$_referenceNode.getBoundingClientRect();if(pf>=t.left&&pf<=t.right&&mf>=t.top&&mf<=t.bottom){const e=this.$_popperNode.getBoundingClientRect(),n=pf-Ms,r=mf-Ns,o=e.left+e.width/2-Ms+(e.top+e.height/2)-Ns+e.width+e.height,s=Ms+n*o,l=Ns+r*o;return $h(Ms,Ns,s,l,e.left,e.top,e.left,e.bottom)||$h(Ms,Ns,s,l,e.left,e.top,e.right,e.top)||$h(Ms,Ns,s,l,e.right,e.top,e.right,e.bottom)||$h(Ms,Ns,s,l,e.left,e.bottom,e.right,e.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});typeof document<"u"&&typeof window<"u"&&(l3?(document.addEventListener("touchstart",p2,pl?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",F7,pl?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",p2,!0),window.addEventListener("click",H7,!0)),window.addEventListener("resize",W7));function p2(t){for(let e=0;e<Pi.length;e++){const n=Pi[e];try{const r=n.popperNode();n.$_mouseDownContains=r.contains(t.target)}catch{}}}function H7(t){f3(t)}function F7(t){f3(t,!0)}function f3(t,e=!1){const n={};for(let r=Pi.length-1;r>=0;r--){const i=Pi[r];try{const o=i.$_containsGlobalTarget=V7(i,t);i.$_pendingHide=!1,requestAnimationFrame(()=>{if(i.$_pendingHide=!1,!n[i.randomId]&&m2(i,o,t)){if(i.$_handleGlobalClose(t,e),!t.closeAllPopover&&t.closePopover&&o){let l=i.parentPopper;for(;l;)n[l.randomId]=!0,l=l.parentPopper;return}let s=i.parentPopper;for(;s&&m2(s,s.$_containsGlobalTarget,t);){s.$_handleGlobalClose(t,e);s=s.parentPopper}}})}catch{}}}function V7(t,e){const n=t.popperNode();return t.$_mouseDownContains||n.contains(e.target)}function m2(t,e,n){return n.closeAllPopover||n.closePopover&&e||j7(t,n)&&!e}function j7(t,e){if(typeof t.autoHide=="function"){const n=t.autoHide(e);return t.lastAutoHide=n,n}return t.autoHide}function W7(t){for(let e=0;e<Pi.length;e++)Pi[e].$_computePosition(t)}let Ms=0,Ns=0,pf=0,mf=0;typeof window<"u"&&window.addEventListener("mousemove",t=>{Ms=pf,Ns=mf,pf=t.clientX,mf=t.clientY},pl?{passive:!0}:void 0);function $h(t,e,n,r,i,o,s,l){const u=((s-i)*(e-o)-(l-o)*(t-i))/((l-o)*(n-t)-(s-i)*(r-e)),f=((n-t)*(e-o)-(r-e)*(t-i))/((l-o)*(n-t)-(s-i)*(r-e));return u>=0&&u<=1&&f>=0&&f<=1}var Ag=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const U7={extends:c3()};function q7(t,e,n,r,i,o){return ge(),Se("div",{ref:"reference",class:vt(["v-popper",{"v-popper--shown":t.slotData.isShown}])},[pn(t.$slots,"default",AA(G1(t.slotData)))],2)}var K7=Ag(U7,[["render",q7]]);function G7(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("Trident/");if(n>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0?parseInt(t.substring(i+5,t.indexOf(".",i)),10):-1}let Cp;function ab(){ab.init||(ab.init=!0,Cp=G7()!==-1)}var Og={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){ab(),Ri(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",Cp&&this.$el.appendChild(t),t.data="about:blank",Cp||this.$el.appendChild(t)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!Cp&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const Y7=z1();D1("data-v-b329ee4c");const J7={class:"resize-observer",tabindex:"-1"};R1();const X7=Y7((t,e,n,r,i,o)=>(ge(),Ct("div",J7)));Og.render=X7;Og.__scopeId="data-v-b329ee4c";Og.__file="src/components/ResizeObserver.vue";var d3=(t="theme")=>({computed:{themeClass(){return $7(this[t])}}});const Z7=Vn({name:"VPopperContent",components:{ResizeObserver:Og},mixins:[d3()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(t){return t!=null&&!isNaN(t)?`${t}px`:null}}}),Q7=["id","aria-hidden","tabindex","data-popper-placement"],eB={ref:"inner",class:"v-popper__inner"},tB=re("div",{class:"v-popper__arrow-outer"},null,-1),nB=re("div",{class:"v-popper__arrow-inner"},null,-1),rB=[tB,nB];function iB(t,e,n,r,i,o){const s=ut("ResizeObserver");return ge(),Se("div",{id:t.popperId,ref:"popover",class:vt(["v-popper__popper",[t.themeClass,t.classes.popperClass,{"v-popper__popper--shown":t.shown,"v-popper__popper--hidden":!t.shown,"v-popper__popper--show-from":t.classes.showFrom,"v-popper__popper--show-to":t.classes.showTo,"v-popper__popper--hide-from":t.classes.hideFrom,"v-popper__popper--hide-to":t.classes.hideTo,"v-popper__popper--skip-transition":t.skipTransition,"v-popper__popper--arrow-overflow":t.result&&t.result.arrow.overflow,"v-popper__popper--no-positioning":!t.result}]]),style:oi(t.result?{position:t.result.strategy,transform:`translate3d(${Math.round(t.result.x)}px,${Math.round(t.result.y)}px,0)`}:void 0),"aria-hidden":t.shown?"false":"true",tabindex:t.autoHide?0:void 0,"data-popper-placement":t.result?t.result.placement:void 0,onKeyup:e[2]||(e[2]=Tu(l=>t.autoHide&&t.$emit("hide"),["esc"]))},[re("div",{class:"v-popper__backdrop",onClick:e[0]||(e[0]=l=>t.autoHide&&t.$emit("hide"))}),re("div",{class:"v-popper__wrapper",style:oi(t.result?{transformOrigin:t.result.transformOrigin}:void 0)},[re("div",eB,[t.mounted?(ge(),Se(kt,{key:0},[re("div",null,[pn(t.$slots,"default")]),t.handleResize?(ge(),Ct(s,{key:0,onNotify:e[1]||(e[1]=l=>t.$emit("resize",l))})):gt("",!0)],64)):gt("",!0)],512),re("div",{ref:"arrow",class:"v-popper__arrow-container",style:oi(t.result?{left:t.toPx(t.result.arrow.x),top:t.toPx(t.result.arrow.y)}:void 0)},rB,4)],4)],46,Q7)}var h3=Ag(Z7,[["render",iB]]),p3={methods:{show(...t){return this.$refs.popper.show(...t)},hide(...t){return this.$refs.popper.hide(...t)},dispose(...t){return this.$refs.popper.dispose(...t)},onResize(...t){return this.$refs.popper.onResize(...t)}}};const oB=Vn({name:"VPopperWrapper",components:{Popper:K7,PopperContent:h3},mixins:[p3,d3("finalTheme")],props:{theme:{type:String,default:null}},computed:{finalTheme(){var t;return(t=this.theme)!=null?t:this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(t=>t!==this.$refs.popperContent.$el)}}});function sB(t,e,n,r,i,o){const s=ut("PopperContent"),l=ut("Popper");return ge(),Ct(l,{ref:"popper",theme:t.finalTheme,"target-nodes":t.getTargetNodes,"popper-node":()=>t.$refs.popperContent.$el,class:vt([t.themeClass])},{default:Vt(({popperId:u,isShown:f,shouldMountContent:d,skipTransition:m,autoHide:v,show:y,hide:_,handleResize:C,onResize:x,classes:k,result:A})=>[pn(t.$slots,"default",{shown:f,show:y,hide:_}),Qe(s,{ref:"popperContent","popper-id":u,theme:t.finalTheme,shown:f,mounted:d,"skip-transition":m,"auto-hide":v,"handle-resize":C,classes:k,result:A,onHide:_,onResize:x},{default:Vt(()=>[pn(t.$slots,"popper",{shown:f,hide:_})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},8,["theme","target-nodes","popper-node","class"])}var w_=Ag(oB,[["render",sB]]);const aB=Vn(Od($o({},w_),{name:"VDropdown",vPopperTheme:"dropdown"})),lB=Vn(Od($o({},w_),{name:"VMenu",vPopperTheme:"menu"})),uB=Vn(Od($o({},w_),{name:"VTooltip",vPopperTheme:"tooltip"})),cB=Vn({name:"VTooltipDirective",components:{Popper:c3(),PopperContent:h3},mixins:[p3],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:t=>Uu(t.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:t=>Uu(t.theme,"loadingContent")}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(t){if(typeof this.content=="function"&&this.$_isShown&&(t||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const e=++this.$_fetchId,n=this.content(this);n.then?n.then(r=>this.onResult(e,r)):this.onResult(e,n)}},onResult(t,e){t===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=e)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),fB=["innerHTML"],dB=["textContent"];function hB(t,e,n,r,i,o){const s=ut("PopperContent"),l=ut("Popper");return ge(),Ct(l,wi({ref:"popper"},t.$attrs,{theme:t.theme,"popper-node":()=>t.$refs.popperContent.$el,onApplyShow:t.onShow,onApplyHide:t.onHide}),{default:Vt(({popperId:u,isShown:f,shouldMountContent:d,skipTransition:m,autoHide:v,hide:y,handleResize:_,onResize:C,classes:x,result:k})=>[Qe(s,{ref:"popperContent",class:vt({"v-popper--tooltip-loading":t.loading}),"popper-id":u,theme:t.theme,shown:f,mounted:d,"skip-transition":m,"auto-hide":v,"handle-resize":_,classes:x,result:k,onHide:y,onResize:C},{default:Vt(()=>[t.html?(ge(),Se("div",{key:0,innerHTML:t.finalContent},null,8,fB)):(ge(),Se("div",{key:1,textContent:Le(t.finalContent)},null,8,dB))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","popper-node","onApplyShow","onApplyHide"])}var pB=Ag(cB,[["render",hB]]);const m3="v-popper--has-tooltip";function mB(t,e){let n=t.placement;if(!n&&e)for(const r of u3)e[r]&&(n=r);return n||(n=Uu(t.theme||"tooltip","placement")),n}function g3(t,e,n){let r;const i=typeof e;return i==="string"?r={content:e}:e&&i==="object"?r=e:r={content:!1},r.placement=mB(r,n),r.targetNodes=()=>[t],r.referenceNode=()=>t,r}let wy,Qf,gB=0;function vB(){if(wy)return;Qf=Ot([]),wy=Q1({name:"VTooltipDirectiveApp",setup(){return{directives:Qf}},render(){return this.directives.map(e=>mr(pB,Od($o({},e.options),{shown:e.shown||e.options.shown,key:e.id})))},devtools:{hide:!0}});const t=document.createElement("div");document.body.appendChild(t),wy.mount(t)}function yB(t,e,n){vB();const r=Ot(g3(t,e,n)),i=Ot(!1),o={id:gB++,options:r,shown:i};return Qf.value.push(o),t.classList&&t.classList.add(m3),t.$_popper={options:r,item:o,show(){i.value=!0},hide(){i.value=!1}}}function v3(t){if(t.$_popper){const e=Qf.value.indexOf(t.$_popper.item);e!==-1&&Qf.value.splice(e,1),delete t.$_popper,delete t.$_popperOldShown,delete t.$_popperMountTarget}t.classList&&t.classList.remove(m3)}function g2(t,{value:e,modifiers:n}){const r=g3(t,e,n);if(!r.content||Uu(r.theme||"tooltip","disabled"))v3(t);else{let i;t.$_popper?(i=t.$_popper,i.options.value=r):i=yB(t,e,n),typeof e.shown<"u"&&e.shown!==t.$_popperOldShown&&(t.$_popperOldShown=e.shown,e.shown?i.show():i.hide())}}var bB={beforeMount:g2,updated:g2,beforeUnmount(t){v3(t)}};function v2(t){t.addEventListener("click",y3),t.addEventListener("touchstart",b3,pl?{passive:!0}:!1)}function y2(t){t.removeEventListener("click",y3),t.removeEventListener("touchstart",b3),t.removeEventListener("touchend",_3),t.removeEventListener("touchcancel",w3)}function y3(t){const e=t.currentTarget;t.closePopover=!e.$_vclosepopover_touch,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function b3(t){if(t.changedTouches.length===1){const e=t.currentTarget;e.$_vclosepopover_touch=!0;const n=t.changedTouches[0];e.$_vclosepopover_touchPoint=n,e.addEventListener("touchend",_3),e.addEventListener("touchcancel",w3)}}function _3(t){const e=t.currentTarget;if(e.$_vclosepopover_touch=!1,t.changedTouches.length===1){const n=t.changedTouches[0],r=e.$_vclosepopover_touchPoint;t.closePopover=Math.abs(n.screenY-r.screenY)<20&&Math.abs(n.screenX-r.screenX)<20,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function w3(t){const e=t.currentTarget;e.$_vclosepopover_touch=!1}var _B={beforeMount(t,{value:e,modifiers:n}){t.$_closePopoverModifiers=n,(typeof e>"u"||e)&&v2(t)},updated(t,{value:e,oldValue:n,modifiers:r}){t.$_closePopoverModifiers=r,e!==n&&(typeof e>"u"||e?v2(t):y2(t))},beforeUnmount(t){y2(t)}};function wB(t,e={}){t.$_vTooltipInstalled||(t.$_vTooltipInstalled=!0,a3(jo,e),t.directive("tooltip",bB),t.directive("close-popper",_B),t.component("VTooltip",uB),t.component("VDropdown",aB),t.component("VMenu",lB))}const kB={version:"2.0.0-beta.20",install:wB,options:jo};function gf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gf=function(e){return typeof e}:gf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function b2(t,e,n,r,i,o,s){try{var l=t[o](s),u=l.value}catch(f){n(f);return}l.done?e(u):Promise.resolve(u).then(r,i)}function xB(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){b2(o,r,i,s,l,"next",u)}function l(u){b2(o,r,i,s,l,"throw",u)}s(void 0)})}}function SB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function CB(t,e,n){return e&&_2(t.prototype,e),n&&_2(t,n),t}function Au(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){Au(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ml(t){return TB(t)||EB(t)||AB(t)||OB()}function TB(t){if(Array.isArray(t))return lb(t)}function EB(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function AB(t,e){if(t){if(typeof t=="string")return lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lb(t,e)}}function lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var MB='button:not([disabled]), select:not([disabled]), a[href]:not([disabled]), area[href]:not([disabled]), [contentEditable=""]:not([disabled]), [contentEditable="true"]:not([disabled]), [contentEditable="TRUE"]:not([disabled]), textarea:not([disabled]), iframe:not([disabled]), input:not([disabled]), summary:not([disabled]), [tabindex]:not([tabindex="-1"])',NB=function(e){return e.key==="Tab"||e.keyCode===9},LB=function(e,n){return ml(e.querySelectorAll(n)||[])},IB=function(e){return LB(e,MB)},k2=function(e){return e==document.activeElement},PB=function(){return!document.activeElement},DB=function(){function t(){SB(this,t),this.root=null,this.elements=[],this.onKeyDown=this.onKeyDown.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.firstElement=this.firstElement.bind(this),this.lastElement=this.lastElement.bind(this)}return CB(t,[{key:"lastElement",value:function(){return this.elements[this.elements.length-1]||null}},{key:"firstElement",value:function(){return this.elements[0]||null}},{key:"onKeyDown",value:function(n){if(NB(n)){if(n.shiftKey){k2(this.firstElement())&&(this.lastElement().focus(),n.preventDefault());return}if(PB()||k2(this.lastElement())){this.firstElement().focus(),n.preventDefault();return}}}},{key:"enabled",value:function(){return!!this.root}},{key:"enable",value:function(n){n&&(this.root=n,this.elements=IB(this.root),this.root.addEventListener("keydown",this.onKeyDown))}},{key:"disable",value:function(){this.root.removeEventListener("keydown",this.onKeyDown),this.root=null}}]),t}(),RB=function(e,n,r){var i=e.style[n];return e.style[n]=r,function(){e.style[n]=i}},x2=function(e){var n=e.targetTouches?e.targetTouches[0]:e,r=n.clientX,i=n.clientY;return{x:r,y:i}},zB=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Hh=function(e,n,r){return typeof e!="number"&&(e=Math.min(n,r)||n),typeof r!="number"&&(r=Math.max(n,e)),Math.min(Math.max(n,e),r)},S2=function(e){return e&&Number(e.replace(/px$/,""))||0},BB=function(e,n,r){if(r==="")return!0;var i=ml(n.querySelectorAll(r));return i.includes(e.target)},cm={down:{pc:"mousedown",m:"touchstart"},move:{pc:"mousemove",m:"touchmove"},up:{pc:"mouseup",m:"touchend"}},Fh=function(e,n,r){n&&n.addEventListener(cm[e].pc,r),n&&n.addEventListener(cm[e].m,r,{passive:!1})},Vh=function(e,n,r){n&&n.removeEventListener(cm[e].pc,r),n&&n.removeEventListener(cm[e].m,r)},k_=!1;if(typeof window<"u"){var C2={get passive(){k_=!0}};window.addEventListener("testPassive",null,C2),window.removeEventListener("testPassive",null,C2)}var k3=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Ws=[],fm=!1,Tp=0,x3=-1,vf,yf,$B=function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(e);return["auto","scroll"].includes(n.overflowY)&&e.scrollHeight>e.clientHeight},HB=function(e,n){return!(e.scrollTop===0&&n<0||e.scrollTop+e.clientHeight+n>=e.scrollHeight&&n>0)},FB=function(e){for(var n=[];e;){if(n.push(e),e.classList.contains("vfm"))return n;e=e.parentElement}return n},VB=function(e,n){var r=!1,i=FB(e);return i.forEach(function(o){$B(o)&&HB(o,n)&&(r=!0)}),r},S3=function(e){return Ws.some(function(){return VB(e,-Tp)})},dm=function(e){var n=e||window.event;return S3(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},jB=function(e){if(yf===void 0){var n=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(n&&r>0){var i=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);yf=document.body.style.paddingRight,document.body.style.paddingRight="".concat(i+r,"px")}}vf===void 0&&(vf=document.body.style.overflow,document.body.style.overflow="hidden")},WB=function(){yf!==void 0&&(document.body.style.paddingRight=yf,yf=void 0),vf!==void 0&&(document.body.style.overflow=vf,vf=void 0)},UB=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},qB=function(e,n){return Tp=e.targetTouches[0].clientY-x3,S3(e.target)?!1:n&&n.scrollTop===0&&Tp>0||UB(n)&&Tp<0?dm(e):(e.stopPropagation(),!0)},KB=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Ws.some(function(i){return i.targetElement===e})){var r={targetElement:e,options:n||{}};Ws=[].concat(ml(Ws),[r]),k3?(e.ontouchstart=function(i){i.targetTouches.length===1&&(x3=i.targetTouches[0].clientY)},e.ontouchmove=function(i){i.targetTouches.length===1&&qB(i,e)},fm||(document.addEventListener("touchmove",dm,k_?{passive:!1}:void 0),fm=!0)):jB(n)}},ky=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Ws=Ws.filter(function(n){return n.targetElement!==e}),k3?(e.ontouchstart=null,e.ontouchmove=null,fm&&Ws.length===0&&(document.removeEventListener("touchmove",dm,k_?{passive:!1}:void 0),fm=!1)):Ws.length||WB()},jh=function(){},no={Enter:"enter",Entering:"entering",Leave:"leave",Leaving:"leavng"},GB={t:"ns-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize",b:"ns-resize",bl:"nesw-resize",l:"ew-resize",tl:"nwse-resize"},Mg={props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},ssr:{type:Boolean,default:!0},classes:{type:[String,Object,Array],default:""},overlayClass:{type:[String,Object,Array],default:""},contentClass:{type:[String,Object,Array],default:""},styles:{type:[Object,Array],default:function(){return{}}},overlayStyle:{type:[Object,Array],default:function(){return{}}},contentStyle:{type:[Object,Array],default:function(){return{}}},lockScroll:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!1},preventClick:{type:Boolean,default:!1},attach:{type:null,default:!1,validator:function(e){var n=gf(e);return n==="boolean"||n==="string"?!0:e.nodeType===Node.ELEMENT_NODE}},transition:{type:[String,Object],default:"vfm"},overlayTransition:{type:[String,Object],default:"vfm"},keepOverlay:{type:Boolean,default:!1},zIndexAuto:{type:Boolean,default:!0},zIndexBase:{type:[String,Number],default:1e3},zIndex:{type:[Boolean,String,Number],default:!1},focusRetain:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!0},drag:{type:Boolean,default:!1},dragSelector:{type:String,default:""},keepChangedStyle:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},resizeDirections:{type:Array,default:function(){return["t","tr","r","br","b","bl","l","tl"]},validator:function(e){return["t","tr","r","br","b","bl","l","tl"].filter(function(n){return e.indexOf(n)!==-1}).length===e.length}},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0}},emits:["update:modelValue","click-outside","before-open","opened","before-close","closed","_before-open","_opened","_closed","drag:start","drag:move","drag:end","resize:start","resize:move","resize:end"],setup:function(e,n){var r=n.emit,i=Symbol("vfm"),o=Ot(null),s=Ot(null),l=Ot(null),u=Ot(null),f=Ot(null),d=Ot(null),m=Ot(null),v=new DB,y=Ot(!1),_=Al({modal:!1,overlay:!1,resize:!1}),C=Ot(null),x=Ot(null),k=Ot(!1),A=Ot({}),L=Ot({}),E=Ot(null),H=Ot(null),I=jh,q=jh,P=er(function(){return typeof e.overlayTransition=="string"?{name:e.overlayTransition}:Rr({},e.overlayTransition)}),z=er(function(){return typeof e.transition=="string"?{name:e.transition}:Rr({},e.transition)}),w=er(function(){return(e.hideOverlay||C.value===no.Leave)&&x.value===no.Leave}),R=er(function(){return e.zIndex===!1?e.zIndexAuto?+e.zIndexBase+2*(m.value||0):!1:e.zIndex}),U=er(function(){return Rr({},R.value!==!1&&{zIndex:R.value})}),K=er(function(){var O=[L.value];return Array.isArray(e.contentStyle)?O.push.apply(O,ml(e.contentStyle)):O.push(e.contentStyle),O});En(function(){return e.modelValue},function(O){if(k.value){k.value=!1;return}if(D(),!O){if(ie("before-close",!0)){q("hide");return}ae()}}),En(function(){return e.lockScroll},ce),En(function(){return e.hideOverlay},function(O){e.modelValue&&!O&&(_.overlay=!0)}),En(function(){return e.attach},D),En(w,function(O){O&&(y.value=!1,s.value.style.display="none")},{flush:"post"}),En(function(){return e.drag},function(O){y.value&&(O?xe():G())}),En(function(){return e.resize},function(O){y.value&&(O?Z():N())}),En(function(){return e.keepChangedStyle},function(O){O||(L.value={})}),ts(function(){e.api.modals.push(oe()),D()}),Ml(function(){var O;ae(),e.lockScroll&&s.value&&ky(s.value),o==null||(O=o.value)===null||O===void 0||O.remove();var j=e.api.modals.findIndex(function(F){return F.uid===i});e.api.modals.splice(j,1)});function oe(){return{uid:i,props:e,emit:r,vfmContainer:s,vfmContent:l,vfmResize:u,vfmOverlayTransition:f,vfmTransition:d,getAttachElement:ve,modalStackIndex:m,visibility:_,handleLockScroll:ce,$focusTrap:v,toggle:be,params:A}}function D(){if(e.modelValue){if(r("_before-open",at({type:"_before-open"})),ie("before-open",!1)){q("show");return}var O=ve();if(O||e.attach===!1){if(e.attach!==!1)if(o.value)O.appendChild(o.value);else{y.value=!0,Ri(function(){D()});return}var j=e.api.openedModals.findIndex(function(F){return F.uid===i});j!==-1&&e.api.openedModals.splice(j,1),e.api.openedModals.push(oe()),m.value=e.api.openedModals.length-1,ce(),e.api.openedModals.filter(function(F){return F.uid!==i}).forEach(function(F,Q){F.getAttachElement()===O&&(F.modalStackIndex.value=Q,!F.props.keepOverlay&&(F.visibility.overlay=!1))}),y.value=!0,ze()}else O!==!1&&console.warn("Unable to locate target ".concat(e.attach))}}function ae(){var O=e.api.openedModals.findIndex(function(F){return F.uid===i});if(O!==-1&&e.api.openedModals.splice(O,1),e.api.openedModals.length>0){var j=e.api.openedModals[e.api.openedModals.length-1];j.props.focusTrap&&j.$focusTrap.firstElement().focus(),(j.props.focusRetain||j.props.focusTrap)&&j.vfmContainer.value.focus(),!j.props.hideOverlay&&(j.visibility.overlay=!0)}e.drag&&G(),e.resize&&N(),E.value=null,qe()}function ce(){e.modelValue&&Ri(function(){e.lockScroll?KB(s.value,{reserveScrollBarGap:!0}):ky(s.value)})}function ve(){var O;return e.attach===!1?O=!1:typeof e.attach=="string"?window?O=window.document.querySelector(e.attach):O=!1:O=e.attach,O}function ze(){_.overlay=!0,_.modal=!0}function qe(){_.overlay=!1,_.modal=!1}function yt(){C.value=no.Entering}function mt(){C.value=no.Enter}function _t(){C.value=no.Leaving}function bt(){C.value=no.Leave}function Xe(){x.value=no.Entering}function Ie(){x.value=no.Enter,(e.focusRetain||e.focusTrap)&&s.value.focus(),e.focusTrap&&v.enable(s.value),e.drag&&xe(),e.resize&&Z(),r("_opened"),r("opened",at({type:"opened"})),I("show")}function Be(){x.value=no.Leaving,v.enabled()&&v.disable()}function Ee(){x.value=no.Leave,m.value=null,e.lockScroll&&ky(s.value),e.keepChangedStyle||(L.value={});var O=!1,j=at({type:"closed",stop:function(){O=!0}});r("_closed"),r("closed",j),I("hide"),!O&&(A.value={})}function Ze(O){H.value=O==null?void 0:O.target}function Ke(){H.value===s.value&&E.value!=="resize:move"&&(r("click-outside",at({type:"click-outside"})),e.clickToClose&&r("update:modelValue",!1))}function Fe(){y.value&&e.escToClose&&r("update:modelValue",!1)}function at(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Rr({ref:oe()},O)}function ie(O,j){var F=!1,Q=at({type:O,stop:function(){F=!0}});return r(O,Q),F?(k.value=!0,Ri(function(){r("update:modelValue",j)}),!0):!1}function te(O,j,F){E.value="".concat(j,":").concat(F),r(E.value,O)}function be(O,j){var F=arguments;return new Promise(function(Q,le){I=function(Y){Q(Y),I=jh},q=function(Y){le(Y),q=jh};var pe=typeof O=="boolean"?O:!e.modelValue;pe&&F.length===2&&(A.value=j),r("update:modelValue",pe)})}function _e(O){O.stopPropagation();var j="resize",F="drag",Q=O.target.getAttribute("direction"),le;if(Q)le=j;else if(BB(O,l.value,e.dragSelector))le=F;else return;te(O,le,"start");var pe=x2(O),ye=s.value.getBoundingClientRect(),Y=l.value.getBoundingClientRect(),X=window.getComputedStyle(l.value).position==="absolute",de={top:S2(L.value.top),left:S2(L.value.left)},Te=function(){if(e.fitParent){var Ne={absolute:function(){return{minTop:0,minLeft:0,maxTop:ye.height-Y.height,maxLeft:ye.width-Y.width}},relative:function(){return{minTop:de.top+ye.top-Y.top,minLeft:de.left+ye.left-Y.left,maxTop:de.top+ye.bottom-Y.bottom,maxLeft:de.left+ye.right-Y.right}}};return X?Ne.absolute():Ne.relative()}else return{}}(),je=le===j&&RB(document.body,"cursor",GB[Q]),he=function(me){me.stopPropagation(),te(me,le,"move");var Je=x2(me),ct={x:Je.x-pe.x,y:Je.y-pe.y};le===j&&(ct=W(Q,ct,ye,Y,X));var ot,Tt;X?(ot=Y.top-ye.top+ct.y,Tt=Y.left-ye.left+ct.x):(ot=de.top+ct.y,Tt=de.left+ct.x),le===F&&e.fitParent&&(ot=Hh(Te.minTop,ot,Te.maxTop),Tt=Hh(Te.minLeft,Tt,Te.maxLeft));var br=Rr(Rr(Rr({position:"relative",top:ot+"px",left:Tt+"px",margin:"unset",touchAction:"none"},X&&{position:"absolute",transform:"unset",width:Y.width+"px",height:Y.height+"px"}),ct.width&&{width:ct.width+"px"}),ct.height&&{height:ct.height+"px"});L.value=Rr(Rr({},L.value),br)},Ae=function Ne(me){me.stopPropagation(),le===j&&je&&je(),setTimeout(function(){te(me,le,"end")}),Vh("move",document,he),Vh("up",document,Ne)};Fh("move",document,he),Fh("up",document,Ae)}function xe(){Fh("down",l.value,_e),L.value.touchAction="none"}function G(){Vh("down",l.value,_e)}function Z(){_.resize=!0,Ri(function(){Fh("down",u.value,_e)})}function N(){Vh("down",u.value,_e),_.resize=!1}function W(O,j,F,Q,le){var pe=function(Te){var je,he=j[Te.axis];he=e.fitParent?Hh(Te.min,he,Te.max):he;var Ae=Hh(Te.minEdge,Te.getEdge(he),Te.maxEdge);return he=Te.getOffsetAxis(Ae,le),je={},Au(je,Te.edgeName,Ae),Au(je,Te.axis,he),je},ye=function(Te,je,he,Ae){var Ne=Q[je],me=F[Te]-Q[Te],Je=zB(je);return{axis:he,edgeName:je,min:Ae?me:-Ne,max:Ae?Ne:me,minEdge:e["min".concat(Je)],maxEdge:e["max".concat(Je)],getEdge:function(ot){return Q[je]-ot*(Ae?1:-1)},getOffsetAxis:function(ot,Tt){var br=Q[je]-ot;return Tt?Ae?br:0:(Ae?1:-1)*br/2}}},Y={t:["top","height","y",!0],b:["bottom","height","y",!1],l:["left","width","x",!0],r:["right","width","x",!1]},X={x:0,y:0};return O.split("").forEach(function(de){var Te=ye.apply(void 0,ml(Y[de]));X=Rr(Rr({},X),pe(Te))}),X}return{root:o,vfmContainer:s,vfmContent:l,vfmResize:u,vfmOverlayTransition:f,vfmTransition:d,computedOverlayTransition:P,computedTransition:z,visible:y,visibility:_,params:A,calculateZIndex:R,bindStyle:U,bindContentStyle:K,beforeOverlayEnter:yt,afterOverlayEnter:mt,beforeOverlayLeave:_t,afterOverlayLeave:bt,beforeModalEnter:Xe,afterModalEnter:Ie,beforeModalLeave:Be,afterModalLeave:Ee,onMousedown:Ze,onMouseupContainer:Ke,onEsc:Fe}}},xy=z1();D1("data-v-2836fdb5");var YB={key:0,ref:"vfmResize",class:"vfm__resize vfm--absolute vfm--inset vfm--prevent-none vfm--select-none vfm--touch-none"};R1();var JB=xy(function(t,e,n,r,i,o){return n.ssr||r.visible?Ut((ge(),Ct("div",{key:0,ref:"root",style:r.bindStyle,class:["vfm vfm--inset",[n.attach===!1?"vfm--fixed":"vfm--absolute",{"vfm--prevent-none":n.preventClick}]],onKeydown:e[4]||(e[4]=Tu(function(){return r.onEsc&&r.onEsc.apply(r,arguments)},["esc"]))},[Qe(zu,wi(r.computedOverlayTransition,{onBeforeEnter:r.beforeOverlayEnter,onAfterEnter:r.afterOverlayEnter,onBeforeLeave:r.beforeOverlayLeave,onAfterLeave:r.afterOverlayLeave}),{default:xy(function(){return[!n.hideOverlay&&r.visibility.overlay?(ge(),Ct("div",{key:0,class:["vfm__overlay vfm--overlay vfm--absolute vfm--inset",n.overlayClass],style:n.overlayStyle},null,6)):gt("v-if",!0)]}),_:1},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),Qe(zu,wi(r.computedTransition,{onBeforeEnter:r.beforeModalEnter,onAfterEnter:r.afterModalEnter,onBeforeLeave:r.beforeModalLeave,onAfterLeave:r.afterModalLeave}),{default:xy(function(){return[Ut(Qe("div",{ref:"vfmContainer",class:["vfm__container vfm--absolute vfm--inset vfm--outline-none",n.classes],style:n.styles,"aria-expanded":r.visibility.modal.toString(),role:"dialog","aria-modal":"true",tabindex:"-1",onMouseup:e[2]||(e[2]=lt(function(){return r.onMouseupContainer&&r.onMouseupContainer.apply(r,arguments)},["self"])),onMousedown:e[3]||(e[3]=lt(function(){return r.onMousedown&&r.onMousedown.apply(r,arguments)},["self"]))},[Qe("div",{ref:"vfmContent",class:["vfm__content",[n.contentClass,{"vfm--prevent-auto":n.preventClick}]],style:r.bindContentStyle,onMousedown:e[1]||(e[1]=function(s){return r.onMousedown(null)})},[pn(t.$slots,"default",{params:r.params,close:function(){return t.$emit("update:modelValue",!1)}}),r.visibility.resize&&r.visibility.modal?(ge(),Ct("div",YB,[(ge(!0),Ct(kt,null,Zt(n.resizeDirections,function(s){return ge(),Ct("div",{key:s,direction:s,class:["vfm--resize-".concat(s),"vfm--absolute vfm--prevent-auto"]},null,10,["direction"])}),128))],512)):gt("v-if",!0)],38)],46,["aria-expanded"]),[[Bu,r.visibility.modal]])]}),_:3},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],38)),[[Bu,!n.ssr||r.visible]]):gt("v-if",!0)});function XB(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var ZB=`
>>>>>>>> origin/craft-4:src/web/assets/field/dist/assets/vizy-91fcee7d.js
.vfm--fixed[data-v-2836fdb5] {
  position: fixed;
}
.vfm--absolute[data-v-2836fdb5] {
  position: absolute;
}
.vfm--inset[data-v-2836fdb5] {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.vfm--overlay[data-v-2836fdb5] {
  background-color: rgba(0, 0, 0, 0.5);
}
.vfm--prevent-none[data-v-2836fdb5] {
  pointer-events: none;
}
.vfm--prevent-auto[data-v-2836fdb5] {
  pointer-events: auto;
}
.vfm--outline-none[data-v-2836fdb5]:focus {
  outline: none;
}
.vfm-enter-active[data-v-2836fdb5],
.vfm-leave-active[data-v-2836fdb5] {
  transition: opacity 0.2s;
}
.vfm-enter-from[data-v-2836fdb5],
.vfm-leave-to[data-v-2836fdb5] {
  opacity: 0;
}
.vfm--touch-none[data-v-2836fdb5] {
  touch-action: none;
}
.vfm--select-none[data-v-2836fdb5] {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.vfm--resize-tr[data-v-2836fdb5],
.vfm--resize-br[data-v-2836fdb5],
.vfm--resize-bl[data-v-2836fdb5],
.vfm--resize-tl[data-v-2836fdb5] {
  width: 12px;
  height: 12px;
  z-index: 10;
}
.vfm--resize-t[data-v-2836fdb5] {
  top: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-tr[data-v-2836fdb5] {
  top: -6px;
  right: -6px;
  cursor: nesw-resize;
}
.vfm--resize-r[data-v-2836fdb5] {
  top: 0;
  right: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-br[data-v-2836fdb5] {
  bottom: -6px;
  right: -6px;
  cursor: nwse-resize;
}
.vfm--resize-b[data-v-2836fdb5] {
  bottom: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-bl[data-v-2836fdb5] {
  bottom: -6px;
  left: -6px;
  cursor: nesw-resize;
}
.vfm--resize-l[data-v-2836fdb5] {
  top: 0;
  left: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-tl[data-v-2836fdb5] {
  top: -6px;
  left: -6px;
  cursor: nwse-resize;
}
<<<<<<<< HEAD:src/web/assets/field/dist/assets/vizy-1d31d33d.js
`;JB(XB);Og.render=YB;Og.__scopeId="data-v-2836fdb5";Og.__file="lib/VueFinalModal.vue";var x_={props:{},methods:{slice:function(e){this.api.dynamicModals.splice(e,1)},beforeOpen:function(e,n,r){var i=this;return kB(function*(){e.ref.params.value=n.params,yield i.$nextTick(),yield i.$nextTick(),n.value||(i.slice(r),n.reject("show"))})()},isString:function(e){return typeof e=="string"}}},ZB={class:"modals-container"};function QB(t,e,n,r,i,o){return ge(),Et("div",ZB,[(ge(!0),Et(kt,null,Zt(t.api.dynamicModals,function(s,l){return ge(),Et(Qs(s.component),wi({key:s.id},s.bind,{modelValue:s.value,"onUpdate:modelValue":function(f){return s.value=f}},Ly(s.on),{on_closed:function(f){return o.slice(l)},on_beforeOpen:function(f){return o.beforeOpen(f,s)},on_opened:s.opened}),W1({_:2},[Zt(s.slots,function(u,f){return{name:f,fn:Vt(function(){return[_t(" eslint-disable vue/no-v-html "),o.isString(u)?(ge(),Et("div",{key:0,innerHTML:u},null,8,["innerHTML"])):(ge(),Et(Qs(u.component),wi({key:1},u.bind,Ly(u.on||{})),null,16))]})}})]),1040,["modelValue","onUpdate:modelValue","on_closed","on_beforeOpen","on_opened"])}),128))])}x_.render=QB;x_.__file="lib/ModalsContainer.vue";function e$(){var t=null;return{show:function(n){for(var r=this,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];switch(gf(n)){case"string":return this.toggle.apply(this,[n,!0].concat(o));case"object":return Promise.allSettled([new Promise(function(l,u){var f={value:!0,id:Symbol("dynamicModal"),component:t,bind:{},slots:{},on:{},params:o[0],reject:u,opened:function(){l("show")}};r.dynamicModals.push(Hp(Object.assign(f,n)))})])}},hide:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.toggle(r,!1)},hideAll:function(){return this.hide.apply(this,ml(this.openedModals.map(function(n){return n.props.name})))},toggle:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var s=Array.isArray(n)?this.get.apply(this,ml(n)):this.get(n);return Promise.allSettled(s.map(function(l){return l.toggle.apply(l,i)}))},get:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.modals.filter(function(o){return r.includes(o.props.name)})},dynamicModals:Hp([]),openedModals:[],modals:[],_setDefaultModal:function(n){t=n}}}function CM(t,e){var n=Dr(Dr({},t),{},{props:Dr({},t.props)});return Object.assign(n.props,{api:{type:Object,default:function(){return e}}}),n}function t$(t){var e=CM(Og,t);return t._setDefaultModal(e),e}function n$(t){return CM(x_,t)}var TS=0,TM="$vfm",EM="VueFinalModal",AM="ModalsContainer",OM=function(){var e,n=e$();return e={},Au(e,TM,n),Au(e,EM,t$(n)),Au(e,AM,n$(n)),e},Mg=OM();Mg.$vfm;Mg.VueFinalModal;Mg.ModalsContainer;var MM=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=TS===0?Mg:OM(),i=r.$vfm,o=r.VueFinalModal,s=r.ModalsContainer;TS+=1;var l=n.key||TM,u=n.componentName||EM,f=n.dynamicContainerName||AM;Object.defineProperty(e.config.globalProperties,l,{get:function(){return i}}),e.provide(l,i),e.component(u,o),e.component(f,s)},LM=function(e){return{install:function(r,i){var o=Object.assign({},e,i);MM(r,o)}}};LM.install=MM;const ES={$idFactory(t){return function(n=""){return`${this[t]}-${n}`}},$idRef(t){return`#${this.$id(t)}`}},AS={uidProperty:"uid",uidPrefix:"uid-"};function r$(t,e={}){const n=e.uidProperty||AS.uidProperty,r=e.uidPrefix||AS.uidPrefix;let i=0;t.mixin({beforeCreate(){i+=1;const s=r+i;Object.defineProperties(this,{[n]:{get(){return s}}})}});const o=t.version.slice(0,2)==="3."?t.config.globalProperties:t.prototype;o.$id=ES.$idFactory(n),o.$idRef=ES.$idRef}const i$=function(t){if(t!==void 0)return JSON.parse(JSON.stringify(t))};var o$=typeof global=="object"&&global&&global.Object===Object&&global;const NM=o$;var s$=typeof self=="object"&&self&&self.Object===Object&&self,a$=NM||s$||Function("return this")();const Ki=a$;var l$=Ki.Symbol;const na=l$;var IM=Object.prototype,u$=IM.hasOwnProperty,c$=IM.toString,Kc=na?na.toStringTag:void 0;function f$(t){var e=u$.call(t,Kc),n=t[Kc];try{t[Kc]=void 0;var r=!0}catch{}var i=c$.call(t);return r&&(e?t[Kc]=n:delete t[Kc]),i}var d$=Object.prototype,h$=d$.toString;function p$(t){return h$.call(t)}var m$="[object Null]",g$="[object Undefined]",OS=na?na.toStringTag:void 0;function rs(t){return t==null?t===void 0?g$:m$:OS&&OS in Object(t)?f$(t):p$(t)}function bo(t){return t!=null&&typeof t=="object"}var v$="[object Symbol]";function Lg(t){return typeof t=="symbol"||bo(t)&&rs(t)==v$}function PM(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var y$=Array.isArray;const Ur=y$;var b$=1/0,MS=na?na.prototype:void 0,LS=MS?MS.toString:void 0;function DM(t){if(typeof t=="string")return t;if(Ur(t))return PM(t,DM)+"";if(Lg(t))return LS?LS.call(t):"";var e=t+"";return e=="0"&&1/t==-b$?"-0":e}var _$=/\s/;function w$(t){for(var e=t.length;e--&&_$.test(t.charAt(e)););return e}var k$=/^\s+/;function x$(t){return t&&t.slice(0,w$(t)+1).replace(k$,"")}function gr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var NS=0/0,S$=/^[-+]0x[0-9a-f]+$/i,C$=/^0b[01]+$/i,T$=/^0o[0-7]+$/i,E$=parseInt;function ub(t){if(typeof t=="number")return t;if(Lg(t))return NS;if(gr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=gr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=x$(t);var n=C$.test(t);return n||T$.test(t)?E$(t.slice(2),n?2:8):S$.test(t)?NS:+t}var IS=1/0,A$=17976931348623157e292;function O$(t){if(!t)return t===0?t:0;if(t=ub(t),t===IS||t===-IS){var e=t<0?-1:1;return e*A$}return t===t?t:0}function M$(t){var e=O$(t),n=e%1;return e===e?n?e-n:e:0}function S_(t){return t}var L$="[object AsyncFunction]",N$="[object Function]",I$="[object GeneratorFunction]",P$="[object Proxy]";function C_(t){if(!gr(t))return!1;var e=rs(t);return e==N$||e==I$||e==L$||e==P$}var D$=Ki["__core-js_shared__"];const x0=D$;var PS=function(){var t=/[^.]+$/.exec(x0&&x0.keys&&x0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function R$(t){return!!PS&&PS in t}var z$=Function.prototype,B$=z$.toString;function Ll(t){if(t!=null){try{return B$.call(t)}catch{}try{return t+""}catch{}}return""}var $$=/[\\^$.*+?()[\]{}|]/g,H$=/^\[object .+?Constructor\]$/,F$=Function.prototype,V$=Object.prototype,j$=F$.toString,W$=V$.hasOwnProperty,U$=RegExp("^"+j$.call(W$).replace($$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function q$(t){if(!gr(t)||R$(t))return!1;var e=C_(t)?U$:H$;return e.test(Ll(t))}function K$(t,e){return t==null?void 0:t[e]}function Nl(t,e){var n=K$(t,e);return q$(n)?n:void 0}var G$=Nl(Ki,"WeakMap");const cb=G$;var DS=Object.create,Y$=function(){function t(){}return function(e){if(!gr(e))return{};if(DS)return DS(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const J$=Y$;function RM(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function X$(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Z$=800,Q$=16,e9=Date.now;function t9(t){var e=0,n=0;return function(){var r=e9(),i=Q$-(r-n);if(n=r,i>0){if(++e>=Z$)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function n9(t){return function(){return t}}var r9=function(){try{var t=Nl(Object,"defineProperty");return t({},"",{}),t}catch{}}();const dm=r9;var i9=dm?function(t,e){return dm(t,"toString",{configurable:!0,enumerable:!1,value:n9(e),writable:!0})}:S_;const o9=i9;var s9=t9(o9);const a9=s9;function l9(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var u9=9007199254740991,c9=/^(?:0|[1-9]\d*)$/;function T_(t,e){var n=typeof t;return e=e??u9,!!e&&(n=="number"||n!="symbol"&&c9.test(t))&&t>-1&&t%1==0&&t<e}function E_(t,e,n){e=="__proto__"&&dm?dm(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ac(t,e){return t===e||t!==t&&e!==e}var f9=Object.prototype,d9=f9.hasOwnProperty;function h9(t,e,n){var r=t[e];(!(d9.call(t,e)&&ac(r,n))||n===void 0&&!(e in t))&&E_(t,e,n)}function zM(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var l=e[o],u=r?r(n[l],t[l],l,n,t):void 0;u===void 0&&(u=t[l]),i?E_(n,l,u):h9(n,l,u)}return n}var RS=Math.max;function p9(t,e,n){return e=RS(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=RS(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(s),RM(t,this,l)}}function BM(t,e){return a9(p9(t,e,S_),t+"")}var m9=9007199254740991;function A_(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=m9}function Il(t){return t!=null&&A_(t.length)&&!C_(t)}function $M(t,e,n){if(!gr(n))return!1;var r=typeof e;return(r=="number"?Il(n)&&T_(e,n.length):r=="string"&&e in n)?ac(n[e],t):!1}function HM(t){return BM(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&$M(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,o)}return e})}var g9=Object.prototype;function Ng(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||g9;return t===n}function v9(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var y9="[object Arguments]";function zS(t){return bo(t)&&rs(t)==y9}var FM=Object.prototype,b9=FM.hasOwnProperty,_9=FM.propertyIsEnumerable,w9=zS(function(){return arguments}())?zS:function(t){return bo(t)&&b9.call(t,"callee")&&!_9.call(t,"callee")};const Qf=w9;function k9(){return!1}var VM=typeof ri=="object"&&ri&&!ri.nodeType&&ri,BS=VM&&typeof ii=="object"&&ii&&!ii.nodeType&&ii,x9=BS&&BS.exports===VM,$S=x9?Ki.Buffer:void 0,S9=$S?$S.isBuffer:void 0,C9=S9||k9;const ed=C9;var T9="[object Arguments]",E9="[object Array]",A9="[object Boolean]",O9="[object Date]",M9="[object Error]",L9="[object Function]",N9="[object Map]",I9="[object Number]",P9="[object Object]",D9="[object RegExp]",R9="[object Set]",z9="[object String]",B9="[object WeakMap]",$9="[object ArrayBuffer]",H9="[object DataView]",F9="[object Float32Array]",V9="[object Float64Array]",j9="[object Int8Array]",W9="[object Int16Array]",U9="[object Int32Array]",q9="[object Uint8Array]",K9="[object Uint8ClampedArray]",G9="[object Uint16Array]",Y9="[object Uint32Array]",en={};en[F9]=en[V9]=en[j9]=en[W9]=en[U9]=en[q9]=en[K9]=en[G9]=en[Y9]=!0;en[T9]=en[E9]=en[$9]=en[A9]=en[H9]=en[O9]=en[M9]=en[L9]=en[N9]=en[I9]=en[P9]=en[D9]=en[R9]=en[z9]=en[B9]=!1;function J9(t){return bo(t)&&A_(t.length)&&!!en[rs(t)]}function X9(t){return function(e){return t(e)}}var jM=typeof ri=="object"&&ri&&!ri.nodeType&&ri,bf=jM&&typeof ii=="object"&&ii&&!ii.nodeType&&ii,Z9=bf&&bf.exports===jM,S0=Z9&&NM.process,Q9=function(){try{var t=bf&&bf.require&&bf.require("util").types;return t||S0&&S0.binding&&S0.binding("util")}catch{}}();const HS=Q9;var FS=HS&&HS.isTypedArray,eH=FS?X9(FS):J9;const Ig=eH;var tH=Object.prototype,nH=tH.hasOwnProperty;function WM(t,e){var n=Ur(t),r=!n&&Qf(t),i=!n&&!r&&ed(t),o=!n&&!r&&!i&&Ig(t),s=n||r||i||o,l=s?v9(t.length,String):[],u=l.length;for(var f in t)(e||nH.call(t,f))&&!(s&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||T_(f,u)))&&l.push(f);return l}function UM(t,e){return function(n){return t(e(n))}}var rH=UM(Object.keys,Object);const iH=rH;var oH=Object.prototype,sH=oH.hasOwnProperty;function O_(t){if(!Ng(t))return iH(t);var e=[];for(var n in Object(t))sH.call(t,n)&&n!="constructor"&&e.push(n);return e}function Pg(t){return Il(t)?WM(t):O_(t)}function aH(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var lH=Object.prototype,uH=lH.hasOwnProperty;function cH(t){if(!gr(t))return aH(t);var e=Ng(t),n=[];for(var r in t)r=="constructor"&&(e||!uH.call(t,r))||n.push(r);return n}function M_(t){return Il(t)?WM(t,!0):cH(t)}var fH=HM(function(t,e,n,r){zM(e,M_(e),t,r)});const VS=fH;var dH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hH=/^\w*$/;function L_(t,e){if(Ur(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Lg(t)?!0:hH.test(t)||!dH.test(t)||e!=null&&t in Object(e)}var pH=Nl(Object,"create");const td=pH;function mH(){this.__data__=td?td(null):{},this.size=0}function gH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var vH="__lodash_hash_undefined__",yH=Object.prototype,bH=yH.hasOwnProperty;function _H(t){var e=this.__data__;if(td){var n=e[t];return n===vH?void 0:n}return bH.call(e,t)?e[t]:void 0}var wH=Object.prototype,kH=wH.hasOwnProperty;function xH(t){var e=this.__data__;return td?e[t]!==void 0:kH.call(e,t)}var SH="__lodash_hash_undefined__";function CH(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=td&&e===void 0?SH:e,this}function gl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gl.prototype.clear=mH;gl.prototype.delete=gH;gl.prototype.get=_H;gl.prototype.has=xH;gl.prototype.set=CH;function TH(){this.__data__=[],this.size=0}function Dg(t,e){for(var n=t.length;n--;)if(ac(t[n][0],e))return n;return-1}var EH=Array.prototype,AH=EH.splice;function OH(t){var e=this.__data__,n=Dg(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():AH.call(e,n,1),--this.size,!0}function MH(t){var e=this.__data__,n=Dg(e,t);return n<0?void 0:e[n][1]}function LH(t){return Dg(this.__data__,t)>-1}function NH(t,e){var n=this.__data__,r=Dg(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function is(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}is.prototype.clear=TH;is.prototype.delete=OH;is.prototype.get=MH;is.prototype.has=LH;is.prototype.set=NH;var IH=Nl(Ki,"Map");const nd=IH;function PH(){this.size=0,this.__data__={hash:new gl,map:new(nd||is),string:new gl}}function DH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Rg(t,e){var n=t.__data__;return DH(e)?n[typeof e=="string"?"string":"hash"]:n.map}function RH(t){var e=Rg(this,t).delete(t);return this.size-=e?1:0,e}function zH(t){return Rg(this,t).get(t)}function BH(t){return Rg(this,t).has(t)}function $H(t,e){var n=Rg(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ss(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ss.prototype.clear=PH;ss.prototype.delete=RH;ss.prototype.get=zH;ss.prototype.has=BH;ss.prototype.set=$H;var HH="Expected a function";function N_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(HH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(N_.Cache||ss),n}N_.Cache=ss;var FH=500;function VH(t){var e=N_(t,function(r){return n.size===FH&&n.clear(),r}),n=e.cache;return e}var jH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WH=/\\(\\)?/g,UH=VH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jH,function(n,r,i,o){e.push(i?o.replace(WH,"$1"):r||n)}),e});const qH=UH;function Od(t){return t==null?"":DM(t)}function qM(t,e){return Ur(t)?t:L_(t,e)?[t]:qH(Od(t))}var KH=1/0;function zg(t){if(typeof t=="string"||Lg(t))return t;var e=t+"";return e=="0"&&1/t==-KH?"-0":e}function KM(t,e){e=qM(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[zg(e[n++])];return n&&n==r?t:void 0}function Qn(t,e,n){var r=t==null?void 0:KM(t,e);return r===void 0?n:r}function GH(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var YH=UM(Object.getPrototypeOf,Object);const GM=YH;var JH="[object Object]",XH=Function.prototype,ZH=Object.prototype,YM=XH.toString,QH=ZH.hasOwnProperty,eF=YM.call(Object);function JM(t){if(!bo(t)||rs(t)!=JH)return!1;var e=GM(t);if(e===null)return!0;var n=QH.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&YM.call(n)==eF}var tF="[object DOMException]",nF="[object Error]";function XM(t){if(!bo(t))return!1;var e=rs(t);return e==nF||e==tF||typeof t.message=="string"&&typeof t.name=="string"&&!JM(t)}var rF=BM(function(t,e){try{return RM(t,void 0,e)}catch(n){return XM(n)?n:new Error(n)}});const iF=rF;var oF="\\ud800-\\udfff",sF="\\u0300-\\u036f",aF="\\ufe20-\\ufe2f",lF="\\u20d0-\\u20ff",uF=sF+aF+lF,cF="\\ufe0e\\ufe0f",fF="\\u200d",dF=RegExp("["+fF+oF+uF+cF+"]");function hF(t){return dF.test(t)}function pF(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function ZM(t){return function(e){return t==null?void 0:t[e]}}var mF={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},gF=ZM(mF);const vF=gF;var yF=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bF="\\u0300-\\u036f",_F="\\ufe20-\\ufe2f",wF="\\u20d0-\\u20ff",kF=bF+_F+wF,xF="["+kF+"]",SF=RegExp(xF,"g");function CF(t){return t=Od(t),t&&t.replace(yF,vF).replace(SF,"")}var TF=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function EF(t){return t.match(TF)||[]}var AF=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function OF(t){return AF.test(t)}var QM="\\ud800-\\udfff",MF="\\u0300-\\u036f",LF="\\ufe20-\\ufe2f",NF="\\u20d0-\\u20ff",IF=MF+LF+NF,e6="\\u2700-\\u27bf",t6="a-z\\xdf-\\xf6\\xf8-\\xff",PF="\\xac\\xb1\\xd7\\xf7",DF="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",RF="\\u2000-\\u206f",zF=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n6="A-Z\\xc0-\\xd6\\xd8-\\xde",BF="\\ufe0e\\ufe0f",r6=PF+DF+RF+zF,i6="['’]",jS="["+r6+"]",$F="["+IF+"]",o6="\\d+",HF="["+e6+"]",s6="["+t6+"]",a6="[^"+QM+r6+o6+e6+t6+n6+"]",FF="\\ud83c[\\udffb-\\udfff]",VF="(?:"+$F+"|"+FF+")",jF="[^"+QM+"]",l6="(?:\\ud83c[\\udde6-\\uddff]){2}",u6="[\\ud800-\\udbff][\\udc00-\\udfff]",au="["+n6+"]",WF="\\u200d",WS="(?:"+s6+"|"+a6+")",UF="(?:"+au+"|"+a6+")",US="(?:"+i6+"(?:d|ll|m|re|s|t|ve))?",qS="(?:"+i6+"(?:D|LL|M|RE|S|T|VE))?",c6=VF+"?",f6="["+BF+"]?",qF="(?:"+WF+"(?:"+[jF,l6,u6].join("|")+")"+f6+c6+")*",KF="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",GF="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",YF=f6+c6+qF,JF="(?:"+[HF,l6,u6].join("|")+")"+YF,XF=RegExp([au+"?"+s6+"+"+US+"(?="+[jS,au,"$"].join("|")+")",UF+"+"+qS+"(?="+[jS,au+WS,"$"].join("|")+")",au+"?"+WS+"+"+US,au+"+"+qS,GF,KF,o6,JF].join("|"),"g");function ZF(t){return t.match(XF)||[]}function QF(t,e,n){return t=Od(t),e=n?void 0:e,e===void 0?OF(t)?ZF(t):EF(t):t.match(e)||[]}var eV="['’]",tV=RegExp(eV,"g");function nV(t){return function(e){return pF(QF(CF(e).replace(tV,"")),t,"")}}function rV(){this.__data__=new is,this.size=0}function iV(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function oV(t){return this.__data__.get(t)}function sV(t){return this.__data__.has(t)}var aV=200;function lV(t,e){var n=this.__data__;if(n instanceof is){var r=n.__data__;if(!nd||r.length<aV-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ss(r)}return n.set(t,e),this.size=n.size,this}function go(t){var e=this.__data__=new is(t);this.size=e.size}go.prototype.clear=rV;go.prototype.delete=iV;go.prototype.get=oV;go.prototype.has=sV;go.prototype.set=lV;var d6=typeof ri=="object"&&ri&&!ri.nodeType&&ri,KS=d6&&typeof ii=="object"&&ii&&!ii.nodeType&&ii,uV=KS&&KS.exports===d6,GS=uV?Ki.Buffer:void 0,YS=GS?GS.allocUnsafe:void 0;function cV(t,e){if(e)return t.slice();var n=t.length,r=YS?YS(n):new t.constructor(n);return t.copy(r),r}function fV(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function dV(){return[]}var hV=Object.prototype,pV=hV.propertyIsEnumerable,JS=Object.getOwnPropertySymbols,mV=JS?function(t){return t==null?[]:(t=Object(t),fV(JS(t),function(e){return pV.call(t,e)}))}:dV;const gV=mV;function vV(t,e,n){var r=e(t);return Ur(t)?r:GH(r,n(t))}function XS(t){return vV(t,Pg,gV)}var yV=Nl(Ki,"DataView");const fb=yV;var bV=Nl(Ki,"Promise");const db=bV;var _V=Nl(Ki,"Set");const hb=_V;var ZS="[object Map]",wV="[object Object]",QS="[object Promise]",eC="[object Set]",tC="[object WeakMap]",nC="[object DataView]",kV=Ll(fb),xV=Ll(nd),SV=Ll(db),CV=Ll(hb),TV=Ll(cb),Pa=rs;(fb&&Pa(new fb(new ArrayBuffer(1)))!=nC||nd&&Pa(new nd)!=ZS||db&&Pa(db.resolve())!=QS||hb&&Pa(new hb)!=eC||cb&&Pa(new cb)!=tC)&&(Pa=function(t){var e=rs(t),n=e==wV?t.constructor:void 0,r=n?Ll(n):"";if(r)switch(r){case kV:return nC;case xV:return ZS;case SV:return QS;case CV:return eC;case TV:return tC}return e});const hm=Pa;var EV=Ki.Uint8Array;const pm=EV;function AV(t){var e=new t.constructor(t.byteLength);return new pm(e).set(new pm(t)),e}function OV(t,e){var n=e?AV(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function MV(t){return typeof t.constructor=="function"&&!Ng(t)?J$(GM(t)):{}}var LV="__lodash_hash_undefined__";function NV(t){return this.__data__.set(t,LV),this}function IV(t){return this.__data__.has(t)}function mm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ss;++e<n;)this.add(t[e])}mm.prototype.add=mm.prototype.push=NV;mm.prototype.has=IV;function PV(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function DV(t,e){return t.has(e)}var RV=1,zV=2;function h6(t,e,n,r,i,o){var s=n&RV,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var f=o.get(t),d=o.get(e);if(f&&d)return f==e&&d==t;var m=-1,v=!0,y=n&zV?new mm:void 0;for(o.set(t,e),o.set(e,t);++m<l;){var _=t[m],C=e[m];if(r)var x=s?r(C,_,m,e,t,o):r(_,C,m,t,e,o);if(x!==void 0){if(x)continue;v=!1;break}if(y){if(!PV(e,function(k,A){if(!DV(y,A)&&(_===k||i(_,k,n,r,o)))return y.push(A)})){v=!1;break}}else if(!(_===C||i(_,C,n,r,o))){v=!1;break}}return o.delete(t),o.delete(e),v}function BV(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function $V(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var HV=1,FV=2,VV="[object Boolean]",jV="[object Date]",WV="[object Error]",UV="[object Map]",qV="[object Number]",KV="[object RegExp]",GV="[object Set]",YV="[object String]",JV="[object Symbol]",XV="[object ArrayBuffer]",ZV="[object DataView]",rC=na?na.prototype:void 0,C0=rC?rC.valueOf:void 0;function QV(t,e,n,r,i,o,s){switch(n){case ZV:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case XV:return!(t.byteLength!=e.byteLength||!o(new pm(t),new pm(e)));case VV:case jV:case qV:return ac(+t,+e);case WV:return t.name==e.name&&t.message==e.message;case KV:case YV:return t==e+"";case UV:var l=BV;case GV:var u=r&HV;if(l||(l=$V),t.size!=e.size&&!u)return!1;var f=s.get(t);if(f)return f==e;r|=FV,s.set(t,e);var d=h6(l(t),l(e),r,i,o,s);return s.delete(t),d;case JV:if(C0)return C0.call(t)==C0.call(e)}return!1}var ej=1,tj=Object.prototype,nj=tj.hasOwnProperty;function rj(t,e,n,r,i,o){var s=n&ej,l=XS(t),u=l.length,f=XS(e),d=f.length;if(u!=d&&!s)return!1;for(var m=u;m--;){var v=l[m];if(!(s?v in e:nj.call(e,v)))return!1}var y=o.get(t),_=o.get(e);if(y&&_)return y==e&&_==t;var C=!0;o.set(t,e),o.set(e,t);for(var x=s;++m<u;){v=l[m];var k=t[v],A=e[v];if(r)var N=s?r(A,k,v,e,t,o):r(k,A,v,t,e,o);if(!(N===void 0?k===A||i(k,A,n,r,o):N)){C=!1;break}x||(x=v=="constructor")}if(C&&!x){var E=t.constructor,H=e.constructor;E!=H&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof H=="function"&&H instanceof H)&&(C=!1)}return o.delete(t),o.delete(e),C}var ij=1,iC="[object Arguments]",oC="[object Array]",jh="[object Object]",oj=Object.prototype,sC=oj.hasOwnProperty;function sj(t,e,n,r,i,o){var s=Ur(t),l=Ur(e),u=s?oC:hm(t),f=l?oC:hm(e);u=u==iC?jh:u,f=f==iC?jh:f;var d=u==jh,m=f==jh,v=u==f;if(v&&ed(t)){if(!ed(e))return!1;s=!0,d=!1}if(v&&!d)return o||(o=new go),s||Ig(t)?h6(t,e,n,r,i,o):QV(t,e,u,n,r,i,o);if(!(n&ij)){var y=d&&sC.call(t,"__wrapped__"),_=m&&sC.call(e,"__wrapped__");if(y||_){var C=y?t.value():t,x=_?e.value():e;return o||(o=new go),i(C,x,n,r,o)}}return v?(o||(o=new go),rj(t,e,n,r,i,o)):!1}function I_(t,e,n,r,i){return t===e?!0:t==null||e==null||!bo(t)&&!bo(e)?t!==t&&e!==e:sj(t,e,n,r,I_,i)}var aj=1,lj=2;function uj(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var l=n[i];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){l=n[i];var u=l[0],f=t[u],d=l[1];if(s&&l[2]){if(f===void 0&&!(u in t))return!1}else{var m=new go;if(r)var v=r(f,d,u,t,e,m);if(!(v===void 0?I_(d,f,aj|lj,r,m):v))return!1}}return!0}function p6(t){return t===t&&!gr(t)}function cj(t){for(var e=Pg(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,p6(i)]}return e}function m6(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function fj(t){var e=cj(t);return e.length==1&&e[0][2]?m6(e[0][0],e[0][1]):function(n){return n===t||uj(n,t,e)}}function dj(t,e){return t!=null&&e in Object(t)}function hj(t,e,n){e=qM(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=zg(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&A_(i)&&T_(s,i)&&(Ur(t)||Qf(t)))}function pj(t,e){return t!=null&&hj(t,e,dj)}var mj=1,gj=2;function vj(t,e){return L_(t)&&p6(e)?m6(zg(t),e):function(n){var r=Qn(n,t);return r===void 0&&r===e?pj(n,t):I_(e,r,mj|gj)}}function g6(t){return function(e){return e==null?void 0:e[t]}}function yj(t){return function(e){return KM(e,t)}}function bj(t){return L_(t)?g6(zg(t)):yj(t)}function v6(t){return typeof t=="function"?t:t==null?S_:typeof t=="object"?Ur(t)?vj(t[0],t[1]):fj(t):bj(t)}function _j(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),l=s.length;l--;){var u=s[t?l:++i];if(n(o[u],u,o)===!1)break}return e}}var wj=_j();const kj=wj;var xj=function(){return Ki.Date.now()};const T0=xj;var Sj="Expected a function",Cj=Math.max,Tj=Math.min;function Ej(t,e,n){var r,i,o,s,l,u,f=0,d=!1,m=!1,v=!0;if(typeof t!="function")throw new TypeError(Sj);e=ub(e)||0,gr(n)&&(d=!!n.leading,m="maxWait"in n,o=m?Cj(ub(n.maxWait)||0,e):o,v="trailing"in n?!!n.trailing:v);function y(I){var q=r,P=i;return r=i=void 0,f=I,s=t.apply(P,q),s}function _(I){return f=I,l=setTimeout(k,e),d?y(I):s}function C(I){var q=I-u,P=I-f,z=e-q;return m?Tj(z,o-P):z}function x(I){var q=I-u,P=I-f;return u===void 0||q>=e||q<0||m&&P>=o}function k(){var I=T0();if(x(I))return A(I);l=setTimeout(k,C(I))}function A(I){return l=void 0,v&&r?y(I):(r=i=void 0,s)}function N(){l!==void 0&&clearTimeout(l),f=0,r=u=i=l=void 0}function E(){return l===void 0?s:A(T0())}function H(){var I=T0(),q=x(I);if(r=arguments,i=this,u=I,q){if(l===void 0)return _(u);if(m)return clearTimeout(l),l=setTimeout(k,e),y(u)}return l===void 0&&(l=setTimeout(k,e)),s}return H.cancel=N,H.flush=E,H}function pb(t,e,n){(n!==void 0&&!ac(t[e],n)||n===void 0&&!(e in t))&&E_(t,e,n)}function Aj(t){return bo(t)&&Il(t)}function mb(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Oj(t){return zM(t,M_(t))}function Mj(t,e,n,r,i,o,s){var l=mb(t,n),u=mb(e,n),f=s.get(u);if(f){pb(t,n,f);return}var d=o?o(l,u,n+"",t,e,s):void 0,m=d===void 0;if(m){var v=Ur(u),y=!v&&ed(u),_=!v&&!y&&Ig(u);d=u,v||y||_?Ur(l)?d=l:Aj(l)?d=X$(l):y?(m=!1,d=cV(u,!0)):_?(m=!1,d=OV(u,!0)):d=[]:JM(u)||Qf(u)?(d=l,Qf(l)?d=Oj(l):(!gr(l)||C_(l))&&(d=MV(u))):m=!1}m&&(s.set(u,d),i(d,u,r,o,s),s.delete(u)),pb(t,n,d)}function y6(t,e,n,r,i){t!==e&&kj(e,function(o,s){if(i||(i=new go),gr(o))Mj(t,e,s,n,y6,r,i);else{var l=r?r(mb(t,s),o,s+"",t,e,i):void 0;l===void 0&&(l=o),pb(t,s,l)}},M_)}var Lj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nj=ZM(Lj);const Ij=Nj;var b6=/[&<>"']/g,Pj=RegExp(b6.source);function Dj(t){return t=Od(t),t&&Pj.test(t)?t.replace(b6,Ij):t}function Rj(t){return function(e,n,r){var i=Object(e);if(!Il(e)){var o=v6(n);e=Pg(e),n=function(l){return o(i[l],l,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var zj=Math.max;function Bj(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:M$(n);return i<0&&(i=zj(r+i,0)),l9(t,v6(e),i)}var $j=Rj(Bj);const gb=$j;var Hj="[object String]";function Fj(t){return typeof t=="string"||!Ur(t)&&bo(t)&&rs(t)==Hj}function Vj(t,e){return PM(e,function(n){return t[n]})}var jj="[object Map]",Wj="[object Set]",Uj=Object.prototype,qj=Uj.hasOwnProperty;function Mi(t){if(t==null)return!0;if(Il(t)&&(Ur(t)||typeof t=="string"||typeof t.splice=="function"||ed(t)||Ig(t)||Qf(t)))return!t.length;var e=hm(t);if(e==jj||e==Wj)return!t.size;if(Ng(t))return!O_(t).length;for(var n in t)if(qj.call(t,n))return!1;return!0}var Kj=nV(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});const Gj=Kj;var Yj=HM(function(t,e,n){y6(t,e,n)});const Jj=Yj;var Xj=g6("length");const Zj=Xj;var _6="\\ud800-\\udfff",Qj="\\u0300-\\u036f",eW="\\ufe20-\\ufe2f",tW="\\u20d0-\\u20ff",nW=Qj+eW+tW,rW="\\ufe0e\\ufe0f",iW="["+_6+"]",vb="["+nW+"]",yb="\\ud83c[\\udffb-\\udfff]",oW="(?:"+vb+"|"+yb+")",w6="[^"+_6+"]",k6="(?:\\ud83c[\\udde6-\\uddff]){2}",x6="[\\ud800-\\udbff][\\udc00-\\udfff]",sW="\\u200d",S6=oW+"?",C6="["+rW+"]?",aW="(?:"+sW+"(?:"+[w6,k6,x6].join("|")+")"+C6+S6+")*",lW=C6+S6+aW,uW="(?:"+[w6+vb+"?",vb,k6,x6,iW].join("|")+")",aC=RegExp(yb+"(?="+yb+")|"+uW+lW,"g");function cW(t){for(var e=aC.lastIndex=0;aC.test(t);)++e;return e}function fW(t){return hF(t)?cW(t):Zj(t)}var dW="[object Map]",hW="[object Set]";function P_(t){if(t==null)return 0;if(Il(t))return Fj(t)?fW(t):t.length;var e=hm(t);return e==dW||e==hW?t.size:O_(t).length}var T6=Object.prototype,pW=T6.hasOwnProperty;function lC(t,e,n,r){return t===void 0||ac(t,T6[n])&&!pW.call(r,n)?e:t}var mW={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function gW(t){return"\\"+mW[t]}var vW=/<%=([\s\S]+?)%>/g;const E6=vW;var yW=/<%-([\s\S]+?)%>/g;const bW=yW;var _W=/<%([\s\S]+?)%>/g;const wW=_W;var kW={escape:bW,evaluate:wW,interpolate:E6,variable:"",imports:{_:{escape:Dj}}};const uC=kW;var xW="Invalid `variable` option passed into `_.template`",SW=/\b__p \+= '';/g,CW=/\b(__p \+=) '' \+/g,TW=/(__e\(.*?\)|\b__t\)) \+\n'';/g,EW=/[()=,{}\[\]\/\s]/,AW=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wh=/($^)/,OW=/['\n\r\u2028\u2029\\]/g,MW=Object.prototype,cC=MW.hasOwnProperty;function LW(t,e,n){var r=uC.imports._.templateSettings||uC;n&&$M(t,e,n)&&(e=void 0),t=Od(t),e=VS({},e,r,lC);var i=VS({},e.imports,r.imports,lC),o=Pg(i),s=Vj(i,o),l,u,f=0,d=e.interpolate||Wh,m="__p += '",v=RegExp((e.escape||Wh).source+"|"+d.source+"|"+(d===E6?AW:Wh).source+"|"+(e.evaluate||Wh).source+"|$","g"),y=cC.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(v,function(x,k,A,N,E,H){return A||(A=N),m+=t.slice(f,H).replace(OW,gW),k&&(l=!0,m+=`' +
========
`;XB(ZB);Mg.render=JB;Mg.__scopeId="data-v-2836fdb5";Mg.__file="lib/VueFinalModal.vue";var x_={props:{},methods:{slice:function(e){this.api.dynamicModals.splice(e,1)},beforeOpen:function(e,n,r){var i=this;return xB(function*(){e.ref.params.value=n.params,yield i.$nextTick(),yield i.$nextTick(),n.value||(i.slice(r),n.reject("show"))})()},isString:function(e){return typeof e=="string"}}},QB={class:"modals-container"};function e$(t,e,n,r,i,o){return ge(),Ct("div",QB,[(ge(!0),Ct(kt,null,Zt(t.api.dynamicModals,function(s,l){return ge(),Ct(Qs(s.component),wi({key:s.id},s.bind,{modelValue:s.value,"onUpdate:modelValue":function(f){return s.value=f}},L0(s.on),{on_closed:function(f){return o.slice(l)},on_beforeOpen:function(f){return o.beforeOpen(f,s)},on_opened:s.opened}),W1({_:2},[Zt(s.slots,function(u,f){return{name:f,fn:Vt(function(){return[gt(" eslint-disable vue/no-v-html "),o.isString(u)?(ge(),Ct("div",{key:0,innerHTML:u},null,8,["innerHTML"])):(ge(),Ct(Qs(u.component),wi({key:1},u.bind,L0(u.on||{})),null,16))]})}})]),1040,["modelValue","onUpdate:modelValue","on_closed","on_beforeOpen","on_opened"])}),128))])}x_.render=e$;x_.__file="lib/ModalsContainer.vue";function t$(){var t=null;return{show:function(n){for(var r=this,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];switch(gf(n)){case"string":return this.toggle.apply(this,[n,!0].concat(o));case"object":return Promise.allSettled([new Promise(function(l,u){var f={value:!0,id:Symbol("dynamicModal"),component:t,bind:{},slots:{},on:{},params:o[0],reject:u,opened:function(){l("show")}};r.dynamicModals.push(Fp(Object.assign(f,n)))})])}},hide:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.toggle(r,!1)},hideAll:function(){return this.hide.apply(this,ml(this.openedModals.map(function(n){return n.props.name})))},toggle:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var s=Array.isArray(n)?this.get.apply(this,ml(n)):this.get(n);return Promise.allSettled(s.map(function(l){return l.toggle.apply(l,i)}))},get:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.modals.filter(function(o){return r.includes(o.props.name)})},dynamicModals:Fp([]),openedModals:[],modals:[],_setDefaultModal:function(n){t=n}}}function C3(t,e){var n=Rr(Rr({},t),{},{props:Rr({},t.props)});return Object.assign(n.props,{api:{type:Object,default:function(){return e}}}),n}function n$(t){var e=C3(Mg,t);return t._setDefaultModal(e),e}function r$(t){return C3(x_,t)}var T2=0,T3="$vfm",E3="VueFinalModal",A3="ModalsContainer",O3=function(){var e,n=t$();return e={},Au(e,T3,n),Au(e,E3,n$(n)),Au(e,A3,r$(n)),e},Ng=O3();Ng.$vfm;Ng.VueFinalModal;Ng.ModalsContainer;var M3=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=T2===0?Ng:O3(),i=r.$vfm,o=r.VueFinalModal,s=r.ModalsContainer;T2+=1;var l=n.key||T3,u=n.componentName||E3,f=n.dynamicContainerName||A3;Object.defineProperty(e.config.globalProperties,l,{get:function(){return i}}),e.provide(l,i),e.component(u,o),e.component(f,s)},N3=function(e){return{install:function(r,i){var o=Object.assign({},e,i);M3(r,o)}}};N3.install=M3;const E2={$idFactory(t){return function(n=""){return`${this[t]}-${n}`}},$idRef(t){return`#${this.$id(t)}`}},A2={uidProperty:"uid",uidPrefix:"uid-"};function i$(t,e={}){const n=e.uidProperty||A2.uidProperty,r=e.uidPrefix||A2.uidPrefix;let i=0;t.mixin({beforeCreate(){i+=1;const s=r+i;Object.defineProperties(this,{[n]:{get(){return s}}})}});const o=t.version.slice(0,2)==="3."?t.config.globalProperties:t.prototype;o.$id=E2.$idFactory(n),o.$idRef=E2.$idRef}const o$=function(t){if(t!==void 0)return JSON.parse(JSON.stringify(t))};var s$=typeof global=="object"&&global&&global.Object===Object&&global;const L3=s$;var a$=typeof self=="object"&&self&&self.Object===Object&&self,l$=L3||a$||Function("return this")();const Ki=l$;var u$=Ki.Symbol;const na=u$;var I3=Object.prototype,c$=I3.hasOwnProperty,f$=I3.toString,Kc=na?na.toStringTag:void 0;function d$(t){var e=c$.call(t,Kc),n=t[Kc];try{t[Kc]=void 0;var r=!0}catch{}var i=f$.call(t);return r&&(e?t[Kc]=n:delete t[Kc]),i}var h$=Object.prototype,p$=h$.toString;function m$(t){return p$.call(t)}var g$="[object Null]",v$="[object Undefined]",O2=na?na.toStringTag:void 0;function rs(t){return t==null?t===void 0?v$:g$:O2&&O2 in Object(t)?d$(t):m$(t)}function bo(t){return t!=null&&typeof t=="object"}var y$="[object Symbol]";function Lg(t){return typeof t=="symbol"||bo(t)&&rs(t)==y$}function P3(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var b$=Array.isArray;const Ur=b$;var _$=1/0,M2=na?na.prototype:void 0,N2=M2?M2.toString:void 0;function D3(t){if(typeof t=="string")return t;if(Ur(t))return P3(t,D3)+"";if(Lg(t))return N2?N2.call(t):"";var e=t+"";return e=="0"&&1/t==-_$?"-0":e}var w$=/\s/;function k$(t){for(var e=t.length;e--&&w$.test(t.charAt(e)););return e}var x$=/^\s+/;function S$(t){return t&&t.slice(0,k$(t)+1).replace(x$,"")}function vr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var L2=0/0,C$=/^[-+]0x[0-9a-f]+$/i,T$=/^0b[01]+$/i,E$=/^0o[0-7]+$/i,A$=parseInt;function ub(t){if(typeof t=="number")return t;if(Lg(t))return L2;if(vr(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vr(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=S$(t);var n=T$.test(t);return n||E$.test(t)?A$(t.slice(2),n?2:8):C$.test(t)?L2:+t}var I2=1/0,O$=17976931348623157e292;function M$(t){if(!t)return t===0?t:0;if(t=ub(t),t===I2||t===-I2){var e=t<0?-1:1;return e*O$}return t===t?t:0}function N$(t){var e=M$(t),n=e%1;return e===e?n?e-n:e:0}function S_(t){return t}var L$="[object AsyncFunction]",I$="[object Function]",P$="[object GeneratorFunction]",D$="[object Proxy]";function C_(t){if(!vr(t))return!1;var e=rs(t);return e==I$||e==P$||e==L$||e==D$}var R$=Ki["__core-js_shared__"];const Sy=R$;var P2=function(){var t=/[^.]+$/.exec(Sy&&Sy.keys&&Sy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function z$(t){return!!P2&&P2 in t}var B$=Function.prototype,$$=B$.toString;function Nl(t){if(t!=null){try{return $$.call(t)}catch{}try{return t+""}catch{}}return""}var H$=/[\\^$.*+?()[\]{}|]/g,F$=/^\[object .+?Constructor\]$/,V$=Function.prototype,j$=Object.prototype,W$=V$.toString,U$=j$.hasOwnProperty,q$=RegExp("^"+W$.call(U$).replace(H$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K$(t){if(!vr(t)||z$(t))return!1;var e=C_(t)?q$:F$;return e.test(Nl(t))}function G$(t,e){return t==null?void 0:t[e]}function Ll(t,e){var n=G$(t,e);return K$(n)?n:void 0}var Y$=Ll(Ki,"WeakMap");const cb=Y$;var D2=Object.create,J$=function(){function t(){}return function(e){if(!vr(e))return{};if(D2)return D2(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const X$=J$;function R3(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Z$(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Q$=800,eH=16,tH=Date.now;function nH(t){var e=0,n=0;return function(){var r=tH(),i=eH-(r-n);if(n=r,i>0){if(++e>=Q$)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function rH(t){return function(){return t}}var iH=function(){try{var t=Ll(Object,"defineProperty");return t({},"",{}),t}catch{}}();const hm=iH;var oH=hm?function(t,e){return hm(t,"toString",{configurable:!0,enumerable:!1,value:rH(e),writable:!0})}:S_;const sH=oH;var aH=nH(sH);const lH=aH;function uH(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var cH=9007199254740991,fH=/^(?:0|[1-9]\d*)$/;function T_(t,e){var n=typeof t;return e=e??cH,!!e&&(n=="number"||n!="symbol"&&fH.test(t))&&t>-1&&t%1==0&&t<e}function E_(t,e,n){e=="__proto__"&&hm?hm(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ac(t,e){return t===e||t!==t&&e!==e}var dH=Object.prototype,hH=dH.hasOwnProperty;function pH(t,e,n){var r=t[e];(!(hH.call(t,e)&&ac(r,n))||n===void 0&&!(e in t))&&E_(t,e,n)}function z3(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var l=e[o],u=r?r(n[l],t[l],l,n,t):void 0;u===void 0&&(u=t[l]),i?E_(n,l,u):pH(n,l,u)}return n}var R2=Math.max;function mH(t,e,n){return e=R2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=R2(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(s),R3(t,this,l)}}function B3(t,e){return lH(mH(t,e,S_),t+"")}var gH=9007199254740991;function A_(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gH}function Il(t){return t!=null&&A_(t.length)&&!C_(t)}function $3(t,e,n){if(!vr(n))return!1;var r=typeof e;return(r=="number"?Il(n)&&T_(e,n.length):r=="string"&&e in n)?ac(n[e],t):!1}function H3(t){return B3(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&$3(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,o)}return e})}var vH=Object.prototype;function Ig(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vH;return t===n}function yH(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var bH="[object Arguments]";function z2(t){return bo(t)&&rs(t)==bH}var F3=Object.prototype,_H=F3.hasOwnProperty,wH=F3.propertyIsEnumerable,kH=z2(function(){return arguments}())?z2:function(t){return bo(t)&&_H.call(t,"callee")&&!wH.call(t,"callee")};const ed=kH;function xH(){return!1}var V3=typeof ri=="object"&&ri&&!ri.nodeType&&ri,B2=V3&&typeof ii=="object"&&ii&&!ii.nodeType&&ii,SH=B2&&B2.exports===V3,$2=SH?Ki.Buffer:void 0,CH=$2?$2.isBuffer:void 0,TH=CH||xH;const td=TH;var EH="[object Arguments]",AH="[object Array]",OH="[object Boolean]",MH="[object Date]",NH="[object Error]",LH="[object Function]",IH="[object Map]",PH="[object Number]",DH="[object Object]",RH="[object RegExp]",zH="[object Set]",BH="[object String]",$H="[object WeakMap]",HH="[object ArrayBuffer]",FH="[object DataView]",VH="[object Float32Array]",jH="[object Float64Array]",WH="[object Int8Array]",UH="[object Int16Array]",qH="[object Int32Array]",KH="[object Uint8Array]",GH="[object Uint8ClampedArray]",YH="[object Uint16Array]",JH="[object Uint32Array]",en={};en[VH]=en[jH]=en[WH]=en[UH]=en[qH]=en[KH]=en[GH]=en[YH]=en[JH]=!0;en[EH]=en[AH]=en[HH]=en[OH]=en[FH]=en[MH]=en[NH]=en[LH]=en[IH]=en[PH]=en[DH]=en[RH]=en[zH]=en[BH]=en[$H]=!1;function XH(t){return bo(t)&&A_(t.length)&&!!en[rs(t)]}function ZH(t){return function(e){return t(e)}}var j3=typeof ri=="object"&&ri&&!ri.nodeType&&ri,bf=j3&&typeof ii=="object"&&ii&&!ii.nodeType&&ii,QH=bf&&bf.exports===j3,Cy=QH&&L3.process,e9=function(){try{var t=bf&&bf.require&&bf.require("util").types;return t||Cy&&Cy.binding&&Cy.binding("util")}catch{}}();const H2=e9;var F2=H2&&H2.isTypedArray,t9=F2?ZH(F2):XH;const Pg=t9;var n9=Object.prototype,r9=n9.hasOwnProperty;function W3(t,e){var n=Ur(t),r=!n&&ed(t),i=!n&&!r&&td(t),o=!n&&!r&&!i&&Pg(t),s=n||r||i||o,l=s?yH(t.length,String):[],u=l.length;for(var f in t)(e||r9.call(t,f))&&!(s&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||T_(f,u)))&&l.push(f);return l}function U3(t,e){return function(n){return t(e(n))}}var i9=U3(Object.keys,Object);const o9=i9;var s9=Object.prototype,a9=s9.hasOwnProperty;function O_(t){if(!Ig(t))return o9(t);var e=[];for(var n in Object(t))a9.call(t,n)&&n!="constructor"&&e.push(n);return e}function Dg(t){return Il(t)?W3(t):O_(t)}function l9(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var u9=Object.prototype,c9=u9.hasOwnProperty;function f9(t){if(!vr(t))return l9(t);var e=Ig(t),n=[];for(var r in t)r=="constructor"&&(e||!c9.call(t,r))||n.push(r);return n}function M_(t){return Il(t)?W3(t,!0):f9(t)}var d9=H3(function(t,e,n,r){z3(e,M_(e),t,r)});const V2=d9;var h9=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p9=/^\w*$/;function N_(t,e){if(Ur(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Lg(t)?!0:p9.test(t)||!h9.test(t)||e!=null&&t in Object(e)}var m9=Ll(Object,"create");const nd=m9;function g9(){this.__data__=nd?nd(null):{},this.size=0}function v9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var y9="__lodash_hash_undefined__",b9=Object.prototype,_9=b9.hasOwnProperty;function w9(t){var e=this.__data__;if(nd){var n=e[t];return n===y9?void 0:n}return _9.call(e,t)?e[t]:void 0}var k9=Object.prototype,x9=k9.hasOwnProperty;function S9(t){var e=this.__data__;return nd?e[t]!==void 0:x9.call(e,t)}var C9="__lodash_hash_undefined__";function T9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nd&&e===void 0?C9:e,this}function gl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gl.prototype.clear=g9;gl.prototype.delete=v9;gl.prototype.get=w9;gl.prototype.has=S9;gl.prototype.set=T9;function E9(){this.__data__=[],this.size=0}function Rg(t,e){for(var n=t.length;n--;)if(ac(t[n][0],e))return n;return-1}var A9=Array.prototype,O9=A9.splice;function M9(t){var e=this.__data__,n=Rg(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():O9.call(e,n,1),--this.size,!0}function N9(t){var e=this.__data__,n=Rg(e,t);return n<0?void 0:e[n][1]}function L9(t){return Rg(this.__data__,t)>-1}function I9(t,e){var n=this.__data__,r=Rg(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function is(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}is.prototype.clear=E9;is.prototype.delete=M9;is.prototype.get=N9;is.prototype.has=L9;is.prototype.set=I9;var P9=Ll(Ki,"Map");const rd=P9;function D9(){this.size=0,this.__data__={hash:new gl,map:new(rd||is),string:new gl}}function R9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function zg(t,e){var n=t.__data__;return R9(e)?n[typeof e=="string"?"string":"hash"]:n.map}function z9(t){var e=zg(this,t).delete(t);return this.size-=e?1:0,e}function B9(t){return zg(this,t).get(t)}function $9(t){return zg(this,t).has(t)}function H9(t,e){var n=zg(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ss(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ss.prototype.clear=D9;ss.prototype.delete=z9;ss.prototype.get=B9;ss.prototype.has=$9;ss.prototype.set=H9;var F9="Expected a function";function L_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(F9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(L_.Cache||ss),n}L_.Cache=ss;var V9=500;function j9(t){var e=L_(t,function(r){return n.size===V9&&n.clear(),r}),n=e.cache;return e}var W9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U9=/\\(\\)?/g,q9=j9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(W9,function(n,r,i,o){e.push(i?o.replace(U9,"$1"):r||n)}),e});const K9=q9;function Md(t){return t==null?"":D3(t)}function q3(t,e){return Ur(t)?t:N_(t,e)?[t]:K9(Md(t))}var G9=1/0;function Bg(t){if(typeof t=="string"||Lg(t))return t;var e=t+"";return e=="0"&&1/t==-G9?"-0":e}function K3(t,e){e=q3(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Bg(e[n++])];return n&&n==r?t:void 0}function Qn(t,e,n){var r=t==null?void 0:K3(t,e);return r===void 0?n:r}function Y9(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var J9=U3(Object.getPrototypeOf,Object);const G3=J9;var X9="[object Object]",Z9=Function.prototype,Q9=Object.prototype,Y3=Z9.toString,eF=Q9.hasOwnProperty,tF=Y3.call(Object);function J3(t){if(!bo(t)||rs(t)!=X9)return!1;var e=G3(t);if(e===null)return!0;var n=eF.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Y3.call(n)==tF}var nF="[object DOMException]",rF="[object Error]";function X3(t){if(!bo(t))return!1;var e=rs(t);return e==rF||e==nF||typeof t.message=="string"&&typeof t.name=="string"&&!J3(t)}var iF=B3(function(t,e){try{return R3(t,void 0,e)}catch(n){return X3(n)?n:new Error(n)}});const oF=iF;var sF="\\ud800-\\udfff",aF="\\u0300-\\u036f",lF="\\ufe20-\\ufe2f",uF="\\u20d0-\\u20ff",cF=aF+lF+uF,fF="\\ufe0e\\ufe0f",dF="\\u200d",hF=RegExp("["+dF+sF+cF+fF+"]");function pF(t){return hF.test(t)}function mF(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Z3(t){return function(e){return t==null?void 0:t[e]}}var gF={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},vF=Z3(gF);const yF=vF;var bF=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_F="\\u0300-\\u036f",wF="\\ufe20-\\ufe2f",kF="\\u20d0-\\u20ff",xF=_F+wF+kF,SF="["+xF+"]",CF=RegExp(SF,"g");function TF(t){return t=Md(t),t&&t.replace(bF,yF).replace(CF,"")}var EF=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function AF(t){return t.match(EF)||[]}var OF=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function MF(t){return OF.test(t)}var Q3="\\ud800-\\udfff",NF="\\u0300-\\u036f",LF="\\ufe20-\\ufe2f",IF="\\u20d0-\\u20ff",PF=NF+LF+IF,e6="\\u2700-\\u27bf",t6="a-z\\xdf-\\xf6\\xf8-\\xff",DF="\\xac\\xb1\\xd7\\xf7",RF="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zF="\\u2000-\\u206f",BF=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n6="A-Z\\xc0-\\xd6\\xd8-\\xde",$F="\\ufe0e\\ufe0f",r6=DF+RF+zF+BF,i6="['’]",j2="["+r6+"]",HF="["+PF+"]",o6="\\d+",FF="["+e6+"]",s6="["+t6+"]",a6="[^"+Q3+r6+o6+e6+t6+n6+"]",VF="\\ud83c[\\udffb-\\udfff]",jF="(?:"+HF+"|"+VF+")",WF="[^"+Q3+"]",l6="(?:\\ud83c[\\udde6-\\uddff]){2}",u6="[\\ud800-\\udbff][\\udc00-\\udfff]",au="["+n6+"]",UF="\\u200d",W2="(?:"+s6+"|"+a6+")",qF="(?:"+au+"|"+a6+")",U2="(?:"+i6+"(?:d|ll|m|re|s|t|ve))?",q2="(?:"+i6+"(?:D|LL|M|RE|S|T|VE))?",c6=jF+"?",f6="["+$F+"]?",KF="(?:"+UF+"(?:"+[WF,l6,u6].join("|")+")"+f6+c6+")*",GF="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",YF="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",JF=f6+c6+KF,XF="(?:"+[FF,l6,u6].join("|")+")"+JF,ZF=RegExp([au+"?"+s6+"+"+U2+"(?="+[j2,au,"$"].join("|")+")",qF+"+"+q2+"(?="+[j2,au+W2,"$"].join("|")+")",au+"?"+W2+"+"+U2,au+"+"+q2,YF,GF,o6,XF].join("|"),"g");function QF(t){return t.match(ZF)||[]}function eV(t,e,n){return t=Md(t),e=n?void 0:e,e===void 0?MF(t)?QF(t):AF(t):t.match(e)||[]}var tV="['’]",nV=RegExp(tV,"g");function rV(t){return function(e){return mF(eV(TF(e).replace(nV,"")),t,"")}}function iV(){this.__data__=new is,this.size=0}function oV(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function sV(t){return this.__data__.get(t)}function aV(t){return this.__data__.has(t)}var lV=200;function uV(t,e){var n=this.__data__;if(n instanceof is){var r=n.__data__;if(!rd||r.length<lV-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ss(r)}return n.set(t,e),this.size=n.size,this}function go(t){var e=this.__data__=new is(t);this.size=e.size}go.prototype.clear=iV;go.prototype.delete=oV;go.prototype.get=sV;go.prototype.has=aV;go.prototype.set=uV;var d6=typeof ri=="object"&&ri&&!ri.nodeType&&ri,K2=d6&&typeof ii=="object"&&ii&&!ii.nodeType&&ii,cV=K2&&K2.exports===d6,G2=cV?Ki.Buffer:void 0,Y2=G2?G2.allocUnsafe:void 0;function fV(t,e){if(e)return t.slice();var n=t.length,r=Y2?Y2(n):new t.constructor(n);return t.copy(r),r}function dV(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function hV(){return[]}var pV=Object.prototype,mV=pV.propertyIsEnumerable,J2=Object.getOwnPropertySymbols,gV=J2?function(t){return t==null?[]:(t=Object(t),dV(J2(t),function(e){return mV.call(t,e)}))}:hV;const vV=gV;function yV(t,e,n){var r=e(t);return Ur(t)?r:Y9(r,n(t))}function X2(t){return yV(t,Dg,vV)}var bV=Ll(Ki,"DataView");const fb=bV;var _V=Ll(Ki,"Promise");const db=_V;var wV=Ll(Ki,"Set");const hb=wV;var Z2="[object Map]",kV="[object Object]",Q2="[object Promise]",eC="[object Set]",tC="[object WeakMap]",nC="[object DataView]",xV=Nl(fb),SV=Nl(rd),CV=Nl(db),TV=Nl(hb),EV=Nl(cb),Pa=rs;(fb&&Pa(new fb(new ArrayBuffer(1)))!=nC||rd&&Pa(new rd)!=Z2||db&&Pa(db.resolve())!=Q2||hb&&Pa(new hb)!=eC||cb&&Pa(new cb)!=tC)&&(Pa=function(t){var e=rs(t),n=e==kV?t.constructor:void 0,r=n?Nl(n):"";if(r)switch(r){case xV:return nC;case SV:return Z2;case CV:return Q2;case TV:return eC;case EV:return tC}return e});const pm=Pa;var AV=Ki.Uint8Array;const mm=AV;function OV(t){var e=new t.constructor(t.byteLength);return new mm(e).set(new mm(t)),e}function MV(t,e){var n=e?OV(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function NV(t){return typeof t.constructor=="function"&&!Ig(t)?X$(G3(t)):{}}var LV="__lodash_hash_undefined__";function IV(t){return this.__data__.set(t,LV),this}function PV(t){return this.__data__.has(t)}function gm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ss;++e<n;)this.add(t[e])}gm.prototype.add=gm.prototype.push=IV;gm.prototype.has=PV;function DV(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function RV(t,e){return t.has(e)}var zV=1,BV=2;function h6(t,e,n,r,i,o){var s=n&zV,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var f=o.get(t),d=o.get(e);if(f&&d)return f==e&&d==t;var m=-1,v=!0,y=n&BV?new gm:void 0;for(o.set(t,e),o.set(e,t);++m<l;){var _=t[m],C=e[m];if(r)var x=s?r(C,_,m,e,t,o):r(_,C,m,t,e,o);if(x!==void 0){if(x)continue;v=!1;break}if(y){if(!DV(e,function(k,A){if(!RV(y,A)&&(_===k||i(_,k,n,r,o)))return y.push(A)})){v=!1;break}}else if(!(_===C||i(_,C,n,r,o))){v=!1;break}}return o.delete(t),o.delete(e),v}function $V(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function HV(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var FV=1,VV=2,jV="[object Boolean]",WV="[object Date]",UV="[object Error]",qV="[object Map]",KV="[object Number]",GV="[object RegExp]",YV="[object Set]",JV="[object String]",XV="[object Symbol]",ZV="[object ArrayBuffer]",QV="[object DataView]",rC=na?na.prototype:void 0,Ty=rC?rC.valueOf:void 0;function ej(t,e,n,r,i,o,s){switch(n){case QV:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ZV:return!(t.byteLength!=e.byteLength||!o(new mm(t),new mm(e)));case jV:case WV:case KV:return ac(+t,+e);case UV:return t.name==e.name&&t.message==e.message;case GV:case JV:return t==e+"";case qV:var l=$V;case YV:var u=r&FV;if(l||(l=HV),t.size!=e.size&&!u)return!1;var f=s.get(t);if(f)return f==e;r|=VV,s.set(t,e);var d=h6(l(t),l(e),r,i,o,s);return s.delete(t),d;case XV:if(Ty)return Ty.call(t)==Ty.call(e)}return!1}var tj=1,nj=Object.prototype,rj=nj.hasOwnProperty;function ij(t,e,n,r,i,o){var s=n&tj,l=X2(t),u=l.length,f=X2(e),d=f.length;if(u!=d&&!s)return!1;for(var m=u;m--;){var v=l[m];if(!(s?v in e:rj.call(e,v)))return!1}var y=o.get(t),_=o.get(e);if(y&&_)return y==e&&_==t;var C=!0;o.set(t,e),o.set(e,t);for(var x=s;++m<u;){v=l[m];var k=t[v],A=e[v];if(r)var L=s?r(A,k,v,e,t,o):r(k,A,v,t,e,o);if(!(L===void 0?k===A||i(k,A,n,r,o):L)){C=!1;break}x||(x=v=="constructor")}if(C&&!x){var E=t.constructor,H=e.constructor;E!=H&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof H=="function"&&H instanceof H)&&(C=!1)}return o.delete(t),o.delete(e),C}var oj=1,iC="[object Arguments]",oC="[object Array]",Wh="[object Object]",sj=Object.prototype,sC=sj.hasOwnProperty;function aj(t,e,n,r,i,o){var s=Ur(t),l=Ur(e),u=s?oC:pm(t),f=l?oC:pm(e);u=u==iC?Wh:u,f=f==iC?Wh:f;var d=u==Wh,m=f==Wh,v=u==f;if(v&&td(t)){if(!td(e))return!1;s=!0,d=!1}if(v&&!d)return o||(o=new go),s||Pg(t)?h6(t,e,n,r,i,o):ej(t,e,u,n,r,i,o);if(!(n&oj)){var y=d&&sC.call(t,"__wrapped__"),_=m&&sC.call(e,"__wrapped__");if(y||_){var C=y?t.value():t,x=_?e.value():e;return o||(o=new go),i(C,x,n,r,o)}}return v?(o||(o=new go),ij(t,e,n,r,i,o)):!1}function I_(t,e,n,r,i){return t===e?!0:t==null||e==null||!bo(t)&&!bo(e)?t!==t&&e!==e:aj(t,e,n,r,I_,i)}var lj=1,uj=2;function cj(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var l=n[i];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){l=n[i];var u=l[0],f=t[u],d=l[1];if(s&&l[2]){if(f===void 0&&!(u in t))return!1}else{var m=new go;if(r)var v=r(f,d,u,t,e,m);if(!(v===void 0?I_(d,f,lj|uj,r,m):v))return!1}}return!0}function p6(t){return t===t&&!vr(t)}function fj(t){for(var e=Dg(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,p6(i)]}return e}function m6(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function dj(t){var e=fj(t);return e.length==1&&e[0][2]?m6(e[0][0],e[0][1]):function(n){return n===t||cj(n,t,e)}}function hj(t,e){return t!=null&&e in Object(t)}function pj(t,e,n){e=q3(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Bg(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&A_(i)&&T_(s,i)&&(Ur(t)||ed(t)))}function mj(t,e){return t!=null&&pj(t,e,hj)}var gj=1,vj=2;function yj(t,e){return N_(t)&&p6(e)?m6(Bg(t),e):function(n){var r=Qn(n,t);return r===void 0&&r===e?mj(n,t):I_(e,r,gj|vj)}}function g6(t){return function(e){return e==null?void 0:e[t]}}function bj(t){return function(e){return K3(e,t)}}function _j(t){return N_(t)?g6(Bg(t)):bj(t)}function v6(t){return typeof t=="function"?t:t==null?S_:typeof t=="object"?Ur(t)?yj(t[0],t[1]):dj(t):_j(t)}function wj(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),l=s.length;l--;){var u=s[t?l:++i];if(n(o[u],u,o)===!1)break}return e}}var kj=wj();const xj=kj;var Sj=function(){return Ki.Date.now()};const Ey=Sj;var Cj="Expected a function",Tj=Math.max,Ej=Math.min;function y6(t,e,n){var r,i,o,s,l,u,f=0,d=!1,m=!1,v=!0;if(typeof t!="function")throw new TypeError(Cj);e=ub(e)||0,vr(n)&&(d=!!n.leading,m="maxWait"in n,o=m?Tj(ub(n.maxWait)||0,e):o,v="trailing"in n?!!n.trailing:v);function y(I){var q=r,P=i;return r=i=void 0,f=I,s=t.apply(P,q),s}function _(I){return f=I,l=setTimeout(k,e),d?y(I):s}function C(I){var q=I-u,P=I-f,z=e-q;return m?Ej(z,o-P):z}function x(I){var q=I-u,P=I-f;return u===void 0||q>=e||q<0||m&&P>=o}function k(){var I=Ey();if(x(I))return A(I);l=setTimeout(k,C(I))}function A(I){return l=void 0,v&&r?y(I):(r=i=void 0,s)}function L(){l!==void 0&&clearTimeout(l),f=0,r=u=i=l=void 0}function E(){return l===void 0?s:A(Ey())}function H(){var I=Ey(),q=x(I);if(r=arguments,i=this,u=I,q){if(l===void 0)return _(u);if(m)return clearTimeout(l),l=setTimeout(k,e),y(u)}return l===void 0&&(l=setTimeout(k,e)),s}return H.cancel=L,H.flush=E,H}function pb(t,e,n){(n!==void 0&&!ac(t[e],n)||n===void 0&&!(e in t))&&E_(t,e,n)}function Aj(t){return bo(t)&&Il(t)}function mb(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Oj(t){return z3(t,M_(t))}function Mj(t,e,n,r,i,o,s){var l=mb(t,n),u=mb(e,n),f=s.get(u);if(f){pb(t,n,f);return}var d=o?o(l,u,n+"",t,e,s):void 0,m=d===void 0;if(m){var v=Ur(u),y=!v&&td(u),_=!v&&!y&&Pg(u);d=u,v||y||_?Ur(l)?d=l:Aj(l)?d=Z$(l):y?(m=!1,d=fV(u,!0)):_?(m=!1,d=MV(u,!0)):d=[]:J3(u)||ed(u)?(d=l,ed(l)?d=Oj(l):(!vr(l)||C_(l))&&(d=NV(u))):m=!1}m&&(s.set(u,d),i(d,u,r,o,s),s.delete(u)),pb(t,n,d)}function b6(t,e,n,r,i){t!==e&&xj(e,function(o,s){if(i||(i=new go),vr(o))Mj(t,e,s,n,b6,r,i);else{var l=r?r(mb(t,s),o,s+"",t,e,i):void 0;l===void 0&&(l=o),pb(t,s,l)}},M_)}var Nj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lj=Z3(Nj);const Ij=Lj;var _6=/[&<>"']/g,Pj=RegExp(_6.source);function Dj(t){return t=Md(t),t&&Pj.test(t)?t.replace(_6,Ij):t}function Rj(t){return function(e,n,r){var i=Object(e);if(!Il(e)){var o=v6(n);e=Dg(e),n=function(l){return o(i[l],l,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var zj=Math.max;function Bj(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:N$(n);return i<0&&(i=zj(r+i,0)),uH(t,v6(e),i)}var $j=Rj(Bj);const gb=$j;var Hj="[object String]";function Fj(t){return typeof t=="string"||!Ur(t)&&bo(t)&&rs(t)==Hj}function Vj(t,e){return P3(e,function(n){return t[n]})}var jj="[object Map]",Wj="[object Set]",Uj=Object.prototype,qj=Uj.hasOwnProperty;function Mi(t){if(t==null)return!0;if(Il(t)&&(Ur(t)||typeof t=="string"||typeof t.splice=="function"||td(t)||Pg(t)||ed(t)))return!t.length;var e=pm(t);if(e==jj||e==Wj)return!t.size;if(Ig(t))return!O_(t).length;for(var n in t)if(qj.call(t,n))return!1;return!0}var Kj=rV(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});const Gj=Kj;var Yj=H3(function(t,e,n){b6(t,e,n)});const Jj=Yj;var Xj=g6("length");const Zj=Xj;var w6="\\ud800-\\udfff",Qj="\\u0300-\\u036f",eW="\\ufe20-\\ufe2f",tW="\\u20d0-\\u20ff",nW=Qj+eW+tW,rW="\\ufe0e\\ufe0f",iW="["+w6+"]",vb="["+nW+"]",yb="\\ud83c[\\udffb-\\udfff]",oW="(?:"+vb+"|"+yb+")",k6="[^"+w6+"]",x6="(?:\\ud83c[\\udde6-\\uddff]){2}",S6="[\\ud800-\\udbff][\\udc00-\\udfff]",sW="\\u200d",C6=oW+"?",T6="["+rW+"]?",aW="(?:"+sW+"(?:"+[k6,x6,S6].join("|")+")"+T6+C6+")*",lW=T6+C6+aW,uW="(?:"+[k6+vb+"?",vb,x6,S6,iW].join("|")+")",aC=RegExp(yb+"(?="+yb+")|"+uW+lW,"g");function cW(t){for(var e=aC.lastIndex=0;aC.test(t);)++e;return e}function fW(t){return pF(t)?cW(t):Zj(t)}var dW="[object Map]",hW="[object Set]";function P_(t){if(t==null)return 0;if(Il(t))return Fj(t)?fW(t):t.length;var e=pm(t);return e==dW||e==hW?t.size:O_(t).length}var E6=Object.prototype,pW=E6.hasOwnProperty;function lC(t,e,n,r){return t===void 0||ac(t,E6[n])&&!pW.call(r,n)?e:t}var mW={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function gW(t){return"\\"+mW[t]}var vW=/<%=([\s\S]+?)%>/g;const A6=vW;var yW=/<%-([\s\S]+?)%>/g;const bW=yW;var _W=/<%([\s\S]+?)%>/g;const wW=_W;var kW={escape:bW,evaluate:wW,interpolate:A6,variable:"",imports:{_:{escape:Dj}}};const uC=kW;var xW="Invalid `variable` option passed into `_.template`",SW=/\b__p \+= '';/g,CW=/\b(__p \+=) '' \+/g,TW=/(__e\(.*?\)|\b__t\)) \+\n'';/g,EW=/[()=,{}\[\]\/\s]/,AW=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Uh=/($^)/,OW=/['\n\r\u2028\u2029\\]/g,MW=Object.prototype,cC=MW.hasOwnProperty;function NW(t,e,n){var r=uC.imports._.templateSettings||uC;n&&$3(t,e,n)&&(e=void 0),t=Md(t),e=V2({},e,r,lC);var i=V2({},e.imports,r.imports,lC),o=Dg(i),s=Vj(i,o),l,u,f=0,d=e.interpolate||Uh,m="__p += '",v=RegExp((e.escape||Uh).source+"|"+d.source+"|"+(d===A6?AW:Uh).source+"|"+(e.evaluate||Uh).source+"|$","g"),y=cC.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(v,function(x,k,A,L,E,H){return A||(A=L),m+=t.slice(f,H).replace(OW,gW),k&&(l=!0,m+=`' +
>>>>>>>> origin/craft-4:src/web/assets/field/dist/assets/vizy-91fcee7d.js
__e(`+k+`) +
'`),E&&(u=!0,m+=`';
`+E+`;
__p += '`),A&&(m+=`' +
((__t = (`+A+`)) == null ? '' : __t) +
'`),f=H+x.length,x}),m+=`';
`;var _=cC.call(e,"variable")&&e.variable;if(!_)m=`with (obj) {
`+m+`
}
`;else if(EW.test(_))throw new Error(xW);m=(u?m.replace(SW,""):m).replace(CW,"$1").replace(TW,"$1;"),m="function("+(_||"obj")+`) {
`+(_?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(u?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+m+`return __p
<<<<<<<< HEAD:src/web/assets/field/dist/assets/vizy-1d31d33d.js
}`;var C=iF(function(){return Function(o,y+"return "+m).apply(void 0,s)});if(C.source=m,XM(C))throw C;return C}const NW=function(t,e,n){return typeof Craft.translations[t]<"u"&&typeof Craft.translations[t][e]<"u"&&(e=Craft.translations[t][e]),n?LW(e,{interpolate:/{([\s\S]+?)}/g})(n):e},A6=t=>{const e=Q1({delimiters:["${","}"],...t});return e.config.unwrapInjectedRef=!0,e.use(LM),e.use(r$),e.use(wB,{themes:{"vui-tooltip":{$extend:"tooltip",delay:{show:0,hide:0}}}}),e.config.globalProperties.t=NW,e.config.globalProperties.clone=i$,e.config.globalProperties.$events=t7(),e.config.globalProperties.$isDebug=!1,e};function Xn(t){this.content=t}Xn.prototype={constructor:Xn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Xn(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Xn(n)},addToStart:function(t,e){return new Xn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Xn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Xn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Xn.from(t),t.size?new Xn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Xn.from(t),t.size?new Xn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Xn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Xn.from=function(t){if(t instanceof Xn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Xn(e)};function O6(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=O6(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function M6(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),u=s.nodeSize;if(s==l){n-=u,r-=u;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let f=0,d=Math.min(s.text.length,l.text.length);for(;f<d&&s.text[s.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let f=M6(s.content,l.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class Oe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let u=this.content[s],f=l+u.nodeSize;if(f>e&&r(u,i+l,o||null,s)!==!1&&u.content.size){let d=l+1;u.nodesBetween(Math.max(0,e-d),Math.min(u.content.size,n-d),r,i+d)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,u)=>{l.isText?(o+=l.text.slice(Math.max(e,u)-u,n-u),s=!r):l.isLeaf?(i?o+=typeof i=="function"?i(l):i:l.type.spec.leafText&&(o+=l.type.spec.leafText(l)),s=!r):!s&&l.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new Oe(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],u=s+l.nodeSize;u>e&&((s<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=u}return new Oe(r,i)}cutByIndex(e,n){return e==n?Oe.empty:e==0&&n==this.content.length?this:new Oe(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Oe(i,o)}addToStart(e){return new Oe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Oe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return O6(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return M6(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Uh(0,e);if(e==this.size)return Uh(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Uh(r+1,s):Uh(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Oe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Oe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Oe.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Oe(n||e,r)}static from(e){if(!e)return Oe.empty;if(e instanceof Oe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Oe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Oe.empty=new Oe([],0);const E0={index:0,offset:0};function Uh(t,e){return E0.index=t,E0.offset=e,E0}function gm(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!gm(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!gm(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Jt=class bb{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&gm(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return bb.none;if(e instanceof bb)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Jt.none=[];class vm extends Error{}class He{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=N6(this.content,e+this.openStart,n);return r&&new He(r,this.openStart,this.openEnd)}removeBetween(e,n){return new He(L6(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return He.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new He(Oe.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new He(e,r,i)}}He.empty=new He(Oe.empty,0,0);function L6(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(L6(o.content,e-i-1,n-i-1)))}function N6(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=N6(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}function IW(t,e,n){if(n.openStart>t.depth)throw new vm("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new vm("Inconsistent open depths");return I6(t,e,n,0)}function I6(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=I6(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return il(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=PW(n,t);return il(o,D6(t,s,l,e,r))}else return il(o,ym(t,e,r))}function P6(t,e){if(!e.type.compatibleContent(t.type))throw new vm("Cannot join "+e.type.name+" onto "+t.type.name)}function _b(t,e,n){let r=t.node(n);return P6(r,e.node(n)),r}function rl(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function _f(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(rl(t.nodeAfter,r),o++));for(let l=o;l<s;l++)rl(i.child(l),r);e&&e.depth==n&&e.textOffset&&rl(e.nodeBefore,r)}function il(t,e){return t.type.checkContent(e),t.copy(e)}function D6(t,e,n,r,i){let o=t.depth>i&&_b(t,e,i+1),s=r.depth>i&&_b(n,r,i+1),l=[];return _f(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(P6(o,s),rl(il(o,D6(t,e,n,r,i+1)),l)):(o&&rl(il(o,ym(t,e,i+1)),l),_f(e,n,i,l),s&&rl(il(s,ym(n,r,i+1)),l)),_f(r,null,i,l),new Oe(l)}function ym(t,e,n){let r=[];if(_f(null,t,n,r),t.depth>n){let i=_b(t,e,n+1);rl(il(i,ym(t,e,n+1)),r)}return _f(e,null,n,r),new Oe(r)}function PW(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(Oe.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class rd{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Jt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new bm(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:u}=s.content.findIndex(o),f=o-u;if(r.push(s,l,i+u),!f||(s=s.child(l),s.isText))break;o=f-1,i+=u+1}return new rd(n,r,o)}static resolveCached(e,n){for(let i=0;i<A0.length;i++){let o=A0[i];if(o.pos==n&&o.doc==e)return o}let r=A0[O0]=rd.resolve(e,n);return O0=(O0+1)%DW,r}}let A0=[],O0=0,DW=12;class bm{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const RW=Object.create(null);let Wo=class wb{constructor(e,n,r,i=Jt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Oe.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&gm(this.attrs,n||e.defaultAttrs||RW)&&Jt.sameSet(this.marks,r||Jt.none)}copy(e=null){return e==this.content?this:new wb(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new wb(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return He.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),f=i.node(s).content.cut(i.pos-l,o.pos-l);return new He(f,i.depth-s,o.depth-s)}replace(e,n,r){return IW(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return rd.resolveCached(this,e)}resolveNoCache(e){return rd.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),R6(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Oe.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=i;u<o;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Jt.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Jt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Oe.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};Wo.prototype.text=void 0;class _m extends Wo{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):R6(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new _m(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new _m(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function R6(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class vl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new zW(e,n);if(r.next==null)return vl.empty;let i=z6(r);r.next&&r.err("Unexpected trailing text");let o=WW(jW(i));return UW(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let u=s.matchFragment(e,r);if(u&&(!n||u.validEnd))return Oe.from(l.map(f=>f.createAndFill()));for(let f=0;f<s.next.length;f++){let{type:d,next:m}=s.next[f];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=o(m,l.concat(d));if(v)return v}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:u}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}vl.empty=new vl(!0);class zW{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function z6(t){let e=[];do e.push(BW(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function BW(t){let e=[];do e.push($W(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function $W(t){let e=VW(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=HW(t,e);else break;return e}function fC(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function HW(t,e){let n=fC(t),r=n;return t.eat(",")&&(t.next!="}"?r=fC(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function FW(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function VW(t){if(t.eat("(")){let e=z6(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=FW(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function jW(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,u){let f={term:u,to:l};return e[s].push(f),f}function i(s,l){s.forEach(u=>u.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((u,f)=>u.concat(o(f,l)),[]);if(s.type=="seq")for(let u=0;;u++){let f=o(s.exprs[u],l);if(u==s.exprs.length-1)return f;i(f,l=n())}else if(s.type=="star"){let u=n();return r(l,u),i(o(s.expr,u),u),[r(u)]}else if(s.type=="plus"){let u=n();return i(o(s.expr,l),u),i(o(s.expr,u),u),[r(u)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let u=l;for(let f=0;f<s.min;f++){let d=n();i(o(s.expr,u),d),u=d}if(s.max==-1)i(o(s.expr,u),u);else for(let f=s.min;f<s.max;f++){let d=n();r(u,d),i(o(s.expr,u),d),u=d}return[r(u)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function B6(t,e){return e-t}function dC(t,e){let n=[];return r(e),n.sort(B6);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:u}=o[s];!l&&n.indexOf(u)==-1&&r(u)}}}function WW(t){let e=Object.create(null);return n(dC(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:u})=>{if(!l)return;let f;for(let d=0;d<i.length;d++)i[d][0]==l&&(f=i[d][1]);dC(t,u).forEach(d=>{f||i.push([l,f=[]]),f.indexOf(d)==-1&&f.push(d)})})});let o=e[r.join(",")]=new vl(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(B6);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function UW(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:u,next:f}=i.next[l];s.push(u.name),o&&!(u.isText||u.hasRequiredAttrs())&&(o=!1),r.indexOf(f)==-1&&r.push(f)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function $6(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function H6(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function F6(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new qW(t[n]);return e}let hC=class V6{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=F6(r.attrs),this.defaultAttrs=$6(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==vl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:H6(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Wo(this,this.computeAttrs(e),Oe.from(n),Jt.setFrom(r))}createChecked(e=null,n,r){return n=Oe.from(n),this.checkContent(n),new Wo(this,this.computeAttrs(e),n,Jt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Oe.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Oe.empty,!0);return o?new Wo(this,e,n.append(o),Jt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Jt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new V6(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class qW{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Bg{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=F6(i.attrs),this.excluded=null;let o=$6(this.attrs);this.instance=o?new Jt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Jt(this,H6(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Bg(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class KW{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Xn.from(e.nodes),n.marks=Xn.from(e.marks||{}),this.nodes=hC.compile(this.spec.nodes,this),this.marks=Bg.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;o.contentMatch=r[s]||(r[s]=vl.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=l=="_"?null:l?pC(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:pC(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof hC){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new _m(r,r.defaultAttrs,e,Jt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Wo.fromJSON(this,e)}markFromJSON(e){return Jt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function pC(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let u=t.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}let $g=class kb{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new gC(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new gC(this,n,!0);return r.addAll(e,n.from,n.to),He.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(JW(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let u=s.getAttrs(n);if(u===!1)continue;s.attrs=u||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=vC(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=vC(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new kb(e,kb.schemaRules(e)))}};const j6={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},GW={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},W6={ol:!0,ul:!0},wm=1,km=2,wf=4;function mC(t,e,n){return e!=null?(e?wm:0)|(e==="full"?km:0):t&&t.whitespace=="pre"?wm|km:n&~wf}class qh{constructor(e,n,r,i,o,s,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=Jt.none,this.stashMarks=[],this.match=s||(l&wf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Oe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&wm)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Oe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Oe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):ZW(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!j6.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class gC{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=mC(null,n.preserveWhitespace,0)|(r?wf:0);i?o=new qh(i.type,i.attrs,Jt.none,Jt.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new qh(null,null,Jt.none,Jt.none,!0,null,s):o=new qh(e.schema.topNodeType,null,Jt.none,Jt.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style");if(!n)this.addElement(e);else{let r=this.readStyles(XW(n));if(!r)return;let[i,o]=r,s=this.top;for(let l=0;l<o.length;l++)this.removePendingMark(o[l],s);for(let l=0;l<i.length;l++)this.addPendingMark(i[l]);this.addElement(e);for(let l=0;l<i.length;l++)this.removePendingMark(i[l],s);for(let l=0;l<o.length;l++)this.addPendingMark(o[l])}}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&km||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&wm)r.options&km?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;W6.hasOwnProperty(r)&&this.parser.normalizeLists&&YW(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:GW.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,l=this.top,u=this.needsBlock;if(j6.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(l),this.needsBlock=u}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Jt.none,r=Jt.none;e:for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)continue e;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.forEach(l=>{s.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=mC(e,i,o.options);o.options&wf&&o.content.length==0&&(s|=wf),this.nodes.push(new qh(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,u)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;u>=o;u--)if(s(l-1,u))return!0;return!1}else{let d=u>0||u==0&&i?this.nodes[u].type:r&&u>=o?r.node(u-o).type:null;if(!d||d.name!=f&&d.groups.indexOf(f)==-1)return!1;u--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=QW(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function YW(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&W6.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function JW(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function XW(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function vC(t){let e={};for(let n in t)e[n]=t[n];return e}function ZW(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let u=0;u<l.edgeCount;u++){let{type:f,next:d}=l.edge(u);if(f==e||o.indexOf(d)<0&&s(d))return!0}};if(s(i.contentMatch))return!0}}function QW(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class co{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=M0(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,u=0;for(;l<o.length&&u<s.marks.length;){let f=s.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(o[l][0])||f.type.spec.spanning===!1)break;l++,u++}for(;l<o.length;)i=o.pop()[1];for(;u<s.marks.length;){let f=s.marks[u++],d=this.serializeMark(f,s.isInline,n);d&&(o.push([f,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=co.renderSpec(M0(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&co.renderSpec(M0(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),u=n[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let d in u)if(u[d]!=null){let m=d.indexOf(" ");m>0?l.setAttributeNS(d.slice(0,m),d.slice(m+1),u[d]):l.setAttribute(d,u[d])}}for(let d=f;d<n.length;d++){let m=n[d];if(m===0){if(d<n.length-1||d>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:v,contentDOM:y}=co.renderSpec(e,m,r);if(l.appendChild(v),y){if(s)throw new RangeError("Multiple content holes");s=y}}}return{dom:l,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new co(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=yC(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return yC(e.marks)}}function yC(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function M0(t){return t.document||window.document}const U6=65535,q6=Math.pow(2,16);function eU(t,e){return t+e*q6}function bC(t){return t&U6}function tU(t){return(t-(t&U6))/q6}const K6=1,G6=2,Tp=4,Y6=8;class xb{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Y6)>0}get deletedBefore(){return(this.delInfo&(K6|Tp))>0}get deletedAfter(){return(this.delInfo&(G6|Tp))>0}get deletedAcross(){return(this.delInfo&Tp)>0}}class mi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&mi.empty)return mi.empty}recover(e){let n=0,r=bC(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+tU(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;let f=this.ranges[l+o],d=this.ranges[l+s],m=u+f;if(e<=m){let v=f?e==u?-1:e==m?1:n:n,y=u+i+(v<0?0:d);if(r)return y;let _=e==(n<0?u:m)?null:eU(l/3,e-u),C=e==u?G6:e==m?K6:Tp;return(n<0?e!=u:e!=m)&&(C|=Y6),new xb(y,C,_)}i+=d-f}return r?e+i:new xb(e+i,0,null)}touches(e,n){let r=0,i=bC(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let f=this.ranges[l+o],d=u+f;if(e<=d&&l==i*3)return!0;r+=this.ranges[l+s]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),u=s+(this.inverted?0:o),f=this.ranges[i+n],d=this.ranges[i+r];e(l,l+f,u,u+d),o+=d-f}}invert(){return new mi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?mi.empty:new mi(e<0?[0,-e,0]:[0,0,e])}}mi.empty=new mi([]);class Ou{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Ou(this.maps,this.mirror,e,n)}copy(){return new Ou(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Ou;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(o);if(u!=null&&u>o&&u<this.to){o=u,e=this.maps[u].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new xb(e,i,null)}}const L0=Object.create(null);class qr{getMap(){return mi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=L0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in L0)throw new RangeError("Duplicate use of step JSON ID "+e);return L0[e]=n,n.prototype.jsonID=e,n}}class $n{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new $n(e,null)}static fail(e){return new $n(null,e)}static fromReplace(e,n,r,i){try{return $n.ok(e.replace(n,r,i))}catch(o){if(o instanceof vm)return $n.fail(o.message);throw o}}}function D_(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(D_(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return Oe.fromArray(r)}class Us extends qr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new He(D_(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return $n.fromReplace(e,this.from,this.to,o)}invert(){return new fo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Us(n.pos,r.pos,this.mark)}merge(e){return e instanceof Us&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Us(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Us(n.from,n.to,e.markFromJSON(n.mark))}}qr.jsonID("addMark",Us);class fo extends qr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new He(D_(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return $n.fromReplace(e,this.from,this.to,r)}invert(){return new Us(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new fo(n.pos,r.pos,this.mark)}merge(e){return e instanceof fo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new fo(n.from,n.to,e.markFromJSON(n.mark))}}qr.jsonID("removeMark",fo);class qs extends qr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return $n.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return $n.fromReplace(e,this.pos,this.pos+1,new He(Oe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new qs(this.pos,n.marks[i]);return new qs(this.pos,this.mark)}}return new qu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new qs(n.pos,e.markFromJSON(n.mark))}}qr.jsonID("addNodeMark",qs);class qu extends qr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return $n.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return $n.fromReplace(e,this.pos,this.pos+1,new He(Oe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new qs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new qu(n.pos,e.markFromJSON(n.mark))}}qr.jsonID("removeNodeMark",qu);class tr extends qr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Sb(e,this.from,this.to)?$n.fail("Structure replace would overwrite content"):$n.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new mi([this.from,this.to-this.from,this.slice.size])}invert(e){return new tr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new tr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof tr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?He.empty:new He(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new tr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?He.empty:new He(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new tr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new tr(n.from,n.to,He.fromJSON(e,n.slice),!!n.structure)}}qr.jsonID("replace",tr);class Un extends qr{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(Sb(e,this.from,this.gapFrom)||Sb(e,this.gapTo,this.to)))return $n.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return $n.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?$n.fromReplace(e,this.from,this.to,r):$n.fail("Content does not fit in gap")}getMap(){return new mi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Un(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Un(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Un(n.from,n.to,n.gapFrom,n.gapTo,He.fromJSON(e,n.slice),n.insert,!!n.structure)}}qr.jsonID("replaceAround",Un);function Sb(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function nU(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(u,f,d)=>{if(!u.isInline)return;let m=u.marks;if(!r.isInSet(m)&&d.type.allowsMarkType(r.type)){let v=Math.max(f,e),y=Math.min(f+u.nodeSize,n),_=r.addToSet(m);for(let C=0;C<m.length;C++)m[C].isInSet(_)||(s&&s.to==v&&s.mark.eq(m[C])?s.to=y:i.push(s=new fo(v,y,m[C])));l&&l.to==v?l.to=y:o.push(l=new Us(v,y,r))}}),i.forEach(u=>t.step(u)),o.forEach(u=>t.step(u))}function rU(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let u=null;if(r instanceof Bg){let f=s.marks,d;for(;d=r.isInSet(f);)(u||(u=[])).push(d),f=d.removeFromSet(f)}else r?r.isInSet(s.marks)&&(u=[r]):u=s.marks;if(u&&u.length){let f=Math.min(l+s.nodeSize,n);for(let d=0;d<u.length;d++){let m=u[d],v;for(let y=0;y<i.length;y++){let _=i[y];_.step==o-1&&m.eq(i[y].style)&&(v=_)}v?(v.to=f,v.step=o):i.push({style:m,from:Math.max(l,e),to:f,step:o})}}}),i.forEach(s=>t.step(new fo(s.from,s.to,s.style)))}function iU(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<i.childCount;l++){let u=i.child(l),f=s+u.nodeSize,d=r.matchType(u.type);if(!d)o.push(new tr(s,f,He.empty));else{r=d;for(let m=0;m<u.marks.length;m++)n.allowsMarkType(u.marks[m].type)||t.step(new fo(s,f,u.marks[m]))}s=f}if(!r.validEnd){let l=r.fillBefore(Oe.empty,!0);t.replace(s,s,new He(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function oU(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function lc(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!oU(i,o,s))break}return null}function sU(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),u=s,f=l,d=Oe.empty,m=0;for(let _=o,C=!1;_>n;_--)C||r.index(_)>0?(C=!0,d=Oe.from(r.node(_).copy(d)),m++):u--;let v=Oe.empty,y=0;for(let _=o,C=!1;_>n;_--)C||i.after(_+1)<i.end(_)?(C=!0,v=Oe.from(i.node(_).copy(v)),y++):f++;t.step(new Un(u,f,s,l,new He(d.append(v),m,y),d.size-m,!0))}function R_(t,e,n=null,r=t){let i=aU(t,e),o=i&&lU(r,e);return o?i.map(_C).concat({type:e,attrs:n}).concat(o.map(_C)):null}function _C(t){return{type:t,attrs:null}}function aU(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function lU(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let u=(s.length?s[s.length-1]:e).contentMatch;for(let f=r;u&&f<i;f++)u=u.matchType(n.child(f).type);return!u||!u.validEnd?null:s}function uU(t,e,n){let r=Oe.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Oe.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Un(i,o,i,o,new He(r,0,0),n.length,!0))}function cU(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&fU(t.doc,t.mapping.slice(o).map(l),r)){t.clearIncompatible(t.mapping.slice(o).map(l,1),r);let u=t.mapping.slice(o),f=u.map(l,1),d=u.map(l+s.nodeSize,1);return t.step(new Un(f,d,f+1,d-1,new He(Oe.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function fU(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function dU(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Un(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new He(Oe.from(s),0,0),1,!0))}function Mu(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,d=n-2;f>o;f--,d--){let m=i.node(f),v=i.index(f);if(m.type.spec.isolating)return!1;let y=m.content.cutByIndex(v,m.childCount),_=r&&r[d]||m;if(_!=m&&(y=y.replaceChild(0,_.type.create(_.attrs))),!m.canReplace(v+1,m.childCount)||!_.type.validContent(y))return!1}let l=i.indexAfter(o),u=r&&r[0];return i.node(o).canReplaceWith(l,l,u?u.type:i.node(o+1).type)}function hU(t,e,n=1,r){let i=t.doc.resolve(e),o=Oe.empty,s=Oe.empty;for(let l=i.depth,u=i.depth-n,f=n-1;l>u;l--,f--){o=Oe.from(i.node(l).copy(o));let d=r&&r[f];s=Oe.from(d?d.type.create(d.attrs,s):i.node(l).copy(s))}t.step(new tr(e,e,new He(o.append(s),n,n),!0))}function pa(t,e){let n=t.resolve(e),r=n.index();return J6(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function J6(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function Hg(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,l=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),l++,s=r.node(i).maybeChild(l)):(o=r.node(i).maybeChild(l-1),s=r.node(i+1)),o&&!o.isTextblock&&J6(o,s)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function pU(t,e,n){let r=new tr(e-n,e+n,He.empty,!0);t.step(r)}function mU(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function X6(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,u=r.index(s)+(l>0?1:0),f=r.node(s),d=!1;if(o==1)d=f.canReplace(u,u,i);else{let m=f.contentMatchAt(u).findWrapping(i.firstChild.type);d=m&&f.canReplaceWith(u,u,m[0])}if(d)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Fg(t,e,n=e,r=He.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return Z6(i,o,r)?new tr(e,n,r):new gU(i,o,r).fit()}function Z6(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class gU{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Oe.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Oe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let u=new He(o,s,l);return e>-1?new Un(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new tr(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=N0(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:f}=this.frontier[l],d,m=null;if(n==1&&(s?f.matchType(s.type)||(m=f.fillBefore(Oe.from(s),!1)):o&&u.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:m};if(n==2&&s&&(d=f.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:d};if(o&&f.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=N0(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new He(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=N0(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new He(tf(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new He(tf(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let C=0;C<o.length;C++)this.openFrontierNode(o[C]);let s=this.unplaced,l=r?r.content:s.content,u=s.openStart-e,f=0,d=[],{match:m,type:v}=this.frontier[n];if(i){for(let C=0;C<i.childCount;C++)d.push(i.child(C));m=m.matchFragment(i)}let y=l.size+e-(s.content.size-s.openEnd);for(;f<l.childCount;){let C=l.child(f),x=m.matchType(C.type);if(!x)break;f++,(f>1||u==0||C.content.size)&&(m=x,d.push(Q6(C.mark(v.allowedMarks(C.marks)),f==1?u:0,f==l.childCount?y:-1)))}let _=f==l.childCount;_||(y=-1),this.placed=nf(this.placed,n,Oe.from(d)),this.frontier[n].match=m,_&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,x=l;C<y;C++){let k=x.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),x=k.content}this.unplaced=_?e==0?He.empty:new He(tf(s.content,e-1,1),e-1,y<0?s.openEnd:e-1):new He(tf(s.content,e,f),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!I0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=I0(e,n,i,r,o);if(s){for(let l=n-1;l>=0;l--){let{match:u,type:f}=this.frontier[l],d=I0(e,l,f,u,!0);if(!d||d.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=nf(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=nf(this.placed,this.depth,Oe.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Oe.empty,!0);n.childCount&&(this.placed=nf(this.placed,this.frontier.length,n))}}function tf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(tf(t.firstChild.content,e-1,n)))}function nf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(nf(t.lastChild.content,e-1,n)))}function N0(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Q6(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Q6(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Oe.empty,!0)))),t.copy(r)}function I0(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!vU(n,o.content,s)?l:null}function vU(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function yU(t){return t.spec.defining||t.spec.definingForContent}function bU(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(Z6(i,o,r))return t.step(new tr(e,n,r));let s=t4(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let v=i.depth,y=i.pos-1;v>0;v--,y--){let _=i.node(v).type.spec;if(_.defining||_.definingAsContext||_.isolating)break;s.indexOf(v)>-1?l=v:i.before(v)==y&&s.splice(1,0,-v)}let u=s.indexOf(l),f=[],d=r.openStart;for(let v=r.content,y=0;;y++){let _=v.firstChild;if(f.push(_),y==r.openStart)break;v=_.content}for(let v=d-1;v>=0;v--){let y=f[v].type,_=yU(y);if(_&&i.node(u).type!=y)d=v;else if(_||!y.isTextblock)break}for(let v=r.openStart;v>=0;v--){let y=(v+d+1)%(r.openStart+1),_=f[y];if(_)for(let C=0;C<s.length;C++){let x=s[(C+u)%s.length],k=!0;x<0&&(k=!1,x=-x);let A=i.node(x-1),N=i.index(x-1);if(A.canReplaceWith(N,N,_.type,_.marks))return t.replace(i.before(x),k?o.after(x):n,new He(e4(r.content,0,r.openStart,y),y,r.openEnd))}}let m=t.steps.length;for(let v=s.length-1;v>=0&&(t.replace(e,n,r),!(t.steps.length>m));v--){let y=s[v];y<0||(e=i.before(y),n=o.after(y))}}function e4(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(e4(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(Oe.empty,!0))}return t}function _U(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=mU(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new He(Oe.from(r),0,0))}function wU(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=t4(r,i);for(let s=0;s<o.length;s++){let l=o[s],u=s==o.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function t4(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Lu extends qr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return $n.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return $n.fromReplace(e,this.pos,this.pos+1,new He(Oe.from(i),0,n.isLeaf?0:1))}getMap(){return mi.empty}invert(e){return new Lu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Lu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Lu(n.pos,n.attr,n.value)}}qr.jsonID("attr",Lu);let Ku=class extends Error{};Ku=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ku.prototype=Object.create(Error.prototype);Ku.prototype.constructor=Ku;Ku.prototype.name="TransformError";class z_{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ou}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ku(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=He.empty){let i=Fg(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new He(Oe.from(r),0,0))}delete(e,n){return this.replace(e,n,He.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return bU(this,e,n,r),this}replaceRangeWith(e,n,r){return _U(this,e,n,r),this}deleteRange(e,n){return wU(this,e,n),this}lift(e,n){return sU(this,e,n),this}join(e,n=1){return pU(this,e,n),this}wrap(e,n){return uU(this,e,n),this}setBlockType(e,n=e,r,i=null){return cU(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return dU(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Lu(e,n,r)),this}addNodeMark(e,n){return this.step(new qs(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Jt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new qu(e,n)),this}split(e,n=1,r){return hU(this,e,n,r),this}addMark(e,n,r){return nU(this,e,n,r),this}removeMark(e,n,r){return rU(this,e,n,r),this}clearIncompatible(e,n,r){return iU(this,e,n,r),this}}const P0=Object.create(null);class ht{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new n4(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=He.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:u,$to:f}=s[l],d=e.mapping.slice(o);e.replaceRange(d.map(u.pos),d.map(f.pos),l?He.empty:n),l==0&&xC(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],u=e.mapping.slice(r),f=u.map(s.pos),d=u.map(l.pos);o?e.deleteRange(f,d):(e.replaceRangeWith(f,d,n),xC(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new st(e):lu(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?lu(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):lu(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Hi(e.node(0))}static atStart(e){return lu(e,e,0,0,1)||new Hi(e)}static atEnd(e){return lu(e,e,e.content.size,e.childCount,-1)||new Hi(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=P0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in P0)throw new RangeError("Duplicate use of selection JSON ID "+e);return P0[e]=n,n.prototype.jsonID=e,n}getBookmark(){return st.between(this.$anchor,this.$head).getBookmark()}}ht.prototype.visible=!0;class n4{constructor(e,n){this.$from=e,this.$to=n}}let wC=!1;function kC(t){!wC&&!t.parent.inlineContent&&(wC=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class st extends ht{constructor(e,n=e){kC(e),kC(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ht.near(r);let i=e.resolve(n.map(this.anchor));return new st(i.parent.inlineContent?i:r,r)}replace(e,n=He.empty){if(super.replace(e,n),n==He.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof st&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Vg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new st(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=ht.findFrom(n,r,!0)||ht.findFrom(n,-r,!0);if(o)n=o.$head;else return ht.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(ht.findFrom(e,-r,!0)||ht.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new st(e,n)}}ht.jsonID("text",st);class Vg{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Vg(e.map(this.anchor),e.map(this.head))}resolve(e){return st.between(e.resolve(this.anchor),e.resolve(this.head))}}class it extends ht{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?ht.near(o):new it(o)}content(){return new He(Oe.from(this.node),0,0)}eq(e){return e instanceof it&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new B_(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new it(e.resolve(n.anchor))}static create(e,n){return new it(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}it.prototype.visible=!1;ht.jsonID("node",it);class B_{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Vg(r,r):new B_(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&it.isSelectable(r)?new it(n):ht.near(n)}}class Hi extends ht{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=He.empty){if(n==He.empty){e.delete(0,e.doc.content.size);let r=ht.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Hi(e)}map(e){return new Hi(e)}eq(e){return e instanceof Hi}getBookmark(){return kU}}ht.jsonID("all",Hi);const kU={map(){return this},resolve(t){return new Hi(t)}};function lu(t,e,n,r,i,o=!1){if(e.inlineContent)return st.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&it.isSelectable(l))return it.create(t,n-(i<0?l.nodeSize:0))}else{let u=lu(t,l,n+i,i<0?l.childCount:0,i,o);if(u)return u}n+=l.nodeSize*i}return null}function xC(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof tr||i instanceof Un))return;let o=t.mapping.maps[r],s;o.forEach((l,u,f,d)=>{s==null&&(s=d)}),t.setSelection(ht.near(t.doc.resolve(s),n))}const SC=1,Kh=2,CC=4;class xU extends z_{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|SC)&~Kh,this.storedMarks=null,this}get selectionSet(){return(this.updated&SC)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Kh,this}ensureMarks(e){return Jt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Kh)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Kh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Jt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(ht.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=CC,this}get scrolledIntoView(){return(this.updated&CC)>0}}function TC(t,e){return!e||!t?t:t.bind(e)}class rf{constructor(e,n,r){this.name=e,this.init=TC(n.init,r),this.apply=TC(n.apply,r)}}const SU=[new rf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new rf("selection",{init(t,e){return t.selection||ht.atStart(e.doc)},apply(t){return t.selection}}),new rf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new rf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class D0{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=SU.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new rf(r.key,r.spec.state,r))})}}class du{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let u=i?i[s].n:0,f=i?i[s].state:this,d=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,f,r);if(d&&r.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<s?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new du(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new xU(this)}static create(e){let n=new D0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new du(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new D0(this.schema,e.plugins),r=n.fields,i=new du(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new D0(e.schema,e.plugins),o=new du(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Wo.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=ht.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],f=u.spec.state;if(u.key==s.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=f.fromJSON.call(u,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function r4(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=r4(i,e,{})),n[r]=i}return n}class on{constructor(e){this.spec=e,this.props={},e.props&&r4(e.props,this,this.props),this.key=e.key?e.key.key:i4("plugin")}getState(e){return e[this.key]}}const R0=Object.create(null);function i4(t){return t in R0?t+"$"+ ++R0[t]:(R0[t]=0,t+"$")}class xn{constructor(e="key"){this.key=i4(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ti=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},id=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let EC=null;const Ro=function(t,e,n){let r=EC||(EC=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},yl=function(t,e,n,r){return n&&(AC(t,e,n,r,-1)||AC(t,e,n,r,1))},CU=/^(img|br|input|textarea|hr)$/i;function AC(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:uo(t))){let o=t.parentNode;if(!o||o.nodeType!=1||EU(t)||CU.test(t.nodeName)||t.contentEditable=="false")return!1;e=ti(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?uo(t):0}else return!1}}function uo(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function TU(t,e,n){for(let r=e==0,i=e==uo(t);r||i;){if(t==n)return!0;let o=ti(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==uo(t)}}function EU(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const jg=function(t){return t.focusNode&&yl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function za(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function AU(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const ra=typeof navigator<"u"?navigator:null,OC=typeof document<"u"?document:null,ma=ra&&ra.userAgent||"",Cb=/Edge\/(\d+)/.exec(ma),o4=/MSIE \d/.exec(ma),Tb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ma),Fr=!!(o4||Tb||Cb),Js=o4?document.documentMode:Tb?+Tb[1]:Cb?+Cb[1]:0,Wi=!Fr&&/gecko\/(\d+)/i.test(ma);Wi&&+(/Firefox\/(\d+)/.exec(ma)||[0,0])[1];const Eb=!Fr&&/Chrome\/(\d+)/.exec(ma),Cr=!!Eb,OU=Eb?+Eb[1]:0,Tr=!Fr&&!!ra&&/Apple Computer/.test(ra.vendor),Gu=Tr&&(/Mobile\/\w+/.test(ma)||!!ra&&ra.maxTouchPoints>2),pi=Gu||(ra?/Mac/.test(ra.platform):!1),Ni=/Android \d/.test(ma),Wg=!!OC&&"webkitFontSmoothing"in OC.documentElement.style,MU=Wg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function LU(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ts(t,e){return typeof t=="number"?t:t[e]}function NU(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function MC(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=id(s)){if(s.nodeType!=1)continue;let l=s,u=l==o.body,f=u?LU(o):NU(l),d=0,m=0;if(e.top<f.top+Ts(r,"top")?m=-(f.top-e.top+Ts(i,"top")):e.bottom>f.bottom-Ts(r,"bottom")&&(m=e.bottom-f.bottom+Ts(i,"bottom")),e.left<f.left+Ts(r,"left")?d=-(f.left-e.left+Ts(i,"left")):e.right>f.right-Ts(r,"right")&&(d=e.right-f.right+Ts(i,"right")),d||m)if(u)o.defaultView.scrollBy(d,m);else{let v=l.scrollLeft,y=l.scrollTop;m&&(l.scrollTop+=m),d&&(l.scrollLeft+=d);let _=l.scrollLeft-v,C=l.scrollTop-y;e={left:e.left-_,top:e.top-C,right:e.right-_,bottom:e.bottom-C}}if(u)break}}function IU(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:s4(t.dom)}}function s4(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=id(r));return e}function PU({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;a4(n,r==0?0:r-e)}function a4(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ru=null;function DU(t){if(t.setActive)return t.setActive();if(ru)return t.focus(ru);let e=s4(t);t.focus(ru==null?{get preventScroll(){return ru={preventScroll:!0},!0}}:void 0),ru||(ru=!1,a4(e,0))}function l4(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top;for(let u=t.firstChild,f=0;u;u=u.nextSibling,f++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Ro(u).getClientRects();else continue;for(let m=0;m<d.length;m++){let v=d[m];if(v.top<=s&&v.bottom>=l){s=Math.max(v.bottom,s),l=Math.min(v.top,l);let y=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(y<r){n=u,r=y,i=y&&n.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,u.nodeType==1&&y&&(o=f+(e.left>=(v.left+v.right)/2?1:0));continue}}!n&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(o=f+1)}}return n&&n.nodeType==3?RU(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:l4(n,i)}function RU(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Ns(r,1);if(o.top!=o.bottom&&$_(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function $_(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function zU(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function BU(t,e,n){let{node:r,offset:i}=l4(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function $U(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let l=t.docView.nearestDesc(o,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!s||!l.contentDOM)){let u=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!s&&(s=!0,u.left>r.left||u.top>r.top?i=l.posBefore:(u.right<r.left||u.bottom<r.top)&&(i=l.posAfter)),!l.contentDOM&&i<0)return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter}o=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function u4(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if($_(e,f))return u4(s,e,f)}}if((o=(o+1)%r)==i)break}return t}function HU(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let u=n.caretPositionFromPoint(e.left,e.top);u&&({offsetNode:r,offset:i}=u)}catch{}if(!r&&n.caretRangeFromPoint){let u=n.caretRangeFromPoint(e.left,e.top);u&&({startContainer:r,startOffset:i}=u)}let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),s;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!$_(e,u)||(o=u4(t.dom,e,u),!o))return null}if(Tr)for(let u=o;r&&u;u=id(u))u.draggable&&(r=void 0);if(o=zU(o,e),r){if(Wi&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=$U(t,r,i,e))}s==null&&(s=BU(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function Ns(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const FU=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function c4(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Wg||Wi;if(r.nodeType==3)if(s&&(FU.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Ns(Ro(r,i,i),n);if(Wi&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Ns(Ro(r,i-1,i-1),-1);if(f.top==u.top){let d=Ns(Ro(r,i,i+1),-1);if(d.top!=u.top)return Gc(d,d.left<f.left)}}return u}else{let u=i,f=i,d=n<0?1:-1;return n<0&&!i?(f++,d=-1):n>=0&&i==r.nodeValue.length?(u--,d=1):n<0?u--:f++,Gc(Ns(Ro(r,u,f),1),d<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==uo(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return z0(u.getBoundingClientRect(),!1)}if(o==null&&i<uo(r)){let u=r.childNodes[i];if(u.nodeType==1)return z0(u.getBoundingClientRect(),!0)}return z0(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==uo(r))){let u=r.childNodes[i-1],f=u.nodeType==3?Ro(u,uo(u)-(s?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(f)return Gc(Ns(f,1),!1)}if(o==null&&i<uo(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let f=u?u.nodeType==3?Ro(u,0,s?0:1):u.nodeType==1?u:null:null;if(f)return Gc(Ns(f,-1),!0)}return Gc(Ns(r.nodeType==3?Ro(r):r,-n),n>=0)}function Gc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function z0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function f4(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function VU(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return f4(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=c4(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Ro(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let d=u[f];if(d.bottom>d.top+1&&(n=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}const jU=/[\u0590-\u08ac]/;function WU(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return!jU.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:f4(t,e,()=>{let{focusNode:u,focusOffset:f,anchorNode:d,anchorOffset:m}=t.domSelectionRange(),v=l.caretBidiLevel;l.modify("move",n,"character");let y=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:_,focusOffset:C}=t.domSelectionRange(),x=_&&!y.contains(_.nodeType==1?_:_.parentNode)||u==_&&f==C;try{l.collapse(d,m),u&&(u!=d||f!=m)&&l.extend&&l.extend(u,f)}catch{}return v!=null&&(l.caretBidiLevel=v),x})}let LC=null,NC=null,IC=!1;function UU(t,e,n){return LC==e&&NC==n?IC:(LC=e,NC=n,IC=n=="up"||n=="down"?VU(t,e,n):WU(t,e,n))}const Fi=0,PC=1,hu=2,_o=3;class Md{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Fi,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>ti(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof h4){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof d4&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?ti(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?ti(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let u=this.children[l],f=s+u.size;if(i==-1&&e<=f){let d=s+u.border;if(e>=d&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,d);e=s;for(let m=l;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=ti(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(f>n||l==this.children.length-1)){n=f;for(let d=l+1;d<this.children.length;d++){let m=this.children[d];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=ti(m.dom);break}n+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let v=0,y=0;v<this.children.length;v++){let _=this.children[v],C=y+_.size;if(o>y&&s<C)return _.setSelection(e-y-_.border,n-y-_.border,r,i);y=C}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),f=r.getSelection(),d=!1;if((Wi||Tr)&&e==n){let{node:v,offset:y}=l;if(v.nodeType==3){if(d=!!(y&&v.nodeValue[y-1]==`
`),d&&y==v.nodeValue.length)for(let _=v,C;_;_=_.parentNode){if(C=_.nextSibling){C.nodeName=="BR"&&(l=u={node:C.parentNode,offset:ti(C)+1});break}let x=_.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let _=v.childNodes[y-1];d=_&&(_.nodeName=="BR"||_.contentEditable=="false")}}if(Wi&&f.focusNode&&f.focusNode!=u.node&&f.focusNode.nodeType==1){let v=f.focusNode.childNodes[f.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||d&&Tr)&&yl(l.node,l.offset,f.anchorNode,f.anchorOffset)&&yl(u.node,u.offset,f.focusNode,f.focusOffset))return;let m=!1;if((f.extend||e==n)&&!d){f.collapse(l.node,l.offset);try{e!=n&&f.extend(u.node,u.offset),m=!0}catch{}}if(!m){if(e>n){let y=l;l=u,u=y}let v=document.createRange();v.setEnd(u.node,u.offset),v.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,u=s-o.border;if(e>=l&&n<=u){this.dirty=e==r||n==s?hu:PC,e==l&&n==u&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=_o:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?hu:_o}r=s}this.dirty=hu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?hu:PC;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class d4 extends Md{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Fi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class qU extends Md{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class bl extends Md{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=co.renderSpec(document,n.type.spec.toDOM(n,r))),new bl(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&_o||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=_o&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Fi){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Fi}}slice(e,n,r){let i=bl.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Mb(o,n,s,r)),e>0&&(o=Mb(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class _l extends Md{constructor(e,n,r,i,o,s,l,u,f){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l,s&&this.updateChildren(u,f)}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],u,f=l&&l(n,o,()=>{if(!u)return s;if(u.parent)return u.parent.posBeforeChild(u)},r,i),d=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:m}=co.renderSpec(document,n.type.spec.toDOM(n)));!m&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let v=d;return d=g4(d,r,n),f?u=new KU(e,n,r,i,d,m||null,v,f,o,s+1):n.isText?new Ug(e,n,r,i,d,v,o):new _l(e,n,r,i,d,m||null,v,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Oe.empty)}return e}matchesNode(e,n,r){return this.dirty==Fi&&e.eq(this.node)&&Ob(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,u=new YU(this,s&&s.node,e);ZU(this.node,this.innerDeco,(f,d,m)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&u.syncToMarks(d==this.node.childCount?Jt.none:this.node.child(d).marks,r,e),u.placeWidget(f,e,i)},(f,d,m,v)=>{u.syncToMarks(f.marks,r,e);let y;u.findNodeMatch(f,d,m,v)||l&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(y=u.findIndexWithChild(o.node))>-1&&u.updateNodeAt(f,d,m,y,e)||u.updateNextNode(f,d,m,e,v)||u.addNode(f,d,m,e,i),i+=f.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==hu)&&(s&&this.protectLocalComposition(e,s),p4(this.contentDOM,this.children,e),Gu&&QU(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof st)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=eq(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,u=tq(this.node.content,l,r-n,i-n);return u<0?null:{node:s,pos:u,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new qU(this,o,n,i);e.input.compositionNodes.push(s),this.children=Mb(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==_o||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Fi}updateOuterDeco(e){if(Ob(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=m4(this.dom,this.nodeDOM,Ab(this.outerDeco,this.node,n),Ab(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function DC(t,e,n,r,i){return g4(r,e,t),new _l(void 0,t,e,n,r,r,r,i,0)}class Ug extends _l{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==_o||this.dirty!=Fi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Fi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Fi,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Ug(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=_o)}get domAtom(){return!1}}class h4 extends Md{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Fi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class KU extends _l{constructor(e,n,r,i,o,s,l,u,f,d){super(e,n,r,i,o,s,l,f,d),this.spec=u}update(e,n,r,i){if(this.dirty==_o)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function p4(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=RC(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof bl){let u=r?r.previousSibling:t.lastChild;p4(s.contentDOM,s.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=RC(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const kf=function(t){t&&(this.nodeName=t)};kf.prototype=Object.create(null);const Wa=[new kf];function Ab(t,e,n){if(t.length==0)return Wa;let r=n?Wa[0]:new kf,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new kf(s.nodeName));for(let l in s){let u=s[l];u!=null&&(n&&i.length==1&&i.push(r=new kf(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}function m4(t,e,n,r){if(n==Wa&&r==Wa)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let u;l&&l.nodeName==s.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==s.nodeName||(u=document.createElement(s.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=Wa[0]),i=u}GU(i,l||Wa[0],s)}return i}function GU(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function g4(t,e,n){return m4(t,t,Wa,Ab(e,n,t.nodeType!=1))}function Ob(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function RC(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class YU{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=JU(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Fi,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(e[o])&&!this.isLocked(f.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=bl.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let f=this.top.children[l];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==_o&&s.dom==s.contentDOM&&(s.dirty=hu),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof _l){let u=this.preMatch.matched.get(l);if(u!=null&&u!=o)return!1;let f=l.dom;if(!(this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=_o&&Ob(n,l.outerDeco)))&&l.update(e,n,r,i))return this.destroyBetween(this.index,s),l.dom!=f&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,o){this.top.children.splice(this.index++,0,_l.create(this.top,e,n,r,i,o)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new d4(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof bl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Ug)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Tr||Cr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new h4(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function JU(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof bl)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function XU(t,e){return t.type.side-e.type.side}function ZU(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let d=t.child(f);r(d,i,e.forChild(o,d),f),o+=d.nodeSize}return}let s=0,l=[],u=null;for(let f=0;;){if(s<i.length&&i[s].to==o){let _=i[s++],C;for(;s<i.length&&i[s].to==o;)(C||(C=[_])).push(i[s++]);if(C){C.sort(XU);for(let x=0;x<C.length;x++)n(C[x],f,!!u)}else n(_,f,!!u)}let d,m;if(u)m=-1,d=u,u=null;else if(f<t.childCount)m=f,d=t.child(f++);else break;for(let _=0;_<l.length;_++)l[_].to<=o&&l.splice(_--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let v=o+d.nodeSize;if(d.isText){let _=v;s<i.length&&i[s].from<_&&(_=i[s].from);for(let C=0;C<l.length;C++)l[C].to<_&&(_=l[C].to);_<v&&(u=d.cut(_-o),d=d.cut(0,_-o),v=_,m=-1)}let y=d.isInline&&!d.isLeaf?l.filter(_=>!_.inline):l.slice();r(d,y,e.forChild(o,d),m),o=v}}function QU(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function eq(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=uo(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function tq(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let u=s.text;for(;i<t.childCount;){let f=t.child(i++);if(o+=f.nodeSize,!f.isText)break;u+=f.text}if(o>=n){let f=l<r?u.lastIndexOf(e,r-l-1):-1;if(f>=0&&f+e.length+l>=n)return l+f;if(n==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}function Mb(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let u=t[s],f=l,d=l+=u.size;f>=n||d<=e?o.push(u):(f<e&&o.push(u.slice(0,e-f,r)),i&&(o.push(i),i=void 0),d>n&&o.push(u.slice(n-f,u.size,r)))}return o}function H_(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),u,f;if(jg(n)){for(u=l;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&it.isSelectable(d)&&i.parent&&!(d.isInline&&TU(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;f=new it(s==m?l:r.resolve(m))}}else{let d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;u=r.resolve(d)}if(!f){let d=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;f=F_(t,u,l,d)}return f}function v4(t){return t.editable?t.hasFocus():b4(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Uo(t,e=!1){let n=t.state.selection;if(y4(t,n),!!v4(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Cr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&yl(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)rq(t);else{let{anchor:r,head:i}=n,o,s;zC&&!(n instanceof st)&&(n.$from.parent.inlineContent||(o=BC(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=BC(t,n.to))),t.docView.setSelection(r,i,t.root,e),zC&&(o&&$C(o),s&&$C(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&nq(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const zC=Tr||Cr&&OU<63;function BC(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Tr&&i&&i.contentEditable=="false")return B0(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return B0(i);if(o)return B0(o)}}function B0(t){return t.contentEditable="true",Tr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function $C(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function nq(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!v4(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function rq(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ti(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Fr&&Js<=11&&(r.disabled=!0,r.disabled=!1)}function y4(t,e){if(e instanceof it){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(HC(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else HC(t)}function HC(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function F_(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||st.between(e,n,r)}function FC(t){return t.editable&&!t.hasFocus()?!1:b4(t)}function b4(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function iq(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return yl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Lb(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ht.findFrom(o,e)}function Ba(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function VC(t,e,n){let r=t.state.selection;if(r instanceof st){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=Lb(t.state,e);return i&&i instanceof it?Ba(t,i):!1}else if(!(pi&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?it.isSelectable(o)?Ba(t,new it(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Wg?Ba(t,new st(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else{if(r instanceof it&&r.node.isInline)return Ba(t,new st(e>0?r.$to:r.$from));{let i=Lb(t.state,e);return i?Ba(t,i):!1}}}function xm(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function xf(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function $0(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(Wi&&n.nodeType==1&&r<xm(n)&&xf(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(xf(l))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(_4(n))break;{let l=n.previousSibling;for(;l&&xf(l);)i=n.parentNode,o=ti(l),l=l.previousSibling;if(l)n=l,r=xm(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Nb(t,n,r):i&&Nb(t,i,o)}function H0(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=xm(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(xf(l))o=n,s=++r;else break}else{if(_4(n))break;{let l=n.nextSibling;for(;l&&xf(l);)o=l.parentNode,s=ti(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=xm(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Nb(t,o,s)}function _4(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Nb(t,e,n){let r=t.domSelection();if(jg(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Uo(t)},50)}function jC(t,e,n){let r=t.state.selection;if(r instanceof st&&!r.empty||n.indexOf("s")>-1||pi&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Lb(t.state,e);if(s&&s instanceof it)return Ba(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Hi?ht.near(s,e):ht.findFrom(s,e);return l?Ba(t,l):!1}return!1}function WC(t,e){if(!(t.state.selection instanceof st))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function UC(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function oq(t){if(!Tr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;UC(t,r,"true"),setTimeout(()=>UC(t,r,"false"),20)}return!1}function sq(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function aq(t,e){let n=e.keyCode,r=sq(e);return n==8||pi&&n==72&&r=="c"?WC(t,-1)||$0(t):n==46||pi&&n==68&&r=="c"?WC(t,1)||H0(t):n==13||n==27?!0:n==37||pi&&n==66&&r=="c"?VC(t,-1,r)||$0(t):n==39||pi&&n==70&&r=="c"?VC(t,1,r)||H0(t):n==38||pi&&n==80&&r=="c"?jC(t,-1,r)||$0(t):n==40||pi&&n==78&&r=="c"?oq(t)||jC(t,1,r)||H0(t):r==(pi?"m":"c")&&(n==66||n==73||n==89||n==90)}function w4(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let y=r.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let s=t.someProp("clipboardSerializer")||co.fromSchema(t.state.schema),l=E4(),u=l.createElement("div");u.appendChild(s.serializeFragment(r,{document:l}));let f=u.firstChild,d,m=0;for(;f&&f.nodeType==1&&(d=T4[f.nodeName.toLowerCase()]);){for(let y=d.length-1;y>=0;y--){let _=l.createElement(d[y]);for(;u.firstChild;)_.appendChild(u.firstChild);u.appendChild(_),m++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${o}${m?` -${m}`:""} ${JSON.stringify(n)}`);let v=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:v}}function k4(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let u=e&&(r||o||!n);if(u){if(t.someProp("transformPastedText",v=>{e=v(e,o||r,t)}),o)return e?new He(Oe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):He.empty;let m=t.someProp("clipboardTextParser",v=>v(e,i,r,t));if(m)l=m;else{let v=i.marks(),{schema:y}=t.state,_=co.fromSchema(y);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(C=>{let x=s.appendChild(document.createElement("p"));C&&x.appendChild(_.serializeNode(y.text(C,v)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),s=cq(n),Wg&&fq(s);let f=s&&s.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let m=+d[3];m>0;m--){let v=s.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;s=v}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||$g.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(u||d),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!lq.test(v.parentNode.nodeName)?{ignore:!0}:null}})),d)l=dq(qC(l,+d[1],+d[2]),d[4]);else if(l=He.maxOpen(uq(l.content,i),!0),l.openStart||l.openEnd){let m=0,v=0;for(let y=l.content.firstChild;m<l.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(let y=l.content.lastChild;v<l.openEnd&&!y.type.spec.isolating;v++,y=y.lastChild);l=qC(l,m,v)}return t.someProp("transformPasted",m=>{l=m(l,t)}),l}const lq=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function uq(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let u=i.findWrapping(l.type),f;if(!u)return s=null;if(f=s.length&&o.length&&S4(u,o,l,s[s.length-1],0))s[s.length-1]=f;else{s.length&&(s[s.length-1]=C4(s[s.length-1],o.length));let d=x4(l,u);s.push(d),i=i.matchType(d.type),o=u}}),s)return Oe.from(s)}return t}function x4(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Oe.from(t));return t}function S4(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=S4(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Oe.from(x4(n,t,i+1))))}}function C4(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,C4(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Oe.empty,!0);return t.copy(n.append(r))}function Ib(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return i<r-1&&(l=Ib(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,t.childCount>1||o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(Oe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function qC(t,e,n){return e<t.openStart&&(t=new He(Ib(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new He(Ib(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const T4={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let KC=null;function E4(){return KC||(KC=document.implementation.createHTMLDocument("title"))}function cq(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=E4().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&T4[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function fq(t){let e=t.querySelectorAll(Cr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function dq(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=Oe.from(u.create(r[l+1],i)),o++,s++}return new He(i,o,s)}const Er={},Ar={},hq={touchstart:!0,touchmove:!0};class pq{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function mq(t){for(let e in Er){let n=Er[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{vq(t,r)&&!V_(t,r)&&(t.editable||!(r.type in Ar))&&n(t,r)},hq[e]?{passive:!0}:void 0)}Tr&&t.dom.addEventListener("input",()=>null),Pb(t)}function Ks(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function gq(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Pb(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>V_(t,r))})}function V_(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function vq(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function yq(t,e){!V_(t,e)&&Er[e.type]&&(t.editable||!(e.type in Ar))&&Er[e.type](t,e)}Ar.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!O4(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ni&&Cr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Gu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,za(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||aq(t,n)?n.preventDefault():Ks(t,"key")};Ar.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ar.keypress=(t,e)=>{let n=e;if(O4(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||pi&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof st)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function qg(t){return{left:t.clientX,top:t.clientY}}function bq(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function j_(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Nu(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function _q(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&it.isSelectable(r)?(Nu(t,new it(n),"pointer"),!0):!1}function wq(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof it&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(it.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Nu(t,it.create(t.state.doc,i),"pointer"),!0):!1}function kq(t,e,n,r,i){return j_(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?wq(t,n):_q(t,n))}function xq(t,e,n,r){return j_(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Sq(t,e,n,r){return j_(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Cq(t,n,r)}function Cq(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Nu(t,st.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)Nu(t,st.create(r,l+1,l+1+s.content.size),"pointer");else if(it.isSelectable(s))Nu(t,it.create(r,l),"pointer");else continue;return!0}}function W_(t){return Sm(t)}const A4=pi?"metaKey":"ctrlKey";Er.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=W_(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&bq(n,t.input.lastClick)&&!n[A4]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(qg(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Tq(t,s,n,!!r)):(o=="doubleClick"?xq:Sq)(t,s.pos,s.inside,n)?n.preventDefault():Ks(t,"pointer"))};class Tq{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[A4],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let d=e.state.doc.resolve(n.pos);o=d.parent,s=d.depth?d.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u?u.dom:null;let{selection:f}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof it&&f.from<=s&&f.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Wi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ks(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Uo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(qg(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ks(this.view,"pointer"):kq(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Tr&&this.mightDrag&&!this.mightDrag.node.isAtom||Cr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Nu(this.view,ht.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Ks(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ks(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Er.touchstart=t=>{t.input.lastTouch=Date.now(),W_(t),Ks(t,"pointer")};Er.touchmove=t=>{t.input.lastTouch=Date.now(),Ks(t,"pointer")};Er.contextmenu=t=>W_(t);function O4(t,e){return t.composing?!0:Tr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Eq=Ni?5e3:-1;Ar.compositionstart=Ar.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Sm(t,!0),t.markCursor=null;else if(Sm(t),Wi&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}M4(t,Eq)};Ar.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,M4(t,20))};function M4(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Sm(t),e))}function L4(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Aq());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Aq(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Sm(t,e=!1){if(!(Ni&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),L4(t),e||t.docView&&t.docView.dirty){let n=H_(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function Oq(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Yu=Fr&&Js<15||Gu&&MU<604;Er.copy=Ar.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Yu?null:n.clipboardData,s=r.content(),{dom:l,text:u}=w4(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",u)):Oq(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Mq(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Lq(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?od(t,r.value,null,t.input.shiftKey,e):od(t,r.textContent,r.innerHTML,t.input.shiftKey,e)},50)}function od(t,e,n,r,i){let o=k4(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,o||He.empty)))return!0;if(!o)return!1;let s=Mq(o),l=s?t.state.tr.replaceSelectionWith(s,t.input.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Ar.paste=(t,e)=>{let n=e;if(t.composing&&!Ni)return;let r=Yu?null:n.clipboardData;r&&od(t,r.getData("text/plain"),r.getData("text/html"),t.input.shiftKey,n)?n.preventDefault():Lq(t,n)};class Nq{constructor(e,n){this.slice=e,this.move=n}}const N4=pi?"altKey":"ctrlKey";Er.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(qg(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof it?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(it.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&t.dispatch(t.state.tr.setSelection(it.create(t.state.doc,f.posBefore)))}}let s=t.state.selection.content(),{dom:l,text:u}=w4(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Yu?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Yu||n.dataTransfer.setData("text/plain",u),t.dragging=new Nq(s,!n[N4])};Er.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ar.dragover=Ar.dragenter=(t,e)=>e.preventDefault();Ar.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(qg(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",_=>{s=_(s,t)}):s=k4(t,n.dataTransfer.getData(Yu?"Text":"text/plain"),Yu?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[N4]);if(t.someProp("handleDrop",_=>_(t,n,s||He.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let u=s?X6(t.state.doc,o.pos,s):o.pos;u==null&&(u=o.pos);let f=t.state.tr;l&&f.deleteSelection();let d=f.mapping.map(u),m=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,v=f.doc;if(m?f.replaceRangeWith(d,d,s.content.firstChild):f.replaceRange(d,d,s),f.doc.eq(v))return;let y=f.doc.resolve(d);if(m&&it.isSelectable(s.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(s.content.firstChild))f.setSelection(new it(y));else{let _=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((C,x,k,A)=>_=A),f.setSelection(F_(t,y,f.doc.resolve(_)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};Er.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Uo(t)},20))};Er.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Er.beforeinput=(t,e)=>{if(Cr&&Ni&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,za(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ar)Er[t]=Ar[t];function sd(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class U_{constructor(e,n){this.toDOM=e,this.spec=n||ol,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new hr(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof U_&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&sd(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Xs{constructor(e,n){this.attrs=e,this.spec=n||ol}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new hr(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Xs&&sd(this.attrs,e.attrs)&&sd(this.spec,e.spec)}static is(e){return e.type instanceof Xs}destroy(){}}class q_{constructor(e,n){this.attrs=e,this.spec=n||ol}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new hr(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof q_&&sd(this.attrs,e.attrs)&&sd(this.spec,e.spec)}destroy(){}}class hr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new hr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new hr(e,e,new U_(n,r))}static inline(e,n,r,i){return new hr(e,n,new Xs(r,i))}static node(e,n,r,i){return new hr(e,n,new q_(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xs}}const uu=[],ol={};class tn{constructor(e,n){this.local=e.length?e:uu,this.children=n.length?n:uu}static create(e,n){return n.length?Cm(n,e,0,ol):ur}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==ur||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ol)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(s||(s=[])).push(u):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?Iq(this.children,s||[],e,n,r,i,o):s?new tn(s.sort(sl),uu):ur}add(e,n){return n.length?this==ur?tn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,u)=>{let f=u+r,d;if(d=P4(n,l,f)){for(i||(i=this.children.slice());o<i.length&&i[o]<u;)o+=3;i[o]==u?i[o+2]=i[o+2].addInner(l,d,f+1):i.splice(o,0,u,u+l.nodeSize,Cm(d,l,f+1,ol)),o+=3}});let s=I4(o?D4(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new tn(s.length?this.local.concat(s).sort(sl):this.local,i||this.children)}remove(e){return e.length==0||this==ur?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,u=r[o+1]+n;for(let d=0,m;d<e.length;d++)(m=e[d])&&m.from>l&&m.to<u&&(e[d]=null,(s||(s=[])).push(m));if(!s)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(s,l+1);f!=ur?r[o+2]=f:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new tn(i,r):ur}forChild(e,n){if(this==ur)return this;if(n.isLeaf)return tn.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<s&&u.to>o&&u.type instanceof Xs){let f=Math.max(o,u.from)-o,d=Math.min(s,u.to)-o;f<d&&(i||(i=[])).push(u.copy(f,d))}}if(i){let l=new tn(i.sort(sl),uu);return r?new Hs([l,r]):l}return r||ur}eq(e){if(this==e)return!0;if(!(e instanceof tn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return K_(this.localsInner(e))}localsInner(e){if(this==ur)return uu;if(e.inlineContent||!this.local.some(Xs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xs||n.push(this.local[r]);return n}}tn.empty=new tn([],[]);tn.removeOverlap=K_;const ur=tn.empty;class Hs{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,ol));return Hs.from(r)}forChild(e,n){if(n.isLeaf)return tn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=ur&&(o instanceof Hs?r=r.concat(o.members):r.push(o))}return Hs.from(r)}eq(e){if(!(e instanceof Hs)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?K_(r?n:n.sort(sl)):uu}static from(e){switch(e.length){case 0:return ur;case 1:return e[0];default:return new Hs(e.every(n=>n instanceof tn)?e:e.reduce((n,r)=>n.concat(r instanceof tn?r:r.members),[]))}}}function Iq(t,e,n,r,i,o,s){let l=t.slice();for(let f=0,d=o;f<n.maps.length;f++){let m=0;n.maps[f].forEach((v,y,_,C)=>{let x=C-_-(y-v);for(let k=0;k<l.length;k+=3){let A=l[k+1];if(A<0||v>A+d-m)continue;let N=l[k]+d-m;y>=N?l[k+1]=v<=N?-2:-1:_>=i&&x&&(l[k]+=x,l[k+1]+=x)}m+=x}),d=n.maps[f].map(d,-1)}let u=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){u=!0,l[f+1]=-1;continue}let d=n.map(t[f]+o),m=d-i;if(m<0||m>=r.content.size){u=!0;continue}let v=n.map(t[f+1]+o,-1),y=v-i,{index:_,offset:C}=r.content.findIndex(m),x=r.maybeChild(_);if(x&&C==m&&C+x.nodeSize==y){let k=l[f+2].mapInner(n,x,d+1,t[f]+o+1,s);k!=ur?(l[f]=m,l[f+1]=y,l[f+2]=k):(l[f+1]=-2,u=!0)}else u=!0}if(u){let f=Pq(l,t,e,n,i,o,s),d=Cm(f,r,0,s);e=d.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,v=0;m<d.children.length;m+=3){let y=d.children[m];for(;v<l.length&&l[v]<y;)v+=3;l.splice(v,0,d.children[m],d.children[m+1],d.children[m+2])}}return new tn(e.sort(sl),l)}function I4(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new hr(i.from+e,i.to+e,i.type))}return n}function Pq(t,e,n,r,i,o,s){function l(u,f){for(let d=0;d<u.local.length;d++){let m=u.local[d].map(r,i,f);m?n.push(m):s.onRemove&&s.onRemove(u.local[d].spec)}for(let d=0;d<u.children.length;d+=3)l(u.children[d+2],u.children[d]+f+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+o+1);return n}function P4(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function D4(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Cm(t,e,n,r){let i=[],o=!1;e.forEach((l,u)=>{let f=P4(t,l,u+n);if(f){o=!0;let d=Cm(f,l,n+u+1,r);d!=ur&&i.push(u,u+l.nodeSize,d)}});let s=I4(o?D4(t):t,-n).sort(sl);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new tn(s,i):ur}function sl(t,e){return t.from-e.from||t.to-e.to}function K_(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),GC(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),GC(e,i,r.copy(o.from,r.to)));break}}}return e}function GC(t,e,n){for(;e<t.length&&sl(n,t[e])>0;)e++;t.splice(e,0,n)}function F0(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=ur&&e.push(r)}),t.cursorWrapper&&e.push(tn.create(t.state.doc,[t.cursorWrapper.deco])),Hs.from(e)}const Dq={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Rq=Fr&&Js<=11;class zq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Bq{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zq,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Fr&&Js<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Rq&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Dq)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(FC(this.view)){if(this.suppressingSelectionUpdates)return Uo(this.view);if(Fr&&Js<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&yl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=id(o))n.add(o);for(let o=e.anchorNode;o;o=id(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&FC(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,u=[];if(e.editable)for(let d=0;d<n.length;d++){let m=this.registerMutation(n[d],u);m&&(o=o<0?m.from:Math.min(m.from,o),s=s<0?m.to:Math.max(m.to,s),m.typeOver&&(l=!0))}if(Wi&&u.length>1){let d=u.filter(m=>m.nodeName=="BR");if(d.length==2){let m=d[0],v=d[1];m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}}let f=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&jg(r)&&(f=H_(e))&&f.eq(ht.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Uo(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),$q(e)),this.handleDOMChange(o,s,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Uo(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++)n.push(e.addedNodes[d]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Fr&&Js<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:m,nextSibling:v}=e.addedNodes[d];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(o=v)}let s=i&&i.parentNode==e.target?ti(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),u=o&&o.parentNode==e.target?ti(o):e.target.childNodes.length,f=r.localPosFromDOM(e.target,u,1);return{from:l,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let YC=new WeakMap,JC=!1;function $q(t){if(!YC.has(t)&&(YC.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Wi,JC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),JC=!0}}function Hq(t){let e;function n(u){u.preventDefault(),u.stopImmediatePropagation(),e=u.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return yl(l.node,l.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function Fq(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),f,d=u.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:u.anchorOffset}],jg(u)||f.push({node:u.focusNode,offset:u.focusOffset})),Cr&&t.input.lastKeyCode===8)for(let x=o;x>i;x--){let k=r.childNodes[x-1],A=k.pmViewDesc;if(k.nodeName=="BR"&&!A){o=x;break}if(!A||A.size)break}let m=t.state.doc,v=t.someProp("domParser")||$g.fromSchema(t.state.schema),y=m.resolve(s),_=null,C=v.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:o,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:Vq,context:y});if(f&&f[0].pos!=null){let x=f[0].pos,k=f[1]&&f[1].pos;k==null&&(k=x),_={anchor:x+s,head:k+s}}return{doc:C,sel:_,from:s,to:l}}function Vq(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Tr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Tr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const jq=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Wq(t,e,n,r,i){if(e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,z=H_(t,P);if(z&&!t.state.selection.eq(z)){if(Cr&&Ni&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",R=>R(t,za(13,"Enter"))))return;let w=t.state.tr.setSelection(z);P=="pointer"?w.setMeta("pointer",!0):P=="key"&&w.scrollIntoView(),t.dispatch(w)}return}let o=t.state.doc.resolve(e),s=o.sharedDepth(n);e=o.before(s+1),n=t.state.doc.resolve(n).after(s+1);let l=t.state.selection,u=Fq(t,e,n),f=t.state.doc,d=f.slice(u.from,u.to),m,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,v="end"):(m=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let y=Kq(d.content,u.doc.content,u.from,m,v);if((Gu&&t.input.lastIOSEnter>Date.now()-225||Ni)&&i.some(P=>P.nodeType==1&&!jq.test(P.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",P=>P(t,za(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!y)if(r&&l instanceof st&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))y={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let P=XC(t,t.state.doc,u.sel);P&&!P.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(P))}return}if(Cr&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let P=y.endB-y.start;u.sel={anchor:u.sel.anchor+P,head:u.sel.anchor+P}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof st&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),Fr&&Js<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>u.from&&u.doc.textBetween(y.start-u.from-1,y.start-u.from+1)=="  "&&(y.start--,y.endA--,y.endB--);let _=u.doc.resolveNoCache(y.start-u.from),C=u.doc.resolveNoCache(y.endB-u.from),x=f.resolve(y.start),k=_.sameParent(C)&&_.parent.inlineContent&&x.end()>=y.endA,A;if((Gu&&t.input.lastIOSEnter>Date.now()-225&&(!k||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!k&&_.pos<u.doc.content.size&&(A=ht.findFrom(u.doc.resolve(_.pos+1),1,!0))&&A.head==C.pos)&&t.someProp("handleKeyDown",P=>P(t,za(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>y.start&&qq(f,y.start,y.endA,_,C)&&t.someProp("handleKeyDown",P=>P(t,za(8,"Backspace")))){Ni&&Cr&&t.domObserver.suppressSelectionUpdates();return}Cr&&Ni&&y.endB==y.start&&(t.input.lastAndroidDelete=Date.now()),Ni&&!k&&_.start()!=C.start()&&C.parentOffset==0&&_.depth==C.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==y.endA&&(y.endB-=2,C=u.doc.resolveNoCache(y.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,za(13,"Enter"))})},20));let N=y.start,E=y.endA,H,I,q;if(k){if(_.pos==C.pos)Fr&&Js<=11&&_.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Uo(t),20)),H=t.state.tr.delete(N,E),I=f.resolve(y.start).marksAcross(f.resolve(y.endA));else if(y.endA==y.endB&&(q=Uq(_.parent.content.cut(_.parentOffset,C.parentOffset),x.parent.content.cut(x.parentOffset,y.endA-x.start()))))H=t.state.tr,q.type=="add"?H.addMark(N,E,q.mark):H.removeMark(N,E,q.mark);else if(_.parent.child(_.index()).isText&&_.index()==C.index()-(C.textOffset?0:1)){let P=_.parent.textBetween(_.parentOffset,C.parentOffset);if(t.someProp("handleTextInput",z=>z(t,N,E,P)))return;H=t.state.tr.insertText(P,N,E)}}if(H||(H=t.state.tr.replace(N,E,u.doc.slice(y.start-u.from,y.endB-u.from))),u.sel){let P=XC(t,H.doc,u.sel);P&&!(Cr&&Ni&&t.composing&&P.empty&&(y.start!=y.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==N||P.head==H.mapping.map(E)-1)||Fr&&P.empty&&P.head==N)&&H.setSelection(P)}I&&H.ensureMarks(I),t.dispatch(H.scrollIntoView())}function XC(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:F_(t,e.resolve(n.anchor),e.resolve(n.head))}function Uq(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,u;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)o=n[d].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",u=d=>d.mark(l.addToSet(d.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",u=d=>d.mark(l.removeFromSet(d.marks));else return null;let f=[];for(let d=0;d<e.childCount;d++)f.push(u(e.child(d)));if(Oe.from(f).eq(t))return{mark:l,type:s}}function qq(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||V0(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(V0(o,!0,!0));return!s.parent.isTextblock||s.pos>n||V0(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function V0(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Kq(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,o-Math.min(s,l));r-=s+u-o}if(s<o&&t.size<e.size){let u=r<=o&&r>=s?o-r:0;o-=u,l=o+(l-s),s=o}else if(l<o){let u=r<=o&&r>=l?o-r:0;o-=u,s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}class Gq{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new pq,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(nT),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=eT(this),QC(this),this.nodeViews=tT(this),this.docView=DC(this.state.doc,ZC(this),F0(this),this.dom,this),this.domObserver=new Bq(this,(r,i,o,s)=>Wq(this,r,i,o,s)),this.domObserver.start(),mq(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Pb(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(nT),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(L4(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=tT(this);Jq(v,this.nodeViews)&&(this.nodeViews=v,i=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&Pb(this),this.editable=eT(this),QC(this);let l=F0(this),u=ZC(this),f=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,u,l);(d||!e.selection.eq(r.selection))&&(o=!0);let m=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&IU(this);if(o){this.domObserver.stop();let v=d&&(Fr||Cr)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&Yq(r.selection,e.selection);if(d){let y=Cr?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=DC(e.doc,u,l,this.dom,this)),y&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&iq(this))?Uo(this,v):(y4(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&PU(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof it){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&MC(this,n.getBoundingClientRect(),e)}else MC(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Fr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&DU(this.dom),Uo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return HU(this,e)}coordsAtPos(e,n=1){return c4(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return UU(this,n||this.state,e)}pasteHTML(e,n){return od(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return od(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(gq(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],F0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return yq(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Tr&&this.root.nodeType===11&&AU(this.dom.ownerDocument)==this.dom?Hq(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function ZC(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[hr.node(0,t.state.doc.content.size,e)]}function QC(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:hr.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function eT(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Yq(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function tT(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Jq(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function nT(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ia={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Tm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rT=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Xq=typeof navigator<"u"&&/Mac/.test(navigator.platform),Zq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Qq=Xq||rT&&+rT[1]<57;for(var nr=0;nr<10;nr++)ia[48+nr]=ia[96+nr]=String(nr);for(var nr=1;nr<=24;nr++)ia[nr+111]="F"+nr;for(var nr=65;nr<=90;nr++)ia[nr]=String.fromCharCode(nr+32),Tm[nr]=String.fromCharCode(nr);for(var j0 in ia)Tm.hasOwnProperty(j0)||(Tm[j0]=ia[j0]);function eK(t){var e=Qq&&(t.ctrlKey||t.altKey||t.metaKey)||Zq&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Tm:ia)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const tK=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function nK(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))tK?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function rK(t){let e=Object.create(null);for(let n in t)e[nK(n)]=t[n];return e}function W0(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function iK(t){return new on({props:{handleKeyDown:G_(t)}})}function G_(t){let e=rK(t);return function(n,r){let i=eK(r),o,s=e[W0(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[W0(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ia[r.keyCode])&&o!=i){let l=e[W0(o,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const oK=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function R4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const sK=(t,e,n)=>{let r=R4(t,n);if(!r)return!1;let i=Y_(r);if(!i){let s=r.blockRange(),l=s&&lc(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&H4(t,i,e))return!0;if(r.parent.content.size==0&&(Ju(o,"end")||it.isSelectable(o))){let s=Fg(t.doc,r.before(),r.after(),He.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ju(o,"end")?ht.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):it.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},aK=(t,e,n)=>{let r=R4(t,n);if(!r)return!1;let i=Y_(r);return i?z4(t,i,e):!1},lK=(t,e,n)=>{let r=B4(t,n);if(!r)return!1;let i=J_(r);return i?z4(t,i,e):!1};function z4(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let s=e.nodeAfter,l=s,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let f=Fg(t.doc,o,u,He.empty);if(!f||f.from!=o||f instanceof tr&&f.slice.size>=u-o)return!1;if(n){let d=t.tr.step(f);d.setSelection(st.create(d.doc,o)),n(d.scrollIntoView())}return!0}function Ju(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const uK=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Y_(r)}let s=o&&o.nodeBefore;return!s||!it.isSelectable(s)?!1:(e&&e(t.tr.setSelection(it.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Y_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function B4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const cK=(t,e,n)=>{let r=B4(t,n);if(!r)return!1;let i=J_(r);if(!i)return!1;let o=i.nodeAfter;if(H4(t,i,e))return!0;if(r.parent.content.size==0&&(Ju(o,"start")||it.isSelectable(o))){let s=Fg(t.doc,r.before(),r.after(),He.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ju(o,"start")?ht.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):it.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},fK=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=J_(r)}let s=o&&o.nodeAfter;return!s||!it.isSelectable(s)?!1:(e&&e(t.tr.setSelection(it.create(t.doc,o.pos)).scrollIntoView()),!0)};function J_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const dK=(t,e)=>{let n=t.selection,r=n instanceof it,i;if(r){if(n.node.isTextblock||!pa(t.doc,n.from))return!1;i=n.from}else if(i=Hg(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(it.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},hK=(t,e)=>{let n=t.selection,r;if(n instanceof it){if(n.node.isTextblock||!pa(t.doc,n.to))return!1;r=n.to}else if(r=Hg(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},pK=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&lc(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},mK=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function $4(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const gK=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=$4(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,s.createAndFill());u.setSelection(ht.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},vK=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Hi||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=$4(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(st.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},yK=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Mu(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&lc(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},bK=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(it.create(t.doc,i))),!0)};function _K(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||pa(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function H4(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(_K(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let m=e.pos+i.nodeSize,v=Oe.empty;for(let C=o.length-1;C>=0;C--)v=Oe.from(o[C].create(null,v));v=Oe.from(r.copy(v));let y=t.tr.step(new Un(e.pos-1,m,e.pos,m,new He(v,1,0),o.length,!0)),_=m+2*o.length;pa(y.doc,_)&&y.join(_),n(y.scrollIntoView())}return!0}let u=ht.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),d=f&&lc(f);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(f,d).scrollIntoView()),!0;if(l&&Ju(i,"start",!0)&&Ju(r,"end")){let m=r,v=[];for(;v.push(m),!m.isTextblock;)m=m.lastChild;let y=i,_=1;for(;!y.isTextblock;y=y.firstChild)_++;if(m.canReplace(m.childCount,m.childCount,y.content)){if(n){let C=Oe.empty;for(let k=v.length-1;k>=0;k--)C=Oe.from(v[k].copy(C));let x=t.tr.step(new Un(e.pos-v.length,e.pos+i.nodeSize,e.pos+_,e.pos+i.nodeSize-_,new He(C,v.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function F4(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(st.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const wK=F4(-1),kK=F4(1);function xK(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&R_(s,t,e);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function iT(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[o];n.doc.nodesBetween(s,l,(u,f)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let d=n.doc.resolve(f),m=d.index();i=d.parent.canReplaceWith(m,m+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[s];o.setBlockType(l,u,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function SK(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=!1,u=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let d=n.doc.resolve(s.start-2);u=new bm(d,d,s.depth),s.endIndex<s.parent.childCount&&(s=new bm(i,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let f=R_(u,t,e,s);return f?(r&&r(CK(n.tr,s,f,l,t).scrollIntoView()),!0):!1}}function CK(t,e,n,r,i){let o=Oe.empty;for(let d=n.length-1;d>=0;d--)o=Oe.from(n[d].type.create(n[d].attrs,o));t.step(new Un(e.start-(r?2:0),e.end,e.start,e.end,new He(o,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==i&&(s=d+1);let l=n.length-s,u=e.start+n.length-(r?2:0),f=e.parent;for(let d=e.startIndex,m=e.endIndex,v=!0;d<m;d++,v=!1)!v&&Mu(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=f.child(d).nodeSize;return t}function TK(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?EK(e,n,t,o):AK(e,n,o):!0:!1}}function EK(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Un(o-1,s,o,s,new He(Oe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new bm(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const l=lc(r);if(l==null)return!1;i.lift(r,l);let u=i.mapping.map(o,-1)-1;return pa(i.doc,u)&&i.join(u),e(i.scrollIntoView()),!0}function AK(t,e,n){let r=t.tr,i=n.parent;for(let y=n.end,_=n.endIndex-1,C=n.startIndex;_>C;_--)y-=i.child(_).nodeSize,r.delete(y-1,y+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==i.childCount,f=o.node(-1),d=o.index(-1);if(!f.canReplace(d+(l?0:1),d+1,s.content.append(u?Oe.empty:Oe.from(i))))return!1;let m=o.pos,v=m+s.nodeSize;return r.step(new Un(m-(l?1:0),v+(u?1:0),m+1,v-1,new He((l?Oe.empty:Oe.from(i.copy(Oe.empty))).append(u?Oe.empty:Oe.from(i.copy(Oe.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}function OK(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,u=l.child(s-1);if(u.type!=t)return!1;if(n){let f=u.lastChild&&u.lastChild.type==l.type,d=Oe.from(f?t.create():null),m=new He(Oe.from(t.create(null,Oe.from(l.type.create(null,d)))),f?3:1,0),v=o.start,y=o.end;n(e.tr.step(new Un(v-(f?3:1),y,v,y,m,1,!0)).scrollIntoView())}return!0}}function Ld(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class Nd{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([l,u])=>[l,(...d)=>{const m=u(...d)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l=[],u=!!e,f=e||o.tr,d=()=>(!u&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(f),l.every(v=>v===!0)),m={...Object.fromEntries(Object.entries(r).map(([v,y])=>[v,(...C)=>{const x=this.buildProps(f,n),k=y(...C)(x);return l.push(k),m}])),run:d};return m}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([u,f])=>[u,(...d)=>f(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l={tr:e,editor:i,view:s,state:Ld({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,f])=>[u,(...d)=>f(...d)(l)]))}};return l}}class MK{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function Ye(t,e,n){return t.config[e]===void 0&&t.parent?Ye(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Ye(t.parent,e,n):null}):t.config[e]}function Id(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function X_(t){const e=[],{nodeExtensions:n,markExtensions:r}=Id(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},u=Ye(s,"addGlobalAttributes",l);if(!u)return;u().forEach(d=>{d.types.forEach(m=>{Object.entries(d.attributes).forEach(([v,y])=>{e.push({type:m,name:v,attribute:{...o,...y}})})})})}),i.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},u=Ye(s,"addAttributes",l);if(!u)return;const f=u();Object.entries(f).forEach(([d,m])=>{const v={...o,...m};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:s.name,name:d,attribute:v})})}),e}function Hn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function zt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const l=o?o.split(" "):[],u=r[i]?r[i].split(" "):[],f=l.filter(d=>!u.includes(d));r[i]=[...u,...f].join(" ")}else i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function Em(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>zt(n,r),{})}function Z_(t){return typeof t=="function"}function wt(t,e=void 0,...n){return Z_(t)?e?t.bind(e)(...n):t(...n):t}function V4(t={}){return Object.keys(t).length===0&&t.constructor===Object}function j4(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Db(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):j4(n.getAttribute(s.name));return l==null?o:{...o,[s.name]:l}},{});return{...r,...i}}}}function oT(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&V4(n)?!1:n!=null))}function Q_(t,e){var n;const r=X_(t),{nodeExtensions:i,markExtensions:o}=Id(t),s=(n=i.find(f=>Ye(f,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(f=>{const d=r.filter(k=>k.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=t.reduce((k,A)=>{const N=Ye(A,"extendNodeSchema",m);return{...k,...N?N(f):{}}},{}),y=oT({...v,content:wt(Ye(f,"content",m)),marks:wt(Ye(f,"marks",m)),group:wt(Ye(f,"group",m)),inline:wt(Ye(f,"inline",m)),atom:wt(Ye(f,"atom",m)),selectable:wt(Ye(f,"selectable",m)),draggable:wt(Ye(f,"draggable",m)),code:wt(Ye(f,"code",m)),defining:wt(Ye(f,"defining",m)),isolating:wt(Ye(f,"isolating",m)),attrs:Object.fromEntries(d.map(k=>{var A;return[k.name,{default:(A=k==null?void 0:k.attribute)===null||A===void 0?void 0:A.default}]}))}),_=wt(Ye(f,"parseHTML",m));_&&(y.parseDOM=_.map(k=>Db(k,d)));const C=Ye(f,"renderHTML",m);C&&(y.toDOM=k=>C({node:k,HTMLAttributes:Em(k,d)}));const x=Ye(f,"renderText",m);return x&&(y.toText=x),[f.name,y]})),u=Object.fromEntries(o.map(f=>{const d=r.filter(x=>x.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=t.reduce((x,k)=>{const A=Ye(k,"extendMarkSchema",m);return{...x,...A?A(f):{}}},{}),y=oT({...v,inclusive:wt(Ye(f,"inclusive",m)),excludes:wt(Ye(f,"excludes",m)),group:wt(Ye(f,"group",m)),spanning:wt(Ye(f,"spanning",m)),code:wt(Ye(f,"code",m)),attrs:Object.fromEntries(d.map(x=>{var k;return[x.name,{default:(k=x==null?void 0:x.attribute)===null||k===void 0?void 0:k.default}]}))}),_=wt(Ye(f,"parseHTML",m));_&&(y.parseDOM=_.map(x=>Db(x,d)));const C=Ye(f,"renderHTML",m);return C&&(y.toDOM=x=>C({mark:x,HTMLAttributes:Em(x,d)})),[f.name,y]}));return new KW({topNode:s,nodes:l,marks:u})}function Ep(t,e){return e.nodes[t]||e.marks[t]||null}function Rb(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const W4=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,l)=>{var u,f;const d=((f=(u=i.type.spec).toText)===null||f===void 0?void 0:f.call(u,{node:i,pos:o,parent:s,index:l}))||i.textContent||"%leaf%";n+=d.slice(0,Math.max(0,r-o))}),n};function Kg(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class uc{constructor(e){this.find=e.find,this.handler=e.handler}}const LK=(t,e)=>{if(Kg(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function U0(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:l}=t,{view:u}=n;if(u.composing)return!1;const f=u.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let d=!1;const m=W4(f)+o;return s.forEach(v=>{if(d)return;const y=LK(m,v.find);if(!y)return;const _=u.state.tr,C=Ld({state:u.state,transaction:_}),x={from:r-(y[0].length-o.length),to:i},{commands:k,chain:A,can:N}=new Nd({editor:n,state:C});v.handler({state:C,range:x,match:y,commands:k,chain:A,can:N})===null||!_.steps.length||(_.setMeta(l,{transform:_,from:r,to:i,text:o}),u.dispatch(_),d=!0)}),d}function U4(t){const{editor:e,rules:n}=t,r=new on({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,l){return U0({editor:e,from:o,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&U0({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?U0({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function q4(t){return typeof t=="number"}class Gg{constructor(e){this.find=e.find,this.handler=e.handler}}const NK=(t,e,n)=>{if(Kg(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function IK(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:l}=t,{commands:u,chain:f,can:d}=new Nd({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,i,(y,_)=>{if(!y.isTextblock||y.type.spec.code)return;const C=Math.max(r,_),x=Math.min(i,_+y.content.size),k=y.textBetween(C-_,x-_,void 0,"￼");NK(k,o.find,s).forEach(N=>{if(N.index===void 0)return;const E=C+N.index+1,H=E+N[0].length,I={from:n.tr.mapping.map(E),to:n.tr.mapping.map(H)},q=o.handler({state:n,range:I,match:N,commands:u,chain:f,can:d,pasteEvent:s,dropEvent:l});m.push(q)})}),m.every(y=>y!==null)}function K4(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=new ClipboardEvent("paste"),l=new DragEvent("drop");return n.map(f=>new on({view(d){const m=v=>{var y;r=!((y=d.dom.parentElement)===null||y===void 0)&&y.contains(v.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",m),{destroy(){window.removeEventListener("dragstart",m)}}},props:{handleDOMEvents:{drop:(d,m)=>(o=r===d.dom.parentElement,l=m,!1),paste:(d,m)=>{var v;const y=(v=m.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return s=m,i=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(d,m,v)=>{const y=d[0],_=y.getMeta("uiEvent")==="paste"&&!i,C=y.getMeta("uiEvent")==="drop"&&!o;if(!_&&!C)return;const x=m.doc.content.findDiffStart(v.doc.content),k=m.doc.content.findDiffEnd(v.doc.content);if(!q4(x)||!k||x===k.b)return;const A=v.tr,N=Ld({state:v,transaction:A});if(!(!IK({editor:e,state:N,from:Math.max(x-1,0),to:k.b-1,rule:f,pasteEvent:s,dropEvent:l})||!A.steps.length))return l=new DragEvent("drop"),s=new ClipboardEvent("paste"),A}}))}function G4(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class Ua{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Ua.resolve(e),this.schema=Q_(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Ep(r.name,this.schema)};r.type==="mark"&&(!((i=wt(Ye(r,"keepOnSplit",o)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const s=Ye(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const l=Ye(r,"onCreate",o);l&&this.editor.on("create",l);const u=Ye(r,"onUpdate",o);u&&this.editor.on("update",u);const f=Ye(r,"onSelectionUpdate",o);f&&this.editor.on("selectionUpdate",f);const d=Ye(r,"onTransaction",o);d&&this.editor.on("transaction",d);const m=Ye(r,"onFocus",o);m&&this.editor.on("focus",m);const v=Ye(r,"onBlur",o);v&&this.editor.on("blur",v);const y=Ye(r,"onDestroy",o);y&&this.editor.on("destroy",y)})}static resolve(e){const n=Ua.sort(Ua.flatten(e)),r=G4(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=Ye(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=Ye(r,"priority")||100,s=Ye(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Ep(n.name,this.schema)},i=Ye(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Ua.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:Ep(s.name,this.schema)},u=[],f=Ye(s,"addKeyboardShortcuts",l);let d={};if(s.type==="mark"&&s.config.exitable&&(d.ArrowRight=()=>or.handleExit({editor:e,mark:s})),f){const C=Object.fromEntries(Object.entries(f()).map(([x,k])=>[x,()=>k({editor:e})]));d={...d,...C}}const m=iK(d);u.push(m);const v=Ye(s,"addInputRules",l);Rb(s,e.options.enableInputRules)&&v&&r.push(...v());const y=Ye(s,"addPasteRules",l);Rb(s,e.options.enablePasteRules)&&y&&i.push(...y());const _=Ye(s,"addProseMirrorPlugins",l);if(_){const C=_();u.push(...C)}return u}).flat();return[U4({editor:e,rules:r}),...K4({editor:e,rules:i}),...o]}get attributes(){return X_(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Id(this.extensions);return Object.fromEntries(n.filter(r=>!!Ye(r,"addNodeView")).map(r=>{const i=this.attributes.filter(u=>u.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Hn(r.name,this.schema)},s=Ye(r,"addNodeView",o);if(!s)return[];const l=(u,f,d,m)=>{const v=Em(u,i);return s()({editor:e,node:u,getPos:d,decorations:m,HTMLAttributes:v,extension:r})};return[r.name,l]}))}}function PK(t){return Object.prototype.toString.call(t).slice(8,-1)}function Ap(t){return PK(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Pd(t,e){const n={...t};return Ap(t)&&Ap(e)&&Object.keys(e).forEach(r=>{Ap(e[r])?r in t?n[r]=Pd(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class ir{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(Ye(this,"addOptions",{name:this.name}))),this.storage=wt(Ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ir(e)}configure(e={}){const n=this.extend();return n.options=Pd(this.options,e),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new ir({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(Ye(n,"addOptions",{name:n.name})),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}}function ew(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let l="",u=!0;return t.nodesBetween(r,i,(f,d,m,v)=>{var y;const _=s==null?void 0:s[f.type.name];_?(f.isBlock&&!u&&(l+=o,u=!0),m&&(l+=_({node:f,pos:d,parent:m,index:v,range:e}))):f.isText?(l+=(y=f==null?void 0:f.text)===null||y===void 0?void 0:y.slice(Math.max(r,d)-d,i-d),u=!1):f.isBlock&&!u&&(l+=o,u=!0)}),l}function Yg(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const DK=ir.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new on({key:new xn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(d=>d.$from.pos)),l=Math.max(...o.map(d=>d.$to.pos)),u=Yg(n);return ew(r,{from:s,to:l},{textSerializers:u})}}})]}}),RK=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),zK=(t=!1)=>({commands:e})=>e.setContent("",t),BK=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(l,u)=>{if(l.type.isText)return;const{doc:f,mapping:d}=e,m=f.resolve(d.map(u)),v=f.resolve(d.map(u+l.nodeSize)),y=m.blockRange(v);if(!y)return;const _=lc(y);if(l.type.isTextblock){const{defaultType:C}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(y.start,C)}(_||_===0)&&e.lift(y,_)})}),!0},$K=t=>e=>t(e),HK=()=>({state:t,dispatch:e})=>vK(t,e),FK=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new st(r.doc.resolve(s-1))),!0},VK=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const l=i.before(o),u=i.after(o);t.delete(l,u).scrollIntoView()}return!0}return!1},jK=t=>({tr:e,state:n,dispatch:r})=>{const i=Hn(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const u=o.before(s),f=o.after(s);e.delete(u,f).scrollIntoView()}return!0}return!1},WK=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},UK=()=>({state:t,dispatch:e})=>oK(t,e),qK=()=>({commands:t})=>t.keyboardShortcut("Enter"),KK=()=>({state:t,dispatch:e})=>gK(t,e);function ad(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Kg(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function zb(t,e,n={}){return t.find(r=>r.type===e&&ad(r.attrs,n))}function GK(t,e,n={}){return!!zb(t,e,n)}function Jg(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=zb([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,l=o+1,u=s+r.node.nodeSize;for(zb([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&GK([...t.parent.child(l).marks],e,n);)u+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:u}}function as(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const YK=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=as(t,r.schema),{doc:s,selection:l}=n,{$from:u,from:f,to:d}=l;if(i){const m=Jg(u,o,e);if(m&&m.from<=f&&m.to>=d){const v=st.create(s,m.from,m.to);n.setSelection(v)}}return!0},JK=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function tw(t){return t instanceof st}function ho(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function nw(t,e=null){if(!e)return null;const n=ht.atStart(t),r=ht.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?st.create(t,ho(0,i,o),ho(t.content.size,i,o)):st.create(t,ho(e,i,o),ho(e,i,o))}function Dd(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const XK=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{Dd()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!tw(n.state.selection))return s(),!0;const l=nw(i.doc,t)||n.state.selection,u=n.state.selection.eq(l);return o&&(u||i.setSelection(l),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},ZK=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),QK=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),Y4=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&Y4(r)}return t};function Am(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return Y4(n)}function ld(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?Oe.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),ld("",e,n)}if(typeof t=="string"){const r=$g.fromSchema(e);return n.slice?r.parseSlice(Am(t),n.parseOptions).content:r.parse(Am(t),n.parseOptions)}return ld("",e,n)}function J4(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof tr||i instanceof Un))return;const o=t.mapping.maps[r];let s=0;o.forEach((l,u,f,d)=>{s===0&&(s=d)}),t.setSelection(ht.near(t.doc.resolve(s),n))}const eG=t=>t.toString().startsWith("<"),tG=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=ld(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:l,to:u}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,d=!0;if((eG(s)?s:[s]).forEach(v=>{v.check(),f=f?v.isText&&v.marks.length===0:!1,d=d?v.isBlock:!1}),l===u&&d){const{parent:v}=r.doc.resolve(l);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(l-=1,u+=1)}f?Array.isArray(e)?r.insertText(e.map(v=>v.text||"").join(""),l,u):typeof e=="object"&&e&&e.text?r.insertText(e.text,l,u):r.insertText(e,l,u):r.replaceWith(l,u,s),n.updateSelection&&J4(r,r.steps.length-1,-1)}return!0},nG=()=>({state:t,dispatch:e})=>dK(t,e),rG=()=>({state:t,dispatch:e})=>hK(t,e),iG=()=>({state:t,dispatch:e})=>sK(t,e),oG=()=>({state:t,dispatch:e})=>cK(t,e),sG=()=>({tr:t,state:e,dispatch:n})=>{try{const r=Hg(e.doc,e.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),n&&n(t),!0)}catch{return!1}},aG=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Hg(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},lG=()=>({state:t,dispatch:e})=>aK(t,e),uG=()=>({state:t,dispatch:e})=>lK(t,e);function Xg(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function cG(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l+=1){const u=e[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))Dd()||Xg()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const fG=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=cG(t).split(/-(?!$)/),s=o.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,l))});return u==null||u.steps.forEach(f=>{const d=f.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function Xu(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?Hn(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const y=Math.max(r,v),_=Math.min(i,v+m.nodeSize);l.push({node:m,from:y,to:_})});const u=i-r,f=l.filter(m=>s?s.name===m.node.type.name:!0).filter(m=>ad(m.node.attrs,n,{strict:!1}));return o?!!f.length:f.reduce((m,v)=>m+v.to-v.from,0)>=u}const dG=(t,e={})=>({state:n,dispatch:r})=>{const i=Hn(t,n.schema);return Xu(n,i,e)?pK(n,r):!1},hG=()=>({state:t,dispatch:e})=>yK(t,e),pG=t=>({state:e,dispatch:n})=>{const r=Hn(t,e.schema);return TK(r)(e,n)},mG=()=>({state:t,dispatch:e})=>mK(t,e);function Rd(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Bb(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const gG=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=Rd(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Hn(t,r.schema)),l==="mark"&&(s=as(t,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,d)=>{o&&o===f.type&&n.setNodeMarkup(d,void 0,Bb(f.attrs,e)),s&&f.marks.length&&f.marks.forEach(m=>{s===m.type&&n.addMark(d,d+f.nodeSize,s.create(Bb(m.attrs,e)))})})}),!0):!1},vG=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),yG=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),bG=()=>({state:t,dispatch:e})=>uK(t,e),_G=()=>({state:t,dispatch:e})=>fK(t,e),wG=()=>({state:t,dispatch:e})=>bK(t,e),kG=()=>({state:t,dispatch:e})=>kK(t,e),xG=()=>({state:t,dispatch:e})=>wK(t,e);function rw(t,e,n={}){return ld(t,e,{slice:!1,parseOptions:n})}const SG=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,l=rw(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,l).setMeta("preventUpdate",!e),!0};function cc(t,e){const n=as(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{s.push(...u.marks)});const l=s.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function X4(t,e){const n=new z_(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function Z4(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function CG(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function Q4(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function iw(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function zd(t){return e=>iw(e.$from,t)}function ow(t,e){const n=co.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Zg(t,e){const n=Ua.resolve(t);return Q_(n,e)}function TG(t,e){const n=Zg(e),r=Wo.fromJSON(n,t);return ow(r.content,n)}function EG(t,e){const n=Zg(e),r=Am(t);return $g.fromSchema(n).parse(r).toJSON()}function sw(t,e){const n={from:0,to:t.content.size};return ew(t,n,e)}function AG(t,e,n){const{blockSeparator:r=`

`,textSerializers:i={}}=n||{},o=Zg(e),s=Wo.fromJSON(o,t);return sw(s,{blockSeparator:r,textSerializers:{...Yg(o),...i}})}function eL(t,e){const n=Hn(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function aw(t,e){const n=Rd(typeof e=="string"?e:e.name,t.schema);return n==="node"?eL(t,e):n==="mark"?cc(t,e):{}}function tL(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function OG(t){const e=tL(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function nL(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((l,u)=>{s.push({from:l,to:u})});else{const{from:l,to:u}=n[o];if(l===void 0||u===void 0)return;s.push({from:l,to:u})}s.forEach(({from:l,to:u})=>{const f=e.slice(o).map(l,-1),d=e.slice(o).map(u),m=e.invert().map(f,-1),v=e.invert().map(d);r.push({oldRange:{from:m,to:v},newRange:{from:f,to:d}})})}),OG(r)}function rL(t,e=0){const r=t.type===t.type.schema.topNodeType?0:1,i=e,o=i+t.nodeSize,s=t.marks.map(f=>{const d={type:f.type.name};return Object.keys(f.attrs).length&&(d.attrs={...f.attrs}),d}),l={...t.attrs},u={type:t.type.name,from:i,to:o};return Object.keys(l).length&&(u.attrs=l),s.length&&(u.marks=s),t.content.childCount&&(u.content=[],t.forEach((f,d)=>{var m;(m=u.content)===null||m===void 0||m.push(rL(f,e+d+r))})),t.text&&(u.text=t.text),u}function Qg(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=Jg(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}const MG=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let o=r,s=null;for(;o>0&&s===null;){const l=i.node(o);(l==null?void 0:l.type.name)===e?s=l:o-=1}return[s,o]};function Sf(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function Om(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?as(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>ad(m.attrs,n,{strict:!1}));let s=0;const l=[];if(i.forEach(({$from:m,$to:v})=>{const y=m.pos,_=v.pos;t.doc.nodesBetween(y,_,(C,x)=>{if(!C.isText&&!C.marks.length)return;const k=Math.max(y,x),A=Math.min(_,x+C.nodeSize),N=A-k;s+=N,l.push(...C.marks.map(E=>({mark:E,from:k,to:A})))})}),s===0)return!1;const u=l.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>ad(m.mark.attrs,n,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),f=l.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,v)=>m+v.to-v.from,0);return(u>0?u+f:u)>=s}function iL(t,e,n={}){if(!e)return Xu(t,null,n)||Om(t,null,n);const r=Rd(e,t.schema);return r==="node"?Xu(t,e,n):r==="mark"?Om(t,e,n):!1}const LG=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const o=zd(l=>l.type.name===e)(t.selection);if(!o)return!1;const s=t.doc.resolve(o.pos+1);return i.pos+1===s.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},NG=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function $b(t,e){const{nodeExtensions:n}=Id(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=wt(Ye(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function lw(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function IG(t){return t instanceof it}function PG(t,e,n){const i=t.state.doc.content.size,o=ho(e,0,i),s=ho(n,0,i),l=t.coordsAtPos(o),u=t.coordsAtPos(s,-1),f=Math.min(l.top,u.top),d=Math.max(l.bottom,u.bottom),m=Math.min(l.left,u.left),v=Math.max(l.right,u.right),y=v-m,_=d-f,k={top:f,bottom:d,left:m,right:v,width:y,height:_,x:m,y:f};return{...k,toJSON:()=>k}}function DG(t,e,n){var r;const{selection:i}=e;let o=null;if(tw(i)&&(o=i.$cursor),o){const l=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(l)||!l.some(u=>u.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:l,$to:u})=>{let f=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,u.pos,(d,m,v)=>{if(f)return!1;if(d.isInline){const y=!v||v.type.allowsMarkType(n),_=!!n.isInSet(d.marks)||!d.marks.some(C=>C.type.excludes(n));f=y&&_}return!f}),f})}const RG=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:l}=o,u=as(t,r.schema);if(i)if(s){const f=cc(r,u);n.addStoredMark(u.create({...f,...e}))}else l.forEach(f=>{const d=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(d,m,(v,y)=>{const _=Math.max(y,d),C=Math.min(y+v.nodeSize,m);v.marks.find(k=>k.type===u)?v.marks.forEach(k=>{u===k.type&&n.addMark(_,C,u.create({...k.attrs,...e}))}):n.addMark(_,C,u.create(e))})});return DG(r,n,u)},zG=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),BG=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Hn(t,n.schema);return o.isTextblock?i().command(({commands:s})=>iT(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>iT(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},$G=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=ho(t,0,r.content.size),o=it.create(r,i);e.setSelection(o)}return!0},HG=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=st.atStart(r).from,l=st.atEnd(r).to,u=ho(i,s,l),f=ho(o,s,l),d=st.create(r,u,f);e.setSelection(d)}return!0},FG=t=>({state:e,dispatch:n})=>{const r=Hn(t,e.schema);return OK(r)(e,n)};function sT(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const VG=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:l,$to:u}=o,f=i.extensionManager.attributes,d=Sf(f,l.node().type.name,l.node().attrs);if(o instanceof it&&o.node.isBlock)return!l.parentOffset||!Mu(s,l.pos)?!1:(r&&(t&&sT(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const m=u.parentOffset===u.parent.content.size;o instanceof st&&e.deleteSelection();const v=l.depth===0?void 0:Z4(l.node(-1).contentMatchAt(l.indexAfter(-1)));let y=m&&v?[{type:v,attrs:d}]:void 0,_=Mu(e.doc,e.mapping.map(l.pos),1,y);if(!y&&!_&&Mu(e.doc,e.mapping.map(l.pos),1,v?[{type:v}]:void 0)&&(_=!0,y=v?[{type:v,attrs:d}]:void 0),_&&(e.split(e.mapping.map(l.pos),1,y),v&&!m&&!l.parentOffset&&l.parent.type!==v)){const C=e.mapping.map(l.before()),x=e.doc.resolve(C);l.node(-1).canReplaceWith(x.index(),x.index()+1,v)&&e.setNodeMarkup(e.mapping.map(l.before()),v)}t&&sT(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},jG=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=Hn(t,n.schema),{$from:l,$to:u}=n.selection,f=n.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(u))return!1;const d=l.node(-1);if(d.type!==s)return!1;const m=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let x=Oe.empty;const k=l.index(-1)?1:l.index(-2)?2:3;for(let q=l.depth-k;q>=l.depth-3;q-=1)x=Oe.from(l.node(q).copy(x));const A=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,N=Sf(m,l.node().type.name,l.node().attrs),E=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(N))||void 0;x=x.append(Oe.from(s.createAndFill(null,E)||void 0));const H=l.before(l.depth-(k-1));e.replace(H,l.after(-A),new He(x,4-k,0));let I=-1;e.doc.nodesBetween(H,e.doc.content.size,(q,P)=>{if(I>-1)return!1;q.isTextblock&&q.content.size===0&&(I=P+1)}),I>-1&&e.setSelection(st.near(e.doc.resolve(I))),e.scrollIntoView()}return!0}const v=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,y=Sf(m,d.type.name,d.attrs),_=Sf(m,l.node().type.name,l.node().attrs);e.delete(l.pos,u.pos);const C=v?[{type:s,attrs:y},{type:v,attrs:_}]:[{type:s,attrs:y}];if(!Mu(e.doc,l.pos,2))return!1;if(r){const{selection:x,storedMarks:k}=n,{splittableMarks:A}=i.extensionManager,N=k||x.$to.parentOffset&&x.$from.marks();if(e.split(l.pos,2,C).scrollIntoView(),!N||!r)return!0;const E=N.filter(H=>A.includes(H.type.name));e.ensureMarks(E)}return!0},q0=(t,e)=>{const n=zd(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&pa(t.doc,n.pos)&&t.join(n.pos),!0},K0=(t,e)=>{const n=zd(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&pa(t.doc,r)&&t.join(r),!0},WG=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:l,chain:u,commands:f,can:d})=>{const{extensions:m,splittableMarks:v}=i.extensionManager,y=Hn(t,s.schema),_=Hn(e,s.schema),{selection:C,storedMarks:x}=s,{$from:k,$to:A}=C,N=k.blockRange(A),E=x||C.$to.parentOffset&&C.$from.marks();if(!N)return!1;const H=zd(I=>$b(I.type.name,m))(C);if(N.depth>=1&&H&&N.depth-H.depth<=1){if(H.node.type===y)return f.liftListItem(_);if($b(H.node.type.name,m)&&y.validContent(H.node.content)&&l)return u().command(()=>(o.setNodeMarkup(H.pos,y),!0)).command(()=>q0(o,y)).command(()=>K0(o,y)).run()}return!n||!E||!l?u().command(()=>d().wrapInList(y,r)?!0:f.clearNodes()).wrapInList(y,r).command(()=>q0(o,y)).command(()=>K0(o,y)).run():u().command(()=>{const I=d().wrapInList(y,r),q=E.filter(P=>v.includes(P.type.name));return o.ensureMarks(q),I?!0:f.clearNodes()}).wrapInList(y,r).command(()=>q0(o,y)).command(()=>K0(o,y)).run()},UG=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=as(t,r.schema);return Om(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},qG=(t,e,n={})=>({state:r,commands:i})=>{const o=Hn(t,r.schema),s=Hn(e,r.schema);return Xu(r,o,n)?i.setNode(s):i.setNode(o,n)},KG=(t,e={})=>({state:n,commands:r})=>{const i=Hn(t,n.schema);return Xu(n,i,e)?r.lift(i):r.wrapIn(i,e)},GG=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,l=o.transform;for(let u=l.steps.length-1;u>=0;u-=1)s.step(l.steps[u].invert(l.docs[u]));if(o.text){const u=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,u))}else s.delete(o.from,o.to)}return!0}}return!1},YG=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},JG=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,u=as(t,r.schema),{$from:f,empty:d,ranges:m}=l;if(!i)return!0;if(d&&s){let{from:v,to:y}=l;const _=(o=f.marks().find(x=>x.type===u))===null||o===void 0?void 0:o.attrs,C=Jg(f,u,_);C&&(v=C.from,y=C.to),n.removeMark(v,y,u)}else m.forEach(v=>{n.removeMark(v.$from.pos,v.$to.pos,u)});return n.removeStoredMark(u),!0},XG=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=Rd(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Hn(t,r.schema)),l==="mark"&&(s=as(t,r.schema)),i&&n.selection.ranges.forEach(u=>{const f=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(f,d,(m,v)=>{o&&o===m.type&&n.setNodeMarkup(v,void 0,{...m.attrs,...e}),s&&m.marks.length&&m.marks.forEach(y=>{if(s===y.type){const _=Math.max(v,f),C=Math.min(v+m.nodeSize,d);n.addMark(_,C,s.create({...y.attrs,...e}))}})})}),!0):!1},ZG=(t,e={})=>({state:n,dispatch:r})=>{const i=Hn(t,n.schema);return xK(i,e)(n,r)},QG=(t,e={})=>({state:n,dispatch:r})=>{const i=Hn(t,n.schema);return SK(i,e)(n,r)};var eY=Object.freeze({__proto__:null,blur:RK,clearContent:zK,clearNodes:BK,command:$K,createParagraphNear:HK,cut:FK,deleteCurrentNode:VK,deleteNode:jK,deleteRange:WK,deleteSelection:UK,enter:qK,exitCode:KK,extendMarkRange:YK,first:JK,focus:XK,forEach:ZK,insertContent:QK,insertContentAt:tG,joinUp:nG,joinDown:rG,joinBackward:iG,joinForward:oG,joinItemBackward:sG,joinItemForward:aG,joinTextblockBackward:lG,joinTextblockForward:uG,keyboardShortcut:fG,lift:dG,liftEmptyBlock:hG,liftListItem:pG,newlineInCode:mG,resetAttributes:gG,scrollIntoView:vG,selectAll:yG,selectNodeBackward:bG,selectNodeForward:_G,selectParentNode:wG,selectTextblockEnd:kG,selectTextblockStart:xG,setContent:SG,setMark:RG,setMeta:zG,setNode:BG,setNodeSelection:$G,setTextSelection:HG,sinkListItem:FG,splitBlock:VG,splitListItem:jG,toggleList:WG,toggleMark:UG,toggleNode:qG,toggleWrap:KG,undoInputRule:GG,unsetAllMarks:YG,unsetMark:JG,updateAttributes:XG,wrapIn:ZG,wrapInList:QG});const tY=ir.create({name:"commands",addCommands(){return{...eY}}}),nY=ir.create({name:"editable",addProseMirrorPlugins(){return[new on({key:new xn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),rY=ir.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new on({key:new xn("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),iY=ir.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:u,doc:f}=l,{empty:d,$anchor:m}=u,{pos:v,parent:y}=m,_=m.parent.isTextblock?l.doc.resolve(v-1):m,C=_.parent.type.spec.isolating,x=m.pos-m.parentOffset,k=C&&_.parent.childCount===1?x===m.pos:ht.atStart(f).from===v;return!d||!k||!y.type.isTextblock||y.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Dd()||Xg()?o:i},addProseMirrorPlugins(){return[new on({key:new xn("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(_=>_.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,l=ht.atStart(e.doc).from,u=ht.atEnd(e.doc).to;if(i||!(o===l&&s===u)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const m=n.tr,v=Ld({state:n,transaction:m}),{commands:y}=new Nd({editor:this.editor,state:v});if(y.clearNodes(),!!m.steps.length)return m}})]}}),oY=ir.create({name:"tabindex",addProseMirrorPlugins(){return[new on({key:new xn("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var oL=Object.freeze({__proto__:null,ClipboardTextSerializer:DK,Commands:tY,Editable:nY,FocusEvents:rY,Keymap:iY,Tabindex:oY});class Fs{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Fs(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Fs(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Fs(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=this.pos+r+(i?0:1),s=this.resolvedPos.doc.resolve(o);if(!i&&s.depth<=this.depth)return;const l=new Fs(s,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new Fs(s,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let l=0;l<s.length;l+=1){const u=s[l];if(o[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];return this.isBlock||!this.children||this.children.length===0||this.children.forEach(o=>{if(o.node.type.name===e){if(Object.keys(n).length>0){const s=o.node.attrs,l=Object.keys(n);for(let u=0;u<l.length;u+=1){const f=l[u];if(s[f]!==n[f])return}}if(i.push(o),r)return}i=i.concat(o.querySelectorAll(e))}),i}setAttribute(e){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(n.from).run()}}const sY=`.ProseMirror {
========
}`;var C=oF(function(){return Function(o,y+"return "+m).apply(void 0,s)});if(C.source=m,X3(C))throw C;return C}const LW=function(t,e,n){return typeof Craft.translations[t]<"u"&&typeof Craft.translations[t][e]<"u"&&(e=Craft.translations[t][e]),n?NW(e,{interpolate:/{([\s\S]+?)}/g})(n):e},O6=t=>{const e=Q1({delimiters:["${","}"],...t});return e.config.unwrapInjectedRef=!0,e.use(N3),e.use(i$),e.use(kB,{themes:{"vui-tooltip":{$extend:"tooltip",delay:{show:0,hide:0}}}}),e.config.globalProperties.t=LW,e.config.globalProperties.clone=o$,e.config.globalProperties.$events=n7(),e.config.globalProperties.$isDebug=!1,e};function Xn(t){this.content=t}Xn.prototype={constructor:Xn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Xn(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Xn(n)},addToStart:function(t,e){return new Xn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Xn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Xn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Xn.from(t),t.size?new Xn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Xn.from(t),t.size?new Xn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Xn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Xn.from=function(t){if(t instanceof Xn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Xn(e)};function M6(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=M6(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function N6(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),u=s.nodeSize;if(s==l){n-=u,r-=u;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let f=0,d=Math.min(s.text.length,l.text.length);for(;f<d&&s.text[s.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let f=N6(s.content,l.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class Oe{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let u=this.content[s],f=l+u.nodeSize;if(f>e&&r(u,i+l,o||null,s)!==!1&&u.content.size){let d=l+1;u.nodesBetween(Math.max(0,e-d),Math.min(u.content.size,n-d),r,i+d)}l=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,u)=>{l.isText?(o+=l.text.slice(Math.max(e,u)-u,n-u),s=!r):l.isLeaf?(i?o+=typeof i=="function"?i(l):i:l.type.spec.leafText&&(o+=l.type.spec.leafText(l)),s=!r):!s&&l.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new Oe(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],u=s+l.nodeSize;u>e&&((s<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=u}return new Oe(r,i)}cutByIndex(e,n){return e==n?Oe.empty:e==0&&n==this.content.length?this:new Oe(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Oe(i,o)}addToStart(e){return new Oe([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Oe(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return M6(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return N6(this,e,n,r)}findIndex(e,n=-1){if(e==0)return qh(0,e);if(e==this.size)return qh(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?qh(r+1,s):qh(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Oe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Oe(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Oe.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Oe(n||e,r)}static from(e){if(!e)return Oe.empty;if(e instanceof Oe)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Oe([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Oe.empty=new Oe([],0);const Ay={index:0,offset:0};function qh(t,e){return Ay.index=t,Ay.offset=e,Ay}function vm(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!vm(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!vm(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Jt=class bb{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&vm(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return bb.none;if(e instanceof bb)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Jt.none=[];class ym extends Error{}class He{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=I6(this.content,e+this.openStart,n);return r&&new He(r,this.openStart,this.openEnd)}removeBetween(e,n){return new He(L6(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return He.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new He(Oe.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new He(e,r,i)}}He.empty=new He(Oe.empty,0,0);function L6(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(L6(o.content,e-i-1,n-i-1)))}function I6(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=I6(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}function IW(t,e,n){if(n.openStart>t.depth)throw new ym("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ym("Inconsistent open depths");return P6(t,e,n,0)}function P6(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=P6(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return il(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=PW(n,t);return il(o,R6(t,s,l,e,r))}else return il(o,bm(t,e,r))}function D6(t,e){if(!e.type.compatibleContent(t.type))throw new ym("Cannot join "+e.type.name+" onto "+t.type.name)}function _b(t,e,n){let r=t.node(n);return D6(r,e.node(n)),r}function rl(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function _f(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(rl(t.nodeAfter,r),o++));for(let l=o;l<s;l++)rl(i.child(l),r);e&&e.depth==n&&e.textOffset&&rl(e.nodeBefore,r)}function il(t,e){return t.type.checkContent(e),t.copy(e)}function R6(t,e,n,r,i){let o=t.depth>i&&_b(t,e,i+1),s=r.depth>i&&_b(n,r,i+1),l=[];return _f(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(D6(o,s),rl(il(o,R6(t,e,n,r,i+1)),l)):(o&&rl(il(o,bm(t,e,i+1)),l),_f(e,n,i,l),s&&rl(il(s,bm(n,r,i+1)),l)),_f(r,null,i,l),new Oe(l)}function bm(t,e,n){let r=[];if(_f(null,t,n,r),t.depth>n){let i=_b(t,e,n+1);rl(il(i,bm(t,e,n+1)),r)}return _f(e,null,n,r),new Oe(r)}function PW(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(Oe.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class id{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Jt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new _m(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:u}=s.content.findIndex(o),f=o-u;if(r.push(s,l,i+u),!f||(s=s.child(l),s.isText))break;o=f-1,i+=u+1}return new id(n,r,o)}static resolveCached(e,n){for(let i=0;i<Oy.length;i++){let o=Oy[i];if(o.pos==n&&o.doc==e)return o}let r=Oy[My]=id.resolve(e,n);return My=(My+1)%DW,r}}let Oy=[],My=0,DW=12;class _m{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const RW=Object.create(null);let Wo=class wb{constructor(e,n,r,i=Jt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Oe.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&vm(this.attrs,n||e.defaultAttrs||RW)&&Jt.sameSet(this.marks,r||Jt.none)}copy(e=null){return e==this.content?this:new wb(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new wb(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return He.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),f=i.node(s).content.cut(i.pos-l,o.pos-l);return new He(f,i.depth-s,o.depth-s)}replace(e,n,r){return IW(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return id.resolveCached(this,e)}resolveNoCache(e){return id.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),z6(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Oe.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=i;u<o;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Jt.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Jt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Oe.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};Wo.prototype.text=void 0;class wm extends Wo{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):z6(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new wm(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new wm(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function z6(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class vl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new zW(e,n);if(r.next==null)return vl.empty;let i=B6(r);r.next&&r.err("Unexpected trailing text");let o=WW(jW(i));return UW(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let u=s.matchFragment(e,r);if(u&&(!n||u.validEnd))return Oe.from(l.map(f=>f.createAndFill()));for(let f=0;f<s.next.length;f++){let{type:d,next:m}=s.next[f];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=o(m,l.concat(d));if(v)return v}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:u}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}vl.empty=new vl(!0);class zW{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function B6(t){let e=[];do e.push(BW(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function BW(t){let e=[];do e.push($W(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function $W(t){let e=VW(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=HW(t,e);else break;return e}function fC(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function HW(t,e){let n=fC(t),r=n;return t.eat(",")&&(t.next!="}"?r=fC(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function FW(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function VW(t){if(t.eat("(")){let e=B6(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=FW(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function jW(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,u){let f={term:u,to:l};return e[s].push(f),f}function i(s,l){s.forEach(u=>u.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((u,f)=>u.concat(o(f,l)),[]);if(s.type=="seq")for(let u=0;;u++){let f=o(s.exprs[u],l);if(u==s.exprs.length-1)return f;i(f,l=n())}else if(s.type=="star"){let u=n();return r(l,u),i(o(s.expr,u),u),[r(u)]}else if(s.type=="plus"){let u=n();return i(o(s.expr,l),u),i(o(s.expr,u),u),[r(u)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let u=l;for(let f=0;f<s.min;f++){let d=n();i(o(s.expr,u),d),u=d}if(s.max==-1)i(o(s.expr,u),u);else for(let f=s.min;f<s.max;f++){let d=n();r(u,d),i(o(s.expr,u),d),u=d}return[r(u)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function $6(t,e){return e-t}function dC(t,e){let n=[];return r(e),n.sort($6);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:u}=o[s];!l&&n.indexOf(u)==-1&&r(u)}}}function WW(t){let e=Object.create(null);return n(dC(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:u})=>{if(!l)return;let f;for(let d=0;d<i.length;d++)i[d][0]==l&&(f=i[d][1]);dC(t,u).forEach(d=>{f||i.push([l,f=[]]),f.indexOf(d)==-1&&f.push(d)})})});let o=e[r.join(",")]=new vl(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort($6);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function UW(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:u,next:f}=i.next[l];s.push(u.name),o&&!(u.isText||u.hasRequiredAttrs())&&(o=!1),r.indexOf(f)==-1&&r.push(f)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function H6(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function F6(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function V6(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new qW(t[n]);return e}let hC=class j6{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=V6(r.attrs),this.defaultAttrs=H6(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==vl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:F6(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Wo(this,this.computeAttrs(e),Oe.from(n),Jt.setFrom(r))}createChecked(e=null,n,r){return n=Oe.from(n),this.checkContent(n),new Wo(this,this.computeAttrs(e),n,Jt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Oe.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Oe.empty,!0);return o?new Wo(this,e,n.append(o),Jt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Jt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new j6(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class qW{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class $g{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=V6(i.attrs),this.excluded=null;let o=H6(this.attrs);this.instance=o?new Jt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Jt(this,F6(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new $g(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class KW{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Xn.from(e.nodes),n.marks=Xn.from(e.marks||{}),this.nodes=hC.compile(this.spec.nodes,this),this.marks=$g.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;o.contentMatch=r[s]||(r[s]=vl.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=l=="_"?null:l?pC(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:pC(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof hC){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new wm(r,r.defaultAttrs,e,Jt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Wo.fromJSON(this,e)}markFromJSON(e){return Jt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function pC(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let u=t.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}let Hg=class kb{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new gC(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new gC(this,n,!0);return r.addAll(e,n.from,n.to),He.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(JW(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let u=s.getAttrs(n);if(u===!1)continue;s.attrs=u||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=vC(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=vC(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new kb(e,kb.schemaRules(e)))}};const W6={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},GW={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},U6={ol:!0,ul:!0},km=1,xm=2,wf=4;function mC(t,e,n){return e!=null?(e?km:0)|(e==="full"?xm:0):t&&t.whitespace=="pre"?km|xm:n&~wf}class Kh{constructor(e,n,r,i,o,s,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=Jt.none,this.stashMarks=[],this.match=s||(l&wf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Oe.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&km)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Oe.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Oe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):ZW(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!W6.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class gC{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=mC(null,n.preserveWhitespace,0)|(r?wf:0);i?o=new Kh(i.type,i.attrs,Jt.none,Jt.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Kh(null,null,Jt.none,Jt.none,!0,null,s):o=new Kh(e.schema.topNodeType,null,Jt.none,Jt.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style");if(!n)this.addElement(e);else{let r=this.readStyles(XW(n));if(!r)return;let[i,o]=r,s=this.top;for(let l=0;l<o.length;l++)this.removePendingMark(o[l],s);for(let l=0;l<i.length;l++)this.addPendingMark(i[l]);this.addElement(e);for(let l=0;l<i.length;l++)this.removePendingMark(i[l],s);for(let l=0;l<o.length;l++)this.addPendingMark(o[l])}}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&xm||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&km)r.options&xm?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;U6.hasOwnProperty(r)&&this.parser.normalizeLists&&YW(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:GW.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,l=this.top,u=this.needsBlock;if(W6.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(l),this.needsBlock=u}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Jt.none,r=Jt.none;e:for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)continue e;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.forEach(l=>{s.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=mC(e,i,o.options);o.options&wf&&o.content.length==0&&(s|=wf),this.nodes.push(new Kh(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,u)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;u>=o;u--)if(s(l-1,u))return!0;return!1}else{let d=u>0||u==0&&i?this.nodes[u].type:r&&u>=o?r.node(u-o).type:null;if(!d||d.name!=f&&d.groups.indexOf(f)==-1)return!1;u--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=QW(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function YW(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&U6.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function JW(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function XW(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function vC(t){let e={};for(let n in t)e[n]=t[n];return e}function ZW(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let u=0;u<l.edgeCount;u++){let{type:f,next:d}=l.edge(u);if(f==e||o.indexOf(d)<0&&s(d))return!0}};if(s(i.contentMatch))return!0}}function QW(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class co{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Ny(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,u=0;for(;l<o.length&&u<s.marks.length;){let f=s.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(o[l][0])||f.type.spec.spanning===!1)break;l++,u++}for(;l<o.length;)i=o.pop()[1];for(;u<s.marks.length;){let f=s.marks[u++],d=this.serializeMark(f,s.isInline,n);d&&(o.push([f,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=co.renderSpec(Ny(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&co.renderSpec(Ny(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),u=n[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let d in u)if(u[d]!=null){let m=d.indexOf(" ");m>0?l.setAttributeNS(d.slice(0,m),d.slice(m+1),u[d]):l.setAttribute(d,u[d])}}for(let d=f;d<n.length;d++){let m=n[d];if(m===0){if(d<n.length-1||d>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:v,contentDOM:y}=co.renderSpec(e,m,r);if(l.appendChild(v),y){if(s)throw new RangeError("Multiple content holes");s=y}}}return{dom:l,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new co(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=yC(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return yC(e.marks)}}function yC(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Ny(t){return t.document||window.document}const q6=65535,K6=Math.pow(2,16);function eU(t,e){return t+e*K6}function bC(t){return t&q6}function tU(t){return(t-(t&q6))/K6}const G6=1,Y6=2,Ep=4,J6=8;class xb{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&J6)>0}get deletedBefore(){return(this.delInfo&(G6|Ep))>0}get deletedAfter(){return(this.delInfo&(Y6|Ep))>0}get deletedAcross(){return(this.delInfo&Ep)>0}}class mi{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&mi.empty)return mi.empty}recover(e){let n=0,r=bC(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+tU(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;let f=this.ranges[l+o],d=this.ranges[l+s],m=u+f;if(e<=m){let v=f?e==u?-1:e==m?1:n:n,y=u+i+(v<0?0:d);if(r)return y;let _=e==(n<0?u:m)?null:eU(l/3,e-u),C=e==u?Y6:e==m?G6:Ep;return(n<0?e!=u:e!=m)&&(C|=J6),new xb(y,C,_)}i+=d-f}return r?e+i:new xb(e+i,0,null)}touches(e,n){let r=0,i=bC(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let f=this.ranges[l+o],d=u+f;if(e<=d&&l==i*3)return!0;r+=this.ranges[l+s]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),u=s+(this.inverted?0:o),f=this.ranges[i+n],d=this.ranges[i+r];e(l,l+f,u,u+d),o+=d-f}}invert(){return new mi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?mi.empty:new mi(e<0?[0,-e,0]:[0,0,e])}}mi.empty=new mi([]);class Ou{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Ou(this.maps,this.mirror,e,n)}copy(){return new Ou(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Ou;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(o);if(u!=null&&u>o&&u<this.to){o=u,e=this.maps[u].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new xb(e,i,null)}}const Ly=Object.create(null);class qr{getMap(){return mi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ly[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ly)throw new RangeError("Duplicate use of step JSON ID "+e);return Ly[e]=n,n.prototype.jsonID=e,n}}class $n{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new $n(e,null)}static fail(e){return new $n(null,e)}static fromReplace(e,n,r,i){try{return $n.ok(e.replace(n,r,i))}catch(o){if(o instanceof ym)return $n.fail(o.message);throw o}}}function D_(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(D_(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return Oe.fromArray(r)}class Us extends qr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new He(D_(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return $n.fromReplace(e,this.from,this.to,o)}invert(){return new fo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Us(n.pos,r.pos,this.mark)}merge(e){return e instanceof Us&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Us(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Us(n.from,n.to,e.markFromJSON(n.mark))}}qr.jsonID("addMark",Us);class fo extends qr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new He(D_(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return $n.fromReplace(e,this.from,this.to,r)}invert(){return new Us(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new fo(n.pos,r.pos,this.mark)}merge(e){return e instanceof fo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new fo(n.from,n.to,e.markFromJSON(n.mark))}}qr.jsonID("removeMark",fo);class qs extends qr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return $n.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return $n.fromReplace(e,this.pos,this.pos+1,new He(Oe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new qs(this.pos,n.marks[i]);return new qs(this.pos,this.mark)}}return new qu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new qs(n.pos,e.markFromJSON(n.mark))}}qr.jsonID("addNodeMark",qs);class qu extends qr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return $n.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return $n.fromReplace(e,this.pos,this.pos+1,new He(Oe.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new qs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new qu(n.pos,e.markFromJSON(n.mark))}}qr.jsonID("removeNodeMark",qu);class tr extends qr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Sb(e,this.from,this.to)?$n.fail("Structure replace would overwrite content"):$n.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new mi([this.from,this.to-this.from,this.slice.size])}invert(e){return new tr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new tr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof tr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?He.empty:new He(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new tr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?He.empty:new He(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new tr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new tr(n.from,n.to,He.fromJSON(e,n.slice),!!n.structure)}}qr.jsonID("replace",tr);class Un extends qr{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(Sb(e,this.from,this.gapFrom)||Sb(e,this.gapTo,this.to)))return $n.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return $n.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?$n.fromReplace(e,this.from,this.to,r):$n.fail("Content does not fit in gap")}getMap(){return new mi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Un(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Un(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Un(n.from,n.to,n.gapFrom,n.gapTo,He.fromJSON(e,n.slice),n.insert,!!n.structure)}}qr.jsonID("replaceAround",Un);function Sb(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function nU(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(u,f,d)=>{if(!u.isInline)return;let m=u.marks;if(!r.isInSet(m)&&d.type.allowsMarkType(r.type)){let v=Math.max(f,e),y=Math.min(f+u.nodeSize,n),_=r.addToSet(m);for(let C=0;C<m.length;C++)m[C].isInSet(_)||(s&&s.to==v&&s.mark.eq(m[C])?s.to=y:i.push(s=new fo(v,y,m[C])));l&&l.to==v?l.to=y:o.push(l=new Us(v,y,r))}}),i.forEach(u=>t.step(u)),o.forEach(u=>t.step(u))}function rU(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let u=null;if(r instanceof $g){let f=s.marks,d;for(;d=r.isInSet(f);)(u||(u=[])).push(d),f=d.removeFromSet(f)}else r?r.isInSet(s.marks)&&(u=[r]):u=s.marks;if(u&&u.length){let f=Math.min(l+s.nodeSize,n);for(let d=0;d<u.length;d++){let m=u[d],v;for(let y=0;y<i.length;y++){let _=i[y];_.step==o-1&&m.eq(i[y].style)&&(v=_)}v?(v.to=f,v.step=o):i.push({style:m,from:Math.max(l,e),to:f,step:o})}}}),i.forEach(s=>t.step(new fo(s.from,s.to,s.style)))}function iU(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<i.childCount;l++){let u=i.child(l),f=s+u.nodeSize,d=r.matchType(u.type);if(!d)o.push(new tr(s,f,He.empty));else{r=d;for(let m=0;m<u.marks.length;m++)n.allowsMarkType(u.marks[m].type)||t.step(new fo(s,f,u.marks[m]))}s=f}if(!r.validEnd){let l=r.fillBefore(Oe.empty,!0);t.replace(s,s,new He(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function oU(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function lc(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!oU(i,o,s))break}return null}function sU(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),u=s,f=l,d=Oe.empty,m=0;for(let _=o,C=!1;_>n;_--)C||r.index(_)>0?(C=!0,d=Oe.from(r.node(_).copy(d)),m++):u--;let v=Oe.empty,y=0;for(let _=o,C=!1;_>n;_--)C||i.after(_+1)<i.end(_)?(C=!0,v=Oe.from(i.node(_).copy(v)),y++):f++;t.step(new Un(u,f,s,l,new He(d.append(v),m,y),d.size-m,!0))}function R_(t,e,n=null,r=t){let i=aU(t,e),o=i&&lU(r,e);return o?i.map(_C).concat({type:e,attrs:n}).concat(o.map(_C)):null}function _C(t){return{type:t,attrs:null}}function aU(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function lU(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let u=(s.length?s[s.length-1]:e).contentMatch;for(let f=r;u&&f<i;f++)u=u.matchType(n.child(f).type);return!u||!u.validEnd?null:s}function uU(t,e,n){let r=Oe.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Oe.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Un(i,o,i,o,new He(r,0,0),n.length,!0))}function cU(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&fU(t.doc,t.mapping.slice(o).map(l),r)){t.clearIncompatible(t.mapping.slice(o).map(l,1),r);let u=t.mapping.slice(o),f=u.map(l,1),d=u.map(l+s.nodeSize,1);return t.step(new Un(f,d,f+1,d-1,new He(Oe.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function fU(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function dU(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Un(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new He(Oe.from(s),0,0),1,!0))}function Mu(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,d=n-2;f>o;f--,d--){let m=i.node(f),v=i.index(f);if(m.type.spec.isolating)return!1;let y=m.content.cutByIndex(v,m.childCount),_=r&&r[d]||m;if(_!=m&&(y=y.replaceChild(0,_.type.create(_.attrs))),!m.canReplace(v+1,m.childCount)||!_.type.validContent(y))return!1}let l=i.indexAfter(o),u=r&&r[0];return i.node(o).canReplaceWith(l,l,u?u.type:i.node(o+1).type)}function hU(t,e,n=1,r){let i=t.doc.resolve(e),o=Oe.empty,s=Oe.empty;for(let l=i.depth,u=i.depth-n,f=n-1;l>u;l--,f--){o=Oe.from(i.node(l).copy(o));let d=r&&r[f];s=Oe.from(d?d.type.create(d.attrs,s):i.node(l).copy(s))}t.step(new tr(e,e,new He(o.append(s),n,n),!0))}function pa(t,e){let n=t.resolve(e),r=n.index();return X6(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function X6(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function Fg(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,l=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),l++,s=r.node(i).maybeChild(l)):(o=r.node(i).maybeChild(l-1),s=r.node(i+1)),o&&!o.isTextblock&&X6(o,s)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function pU(t,e,n){let r=new tr(e-n,e+n,He.empty,!0);t.step(r)}function mU(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function Z6(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,u=r.index(s)+(l>0?1:0),f=r.node(s),d=!1;if(o==1)d=f.canReplace(u,u,i);else{let m=f.contentMatchAt(u).findWrapping(i.firstChild.type);d=m&&f.canReplaceWith(u,u,m[0])}if(d)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Vg(t,e,n=e,r=He.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return Q6(i,o,r)?new tr(e,n,r):new gU(i,o,r).fit()}function Q6(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class gU{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Oe.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Oe.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let u=new He(o,s,l);return e>-1?new Un(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new tr(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Iy(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:f}=this.frontier[l],d,m=null;if(n==1&&(s?f.matchType(s.type)||(m=f.fillBefore(Oe.from(s),!1)):o&&u.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:m};if(n==2&&s&&(d=f.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:d};if(o&&f.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Iy(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new He(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Iy(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new He(tf(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new He(tf(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let C=0;C<o.length;C++)this.openFrontierNode(o[C]);let s=this.unplaced,l=r?r.content:s.content,u=s.openStart-e,f=0,d=[],{match:m,type:v}=this.frontier[n];if(i){for(let C=0;C<i.childCount;C++)d.push(i.child(C));m=m.matchFragment(i)}let y=l.size+e-(s.content.size-s.openEnd);for(;f<l.childCount;){let C=l.child(f),x=m.matchType(C.type);if(!x)break;f++,(f>1||u==0||C.content.size)&&(m=x,d.push(e4(C.mark(v.allowedMarks(C.marks)),f==1?u:0,f==l.childCount?y:-1)))}let _=f==l.childCount;_||(y=-1),this.placed=nf(this.placed,n,Oe.from(d)),this.frontier[n].match=m,_&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,x=l;C<y;C++){let k=x.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),x=k.content}this.unplaced=_?e==0?He.empty:new He(tf(s.content,e-1,1),e-1,y<0?s.openEnd:e-1):new He(tf(s.content,e,f),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Py(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Py(e,n,i,r,o);if(s){for(let l=n-1;l>=0;l--){let{match:u,type:f}=this.frontier[l],d=Py(e,l,f,u,!0);if(!d||d.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=nf(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=nf(this.placed,this.depth,Oe.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Oe.empty,!0);n.childCount&&(this.placed=nf(this.placed,this.frontier.length,n))}}function tf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(tf(t.firstChild.content,e-1,n)))}function nf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(nf(t.lastChild.content,e-1,n)))}function Iy(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function e4(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,e4(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Oe.empty,!0)))),t.copy(r)}function Py(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!vU(n,o.content,s)?l:null}function vU(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function yU(t){return t.spec.defining||t.spec.definingForContent}function bU(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(Q6(i,o,r))return t.step(new tr(e,n,r));let s=n4(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let v=i.depth,y=i.pos-1;v>0;v--,y--){let _=i.node(v).type.spec;if(_.defining||_.definingAsContext||_.isolating)break;s.indexOf(v)>-1?l=v:i.before(v)==y&&s.splice(1,0,-v)}let u=s.indexOf(l),f=[],d=r.openStart;for(let v=r.content,y=0;;y++){let _=v.firstChild;if(f.push(_),y==r.openStart)break;v=_.content}for(let v=d-1;v>=0;v--){let y=f[v].type,_=yU(y);if(_&&i.node(u).type!=y)d=v;else if(_||!y.isTextblock)break}for(let v=r.openStart;v>=0;v--){let y=(v+d+1)%(r.openStart+1),_=f[y];if(_)for(let C=0;C<s.length;C++){let x=s[(C+u)%s.length],k=!0;x<0&&(k=!1,x=-x);let A=i.node(x-1),L=i.index(x-1);if(A.canReplaceWith(L,L,_.type,_.marks))return t.replace(i.before(x),k?o.after(x):n,new He(t4(r.content,0,r.openStart,y),y,r.openEnd))}}let m=t.steps.length;for(let v=s.length-1;v>=0&&(t.replace(e,n,r),!(t.steps.length>m));v--){let y=s[v];y<0||(e=i.before(y),n=o.after(y))}}function t4(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(t4(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(Oe.empty,!0))}return t}function _U(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=mU(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new He(Oe.from(r),0,0))}function wU(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=n4(r,i);for(let s=0;s<o.length;s++){let l=o[s],u=s==o.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function n4(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Nu extends qr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return $n.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return $n.fromReplace(e,this.pos,this.pos+1,new He(Oe.from(i),0,n.isLeaf?0:1))}getMap(){return mi.empty}invert(e){return new Nu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Nu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Nu(n.pos,n.attr,n.value)}}qr.jsonID("attr",Nu);let Ku=class extends Error{};Ku=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ku.prototype=Object.create(Error.prototype);Ku.prototype.constructor=Ku;Ku.prototype.name="TransformError";class z_{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ou}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ku(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=He.empty){let i=Vg(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new He(Oe.from(r),0,0))}delete(e,n){return this.replace(e,n,He.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return bU(this,e,n,r),this}replaceRangeWith(e,n,r){return _U(this,e,n,r),this}deleteRange(e,n){return wU(this,e,n),this}lift(e,n){return sU(this,e,n),this}join(e,n=1){return pU(this,e,n),this}wrap(e,n){return uU(this,e,n),this}setBlockType(e,n=e,r,i=null){return cU(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return dU(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Nu(e,n,r)),this}addNodeMark(e,n){return this.step(new qs(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Jt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new qu(e,n)),this}split(e,n=1,r){return hU(this,e,n,r),this}addMark(e,n,r){return nU(this,e,n,r),this}removeMark(e,n,r){return rU(this,e,n,r),this}clearIncompatible(e,n,r){return iU(this,e,n,r),this}}const Dy=Object.create(null);class ht{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new r4(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=He.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:u,$to:f}=s[l],d=e.mapping.slice(o);e.replaceRange(d.map(u.pos),d.map(f.pos),l?He.empty:n),l==0&&xC(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],u=e.mapping.slice(r),f=u.map(s.pos),d=u.map(l.pos);o?e.deleteRange(f,d):(e.replaceRangeWith(f,d,n),xC(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new st(e):lu(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?lu(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):lu(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Hi(e.node(0))}static atStart(e){return lu(e,e,0,0,1)||new Hi(e)}static atEnd(e){return lu(e,e,e.content.size,e.childCount,-1)||new Hi(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Dy[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Dy)throw new RangeError("Duplicate use of selection JSON ID "+e);return Dy[e]=n,n.prototype.jsonID=e,n}getBookmark(){return st.between(this.$anchor,this.$head).getBookmark()}}ht.prototype.visible=!0;class r4{constructor(e,n){this.$from=e,this.$to=n}}let wC=!1;function kC(t){!wC&&!t.parent.inlineContent&&(wC=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class st extends ht{constructor(e,n=e){kC(e),kC(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ht.near(r);let i=e.resolve(n.map(this.anchor));return new st(i.parent.inlineContent?i:r,r)}replace(e,n=He.empty){if(super.replace(e,n),n==He.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof st&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new jg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new st(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=ht.findFrom(n,r,!0)||ht.findFrom(n,-r,!0);if(o)n=o.$head;else return ht.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(ht.findFrom(e,-r,!0)||ht.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new st(e,n)}}ht.jsonID("text",st);class jg{constructor(e,n){this.anchor=e,this.head=n}map(e){return new jg(e.map(this.anchor),e.map(this.head))}resolve(e){return st.between(e.resolve(this.anchor),e.resolve(this.head))}}class it extends ht{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?ht.near(o):new it(o)}content(){return new He(Oe.from(this.node),0,0)}eq(e){return e instanceof it&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new B_(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new it(e.resolve(n.anchor))}static create(e,n){return new it(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}it.prototype.visible=!1;ht.jsonID("node",it);class B_{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new jg(r,r):new B_(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&it.isSelectable(r)?new it(n):ht.near(n)}}class Hi extends ht{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=He.empty){if(n==He.empty){e.delete(0,e.doc.content.size);let r=ht.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Hi(e)}map(e){return new Hi(e)}eq(e){return e instanceof Hi}getBookmark(){return kU}}ht.jsonID("all",Hi);const kU={map(){return this},resolve(t){return new Hi(t)}};function lu(t,e,n,r,i,o=!1){if(e.inlineContent)return st.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&it.isSelectable(l))return it.create(t,n-(i<0?l.nodeSize:0))}else{let u=lu(t,l,n+i,i<0?l.childCount:0,i,o);if(u)return u}n+=l.nodeSize*i}return null}function xC(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof tr||i instanceof Un))return;let o=t.mapping.maps[r],s;o.forEach((l,u,f,d)=>{s==null&&(s=d)}),t.setSelection(ht.near(t.doc.resolve(s),n))}const SC=1,Gh=2,CC=4;class xU extends z_{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|SC)&~Gh,this.storedMarks=null,this}get selectionSet(){return(this.updated&SC)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Gh,this}ensureMarks(e){return Jt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Gh)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Gh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Jt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(ht.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=CC,this}get scrolledIntoView(){return(this.updated&CC)>0}}function TC(t,e){return!e||!t?t:t.bind(e)}class rf{constructor(e,n,r){this.name=e,this.init=TC(n.init,r),this.apply=TC(n.apply,r)}}const SU=[new rf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new rf("selection",{init(t,e){return t.selection||ht.atStart(e.doc)},apply(t){return t.selection}}),new rf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new rf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ry{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=SU.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new rf(r.key,r.spec.state,r))})}}class du{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let u=i?i[s].n:0,f=i?i[s].state:this,d=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,f,r);if(d&&r.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<s?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new du(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new xU(this)}static create(e){let n=new Ry(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new du(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Ry(this.schema,e.plugins),r=n.fields,i=new du(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Ry(e.schema,e.plugins),o=new du(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Wo.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=ht.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],f=u.spec.state;if(u.key==s.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=f.fromJSON.call(u,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function i4(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=i4(i,e,{})),n[r]=i}return n}class on{constructor(e){this.spec=e,this.props={},e.props&&i4(e.props,this,this.props),this.key=e.key?e.key.key:o4("plugin")}getState(e){return e[this.key]}}const zy=Object.create(null);function o4(t){return t in zy?t+"$"+ ++zy[t]:(zy[t]=0,t+"$")}class xn{constructor(e="key"){this.key=o4(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ti=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},od=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let EC=null;const Ro=function(t,e,n){let r=EC||(EC=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},yl=function(t,e,n,r){return n&&(AC(t,e,n,r,-1)||AC(t,e,n,r,1))},CU=/^(img|br|input|textarea|hr)$/i;function AC(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:uo(t))){let o=t.parentNode;if(!o||o.nodeType!=1||EU(t)||CU.test(t.nodeName)||t.contentEditable=="false")return!1;e=ti(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?uo(t):0}else return!1}}function uo(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function TU(t,e,n){for(let r=e==0,i=e==uo(t);r||i;){if(t==n)return!0;let o=ti(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==uo(t)}}function EU(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Wg=function(t){return t.focusNode&&yl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function za(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function AU(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const ra=typeof navigator<"u"?navigator:null,OC=typeof document<"u"?document:null,ma=ra&&ra.userAgent||"",Cb=/Edge\/(\d+)/.exec(ma),s4=/MSIE \d/.exec(ma),Tb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ma),Fr=!!(s4||Tb||Cb),Js=s4?document.documentMode:Tb?+Tb[1]:Cb?+Cb[1]:0,Wi=!Fr&&/gecko\/(\d+)/i.test(ma);Wi&&+(/Firefox\/(\d+)/.exec(ma)||[0,0])[1];const Eb=!Fr&&/Chrome\/(\d+)/.exec(ma),Tr=!!Eb,OU=Eb?+Eb[1]:0,Er=!Fr&&!!ra&&/Apple Computer/.test(ra.vendor),Gu=Er&&(/Mobile\/\w+/.test(ma)||!!ra&&ra.maxTouchPoints>2),pi=Gu||(ra?/Mac/.test(ra.platform):!1),Li=/Android \d/.test(ma),Ug=!!OC&&"webkitFontSmoothing"in OC.documentElement.style,MU=Ug?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function NU(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ts(t,e){return typeof t=="number"?t:t[e]}function LU(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function MC(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=od(s)){if(s.nodeType!=1)continue;let l=s,u=l==o.body,f=u?NU(o):LU(l),d=0,m=0;if(e.top<f.top+Ts(r,"top")?m=-(f.top-e.top+Ts(i,"top")):e.bottom>f.bottom-Ts(r,"bottom")&&(m=e.bottom-f.bottom+Ts(i,"bottom")),e.left<f.left+Ts(r,"left")?d=-(f.left-e.left+Ts(i,"left")):e.right>f.right-Ts(r,"right")&&(d=e.right-f.right+Ts(i,"right")),d||m)if(u)o.defaultView.scrollBy(d,m);else{let v=l.scrollLeft,y=l.scrollTop;m&&(l.scrollTop+=m),d&&(l.scrollLeft+=d);let _=l.scrollLeft-v,C=l.scrollTop-y;e={left:e.left-_,top:e.top-C,right:e.right-_,bottom:e.bottom-C}}if(u)break}}function IU(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:a4(t.dom)}}function a4(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=od(r));return e}function PU({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;l4(n,r==0?0:r-e)}function l4(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ru=null;function DU(t){if(t.setActive)return t.setActive();if(ru)return t.focus(ru);let e=a4(t);t.focus(ru==null?{get preventScroll(){return ru={preventScroll:!0},!0}}:void 0),ru||(ru=!1,l4(e,0))}function u4(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top;for(let u=t.firstChild,f=0;u;u=u.nextSibling,f++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Ro(u).getClientRects();else continue;for(let m=0;m<d.length;m++){let v=d[m];if(v.top<=s&&v.bottom>=l){s=Math.max(v.bottom,s),l=Math.min(v.top,l);let y=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(y<r){n=u,r=y,i=y&&n.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,u.nodeType==1&&y&&(o=f+(e.left>=(v.left+v.right)/2?1:0));continue}}!n&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(o=f+1)}}return n&&n.nodeType==3?RU(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:u4(n,i)}function RU(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Ls(r,1);if(o.top!=o.bottom&&$_(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function $_(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function zU(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function BU(t,e,n){let{node:r,offset:i}=u4(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function $U(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let l=t.docView.nearestDesc(o,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!s||!l.contentDOM)){let u=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!s&&(s=!0,u.left>r.left||u.top>r.top?i=l.posBefore:(u.right<r.left||u.bottom<r.top)&&(i=l.posAfter)),!l.contentDOM&&i<0)return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter}o=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function c4(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if($_(e,f))return c4(s,e,f)}}if((o=(o+1)%r)==i)break}return t}function HU(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let u=n.caretPositionFromPoint(e.left,e.top);u&&({offsetNode:r,offset:i}=u)}catch{}if(!r&&n.caretRangeFromPoint){let u=n.caretRangeFromPoint(e.left,e.top);u&&({startContainer:r,startOffset:i}=u)}let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),s;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!$_(e,u)||(o=c4(t.dom,e,u),!o))return null}if(Er)for(let u=o;r&&u;u=od(u))u.draggable&&(r=void 0);if(o=zU(o,e),r){if(Wi&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=$U(t,r,i,e))}s==null&&(s=BU(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function Ls(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const FU=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function f4(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Ug||Wi;if(r.nodeType==3)if(s&&(FU.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Ls(Ro(r,i,i),n);if(Wi&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Ls(Ro(r,i-1,i-1),-1);if(f.top==u.top){let d=Ls(Ro(r,i,i+1),-1);if(d.top!=u.top)return Gc(d,d.left<f.left)}}return u}else{let u=i,f=i,d=n<0?1:-1;return n<0&&!i?(f++,d=-1):n>=0&&i==r.nodeValue.length?(u--,d=1):n<0?u--:f++,Gc(Ls(Ro(r,u,f),1),d<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==uo(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return By(u.getBoundingClientRect(),!1)}if(o==null&&i<uo(r)){let u=r.childNodes[i];if(u.nodeType==1)return By(u.getBoundingClientRect(),!0)}return By(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==uo(r))){let u=r.childNodes[i-1],f=u.nodeType==3?Ro(u,uo(u)-(s?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(f)return Gc(Ls(f,1),!1)}if(o==null&&i<uo(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let f=u?u.nodeType==3?Ro(u,0,s?0:1):u.nodeType==1?u:null:null;if(f)return Gc(Ls(f,-1),!0)}return Gc(Ls(r.nodeType==3?Ro(r):r,-n),n>=0)}function Gc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function By(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function d4(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function VU(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return d4(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=f4(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Ro(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let d=u[f];if(d.bottom>d.top+1&&(n=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}const jU=/[\u0590-\u08ac]/;function WU(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return!jU.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:d4(t,e,()=>{let{focusNode:u,focusOffset:f,anchorNode:d,anchorOffset:m}=t.domSelectionRange(),v=l.caretBidiLevel;l.modify("move",n,"character");let y=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:_,focusOffset:C}=t.domSelectionRange(),x=_&&!y.contains(_.nodeType==1?_:_.parentNode)||u==_&&f==C;try{l.collapse(d,m),u&&(u!=d||f!=m)&&l.extend&&l.extend(u,f)}catch{}return v!=null&&(l.caretBidiLevel=v),x})}let NC=null,LC=null,IC=!1;function UU(t,e,n){return NC==e&&LC==n?IC:(NC=e,LC=n,IC=n=="up"||n=="down"?VU(t,e,n):WU(t,e,n))}const Fi=0,PC=1,hu=2,_o=3;class Nd{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Fi,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>ti(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof p4){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof h4&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?ti(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?ti(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let u=this.children[l],f=s+u.size;if(i==-1&&e<=f){let d=s+u.border;if(e>=d&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,d);e=s;for(let m=l;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=ti(v.dom)+1;break}e-=v.size}i==-1&&(i=0)}if(i>-1&&(f>n||l==this.children.length-1)){n=f;for(let d=l+1;d<this.children.length;d++){let m=this.children[d];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=ti(m.dom);break}n+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=f}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let v=0,y=0;v<this.children.length;v++){let _=this.children[v],C=y+_.size;if(o>y&&s<C)return _.setSelection(e-y-_.border,n-y-_.border,r,i);y=C}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),f=r.getSelection(),d=!1;if((Wi||Er)&&e==n){let{node:v,offset:y}=l;if(v.nodeType==3){if(d=!!(y&&v.nodeValue[y-1]==`
`),d&&y==v.nodeValue.length)for(let _=v,C;_;_=_.parentNode){if(C=_.nextSibling){C.nodeName=="BR"&&(l=u={node:C.parentNode,offset:ti(C)+1});break}let x=_.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let _=v.childNodes[y-1];d=_&&(_.nodeName=="BR"||_.contentEditable=="false")}}if(Wi&&f.focusNode&&f.focusNode!=u.node&&f.focusNode.nodeType==1){let v=f.focusNode.childNodes[f.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||d&&Er)&&yl(l.node,l.offset,f.anchorNode,f.anchorOffset)&&yl(u.node,u.offset,f.focusNode,f.focusOffset))return;let m=!1;if((f.extend||e==n)&&!d){f.collapse(l.node,l.offset);try{e!=n&&f.extend(u.node,u.offset),m=!0}catch{}}if(!m){if(e>n){let y=l;l=u,u=y}let v=document.createRange();v.setEnd(u.node,u.offset),v.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,u=s-o.border;if(e>=l&&n<=u){this.dirty=e==r||n==s?hu:PC,e==l&&n==u&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=_o:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?hu:_o}r=s}this.dirty=hu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?hu:PC;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class h4 extends Nd{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Fi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class qU extends Nd{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class bl extends Nd{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=co.renderSpec(document,n.type.spec.toDOM(n,r))),new bl(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&_o||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=_o&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Fi){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Fi}}slice(e,n,r){let i=bl.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Mb(o,n,s,r)),e>0&&(o=Mb(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class _l extends Nd{constructor(e,n,r,i,o,s,l,u,f){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l,s&&this.updateChildren(u,f)}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],u,f=l&&l(n,o,()=>{if(!u)return s;if(u.parent)return u.parent.posBeforeChild(u)},r,i),d=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:m}=co.renderSpec(document,n.type.spec.toDOM(n)));!m&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let v=d;return d=v4(d,r,n),f?u=new KU(e,n,r,i,d,m||null,v,f,o,s+1):n.isText?new qg(e,n,r,i,d,v,o):new _l(e,n,r,i,d,m||null,v,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Oe.empty)}return e}matchesNode(e,n,r){return this.dirty==Fi&&e.eq(this.node)&&Ob(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,u=new YU(this,s&&s.node,e);ZU(this.node,this.innerDeco,(f,d,m)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&u.syncToMarks(d==this.node.childCount?Jt.none:this.node.child(d).marks,r,e),u.placeWidget(f,e,i)},(f,d,m,v)=>{u.syncToMarks(f.marks,r,e);let y;u.findNodeMatch(f,d,m,v)||l&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(y=u.findIndexWithChild(o.node))>-1&&u.updateNodeAt(f,d,m,y,e)||u.updateNextNode(f,d,m,e,v)||u.addNode(f,d,m,e,i),i+=f.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==hu)&&(s&&this.protectLocalComposition(e,s),m4(this.contentDOM,this.children,e),Gu&&QU(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof st)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=eq(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,u=tq(this.node.content,l,r-n,i-n);return u<0?null:{node:s,pos:u,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new qU(this,o,n,i);e.input.compositionNodes.push(s),this.children=Mb(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==_o||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Fi}updateOuterDeco(e){if(Ob(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=g4(this.dom,this.nodeDOM,Ab(this.outerDeco,this.node,n),Ab(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function DC(t,e,n,r,i){return v4(r,e,t),new _l(void 0,t,e,n,r,r,r,i,0)}class qg extends _l{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==_o||this.dirty!=Fi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Fi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Fi,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new qg(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=_o)}get domAtom(){return!1}}class p4 extends Nd{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Fi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class KU extends _l{constructor(e,n,r,i,o,s,l,u,f,d){super(e,n,r,i,o,s,l,f,d),this.spec=u}update(e,n,r,i){if(this.dirty==_o)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function m4(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=RC(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof bl){let u=r?r.previousSibling:t.lastChild;m4(s.contentDOM,s.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=RC(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const kf=function(t){t&&(this.nodeName=t)};kf.prototype=Object.create(null);const Wa=[new kf];function Ab(t,e,n){if(t.length==0)return Wa;let r=n?Wa[0]:new kf,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new kf(s.nodeName));for(let l in s){let u=s[l];u!=null&&(n&&i.length==1&&i.push(r=new kf(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}function g4(t,e,n,r){if(n==Wa&&r==Wa)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let u;l&&l.nodeName==s.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==s.nodeName||(u=document.createElement(s.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=Wa[0]),i=u}GU(i,l||Wa[0],s)}return i}function GU(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function v4(t,e,n){return g4(t,t,Wa,Ab(e,n,t.nodeType!=1))}function Ob(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function RC(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class YU{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=JU(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Fi,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(e[o])&&!this.isLocked(f.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=bl.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let f=this.top.children[l];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==_o&&s.dom==s.contentDOM&&(s.dirty=hu),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof _l){let u=this.preMatch.matched.get(l);if(u!=null&&u!=o)return!1;let f=l.dom;if(!(this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=_o&&Ob(n,l.outerDeco)))&&l.update(e,n,r,i))return this.destroyBetween(this.index,s),l.dom!=f&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,o){this.top.children.splice(this.index++,0,_l.create(this.top,e,n,r,i,o)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new h4(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof bl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof qg)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Er||Tr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new p4(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function JU(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof bl)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function XU(t,e){return t.type.side-e.type.side}function ZU(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let f=0;f<t.childCount;f++){let d=t.child(f);r(d,i,e.forChild(o,d),f),o+=d.nodeSize}return}let s=0,l=[],u=null;for(let f=0;;){if(s<i.length&&i[s].to==o){let _=i[s++],C;for(;s<i.length&&i[s].to==o;)(C||(C=[_])).push(i[s++]);if(C){C.sort(XU);for(let x=0;x<C.length;x++)n(C[x],f,!!u)}else n(_,f,!!u)}let d,m;if(u)m=-1,d=u,u=null;else if(f<t.childCount)m=f,d=t.child(f++);else break;for(let _=0;_<l.length;_++)l[_].to<=o&&l.splice(_--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let v=o+d.nodeSize;if(d.isText){let _=v;s<i.length&&i[s].from<_&&(_=i[s].from);for(let C=0;C<l.length;C++)l[C].to<_&&(_=l[C].to);_<v&&(u=d.cut(_-o),d=d.cut(0,_-o),v=_,m=-1)}let y=d.isInline&&!d.isLeaf?l.filter(_=>!_.inline):l.slice();r(d,y,e.forChild(o,d),m),o=v}}function QU(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function eq(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=uo(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function tq(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let u=s.text;for(;i<t.childCount;){let f=t.child(i++);if(o+=f.nodeSize,!f.isText)break;u+=f.text}if(o>=n){let f=l<r?u.lastIndexOf(e,r-l-1):-1;if(f>=0&&f+e.length+l>=n)return l+f;if(n==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}function Mb(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let u=t[s],f=l,d=l+=u.size;f>=n||d<=e?o.push(u):(f<e&&o.push(u.slice(0,e-f,r)),i&&(o.push(i),i=void 0),d>n&&o.push(u.slice(n-f,u.size,r)))}return o}function H_(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),u,f;if(Wg(n)){for(u=l;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&it.isSelectable(d)&&i.parent&&!(d.isInline&&TU(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;f=new it(s==m?l:r.resolve(m))}}else{let d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;u=r.resolve(d)}if(!f){let d=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;f=F_(t,u,l,d)}return f}function y4(t){return t.editable?t.hasFocus():_4(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Uo(t,e=!1){let n=t.state.selection;if(b4(t,n),!!y4(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Tr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&yl(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)rq(t);else{let{anchor:r,head:i}=n,o,s;zC&&!(n instanceof st)&&(n.$from.parent.inlineContent||(o=BC(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=BC(t,n.to))),t.docView.setSelection(r,i,t.root,e),zC&&(o&&$C(o),s&&$C(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&nq(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const zC=Er||Tr&&OU<63;function BC(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Er&&i&&i.contentEditable=="false")return $y(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return $y(i);if(o)return $y(o)}}function $y(t){return t.contentEditable="true",Er&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function $C(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function nq(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!y4(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function rq(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ti(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Fr&&Js<=11&&(r.disabled=!0,r.disabled=!1)}function b4(t,e){if(e instanceof it){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(HC(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else HC(t)}function HC(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function F_(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||st.between(e,n,r)}function FC(t){return t.editable&&!t.hasFocus()?!1:_4(t)}function _4(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function iq(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return yl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Nb(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ht.findFrom(o,e)}function Ba(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function VC(t,e,n){let r=t.state.selection;if(r instanceof st){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=Nb(t.state,e);return i&&i instanceof it?Ba(t,i):!1}else if(!(pi&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?it.isSelectable(o)?Ba(t,new it(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Ug?Ba(t,new st(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else{if(r instanceof it&&r.node.isInline)return Ba(t,new st(e>0?r.$to:r.$from));{let i=Nb(t.state,e);return i?Ba(t,i):!1}}}function Sm(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function xf(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function Hy(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(Wi&&n.nodeType==1&&r<Sm(n)&&xf(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(xf(l))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(w4(n))break;{let l=n.previousSibling;for(;l&&xf(l);)i=n.parentNode,o=ti(l),l=l.previousSibling;if(l)n=l,r=Sm(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Lb(t,n,r):i&&Lb(t,i,o)}function Fy(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Sm(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(xf(l))o=n,s=++r;else break}else{if(w4(n))break;{let l=n.nextSibling;for(;l&&xf(l);)o=l.parentNode,s=ti(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Sm(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Lb(t,o,s)}function w4(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Lb(t,e,n){let r=t.domSelection();if(Wg(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Uo(t)},50)}function jC(t,e,n){let r=t.state.selection;if(r instanceof st&&!r.empty||n.indexOf("s")>-1||pi&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Nb(t.state,e);if(s&&s instanceof it)return Ba(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Hi?ht.near(s,e):ht.findFrom(s,e);return l?Ba(t,l):!1}return!1}function WC(t,e){if(!(t.state.selection instanceof st))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function UC(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function oq(t){if(!Er||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;UC(t,r,"true"),setTimeout(()=>UC(t,r,"false"),20)}return!1}function sq(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function aq(t,e){let n=e.keyCode,r=sq(e);return n==8||pi&&n==72&&r=="c"?WC(t,-1)||Hy(t):n==46||pi&&n==68&&r=="c"?WC(t,1)||Fy(t):n==13||n==27?!0:n==37||pi&&n==66&&r=="c"?VC(t,-1,r)||Hy(t):n==39||pi&&n==70&&r=="c"?VC(t,1,r)||Fy(t):n==38||pi&&n==80&&r=="c"?jC(t,-1,r)||Hy(t):n==40||pi&&n==78&&r=="c"?oq(t)||jC(t,1,r)||Fy(t):r==(pi?"m":"c")&&(n==66||n==73||n==89||n==90)}function k4(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let y=r.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let s=t.someProp("clipboardSerializer")||co.fromSchema(t.state.schema),l=A4(),u=l.createElement("div");u.appendChild(s.serializeFragment(r,{document:l}));let f=u.firstChild,d,m=0;for(;f&&f.nodeType==1&&(d=E4[f.nodeName.toLowerCase()]);){for(let y=d.length-1;y>=0;y--){let _=l.createElement(d[y]);for(;u.firstChild;)_.appendChild(u.firstChild);u.appendChild(_),m++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${o}${m?` -${m}`:""} ${JSON.stringify(n)}`);let v=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:v}}function x4(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let u=e&&(r||o||!n);if(u){if(t.someProp("transformPastedText",v=>{e=v(e,o||r,t)}),o)return e?new He(Oe.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):He.empty;let m=t.someProp("clipboardTextParser",v=>v(e,i,r,t));if(m)l=m;else{let v=i.marks(),{schema:y}=t.state,_=co.fromSchema(y);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(C=>{let x=s.appendChild(document.createElement("p"));C&&x.appendChild(_.serializeNode(y.text(C,v)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),s=cq(n),Ug&&fq(s);let f=s&&s.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let m=+d[3];m>0;m--){let v=s.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;s=v}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Hg.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(u||d),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!lq.test(v.parentNode.nodeName)?{ignore:!0}:null}})),d)l=dq(qC(l,+d[1],+d[2]),d[4]);else if(l=He.maxOpen(uq(l.content,i),!0),l.openStart||l.openEnd){let m=0,v=0;for(let y=l.content.firstChild;m<l.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(let y=l.content.lastChild;v<l.openEnd&&!y.type.spec.isolating;v++,y=y.lastChild);l=qC(l,m,v)}return t.someProp("transformPasted",m=>{l=m(l,t)}),l}const lq=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function uq(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let u=i.findWrapping(l.type),f;if(!u)return s=null;if(f=s.length&&o.length&&C4(u,o,l,s[s.length-1],0))s[s.length-1]=f;else{s.length&&(s[s.length-1]=T4(s[s.length-1],o.length));let d=S4(l,u);s.push(d),i=i.matchType(d.type),o=u}}),s)return Oe.from(s)}return t}function S4(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Oe.from(t));return t}function C4(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=C4(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Oe.from(S4(n,t,i+1))))}}function T4(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,T4(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Oe.empty,!0);return t.copy(n.append(r))}function Ib(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return i<r-1&&(l=Ib(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,t.childCount>1||o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(Oe.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function qC(t,e,n){return e<t.openStart&&(t=new He(Ib(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new He(Ib(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const E4={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let KC=null;function A4(){return KC||(KC=document.implementation.createHTMLDocument("title"))}function cq(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=A4().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&E4[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function fq(t){let e=t.querySelectorAll(Tr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function dq(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=Oe.from(u.create(r[l+1],i)),o++,s++}return new He(i,o,s)}const Ar={},Or={},hq={touchstart:!0,touchmove:!0};class pq{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function mq(t){for(let e in Ar){let n=Ar[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{vq(t,r)&&!V_(t,r)&&(t.editable||!(r.type in Or))&&n(t,r)},hq[e]?{passive:!0}:void 0)}Er&&t.dom.addEventListener("input",()=>null),Pb(t)}function Ks(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function gq(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Pb(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>V_(t,r))})}function V_(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function vq(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function yq(t,e){!V_(t,e)&&Ar[e.type]&&(t.editable||!(e.type in Or))&&Ar[e.type](t,e)}Or.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!M4(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Li&&Tr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Gu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,za(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||aq(t,n)?n.preventDefault():Ks(t,"key")};Or.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Or.keypress=(t,e)=>{let n=e;if(M4(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||pi&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof st)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Kg(t){return{left:t.clientX,top:t.clientY}}function bq(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function j_(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Lu(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function _q(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&it.isSelectable(r)?(Lu(t,new it(n),"pointer"),!0):!1}function wq(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof it&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(it.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Lu(t,it.create(t.state.doc,i),"pointer"),!0):!1}function kq(t,e,n,r,i){return j_(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?wq(t,n):_q(t,n))}function xq(t,e,n,r){return j_(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Sq(t,e,n,r){return j_(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Cq(t,n,r)}function Cq(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Lu(t,st.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)Lu(t,st.create(r,l+1,l+1+s.content.size),"pointer");else if(it.isSelectable(s))Lu(t,it.create(r,l),"pointer");else continue;return!0}}function W_(t){return Cm(t)}const O4=pi?"metaKey":"ctrlKey";Ar.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=W_(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&bq(n,t.input.lastClick)&&!n[O4]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Kg(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Tq(t,s,n,!!r)):(o=="doubleClick"?xq:Sq)(t,s.pos,s.inside,n)?n.preventDefault():Ks(t,"pointer"))};class Tq{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[O4],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let d=e.state.doc.resolve(n.pos);o=d.parent,s=d.depth?d.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u?u.dom:null;let{selection:f}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof it&&f.from<=s&&f.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Wi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ks(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Uo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Kg(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ks(this.view,"pointer"):kq(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Er&&this.mightDrag&&!this.mightDrag.node.isAtom||Tr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Lu(this.view,ht.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Ks(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ks(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ar.touchstart=t=>{t.input.lastTouch=Date.now(),W_(t),Ks(t,"pointer")};Ar.touchmove=t=>{t.input.lastTouch=Date.now(),Ks(t,"pointer")};Ar.contextmenu=t=>W_(t);function M4(t,e){return t.composing?!0:Er&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Eq=Li?5e3:-1;Or.compositionstart=Or.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Cm(t,!0),t.markCursor=null;else if(Cm(t),Wi&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}N4(t,Eq)};Or.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,N4(t,20))};function N4(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Cm(t),e))}function L4(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Aq());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Aq(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Cm(t,e=!1){if(!(Li&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),L4(t),e||t.docView&&t.docView.dirty){let n=H_(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function Oq(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Yu=Fr&&Js<15||Gu&&MU<604;Ar.copy=Or.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Yu?null:n.clipboardData,s=r.content(),{dom:l,text:u}=k4(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",u)):Oq(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Mq(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Nq(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?sd(t,r.value,null,t.input.shiftKey,e):sd(t,r.textContent,r.innerHTML,t.input.shiftKey,e)},50)}function sd(t,e,n,r,i){let o=x4(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,o||He.empty)))return!0;if(!o)return!1;let s=Mq(o),l=s?t.state.tr.replaceSelectionWith(s,t.input.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Or.paste=(t,e)=>{let n=e;if(t.composing&&!Li)return;let r=Yu?null:n.clipboardData;r&&sd(t,r.getData("text/plain"),r.getData("text/html"),t.input.shiftKey,n)?n.preventDefault():Nq(t,n)};class Lq{constructor(e,n){this.slice=e,this.move=n}}const I4=pi?"altKey":"ctrlKey";Ar.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Kg(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof it?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(it.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&t.dispatch(t.state.tr.setSelection(it.create(t.state.doc,f.posBefore)))}}let s=t.state.selection.content(),{dom:l,text:u}=k4(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Yu?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Yu||n.dataTransfer.setData("text/plain",u),t.dragging=new Lq(s,!n[I4])};Ar.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Or.dragover=Or.dragenter=(t,e)=>e.preventDefault();Or.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Kg(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",_=>{s=_(s,t)}):s=x4(t,n.dataTransfer.getData(Yu?"Text":"text/plain"),Yu?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[I4]);if(t.someProp("handleDrop",_=>_(t,n,s||He.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let u=s?Z6(t.state.doc,o.pos,s):o.pos;u==null&&(u=o.pos);let f=t.state.tr;l&&f.deleteSelection();let d=f.mapping.map(u),m=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,v=f.doc;if(m?f.replaceRangeWith(d,d,s.content.firstChild):f.replaceRange(d,d,s),f.doc.eq(v))return;let y=f.doc.resolve(d);if(m&&it.isSelectable(s.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(s.content.firstChild))f.setSelection(new it(y));else{let _=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((C,x,k,A)=>_=A),f.setSelection(F_(t,y,f.doc.resolve(_)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};Ar.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Uo(t)},20))};Ar.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ar.beforeinput=(t,e)=>{if(Tr&&Li&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,za(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Or)Ar[t]=Or[t];function ad(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class U_{constructor(e,n){this.toDOM=e,this.spec=n||ol,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new hr(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof U_&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ad(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Xs{constructor(e,n){this.attrs=e,this.spec=n||ol}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new hr(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Xs&&ad(this.attrs,e.attrs)&&ad(this.spec,e.spec)}static is(e){return e.type instanceof Xs}destroy(){}}class q_{constructor(e,n){this.attrs=e,this.spec=n||ol}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new hr(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof q_&&ad(this.attrs,e.attrs)&&ad(this.spec,e.spec)}destroy(){}}class hr{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new hr(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new hr(e,e,new U_(n,r))}static inline(e,n,r,i){return new hr(e,n,new Xs(r,i))}static node(e,n,r,i){return new hr(e,n,new q_(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xs}}const uu=[],ol={};class tn{constructor(e,n){this.local=e.length?e:uu,this.children=n.length?n:uu}static create(e,n){return n.length?Tm(n,e,0,ol):ur}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==ur||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ol)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(s||(s=[])).push(u):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?Iq(this.children,s||[],e,n,r,i,o):s?new tn(s.sort(sl),uu):ur}add(e,n){return n.length?this==ur?tn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,u)=>{let f=u+r,d;if(d=D4(n,l,f)){for(i||(i=this.children.slice());o<i.length&&i[o]<u;)o+=3;i[o]==u?i[o+2]=i[o+2].addInner(l,d,f+1):i.splice(o,0,u,u+l.nodeSize,Tm(d,l,f+1,ol)),o+=3}});let s=P4(o?R4(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new tn(s.length?this.local.concat(s).sort(sl):this.local,i||this.children)}remove(e){return e.length==0||this==ur?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,u=r[o+1]+n;for(let d=0,m;d<e.length;d++)(m=e[d])&&m.from>l&&m.to<u&&(e[d]=null,(s||(s=[])).push(m));if(!s)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(s,l+1);f!=ur?r[o+2]=f:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new tn(i,r):ur}forChild(e,n){if(this==ur)return this;if(n.isLeaf)return tn.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<s&&u.to>o&&u.type instanceof Xs){let f=Math.max(o,u.from)-o,d=Math.min(s,u.to)-o;f<d&&(i||(i=[])).push(u.copy(f,d))}}if(i){let l=new tn(i.sort(sl),uu);return r?new Hs([l,r]):l}return r||ur}eq(e){if(this==e)return!0;if(!(e instanceof tn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return K_(this.localsInner(e))}localsInner(e){if(this==ur)return uu;if(e.inlineContent||!this.local.some(Xs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xs||n.push(this.local[r]);return n}}tn.empty=new tn([],[]);tn.removeOverlap=K_;const ur=tn.empty;class Hs{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,ol));return Hs.from(r)}forChild(e,n){if(n.isLeaf)return tn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=ur&&(o instanceof Hs?r=r.concat(o.members):r.push(o))}return Hs.from(r)}eq(e){if(!(e instanceof Hs)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?K_(r?n:n.sort(sl)):uu}static from(e){switch(e.length){case 0:return ur;case 1:return e[0];default:return new Hs(e.every(n=>n instanceof tn)?e:e.reduce((n,r)=>n.concat(r instanceof tn?r:r.members),[]))}}}function Iq(t,e,n,r,i,o,s){let l=t.slice();for(let f=0,d=o;f<n.maps.length;f++){let m=0;n.maps[f].forEach((v,y,_,C)=>{let x=C-_-(y-v);for(let k=0;k<l.length;k+=3){let A=l[k+1];if(A<0||v>A+d-m)continue;let L=l[k]+d-m;y>=L?l[k+1]=v<=L?-2:-1:_>=i&&x&&(l[k]+=x,l[k+1]+=x)}m+=x}),d=n.maps[f].map(d,-1)}let u=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){u=!0,l[f+1]=-1;continue}let d=n.map(t[f]+o),m=d-i;if(m<0||m>=r.content.size){u=!0;continue}let v=n.map(t[f+1]+o,-1),y=v-i,{index:_,offset:C}=r.content.findIndex(m),x=r.maybeChild(_);if(x&&C==m&&C+x.nodeSize==y){let k=l[f+2].mapInner(n,x,d+1,t[f]+o+1,s);k!=ur?(l[f]=m,l[f+1]=y,l[f+2]=k):(l[f+1]=-2,u=!0)}else u=!0}if(u){let f=Pq(l,t,e,n,i,o,s),d=Tm(f,r,0,s);e=d.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,v=0;m<d.children.length;m+=3){let y=d.children[m];for(;v<l.length&&l[v]<y;)v+=3;l.splice(v,0,d.children[m],d.children[m+1],d.children[m+2])}}return new tn(e.sort(sl),l)}function P4(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new hr(i.from+e,i.to+e,i.type))}return n}function Pq(t,e,n,r,i,o,s){function l(u,f){for(let d=0;d<u.local.length;d++){let m=u.local[d].map(r,i,f);m?n.push(m):s.onRemove&&s.onRemove(u.local[d].spec)}for(let d=0;d<u.children.length;d+=3)l(u.children[d+2],u.children[d]+f+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+o+1);return n}function D4(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function R4(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Tm(t,e,n,r){let i=[],o=!1;e.forEach((l,u)=>{let f=D4(t,l,u+n);if(f){o=!0;let d=Tm(f,l,n+u+1,r);d!=ur&&i.push(u,u+l.nodeSize,d)}});let s=P4(o?R4(t):t,-n).sort(sl);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new tn(s,i):ur}function sl(t,e){return t.from-e.from||t.to-e.to}function K_(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),GC(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),GC(e,i,r.copy(o.from,r.to)));break}}}return e}function GC(t,e,n){for(;e<t.length&&sl(n,t[e])>0;)e++;t.splice(e,0,n)}function Vy(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=ur&&e.push(r)}),t.cursorWrapper&&e.push(tn.create(t.state.doc,[t.cursorWrapper.deco])),Hs.from(e)}const Dq={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Rq=Fr&&Js<=11;class zq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Bq{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zq,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Fr&&Js<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Rq&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Dq)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(FC(this.view)){if(this.suppressingSelectionUpdates)return Uo(this.view);if(Fr&&Js<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&yl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=od(o))n.add(o);for(let o=e.anchorNode;o;o=od(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&FC(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,u=[];if(e.editable)for(let d=0;d<n.length;d++){let m=this.registerMutation(n[d],u);m&&(o=o<0?m.from:Math.min(m.from,o),s=s<0?m.to:Math.max(m.to,s),m.typeOver&&(l=!0))}if(Wi&&u.length>1){let d=u.filter(m=>m.nodeName=="BR");if(d.length==2){let m=d[0],v=d[1];m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}}let f=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Wg(r)&&(f=H_(e))&&f.eq(ht.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Uo(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),$q(e)),this.handleDOMChange(o,s,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Uo(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++)n.push(e.addedNodes[d]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Fr&&Js<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:m,nextSibling:v}=e.addedNodes[d];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(o=v)}let s=i&&i.parentNode==e.target?ti(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),u=o&&o.parentNode==e.target?ti(o):e.target.childNodes.length,f=r.localPosFromDOM(e.target,u,1);return{from:l,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let YC=new WeakMap,JC=!1;function $q(t){if(!YC.has(t)&&(YC.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Wi,JC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),JC=!0}}function Hq(t){let e;function n(u){u.preventDefault(),u.stopImmediatePropagation(),e=u.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return yl(l.node,l.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function Fq(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),f,d=u.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:u.anchorOffset}],Wg(u)||f.push({node:u.focusNode,offset:u.focusOffset})),Tr&&t.input.lastKeyCode===8)for(let x=o;x>i;x--){let k=r.childNodes[x-1],A=k.pmViewDesc;if(k.nodeName=="BR"&&!A){o=x;break}if(!A||A.size)break}let m=t.state.doc,v=t.someProp("domParser")||Hg.fromSchema(t.state.schema),y=m.resolve(s),_=null,C=v.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:o,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:Vq,context:y});if(f&&f[0].pos!=null){let x=f[0].pos,k=f[1]&&f[1].pos;k==null&&(k=x),_={anchor:x+s,head:k+s}}return{doc:C,sel:_,from:s,to:l}}function Vq(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Er&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Er&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const jq=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Wq(t,e,n,r,i){if(e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,z=H_(t,P);if(z&&!t.state.selection.eq(z)){if(Tr&&Li&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",R=>R(t,za(13,"Enter"))))return;let w=t.state.tr.setSelection(z);P=="pointer"?w.setMeta("pointer",!0):P=="key"&&w.scrollIntoView(),t.dispatch(w)}return}let o=t.state.doc.resolve(e),s=o.sharedDepth(n);e=o.before(s+1),n=t.state.doc.resolve(n).after(s+1);let l=t.state.selection,u=Fq(t,e,n),f=t.state.doc,d=f.slice(u.from,u.to),m,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(m=t.state.selection.to,v="end"):(m=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let y=Kq(d.content,u.doc.content,u.from,m,v);if((Gu&&t.input.lastIOSEnter>Date.now()-225||Li)&&i.some(P=>P.nodeType==1&&!jq.test(P.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",P=>P(t,za(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!y)if(r&&l instanceof st&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))y={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let P=XC(t,t.state.doc,u.sel);P&&!P.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(P))}return}if(Tr&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let P=y.endB-y.start;u.sel={anchor:u.sel.anchor+P,head:u.sel.anchor+P}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof st&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),Fr&&Js<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>u.from&&u.doc.textBetween(y.start-u.from-1,y.start-u.from+1)=="  "&&(y.start--,y.endA--,y.endB--);let _=u.doc.resolveNoCache(y.start-u.from),C=u.doc.resolveNoCache(y.endB-u.from),x=f.resolve(y.start),k=_.sameParent(C)&&_.parent.inlineContent&&x.end()>=y.endA,A;if((Gu&&t.input.lastIOSEnter>Date.now()-225&&(!k||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!k&&_.pos<u.doc.content.size&&(A=ht.findFrom(u.doc.resolve(_.pos+1),1,!0))&&A.head==C.pos)&&t.someProp("handleKeyDown",P=>P(t,za(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>y.start&&qq(f,y.start,y.endA,_,C)&&t.someProp("handleKeyDown",P=>P(t,za(8,"Backspace")))){Li&&Tr&&t.domObserver.suppressSelectionUpdates();return}Tr&&Li&&y.endB==y.start&&(t.input.lastAndroidDelete=Date.now()),Li&&!k&&_.start()!=C.start()&&C.parentOffset==0&&_.depth==C.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==y.endA&&(y.endB-=2,C=u.doc.resolveNoCache(y.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,za(13,"Enter"))})},20));let L=y.start,E=y.endA,H,I,q;if(k){if(_.pos==C.pos)Fr&&Js<=11&&_.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Uo(t),20)),H=t.state.tr.delete(L,E),I=f.resolve(y.start).marksAcross(f.resolve(y.endA));else if(y.endA==y.endB&&(q=Uq(_.parent.content.cut(_.parentOffset,C.parentOffset),x.parent.content.cut(x.parentOffset,y.endA-x.start()))))H=t.state.tr,q.type=="add"?H.addMark(L,E,q.mark):H.removeMark(L,E,q.mark);else if(_.parent.child(_.index()).isText&&_.index()==C.index()-(C.textOffset?0:1)){let P=_.parent.textBetween(_.parentOffset,C.parentOffset);if(t.someProp("handleTextInput",z=>z(t,L,E,P)))return;H=t.state.tr.insertText(P,L,E)}}if(H||(H=t.state.tr.replace(L,E,u.doc.slice(y.start-u.from,y.endB-u.from))),u.sel){let P=XC(t,H.doc,u.sel);P&&!(Tr&&Li&&t.composing&&P.empty&&(y.start!=y.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==L||P.head==H.mapping.map(E)-1)||Fr&&P.empty&&P.head==L)&&H.setSelection(P)}I&&H.ensureMarks(I),t.dispatch(H.scrollIntoView())}function XC(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:F_(t,e.resolve(n.anchor),e.resolve(n.head))}function Uq(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,u;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)o=n[d].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",u=d=>d.mark(l.addToSet(d.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",u=d=>d.mark(l.removeFromSet(d.marks));else return null;let f=[];for(let d=0;d<e.childCount;d++)f.push(u(e.child(d)));if(Oe.from(f).eq(t))return{mark:l,type:s}}function qq(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||jy(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(jy(o,!0,!0));return!s.parent.isTextblock||s.pos>n||jy(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function jy(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Kq(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,o-Math.min(s,l));r-=s+u-o}if(s<o&&t.size<e.size){let u=r<=o&&r>=s?o-r:0;o-=u,l=o+(l-s),s=o}else if(l<o){let u=r<=o&&r>=l?o-r:0;o-=u,s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}class Gq{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new pq,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(nT),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=eT(this),QC(this),this.nodeViews=tT(this),this.docView=DC(this.state.doc,ZC(this),Vy(this),this.dom,this),this.domObserver=new Bq(this,(r,i,o,s)=>Wq(this,r,i,o,s)),this.domObserver.start(),mq(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Pb(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(nT),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(L4(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=tT(this);Jq(v,this.nodeViews)&&(this.nodeViews=v,i=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&Pb(this),this.editable=eT(this),QC(this);let l=Vy(this),u=ZC(this),f=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(e.doc,u,l);(d||!e.selection.eq(r.selection))&&(o=!0);let m=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&IU(this);if(o){this.domObserver.stop();let v=d&&(Fr||Tr)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&Yq(r.selection,e.selection);if(d){let y=Tr?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,u,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=DC(e.doc,u,l,this.dom,this)),y&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&iq(this))?Uo(this,v):(b4(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&PU(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof it){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&MC(this,n.getBoundingClientRect(),e)}else MC(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Fr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&DU(this.dom),Uo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return HU(this,e)}coordsAtPos(e,n=1){return f4(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return UU(this,n||this.state,e)}pasteHTML(e,n){return sd(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return sd(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(gq(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Vy(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return yq(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Er&&this.root.nodeType===11&&AU(this.dom.ownerDocument)==this.dom?Hq(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function ZC(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[hr.node(0,t.state.doc.content.size,e)]}function QC(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:hr.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function eT(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Yq(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function tT(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Jq(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function nT(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ia={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Em={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},rT=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Xq=typeof navigator<"u"&&/Mac/.test(navigator.platform),Zq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Qq=Xq||rT&&+rT[1]<57;for(var nr=0;nr<10;nr++)ia[48+nr]=ia[96+nr]=String(nr);for(var nr=1;nr<=24;nr++)ia[nr+111]="F"+nr;for(var nr=65;nr<=90;nr++)ia[nr]=String.fromCharCode(nr+32),Em[nr]=String.fromCharCode(nr);for(var Wy in ia)Em.hasOwnProperty(Wy)||(Em[Wy]=ia[Wy]);function eK(t){var e=Qq&&(t.ctrlKey||t.altKey||t.metaKey)||Zq&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Em:ia)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const tK=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function nK(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))tK?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function rK(t){let e=Object.create(null);for(let n in t)e[nK(n)]=t[n];return e}function Uy(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function iK(t){return new on({props:{handleKeyDown:G_(t)}})}function G_(t){let e=rK(t);return function(n,r){let i=eK(r),o,s=e[Uy(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[Uy(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ia[r.keyCode])&&o!=i){let l=e[Uy(o,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const oK=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function z4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const sK=(t,e,n)=>{let r=z4(t,n);if(!r)return!1;let i=Y_(r);if(!i){let s=r.blockRange(),l=s&&lc(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&F4(t,i,e))return!0;if(r.parent.content.size==0&&(Ju(o,"end")||it.isSelectable(o))){let s=Vg(t.doc,r.before(),r.after(),He.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ju(o,"end")?ht.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):it.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},aK=(t,e,n)=>{let r=z4(t,n);if(!r)return!1;let i=Y_(r);return i?B4(t,i,e):!1},lK=(t,e,n)=>{let r=$4(t,n);if(!r)return!1;let i=J_(r);return i?B4(t,i,e):!1};function B4(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let s=e.nodeAfter,l=s,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let f=Vg(t.doc,o,u,He.empty);if(!f||f.from!=o||f instanceof tr&&f.slice.size>=u-o)return!1;if(n){let d=t.tr.step(f);d.setSelection(st.create(d.doc,o)),n(d.scrollIntoView())}return!0}function Ju(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const uK=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Y_(r)}let s=o&&o.nodeBefore;return!s||!it.isSelectable(s)?!1:(e&&e(t.tr.setSelection(it.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Y_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function $4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const cK=(t,e,n)=>{let r=$4(t,n);if(!r)return!1;let i=J_(r);if(!i)return!1;let o=i.nodeAfter;if(F4(t,i,e))return!0;if(r.parent.content.size==0&&(Ju(o,"start")||it.isSelectable(o))){let s=Vg(t.doc,r.before(),r.after(),He.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ju(o,"start")?ht.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):it.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},fK=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=J_(r)}let s=o&&o.nodeAfter;return!s||!it.isSelectable(s)?!1:(e&&e(t.tr.setSelection(it.create(t.doc,o.pos)).scrollIntoView()),!0)};function J_(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const dK=(t,e)=>{let n=t.selection,r=n instanceof it,i;if(r){if(n.node.isTextblock||!pa(t.doc,n.from))return!1;i=n.from}else if(i=Fg(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(it.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},hK=(t,e)=>{let n=t.selection,r;if(n instanceof it){if(n.node.isTextblock||!pa(t.doc,n.to))return!1;r=n.to}else if(r=Fg(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},pK=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&lc(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},mK=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function H4(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const gK=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=H4(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,s.createAndFill());u.setSelection(ht.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},vK=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Hi||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=H4(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(st.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},yK=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Mu(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&lc(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},bK=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(it.create(t.doc,i))),!0)};function _K(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||pa(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function F4(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(_K(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let m=e.pos+i.nodeSize,v=Oe.empty;for(let C=o.length-1;C>=0;C--)v=Oe.from(o[C].create(null,v));v=Oe.from(r.copy(v));let y=t.tr.step(new Un(e.pos-1,m,e.pos,m,new He(v,1,0),o.length,!0)),_=m+2*o.length;pa(y.doc,_)&&y.join(_),n(y.scrollIntoView())}return!0}let u=ht.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),d=f&&lc(f);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(f,d).scrollIntoView()),!0;if(l&&Ju(i,"start",!0)&&Ju(r,"end")){let m=r,v=[];for(;v.push(m),!m.isTextblock;)m=m.lastChild;let y=i,_=1;for(;!y.isTextblock;y=y.firstChild)_++;if(m.canReplace(m.childCount,m.childCount,y.content)){if(n){let C=Oe.empty;for(let k=v.length-1;k>=0;k--)C=Oe.from(v[k].copy(C));let x=t.tr.step(new Un(e.pos-v.length,e.pos+i.nodeSize,e.pos+_,e.pos+i.nodeSize-_,new He(C,v.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function V4(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(st.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const wK=V4(-1),kK=V4(1);function xK(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&R_(s,t,e);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function iT(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[o];n.doc.nodesBetween(s,l,(u,f)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let d=n.doc.resolve(f),m=d.index();i=d.parent.canReplaceWith(m,m+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[s];o.setBlockType(l,u,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function SK(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=!1,u=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let d=n.doc.resolve(s.start-2);u=new _m(d,d,s.depth),s.endIndex<s.parent.childCount&&(s=new _m(i,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let f=R_(u,t,e,s);return f?(r&&r(CK(n.tr,s,f,l,t).scrollIntoView()),!0):!1}}function CK(t,e,n,r,i){let o=Oe.empty;for(let d=n.length-1;d>=0;d--)o=Oe.from(n[d].type.create(n[d].attrs,o));t.step(new Un(e.start-(r?2:0),e.end,e.start,e.end,new He(o,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==i&&(s=d+1);let l=n.length-s,u=e.start+n.length-(r?2:0),f=e.parent;for(let d=e.startIndex,m=e.endIndex,v=!0;d<m;d++,v=!1)!v&&Mu(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=f.child(d).nodeSize;return t}function TK(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?EK(e,n,t,o):AK(e,n,o):!0:!1}}function EK(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Un(o-1,s,o,s,new He(Oe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new _m(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const l=lc(r);if(l==null)return!1;i.lift(r,l);let u=i.mapping.map(o,-1)-1;return pa(i.doc,u)&&i.join(u),e(i.scrollIntoView()),!0}function AK(t,e,n){let r=t.tr,i=n.parent;for(let y=n.end,_=n.endIndex-1,C=n.startIndex;_>C;_--)y-=i.child(_).nodeSize,r.delete(y-1,y+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==i.childCount,f=o.node(-1),d=o.index(-1);if(!f.canReplace(d+(l?0:1),d+1,s.content.append(u?Oe.empty:Oe.from(i))))return!1;let m=o.pos,v=m+s.nodeSize;return r.step(new Un(m-(l?1:0),v+(u?1:0),m+1,v-1,new He((l?Oe.empty:Oe.from(i.copy(Oe.empty))).append(u?Oe.empty:Oe.from(i.copy(Oe.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}function OK(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,u=l.child(s-1);if(u.type!=t)return!1;if(n){let f=u.lastChild&&u.lastChild.type==l.type,d=Oe.from(f?t.create():null),m=new He(Oe.from(t.create(null,Oe.from(l.type.create(null,d)))),f?3:1,0),v=o.start,y=o.end;n(e.tr.step(new Un(v-(f?3:1),y,v,y,m,1,!0)).scrollIntoView())}return!0}}function Ld(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class Id{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([l,u])=>[l,(...d)=>{const m=u(...d)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l=[],u=!!e,f=e||o.tr,d=()=>(!u&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(f),l.every(v=>v===!0)),m={...Object.fromEntries(Object.entries(r).map(([v,y])=>[v,(...C)=>{const x=this.buildProps(f,n),k=y(...C)(x);return l.push(k),m}])),run:d};return m}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([u,f])=>[u,(...d)=>f(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l={tr:e,editor:i,view:s,state:Ld({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,f])=>[u,(...d)=>f(...d)(l)]))}};return l}}class MK{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function Ye(t,e,n){return t.config[e]===void 0&&t.parent?Ye(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Ye(t.parent,e,n):null}):t.config[e]}function Pd(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function X_(t){const e=[],{nodeExtensions:n,markExtensions:r}=Pd(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},u=Ye(s,"addGlobalAttributes",l);if(!u)return;u().forEach(d=>{d.types.forEach(m=>{Object.entries(d.attributes).forEach(([v,y])=>{e.push({type:m,name:v,attribute:{...o,...y}})})})})}),i.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},u=Ye(s,"addAttributes",l);if(!u)return;const f=u();Object.entries(f).forEach(([d,m])=>{const v={...o,...m};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,e.push({type:s.name,name:d,attribute:v})})}),e}function Hn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function zt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const l=o?o.split(" "):[],u=r[i]?r[i].split(" "):[],f=l.filter(d=>!u.includes(d));r[i]=[...u,...f].join(" ")}else i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function Am(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>zt(n,r),{})}function Z_(t){return typeof t=="function"}function wt(t,e=void 0,...n){return Z_(t)?e?t.bind(e)(...n):t(...n):t}function j4(t={}){return Object.keys(t).length===0&&t.constructor===Object}function W4(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Db(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):W4(n.getAttribute(s.name));return l==null?o:{...o,[s.name]:l}},{});return{...r,...i}}}}function oT(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&j4(n)?!1:n!=null))}function Q_(t,e){var n;const r=X_(t),{nodeExtensions:i,markExtensions:o}=Pd(t),s=(n=i.find(f=>Ye(f,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(f=>{const d=r.filter(k=>k.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=t.reduce((k,A)=>{const L=Ye(A,"extendNodeSchema",m);return{...k,...L?L(f):{}}},{}),y=oT({...v,content:wt(Ye(f,"content",m)),marks:wt(Ye(f,"marks",m)),group:wt(Ye(f,"group",m)),inline:wt(Ye(f,"inline",m)),atom:wt(Ye(f,"atom",m)),selectable:wt(Ye(f,"selectable",m)),draggable:wt(Ye(f,"draggable",m)),code:wt(Ye(f,"code",m)),defining:wt(Ye(f,"defining",m)),isolating:wt(Ye(f,"isolating",m)),attrs:Object.fromEntries(d.map(k=>{var A;return[k.name,{default:(A=k==null?void 0:k.attribute)===null||A===void 0?void 0:A.default}]}))}),_=wt(Ye(f,"parseHTML",m));_&&(y.parseDOM=_.map(k=>Db(k,d)));const C=Ye(f,"renderHTML",m);C&&(y.toDOM=k=>C({node:k,HTMLAttributes:Am(k,d)}));const x=Ye(f,"renderText",m);return x&&(y.toText=x),[f.name,y]})),u=Object.fromEntries(o.map(f=>{const d=r.filter(x=>x.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},v=t.reduce((x,k)=>{const A=Ye(k,"extendMarkSchema",m);return{...x,...A?A(f):{}}},{}),y=oT({...v,inclusive:wt(Ye(f,"inclusive",m)),excludes:wt(Ye(f,"excludes",m)),group:wt(Ye(f,"group",m)),spanning:wt(Ye(f,"spanning",m)),code:wt(Ye(f,"code",m)),attrs:Object.fromEntries(d.map(x=>{var k;return[x.name,{default:(k=x==null?void 0:x.attribute)===null||k===void 0?void 0:k.default}]}))}),_=wt(Ye(f,"parseHTML",m));_&&(y.parseDOM=_.map(x=>Db(x,d)));const C=Ye(f,"renderHTML",m);return C&&(y.toDOM=x=>C({mark:x,HTMLAttributes:Am(x,d)})),[f.name,y]}));return new KW({topNode:s,nodes:l,marks:u})}function Ap(t,e){return e.nodes[t]||e.marks[t]||null}function Rb(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const U4=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,l)=>{var u,f;const d=((f=(u=i.type.spec).toText)===null||f===void 0?void 0:f.call(u,{node:i,pos:o,parent:s,index:l}))||i.textContent||"%leaf%";n+=d.slice(0,Math.max(0,r-o))}),n};function Gg(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class uc{constructor(e){this.find=e.find,this.handler=e.handler}}const NK=(t,e)=>{if(Gg(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function qy(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:l}=t,{view:u}=n;if(u.composing)return!1;const f=u.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(v=>v.type.spec.code))return!1;let d=!1;const m=U4(f)+o;return s.forEach(v=>{if(d)return;const y=NK(m,v.find);if(!y)return;const _=u.state.tr,C=Ld({state:u.state,transaction:_}),x={from:r-(y[0].length-o.length),to:i},{commands:k,chain:A,can:L}=new Id({editor:n,state:C});v.handler({state:C,range:x,match:y,commands:k,chain:A,can:L})===null||!_.steps.length||(_.setMeta(l,{transform:_,from:r,to:i,text:o}),u.dispatch(_),d=!0)}),d}function q4(t){const{editor:e,rules:n}=t,r=new on({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,l){return qy({editor:e,from:o,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&qy({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?qy({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function K4(t){return typeof t=="number"}class Yg{constructor(e){this.find=e.find,this.handler=e.handler}}const LK=(t,e,n)=>{if(Gg(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function IK(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:l}=t,{commands:u,chain:f,can:d}=new Id({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,i,(y,_)=>{if(!y.isTextblock||y.type.spec.code)return;const C=Math.max(r,_),x=Math.min(i,_+y.content.size),k=y.textBetween(C-_,x-_,void 0,"￼");LK(k,o.find,s).forEach(L=>{if(L.index===void 0)return;const E=C+L.index+1,H=E+L[0].length,I={from:n.tr.mapping.map(E),to:n.tr.mapping.map(H)},q=o.handler({state:n,range:I,match:L,commands:u,chain:f,can:d,pasteEvent:s,dropEvent:l});m.push(q)})}),m.every(y=>y!==null)}function G4(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=new ClipboardEvent("paste"),l=new DragEvent("drop");return n.map(f=>new on({view(d){const m=v=>{var y;r=!((y=d.dom.parentElement)===null||y===void 0)&&y.contains(v.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",m),{destroy(){window.removeEventListener("dragstart",m)}}},props:{handleDOMEvents:{drop:(d,m)=>(o=r===d.dom.parentElement,l=m,!1),paste:(d,m)=>{var v;const y=(v=m.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return s=m,i=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(d,m,v)=>{const y=d[0],_=y.getMeta("uiEvent")==="paste"&&!i,C=y.getMeta("uiEvent")==="drop"&&!o;if(!_&&!C)return;const x=m.doc.content.findDiffStart(v.doc.content),k=m.doc.content.findDiffEnd(v.doc.content);if(!K4(x)||!k||x===k.b)return;const A=v.tr,L=Ld({state:v,transaction:A});if(!(!IK({editor:e,state:L,from:Math.max(x-1,0),to:k.b-1,rule:f,pasteEvent:s,dropEvent:l})||!A.steps.length))return l=new DragEvent("drop"),s=new ClipboardEvent("paste"),A}}))}function Y4(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class Ua{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Ua.resolve(e),this.schema=Q_(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Ap(r.name,this.schema)};r.type==="mark"&&(!((i=wt(Ye(r,"keepOnSplit",o)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const s=Ye(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const l=Ye(r,"onCreate",o);l&&this.editor.on("create",l);const u=Ye(r,"onUpdate",o);u&&this.editor.on("update",u);const f=Ye(r,"onSelectionUpdate",o);f&&this.editor.on("selectionUpdate",f);const d=Ye(r,"onTransaction",o);d&&this.editor.on("transaction",d);const m=Ye(r,"onFocus",o);m&&this.editor.on("focus",m);const v=Ye(r,"onBlur",o);v&&this.editor.on("blur",v);const y=Ye(r,"onDestroy",o);y&&this.editor.on("destroy",y)})}static resolve(e){const n=Ua.sort(Ua.flatten(e)),r=Y4(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=Ye(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=Ye(r,"priority")||100,s=Ye(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Ap(n.name,this.schema)},i=Ye(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Ua.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:Ap(s.name,this.schema)},u=[],f=Ye(s,"addKeyboardShortcuts",l);let d={};if(s.type==="mark"&&s.config.exitable&&(d.ArrowRight=()=>or.handleExit({editor:e,mark:s})),f){const C=Object.fromEntries(Object.entries(f()).map(([x,k])=>[x,()=>k({editor:e})]));d={...d,...C}}const m=iK(d);u.push(m);const v=Ye(s,"addInputRules",l);Rb(s,e.options.enableInputRules)&&v&&r.push(...v());const y=Ye(s,"addPasteRules",l);Rb(s,e.options.enablePasteRules)&&y&&i.push(...y());const _=Ye(s,"addProseMirrorPlugins",l);if(_){const C=_();u.push(...C)}return u}).flat();return[q4({editor:e,rules:r}),...G4({editor:e,rules:i}),...o]}get attributes(){return X_(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Pd(this.extensions);return Object.fromEntries(n.filter(r=>!!Ye(r,"addNodeView")).map(r=>{const i=this.attributes.filter(u=>u.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Hn(r.name,this.schema)},s=Ye(r,"addNodeView",o);if(!s)return[];const l=(u,f,d,m)=>{const v=Am(u,i);return s()({editor:e,node:u,getPos:d,decorations:m,HTMLAttributes:v,extension:r})};return[r.name,l]}))}}function PK(t){return Object.prototype.toString.call(t).slice(8,-1)}function Op(t){return PK(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Dd(t,e){const n={...t};return Op(t)&&Op(e)&&Object.keys(e).forEach(r=>{Op(e[r])?r in t?n[r]=Dd(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class ir{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(Ye(this,"addOptions",{name:this.name}))),this.storage=wt(Ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ir(e)}configure(e={}){const n=this.extend();return n.options=Dd(this.options,e),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new ir({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(Ye(n,"addOptions",{name:n.name})),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}}function ew(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let l="",u=!0;return t.nodesBetween(r,i,(f,d,m,v)=>{var y;const _=s==null?void 0:s[f.type.name];_?(f.isBlock&&!u&&(l+=o,u=!0),m&&(l+=_({node:f,pos:d,parent:m,index:v,range:e}))):f.isText?(l+=(y=f==null?void 0:f.text)===null||y===void 0?void 0:y.slice(Math.max(r,d)-d,i-d),u=!1):f.isBlock&&!u&&(l+=o,u=!0)}),l}function Jg(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const DK=ir.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new on({key:new xn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(d=>d.$from.pos)),l=Math.max(...o.map(d=>d.$to.pos)),u=Jg(n);return ew(r,{from:s,to:l},{textSerializers:u})}}})]}}),RK=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),zK=(t=!1)=>({commands:e})=>e.setContent("",t),BK=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(l,u)=>{if(l.type.isText)return;const{doc:f,mapping:d}=e,m=f.resolve(d.map(u)),v=f.resolve(d.map(u+l.nodeSize)),y=m.blockRange(v);if(!y)return;const _=lc(y);if(l.type.isTextblock){const{defaultType:C}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(y.start,C)}(_||_===0)&&e.lift(y,_)})}),!0},$K=t=>e=>t(e),HK=()=>({state:t,dispatch:e})=>vK(t,e),FK=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new st(r.doc.resolve(s-1))),!0},VK=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const l=i.before(o),u=i.after(o);t.delete(l,u).scrollIntoView()}return!0}return!1},jK=t=>({tr:e,state:n,dispatch:r})=>{const i=Hn(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const u=o.before(s),f=o.after(s);e.delete(u,f).scrollIntoView()}return!0}return!1},WK=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},UK=()=>({state:t,dispatch:e})=>oK(t,e),qK=()=>({commands:t})=>t.keyboardShortcut("Enter"),KK=()=>({state:t,dispatch:e})=>gK(t,e);function ld(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Gg(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function zb(t,e,n={}){return t.find(r=>r.type===e&&ld(r.attrs,n))}function GK(t,e,n={}){return!!zb(t,e,n)}function Xg(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=zb([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,l=o+1,u=s+r.node.nodeSize;for(zb([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&GK([...t.parent.child(l).marks],e,n);)u+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:u}}function as(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const YK=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=as(t,r.schema),{doc:s,selection:l}=n,{$from:u,from:f,to:d}=l;if(i){const m=Xg(u,o,e);if(m&&m.from<=f&&m.to>=d){const v=st.create(s,m.from,m.to);n.setSelection(v)}}return!0},JK=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function tw(t){return t instanceof st}function ho(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function nw(t,e=null){if(!e)return null;const n=ht.atStart(t),r=ht.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?st.create(t,ho(0,i,o),ho(t.content.size,i,o)):st.create(t,ho(e,i,o),ho(e,i,o))}function Rd(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const XK=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{Rd()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!tw(n.state.selection))return s(),!0;const l=nw(i.doc,t)||n.state.selection,u=n.state.selection.eq(l);return o&&(u||i.setSelection(l),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},ZK=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),QK=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),J4=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&J4(r)}return t};function Om(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return J4(n)}function ud(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?Oe.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),ud("",e,n)}if(typeof t=="string"){const r=Hg.fromSchema(e);return n.slice?r.parseSlice(Om(t),n.parseOptions).content:r.parse(Om(t),n.parseOptions)}return ud("",e,n)}function X4(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof tr||i instanceof Un))return;const o=t.mapping.maps[r];let s=0;o.forEach((l,u,f,d)=>{s===0&&(s=d)}),t.setSelection(ht.near(t.doc.resolve(s),n))}const eG=t=>t.toString().startsWith("<"),tG=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=ud(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:l,to:u}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,d=!0;if((eG(s)?s:[s]).forEach(v=>{v.check(),f=f?v.isText&&v.marks.length===0:!1,d=d?v.isBlock:!1}),l===u&&d){const{parent:v}=r.doc.resolve(l);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(l-=1,u+=1)}f?Array.isArray(e)?r.insertText(e.map(v=>v.text||"").join(""),l,u):typeof e=="object"&&e&&e.text?r.insertText(e.text,l,u):r.insertText(e,l,u):r.replaceWith(l,u,s),n.updateSelection&&X4(r,r.steps.length-1,-1)}return!0},nG=()=>({state:t,dispatch:e})=>dK(t,e),rG=()=>({state:t,dispatch:e})=>hK(t,e),iG=()=>({state:t,dispatch:e})=>sK(t,e),oG=()=>({state:t,dispatch:e})=>cK(t,e),sG=()=>({tr:t,state:e,dispatch:n})=>{try{const r=Fg(e.doc,e.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),n&&n(t),!0)}catch{return!1}},aG=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Fg(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},lG=()=>({state:t,dispatch:e})=>aK(t,e),uG=()=>({state:t,dispatch:e})=>lK(t,e);function Zg(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function cG(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l+=1){const u=e[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))Rd()||Zg()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const fG=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=cG(t).split(/-(?!$)/),s=o.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,l))});return u==null||u.steps.forEach(f=>{const d=f.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function Xu(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?Hn(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const y=Math.max(r,v),_=Math.min(i,v+m.nodeSize);l.push({node:m,from:y,to:_})});const u=i-r,f=l.filter(m=>s?s.name===m.node.type.name:!0).filter(m=>ld(m.node.attrs,n,{strict:!1}));return o?!!f.length:f.reduce((m,v)=>m+v.to-v.from,0)>=u}const dG=(t,e={})=>({state:n,dispatch:r})=>{const i=Hn(t,n.schema);return Xu(n,i,e)?pK(n,r):!1},hG=()=>({state:t,dispatch:e})=>yK(t,e),pG=t=>({state:e,dispatch:n})=>{const r=Hn(t,e.schema);return TK(r)(e,n)},mG=()=>({state:t,dispatch:e})=>mK(t,e);function zd(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Bb(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const gG=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=zd(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Hn(t,r.schema)),l==="mark"&&(s=as(t,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,d)=>{o&&o===f.type&&n.setNodeMarkup(d,void 0,Bb(f.attrs,e)),s&&f.marks.length&&f.marks.forEach(m=>{s===m.type&&n.addMark(d,d+f.nodeSize,s.create(Bb(m.attrs,e)))})})}),!0):!1},vG=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),yG=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),bG=()=>({state:t,dispatch:e})=>uK(t,e),_G=()=>({state:t,dispatch:e})=>fK(t,e),wG=()=>({state:t,dispatch:e})=>bK(t,e),kG=()=>({state:t,dispatch:e})=>kK(t,e),xG=()=>({state:t,dispatch:e})=>wK(t,e);function rw(t,e,n={}){return ud(t,e,{slice:!1,parseOptions:n})}const SG=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,l=rw(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,l).setMeta("preventUpdate",!e),!0};function cc(t,e){const n=as(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{s.push(...u.marks)});const l=s.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function Z4(t,e){const n=new z_(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function Q4(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function CG(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function eN(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function iw(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Bd(t){return e=>iw(e.$from,t)}function ow(t,e){const n=co.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Qg(t,e){const n=Ua.resolve(t);return Q_(n,e)}function TG(t,e){const n=Qg(e),r=Wo.fromJSON(n,t);return ow(r.content,n)}function EG(t,e){const n=Qg(e),r=Om(t);return Hg.fromSchema(n).parse(r).toJSON()}function sw(t,e){const n={from:0,to:t.content.size};return ew(t,n,e)}function AG(t,e,n){const{blockSeparator:r=`

`,textSerializers:i={}}=n||{},o=Qg(e),s=Wo.fromJSON(o,t);return sw(s,{blockSeparator:r,textSerializers:{...Jg(o),...i}})}function tN(t,e){const n=Hn(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function aw(t,e){const n=zd(typeof e=="string"?e:e.name,t.schema);return n==="node"?tN(t,e):n==="mark"?cc(t,e):{}}function nN(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function OG(t){const e=nN(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function rN(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((l,u)=>{s.push({from:l,to:u})});else{const{from:l,to:u}=n[o];if(l===void 0||u===void 0)return;s.push({from:l,to:u})}s.forEach(({from:l,to:u})=>{const f=e.slice(o).map(l,-1),d=e.slice(o).map(u),m=e.invert().map(f,-1),v=e.invert().map(d);r.push({oldRange:{from:m,to:v},newRange:{from:f,to:d}})})}),OG(r)}function iN(t,e=0){const r=t.type===t.type.schema.topNodeType?0:1,i=e,o=i+t.nodeSize,s=t.marks.map(f=>{const d={type:f.type.name};return Object.keys(f.attrs).length&&(d.attrs={...f.attrs}),d}),l={...t.attrs},u={type:t.type.name,from:i,to:o};return Object.keys(l).length&&(u.attrs=l),s.length&&(u.marks=s),t.content.childCount&&(u.content=[],t.forEach((f,d)=>{var m;(m=u.content)===null||m===void 0||m.push(iN(f,e+d+r))})),t.text&&(u.text=t.text),u}function ev(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=Xg(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}const MG=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let o=r,s=null;for(;o>0&&s===null;){const l=i.node(o);(l==null?void 0:l.type.name)===e?s=l:o-=1}return[s,o]};function Sf(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function Mm(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?as(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>ld(m.attrs,n,{strict:!1}));let s=0;const l=[];if(i.forEach(({$from:m,$to:v})=>{const y=m.pos,_=v.pos;t.doc.nodesBetween(y,_,(C,x)=>{if(!C.isText&&!C.marks.length)return;const k=Math.max(y,x),A=Math.min(_,x+C.nodeSize),L=A-k;s+=L,l.push(...C.marks.map(E=>({mark:E,from:k,to:A})))})}),s===0)return!1;const u=l.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>ld(m.mark.attrs,n,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),f=l.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,v)=>m+v.to-v.from,0);return(u>0?u+f:u)>=s}function oN(t,e,n={}){if(!e)return Xu(t,null,n)||Mm(t,null,n);const r=zd(e,t.schema);return r==="node"?Xu(t,e,n):r==="mark"?Mm(t,e,n):!1}const NG=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const o=Bd(l=>l.type.name===e)(t.selection);if(!o)return!1;const s=t.doc.resolve(o.pos+1);return i.pos+1===s.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},LG=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function $b(t,e){const{nodeExtensions:n}=Pd(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=wt(Ye(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function lw(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function IG(t){return t instanceof it}function PG(t,e,n){const i=t.state.doc.content.size,o=ho(e,0,i),s=ho(n,0,i),l=t.coordsAtPos(o),u=t.coordsAtPos(s,-1),f=Math.min(l.top,u.top),d=Math.max(l.bottom,u.bottom),m=Math.min(l.left,u.left),v=Math.max(l.right,u.right),y=v-m,_=d-f,k={top:f,bottom:d,left:m,right:v,width:y,height:_,x:m,y:f};return{...k,toJSON:()=>k}}function DG(t,e,n){var r;const{selection:i}=e;let o=null;if(tw(i)&&(o=i.$cursor),o){const l=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(l)||!l.some(u=>u.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:l,$to:u})=>{let f=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,u.pos,(d,m,v)=>{if(f)return!1;if(d.isInline){const y=!v||v.type.allowsMarkType(n),_=!!n.isInSet(d.marks)||!d.marks.some(C=>C.type.excludes(n));f=y&&_}return!f}),f})}const RG=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:l}=o,u=as(t,r.schema);if(i)if(s){const f=cc(r,u);n.addStoredMark(u.create({...f,...e}))}else l.forEach(f=>{const d=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(d,m,(v,y)=>{const _=Math.max(y,d),C=Math.min(y+v.nodeSize,m);v.marks.find(k=>k.type===u)?v.marks.forEach(k=>{u===k.type&&n.addMark(_,C,u.create({...k.attrs,...e}))}):n.addMark(_,C,u.create(e))})});return DG(r,n,u)},zG=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),BG=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Hn(t,n.schema);return o.isTextblock?i().command(({commands:s})=>iT(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>iT(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},$G=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=ho(t,0,r.content.size),o=it.create(r,i);e.setSelection(o)}return!0},HG=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=st.atStart(r).from,l=st.atEnd(r).to,u=ho(i,s,l),f=ho(o,s,l),d=st.create(r,u,f);e.setSelection(d)}return!0},FG=t=>({state:e,dispatch:n})=>{const r=Hn(t,e.schema);return OK(r)(e,n)};function sT(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const VG=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:l,$to:u}=o,f=i.extensionManager.attributes,d=Sf(f,l.node().type.name,l.node().attrs);if(o instanceof it&&o.node.isBlock)return!l.parentOffset||!Mu(s,l.pos)?!1:(r&&(t&&sT(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const m=u.parentOffset===u.parent.content.size;o instanceof st&&e.deleteSelection();const v=l.depth===0?void 0:Q4(l.node(-1).contentMatchAt(l.indexAfter(-1)));let y=m&&v?[{type:v,attrs:d}]:void 0,_=Mu(e.doc,e.mapping.map(l.pos),1,y);if(!y&&!_&&Mu(e.doc,e.mapping.map(l.pos),1,v?[{type:v}]:void 0)&&(_=!0,y=v?[{type:v,attrs:d}]:void 0),_&&(e.split(e.mapping.map(l.pos),1,y),v&&!m&&!l.parentOffset&&l.parent.type!==v)){const C=e.mapping.map(l.before()),x=e.doc.resolve(C);l.node(-1).canReplaceWith(x.index(),x.index()+1,v)&&e.setNodeMarkup(e.mapping.map(l.before()),v)}t&&sT(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},jG=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=Hn(t,n.schema),{$from:l,$to:u}=n.selection,f=n.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(u))return!1;const d=l.node(-1);if(d.type!==s)return!1;const m=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let x=Oe.empty;const k=l.index(-1)?1:l.index(-2)?2:3;for(let q=l.depth-k;q>=l.depth-3;q-=1)x=Oe.from(l.node(q).copy(x));const A=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,L=Sf(m,l.node().type.name,l.node().attrs),E=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(L))||void 0;x=x.append(Oe.from(s.createAndFill(null,E)||void 0));const H=l.before(l.depth-(k-1));e.replace(H,l.after(-A),new He(x,4-k,0));let I=-1;e.doc.nodesBetween(H,e.doc.content.size,(q,P)=>{if(I>-1)return!1;q.isTextblock&&q.content.size===0&&(I=P+1)}),I>-1&&e.setSelection(st.near(e.doc.resolve(I))),e.scrollIntoView()}return!0}const v=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,y=Sf(m,d.type.name,d.attrs),_=Sf(m,l.node().type.name,l.node().attrs);e.delete(l.pos,u.pos);const C=v?[{type:s,attrs:y},{type:v,attrs:_}]:[{type:s,attrs:y}];if(!Mu(e.doc,l.pos,2))return!1;if(r){const{selection:x,storedMarks:k}=n,{splittableMarks:A}=i.extensionManager,L=k||x.$to.parentOffset&&x.$from.marks();if(e.split(l.pos,2,C).scrollIntoView(),!L||!r)return!0;const E=L.filter(H=>A.includes(H.type.name));e.ensureMarks(E)}return!0},Ky=(t,e)=>{const n=Bd(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&pa(t.doc,n.pos)&&t.join(n.pos),!0},Gy=(t,e)=>{const n=Bd(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&pa(t.doc,r)&&t.join(r),!0},WG=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:l,chain:u,commands:f,can:d})=>{const{extensions:m,splittableMarks:v}=i.extensionManager,y=Hn(t,s.schema),_=Hn(e,s.schema),{selection:C,storedMarks:x}=s,{$from:k,$to:A}=C,L=k.blockRange(A),E=x||C.$to.parentOffset&&C.$from.marks();if(!L)return!1;const H=Bd(I=>$b(I.type.name,m))(C);if(L.depth>=1&&H&&L.depth-H.depth<=1){if(H.node.type===y)return f.liftListItem(_);if($b(H.node.type.name,m)&&y.validContent(H.node.content)&&l)return u().command(()=>(o.setNodeMarkup(H.pos,y),!0)).command(()=>Ky(o,y)).command(()=>Gy(o,y)).run()}return!n||!E||!l?u().command(()=>d().wrapInList(y,r)?!0:f.clearNodes()).wrapInList(y,r).command(()=>Ky(o,y)).command(()=>Gy(o,y)).run():u().command(()=>{const I=d().wrapInList(y,r),q=E.filter(P=>v.includes(P.type.name));return o.ensureMarks(q),I?!0:f.clearNodes()}).wrapInList(y,r).command(()=>Ky(o,y)).command(()=>Gy(o,y)).run()},UG=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=as(t,r.schema);return Mm(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},qG=(t,e,n={})=>({state:r,commands:i})=>{const o=Hn(t,r.schema),s=Hn(e,r.schema);return Xu(r,o,n)?i.setNode(s):i.setNode(o,n)},KG=(t,e={})=>({state:n,commands:r})=>{const i=Hn(t,n.schema);return Xu(n,i,e)?r.lift(i):r.wrapIn(i,e)},GG=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,l=o.transform;for(let u=l.steps.length-1;u>=0;u-=1)s.step(l.steps[u].invert(l.docs[u]));if(o.text){const u=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,u))}else s.delete(o.from,o.to)}return!0}}return!1},YG=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},JG=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,u=as(t,r.schema),{$from:f,empty:d,ranges:m}=l;if(!i)return!0;if(d&&s){let{from:v,to:y}=l;const _=(o=f.marks().find(x=>x.type===u))===null||o===void 0?void 0:o.attrs,C=Xg(f,u,_);C&&(v=C.from,y=C.to),n.removeMark(v,y,u)}else m.forEach(v=>{n.removeMark(v.$from.pos,v.$to.pos,u)});return n.removeStoredMark(u),!0},XG=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=zd(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Hn(t,r.schema)),l==="mark"&&(s=as(t,r.schema)),i&&n.selection.ranges.forEach(u=>{const f=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(f,d,(m,v)=>{o&&o===m.type&&n.setNodeMarkup(v,void 0,{...m.attrs,...e}),s&&m.marks.length&&m.marks.forEach(y=>{if(s===y.type){const _=Math.max(v,f),C=Math.min(v+m.nodeSize,d);n.addMark(_,C,s.create({...y.attrs,...e}))}})})}),!0):!1},ZG=(t,e={})=>({state:n,dispatch:r})=>{const i=Hn(t,n.schema);return xK(i,e)(n,r)},QG=(t,e={})=>({state:n,dispatch:r})=>{const i=Hn(t,n.schema);return SK(i,e)(n,r)};var eY=Object.freeze({__proto__:null,blur:RK,clearContent:zK,clearNodes:BK,command:$K,createParagraphNear:HK,cut:FK,deleteCurrentNode:VK,deleteNode:jK,deleteRange:WK,deleteSelection:UK,enter:qK,exitCode:KK,extendMarkRange:YK,first:JK,focus:XK,forEach:ZK,insertContent:QK,insertContentAt:tG,joinUp:nG,joinDown:rG,joinBackward:iG,joinForward:oG,joinItemBackward:sG,joinItemForward:aG,joinTextblockBackward:lG,joinTextblockForward:uG,keyboardShortcut:fG,lift:dG,liftEmptyBlock:hG,liftListItem:pG,newlineInCode:mG,resetAttributes:gG,scrollIntoView:vG,selectAll:yG,selectNodeBackward:bG,selectNodeForward:_G,selectParentNode:wG,selectTextblockEnd:kG,selectTextblockStart:xG,setContent:SG,setMark:RG,setMeta:zG,setNode:BG,setNodeSelection:$G,setTextSelection:HG,sinkListItem:FG,splitBlock:VG,splitListItem:jG,toggleList:WG,toggleMark:UG,toggleNode:qG,toggleWrap:KG,undoInputRule:GG,unsetAllMarks:YG,unsetMark:JG,updateAttributes:XG,wrapIn:ZG,wrapInList:QG});const tY=ir.create({name:"commands",addCommands(){return{...eY}}}),nY=ir.create({name:"editable",addProseMirrorPlugins(){return[new on({key:new xn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),rY=ir.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new on({key:new xn("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),iY=ir.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:u,doc:f}=l,{empty:d,$anchor:m}=u,{pos:v,parent:y}=m,_=m.parent.isTextblock?l.doc.resolve(v-1):m,C=_.parent.type.spec.isolating,x=m.pos-m.parentOffset,k=C&&_.parent.childCount===1?x===m.pos:ht.atStart(f).from===v;return!d||!k||!y.type.isTextblock||y.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Rd()||Zg()?o:i},addProseMirrorPlugins(){return[new on({key:new xn("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(_=>_.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,l=ht.atStart(e.doc).from,u=ht.atEnd(e.doc).to;if(i||!(o===l&&s===u)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const m=n.tr,v=Ld({state:n,transaction:m}),{commands:y}=new Id({editor:this.editor,state:v});if(y.clearNodes(),!!m.steps.length)return m}})]}}),oY=ir.create({name:"tabindex",addProseMirrorPlugins(){return[new on({key:new xn("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var sN=Object.freeze({__proto__:null,ClipboardTextSerializer:DK,Commands:tY,Editable:nY,FocusEvents:rY,Keymap:iY,Tabindex:oY});class Fs{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Fs(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Fs(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Fs(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=this.pos+r+(i?0:1),s=this.resolvedPos.doc.resolve(o);if(!i&&s.depth<=this.depth)return;const l=new Fs(s,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new Fs(s,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let l=0;l<s.length;l+=1){const u=s[l];if(o[u]!==n[u])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];return this.isBlock||!this.children||this.children.length===0||this.children.forEach(o=>{if(o.node.type.name===e){if(Object.keys(n).length>0){const s=o.node.attrs,l=Object.keys(n);for(let u=0;u<l.length;u+=1){const f=l[u];if(s[f]!==n[f])return}}if(i.push(o),r)return}i=i.concat(o.querySelectorAll(e))}),i}setAttribute(e){const n=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(n.from).run()}}const sY=`.ProseMirror {
>>>>>>>> origin/craft-4:src/web/assets/field/dist/assets/vizy-91fcee7d.js
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
<<<<<<<< HEAD:src/web/assets/field/dist/assets/vizy-1d31d33d.js
}`;function sL(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let aL=class extends MK{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=sL(sY,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=Z_(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(oL):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Ua(n,this)}createCommandManager(){this.commandManager=new Nd({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=rw(this.options.content,this.schema,this.options.parseOptions),n=nw(e,this.options.autofocus);this.view=new Gq(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:du.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return aw(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return iL(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ow(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return sw(this.state.doc,{blockSeparator:n,textSerializers:{...Yg(this.schema),...r}})}get isEmpty(){return lw(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Fs(n,this)}get $doc(){return this.$pos(0)}};function oa(t){return new uc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=wt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],l=r[0];if(s){const u=l.search(/\S/),f=n.from+l.indexOf(s),d=f+s.length;if(Qg(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(C=>C===t.type&&C!==y.mark.type)).filter(y=>y.to>f).length)return null;d<n.to&&o.delete(d,n.to),f>n.from&&o.delete(n.from+u,f);const v=n.from+u+s.length;o.addMark(n.from+u,v,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function uw(t){return new uc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=wt(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let l=n.to;const u=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let d=s+f;d>l?d=l:l=d+r[1].length;const m=r[0][r[0].length-1];o.insertText(m,s+r[0].length-1),o.replaceWith(d,l,u)}else r[0]&&o.insert(s-1,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(l));o.scrollIntoView()}})}function Mm(t){return new uc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=wt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function aY(t){return new uc({find:t.find,handler:({state:e,range:n,match:r})=>{let i=t.replace,o=n.from;const s=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);i+=r[0].slice(l+r[1].length),o+=l;const u=o-s;u>0&&(i=r[0].slice(l-u,l)+i,o=s)}e.tr.insertText(i,o,s)}})}function Zu(t){return new uc({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=wt(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),u=s.doc.resolve(n.from).blockRange(),f=u&&R_(u,t.type,o);if(!f)return null;if(s.wrap(u,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:v}=e,{splittableMarks:y}=t.editor.extensionManager,_=v||m.$to.parentOffset&&m.$from.marks();if(_){const C=_.filter(x=>y.includes(x.type.name));s.ensureMarks(C)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,o).run()}const d=s.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&pa(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&s.join(n.from-1)}})}class or{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(Ye(this,"addOptions",{name:this.name}))),this.storage=wt(Ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new or(e)}configure(e={}){const n=this.extend();return n.options=Pd(this.options,e),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new or({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(Ye(n,"addOptions",{name:n.name})),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(f=>(f==null?void 0:f.type.name)===n.name))return!1;const u=s.find(f=>(f==null?void 0:f.type.name)===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}let _n=class Hb{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(Ye(this,"addOptions",{name:this.name}))),this.storage=wt(Ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Hb(e)}configure(e={}){const n=this.extend();return n.options=Pd(this.options,e),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Hb({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(Ye(n,"addOptions",{name:n.name})),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}};function lY(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class lL{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,i,o,s,l,u;const{view:f}=this.editor,d=e.target,m=d.nodeType===3?(n=d.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(d)||!m)return;let v=0,y=0;if(this.dom!==m){const x=this.dom.getBoundingClientRect(),k=m.getBoundingClientRect(),A=(i=e.offsetX)!==null&&i!==void 0?i:(o=e.nativeEvent)===null||o===void 0?void 0:o.offsetX,N=(s=e.offsetY)!==null&&s!==void 0?s:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;v=k.x-x.x+A,y=k.y-x.y+N}(u=e.dataTransfer)===null||u===void 0||u.setDragImage(this.dom,v,y);const _=it.create(f.state.doc,this.getPos()),C=f.state.tr.setSelection(_);f.dispatch(C)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!o)return!0;const{isEditable:u}=this.editor,{isDragging:f}=this,d=!!this.node.type.spec.draggable,m=it.isSelectable(this.node),v=e.type==="copy",y=e.type==="paste",_=e.type==="cut",C=e.type==="mousedown";if(!d&&m&&o&&e.preventDefault(),d&&o&&!f)return e.preventDefault(),!1;if(d&&u&&!f&&C){const x=r.closest("[data-drag-handle]");x&&(this.dom===x||this.dom.contains(x))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(f||s||v||y||_||C&&m)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(Dd()||lY())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0})}deleteNode(){const e=this.getPos(),n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function Yo(t){return new Gg({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=wt(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,l=r[r.length-1],u=r[0];let f=n.to;if(l){const d=u.search(/\S/),m=n.from+u.indexOf(l),v=m+l.length;if(Qg(n.from,n.to,e.doc).filter(_=>_.mark.type.excluded.find(x=>x===t.type&&x!==_.mark.type)).filter(_=>_.to>m).length)return null;v<n.to&&s.delete(v,n.to),m>n.from&&s.delete(n.from+d,m),f=n.from+d+l.length,s.addMark(n.from+d,f,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}function uL(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function uY(t){return typeof t=="string"}function cY(t){return new Gg({find:t.find,handler({match:e,chain:n,range:r,pasteEvent:i}){const o=wt(t.getAttributes,void 0,e,i);if(o===!1||o===null)return null;e.input&&n().deleteRange(r).insertContentAt(r.from,{type:t.type.name,attrs:o})}})}function fY(t){return new Gg({find:t.find,handler:({state:e,range:n,match:r})=>{let i=t.replace,o=n.from;const s=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);i+=r[0].slice(l+r[1].length),o+=l;const u=o-s;u>0&&(i=r[0].slice(l-u,l)+i,o=s)}e.tr.insertText(i,o,s)}})}class dY{constructor(e){this.transaction=e,this.currentStep=this.transaction.steps.length}map(e){let n=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((i,o)=>{const s=o.getMap().mapResult(i);return s.deleted&&(n=!0),s.pos},e),deleted:n}}}const hY=Object.freeze(Object.defineProperty({__proto__:null,CommandManager:Nd,Editor:aL,Extension:ir,InputRule:uc,Mark:or,Node:_n,NodePos:Fs,NodeView:lL,PasteRule:Gg,Tracker:dY,callOrReturn:wt,combineTransactionSteps:X4,createChainableState:Ld,createDocument:rw,createNodeFromContent:ld,createStyleTag:sL,defaultBlockAt:Z4,deleteProps:Bb,elementFromString:Am,escapeForRegEx:uL,extensions:oL,findChildren:CG,findChildrenInRange:Q4,findDuplicates:G4,findParentNode:zd,findParentNodeClosestToPos:iw,fromString:j4,generateHTML:TG,generateJSON:EG,generateText:AG,getAttributes:aw,getAttributesFromExtensions:X_,getChangedRanges:nL,getDebugJSON:rL,getExtensionField:Ye,getHTMLFromFragment:ow,getMarkAttributes:cc,getMarkRange:Jg,getMarkType:as,getMarksBetween:Qg,getNodeAtPosition:MG,getNodeAttributes:eL,getNodeType:Hn,getRenderedAttributes:Em,getSchema:Zg,getSchemaByResolvedExtensions:Q_,getSchemaTypeByName:Ep,getSchemaTypeNameByName:Rd,getSplittedAttributes:Sf,getText:sw,getTextBetween:ew,getTextContentFromNodes:W4,getTextSerializersFromSchema:Yg,injectExtensionAttributesToParseRule:Db,inputRulesPlugin:U4,isActive:iL,isAtEndOfNode:LG,isAtStartOfNode:NG,isEmptyObject:V4,isExtensionRulesEnabled:Rb,isFunction:Z_,isList:$b,isMacOS:Xg,isMarkActive:Om,isNodeActive:Xu,isNodeEmpty:lw,isNodeSelection:IG,isNumber:q4,isPlainObject:Ap,isRegExp:Kg,isString:uY,isTextSelection:tw,isiOS:Dd,markInputRule:oa,markPasteRule:Yo,mergeAttributes:zt,mergeDeep:Pd,minMax:ho,nodeInputRule:uw,nodePasteRule:cY,objectIncludes:ad,pasteRulesPlugin:K4,posToDOMRect:PG,removeDuplicates:tL,resolveFocusPosition:nw,selectionToInsertionEnd:J4,splitExtensions:Id,textInputRule:aY,textPasteRule:fY,textblockTypeInputRule:Mm,wrappingInputRule:Zu},Symbol.toStringTag,{value:"Module"})),pY=[{name:"bold",svg:"bold",title:Craft.t("vizy","Bold"),action:t=>t.chain().focus().toggleBold().run(),isActive:t=>t.isActive("bold")},{name:"italic",svg:"italic",title:Craft.t("vizy","Italic"),action:t=>t.chain().focus().toggleItalic().run(),isActive:t=>t.isActive("italic")},{name:"strikethrough",svg:"strikethrough",title:Craft.t("vizy","Strike"),action:t=>t.chain().focus().toggleStrike().run(),isActive:t=>t.isActive("strike")},{name:"subscript",svg:"subscript",title:Craft.t("vizy","Subscript"),action:t=>t.chain().focus().toggleSubscript().run(),isActive:t=>t.isActive("subscript")},{name:"superscript",svg:"superscript",title:Craft.t("vizy","Superscript"),action:t=>t.chain().focus().toggleSuperscript().run(),isActive:t=>t.isActive("superscript")},{name:"underline",svg:"underline",title:Craft.t("vizy","Underline"),action:t=>t.chain().focus().toggleUnderline().run(),isActive:t=>t.isActive("underline")},{name:"code",svg:"brackets-curly",title:Craft.t("vizy","Inline Code"),action:t=>t.chain().focus().toggleCode().run(),isActive:t=>t.isActive("code")},{name:"highlight",icon:"highlighter",title:Craft.t("vizy","Highlight"),action:t=>t.chain().focus().toggleHighlight().run(),isActive:t=>t.isActive("highlight")},{name:"paragraph",svg:"text",title:Craft.t("vizy","Paragraph"),action:t=>t.chain().focus().setParagraph().run(),isActive:t=>t.isActive("paragraph")},{name:"unordered-list",svg:"list-ul",title:Craft.t("vizy","Bullet List"),action:t=>t.chain().focus().toggleBulletList().run(),isActive:t=>t.isActive("bulletList")},{name:"ordered-list",svg:"list-ol",title:Craft.t("vizy","Ordered List"),action:t=>t.chain().focus().toggleOrderedList().run(),isActive:t=>t.isActive("orderedList")},{name:"code-block",svg:"code",title:Craft.t("vizy","Code Block"),action:t=>t.chain().focus().toggleCodeBlock().run(),isActive:t=>t.isActive("codeBlock")},{name:"blockquote",svg:"quote-right",title:Craft.t("vizy","Blockquote"),action:t=>t.chain().focus().toggleBlockquote().run(),isActive:t=>t.isActive("blockquote")},{name:"h1",svg:"h1",title:Craft.t("vizy","Heading 1"),action:t=>t.chain().focus().toggleHeading({level:1}).run(),isActive:t=>t.isActive("heading",{level:1})},{name:"h2",svg:"h2",title:Craft.t("vizy","Heading 2"),action:t=>t.chain().focus().toggleHeading({level:2}).run(),isActive:t=>t.isActive("heading",{level:2})},{name:"h3",svg:"h3",title:Craft.t("vizy","Heading 3"),action:t=>t.chain().focus().toggleHeading({level:3}).run(),isActive:t=>t.isActive("heading",{level:3})},{name:"h4",svg:"h4",title:Craft.t("vizy","Heading 4"),action:t=>t.chain().focus().toggleHeading({level:4}).run(),isActive:t=>t.isActive("heading",{level:4})},{name:"h5",svg:"h5",title:Craft.t("vizy","Heading 5"),action:t=>t.chain().focus().toggleHeading({level:5}).run(),isActive:t=>t.isActive("heading",{level:5})},{name:"h6",svg:"h6",title:Craft.t("vizy","Heading 6"),action:t=>t.chain().focus().toggleHeading({level:6}).run(),isActive:t=>t.isActive("heading",{level:6})},{name:"hr",svg:"horizontal-rule",title:Craft.t("vizy","Horizontal Rule"),action:t=>t.chain().focus().setHorizontalRule().run(),isActive:t=>t.isActive("hr")},{name:"line-break",svg:"page-break",title:Craft.t("vizy","Line Break"),action:t=>t.chain().focus().setHardBreak().run()},{name:"clear-format",svg:"remove-format",title:Craft.t("vizy","Clear Format"),action:t=>t.chain().focus().clearNodes().unsetAllMarks().run()},{name:"undo",svg:"undo",title:Craft.t("vizy","Undo"),action:t=>t.chain().focus().undo().run()},{name:"redo",svg:"redo",title:Craft.t("vizy","Redo"),action:t=>t.chain().focus().redo().run()},{name:"align-left",icon:"align-left",title:Craft.t("vizy","Align Left"),action:t=>t.chain().focus().setTextAlign("left").run(),isActive:t=>t.isActive({textAlign:"left"})},{name:"align-center",icon:"align-center",title:Craft.t("vizy","Align Center"),action:t=>t.chain().focus().setTextAlign("center").run(),isActive:t=>t.isActive({textAlign:"center"})},{name:"align-right",icon:"align-right",title:Craft.t("vizy","Align Right"),action:t=>t.chain().focus().setTextAlign("right").run(),isActive:t=>t.isActive({textAlign:"right"})},{name:"align-justify",icon:"align-justify",title:Craft.t("vizy","Align Justify"),action:t=>t.chain().focus().setTextAlign("justify").run(),isActive:t=>t.isActive({textAlign:"justify"})},{name:"formatting",icon:"paragraph",title:Craft.t("vizy","Formatting"),options:[{name:"paragraph",title:Craft.t("vizy","Paragraph"),action:t=>t.chain().focus().setParagraph().run(),isActive:t=>t.isActive("paragraph")},{name:"code-block",title:Craft.t("vizy","Code Block"),action:t=>t.chain().focus().toggleCodeBlock().run(),isActive:t=>t.isActive("codeBlock")},{name:"blockquote",title:Craft.t("vizy","Blockquote"),action:t=>t.chain().focus().toggleBlockquote().run(),isActive:t=>t.isActive("blockquote")},{name:"h1",title:Craft.t("vizy","Heading 1"),action:t=>t.chain().focus().toggleHeading({level:1}).run(),isActive:t=>t.isActive("heading",{level:1})},{name:"h2",title:Craft.t("vizy","Heading 2"),action:t=>t.chain().focus().toggleHeading({level:2}).run(),isActive:t=>t.isActive("heading",{level:2})},{name:"h3",title:Craft.t("vizy","Heading 3"),action:t=>t.chain().focus().toggleHeading({level:3}).run(),isActive:t=>t.isActive("heading",{level:3})},{name:"h4",title:Craft.t("vizy","Heading 4"),action:t=>t.chain().focus().toggleHeading({level:4}).run(),isActive:t=>t.isActive("heading",{level:4})},{name:"h5",title:Craft.t("vizy","Heading 5"),action:t=>t.chain().focus().toggleHeading({level:5}).run(),isActive:t=>t.isActive("heading",{level:5})},{name:"h6",title:Craft.t("vizy","Heading 6"),action:t=>t.chain().focus().toggleHeading({level:6}).run(),isActive:t=>t.isActive("heading",{level:6})}]},{name:"table",svg:"table",title:Craft.t("vizy","Table"),isActive:t=>t.isActive("table"),options:[{name:"insert-table",title:Craft.t("vizy","Insert Table"),action:t=>t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},{name:"delete-table",title:Craft.t("vizy","Delete Table"),action:t=>t.chain().focus().deleteTable().run()},{name:"add-col-before",title:Craft.t("vizy","Add Column Before"),action:t=>t.chain().focus().addColumnBefore().run()},{name:"add-col-after",title:Craft.t("vizy","Add Column After"),action:t=>t.chain().focus().addColumnAfter().run()},{name:"delete-col",title:Craft.t("vizy","Delete Column"),action:t=>t.chain().focus().deleteColumn().run()},{name:"add-row-before",title:Craft.t("vizy","Add Row Before"),action:t=>t.chain().focus().addRowBefore().run()},{name:"add-row-after",title:Craft.t("vizy","Add Row After"),action:t=>t.chain().focus().addRowAfter().run()},{name:"delete-row",title:Craft.t("vizy","Delete Row"),action:t=>t.chain().focus().deleteRow().run()},{name:"merge-cells",title:Craft.t("vizy","Merge Cells"),action:t=>t.chain().focus().mergeCells().run()},{name:"split-cells",title:Craft.t("vizy","Split Cells"),action:t=>t.chain().focus().splitCell().run()},{name:"toggle-header-column",title:Craft.t("vizy","Toggle Header Column"),action:t=>t.chain().focus().toggleHeaderColumn().run()},{name:"toggle-header-row",title:Craft.t("vizy","Toggle Header Row"),action:t=>t.chain().focus().toggleHeaderRow().run()},{name:"toggle-header-cell",title:Craft.t("vizy","Toggle Header Cell"),action:t=>t.chain().focus().toggleHeaderCell().run()}]},{name:"link",svg:"link",title:Craft.t("vizy","Link"),component:"LinkMenuBarItem",isActive:t=>t.isActive("link")},{name:"image",icon:"image",title:Craft.t("vizy","Image"),component:"ImageMenuBarItem",isActive:t=>t.isActive("image")},{name:"html",svg:"file-code",title:Craft.t("vizy","HTML"),action:t=>t.emit("vui:code-editor-toggle")},{name:"iframe",svg:"rectangle-code",title:Craft.t("vizy","iFrame"),component:"IframeMenuBarItem",isActive:t=>t.isActive("iframe")},{name:"media-embed",svg:"photo-film",title:Craft.t("vizy","Media Embed"),component:"MediaEmbedMenuBarItem",isActive:t=>t.isActive("mediaEmbed")}],mY=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,gY=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,vY=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,yY=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,bY=or.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[oa({find:mY,type:this.type}),oa({find:vY,type:this.type})]},addPasteRules(){return[Yo({find:gY,type:this.type}),Yo({find:yY,type:this.type})]}}),_Y=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,wY=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,kY=or.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[oa({find:_Y,type:this.type})]},addPasteRules(){return[Yo({find:wY,type:this.type})]}}),xY=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,SY=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,CY=or.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[oa({find:xY,type:this.type})]},addPasteRules(){return[Yo({find:SY,type:this.type})]}}),TY=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,EY=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,AY=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,OY=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,MY=or.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[oa({find:TY,type:this.type}),oa({find:AY,type:this.type})]},addPasteRules(){return[Yo({find:EY,type:this.type}),Yo({find:OY,type:this.type})]}}),LY=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,NY=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,IY=or.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return Xg()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[oa({find:LY,type:this.type})]},addPasteRules(){return[Yo({find:NY,type:this.type})]}}),PY=or.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(t){return t!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sub",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setSubscript:()=>({commands:t})=>t.setMark(this.name),toggleSubscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSubscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),DY=or.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(t){return t!=="super"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sup",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setSuperscript:()=>({commands:t})=>t.setMark(this.name),toggleSuperscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSuperscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),RY=or.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),zY=/^\s*>\s$/,BY=_n.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Zu({find:zY,type:this.type})]}}),$Y=_n.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",zt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),aT=or.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=cc(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),lT=/^\s*([-+*])\s$/,HY=_n.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($Y.name,this.editor.getAttributes(aT.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Zu({find:lT,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Zu({find:lT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(aT.name),editor:this.editor})),[t]}}),FY=/^```([a-z]+)?[\s\n]$/,VY=/^~~~([a-z]+)?[\s\n]$/,jY=_n.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",zt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0||r.nodeAt(l)?!1:t.commands.exitCode()}}},addInputRules(){return[Mm({find:FY,type:this.type,getAttributes:t=>({language:t[1]})}),Mm({find:VY,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new on({key:new xn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(st.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),WY=_n.create({name:"doc",topNode:!0,content:"block+"}),UY=_n.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",zt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=r.extensionManager,u=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:d})=>{if(d&&u&&s){const m=u.filter(v=>l.includes(v.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),qY=_n.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Mm({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),KY=_n.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",zt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:n}=e.selection,r=t();return n.parentOffset===0?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:i,dispatch:o})=>{var s;if(o){const{$to:l}=i.selection,u=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?i.setSelection(st.create(i.doc,l.pos+1)):l.nodeAfter.isBlock?i.setSelection(it.create(i.doc,l.pos)):i.setSelection(st.create(i.doc,l.pos));else{const f=(s=l.parent.type.contentMatch.defaultType)===null||s===void 0?void 0:s.create();f&&(i.insert(u,f),i.setSelection(st.create(i.doc,u+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[uw({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),GY=_n.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",zt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),YY=_n.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",zt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),uT=or.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=cc(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),cT=/^(\d+)\.\s$/,JY=_n.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",zt(this.options.HTMLAttributes,n),0]:["ol",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(YY.name,this.editor.getAttributes(uT.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Zu({find:cT,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Zu({find:cT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(uT.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),XY=_n.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}});var Fb,Vb;if(typeof WeakMap<"u"){let t=new WeakMap;Fb=e=>t.get(e),Vb=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;Fb=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},Vb=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var vn=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let o=r+1,s=i+1;for(let l=1;o<this.width&&this.map[e+l]==n;l++)o++;for(let l=1;s<this.height&&this.map[e+this.width*l]==n;l++)s++;return{left:r,top:i,right:o,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:o,bottom:s}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:s==this.height)?null:this.map[r+this.width*(n<0?o-1:s)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:o}=this.findCell(t),{left:s,right:l,top:u,bottom:f}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(i,u),right:Math.max(r,l),bottom:Math.max(o,f)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const o=r*this.width+i,s=this.map[o];n[s]||(n[s]=!0,!(i==t.left&&i&&this.map[o-1]==s||r==t.top&&r&&this.map[o-this.width]==s)&&e.push(s))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==t){let s=e+t*this.width;const l=(t+1)*this.width;for(;s<l&&this.map[s]<i;)s++;return s==l?o-1:this.map[s]}i=o}}static get(t){return Fb(t)||Vb(t,ZY(t))}};function ZY(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=QY(t),n=t.childCount,r=[];let i=0,o=null;const s=[];for(let f=0,d=e*n;f<d;f++)r[f]=0;for(let f=0,d=0;f<n;f++){const m=t.child(f);d++;for(let _=0;;_++){for(;i<r.length&&r[i]!=0;)i++;if(_==m.childCount)break;const C=m.child(_),{colspan:x,rowspan:k,colwidth:A}=C.attrs;for(let N=0;N<k;N++){if(N+f>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:d,n:k-N});break}const E=i+N*e;for(let H=0;H<x;H++){r[E+H]==0?r[E+H]=d:(o||(o=[])).push({type:"collision",row:f,pos:d,n:x-H});const I=A&&A[H];if(I){const q=(E+H)%e*2,P=s[q];P==null||P!=I&&s[q+1]==1?(s[q]=I,s[q+1]=1):P==I&&s[q+1]++}}}i+=x,d+=C.nodeSize}const v=(f+1)*e;let y=0;for(;i<v;)r[i++]==0&&y++;y&&(o||(o=[])).push({type:"missing",row:f,n:y}),d++}const l=new vn(e,n,r,o);let u=!1;for(let f=0;!u&&f<s.length;f+=2)s[f]!=null&&s[f+1]<n&&(u=!0);return u&&eJ(l,s,t),l}function QY(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let o=0;if(n)for(let s=0;s<r;s++){const l=t.child(s);for(let u=0;u<l.childCount;u++){const f=l.child(u);s+f.attrs.rowspan>r&&(o+=f.attrs.colspan)}}for(let s=0;s<i.childCount;s++){const l=i.child(s);o+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function eJ(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const o=t.map[i];if(r[o])continue;r[o]=!0;const s=n.nodeAt(o);if(!s)throw new RangeError(`No cell with offset ${o} found`);let l=null;const u=s.attrs;for(let f=0;f<u.colspan;f++){const d=(i+f)%t.width,m=e[d*2];m!=null&&(!u.colwidth||u.colwidth[f]!=m)&&((l||(l=tJ(u)))[f]=m)}l&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:l})}}function tJ(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function vr(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var Vs=new xn("selectingCells");function fc(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function nJ(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Gi(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function ev(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=fc(e.$head)||rJ(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function rJ(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function jb(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function iJ(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function cw(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function cL(t,e,n){const r=t.node(-1),i=vn.get(r),o=t.start(-1),s=i.nextCell(t.pos-o,e,n);return s==null?null:t.node(0).resolve(o+s)}function wl(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function fL(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function oJ(t,e,n){const r=vr(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var Nt=class extends ht{constructor(t,e=t){const n=t.node(-1),r=vn.get(n),i=t.start(-1),o=r.rectBetween(t.pos-i,e.pos-i),s=t.node(0),l=r.cellsInRect(o).filter(f=>f!=e.pos-i);l.unshift(e.pos-i);const u=l.map(f=>{const d=n.nodeAt(f);if(!d)throw RangeError(`No cell with offset ${f} found`);const m=i+f+1;return new n4(s.resolve(m),s.resolve(m+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=e}map(t,e){const n=t.resolve(e.map(this.$anchorCell.pos)),r=t.resolve(e.map(this.$headCell.pos));if(jb(n)&&jb(r)&&cw(n,r)){const i=this.$anchorCell.node(-1)!=n.node(-1);return i&&this.isRowSelection()?Nt.rowSelection(n,r):i&&this.isColSelection()?Nt.colSelection(n,r):new Nt(n,r)}return st.between(n,r)}content(){const t=this.$anchorCell.node(-1),e=vn.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},o=[];for(let l=r.top;l<r.bottom;l++){const u=[];for(let f=l*e.width+r.left,d=r.left;d<r.right;d++,f++){const m=e.map[f];if(i[m])continue;i[m]=!0;const v=e.findCell(m);let y=t.nodeAt(m);if(!y)throw RangeError(`No cell with offset ${m} found`);const _=r.left-v.left,C=v.right-r.right;if(_>0||C>0){let x=y.attrs;if(_>0&&(x=wl(x,0,_)),C>0&&(x=wl(x,x.colspan-C,C)),v.left<r.left){if(y=y.type.createAndFill(x),!y)throw RangeError(`Could not create cell with attrs ${JSON.stringify(x)}`)}else y=y.type.create(x,y.content)}if(v.top<r.top||v.bottom>r.bottom){const x={...y.attrs,rowspan:Math.min(v.bottom,r.bottom)-Math.max(v.top,r.top)};v.top<r.top?y=y.type.createAndFill(x):y=y.type.create(x,y.content)}u.push(y)}o.push(t.child(l).copy(Oe.from(u)))}const s=this.isColSelection()&&this.isRowSelection()?t:o;return new He(Oe.from(s),1,1)}replace(t,e=He.empty){const n=t.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){const{$from:s,$to:l}=r[o],u=t.mapping.slice(n);t.replace(u.map(s.pos),u.map(l.pos),o?He.empty:e)}const i=ht.findFrom(t.doc.resolve(t.mapping.slice(n).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,e){this.replace(t,new He(Oe.from(e),0,0))}forEachCell(t){const e=this.$anchorCell.node(-1),n=vn.get(e),r=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let o=0;o<i.length;o++)t(e.nodeAt(i[o]),r+i[o])}isColSelection(){const t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;const n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(t,e=t){const n=t.node(-1),r=vn.get(n),i=t.start(-1),o=r.findCell(t.pos-i),s=r.findCell(e.pos-i),l=t.node(0);return o.top<=s.top?(o.top>0&&(t=l.resolve(i+r.map[o.left])),s.bottom<r.height&&(e=l.resolve(i+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(e=l.resolve(i+r.map[s.left])),o.bottom<r.height&&(t=l.resolve(i+r.map[r.width*(r.height-1)+o.right-1]))),new Nt(t,e)}isRowSelection(){const t=this.$anchorCell.node(-1),e=vn.get(t),n=this.$anchorCell.start(-1),r=e.colCount(this.$anchorCell.pos-n),i=e.colCount(this.$headCell.pos-n);if(Math.min(r,i)>0)return!1;const o=r+this.$anchorCell.nodeAfter.attrs.colspan,s=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,s)==e.width}eq(t){return t instanceof Nt&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,e=t){const n=t.node(-1),r=vn.get(n),i=t.start(-1),o=r.findCell(t.pos-i),s=r.findCell(e.pos-i),l=t.node(0);return o.left<=s.left?(o.left>0&&(t=l.resolve(i+r.map[o.top*r.width])),s.right<r.width&&(e=l.resolve(i+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(e=l.resolve(i+r.map[s.top*r.width])),o.right<r.width&&(t=l.resolve(i+r.map[r.width*(o.top+1)-1]))),new Nt(t,e)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,e){return new Nt(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){return new Nt(t.resolve(e),t.resolve(n))}getBookmark(){return new dL(this.$anchorCell.pos,this.$headCell.pos)}};Nt.prototype.visible=!1;ht.jsonID("cell",Nt);var dL=class{constructor(t,e){this.anchor=t,this.head=e}map(t){return new dL(t.map(this.anchor),t.map(this.head))}resolve(t){const e=t.resolve(this.anchor),n=t.resolve(this.head);return e.parent.type.spec.tableRole=="row"&&n.parent.type.spec.tableRole=="row"&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&cw(e,n)?new Nt(e,n):ht.near(n,1)}};function sJ(t){if(!(t.selection instanceof Nt))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(hr.node(r,r+n.nodeSize,{class:"selectedCell"}))}),tn.create(t.doc,e)}function aJ({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function lJ({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&e.parentOffset===0}function uJ(t,e,n){const r=(e||t).selection,i=(e||t).doc;let o,s;if(r instanceof it&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")o=Nt.create(i,r.from);else if(s=="row"){const l=i.resolve(r.from+1);o=Nt.rowSelection(l,l)}else if(!n){const l=vn.get(r.node),u=r.from+1,f=u+l.map[l.width*l.height-1];o=Nt.create(i,u+1,f)}}else r instanceof st&&aJ(r)?o=st.create(i,r.from):r instanceof st&&lJ(r)&&(o=st.create(i,r.$from.start(),r.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}var cJ=new xn("fix-tables");function hL(t,e,n,r){const i=t.childCount,o=e.childCount;e:for(let s=0,l=0;s<o;s++){const u=e.child(s);for(let f=l,d=Math.min(i,s+3);f<d;f++)if(t.child(f)==u){l=f+1,n+=u.nodeSize;continue e}r(u,n),l<i&&t.child(l).sameMarkup(u)?hL(t.child(l),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function pL(t,e){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=fJ(t,i,o,n))};return e?e.doc!=t.doc&&hL(e.doc,t.doc,0,r):t.doc.descendants(r),n}function fJ(t,e,n,r){const i=vn.get(e);if(!i.problems)return r;r||(r=t.tr);const o=[];for(let u=0;u<i.height;u++)o.push(0);for(let u=0;u<i.problems.length;u++){const f=i.problems[u];if(f.type=="collision"){const d=e.nodeAt(f.pos);if(!d)continue;const m=d.attrs;for(let v=0;v<m.rowspan;v++)o[f.row+v]+=f.n;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,wl(m,m.colspan-f.n,f.n))}else if(f.type=="missing")o[f.row]+=f.n;else if(f.type=="overlong_rowspan"){const d=e.nodeAt(f.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-f.n})}else if(f.type=="colwidth mismatch"){const d=e.nodeAt(f.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...d.attrs,colwidth:f.colwidth})}}let s,l;for(let u=0;u<o.length;u++)o[u]&&(s==null&&(s=u),l=u);for(let u=0,f=n+1;u<i.height;u++){const d=e.child(u),m=f+d.nodeSize,v=o[u];if(v>0){let y="cell";d.firstChild&&(y=d.firstChild.type.spec.tableRole);const _=[];for(let x=0;x<v;x++){const k=vr(t.schema)[y].createAndFill();k&&_.push(k)}const C=(u==0||s==u-1)&&l==u?f+1:m-1;r.insert(r.mapping.map(C),_)}f=m}return r.setMeta(cJ,{fixTables:!0})}function dJ(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),o=i.type.spec.tableRole,s=i.type.schema,l=[];if(o=="row")for(let u=0;u<e.childCount;u++){let f=e.child(u).content;const d=u?0:Math.max(0,n-1),m=u<e.childCount-1?0:Math.max(0,r-1);(d||m)&&(f=Wb(vr(s).row,new He(f,d,m)).content),l.push(f)}else if(o=="cell"||o=="header_cell")l.push(n||r?Wb(vr(s).row,new He(e,n,r)).content:e);else return null;return hJ(s,l)}function hJ(t,e){const n=[];for(let i=0;i<e.length;i++){const o=e[i];for(let s=o.childCount-1;s>=0;s--){const{rowspan:l,colspan:u}=o.child(s).attrs;for(let f=i;f<i+l;f++)n[f]=(n[f]||0)+u}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(Oe.empty),n[i]<r){const o=vr(t).cell.createAndFill(),s=[];for(let l=n[i];l<r;l++)s.push(o);e[i]=e[i].append(Oe.from(s))}return{height:e.length,width:r,rows:e}}function Wb(t,e){const n=t.createAndFill();return new z_(n).replace(0,n.content.size,e).doc}function pJ({width:t,height:e,rows:n},r,i){if(t!=r){const o=[],s=[];for(let l=0;l<n.length;l++){const u=n[l],f=[];for(let d=o[l]||0,m=0;d<r;m++){let v=u.child(m%u.childCount);d+v.attrs.colspan>r&&(v=v.type.createChecked(wl(v.attrs,v.attrs.colspan,d+v.attrs.colspan-r),v.content)),f.push(v),d+=v.attrs.colspan;for(let y=1;y<v.attrs.rowspan;y++)o[l+y]=(o[l+y]||0)+v.attrs.colspan}s.push(Oe.from(f))}n=s,t=r}if(e!=i){const o=[];for(let s=0,l=0;s<i;s++,l++){const u=[],f=n[l%e];for(let d=0;d<f.childCount;d++){let m=f.child(d);s+m.attrs.rowspan>i&&(m=m.type.create({...m.attrs,rowspan:Math.max(1,i-m.attrs.rowspan)},m.content)),u.push(m)}o.push(Oe.from(u))}n=o,e=i}return{width:t,height:e,rows:n}}function mJ(t,e,n,r,i,o,s){const l=t.doc.type.schema,u=vr(l);let f,d;if(i>e.width)for(let m=0,v=0;m<e.height;m++){const y=n.child(m);v+=y.nodeSize;const _=[];let C;y.lastChild==null||y.lastChild.type==u.cell?C=f||(f=u.cell.createAndFill()):C=d||(d=u.header_cell.createAndFill());for(let x=e.width;x<i;x++)_.push(C);t.insert(t.mapping.slice(s).map(v-1+r),_)}if(o>e.height){const m=[];for(let _=0,C=(e.height-1)*e.width;_<Math.max(e.width,i);_++){const x=_>=e.width?!1:n.nodeAt(e.map[C+_]).type==u.header_cell;m.push(x?d||(d=u.header_cell.createAndFill()):f||(f=u.cell.createAndFill()))}const v=u.row.create(null,Oe.from(m)),y=[];for(let _=e.height;_<o;_++)y.push(v);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),y)}return!!(f||d)}function fT(t,e,n,r,i,o,s,l){if(s==0||s==e.height)return!1;let u=!1;for(let f=i;f<o;f++){const d=s*e.width+f,m=e.map[d];if(e.map[d-e.width]==m){u=!0;const v=n.nodeAt(m),{top:y,left:_}=e.findCell(m);t.setNodeMarkup(t.mapping.slice(l).map(m+r),null,{...v.attrs,rowspan:s-y}),t.insert(t.mapping.slice(l).map(e.positionAt(s,_,n)),v.type.createAndFill({...v.attrs,rowspan:y+v.attrs.rowspan-s})),f+=v.attrs.colspan-1}}return u}function dT(t,e,n,r,i,o,s,l){if(s==0||s==e.width)return!1;let u=!1;for(let f=i;f<o;f++){const d=f*e.width+s,m=e.map[d];if(e.map[d-1]==m){u=!0;const v=n.nodeAt(m),y=e.colCount(m),_=t.mapping.slice(l).map(m+r);t.setNodeMarkup(_,null,wl(v.attrs,s-y,v.attrs.colspan-(s-y))),t.insert(_+v.nodeSize,v.type.createAndFill(wl(v.attrs,0,s-y))),f+=v.attrs.rowspan-1}}return u}function hT(t,e,n,r,i){let o=n?t.doc.nodeAt(n-1):t.doc;if(!o)throw new Error("No table found");let s=vn.get(o);const{top:l,left:u}=r,f=u+i.width,d=l+i.height,m=t.tr;let v=0;function y(){if(o=n?m.doc.nodeAt(n-1):m.doc,!o)throw new Error("No table found");s=vn.get(o),v=m.mapping.maps.length}mJ(m,s,o,n,f,d,v)&&y(),fT(m,s,o,n,u,f,l,v)&&y(),fT(m,s,o,n,u,f,d,v)&&y(),dT(m,s,o,n,l,d,u,v)&&y(),dT(m,s,o,n,l,d,f,v)&&y();for(let _=l;_<d;_++){const C=s.positionAt(_,u,o),x=s.positionAt(_,f,o);m.replace(m.mapping.slice(v).map(C+n),m.mapping.slice(v).map(x+n),new He(i.rows[_-l],0,0))}y(),m.setSelection(new Nt(m.doc.resolve(n+s.positionAt(l,u,o)),m.doc.resolve(n+s.positionAt(d-1,f-1,o)))),e(m)}var gJ=G_({ArrowLeft:Gh("horiz",-1),ArrowRight:Gh("horiz",1),ArrowUp:Gh("vert",-1),ArrowDown:Gh("vert",1),"Shift-ArrowLeft":Yh("horiz",-1),"Shift-ArrowRight":Yh("horiz",1),"Shift-ArrowUp":Yh("vert",-1),"Shift-ArrowDown":Yh("vert",1),Backspace:Jh,"Mod-Backspace":Jh,Delete:Jh,"Mod-Delete":Jh});function Op(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Gh(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof Nt)return Op(n,r,ht.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;const s=mL(i,t,e);if(s==null)return!1;if(t=="horiz")return Op(n,r,ht.near(n.doc.resolve(o.head+e),e));{const l=n.doc.resolve(s),u=cL(l,t,e);let f;return u?f=ht.near(u,1):e<0?f=ht.near(n.doc.resolve(l.before(-1)),-1):f=ht.near(n.doc.resolve(l.after(-1)),1),Op(n,r,f)}}}function Yh(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let s;if(o instanceof Nt)s=o;else{const u=mL(i,t,e);if(u==null)return!1;s=new Nt(n.doc.resolve(u))}const l=cL(s.$headCell,t,e);return l?Op(n,r,new Nt(s.$anchorCell,l)):!1}}function Jh(t,e){const n=t.selection;if(!(n instanceof Nt))return!1;if(e){const r=t.tr,i=vr(t.schema).cell.createAndFill().content;n.forEachCell((o,s)=>{o.content.eq(i)||r.replace(r.mapping.map(s+1),r.mapping.map(s+o.nodeSize-1),new He(i,0,0))}),r.docChanged&&e(r)}return!0}function vJ(t,e){const n=t.state.doc,r=fc(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Nt(r))),!0):!1}function yJ(t,e,n){if(!Gi(t.state))return!1;let r=dJ(n);const i=t.state.selection;if(i instanceof Nt){r||(r={width:1,height:1,rows:[Oe.from(Wb(vr(t.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),l=vn.get(o).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=pJ(r,l.right-l.left,l.bottom-l.top),hT(t.state,t.dispatch,s,l,r),!0}else if(r){const o=ev(t.state),s=o.start(-1);return hT(t.state,t.dispatch,s,vn.get(o.node(-1)).findCell(o.pos-s),r),!0}else return!1}function bJ(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=pT(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof Nt)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=fc(t.state.selection.$anchor))!=null&&((n=G0(t,e))==null?void 0:n.pos)!=i.pos)o(i,e),e.preventDefault();else if(!r)return;function o(u,f){let d=G0(t,f);const m=Vs.getState(t.state)==null;if(!d||!cw(u,d))if(m)d=u;else return;const v=new Nt(u,d);if(m||!t.state.selection.eq(v)){const y=t.state.tr.setSelection(v);m&&y.setMeta(Vs,u.pos),t.dispatch(y)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",l),Vs.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Vs,-1))}function l(u){const f=u,d=Vs.getState(t.state);let m;if(d!=null)m=t.state.doc.resolve(d);else if(pT(t,f.target)!=r&&(m=G0(t,e),!m))return s();m&&o(m,f)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",l)}function mL(t,e,n){if(!(t.state.selection instanceof st))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const l=r.before(i),u=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?l:null}}return null}function pT(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function G0(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?fc(t.state.doc.resolve(n.pos)):null}var _J=class{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Ub(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Ub(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Ub(t,e,n,r,i,o){var s;let l=0,u=!0,f=e.firstChild;const d=t.firstChild;if(d){for(let m=0,v=0;m<d.childCount;m++){const{colspan:y,colwidth:_}=d.child(m).attrs;for(let C=0;C<y;C++,v++){const x=i==v?o:_&&_[C],k=x?x+"px":"";l+=x||r,x||(u=!1),f?(f.style.width!=k&&(f.style.width=k),f=f.nextSibling):e.appendChild(document.createElement("col")).style.width=k}}for(;f;){const m=f.nextSibling;(s=f.parentNode)==null||s.removeChild(f),f=m}u?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var gi=new xn("tableColumnResizing");function wJ({handleWidth:t=5,cellMinWidth:e=25,View:n=_J,lastColumnResizable:r=!0}={}){const i=new on({key:gi,state:{init(o,s){return i.spec.props.nodeViews[vr(s.schema).table.name]=(l,u)=>new n(l,e,u),new Mp(-1,!1)},apply(o,s){return s.apply(o)}},props:{attributes:o=>{const s=gi.getState(o);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,s)=>{kJ(o,s,t,e,r)},mouseleave:o=>{xJ(o)},mousedown:(o,s)=>{SJ(o,s,e)}},decorations:o=>{const s=gi.getState(o);if(s&&s.activeHandle>-1)return MJ(o,s.activeHandle)},nodeViews:{}}});return i}var Mp=class{constructor(t,e){this.activeHandle=t,this.dragging=e}apply(t){const e=this,n=t.getMeta(gi);if(n&&n.setHandle!=null)return new Mp(n.setHandle,!1);if(n&&n.setDragging!==void 0)return new Mp(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){let r=t.mapping.map(e.activeHandle,-1);return jb(t.doc.resolve(r))||(r=-1),new Mp(r,e.dragging)}return e}};function kJ(t,e,n,r,i){const o=gi.getState(t.state);if(o&&!o.dragging){const s=TJ(e.target);let l=-1;if(s){const{left:u,right:f}=s.getBoundingClientRect();e.clientX-u<=n?l=mT(t,e,"left"):f-e.clientX<=n&&(l=mT(t,e,"right"))}if(l!=o.activeHandle){if(!i&&l!==-1){const u=t.state.doc.resolve(l),f=u.node(-1),d=vn.get(f),m=u.start(-1);if(d.colCount(u.pos-m)+u.nodeAfter.attrs.colspan-1==d.width-1)return}gL(t,l)}}}function xJ(t){const e=gi.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&gL(t,-1)}function SJ(t,e,n){const r=gi.getState(t.state);if(!r||r.activeHandle==-1||r.dragging)return!1;const i=t.state.doc.nodeAt(r.activeHandle),o=CJ(t,r.activeHandle,i.attrs);t.dispatch(t.state.tr.setMeta(gi,{setDragging:{startX:e.clientX,startWidth:o}}));function s(u){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",l);const f=gi.getState(t.state);f!=null&&f.dragging&&(EJ(t,f.activeHandle,gT(f.dragging,u,n)),t.dispatch(t.state.tr.setMeta(gi,{setDragging:null})))}function l(u){if(!u.which)return s(u);const f=gi.getState(t.state);if(f&&f.dragging){const d=gT(f.dragging,u,n);AJ(t,f.activeHandle,d,n)}}return window.addEventListener("mouseup",s),window.addEventListener("mousemove",l),e.preventDefault(),!0}function CJ(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=t.domAtPos(e);let l=o.node.childNodes[o.offset].offsetWidth,u=n;if(r)for(let f=0;f<n;f++)r[f]&&(l-=r[f],u--);return l/u}function TJ(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function mT(t,e,n){const r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;const{pos:i}=r,o=fc(t.state.doc.resolve(i));if(!o)return-1;if(n=="right")return o.pos;const s=vn.get(o.node(-1)),l=o.start(-1),u=s.map.indexOf(o.pos-l);return u%s.width==0?-1:l+s.map[u-1]}function gT(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function gL(t,e){t.dispatch(t.state.tr.setMeta(gi,{setHandle:e}))}function EJ(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),o=vn.get(i),s=r.start(-1),l=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,u=t.state.tr;for(let f=0;f<o.height;f++){const d=f*o.width+l;if(f&&o.map[d]==o.map[d-o.width])continue;const m=o.map[d],v=i.nodeAt(m).attrs,y=v.colspan==1?0:l-o.colCount(m);if(v.colwidth&&v.colwidth[y]==n)continue;const _=v.colwidth?v.colwidth.slice():OJ(v.colspan);_[y]=n,u.setNodeMarkup(s+m,null,{...v,colwidth:_})}u.docChanged&&t.dispatch(u)}function AJ(t,e,n,r){const i=t.state.doc.resolve(e),o=i.node(-1),s=i.start(-1),l=vn.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;let u=t.domAtPos(i.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&Ub(o,u.firstChild,u,r,l,n)}function OJ(t){return Array(t).fill(0)}function MJ(t,e){const n=[],r=t.doc.resolve(e),i=r.node(-1);if(!i)return tn.empty;const o=vn.get(i),s=r.start(-1),l=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let u=0;u<o.height;u++){const f=l+u*o.width-1;if((l==o.width||o.map[f]!=o.map[f+1])&&(u==0||o.map[f-1]!=o.map[f-1-o.width])){const d=o.map[f],m=s+d+i.nodeAt(d).nodeSize-1,v=document.createElement("div");v.className="column-resize-handle",n.push(hr.widget(m,v))}}return tn.create(t.doc,n)}function ko(t){const e=t.selection,n=ev(t),r=n.node(-1),i=n.start(-1),o=vn.get(r);return{...e instanceof Nt?o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function vL(t,{map:e,tableStart:n,table:r},i){let o=i>0?-1:0;oJ(e,r,i+o)&&(o=i==0||i==e.width?null:0);for(let s=0;s<e.height;s++){const l=s*e.width+i;if(i>0&&i<e.width&&e.map[l-1]==e.map[l]){const u=e.map[l],f=r.nodeAt(u);t.setNodeMarkup(t.mapping.map(n+u),null,fL(f.attrs,i-e.colCount(u))),s+=f.attrs.rowspan-1}else{const u=o==null?vr(r.type.schema).cell:r.nodeAt(e.map[l+o]).type,f=e.positionAt(s,i,r);t.insert(t.mapping.map(n+f),u.createAndFill())}}return t}function LJ(t,e){if(!Gi(t))return!1;if(e){const n=ko(t);e(vL(t.tr,n,n.left))}return!0}function NJ(t,e){if(!Gi(t))return!1;if(e){const n=ko(t);e(vL(t.tr,n,n.right))}return!0}function IJ(t,{map:e,table:n,tableStart:r},i){const o=t.mapping.maps.length;for(let s=0;s<e.height;){const l=s*e.width+i,u=e.map[l],f=n.nodeAt(u),d=f.attrs;if(i>0&&e.map[l-1]==u||i<e.width-1&&e.map[l+1]==u)t.setNodeMarkup(t.mapping.slice(o).map(r+u),null,wl(d,i-e.colCount(u)));else{const m=t.mapping.slice(o).map(r+u);t.delete(m,m+f.nodeSize)}s+=d.rowspan}}function PJ(t,e){if(!Gi(t))return!1;if(e){const n=ko(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;IJ(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=vn.get(o)}e(r)}return!0}function DJ(t,e,n){var r;const i=vr(e.type.schema).header_cell;for(let o=0;o<t.width;o++)if(((r=e.nodeAt(t.map[o+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function yL(t,{map:e,tableStart:n,table:r},i){var o;let s=n;for(let f=0;f<i;f++)s+=r.child(f).nodeSize;const l=[];let u=i>0?-1:0;DJ(e,r,i+u)&&(u=i==0||i==e.height?null:0);for(let f=0,d=e.width*i;f<e.width;f++,d++)if(i>0&&i<e.height&&e.map[d]==e.map[d-e.width]){const m=e.map[d],v=r.nodeAt(m).attrs;t.setNodeMarkup(n+m,null,{...v,rowspan:v.rowspan+1}),f+=v.colspan-1}else{const m=u==null?vr(r.type.schema).cell:(o=r.nodeAt(e.map[d+u*e.width]))==null?void 0:o.type,v=m==null?void 0:m.createAndFill();v&&l.push(v)}return t.insert(s,vr(r.type.schema).row.create(null,l)),t}function RJ(t,e){if(!Gi(t))return!1;if(e){const n=ko(t);e(yL(t.tr,n,n.top))}return!0}function zJ(t,e){if(!Gi(t))return!1;if(e){const n=ko(t);e(yL(t.tr,n,n.bottom))}return!0}function BJ(t,{map:e,table:n,tableStart:r},i){let o=0;for(let u=0;u<i;u++)o+=n.child(u).nodeSize;const s=o+n.child(i).nodeSize,l=t.mapping.maps.length;t.delete(o+r,s+r);for(let u=0,f=i*e.width;u<e.width;u++,f++){const d=e.map[f];if(i>0&&d==e.map[f-e.width]){const m=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(l).map(d+r),null,{...m,rowspan:m.rowspan-1}),u+=m.colspan-1}else if(i<e.width&&d==e.map[f+e.width]){const m=n.nodeAt(d),v=m.attrs,y=m.type.create({...v,rowspan:m.attrs.rowspan-1},m.content),_=e.positionAt(i+1,u,n);t.insert(t.mapping.slice(l).map(r+_),y),u+=v.colspan-1}}}function $J(t,e){if(!Gi(t))return!1;if(e){const n=ko(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;BJ(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=vn.get(n.table)}e(r)}return!0}function vT(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function HJ({width:t,height:e,map:n},r){let i=r.top*t+r.left,o=i,s=(r.bottom-1)*t+r.left,l=i+(r.right-r.left-1);for(let u=r.top;u<r.bottom;u++){if(r.left>0&&n[o]==n[o-1]||r.right<t&&n[l]==n[l+1])return!0;o+=t,l+=t}for(let u=r.left;u<r.right;u++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[s]==n[s+t])return!0;i++,s++}return!1}function yT(t,e){const n=t.selection;if(!(n instanceof Nt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=ko(t),{map:i}=r;if(HJ(i,r))return!1;if(e){const o=t.tr,s={};let l=Oe.empty,u,f;for(let d=r.top;d<r.bottom;d++)for(let m=r.left;m<r.right;m++){const v=i.map[d*i.width+m],y=r.table.nodeAt(v);if(!(s[v]||!y))if(s[v]=!0,u==null)u=v,f=y;else{vT(y)||(l=l.append(y.content));const _=o.mapping.map(v+r.tableStart);o.delete(_,_+y.nodeSize)}}if(u==null||f==null)return!0;if(o.setNodeMarkup(u+r.tableStart,null,{...fL(f.attrs,f.attrs.colspan,r.right-r.left-f.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const d=u+1+f.content.size,m=vT(f)?u+1:d;o.replaceWith(m+r.tableStart,d+r.tableStart,l)}o.setSelection(new Nt(o.doc.resolve(u+r.tableStart))),e(o)}return!0}function bT(t,e){const n=vr(t.schema);return FJ(({node:r})=>n[r.type.spec.tableRole])(t,e)}function FJ(t){return(e,n)=>{var r;const i=e.selection;let o,s;if(i instanceof Nt){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,s=i.$anchorCell.pos}else{if(o=nJ(i.$from),!o)return!1;s=(r=fc(i.$from))==null?void 0:r.pos}if(o==null||s==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let l=o.attrs;const u=[],f=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=ko(e),m=e.tr;for(let y=0;y<d.right-d.left;y++)u.push(f?{...l,colwidth:f&&f[y]?[f[y]]:null}:l);let v;for(let y=d.top;y<d.bottom;y++){let _=d.map.positionAt(y,d.left,d.table);y==d.top&&(_+=o.nodeSize);for(let C=d.left,x=0;C<d.right;C++,x++)C==d.left&&y==d.top||m.insert(v=m.mapping.map(_+d.tableStart,1),t({node:o,row:y,col:C}).createAndFill(u[x]))}m.setNodeMarkup(s,t({node:o,row:d.top,col:d.left}),u[0]),i instanceof Nt&&m.setSelection(new Nt(m.doc.resolve(i.$anchorCell.pos),v?m.doc.resolve(v):void 0)),n(m)}return!0}}function VJ(t,e){return function(n,r){if(!Gi(n))return!1;const i=ev(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const o=n.tr;n.selection instanceof Nt?n.selection.forEachCell((s,l)=>{s.attrs[t]!==e&&o.setNodeMarkup(l,null,{...s.attrs,[t]:e})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(o)}return!0}}function jJ(t){return function(e,n){if(!Gi(e))return!1;if(n){const r=vr(e.schema),i=ko(e),o=e.tr,s=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),l=s.map(u=>i.table.nodeAt(u));for(let u=0;u<s.length;u++)l[u].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[u],r.cell,l[u].attrs);if(o.steps.length==0)for(let u=0;u<s.length;u++)o.setNodeMarkup(i.tableStart+s[u],r.header_cell,l[u].attrs);n(o)}return!0}}function _T(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const o=e.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function ud(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?jJ(t):function(n,r){if(!Gi(n))return!1;if(r){const i=vr(n.schema),o=ko(n),s=n.tr,l=_T("row",o,i),u=_T("column",o,i),d=(t==="column"?l:t==="row"?u:!1)?1:0,m=t=="column"?{left:0,top:d,right:1,bottom:o.map.height}:t=="row"?{left:d,top:0,right:o.map.width,bottom:1}:o,v=t=="column"?u?i.cell:i.header_cell:t=="row"?l?i.cell:i.header_cell:i.cell;o.map.cellsInRect(m).forEach(y=>{const _=y+o.tableStart,C=s.doc.nodeAt(_);C&&s.setNodeMarkup(_,v,C.attrs)}),r(s)}return!0}}ud("row",{useDeprecatedLogic:!0});ud("column",{useDeprecatedLogic:!0});var WJ=ud("cell",{useDeprecatedLogic:!0});function UJ(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const o=t.node(-1).child(r),s=o.lastChild;if(s)return i-1-s.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function wT(t){return function(e,n){if(!Gi(e))return!1;const r=UJ(ev(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(st.between(i,iJ(i))).scrollIntoView())}return!0}}function qJ(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function KJ({allowTableNodeSelection:t=!1}={}){return new on({key:Vs,state:{init(){return null},apply(e,n){const r=e.getMeta(Vs);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:o}=e.mapping.mapResult(n);return i?null:o}},props:{decorations:sJ,handleDOMEvents:{mousedown:bJ},createSelectionBetween(e){return Vs.getState(e.state)!=null?e.state.selection:null},handleTripleClick:vJ,handleKeyDown:gJ,handlePaste:yJ},appendTransaction(e,n,r){return uJ(r,pL(r,n),t)}})}function kT(t,e,n,r,i,o){let s=0,l=!0,u=e.firstChild;const f=t.firstChild;for(let d=0,m=0;d<f.childCount;d+=1){const{colspan:v,colwidth:y}=f.child(d).attrs;for(let _=0;_<v;_+=1,m+=1){const C=i===m?o:y&&y[_],x=C?`${C}px`:"";s+=C||r,C||(l=!1),u?(u.style.width!==x&&(u.style.width=x),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=x}}for(;u;){const d=u.nextSibling;u.parentNode.removeChild(u),u=d}l?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class GJ{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),kT(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,kT(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function YJ(t,e,n,r){let i=0,o=!0;const s=[],l=t.firstChild;if(!l)return{};for(let m=0,v=0;m<l.childCount;m+=1){const{colspan:y,colwidth:_}=l.child(m).attrs;for(let C=0;C<y;C+=1,v+=1){const x=n===v?r:_&&_[C],k=x?`${x}px`:"";i+=x||e,x||(o=!1),s.push(["col",k?{style:`width: ${k}`}:{}])}}const u=o?`${i}px`:"",f=o?"":`${i}px`;return{colgroup:["colgroup",{},...s],tableWidth:u,tableMinWidth:f}}function xT(t,e){return e?t.createChecked(null,e):t.createAndFill()}function JJ(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function XJ(t,e,n,r,i){const o=JJ(t),s=[],l=[];for(let f=0;f<n;f+=1){const d=xT(o.cell,i);if(d&&l.push(d),r){const m=xT(o.header_cell,i);m&&s.push(m)}}const u=[];for(let f=0;f<e;f+=1)u.push(o.row.createChecked(null,r&&f===0?s:l));return o.table.createChecked(null,u)}function ZJ(t){return t instanceof Nt}const Xh=({editor:t})=>{const{selection:e}=t.state;if(!ZJ(e))return!1;let n=0;const r=iw(e.ranges[0].$from,o=>o.type.name==="table");return r==null||r.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},QJ=_n.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:GJ,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=YJ(t,this.options.cellMinWidth);return["table",zt(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`minWidth: ${i}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:o})=>{const s=XJ(o.schema,t,e,n);if(i){const l=r.selection.anchor+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(st.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>LJ(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>NJ(t,e),deleteColumn:()=>({state:t,dispatch:e})=>PJ(t,e),addRowBefore:()=>({state:t,dispatch:e})=>RJ(t,e),addRowAfter:()=>({state:t,dispatch:e})=>zJ(t,e),deleteRow:()=>({state:t,dispatch:e})=>$J(t,e),deleteTable:()=>({state:t,dispatch:e})=>qJ(t,e),mergeCells:()=>({state:t,dispatch:e})=>yT(t,e),splitCell:()=>({state:t,dispatch:e})=>bT(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>ud("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>ud("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>WJ(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>yT(t,e)?!0:bT(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>VJ(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>wT(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>wT(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&pL(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Nt.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Xh,"Mod-Backspace":Xh,Delete:Xh,"Mod-Delete":Xh}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[wJ({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],KJ({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:wt(Ye(t,"tableRole",e))}}}),eX=_n.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",zt(this.options.HTMLAttributes,t),0]}}),tX=_n.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",zt(this.options.HTMLAttributes,t),0]}}),nX=_n.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",zt(this.options.HTMLAttributes,t),0]}}),rX=_n.create({name:"text",group:"inline"});function iX(t={}){return new on({view(e){return new oX(e,t)}})}class oX{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,u=e.nodeAfter;if(l||u){let f=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(f){let d=f.getBoundingClientRect(),m=l?d.bottom:d.top;l&&u&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:d.left,right:d.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let l=i.getBoundingClientRect();o=l.left-i.scrollLeft,s=l.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=X6(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const sX=ir.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[iX(this.options)]}});ir.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new on({key:new xn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!n||!r)return tn.create(t,[]);let s=0;this.options.mode==="deepest"&&t.descendants((u,f)=>{if(u.isText)return;if(!(i>=f&&i<=f+u.nodeSize-1))return!1;s+=1});let l=0;return t.descendants((u,f)=>{if(u.isText||!(i>=f&&i<=f+u.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&s-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";o.push(hr.node(f,f+u.nodeSize,{class:this.options.className}))}),tn.create(t,o)}}})]}});class fn extends ht{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return fn.valid(r)?new fn(r):ht.near(r)}content(){return He.empty}eq(e){return e instanceof fn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new fn(e.resolve(n.pos))}getBookmark(){return new fw(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!aX(e)||!lX(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&fn.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){o=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let u=e.doc.resolve(i);if(fn.valid(u))return u}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!it.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let l=e.doc.resolve(i);if(fn.valid(l))return l}return null}}}fn.prototype.visible=!1;fn.findFrom=fn.findGapCursorFrom;ht.jsonID("gapcursor",fn);class fw{constructor(e){this.pos=e}map(e){return new fw(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return fn.valid(n)?new fn(n):ht.near(n)}}function aX(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function lX(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function uX(){return new on({props:{decorations:hX,createSelectionBetween(t,e,n){return e.pos==n.pos&&fn.valid(n)?new fn(n):null},handleClick:fX,handleKeyDown:cX,handleDOMEvents:{beforeinput:dX}}})}const cX=G_({ArrowLeft:Zh("horiz",-1),ArrowRight:Zh("horiz",1),ArrowUp:Zh("vert",-1),ArrowDown:Zh("vert",1)});function Zh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,l=e>0?s.$to:s.$from,u=s.empty;if(s instanceof st){if(!o.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let f=fn.findGapCursorFrom(l,e,u);return f?(i&&i(r.tr.setSelection(new fn(f))),!0):!1}}function fX(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!fn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&it.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new fn(r))),!0)}function dX(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof fn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Oe.empty;for(let s=r.length-1;s>=0;s--)i=Oe.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new He(i,0,0));return o.setSelection(st.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function hX(t){if(!(t.selection instanceof fn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",tn.create(t.doc,[hr.widget(t.selection.head,e,{key:"gapcursor"})])}const pX=ir.create({name:"gapCursor",addProseMirrorPlugins(){return[uX()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=wt(Ye(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}});var Lm=200,rr=function(){};rr.prototype.append=function(e){return e.length?(e=rr.from(e),!this.length&&e||e.length<Lm&&this.leafAppend(e)||this.length<Lm&&e.leafPrepend(this)||this.appendInner(e)):this};rr.prototype.prepend=function(e){return e.length?rr.from(e).append(this):this};rr.prototype.appendInner=function(e){return new mX(this,e)};rr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?rr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};rr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};rr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};rr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};rr.from=function(e){return e instanceof rr?e:e&&e.length?new bL(e):rr.empty};var bL=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var u=o;u<s;u++)if(i(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var u=o-1;u>=s;u--)if(i(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Lm)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Lm)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(rr);rr.empty=new bL([]);var mX=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(rr),_L=rr;const gX=500;class Di{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,u,f=[],d=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(r,v+1),o=i.maps.length),o--,d.push(m);return}if(i){d.push(new ro(m.map));let y=m.step.map(i.slice(o)),_;y&&s.maybeStep(y).doc&&(_=s.mapping.maps[s.mapping.maps.length-1],f.push(new ro(_,void 0,void 0,f.length+d.length))),o--,_&&i.appendMap(_,o)}else s.maybeStep(m.step);if(m.selection)return l=i?m.selection.map(i.slice(o)):m.selection,u=new Di(this.items.slice(0,r).append(d.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:s,selection:l}}addTransform(e,n,r,i){let o=[],s=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let m=e.steps[d].invert(e.docs[d]),v=new ro(e.mapping.maps[d],m,n),y;(y=u&&u.merge(v))&&(v=y,d?o.pop():l=l.slice(0,l.length-1)),o.push(v),n&&(s++,n=void 0),i||(u=v)}let f=s-r.depth;return f>yX&&(l=vX(l,f),s-=f),new Di(l.append(o),s)}remapping(e,n){let r=new Ou;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new Di(this.items.append(e.map(n=>new ro(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(v=>{v.selection&&l--},i);let u=n;this.items.forEach(v=>{let y=o.getMirror(--u);if(y==null)return;s=Math.min(s,y);let _=o.maps[y];if(v.step){let C=e.steps[y].invert(e.docs[y]),x=v.selection&&v.selection.map(o.slice(u+1,y));x&&l++,r.push(new ro(_,C,x))}else r.push(new ro(_))},i);let f=[];for(let v=n;v<s;v++)f.push(new ro(o.maps[v]));let d=this.items.slice(0,i).append(f).append(r),m=new Di(d,l);return m.emptyItemCount()>gX&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let u=s.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let d=s.selection&&s.selection.map(n.slice(r));d&&o++;let m=new ro(f.invert(),u,d),v,y=i.length-1;(v=i.length&&i[y].merge(m))?i[y]=v:i.push(m)}}else s.map&&r--},this.items.length,0),new Di(_L.from(i.reverse()),o)}}Di.empty=new Di(_L.empty,0);function vX(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ro{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ro(n.getMap().invert(),n,this.selection)}}}class Bs{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const yX=20;function bX(t,e,n,r){let i=n.getMeta(Zs),o;if(i)return i.historyState;n.getMeta(wX)&&(t=new Bs(t.done,t.undone,null,0));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Zs))return s.getMeta(Zs).redo?new Bs(t.done.addTransform(n,void 0,r,Lp(e)),t.undone,ST(n.mapping.maps[n.steps.length-1]),t.prevTime):new Bs(t.done,t.undone.addTransform(n,void 0,r,Lp(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=t.prevTime==0||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!_X(n,t.prevRanges)),u=s?Y0(t.prevRanges,n.mapping):ST(n.mapping.maps[n.steps.length-1]);return new Bs(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Lp(e)),Di.empty,u,n.time)}else return(o=n.getMeta("rebased"))?new Bs(t.done.rebased(n,o),t.undone.rebased(n,o),Y0(t.prevRanges,n.mapping),t.prevTime):new Bs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Y0(t.prevRanges,n.mapping),t.prevTime)}function _X(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function ST(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function Y0(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function wL(t,e,n,r){let i=Lp(e),o=Zs.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let l=s.selection.resolve(s.transform.doc),u=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),f=new Bs(r?u:s.remaining,r?s.remaining:u,null,0);n(s.transform.setSelection(l).setMeta(Zs,{redo:r,historyState:f}).scrollIntoView())}let J0=!1,CT=null;function Lp(t){let e=t.plugins;if(CT!=e){J0=!1,CT=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){J0=!0;break}}return J0}const Zs=new xn("history"),wX=new xn("closeHistory");function kX(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new on({key:Zs,state:{init(){return new Bs(Di.empty,Di.empty,null,0)},apply(e,n,r){return bX(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?kL:r=="historyRedo"?xL:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const kL=(t,e)=>{let n=Zs.getState(t);return!n||n.done.eventCount==0?!1:(e&&wL(n,t,e,!1),!0)},xL=(t,e)=>{let n=Zs.getState(t);return!n||n.undone.eventCount==0?!1:(e&&wL(n,t,e,!0),!0)},xX=ir.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>kL(t,e),redo:()=>({state:t,dispatch:e})=>xL(t,e)}},addProseMirrorPlugins(){return[kX(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),SX=ir.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>t.style.textAlign||this.options.defaultAlignment,renderHTML:t=>t.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${t.textAlign}`}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.every(n=>e.updateAttributes(n,{textAlign:t})):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.every(e=>t.resetAttributes(e,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),CX="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mögensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",TX="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत_म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里_大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Qu=(t,e)=>{for(const n in e)t[n]=e[n];return t},qb="numeric",Kb="ascii",Gb="alpha",Np="asciinumeric",Qh="alphanumeric",Yb="domain",SL="emoji",EX="scheme",AX="slashscheme",TT="whitespace";function OX(t,e){return t in e||(e[t]=[]),e[t]}function qa(t,e,n){e[qb]&&(e[Np]=!0,e[Qh]=!0),e[Kb]&&(e[Np]=!0,e[Gb]=!0),e[Np]&&(e[Qh]=!0),e[Gb]&&(e[Qh]=!0),e[Qh]&&(e[Yb]=!0),e[SL]&&(e[Yb]=!0);for(const r in e){const i=OX(r,n);i.indexOf(t)<0&&i.push(t)}}function MX(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function zr(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}zr.groups={};zr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||zr.groups;let i;return e&&e.j?i=e:(i=new zr(e),n&&r&&qa(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(t[s]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||zr.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let s,l=i.go(t);if(l?(s=new zr,Qu(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new zr,o){if(r)if(s.t&&typeof s.t=="string"){const u=Qu(MX(s.t,r),n);qa(o,u,r)}else n&&qa(o,n,r);s.t=o}return i.j[t]=s,s}};const rt=(t,e,n,r,i)=>t.ta(e,n,r,i),hi=(t,e,n,r,i)=>t.tr(e,n,r,i),ET=(t,e,n,r,i)=>t.ts(e,n,r,i),Pe=(t,e,n,r,i)=>t.tt(e,n,r,i),Do="WORD",Jb="UWORD",cd="LOCALHOST",Xb="TLD",Zb="UTLD",Ip="SCHEME",cu="SLASH_SCHEME",Nm="NUM",CL="WS",dw="NL",pu="OPENBRACE",Cf="OPENBRACKET",Tf="OPENANGLEBRACKET",Ef="OPENPAREN",$a="CLOSEBRACE",mu="CLOSEBRACKET",gu="CLOSEANGLEBRACKET",Ha="CLOSEPAREN",Im="AMPERSAND",Pm="APOSTROPHE",Dm="ASTERISK",$s="AT",Rm="BACKSLASH",zm="BACKTICK",Bm="CARET",js="COLON",hw="COMMA",$m="DOLLAR",io="DOT",Hm="EQUALS",pw="EXCLAMATION",oo="HYPHEN",Fm="PERCENT",Vm="PIPE",jm="PLUS",Wm="POUND",Um="QUERY",mw="QUOTE",gw="SEMI",zo="SLASH",Af="TILDE",qm="UNDERSCORE",TL="EMOJI",Km="SYM";var EL=Object.freeze({__proto__:null,WORD:Do,UWORD:Jb,LOCALHOST:cd,TLD:Xb,UTLD:Zb,SCHEME:Ip,SLASH_SCHEME:cu,NUM:Nm,WS:CL,NL:dw,OPENBRACE:pu,OPENBRACKET:Cf,OPENANGLEBRACKET:Tf,OPENPAREN:Ef,CLOSEBRACE:$a,CLOSEBRACKET:mu,CLOSEANGLEBRACKET:gu,CLOSEPAREN:Ha,AMPERSAND:Im,APOSTROPHE:Pm,ASTERISK:Dm,AT:$s,BACKSLASH:Rm,BACKTICK:zm,CARET:Bm,COLON:js,COMMA:hw,DOLLAR:$m,DOT:io,EQUALS:Hm,EXCLAMATION:pw,HYPHEN:oo,PERCENT:Fm,PIPE:Vm,PLUS:jm,POUND:Wm,QUERY:Um,QUOTE:mw,SEMI:gw,SLASH:zo,TILDE:Af,UNDERSCORE:qm,EMOJI:TL,SYM:Km});const iu=/[a-z]/,X0=/\p{L}/u,Z0=/\p{Emoji}/u,Q0=/\d/,AT=/\s/,OT=`
`,LX="️",NX="‍";let ep=null,tp=null;function IX(t){t===void 0&&(t=[]);const e={};zr.groups=e;const n=new zr;ep==null&&(ep=MT(CX)),tp==null&&(tp=MT(TX)),Pe(n,"'",Pm),Pe(n,"{",pu),Pe(n,"[",Cf),Pe(n,"<",Tf),Pe(n,"(",Ef),Pe(n,"}",$a),Pe(n,"]",mu),Pe(n,">",gu),Pe(n,")",Ha),Pe(n,"&",Im),Pe(n,"*",Dm),Pe(n,"@",$s),Pe(n,"`",zm),Pe(n,"^",Bm),Pe(n,":",js),Pe(n,",",hw),Pe(n,"$",$m),Pe(n,".",io),Pe(n,"=",Hm),Pe(n,"!",pw),Pe(n,"-",oo),Pe(n,"%",Fm),Pe(n,"|",Vm),Pe(n,"+",jm),Pe(n,"#",Wm),Pe(n,"?",Um),Pe(n,'"',mw),Pe(n,"/",zo),Pe(n,";",gw),Pe(n,"~",Af),Pe(n,"_",qm),Pe(n,"\\",Rm);const r=hi(n,Q0,Nm,{[qb]:!0});hi(r,Q0,r);const i=hi(n,iu,Do,{[Kb]:!0});hi(i,iu,i);const o=hi(n,X0,Jb,{[Gb]:!0});hi(o,iu),hi(o,X0,o);const s=hi(n,AT,CL,{[TT]:!0});Pe(n,OT,dw,{[TT]:!0}),Pe(s,OT),hi(s,AT,s);const l=hi(n,Z0,TL,{[SL]:!0});hi(l,Z0,l),Pe(l,LX,l);const u=Pe(l,NX);hi(u,Z0,l);const f=[[iu,i]],d=[[iu,null],[X0,o]];for(let m=0;m<ep.length;m++)Es(n,ep[m],Xb,Do,f);for(let m=0;m<tp.length;m++)Es(n,tp[m],Zb,Jb,d);qa(Xb,{tld:!0,ascii:!0},e),qa(Zb,{utld:!0,alpha:!0},e),Es(n,"file",Ip,Do,f),Es(n,"mailto",Ip,Do,f),Es(n,"http",cu,Do,f),Es(n,"https",cu,Do,f),Es(n,"ftp",cu,Do,f),Es(n,"ftps",cu,Do,f),qa(Ip,{scheme:!0,ascii:!0},e),qa(cu,{slashscheme:!0,ascii:!0},e),t=t.sort((m,v)=>m[0]>v[0]?1:-1);for(let m=0;m<t.length;m++){const v=t[m][0],_=t[m][1]?{[EX]:!0}:{[AX]:!0};v.indexOf("-")>=0?_[Yb]=!0:iu.test(v)?Q0.test(v)?_[Np]=!0:_[Kb]=!0:_[qb]=!0,ET(n,v,v,_)}return ET(n,"localhost",cd,{ascii:!0}),n.jd=new zr(Km),{start:n,tokens:Qu({groups:e},EL)}}function PX(t,e){const n=DX(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let l=t,u=null,f=0,d=null,m=-1,v=-1;for(;s<r&&(u=l.go(n[s]));)l=u,l.accepts()?(m=0,v=0,d=l):m>=0&&(m+=n[s].length,v++),f+=n[s].length,o+=n[s].length,s++;o-=m,s-=v,f-=m,i.push({t:d.t,v:e.slice(o-f,o),s:o-f,e:o})}return i}function DX(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function Es(t,e,n,r,i){let o;const s=e.length;for(let l=0;l<s-1;l++){const u=e[l];t.j[u]?o=t.j[u]:(o=new zr(r),o.jr=i.slice(),t.j[u]=o),t=o}return o=new zr(n),o.jr=i.slice(),t.j[e[s-1]]=o,o}function MT(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));let s=parseInt(t.substring(r,r+o),10);for(;s>0;s--)n.pop();r+=o}else t[r]==="_"?(e.push(n.join("")),r++):(n.push(t[r]),r++)}return e}const fd={defaultProtocol:"http",events:null,format:LT,formatHref:LT,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function vw(t,e){e===void 0&&(e=null);let n=Qu({},fd);t&&(n=Qu(n,t instanceof vw?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}vw.prototype={o:fd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:fd[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function LT(t){return t}function AL(t,e){this.t="token",this.v=t,this.tk=e}AL.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=fd.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toFormattedHref(t),r=t.get("tagName",n,e),i=this.toFormattedString(t),o={},s=t.get("className",n,e),l=t.get("target",n,e),u=t.get("rel",n,e),f=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=n,s&&(o.class=s),l&&(o.target=l),u&&(o.rel=u),f&&Qu(o,f),{tagName:r,attributes:o,content:i,eventListeners:d}}};function tv(t,e){class n extends AL{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const NT=tv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),IT=tv("text"),RX=tv("nl"),La=tv("url",{isLink:!0,toHref(t){return t===void 0&&(t=fd.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==cd&&t[1].t===js}}),Wn=t=>new zr(t);function zX(t){let{groups:e}=t;const n=e.domain.concat([Im,Dm,$s,Rm,zm,Bm,$m,Hm,oo,Nm,Fm,Vm,jm,Wm,zo,Km,Af,qm]),r=[Pm,gu,$a,mu,Ha,js,hw,io,pw,Tf,pu,Cf,Ef,Um,mw,gw],i=[Im,Pm,Dm,Rm,zm,Bm,$a,$m,Hm,oo,Nm,pu,Fm,Vm,jm,Wm,Um,zo,Km,Af,qm],o=Wn(),s=Pe(o,Af);rt(s,i,s),rt(s,e.domain,s);const l=Wn(),u=Wn(),f=Wn();rt(o,e.domain,l),rt(o,e.scheme,u),rt(o,e.slashscheme,f),rt(l,i,s),rt(l,e.domain,l);const d=Pe(l,$s);Pe(s,$s,d),Pe(u,$s,d),Pe(f,$s,d);const m=Pe(s,io);rt(m,i,s),rt(m,e.domain,s);const v=Wn();rt(d,e.domain,v),rt(v,e.domain,v);const y=Pe(v,io);rt(y,e.domain,v);const _=Wn(NT);rt(y,e.tld,_),rt(y,e.utld,_),Pe(d,cd,_);const C=Pe(v,oo);rt(C,e.domain,v),rt(_,e.domain,v),Pe(_,io,y),Pe(_,oo,C);const x=Pe(_,js);rt(x,e.numeric,NT);const k=Pe(l,oo),A=Pe(l,io);rt(k,e.domain,l),rt(A,i,s),rt(A,e.domain,l);const N=Wn(La);rt(A,e.tld,N),rt(A,e.utld,N),rt(N,e.domain,l),rt(N,i,s),Pe(N,io,A),Pe(N,oo,k),Pe(N,$s,d);const E=Pe(N,js),H=Wn(La);rt(E,e.numeric,H);const I=Wn(La),q=Wn();rt(I,n,I),rt(I,r,q),rt(q,n,I),rt(q,r,q),Pe(N,zo,I),Pe(H,zo,I);const P=Pe(u,js),z=Pe(f,js),w=Pe(z,zo);Pe(w,zo,P),rt(u,e.domain,l),Pe(u,io,A),Pe(u,oo,k),rt(f,e.domain,l),Pe(f,io,A),Pe(f,oo,k),rt(P,e.domain,I),Pe(P,zo,I);const R=Pe(I,pu),U=Pe(I,Cf),K=Pe(I,Tf),oe=Pe(I,Ef);Pe(q,pu,R),Pe(q,Cf,U),Pe(q,Tf,K),Pe(q,Ef,oe),Pe(R,$a,I),Pe(U,mu,I),Pe(K,gu,I),Pe(oe,Ha,I),Pe(R,$a,I);const D=Wn(La),ae=Wn(La),ce=Wn(La),ve=Wn(La);rt(R,n,D),rt(U,n,ae),rt(K,n,ce),rt(oe,n,ve);const ze=Wn(),qe=Wn(),vt=Wn(),mt=Wn();return rt(R,r),rt(U,r),rt(K,r),rt(oe,r),rt(D,n,D),rt(ae,n,ae),rt(ce,n,ce),rt(ve,n,ve),rt(D,r,D),rt(ae,r,ae),rt(ce,r,ce),rt(ve,r,ve),rt(ze,n,ze),rt(qe,n,ae),rt(vt,n,ce),rt(mt,n,ve),rt(ze,r,ze),rt(qe,r,qe),rt(vt,r,vt),rt(mt,r,mt),Pe(ae,mu,I),Pe(ce,gu,I),Pe(ve,Ha,I),Pe(D,$a,I),Pe(qe,mu,I),Pe(vt,gu,I),Pe(mt,Ha,I),Pe(ze,Ha,I),Pe(o,cd,N),Pe(o,dw,RX),{start:o,tokens:EL}}function BX(t,e,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let l=t,u=null,f=null,d=0,m=null,v=-1;for(;i<r&&!(u=l.go(n[i].t));)s.push(n[i++]);for(;i<r&&(f=u||l.go(n[i].t));)u=null,l=f,l.accepts()?(v=0,m=l):v>=0&&v++,i++,d++;if(v<0)i-=d,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(ey(IT,e,s)),s=[]),i-=v,d-=v;const y=m.t,_=n.slice(i-d,i);o.push(ey(y,e,_))}}return s.length>0&&o.push(ey(IT,e,s)),o}function ey(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const $X=typeof console<"u"&&console&&console.warn||(()=>{}),HX="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",cn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function FX(){zr.groups={},cn.scanner=null,cn.parser=null,cn.tokenQueue=[],cn.pluginQueue=[],cn.customSchemes=[],cn.initialized=!1}function PT(t,e){if(e===void 0&&(e=!1),cn.initialized&&$X(`linkifyjs: already initialized - will not register custom scheme "${t}" ${HX}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);cn.customSchemes.push([t,e])}function VX(){cn.scanner=IX(cn.customSchemes);for(let t=0;t<cn.tokenQueue.length;t++)cn.tokenQueue[t][1]({scanner:cn.scanner});cn.parser=zX(cn.scanner.tokens);for(let t=0;t<cn.pluginQueue.length;t++)cn.pluginQueue[t][1]({scanner:cn.scanner,parser:cn.parser});cn.initialized=!0}function jX(t){return cn.initialized||VX(),BX(cn.parser.start,t,PX(cn.scanner.start,t))}function yw(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new vw(n),i=jX(t),o=[];for(let s=0;s<i.length;s++){const l=i[s];l.isLink&&(!e||l.t===e)&&o.push(l.toFormattedObject(r))}return o}function WX(t){return new on({key:new xn("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),o=e.some(f=>f.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,l=X4(n.doc,[...e]);if(nL(l).forEach(({newRange:f})=>{const d=Q4(r.doc,f,y=>y.isTextblock);let m,v;if(d.length>1?(m=d[0],v=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ")):d.length&&r.doc.textBetween(f.from,f.to," "," ").endsWith(" ")&&(m=d[0],v=r.doc.textBetween(m.pos,f.to,void 0," ")),m&&v){const y=v.split(" ").filter(x=>x!=="");if(y.length<=0)return!1;const _=y[y.length-1],C=m.pos+v.lastIndexOf(_);if(!_)return!1;yw(_).filter(x=>x.isLink).map(x=>({...x,from:C+x.start+1,to:C+x.end+1})).filter(x=>r.schema.marks.code?!r.doc.rangeHasMark(x.from,x.to,r.schema.marks.code):!0).filter(x=>t.validate?t.validate(x.value):!0).forEach(x=>{Qg(x.from,x.to,r.doc).some(k=>k.mark.type===t.type)||s.addMark(x.from,x.to,t.type.create({href:x.href}))})}}),!!s.steps.length)return s}})}function UX(t){return new on({key:new xn("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,o;if(r.button!==0)return!1;let s=r.target;const l=[];for(;s.nodeName!=="DIV";)l.push(s),s=s.parentNode;if(!l.find(v=>v.nodeName==="A"))return!1;const u=aw(e.state,t.type.name),f=r.target,d=(i=f==null?void 0:f.href)!==null&&i!==void 0?i:u.href,m=(o=f==null?void 0:f.target)!==null&&o!==void 0?o:u.target;return f&&d?(window.open(d,m),!0):!1}}})}function qX(t){return new on({key:new xn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:o}=i,{empty:s}=o;if(s)return!1;let l="";r.content.forEach(f=>{l+=f.textContent});const u=yw(l).find(f=>f.isLink&&f.value===l);return!l||!u?!1:(t.editor.commands.setMark(t.type,{href:u.href}),!0)}}})}const KX=or.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){PT(t);return}PT(t.scheme,t.optionalSlashes)})},onDestroy(){FX()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){var e;return!((e=t.href)===null||e===void 0)&&e.startsWith("javascript:")?["a",zt(this.options.HTMLAttributes,{...t,href:""}),0]:["a",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Yo({find:(t,e)=>{var n;const r=(n=e==null?void 0:e.clipboardData)===null||n===void 0?void 0:n.getData("text/html"),i=[];if(r){const o=new DOMParser().parseFromString(r,"text/html"),s=o.querySelectorAll("a");s.length&&[...s].forEach(l=>i.push({text:l.innerText,data:{href:l.getAttribute("href")},index:o.body.innerText.indexOf(l.innerText)+l.innerText.length}))}if(t){const o=yw(t).filter(s=>s.isLink);o.length&&o.forEach(s=>i.push({text:s.value,data:{href:s.href},index:s.start}))}return i},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(WX({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(UX({type:this.type})),this.options.linkOnPaste&&t.push(qX({editor:this.editor,type:this.type})),t}}),GX=KX.extend({addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),class:{default:null},title:{default:null}}},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),HTMLAttributes:{target:null,rel:null,class:null,title:null}}},renderHTML({HTMLAttributes:t}){const e=zt(this.options.HTMLAttributes,t);return e.target==="_blank"&&(e.rel="noopener noreferrer"),["a",e,0]},addProseMirrorPlugins(){return[new on({key:new xn("handleClick"),props:{handleClick:(t,e,n)=>{this.editor.getAttributes("link").href&&setTimeout(()=>{this.editor.emit("vui:link-clicked")},50)}}})]}}),YX=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,JX=_n.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",zt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[uw({find:YX,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),XX=JX.extend({addAttributes(){return{id:{default:null},src:{default:null},alt:{default:null},title:{default:null},url:{default:null},target:{default:null},transform:{default:null}}},renderHTML({HTMLAttributes:t}){const e={class:"vui-editor-img-wrap",tabindex:"-1"},n={src:t.src,title:t.title,alt:t.alt},r={url:t.url,target:t.target};return t.url?["figure",e,["a",r,["img",n]]]:["figure",e,["img",n]]},addProseMirrorPlugins(){return[new on({key:new xn("handleClick"),props:{handleClick:(t,e,n)=>{this.editor.getAttributes("image").src&&setTimeout(()=>{this.editor.emit("vui:image-clicked",n)},50)}}})]}});var Vr="top",ki="bottom",xi="right",jr="left",bw="auto",Bd=[Vr,ki,xi,jr],ec="start",dd="end",ZX="clippingParents",OL="viewport",Yc="popper",QX="reference",DT=Bd.reduce(function(t,e){return t.concat([e+"-"+ec,e+"-"+dd])},[]),ML=[].concat(Bd,[bw]).reduce(function(t,e){return t.concat([e,e+"-"+ec,e+"-"+dd])},[]),eZ="beforeRead",tZ="read",nZ="afterRead",rZ="beforeMain",iZ="main",oZ="afterMain",sZ="beforeWrite",aZ="write",lZ="afterWrite",uZ=[eZ,tZ,nZ,rZ,iZ,oZ,sZ,aZ,lZ];function wo(t){return t?(t.nodeName||"").toLowerCase():null}function Si(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function kl(t){var e=Si(t).Element;return t instanceof e||t instanceof Element}function _i(t){var e=Si(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function _w(t){if(typeof ShadowRoot>"u")return!1;var e=Si(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function cZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!_i(o)||!wo(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var l=i[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function fZ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=s.reduce(function(u,f){return u[f]="",u},{});!_i(i)||!wo(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}const LL={name:"applyStyles",enabled:!0,phase:"write",fn:cZ,effect:fZ,requires:["computeStyles"]};function vo(t){return t.split("-")[0]}var al=Math.max,Gm=Math.min,tc=Math.round;function Qb(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function NL(){return!/^((?!chrome|android).)*safari/i.test(Qb())}function nc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&_i(t)&&(i=t.offsetWidth>0&&tc(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&tc(r.height)/t.offsetHeight||1);var s=kl(t)?Si(t):window,l=s.visualViewport,u=!NL()&&n,f=(r.left+(u&&l?l.offsetLeft:0))/i,d=(r.top+(u&&l?l.offsetTop:0))/o,m=r.width/i,v=r.height/o;return{width:m,height:v,top:d,right:f+m,bottom:d+v,left:f,x:f,y:d}}function ww(t){var e=nc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function IL(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&_w(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Jo(t){return Si(t).getComputedStyle(t)}function dZ(t){return["table","td","th"].indexOf(wo(t))>=0}function ga(t){return((kl(t)?t.ownerDocument:t.document)||window.document).documentElement}function nv(t){return wo(t)==="html"?t:t.assignedSlot||t.parentNode||(_w(t)?t.host:null)||ga(t)}function RT(t){return!_i(t)||Jo(t).position==="fixed"?null:t.offsetParent}function hZ(t){var e=/firefox/i.test(Qb()),n=/Trident/i.test(Qb());if(n&&_i(t)){var r=Jo(t);if(r.position==="fixed")return null}var i=nv(t);for(_w(i)&&(i=i.host);_i(i)&&["html","body"].indexOf(wo(i))<0;){var o=Jo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function $d(t){for(var e=Si(t),n=RT(t);n&&dZ(n)&&Jo(n).position==="static";)n=RT(n);return n&&(wo(n)==="html"||wo(n)==="body"&&Jo(n).position==="static")?e:n||hZ(t)||e}function kw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Of(t,e,n){return al(t,Gm(e,n))}function pZ(t,e,n){var r=Of(t,e,n);return r>n?n:r}function PL(){return{top:0,right:0,bottom:0,left:0}}function DL(t){return Object.assign({},PL(),t)}function RL(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var mZ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,DL(typeof e!="number"?e:RL(e,Bd))};function gZ(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=vo(n.placement),u=kw(l),f=[jr,xi].indexOf(l)>=0,d=f?"height":"width";if(!(!o||!s)){var m=mZ(i.padding,n),v=ww(o),y=u==="y"?Vr:jr,_=u==="y"?ki:xi,C=n.rects.reference[d]+n.rects.reference[u]-s[u]-n.rects.popper[d],x=s[u]-n.rects.reference[u],k=$d(o),A=k?u==="y"?k.clientHeight||0:k.clientWidth||0:0,N=C/2-x/2,E=m[y],H=A-v[d]-m[_],I=A/2-v[d]/2+N,q=Of(E,I,H),P=u;n.modifiersData[r]=(e={},e[P]=q,e.centerOffset=q-I,e)}}function vZ(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||IL(e.elements.popper,i)&&(e.elements.arrow=i))}const yZ={name:"arrow",enabled:!0,phase:"main",fn:gZ,effect:vZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rc(t){return t.split("-")[1]}var bZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _Z(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:tc(e*i)/i||0,y:tc(n*i)/i||0}}function zT(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,l=t.position,u=t.gpuAcceleration,f=t.adaptive,d=t.roundOffsets,m=t.isFixed,v=s.x,y=v===void 0?0:v,_=s.y,C=_===void 0?0:_,x=typeof d=="function"?d({x:y,y:C}):{x:y,y:C};y=x.x,C=x.y;var k=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),N=jr,E=Vr,H=window;if(f){var I=$d(n),q="clientHeight",P="clientWidth";if(I===Si(n)&&(I=ga(n),Jo(I).position!=="static"&&l==="absolute"&&(q="scrollHeight",P="scrollWidth")),I=I,i===Vr||(i===jr||i===xi)&&o===dd){E=ki;var z=m&&I===H&&H.visualViewport?H.visualViewport.height:I[q];C-=z-r.height,C*=u?1:-1}if(i===jr||(i===Vr||i===ki)&&o===dd){N=xi;var w=m&&I===H&&H.visualViewport?H.visualViewport.width:I[P];y-=w-r.width,y*=u?1:-1}}var R=Object.assign({position:l},f&&bZ),U=d===!0?_Z({x:y,y:C}):{x:y,y:C};if(y=U.x,C=U.y,u){var K;return Object.assign({},R,(K={},K[E]=A?"0":"",K[N]=k?"0":"",K.transform=(H.devicePixelRatio||1)<=1?"translate("+y+"px, "+C+"px)":"translate3d("+y+"px, "+C+"px, 0)",K))}return Object.assign({},R,(e={},e[E]=A?C+"px":"",e[N]=k?y+"px":"",e.transform="",e))}function wZ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,u=l===void 0?!0:l,f={placement:vo(e.placement),variation:rc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zT(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zT(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const kZ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wZ,data:{}};var np={passive:!0};function xZ(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,u=Si(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(d){d.addEventListener("scroll",n.update,np)}),l&&u.addEventListener("resize",n.update,np),function(){o&&f.forEach(function(d){d.removeEventListener("scroll",n.update,np)}),l&&u.removeEventListener("resize",n.update,np)}}const SZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xZ,data:{}};var CZ={left:"right",right:"left",bottom:"top",top:"bottom"};function Pp(t){return t.replace(/left|right|bottom|top/g,function(e){return CZ[e]})}var TZ={start:"end",end:"start"};function BT(t){return t.replace(/start|end/g,function(e){return TZ[e]})}function xw(t){var e=Si(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Sw(t){return nc(ga(t)).left+xw(t).scrollLeft}function EZ(t,e){var n=Si(t),r=ga(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){o=i.width,s=i.height;var f=NL();(f||!f&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:l+Sw(t),y:u}}function AZ(t){var e,n=ga(t),r=xw(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=al(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=al(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+Sw(t),u=-r.scrollTop;return Jo(i||n).direction==="rtl"&&(l+=al(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function Cw(t){var e=Jo(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function zL(t){return["html","body","#document"].indexOf(wo(t))>=0?t.ownerDocument.body:_i(t)&&Cw(t)?t:zL(nv(t))}function Mf(t,e){var n;e===void 0&&(e=[]);var r=zL(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Si(r),s=i?[o].concat(o.visualViewport||[],Cw(r)?r:[]):r,l=e.concat(s);return i?l:l.concat(Mf(nv(s)))}function e1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function OZ(t,e){var n=nc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function $T(t,e,n){return e===OL?e1(EZ(t,n)):kl(e)?OZ(e,n):e1(AZ(ga(t)))}function MZ(t){var e=Mf(nv(t)),n=["absolute","fixed"].indexOf(Jo(t).position)>=0,r=n&&_i(t)?$d(t):t;return kl(r)?e.filter(function(i){return kl(i)&&IL(i,r)&&wo(i)!=="body"}):[]}function LZ(t,e,n,r){var i=e==="clippingParents"?MZ(t):[].concat(e),o=[].concat(i,[n]),s=o[0],l=o.reduce(function(u,f){var d=$T(t,f,r);return u.top=al(d.top,u.top),u.right=Gm(d.right,u.right),u.bottom=Gm(d.bottom,u.bottom),u.left=al(d.left,u.left),u},$T(t,s,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function BL(t){var e=t.reference,n=t.element,r=t.placement,i=r?vo(r):null,o=r?rc(r):null,s=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(i){case Vr:u={x:s,y:e.y-n.height};break;case ki:u={x:s,y:e.y+e.height};break;case xi:u={x:e.x+e.width,y:l};break;case jr:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var f=i?kw(i):null;if(f!=null){var d=f==="y"?"height":"width";switch(o){case ec:u[f]=u[f]-(e[d]/2-n[d]/2);break;case dd:u[f]=u[f]+(e[d]/2-n[d]/2);break}}return u}function hd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,l=n.boundary,u=l===void 0?ZX:l,f=n.rootBoundary,d=f===void 0?OL:f,m=n.elementContext,v=m===void 0?Yc:m,y=n.altBoundary,_=y===void 0?!1:y,C=n.padding,x=C===void 0?0:C,k=DL(typeof x!="number"?x:RL(x,Bd)),A=v===Yc?QX:Yc,N=t.rects.popper,E=t.elements[_?A:v],H=LZ(kl(E)?E:E.contextElement||ga(t.elements.popper),u,d,s),I=nc(t.elements.reference),q=BL({reference:I,element:N,strategy:"absolute",placement:i}),P=e1(Object.assign({},N,q)),z=v===Yc?P:I,w={top:H.top-z.top+k.top,bottom:z.bottom-H.bottom+k.bottom,left:H.left-z.left+k.left,right:z.right-H.right+k.right},R=t.modifiersData.offset;if(v===Yc&&R){var U=R[i];Object.keys(w).forEach(function(K){var oe=[xi,ki].indexOf(K)>=0?1:-1,D=[Vr,ki].indexOf(K)>=0?"y":"x";w[K]+=U[D]*oe})}return w}function NZ(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,f=u===void 0?ML:u,d=rc(r),m=d?l?DT:DT.filter(function(_){return rc(_)===d}):Bd,v=m.filter(function(_){return f.indexOf(_)>=0});v.length===0&&(v=m);var y=v.reduce(function(_,C){return _[C]=hd(t,{placement:C,boundary:i,rootBoundary:o,padding:s})[vo(C)],_},{});return Object.keys(y).sort(function(_,C){return y[_]-y[C]})}function IZ(t){if(vo(t)===bw)return[];var e=Pp(t);return[BT(t),e,BT(e)]}function PZ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,u=n.fallbackPlacements,f=n.padding,d=n.boundary,m=n.rootBoundary,v=n.altBoundary,y=n.flipVariations,_=y===void 0?!0:y,C=n.allowedAutoPlacements,x=e.options.placement,k=vo(x),A=k===x,N=u||(A||!_?[Pp(x)]:IZ(x)),E=[x].concat(N).reduce(function(yt,Xe){return yt.concat(vo(Xe)===bw?NZ(e,{placement:Xe,boundary:d,rootBoundary:m,padding:f,flipVariations:_,allowedAutoPlacements:C}):Xe)},[]),H=e.rects.reference,I=e.rects.popper,q=new Map,P=!0,z=E[0],w=0;w<E.length;w++){var R=E[w],U=vo(R),K=rc(R)===ec,oe=[Vr,ki].indexOf(U)>=0,D=oe?"width":"height",ae=hd(e,{placement:R,boundary:d,rootBoundary:m,altBoundary:v,padding:f}),ce=oe?K?xi:jr:K?ki:Vr;H[D]>I[D]&&(ce=Pp(ce));var ve=Pp(ce),ze=[];if(o&&ze.push(ae[U]<=0),l&&ze.push(ae[ce]<=0,ae[ve]<=0),ze.every(function(yt){return yt})){z=R,P=!1;break}q.set(R,ze)}if(P)for(var qe=_?3:1,vt=function(Xe){var Ie=E.find(function(Be){var Ee=q.get(Be);if(Ee)return Ee.slice(0,Xe).every(function(Ze){return Ze})});if(Ie)return z=Ie,"break"},mt=qe;mt>0;mt--){var bt=vt(mt);if(bt==="break")break}e.placement!==z&&(e.modifiersData[r]._skip=!0,e.placement=z,e.reset=!0)}}const DZ={name:"flip",enabled:!0,phase:"main",fn:PZ,requiresIfExists:["offset"],data:{_skip:!1}};function HT(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function FT(t){return[Vr,xi,ki,jr].some(function(e){return t[e]>=0})}function RZ(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=hd(e,{elementContext:"reference"}),l=hd(e,{altBoundary:!0}),u=HT(s,r),f=HT(l,i,o),d=FT(u),m=FT(f);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}const zZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:RZ};function BZ(t,e,n){var r=vo(t),i=[jr,Vr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[jr,xi].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function $Z(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=ML.reduce(function(d,m){return d[m]=BZ(m,e.rects,o),d},{}),l=s[e.placement],u=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=s}const HZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$Z};function FZ(t){var e=t.state,n=t.name;e.modifiersData[n]=BL({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const VZ={name:"popperOffsets",enabled:!0,phase:"read",fn:FZ,data:{}};function jZ(t){return t==="x"?"y":"x"}function WZ(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,u=n.boundary,f=n.rootBoundary,d=n.altBoundary,m=n.padding,v=n.tether,y=v===void 0?!0:v,_=n.tetherOffset,C=_===void 0?0:_,x=hd(e,{boundary:u,rootBoundary:f,padding:m,altBoundary:d}),k=vo(e.placement),A=rc(e.placement),N=!A,E=kw(k),H=jZ(E),I=e.modifiersData.popperOffsets,q=e.rects.reference,P=e.rects.popper,z=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,w=typeof z=="number"?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(I){if(o){var K,oe=E==="y"?Vr:jr,D=E==="y"?ki:xi,ae=E==="y"?"height":"width",ce=I[E],ve=ce+x[oe],ze=ce-x[D],qe=y?-P[ae]/2:0,vt=A===ec?q[ae]:P[ae],mt=A===ec?-P[ae]:-q[ae],bt=e.elements.arrow,yt=y&&bt?ww(bt):{width:0,height:0},Xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:PL(),Ie=Xe[oe],Be=Xe[D],Ee=Of(0,q[ae],yt[ae]),Ze=N?q[ae]/2-qe-Ee-Ie-w.mainAxis:vt-Ee-Ie-w.mainAxis,Ke=N?-q[ae]/2+qe+Ee+Be+w.mainAxis:mt+Ee+Be+w.mainAxis,Fe=e.elements.arrow&&$d(e.elements.arrow),at=Fe?E==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,ie=(K=R==null?void 0:R[E])!=null?K:0,ne=ce+Ze-ie-at,be=ce+Ke-ie,_e=Of(y?Gm(ve,ne):ve,ce,y?al(ze,be):ze);I[E]=_e,U[E]=_e-ce}if(l){var xe,G=E==="x"?Vr:jr,Z=E==="x"?ki:xi,L=I[H],W=H==="y"?"height":"width",O=L+x[G],j=L-x[Z],F=[Vr,jr].indexOf(k)!==-1,Q=(xe=R==null?void 0:R[H])!=null?xe:0,le=F?O:L-q[W]-P[W]-Q+w.altAxis,pe=F?L+q[W]+P[W]-Q-w.altAxis:j,ye=y&&F?pZ(le,L,pe):Of(y?le:O,L,y?pe:j);I[H]=ye,U[H]=ye-L}e.modifiersData[r]=U}}const UZ={name:"preventOverflow",enabled:!0,phase:"main",fn:WZ,requiresIfExists:["offset"]};function qZ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function KZ(t){return t===Si(t)||!_i(t)?xw(t):qZ(t)}function GZ(t){var e=t.getBoundingClientRect(),n=tc(e.width)/t.offsetWidth||1,r=tc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function YZ(t,e,n){n===void 0&&(n=!1);var r=_i(e),i=_i(e)&&GZ(e),o=ga(e),s=nc(t,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((wo(e)!=="body"||Cw(o))&&(l=KZ(e)),_i(e)?(u=nc(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=Sw(o))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function JZ(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function XZ(t){var e=JZ(t);return uZ.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function ZZ(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function QZ(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var VT={placement:"bottom",modifiers:[],strategy:"absolute"};function jT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function eQ(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?VT:i;return function(l,u,f){f===void 0&&(f=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},VT,o),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},m=[],v=!1,y={state:d,setOptions:function(k){var A=typeof k=="function"?k(d.options):k;C(),d.options=Object.assign({},o,d.options,A),d.scrollParents={reference:kl(l)?Mf(l):l.contextElement?Mf(l.contextElement):[],popper:Mf(u)};var N=XZ(QZ([].concat(r,d.options.modifiers)));return d.orderedModifiers=N.filter(function(E){return E.enabled}),_(),y.update()},forceUpdate:function(){if(!v){var k=d.elements,A=k.reference,N=k.popper;if(jT(A,N)){d.rects={reference:YZ(A,$d(N),d.options.strategy==="fixed"),popper:ww(N)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(w){return d.modifiersData[w.name]=Object.assign({},w.data)});for(var E=0;E<d.orderedModifiers.length;E++){if(d.reset===!0){d.reset=!1,E=-1;continue}var H=d.orderedModifiers[E],I=H.fn,q=H.options,P=q===void 0?{}:q,z=H.name;typeof I=="function"&&(d=I({state:d,options:P,name:z,instance:y})||d)}}}},update:ZZ(function(){return new Promise(function(x){y.forceUpdate(),x(d)})}),destroy:function(){C(),v=!0}};if(!jT(l,u))return y;y.setOptions(f).then(function(x){!v&&f.onFirstUpdate&&f.onFirstUpdate(x)});function _(){d.orderedModifiers.forEach(function(x){var k=x.name,A=x.options,N=A===void 0?{}:A,E=x.effect;if(typeof E=="function"){var H=E({state:d,name:k,instance:y,options:N}),I=function(){};m.push(H||I)}})}function C(){m.forEach(function(x){return x()}),m=[]}return y}}var tQ=[SZ,VZ,kZ,LL,HZ,DZ,UZ,yZ,zZ],nQ=eQ({defaultModifiers:tQ}),rQ="tippy-box",$L="tippy-content",iQ="tippy-backdrop",HL="tippy-arrow",FL="tippy-svg-arrow",Da={passive:!0,capture:!0},VL=function(){return document.body};function ty(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function Tw(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function jL(t,e){return typeof t=="function"?t.apply(void 0,e):t}function WT(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function oQ(t){return t.split(/\s+/).filter(Boolean)}function fu(t){return[].concat(t)}function UT(t,e){t.indexOf(e)===-1&&t.push(e)}function sQ(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function aQ(t){return t.split("-")[0]}function Ym(t){return[].slice.call(t)}function qT(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Lf(){return document.createElement("div")}function rv(t){return["Element","Fragment"].some(function(e){return Tw(t,e)})}function lQ(t){return Tw(t,"NodeList")}function uQ(t){return Tw(t,"MouseEvent")}function cQ(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function fQ(t){return rv(t)?[t]:lQ(t)?Ym(t):Array.isArray(t)?t:Ym(document.querySelectorAll(t))}function ny(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function KT(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function dQ(t){var e,n=fu(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function hQ(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,l=i.props,u=l.interactiveBorder,f=aQ(s.placement),d=s.modifiersData.offset;if(!d)return!0;var m=f==="bottom"?d.top.y:0,v=f==="top"?d.bottom.y:0,y=f==="right"?d.left.x:0,_=f==="left"?d.right.x:0,C=o.top-r+m>u,x=r-o.bottom-v>u,k=o.left-n+y>u,A=n-o.right-_>u;return C||x||k||A})}function ry(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function GT(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var ao={isTouch:!1},YT=0;function pQ(){ao.isTouch||(ao.isTouch=!0,window.performance&&document.addEventListener("mousemove",WL))}function WL(){var t=performance.now();t-YT<20&&(ao.isTouch=!1,document.removeEventListener("mousemove",WL)),YT=t}function mQ(){var t=document.activeElement;if(cQ(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function gQ(){document.addEventListener("touchstart",pQ,Da),window.addEventListener("blur",mQ)}var vQ=typeof window<"u"&&typeof document<"u",yQ=vQ?!!window.msCrypto:!1,bQ={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},_Q={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},zi=Object.assign({appendTo:VL,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},bQ,_Q),wQ=Object.keys(zi),kQ=function(e){var n=Object.keys(e);n.forEach(function(r){zi[r]=e[r]})};function UL(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var l;r[o]=t[o]!==void 0?t[o]:(l=zi[o])!=null?l:s}return r},{});return Object.assign({},t,n)}function xQ(t,e){var n=e?Object.keys(UL(Object.assign({},zi,{plugins:e}))):wQ,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function JT(t,e){var n=Object.assign({},e,{content:jL(e.content,[t])},e.ignoreAttributes?{}:xQ(t,e.plugins));return n.aria=Object.assign({},zi.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var SQ=function(){return"innerHTML"};function t1(t,e){t[SQ()]=e}function XT(t){var e=Lf();return t===!0?e.className=HL:(e.className=FL,rv(t)?e.appendChild(t):t1(e,t)),e}function ZT(t,e){rv(e.content)?(t1(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?t1(t,e.content):t.textContent=e.content)}function n1(t){var e=t.firstElementChild,n=Ym(e.children);return{box:e,content:n.find(function(r){return r.classList.contains($L)}),arrow:n.find(function(r){return r.classList.contains(HL)||r.classList.contains(FL)}),backdrop:n.find(function(r){return r.classList.contains(iQ)})}}function qL(t){var e=Lf(),n=Lf();n.className=rQ,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Lf();r.className=$L,r.setAttribute("data-state","hidden"),ZT(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var l=n1(e),u=l.box,f=l.content,d=l.arrow;s.theme?u.setAttribute("data-theme",s.theme):u.removeAttribute("data-theme"),typeof s.animation=="string"?u.setAttribute("data-animation",s.animation):u.removeAttribute("data-animation"),s.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?u.setAttribute("role",s.role):u.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&ZT(f,t.props),s.arrow?d?o.arrow!==s.arrow&&(u.removeChild(d),u.appendChild(XT(s.arrow))):u.appendChild(XT(s.arrow)):d&&u.removeChild(d)}return{popper:e,onUpdate:i}}qL.$$tippy=!0;var CQ=1,rp=[],iy=[];function TQ(t,e){var n=JT(t,Object.assign({},zi,UL(qT(e)))),r,i,o,s=!1,l=!1,u=!1,f=!1,d,m,v,y=[],_=WT(ne,n.interactiveDebounce),C,x=CQ++,k=null,A=sQ(n.plugins),N={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},E={id:x,reference:t,popper:Lf(),popperInstance:k,props:n,state:N,plugins:A,clearDelayTimeouts:le,setProps:pe,setContent:ye,show:Y,hide:X,hideWithInteractivity:de,enable:F,disable:Q,unmount:Te,destroy:je};if(!n.render)return E;var H=n.render(E),I=H.popper,q=H.onUpdate;I.setAttribute("data-tippy-root",""),I.id="tippy-"+E.id,E.popper=I,t._tippy=E,I._tippy=E;var P=A.map(function(he){return he.fn(E)}),z=t.hasAttribute("aria-expanded");return Fe(),qe(),ce(),ve("onCreate",[E]),n.showOnCreate&&O(),I.addEventListener("mouseenter",function(){E.props.interactive&&E.state.isVisible&&E.clearDelayTimeouts()}),I.addEventListener("mouseleave",function(){E.props.interactive&&E.props.trigger.indexOf("mouseenter")>=0&&oe().addEventListener("mousemove",_)}),E;function w(){var he=E.props.touch;return Array.isArray(he)?he:[he,0]}function R(){return w()[0]==="hold"}function U(){var he;return!!((he=E.props.render)!=null&&he.$$tippy)}function K(){return C||t}function oe(){var he=K().parentNode;return he?dQ(he):document}function D(){return n1(I)}function ae(he){return E.state.isMounted&&!E.state.isVisible||ao.isTouch||d&&d.type==="focus"?0:ty(E.props.delay,he?0:1,zi.delay)}function ce(he){he===void 0&&(he=!1),I.style.pointerEvents=E.props.interactive&&!he?"":"none",I.style.zIndex=""+E.props.zIndex}function ve(he,Ae,Le){if(Le===void 0&&(Le=!0),P.forEach(function(Je){Je[he]&&Je[he].apply(Je,Ae)}),Le){var me;(me=E.props)[he].apply(me,Ae)}}function ze(){var he=E.props.aria;if(he.content){var Ae="aria-"+he.content,Le=I.id,me=fu(E.props.triggerTarget||t);me.forEach(function(Je){var ct=Je.getAttribute(Ae);if(E.state.isVisible)Je.setAttribute(Ae,ct?ct+" "+Le:Le);else{var ot=ct&&ct.replace(Le,"").trim();ot?Je.setAttribute(Ae,ot):Je.removeAttribute(Ae)}})}}function qe(){if(!(z||!E.props.aria.expanded)){var he=fu(E.props.triggerTarget||t);he.forEach(function(Ae){E.props.interactive?Ae.setAttribute("aria-expanded",E.state.isVisible&&Ae===K()?"true":"false"):Ae.removeAttribute("aria-expanded")})}}function vt(){oe().removeEventListener("mousemove",_),rp=rp.filter(function(he){return he!==_})}function mt(he){if(!(ao.isTouch&&(u||he.type==="mousedown"))){var Ae=he.composedPath&&he.composedPath()[0]||he.target;if(!(E.props.interactive&&GT(I,Ae))){if(fu(E.props.triggerTarget||t).some(function(Le){return GT(Le,Ae)})){if(ao.isTouch||E.state.isVisible&&E.props.trigger.indexOf("click")>=0)return}else ve("onClickOutside",[E,he]);E.props.hideOnClick===!0&&(E.clearDelayTimeouts(),E.hide(),l=!0,setTimeout(function(){l=!1}),E.state.isMounted||Ie())}}}function bt(){u=!0}function yt(){u=!1}function Xe(){var he=oe();he.addEventListener("mousedown",mt,!0),he.addEventListener("touchend",mt,Da),he.addEventListener("touchstart",yt,Da),he.addEventListener("touchmove",bt,Da)}function Ie(){var he=oe();he.removeEventListener("mousedown",mt,!0),he.removeEventListener("touchend",mt,Da),he.removeEventListener("touchstart",yt,Da),he.removeEventListener("touchmove",bt,Da)}function Be(he,Ae){Ze(he,function(){!E.state.isVisible&&I.parentNode&&I.parentNode.contains(I)&&Ae()})}function Ee(he,Ae){Ze(he,Ae)}function Ze(he,Ae){var Le=D().box;function me(Je){Je.target===Le&&(ry(Le,"remove",me),Ae())}if(he===0)return Ae();ry(Le,"remove",m),ry(Le,"add",me),m=me}function Ke(he,Ae,Le){Le===void 0&&(Le=!1);var me=fu(E.props.triggerTarget||t);me.forEach(function(Je){Je.addEventListener(he,Ae,Le),y.push({node:Je,eventType:he,handler:Ae,options:Le})})}function Fe(){R()&&(Ke("touchstart",ie,{passive:!0}),Ke("touchend",be,{passive:!0})),oQ(E.props.trigger).forEach(function(he){if(he!=="manual")switch(Ke(he,ie),he){case"mouseenter":Ke("mouseleave",be);break;case"focus":Ke(yQ?"focusout":"blur",_e);break;case"focusin":Ke("focusout",_e);break}})}function at(){y.forEach(function(he){var Ae=he.node,Le=he.eventType,me=he.handler,Je=he.options;Ae.removeEventListener(Le,me,Je)}),y=[]}function ie(he){var Ae,Le=!1;if(!(!E.state.isEnabled||xe(he)||l)){var me=((Ae=d)==null?void 0:Ae.type)==="focus";d=he,C=he.currentTarget,qe(),!E.state.isVisible&&uQ(he)&&rp.forEach(function(Je){return Je(he)}),he.type==="click"&&(E.props.trigger.indexOf("mouseenter")<0||s)&&E.props.hideOnClick!==!1&&E.state.isVisible?Le=!0:O(he),he.type==="click"&&(s=!Le),Le&&!me&&j(he)}}function ne(he){var Ae=he.target,Le=K().contains(Ae)||I.contains(Ae);if(!(he.type==="mousemove"&&Le)){var me=W().concat(I).map(function(Je){var ct,ot=Je._tippy,Ct=(ct=ot.popperInstance)==null?void 0:ct.state;return Ct?{popperRect:Je.getBoundingClientRect(),popperState:Ct,props:n}:null}).filter(Boolean);hQ(me,he)&&(vt(),j(he))}}function be(he){var Ae=xe(he)||E.props.trigger.indexOf("click")>=0&&s;if(!Ae){if(E.props.interactive){E.hideWithInteractivity(he);return}j(he)}}function _e(he){E.props.trigger.indexOf("focusin")<0&&he.target!==K()||E.props.interactive&&he.relatedTarget&&I.contains(he.relatedTarget)||j(he)}function xe(he){return ao.isTouch?R()!==he.type.indexOf("touch")>=0:!1}function G(){Z();var he=E.props,Ae=he.popperOptions,Le=he.placement,me=he.offset,Je=he.getReferenceClientRect,ct=he.moveTransition,ot=U()?n1(I).arrow:null,Ct=Je?{getBoundingClientRect:Je,contextElement:Je.contextElement||K()}:t,yr={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Gt){var Kn=Gt.state;if(U()){var Gr=D(),Yr=Gr.box;["placement","reference-hidden","escaped"].forEach(function(Sn){Sn==="placement"?Yr.setAttribute("data-placement",Kn.placement):Kn.attributes.popper["data-popper-"+Sn]?Yr.setAttribute("data-"+Sn,""):Yr.removeAttribute("data-"+Sn)}),Kn.attributes.popper={}}}},Kt=[{name:"offset",options:{offset:me}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ct}},yr];U()&&ot&&Kt.push({name:"arrow",options:{element:ot,padding:3}}),Kt.push.apply(Kt,(Ae==null?void 0:Ae.modifiers)||[]),E.popperInstance=nQ(Ct,I,Object.assign({},Ae,{placement:Le,onFirstUpdate:v,modifiers:Kt}))}function Z(){E.popperInstance&&(E.popperInstance.destroy(),E.popperInstance=null)}function L(){var he=E.props.appendTo,Ae,Le=K();E.props.interactive&&he===VL||he==="parent"?Ae=Le.parentNode:Ae=jL(he,[Le]),Ae.contains(I)||Ae.appendChild(I),E.state.isMounted=!0,G()}function W(){return Ym(I.querySelectorAll("[data-tippy-root]"))}function O(he){E.clearDelayTimeouts(),he&&ve("onTrigger",[E,he]),Xe();var Ae=ae(!0),Le=w(),me=Le[0],Je=Le[1];ao.isTouch&&me==="hold"&&Je&&(Ae=Je),Ae?r=setTimeout(function(){E.show()},Ae):E.show()}function j(he){if(E.clearDelayTimeouts(),ve("onUntrigger",[E,he]),!E.state.isVisible){Ie();return}if(!(E.props.trigger.indexOf("mouseenter")>=0&&E.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(he.type)>=0&&s)){var Ae=ae(!1);Ae?i=setTimeout(function(){E.state.isVisible&&E.hide()},Ae):o=requestAnimationFrame(function(){E.hide()})}}function F(){E.state.isEnabled=!0}function Q(){E.hide(),E.state.isEnabled=!1}function le(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function pe(he){if(!E.state.isDestroyed){ve("onBeforeUpdate",[E,he]),at();var Ae=E.props,Le=JT(t,Object.assign({},Ae,qT(he),{ignoreAttributes:!0}));E.props=Le,Fe(),Ae.interactiveDebounce!==Le.interactiveDebounce&&(vt(),_=WT(ne,Le.interactiveDebounce)),Ae.triggerTarget&&!Le.triggerTarget?fu(Ae.triggerTarget).forEach(function(me){me.removeAttribute("aria-expanded")}):Le.triggerTarget&&t.removeAttribute("aria-expanded"),qe(),ce(),q&&q(Ae,Le),E.popperInstance&&(G(),W().forEach(function(me){requestAnimationFrame(me._tippy.popperInstance.forceUpdate)})),ve("onAfterUpdate",[E,he])}}function ye(he){E.setProps({content:he})}function Y(){var he=E.state.isVisible,Ae=E.state.isDestroyed,Le=!E.state.isEnabled,me=ao.isTouch&&!E.props.touch,Je=ty(E.props.duration,0,zi.duration);if(!(he||Ae||Le||me)&&!K().hasAttribute("disabled")&&(ve("onShow",[E],!1),E.props.onShow(E)!==!1)){if(E.state.isVisible=!0,U()&&(I.style.visibility="visible"),ce(),Xe(),E.state.isMounted||(I.style.transition="none"),U()){var ct=D(),ot=ct.box,Ct=ct.content;ny([ot,Ct],0)}v=function(){var Kt;if(!(!E.state.isVisible||f)){if(f=!0,I.offsetHeight,I.style.transition=E.props.moveTransition,U()&&E.props.animation){var Xt=D(),Gt=Xt.box,Kn=Xt.content;ny([Gt,Kn],Je),KT([Gt,Kn],"visible")}ze(),qe(),UT(iy,E),(Kt=E.popperInstance)==null||Kt.forceUpdate(),ve("onMount",[E]),E.props.animation&&U()&&Ee(Je,function(){E.state.isShown=!0,ve("onShown",[E])})}},L()}}function X(){var he=!E.state.isVisible,Ae=E.state.isDestroyed,Le=!E.state.isEnabled,me=ty(E.props.duration,1,zi.duration);if(!(he||Ae||Le)&&(ve("onHide",[E],!1),E.props.onHide(E)!==!1)){if(E.state.isVisible=!1,E.state.isShown=!1,f=!1,s=!1,U()&&(I.style.visibility="hidden"),vt(),Ie(),ce(!0),U()){var Je=D(),ct=Je.box,ot=Je.content;E.props.animation&&(ny([ct,ot],me),KT([ct,ot],"hidden"))}ze(),qe(),E.props.animation?U()&&Be(me,E.unmount):E.unmount()}}function de(he){oe().addEventListener("mousemove",_),UT(rp,_),_(he)}function Te(){E.state.isVisible&&E.hide(),E.state.isMounted&&(Z(),W().forEach(function(he){he._tippy.unmount()}),I.parentNode&&I.parentNode.removeChild(I),iy=iy.filter(function(he){return he!==E}),E.state.isMounted=!1,ve("onHidden",[E]))}function je(){E.state.isDestroyed||(E.clearDelayTimeouts(),E.unmount(),at(),delete t._tippy,E.state.isDestroyed=!0,ve("onDestroy",[E]))}}function Kr(t,e){e===void 0&&(e={});var n=zi.plugins.concat(e.plugins||[]);gQ();var r=Object.assign({},e,{plugins:n}),i=fQ(t),o=i.reduce(function(s,l){var u=l&&TQ(l,r);return u&&s.push(u),s},[]);return rv(t)?o[0]:o}Kr.defaultProps=zi;Kr.setDefaultProps=kQ;Kr.currentInput=ao;Object.assign({},LL,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Kr.setDefaultProps({render:qL});function QT(t){return I1((e,n)=>({get(){return e(),t},set(r){t=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class EQ extends aL{constructor(e={}){return super(e),this.vueRenderers=Al(new Map),this.contentComponent=null,this.reactiveState=QT(this.view.state),this.reactiveExtensionStorage=QT(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),fa(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){super.registerPlugin(e,n),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const AQ=Vn({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=Ot(),n=qi();return l3(()=>{const r=t.editor;r&&r.options.element&&e.value&&Ri(()=>{if(!e.value||!r.options.element.firstChild)return;const i=fr(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,r.setOptions({element:i}),r.createNodeViews()})}),Ml(()=>{const r=t.editor;if(!r||(r.isDestroyed||r.view.setProps({nodeViews:{}}),r.contentComponent=null,!r.options.element.firstChild))return;const i=document.createElement("div");i.append(...r.options.element.childNodes),r.setOptions({element:i})}),{rootEl:e}},render(){const t=[];return this.editor&&this.editor.vueRenderers.forEach(e=>{const n=Hr(z3,{to:e.teleportElement,key:e.id},Hr(e.component,{ref:e.id,...e.props}));t.push(n)}),Hr("div",{ref:e=>{this.rootEl=e}},...t)}}),Ew=Vn({name:"NodeViewWrapper",props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return Hr(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}});class KL{constructor(e,{props:n={},editor:r}){if(this.id=Math.floor(Math.random()*4294967295).toString(),this.editor=r,this.component=fa(e),this.teleportElement=document.createElement("div"),this.element=this.teleportElement,this.props=Al(n),this.editor.vueRenderers.set(this.id,this),this.editor.contentComponent){if(this.editor.contentComponent.update(),this.teleportElement.children.length!==1)throw Error("VueRenderer doesn’t support multiple child elements.");this.element=this.teleportElement.firstElementChild}}get ref(){var e;return(e=this.editor.contentComponent)===null||e===void 0?void 0:e.refs[this.id]}updateProps(e={}){Object.entries(e).forEach(([n,r])=>{this.props[n]=r})}destroy(){this.editor.vueRenderers.delete(this.id)}}class OQ extends lL{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(i={})=>this.updateAttributes(i),deleteNode:()=>this.deleteNode()},n=this.onDragStart.bind(this);this.decorationClasses=Ot(this.getDecorationClasses());const r=Vn({extends:{...this.component},props:Object.keys(e),template:this.component.template,setup:i=>{var o,s;return Wp("onDragStart",n),Wp("decorationClasses",this.decorationClasses),(s=(o=this.component).setup)===null||s===void 0?void 0:s.call(o,i,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules,__name:this.component.__name,__file:this.component.__file});this.renderer=new KL(r,{editor:this.editor,props:e})}get dom(){if(!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")||this.dom}update(e,n){const r=i=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(i)};if(typeof this.options.update=="function"){const i=this.node,o=this.decorations;return this.node=e,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:e,newDecorations:n,updateProps:()=>r({node:e,decorations:n})})}return e.type!==this.node.type?!1:(e===this.node&&this.decorations===n||(this.node=e,this.decorations=n,r({node:e,decorations:n})),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}getDecorationClasses(){return this.decorations.map(e=>e.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy()}}function Aw(t,e){return n=>n.editor.contentComponent?new OQ(t,n,e):{}}const Bt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},MQ={name:"IframeView",components:{NodeViewWrapper:Ew},props:{editor:{type:Object,default:()=>{}},node:{type:Object,default:()=>{}},decorations:{type:Array,default:()=>[]},selected:{type:Boolean,default:!1},extension:{type:Object,default:()=>{}},getPos:{type:Function,default:()=>{}},updateAttributes:{type:Function,default:()=>{}}}},LQ={class:"vui-iframe-wrap"},NQ=["src"];function IQ(t,e,n,r,i,o){const s=ut("node-view-wrapper");return ge(),Et(s,{class:gt(["vui-iframe",{selected:n.selected}])},{default:Vt(()=>[ee("div",LQ,[ee("iframe",wi(n.node.attrs,{src:n.node.attrs.url}),null,16,NQ)])]),_:1},8,["class"])}const PQ=Bt(MQ,[["render",IQ]]),DQ=_n.create({name:"iframe",group:"block",atom:!0,addAttributes(){return{url:{default:null},frameborder:{default:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:t}){return["iframe",t]},addNodeView(){return Aw(PQ)},addCommands(){return{setIframe:t=>({tr:e,dispatch:n})=>{const{selection:r}=e,i=this.type.create(t);return n&&e.replaceRangeWith(r.from,r.to,i),!0}}},addProseMirrorPlugins(){return[new on({key:new xn("handleClick"),props:{handleClick:(t,e,n)=>{n.target.classList.contains("vui-iframe")&&setTimeout(()=>{this.editor.emit("vui:iframe-clicked",n)},50)}}})]}}),GL=(t="")=>{try{const e=new URL(t);return e!==null&&e.protocol.startsWith("http")}catch{return!1}},r1=t=>new URL(t).host.replace("www.",""),YL=fetch,RQ=async(t,e={})=>{const{target:n,headers:r={}}=e;return await YL(n+encodeURIComponent(t),{headers:r})},zQ=async(t,e={})=>{const{headers:n={"user-agent":"Mozilla/5.0 (X11; Linux x86_64; rv:104.0) Gecko/20100101 Firefox/104.0"},proxy:r=null}=e,i=r?await RQ(t,r):await YL(t,{headers:n}),o=i.status;if(o>=400)throw new Error(`Request failed with error code ${o}`);try{const s=await i.text();return JSON.parse(s.trim())}catch{throw new Error("Failed to convert data to JSON object")}},BQ=t=>r1(t)==="graph.facebook.com",$Q=()=>{const t=process.env||{},e=t.FACEBOOK_APP_ID,n=t.FACEBOOK_CLIENT_TOKEN;return`${e}|${n}`},HQ=async(t,e={},n="",r={})=>{const i={url:t,format:"json",...e};i.maxwidth<=0&&delete i.maxwidth,i.maxheight<=0&&delete i.maxheight,BQ(n)&&(i.access_token=$Q());const o=new URLSearchParams(i).toString(),s=n+"?"+o;return zQ(s,r)},FQ=[{s:["www\\.23hq\\.com/*/photo/*"],e:"www.23hq.com/23/oembed"},{s:["store\\.abraia\\.me/*"],e:"api.abraia.me/oembed"},{s:["play\\.acast\\.com/s/*"],e:"oembed.acast.com/v1/embed-player"},{s:["secure\\.actblue\\.com/donate/*"],e:"secure.actblue.com/cf/oembed"},{s:["adilo\\.bigcommand\\.com/watch/*"],e:"adilo.bigcommand.com/web/oembed"},{s:["v\\.afree\\.ca/ST/","vod\\.afreecatv\\.com/ST/","vod\\.afreecatv\\.com/PLAYER/STATION/","play\\.afreecatv\\.com/"],e:"openapi.afreecatv.com/oembed/embedinfo"},{s:["altium\\.com/viewer/*"],e:"viewer.altium.com/shell/oembed"},{s:["app\\.altrulabs\\.com/*/*?answer_id=*","app\\.altrulabs\\.com/player/*"],e:"api.altrulabs.com/api/v1/social/oembed"},{s:["live\\.amcharts\\.com/*"],e:"live.amcharts.com/oembed"},{s:["amtraker\\.com/trains/*","beta\\.amtraker\\.com/trains/*"],e:"api.amtraker.com/v2/oembed"},{s:["www\\.animatron\\.com/project/*","animatron\\.com/project/*"],e:"animatron.com/oembed/json"},{s:["animoto\\.com/play/*"],e:"animoto.com/oembeds/create"},{s:["anniemusic\\.app/t/*","anniemusic\\.app/p/*"],e:"api.anniemusic.app/api/v1/oembed"},{s:["storymaps\\.arcgis\\.com/stories/*"],e:"storymaps.arcgis.com/oembed"},{s:["app\\.archivos\\.digital/app/view/*"],e:"app.archivos.digital/oembed/"},{s:["audioboom\\.com/channels/*","audioboom\\.com/channel/*","audioboom\\.com/playlists/*","audioboom\\.com/podcasts/*","audioboom\\.com/podcast/*","audioboom\\.com/posts/*","audioboom\\.com/episodes/*"],e:"audioboom.com/publishing/oembed.json"},{s:["audioclip\\.naver\\.com/channels/*/clips/*","audioclip\\.naver\\.com/audiobooks/*"],e:"audioclip.naver.com/oembed"},{s:["audiomack\\.com/*/song/*","audiomack\\.com/*/album/*","audiomack\\.com/*/playlist/*"],e:"audiomack.com/oembed"},{s:["podcasts\\.audiomeans\\.fr/*"],e:"podcasts.audiomeans.fr/services/oembed"},{s:["app\\.avocode\\.com/view/*"],e:"stage-embed.avocode.com/api/oembed"},{s:["backtracks\\.fm/*/*/e/*","backtracks\\.fm/*/s/*/*","backtracks\\.fm/*/*/*/*/e/*/*","backtracks\\.fm/*"],e:"backtracks.fm/oembed"},{s:["beams\\.fm/*"],e:"api.beams.fm/oEmbed"},{s:[],e:"www.beautiful.ai/api/oembed"},{s:["blackfire\\.io/profiles/*/graph","blackfire\\.io/profiles/compare/*/graph"],e:"blackfire.io/oembed"},{s:["blogcast\\.host/embed/*","blogcast\\.host/embedly/*"],e:"blogcast.host/oembed"},{s:["www\\.bookingmood\\.com/embed/*/*"],e:"bookingmood.com/api/oembed"},{s:[],e:"boxofficebuz.com/oembed"},{s:["view\\.briovr\\.com/api/v1/worlds/oembed/*"],e:"view.briovr.com/api/v1/worlds/oembed/"},{s:["www\\.bumper\\.com/oembed/bumper","www\\.bumper\\.com/oembed-s/bumper"],e:"www.bumper.com/oembed/bumper"},{s:["buttondown\\.email/*"],e:"buttondown.email/embed"},{s:["cmc\\.byzart\\.eu/files/*"],e:"cmc.byzart.eu/oembed/"},{s:["cacoo\\.com/diagrams/*"],e:"cacoo.com/oembed.json"},{s:["minesweeper\\.today/*"],e:"minesweeper.today/api/oembed"},{s:["img\\.catbo\\.at/*"],e:"img.catbo.at/oembed.json"},{s:["view\\.ceros\\.com/*"],e:"view.ceros.com/oembed"},{s:["chainflix\\.net/video/*","chainflix\\.net/video/embed/*","*\\.chainflix\\.net/video/*","*\\.chainflix\\.net/video/embed/*"],e:"www.chainflix.net/video/oembed"},{s:["public\\.chartblocks\\.com/c/*"],e:"embed.chartblocks.com/1.0/oembed"},{s:["chirb\\.it/*"],e:"chirb.it/oembed.json"},{s:["chroco\\.ooo/mypage/*","chroco\\.ooo/story/*"],e:"chroco.ooo/embed"},{s:["www\\.circuitlab\\.com/circuit/*"],e:"www.circuitlab.com/circuit/oembed/"},{s:["www\\.clipland\\.com/v/*"],e:"www.clipland.com/api/oembed"},{s:["clyp\\.it/*","clyp\\.it/playlist/*"],e:"api.clyp.it/oembed/"},{s:["app\\.ilovecoco\\.video/*/embed"],e:"app.ilovecoco.video/api/oembed.json"},{s:["codehs\\.com/editor/share_abacus/*"],e:"codehs.com/api/sharedprogram/1/oembed/"},{s:["codepen\\.io/*"],e:"codepen.io/api/oembed"},{s:["codepoints\\.net/*","www\\.codepoints\\.net/*"],e:"codepoints.net/api/v1/oembed"},{s:["codesandbox\\.io/s/*","codesandbox\\.io/embed/*"],e:"codesandbox.io/oembed"},{s:["www\\.collegehumor\\.com/video/*"],e:"www.collegehumor.com/oembed.json"},{s:["commaful\\.com/play/*"],e:"commaful.com/api/oembed/"},{s:["coub\\.com/view/*","coub\\.com/embed/*"],e:"coub.com/api/oembed.json"},{s:["crowdranking\\.com/*/*"],e:"crowdranking.com/api/oembed.json"},{s:["crumb\\.sh/*"],e:"crumb.sh/oembed/"},{s:["cueup\\.io/user/*/sounds/*"],e:"gql.cueup.io/oembed"},{s:["*\\.curated\\.co/*"],e:"api.curated.co/oembed"},{s:["app\\.customerdb\\.com/share/*"],e:"app.customerdb.com/embed"},{s:["app\\.dadan\\.io/*","stage\\.dadan\\.io/*"],e:"app.dadan.io/api/video/oembed"},{s:["www\\.dailymotion\\.com/video/*"],e:"www.dailymotion.com/services/oembed"},{s:["dalexni\\.com/i/*"],e:"dalexni.com/oembed/"},{s:["datawrapper\\.dwcdn\\.net/*"],e:"api.datawrapper.de/v3/oembed/"},{s:["*\\.deseret\\.com/*"],e:"embed.deseret.com/"},{s:["*\\.deviantart\\.com/art/*","*\\.deviantart\\.com/*#/d*","fav\\.me/*","sta\\.sh/*","*\\.deviantart\\.com/*/art/*",'sta\\.sh/*",','*\\.deviantart\\.com/*#/d*"'],e:"backend.deviantart.com/oembed"},{s:["www\\.ultimedia\\.com/central/video/edit/id/*/topic_id/*/","www\\.ultimedia\\.com/default/index/videogeneric/id/*/showtitle/1/viewnc/1","www\\.ultimedia\\.com/default/index/videogeneric/id/*"],e:"www.ultimedia.com/api/search/oembed"},{s:["*\\.docdroid\\.net/*","docdro\\.id/*","*\\.docdroid\\.com/*"],e:"www.docdroid.net/api/oembed"},{s:["docswell\\.com/*/*","www\\.docswell\\.com/*/*"],e:"www.docswell.com/service/oembed"},{s:["dotsub\\.com/view/*"],e:"dotsub.com/services/oembed"},{s:["www\\.dreambroker\\.com/channel/*/*"],e:"dreambroker.com/channel/oembed"},{s:["d\\.tube/v/*"],e:"api.d.tube/oembed"},{s:[],e:"www.edumedia-sciences.com/oembed.json"},{s:[],e:"www.edumedia-sciences.com/oembed.xml"},{s:["egliseinfo\\.catholique\\.fr/*"],e:"egliseinfo.catholique.fr/api/oembed"},{s:["embedery\\.com/widget/*"],e:"embedery.com/api/oembed"},{s:["music\\.enystre\\.com/lyrics/*"],e:"music.enystre.com/oembed"},{s:["ethfiddle\\.com/*"],e:"ethfiddle.com/services/oembed/"},{s:["evt\\.live/*","evt\\.live/*/*","live\\.eventlive\\.pro/*","live\\.eventlive\\.pro/*/*"],e:"evt.live/api/oembed"},{s:["app\\.everviz\\.com/embed/*"],e:"api.everviz.com/oembed"},{s:["app\\.ex\\.co/stories/*","www\\.playbuzz\\.com/*"],e:"oembed.ex.co/item"},{s:["eyrie\\.io/board/*","eyrie\\.io/sparkfun/*"],e:"eyrie.io/v1/oembed"},{s:["www\\.facebook\\.com/*/posts/*","www\\.facebook\\.com/*/activity/*","www\\.facebook\\.com/*/photos/*","www\\.facebook\\.com/photo\\.php?fbid=*","www\\.facebook\\.com/photos/*","www\\.facebook\\.com/permalink\\.php?story_fbid=*","www\\.facebook\\.com/media/set?set=*","www\\.facebook\\.com/questions/*","www\\.facebook\\.com/notes/*/*/*"],e:"graph.facebook.com/v10.0/oembed_post"},{s:["www\\.facebook\\.com/*/videos/*","www\\.facebook\\.com/video\\.php?id=*","www\\.facebook\\.com/video\\.php?v=*"],e:"graph.facebook.com/v10.0/oembed_video"},{s:["www\\.facebook\\.com/*"],e:"graph.facebook.com/v10.0/oembed_page"},{s:["app\\.getfader\\.com/projects/*/publish"],e:"app.getfader.com/api/oembed"},{s:["faithlifetv\\.com/items/*","faithlifetv\\.com/items/resource/*/*","faithlifetv\\.com/media/*","faithlifetv\\.com/media/assets/*","faithlifetv\\.com/media/resource/*/*"],e:"faithlifetv.com/api/oembed"},{s:["*\\.fireworktv\\.com/*","*\\.fireworktv\\.com/embed/*/v/*"],e:"www.fireworktv.com/oembed"},{s:["www\\.fite\\.tv/watch/*"],e:"www.fite.tv/oembed"},{s:["flat\\.io/score/*","*\\.flat\\.io/score/*"],e:"flat.io/services/oembed"},{s:["*\\.flickr\\.com/photos/*","flic\\.kr/p/*","*\\.*\\.flickr\\.com/*/*"],e:"www.flickr.com/services/oembed/"},{s:["public\\.flourish\\.studio/visualisation/*","public\\.flourish\\.studio/story/*"],e:"app.flourish.studio/api/v1/oembed"},{s:["fiso\\.foxsports\\.com\\.au/isomorphic-widget/*"],e:"fiso.foxsports.com.au/oembed"},{s:["framebuzz\\.com/v/*"],e:"framebuzz.com/oembed/"},{s:["framer\\.com/share/*","framer\\.com/embed/*"],e:"api.framer.com/web/oembed"},{s:["*\\.geograph\\.org\\.uk/*","*\\.geograph\\.co\\.uk/*","*\\.geograph\\.ie/*","*\\.wikimedia\\.org/*_geograph\\.org\\.uk_*"],e:"api.geograph.org.uk/api/oembed"},{s:["*\\.geograph\\.org\\.gg/*","*\\.geograph\\.org\\.je/*","channel-islands\\.geograph\\.org/*","channel-islands\\.geographs\\.org/*","*\\.channel\\.geographs\\.org/*"],e:"www.geograph.org.gg/api/oembed"},{s:["geo-en\\.hlipp\\.de/*","geo\\.hlipp\\.de/*","germany\\.geograph\\.org/*"],e:"geo.hlipp.de/restapi.php/api/oembed"},{s:["gty\\.im/*"],e:"embed.gettyimages.com/oembed"},{s:["gfycat\\.com/*","www\\.gfycat\\.com/*"],e:"api.gfycat.com/v1/oembed"},{s:["www\\.gifnote\\.com/play/*"],e:"www.gifnote.com/services/oembed"},{s:["giphy\\.com/gifs/*","giphy\\.com/clips/*","gph\\.is/*","media\\.giphy\\.com/media/*/giphy\\.gif"],e:"giphy.com/services/oembed"},{s:[],e:"gloria.tv/oembed/"},{s:["view\\.gmetri\\.com/*","*\\.gmetri\\.com/*"],e:"embed.gmetri.com/oembed/"},{s:["app\\.gong\\.io/call?id=*"],e:"app.gong.io/oembed"},{s:["grain\\.co/highlight/*","grain\\.co/share/*","grain\\.com/share/*"],e:"api.grain.com/_/api/oembed"},{s:["gtchannel\\.com/watch/*"],e:"api.luminery.com/oembed"},{s:["gyazo\\.com/*"],e:"api.gyazo.com/api/oembed"},{s:["core\\.hash\\.ai/@*"],e:"api.hash.ai/oembed"},{s:["hearthis\\.at/*/*/","hearthis\\.at/*/set/*/"],e:"hearthis.at/oembed/?format=json"},{s:["heyzine\\.com/flip-book/*","*\\.hflip\\.co/*","*\\.aflip\\.in/*"],e:"heyzine.com/api1/oembed"},{s:["player\\.hihaho\\.com/*"],e:"player.hihaho.com/services/oembed"},{s:["*\\.hippovideo\\.io/*"],e:"www.hippovideo.io/services/oembed"},{s:["homey\\.app/f/*","homey\\.app/*/flow/*"],e:"homey.app/api/oembed/flow"},{s:["huffduffer\\.com/*/*"],e:"huffduffer.com/oembed"},{s:["www\\.hulu\\.com/watch/*"],e:"www.hulu.com/api/oembed.json"},{s:["*\\.idomoo\\.com/*"],e:"oembed.idomoo.com/oembed"},{s:["www\\.ifixit\\.com/Guide/View/*"],e:"www.ifixit.com/Embed"},{s:["ifttt\\.com/recipes/*"],e:"www.ifttt.com/oembed/"},{s:["www\\.iheart\\.com/podcast/*/*"],e:"www.iheart.com/oembed"},{s:["qr\\.imenupro\\.com/*"],e:"qr.imenupro.com/api/oembed"},{s:["incredible\\.dev/watch/*"],e:"oembed.incredible.dev/oembed"},{s:["player\\.indacolive\\.com/player/jwp/clients/*"],e:"player.indacolive.com/services/oembed"},{s:["infogram\\.com/*"],e:"infogram.com/oembed"},{s:["*\\.infoveave\\.net/E/*","*\\.infoveave\\.net/P/*"],e:"infoveave.net/services/oembed/"},{s:["www\\.injurymap\\.com/exercises/*"],e:"www.injurymap.com/services/oembed"},{s:["www\\.inoreader\\.com/oembed/"],e:"www.inoreader.com/oembed/api/"},{s:["*\\.inphood\\.com/*"],e:"api.inphood.com/oembed"},{s:["instagram\\.com/*/p/*,","www\\.instagram\\.com/*/p/*,","instagram\\.com/p/*","instagr\\.am/p/*","www\\.instagram\\.com/p/*","www\\.instagr\\.am/p/*","instagram\\.com/tv/*","instagr\\.am/tv/*","www\\.instagram\\.com/tv/*","www\\.instagr\\.am/tv/*","www\\.instagram\\.com/reel/*","instagram\\.com/reel/*","instagr\\.am/reel/*"],e:"graph.facebook.com/v10.0/instagram_oembed"},{s:["ppa\\.insticator\\.com/embed-unit/*"],e:"www.insticator.com/oembed"},{s:["issuu\\.com/*/docs/*"],e:"issuu.com/oembed"},{s:["jovian\\.ml/*","jovian\\.ml/viewer*","*\\.jovian\\.ml/*","jovian\\.ai/*","jovian\\.ai/viewer*","*\\.jovian\\.ai/*","jovian\\.com/*","jovian\\.com/viewer*","*\\.jovian\\.com/*"],e:"api.jovian.com/oembed.json"},{s:["tv\\.kakao\\.com/channel/*/cliplink/*","tv\\.kakao\\.com/m/channel/*/cliplink/*","tv\\.kakao\\.com/channel/v/*","tv\\.kakao\\.com/channel/*/livelink/*","tv\\.kakao\\.com/m/channel/*/livelink/*","tv\\.kakao\\.com/channel/l/*"],e:"tv.kakao.com/oembed"},{s:["www\\.kickstarter\\.com/projects/*"],e:"www.kickstarter.com/services/oembed"},{s:["www\\.kidoju\\.com/en/x/*/*","www\\.kidoju\\.com/fr/x/*/*"],e:"www.kidoju.com/api/oembed"},{s:["halaman\\.email/form/*","aplikasi\\.kirim\\.email/form/*"],e:"halaman.email/service/oembed"},{s:["kit\\.co/*/*"],e:"embed.kit.co/oembed"},{s:["www\\.kitchenbowl\\.com/recipe/*"],e:"www.kitchenbowl.com/oembed"},{s:["app\\.kmdr\\.sh/h/*","app\\.kmdr\\.sh/history/*"],e:"api.kmdr.sh/services/oembed"},{s:["jdr\\.knacki\\.info/meuh/*"],e:"jdr.knacki.info/oembed"},{s:["knowledgepad\\.co/#/knowledge/*"],e:"api.spoonacular.com/knowledge/oembed"},{s:["*\\.kooapp\\.com/koo/*"],e:"embed.kooapp.com/services/oembed"},{s:["kurozora\\.app/episodes*","kurozora\\.app/songs*"],e:"kurozora.app/oembed"},{s:["learningapps\\.org/*"],e:"learningapps.org/oembed.php"},{s:["umotion-test\\.univ-lemans\\.fr/video/*"],e:"umotion-test.univ-lemans.fr/oembed"},{s:["pod\\.univ-lille\\.fr/video/*"],e:"pod.univ-lille.fr/video/oembed"},{s:["place\\.line\\.me/businesses/*"],e:"place.line.me/oembed"},{s:["livestream\\.com/accounts/*/events/*","livestream\\.com/accounts/*/events/*/videos/*","livestream\\.com/*/events/*","livestream\\.com/*/events/*/videos/*","livestream\\.com/*/*","livestream\\.com/*/*/videos/*"],e:"livestream.com/oembed"},{s:["lottiefiles\\.com/*","*\\.lottiefiles\\.com/*"],e:"embed.lottiefiles.com/oembed"},{s:["app\\.ludus\\.one/*"],e:"app.ludus.one/oembed"},{s:["*\\.lumiere\\.is/v/*"],e:"admin.lumiere.is/api/services/oembed"},{s:["mathembed\\.com/latex?inputText=*"],e:"mathembed.com/oembed"},{s:[],e:"my.matterport.com/api/v1/models/oembed/"},{s:["me\\.me/i/*"],e:"me.me/oembed"},{s:["mdstrm\\.com/embed/*","mdstrm\\.com/live-stream/*","mdstrm\\.com/image/*"],e:"mdstrm.com/oembed"},{s:["medienarchiv\\.zhdk\\.ch/entries/*"],e:"medienarchiv.zhdk.ch/oembed.json"},{s:["mermaid\\.ink/img/*","mermaid\\.ink/svg/*"],e:"mermaid.ink/services/oembed"},{s:["*\\.microsoftstream\\.com/video/*","*\\.microsoftstream\\.com/channel/*"],e:"web.microsoftstream.com/oembed"},{s:["www\\.minervaknows\\.com/featured-recipes/*","www\\.minervaknows\\.com/themes/*","www\\.minervaknows\\.com/themes/*/recipes/*","app\\.minervaknows\\.com/recipes/*","app\\.minervaknows\\.com/recipes/*/follow"],e:"oembed.minervaknows.com"},{s:["miro\\.com/app/board/*"],e:"miro.com/api/v1/oembed"},{s:["www\\.mixcloud\\.com/*/*/"],e:"www.mixcloud.com/oembed/"},{s:["mixpanel\\.com/*"],e:"mixpanel.com/api/app/embed/oembed/"},{s:["www\\.mobypicture\\.com/user/*/view/*","moby\\.to/*"],e:"api.mobypicture.com/oEmbed"},{s:["musicboxmaniacs\\.com/explore/melody/*"],e:"musicboxmaniacs.com/embed/"},{s:["mybeweeg\\.com/w/*"],e:"mybeweeg.com/services/oembed"},{s:["namchey\\.com/embeds/*"],e:"namchey.com/api/oembed"},{s:["*\\.nanoo\\.tv/link/*","nanoo\\.tv/link/*","*\\.nanoo\\.pro/link/*","nanoo\\.pro/link/*","media\\.zhdk\\.ch/signatur/*","new\\.media\\.zhdk\\.ch/signatur/*"],e:"www.nanoo.tv/services/oembed"},{s:["www\\.nb\\.no/items/*"],e:"api.nb.no/catalog/v1/oembed"},{s:["naturalatlas\\.com/*","naturalatlas\\.com/*/*","naturalatlas\\.com/*/*/*","naturalatlas\\.com/*/*/*/*"],e:"naturalatlas.com/oembed.json"},{s:["ndla\\.no/*"],e:"ndla.no/oembed"},{s:["liste\\.ndla\\.no/*"],e:"liste.ndla.no/oembed"},{s:["*\\.nfb\\.ca/film/*"],e:"www.nfb.ca/remote/services/oembed/"},{s:["nopaste\\.ml/*"],e:"oembed.nopaste.ml"},{s:["observablehq\\.com/@*/*","observablehq\\.com/d/*","observablehq\\.com/embed/*"],e:"api.observablehq.com/oembed"},{s:["www\\.odds\\.com\\.au/*","odds\\.com\\.au/*"],e:"www.odds.com.au/api/oembed/"},{s:["song\\.link/*","album\\.link/*","artist\\.link/*","playlist\\.link/*","pods\\.link/*","mylink\\.page/*","odesli\\.co/*"],e:"song.link/oembed"},{s:["odysee\\.com/*/*","odysee\\.com/*"],e:"odysee.com/$/oembed"},{s:["official\\.fm/tracks/*","official\\.fm/playlists/*"],e:"official.fm/services/oembed.json"},{s:["omniscope\\.me/*"],e:"omniscope.me/_global_/oembed/json"},{s:["omny\\.fm/shows/*"],e:"omny.fm/oembed"},{s:["orbitvu\\.co/001/*/ov3601/view","orbitvu\\.co/001/*/ov3601/*/view","orbitvu\\.co/001/*/ov3602/*/view","orbitvu\\.co/001/*/2/orbittour/*/view","orbitvu\\.co/001/*/1/2/orbittour/*/view"],e:"orbitvu.co/service/oembed"},{s:["outplayed\\.tv/media/*"],e:"outplayed.tv/oembed"},{s:["overflow\\.io/s/*","overflow\\.io/embed/*"],e:"overflow.io/services/oembed"},{s:["www\\.oz\\.com/*/video/*"],e:"core.oz.com/oembed"},{s:["padlet\\.com/*"],e:"padlet.com/oembed/"},{s:["*\\.tv\\.pandavideo\\.com\\.br/embed/?v=*","*\\.tv\\.pandavideo\\.com\\.br/*/playlist\\.m3u8","dashboard\\.pandavideo\\.com\\.br/#/videos/*"],e:"api-v2.pandavideo.com.br/oembed"},{s:["pastery\\.net/*","www\\.pastery\\.net/*"],e:"www.pastery.net/oembed"},{s:["www\\.picturelfy\\.com/p/*"],e:"api.picturelfy.com/service/oembed/"},{s:["*\\.builder\\.pikasso\\.xyz/embed/*"],e:"builder.pikasso.xyz/api/oembed"},{s:[],e:"beta.pingvp.com.kpnis.nl/p/oembed.php"},{s:["tools\\.pinpoll\\.com/embed/*"],e:"tools.pinpoll.com/oembed"},{s:["www\\.pinterest\\.com/*"],e:"www.pinterest.com/oembed.json"},{s:["player\\.pitchhub\\.com/en/public/player/*"],e:"player.pitchhub.com/en/public/oembed"},{s:["store\\.pixdor\\.com/place-marker-widget/*/show","store\\.pixdor\\.com/map/*/show"],e:"store.pixdor.com/oembed"},{s:["app\\.plusdocs\\.com/*/snapshots/*","app\\.plusdocs\\.com/*/pages/edit/*","app\\.plusdocs\\.com/*/pages/share/*"],e:"app.plusdocs.com/oembed"},{s:["*\\.podbean\\.com/e/*"],e:"api.podbean.com/v1/oembed"},{s:["*\\.polldaddy\\.com/s/*","*\\.polldaddy\\.com/poll/*","*\\.polldaddy\\.com/ratings/*"],e:"polldaddy.com/oembed/"},{s:["portfolium\\.com/entry/*"],e:"api.portfolium.com/oembed"},{s:["present\\.do/decks/*"],e:"gateway.cobalt.run/present/decks/oembed"},{s:["prezi\\.com/v/*","*\\.prezi\\.com/v/*"],e:"prezi.com/v/oembed"},{s:["qtpi\\.gg/fashion/*"],e:"qtpi.gg/fashion/oembed"},{s:["www\\.quiz\\.biz/quizz-*\\.html"],e:"www.quiz.biz/api/oembed"},{s:["www\\.quizz\\.biz/quizz-*\\.html"],e:"www.quizz.biz/api/oembed"},{s:["play\\.radiopublic\\.com/*","radiopublic\\.com/*","www\\.radiopublic\\.com/*","*\\.radiopublic\\.com/*"],e:"oembed.radiopublic.com/oembed"},{s:["raindrop\\.io/*","raindrop\\.io/*/*","raindrop\\.io/*/*/*","raindrop\\.io/*/*/*/*"],e:"pub.raindrop.io/api/oembed"},{s:["www\\.rcvis\\.com/v/*","www\\.rcvis\\.com/visualize=*","www\\.rcvis\\.com/ve/*","www\\.rcvis\\.com/visualizeEmbedded=*"],e:"animatron.com/oembed"},{s:["reddit\\.com/r/*/comments/*/*","www\\.reddit\\.com/r/*/comments/*/*"],e:"www.reddit.com/oembed"},{s:["rwire\\.com/*"],e:"publisher.releasewire.com/oembed/"},{s:["repl\\.it/@*/*","replit\\.com/@*/*"],e:"replit.com/data/oembed"},{s:["www\\.reverbnation\\.com/*","www\\.reverbnation\\.com/*/songs/*"],e:"www.reverbnation.com/oembed"},{s:["roomshare\\.jp/post/*","roomshare\\.jp/en/post/*"],e:"roomshare.jp/en/oembed.json"},{s:["roosterteeth\\.com/*"],e:"roosterteeth.com/oembed"},{s:[],e:"rumble.com/api/Media/oembed.json"},{s:["embed\\.runkit\\.com/*,"],e:"embed.runkit.com/oembed"},{s:["octopus\\.saooti\\.com/main/pub/podcast/*"],e:"octopus.saooti.com/oembed"},{s:["videos\\.sapo\\.pt/*"],e:"videos.sapo.pt/oembed"},{s:["console\\.screen9\\.com/*","*\\.screen9\\.tv/*"],e:"api.screen9.com/oembed"},{s:["www\\.screencast\\.com/*"],e:"api.screencast.com/external/oembed"},{s:["www\\.screenr\\.com/*/"],e:"www.screenr.com/api/oembed.json"},{s:["www\\.scribblemaps\\.com/maps/view/*","scribblemaps\\.com/maps/view/*"],e:"scribblemaps.com/api/services/oembed.json"},{s:["www\\.scribd\\.com/doc/*"],e:"www.scribd.com/services/oembed/"},{s:["embed\\.sendtonews\\.com/oembed/*"],e:"embed.sendtonews.com/services/oembed"},{s:["www\\.shortnote\\.jp/view/notes/*"],e:"www.shortnote.jp/oembed/"},{s:["shoudio\\.com/*","shoud\\.io/*"],e:"shoudio.com/api/oembed"},{s:["app\\.getshow\\.io/iframe/*","*\\.getshow\\.io/share/*"],e:"api.getshow.io/oembed.json"},{s:["showtheway\\.io/to/*"],e:"showtheway.io/oembed"},{s:["simplecast\\.com/s/*"],e:"simplecast.com/oembed"},{s:["onsizzle\\.com/i/*"],e:"onsizzle.com/oembed"},{s:["sketchfab\\.com/*models/*","sketchfab\\.com/*/folders/*"],e:"sketchfab.com/oembed"},{s:["www\\.slideshare\\.net/*/*","fr\\.slideshare\\.net/*/*","de\\.slideshare\\.net/*/*","es\\.slideshare\\.net/*/*","pt\\.slideshare\\.net/*/*"],e:"www.slideshare.net/api/oembed/2"},{s:["smashnotes\\.com/p/*","smashnotes\\.com/p/*/e/* - https://smashnotes\\.com/p/*/e/*/s/*"],e:"smashnotes.com/services/oembed"},{s:["open\\.smeme\\.com/*"],e:"open.smeme.com/api/oembed"},{s:["www\\.smrthi\\.com/book/*"],e:"www.smrthi.com/api/oembed"},{s:["*\\.smugmug\\.com/*"],e:"api.smugmug.com/services/oembed/"},{s:["www\\.socialexplorer\\.com/*/explore","www\\.socialexplorer\\.com/*/view","www\\.socialexplorer\\.com/*/edit","www\\.socialexplorer\\.com/*/embed"],e:"www.socialexplorer.com/services/oembed/"},{s:["soundcloud\\.com/*","on\\.soundcloud\\.com/*","soundcloud\\.app\\.goog\\.gl/*"],e:"soundcloud.com/oembed"},{s:["speakerdeck\\.com/*/*"],e:"speakerdeck.com/oembed.json"},{s:["open\\.spotify\\.com/*","spotify:*"],e:"open.spotify.com/oembed"},{s:["*\\.spotlightr\\.com/watch/*","*\\.spotlightr\\.com/publish/*","*\\.cdn\\.spotlightr\\.com/watch/*","*\\.cdn\\.spotlightr\\.com/publish/*"],e:"api.spotlightr.com/getOEmbed"},{s:["*\\.spreaker\\.com/*"],e:"api.spreaker.com/oembed"},{s:["sproutvideo\\.com/videos/*","*\\.vids\\.io/videos/*"],e:"sproutvideo.com/oembed.json"},{s:["purl\\.stanford\\.edu/*"],e:"purl.stanford.edu/embed.json"},{s:["streamable\\.com/*"],e:"api.streamable.com/oembed.json"},{s:["s3m\\.io/*","23m\\.io/*"],e:"streamio.com/api/v1/oembed"},{s:["subscribi\\.io/api/oembed*"],e:"subscribi.io/api/oembed"},{s:["www\\.sudomemo\\.net/watch/*","flipnot\\.es/*"],e:"www.sudomemo.net/oembed"},{s:["www\\.sutori\\.com/story/*"],e:"www.sutori.com/api/oembed"},{s:["sway\\.com/*","www\\.sway\\.com/*"],e:"sway.com/api/v1.0/oembed"},{s:["sway\\.office\\.com/*"],e:"sway.office.com/api/v1.0/oembed"},{s:["share\\.synthesia\\.io/*"],e:"69jr5v75rc.execute-api.eu-west-1.amazonaws.com/prod/v2/oembed"},{s:["ted\\.com/talks/*","www\\.ted\\.com/talks/*"],e:"www.ted.com/services/v1/oembed.json"},{s:["www\\.nytimes\\.com/svc/oembed","nytimes\\.com/*","*\\.nytimes\\.com/*"],e:"www.nytimes.com/svc/oembed/json/"},{s:["theysaidso\\.com/image/*"],e:"theysaidso.com/extensions/oembed/"},{s:["www\\.tickcounter\\.com/countdown/*","www\\.tickcounter\\.com/countup/*","www\\.tickcounter\\.com/ticker/*","www\\.tickcounter\\.com/worldclock/*"],e:"www.tickcounter.com/oembed"},{s:["www\\.tiktok\\.com/*","www\\.tiktok\\.com/*/video/*"],e:"www.tiktok.com/oembed"},{s:["www\\.toornament\\.com/tournaments/*/information","www\\.toornament\\.com/tournaments/*/registration/","www\\.toornament\\.com/tournaments/*/matches/schedule","www\\.toornament\\.com/tournaments/*/stages/*/"],e:"widget.toornament.com/oembed"},{s:["www\\.topy\\.se/image/*"],e:"www.topy.se/oembed/"},{s:["app-test\\.totango\\.com/*"],e:"app-test.totango.com/oembed"},{s:["trinitymedia\\.ai/player/*"],e:"trinitymedia.ai/player/trinity-oembed"},{s:["*\\.tumblr\\.com/post/*"],e:"www.tumblr.com/oembed/1.0"},{s:["www\\.tuxx\\.be/*"],e:"www.tuxx.be/services/oembed"},{s:["play\\.tvcf\\.co\\.kr/*","*\\.tvcf\\.co\\.kr/*"],e:"play.tvcf.co.kr/rest/oembed"},{s:["twinmotion\\.unrealengine\\.com/presentation/*","twinmotion\\.unrealengine\\.com/panorama/*"],e:"twinmotion.unrealengine.com/oembed"},{s:["twitter\\.com/*","twitter\\.com/*/status/*","*\\.twitter\\.com/*/status/*"],e:"publish.twitter.com/oembed"},{s:["play\\.typecast\\.ai/s/*","play\\.typecast\\.ai/e/*","play\\.typecast\\.ai/*"],e:"play.typecast.ai/oembed"},{s:[],e:"typlog.com/oembed"},{s:["uapod\\.univ-antilles\\.fr/video/*"],e:"uapod.univ-antilles.fr/oembed"},{s:["map\\.cam\\.ac\\.uk/*"],e:"map.cam.ac.uk/oembed/"},{s:["mediatheque\\.univ-paris1\\.fr/video/*"],e:"mediatheque.univ-paris1.fr/oembed"},{s:["pod\\.u-pec\\.fr/video/*"],e:"pod.u-pec.fr/oembed"},{s:["*\\.ustream\\.tv/*","*\\.ustream\\.com/*"],e:"www.ustream.tv/oembed"},{s:["*\\.ustudio\\.com/embed/*","*\\.ustudio\\.com/embed/*/*"],e:"app.ustudio.com/api/v2/oembed"},{s:["veer\\.tv/videos/*"],e:"api.veer.tv/oembed"},{s:["veervr\\.tv/videos/*"],e:"api.veervr.tv/oembed"},{s:["www\\.vevo\\.com/*"],e:"www.vevo.com/oembed"},{s:["videfit\\.com/videos/*"],e:"videfit.com/oembed"},{s:["vidmount\\.com/*"],e:"vidmount.com/oembed"},{s:["*\\.vidyard\\.com/*","*\\.hubs\\.vidyard\\.com/*"],e:"api.vidyard.com/dashboard/v1.1/oembed"},{s:["vimeo\\.com/*","vimeo\\.com/album/*/video/*","vimeo\\.com/channels/*/*","vimeo\\.com/groups/*/videos/*","vimeo\\.com/ondemand/*/*","player\\.vimeo\\.com/video/*"],e:"vimeo.com/api/oembed.json"},{s:["www\\.viously\\.com/*/*"],e:"www.viously.com/oembed"},{s:["vizydrop\\.com/shared/*"],e:"vizydrop.com/oembed"},{s:["vlipsy\\.com/*"],e:"vlipsy.com/oembed"},{s:["www\\.vlive\\.tv/video/*"],e:"www.vlive.tv/oembed"},{s:["*\\.vouchfor\\.com/*"],e:"embed.vouchfor.com/v1/oembed"},{s:["article\\.voxsnap\\.com/*/*"],e:"data.voxsnap.com/oembed"},{s:["waltrack\\.net/product/*"],e:"waltrack.net/oembed"},{s:["watch\\.wave\\.video/*","embed\\.wave\\.video/*"],e:"embed.wave.video/oembed"},{s:["play\\.wecandeo\\.com/video/v/*"],e:"play.wecandeo.com/oembed/"},{s:["whimsical\\.com/*"],e:"whimsical.com/api/oembed"},{s:["fast\\.wistia\\.com/embed/iframe/*","fast\\.wistia\\.com/embed/playlists/*","*\\.wistia\\.com/medias/*"],e:"fast.wistia.com/oembed.json"},{s:["*\\.wizer\\.me/learn/*","*\\.wizer\\.me/preview/*"],e:"app.wizer.me/api/oembed.json"},{s:["wokwi\\.com/share/*"],e:"wokwi.com/api/oembed"},{s:["*\\.wolframcloud\\.com/*"],e:"www.wolframcloud.com/oembed"},{s:["wordpress\\.com/*","*\\.wordpress\\.com/*","*\\.*\\.wordpress\\.com/*","wp\\.me/*"],e:"public-api.wordpress.com/oembed/"},{s:["*\\.youtube\\.com/watch*","*\\.youtube\\.com/v/*","youtu\\.be/*","*\\.youtube\\.com/playlist?list=*","youtube\\.com/playlist?list=*","*\\.youtube\\.com/shorts*"],e:"www.youtube.com/oembed"},{s:["app\\.zeplin\\.io/project/*/screen/*","app\\.zeplin\\.io/project/*/screen/*/version/*","app\\.zeplin\\.io/project/*/styleguide/components?coid=*","app\\.zeplin\\.io/styleguide/*/components?coid=*"],e:"app.zeplin.io/embed"},{s:["app\\.zingsoft\\.com/embed/*","app\\.zingsoft\\.com/view/*"],e:"app.zingsoft.com/oembed"},{s:["*\\.znipe\\.tv/*"],e:"api.znipe.tv/v3/oembed/"},{s:["srv2\\.zoomable\\.ca/viewer\\.php*"],e:"srv2.zoomable.ca/oembed"}],VQ=(t="")=>new RegExp(t.replace(/\\./g,".").replace(/\*/g,"(.*)").replace(/\?/g,"\\?").replace(/,$/g,""),"i"),jQ=(t=[])=>t.map(e=>{const{e:n,s:r}=e;return{endpoint:`https://${n}`,schemes:r.map(VQ)}}),WQ={providers:jQ(FQ)},UQ=()=>[...WQ.providers],qQ=(t="",e="",n=[])=>{if(!n.length){const r=r1(t),i=r1(e);return r===i}return n.some(r=>t.match(r))},KQ=(t="")=>{if(!GL(t))return null;const e=UQ();for(let n=0;n<e.length;n++){const{endpoint:r,schemes:i}=e[n];if(qQ(t,r,i))return{schemes:i,endpoint:r,url:t}}return null},GQ=t=>{const e=KQ(t);return e?e.endpoint:null},YQ=async(t,e={},n={})=>{if(!GL(t))throw new Error("Invalid input URL");const r=GQ(t);if(!r)throw new Error(`No provider found with given url "${t}"`);return await HQ(t,e,r,n)},JQ=function(t){const e={heading:"",text:"",trace:""};e.heading=Qn(t,"response.statusText","An error has occurred"),e.text=Qn(t,"response.data.message",Qn(t,"response.data.error",t));const n=Qn(t,"response.data.file",""),r=Qn(t,"response.data.line","");n&&r&&(e.trace=`${n}:${r}`);const i=Qn(t,"response.data.trace.0.file",""),o=Qn(t,"response.data.trace.0.line","");i&&o&&(e.trace+=`<br>${i}:${o}`);const s=Qn(t,"stack","");return s&&(e.trace+=s),e},XQ={name:"MediaEmbedView",components:{NodeViewWrapper:Ew},props:{editor:{type:Object,default:()=>{}},node:{type:Object,default:()=>{}},decorations:{type:Array,default:()=>[]},selected:{type:Boolean,default:!1},extension:{type:Object,default:()=>{}},getPos:{type:Function,default:()=>{}},updateAttributes:{type:Function,default:()=>{}}},data(){return{error:!1,errorMessage:""}},computed:{html(){var t;return this.node.attrs.url?(t=this.data)==null?void 0:t.html:""},data:{get(){return this.node.attrs.data},set(t){return this.updateAttributes({data:t})}}},watch:{"node.attrs.url":function(t,e){this.initEmbed()}},created(){this.editor.on("vui:code-editor-toggle",()=>{this.initEmbed()})},mounted(){this.$nextTick(()=>{this.html||this.initEmbed()})},methods:{async initEmbed(){if(this.error=!1,this.errorMessage="",this.node.attrs.url)try{let{url:t}=this.node.attrs;const e=t.match(/youtube\.com\/live\/(\w+)/);e&&(t=`https://www.youtube.com/watch?v=${e[1]}`);const n=await YQ(t);this.data=n}catch(t){console.error(t),this.data=null,this.error=!0;const e=JQ(t);this.errorMessage=`<strong>${e.heading}</strong><br><small>${e.text}<br>${e.trace}</small>`}}}},ZQ={key:0,class:"vui-media-wrap"},QQ={class:"vui-media-wrap-error"},eee=["innerHTML"],tee=["innerHTML"];function nee(t,e,n,r,i,o){const s=ut("node-view-wrapper");return ge(),Et(s,{class:gt(["vui-media-embed",{selected:n.selected}])},{default:Vt(()=>[i.error?(ge(),Se("div",ZQ,[ee("div",QQ,[ee("span",{class:"error",innerHTML:i.errorMessage},null,8,eee)])])):(ge(),Se("div",{key:1,class:"vui-media-wrap vui-loading vui-loading-lg",innerHTML:o.html},null,8,tee))]),_:1},8,["class"])}const ree=Bt(XQ,[["render",nee]]),iee=_n.create({name:"mediaEmbed",group:"block",atom:!0,addAttributes(){return{url:{default:null},data:{default:null}}},parseHTML(){return[{tag:"media-embed",getAttrs:t=>JSON.parse(t.innerHTML)}]},renderHTML({HTMLAttributes:t}){return["media-embed",JSON.stringify(t)]},addNodeView(){return Aw(ree)},addCommands(){return{setEmbed:t=>({tr:e,dispatch:n})=>{const{selection:r}=e,i=this.type.create(t);return n&&e.replaceRangeWith(r.from,r.to,i),!0}}},addProseMirrorPlugins(){return[new on({key:new xn("handleClick"),props:{handleClick:(t,e,n)=>{n.target.classList.contains("vui-media-embed")&&setTimeout(()=>{this.editor.emit("vui:media-embed-clicked",n)},50)}}})]}}),oee=[bY,kY,CY,MY,IY,PY,DY,RY,BY,HY,jY,qY.configure({levels:[1,2,3,4,5,6]}),KY,GY,JY,QJ.configure({resizable:!0}),nX,tX,eX,xX,SX.configure({types:["heading","paragraph"],defaultAlignment:"start"}),GX.configure({openOnClick:!1}),XX,DQ,iee],see=[{name:"h1",svg:"h1",title:Craft.t("vizy","Heading 1"),commandInfo:{shortcut:"Mod-Alt-1"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setNode("heading",{level:1}).run()}},{name:"h2",svg:"h2",title:Craft.t("vizy","Heading 2"),commandInfo:{shortcut:"Mod-Alt-2"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setNode("heading",{level:2}).run()}},{name:"h3",svg:"h3",title:Craft.t("vizy","Heading 3"),commandInfo:{shortcut:"Mod-Alt-3"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setNode("heading",{level:3}).run()}},{name:"unordered-list",svg:"list-ul",title:Craft.t("vizy","Bullet List"),commandInfo:{shortcut:"Mod-Shift-8"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleBulletList().run()}},{name:"ordered-list",svg:"list-ol",title:Craft.t("vizy","Ordered List"),commandInfo:{shortcut:"Mod-Shift-7"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleOrderedList().run()}},{name:"media-embed",svg:"photo-film",title:Craft.t("vizy","Media Embed"),command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).run(),t.emit("vui:media-embed-modal-open")}},{name:"link",svg:"link",title:Craft.t("vizy","Link"),command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).run(),t.emit("vui:link-modal-open")}},{name:"image",icon:"image",title:Craft.t("vizy","Image"),command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).run(),t.emit("vui:image-modal-open")}},{name:"code-block",svg:"code",title:Craft.t("vizy","Code Block"),commandInfo:{shortcut:"Mod-Alt-c"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleCodeBlock().run()}},{name:"blockquote",svg:"quote-right",title:Craft.t("vizy","Blockquote"),commandInfo:{shortcut:"Mod-Shift-b"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleBlockquote().run()}},{name:"hr",svg:"horizontal-rule",title:Craft.t("vizy","Horizontal Rule"),command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setHorizontalRule().run()}}];class aee{constructor(e){this.instance=e,this.registeredExtensions=[],this.registeredButtons=[],this.registeredCommands=[]}registerExtensions(e){this.registeredExtensions.push(e)}registerButtons(e){this.registeredButtons.push(e)}registerCommands(e){this.registeredCommands.push(e)}getExtensions(){return this._getComponents(this.registeredExtensions,oee)}getButtons(){return this._getComponents(this.registeredButtons,pY)}getCommands(){return this._getComponents(this.registeredCommands,see)}_getComponents(e,n){return e.forEach(r=>{const i=r(n);i&&(n=n.concat(Array.isArray(i)?i:[i]))}),n.filter(r=>!!r)}get tiptap(){return{core:hY}}}const lee=or.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=cc(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),uee={name:"CollapseTransition",props:{name:{type:String,required:!1,default:"collapse"},dimension:{type:String,required:!1,default:"height",validator:t=>["height","width"].includes(t)},duration:{type:Number,required:!1,default:300},easing:{type:String,required:!1,default:"ease-in-out"}},watch:{dimension(){this.clearCachedDimensions()}},data(){return{cachedStyles:null}},computed:{transition(){let t=[];return Object.keys(this.cachedStyles).forEach(e=>{t.push(`${this.convertToCssProperty(e)} ${this.duration}ms ${this.easing}`)}),t.join(", ")}},methods:{beforeAppear(t){this.$emit("before-appear",t)},appear(t){this.$emit("appear",t)},afterAppear(t){this.$emit("after-appear",t)},appearCancelled(t){this.$emit("appear-cancelled",t)},beforeEnter(t){this.$emit("before-enter",t)},enter(t,e){this.detectAndCacheDimensions(t),this.setClosedDimensions(t),this.hideOverflow(t),this.forceRepaint(t),this.setTransition(t),this.setOpenedDimensions(t),this.$emit("enter",t,e),setTimeout(e,this.duration)},afterEnter(t){this.unsetOverflow(t),this.unsetTransition(t),this.unsetDimensions(t),this.clearCachedDimensions(),this.$emit("after-enter",t)},enterCancelled(t){this.$emit("enter-cancelled",t)},beforeLeave(t){this.$emit("before-leave",t)},leave(t,e){this.detectAndCacheDimensions(t),this.setOpenedDimensions(t),this.hideOverflow(t),this.forceRepaint(t),this.setTransition(t),this.setClosedDimensions(t),this.$emit("leave",t,e),setTimeout(e,this.duration)},afterLeave(t){this.unsetOverflow(t),this.unsetTransition(t),this.unsetDimensions(t),this.clearCachedDimensions(),this.$emit("after-leave",t)},leaveCancelled(t){this.$emit("leave-cancelled",t)},detectAndCacheDimensions(t){if(this.cachedStyles)return;const e=t.style.visibility,n=t.style.display;t.style.visibility="hidden",t.style.display="",this.cachedStyles=this.detectRelevantDimensions(t),t.style.visibility=e,t.style.display=n},clearCachedDimensions(){this.cachedStyles=null},detectRelevantDimensions(t){return this.dimension==="height"?{height:t.offsetHeight+"px",paddingTop:t.style.paddingTop||this.getCssValue(t,"padding-top"),paddingBottom:t.style.paddingBottom||this.getCssValue(t,"padding-bottom")}:this.dimension==="width"?{width:t.offsetWidth+"px",paddingLeft:t.style.paddingLeft||this.getCssValue(t,"padding-left"),paddingRight:t.style.paddingRight||this.getCssValue(t,"padding-right")}:{}},setTransition(t){t.style.transition=this.transition},unsetTransition(t){t.style.transition=""},hideOverflow(t){t.style.overflow="hidden"},unsetOverflow(t){t.style.overflow=""},setClosedDimensions(t){Object.keys(this.cachedStyles).forEach(e=>{t.style[e]="0"})},setOpenedDimensions(t){Object.keys(this.cachedStyles).forEach(e=>{t.style[e]=this.cachedStyles[e]})},unsetDimensions(t){Object.keys(this.cachedStyles).forEach(e=>{t.style[e]=""})},forceRepaint(t){getComputedStyle(t)[this.dimension]},getCssValue(t,e){return getComputedStyle(t,null).getPropertyValue(e)},convertToCssProperty(t){const e=t.match(/([A-Z])/g);if(!e)return t;for(let n=0,r=e.length;n<r;n++)t=t.replace(new RegExp(e[n]),"-"+e[n].toLowerCase());return t.slice(0,1)==="-"&&(t=t.slice(1)),t}}};function cee(t,e,n,r,i,o){return ge(),Et(zu,{name:n.name,onBeforeAppear:o.beforeAppear,onAppear:o.appear,onAfterAppear:o.afterAppear,onAppearCancelled:o.appearCancelled,onBeforeEnter:o.beforeEnter,onEnter:o.enter,onAfterEnter:o.afterEnter,onEnterCancelled:o.enterCancelled,onBeforeLeave:o.beforeLeave,onLeave:o.leave,onAfterLeave:o.afterLeave,onLeaveCancelled:o.leaveCancelled},{default:Vt(()=>[pn(t.$slots,"default")]),_:3},8,["name","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled"])}const fee=Bt(uee,[["render",cee]]);function eE(t,e){let n,r;const i=t.toLowerCase();for(e=[].concat(e),n=0;n<e.length;n+=1)if(r=e[n],!!r&&(r.test&&r.test(t)||r.toLowerCase()===i))return!0}const dee=(t,e,n)=>{if(typeof t=="number"&&(t=`${t}`),typeof t!="string")return!!t;if(t=t.trim(),eE(t,e||["true","1"]))return!0;if(eE(t,n||["false","0"]))return!1},hee={name:"LightswitchField",props:{small:{type:Boolean,default:!1},extraSmall:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{id:`lightswitch-${Craft.randomString(10)}`,dragger:null,dragging:!1,innerStyle:{},proxyValue:!1,indeterminate:!1}},computed:{offMargin(){return this.small?-10:-12}},watch:{proxyValue(t){this.$emit("update:modelValue",t)}},created(){this.proxyValue=this.modelValue},mounted(){const{container:t}=this.$refs;this.$nextTick(()=>{const e=$(t).data("lightswitch");e&&e.destroy(),this.dragger=new Garnish.BaseDrag(t,{axis:Garnish.X_AXIS,ignoreHandleSelector:null,onDragStart:this.onDragStart.bind(this),onDrag:this.onDrag.bind(this),onDragStop:this.onDragStop.bind(this)})})},beforeUnmount(){this.dragger&&this.dragger.destroy()},methods:{turnOn(){this.proxyValue=!0,this.indeterminate=!1,this.dragging=!0;const{innerContainer:t}=this.$refs,e={[`margin-${Craft.left}`]:0};$(t).velocity("stop").velocity(e,Craft.LightSwitch.animationDuration,this.onSettle.bind(this))},turnOff(){this.proxyValue=!1,this.indeterminate=!1,this.dragging=!0;const{innerContainer:t}=this.$refs,e={[`margin-${Craft.left}`]:this.offMargin};$(t).velocity("stop").velocity(e,Craft.LightSwitch.animationDuration,this.onSettle.bind(this))},toggle(){this.indeterminate||!this.proxyValue?this.turnOn():this.turnOff()},onMouseUp(){this.dragger.dragging||this.toggle()},onKeyDown(t){switch(t.keyCode){case Garnish.SPACE_KEY:{this.toggle(),t.preventDefault();break}case Garnish.RIGHT_KEY:{Craft.orientation==="ltr"?this.turnOn():this.turnOff(),t.preventDefault();break}case Garnish.LEFT_KEY:{Craft.orientation==="ltr"?this.turnOff():this.turnOn(),t.preventDefault();break}}},onDragStart(){this.dragging=!0,this.dragStartMargin=this.getMargin()},onDrag(){let t;Craft.orientation==="ltr"?t=this.dragStartMargin+this.dragger.mouseDistX:t=this.dragStartMargin-this.dragger.mouseDistX,t<this.offMargin?t=this.offMargin:t>0&&(t=0);const{innerContainer:e}=this.$refs;$(e).css(`margin-${Craft.left}`,t)},onDragStop(){this.getMargin()>this.offMargin/2?this.turnOn():this.turnOff()},onSettle(){this.dragging=!1},getMargin(){const{innerContainer:t}=this.$refs,e=t.currentStyle||window.getComputedStyle(t);return parseInt(e.marginLeft)},toBoolean(t){return dee(t)}}},pee=["id","aria-labelledby","aria-checked"],mee={ref:"innerContainer",class:"lightswitch-container"},gee=ee("div",{class:"handle"},null,-1),vee=[gee];function yee(t,e,n,r,i,o){return ge(),Se("div",{id:i.id,ref:"container",tabindex:"0",role:"checkbox",class:gt(["lightswitch",[{on:o.toBoolean(i.proxyValue),indeterminate:i.indeterminate,dragging:i.dragging,small:n.small,"extra-small":n.extraSmall}]]),"aria-labelledby":`${i.id}-label`,"aria-checked":i.proxyValue?"true":i.indeterminate?"mixed":"false",onMouseup:e[1]||(e[1]=(...s)=>o.onMouseUp&&o.onMouseUp(...s)),onKeydown:e[2]||(e[2]=(...s)=>o.onKeyDown&&o.onKeyDown(...s))},[ee("div",mee,vee,512),Ut(ee("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.proxyValue=s),type:"hidden"},null,512),[[Mn,i.proxyValue]])],42,pee)}const JL=Bt(hee,[["render",yee]]),bee={name:"VizyBlockFields",delimiters:["$!{","}!$"],props:{template:{type:String,default:""}},emits:["update"],mounted(){this.$nextTick(()=>{this.$el&&(Craft.initUiElements(this.$el),this.$el.querySelectorAll(".vizy-input-component").forEach(t=>{t.parentElement.__vueInit=!0}),this.$nextTick(()=>{this.watchFieldChanges(),this.applyRedactorFix(),this.applyTabIndexFix(),this.applyNeoFix()}))})},methods:{vizyBlock(){return this.$parent.$parent.$parent.$parent},watchFieldChanges(){const t=Ej(this.emitUpdate,50);new MutationObserver(n=>{t()}).observe(this.$el,{childList:!0,attributes:!0,subtree:!0,characterData:!0}),$(this.$el).on("input change","input, textarea, select",n=>{this.emitUpdate()})},applyRedactorFix(){const t=this.$el.querySelectorAll(".redactor-toolbar");t.length&&t.forEach(e=>{e.addEventListener("mousedown",n=>{n.preventDefault()})})},applyNeoFix(){if(!this.$el.querySelector('[data-type="benf\\\\neo\\\\Field"]'))return;const t=$("form#main-form"),e=encodeURIComponent(this.vizyBlock().vizyField.name);let n=t.data("initialSerializedValue");n=n.replace(new RegExp(`${Craft.escapeRegex(e)}[^&]*&?`),""),t.data("initialSerializedValue",n),this.$el.querySelectorAll('[data-type="benf\\\\neo\\\\Field"]').forEach(r=>{const i=r.querySelectorAll(".ni_buttons");i.length>1&&i.forEach((o,s)=>{s!=i.length-1&&o.remove()})})},applyTabIndexFix(){this.$el.querySelectorAll(".field").forEach(t=>{t.setAttribute("tabindex",-1)})},emitUpdate(){setTimeout(()=>{this.$emit("update")},50),setTimeout(()=>{this.$emit("update")},200)}},render(){try{return Hr(tb(`<div>${this.template}</div>`))}catch(t){console.error(t),console.log("Vue template compile error: %o",{template:this.template});const e=this.t("vizy","Unable to parse block definition.");return Hr(tb(`<div class="vizyblock-invalid"><p class="error">${e}</p></div>`))}}};(function(t){var e=["input","textarea","select","option"],n=["value","selected","checked","disabled"];t.fn.htmlizeClone=function(r){return this.each(function(){var i=this;i.nodeName==="TEXTAREA"?i.innerHTML=i.value:i.nodeName==="OPTION"?i.selected?i.setAttribute("selected","selected"):i.removeAttribute("selected"):i.children&&i.children.length&&t(i).find("textarea, option").htmlizeClone(!0)}),r?this:this.clone()},t.fn.htmlizeSyncAttributes=function(){return this.each(function(){var r=this,i;for(var o in n)n.hasOwnProperty(o)&&(i=n[o],i in r&&(r.getAttribute(i)!==null||r[i])&&!((r.nodeName==="TEXTAREA"||r.nodeName==="SELECT")&&i==="value")&&(i==="value"?r.setAttribute(i,r[i]):r[i]?r.setAttribute(i,i):r.removeAttribute(i)));r.children&&r.children.length&&t(r).find(e.join(", ")).htmlizeSyncAttributes()})},t.fn.htmlize=function(r){r=t.extend({innerHTML:!1,clone:!0},r);var i=t(this).htmlizeClone().htmlizeSyncAttributes();if(r.innerHTML){var o="";return i.each(function(){o+=this.innerHTML}),o}else return i.length?i.appendTo("<div/>").parent().get(0).innerHTML:""}})(jQuery);const _ee={name:"VizyBlock",components:{NodeViewWrapper:Ew,LightswitchField:JL,VizyBlockFields:bee,CollapseTransition:fee},props:{editor:{type:Object,default:()=>{}},node:{type:Object,default:()=>{}},decorations:{type:Array,default:()=>[]},selected:{type:Boolean,default:!1},extension:{type:Object,default:()=>{}},getPos:{type:Function,default:()=>{}},updateAttributes:{type:Function,default:()=>{}}},data(){return{activeTab:null,tippy:null,fieldsHtml:"",mounted:!1,updateFieldsHtml:0}},computed:{options(){return this.extension.options},vizyField(){return this.editor.vizyField},values(){return this.node.attrs.values},blockGroups(){return this.vizyField.settings.blockGroups},blockType(){let t={};return Mi(this.blockGroups)||this.blockGroups.forEach(e=>{const n=gb(e.blockTypes,{id:this.values.type});n&&(t=n)}),t},tabs(){return this.blockType.tabs||{}},enabled:{get(){return this.node.attrs.enabled&&this.blockType.enabled},set(t){this.node.attrs.enabled=t}},collapsed:{get(){return this.node.attrs.collapsed},set(t){this.node.attrs.collapsed=t}},canCollapseAll(){var e,n;let t=!1;return(n=(e=this.editor.state.doc)==null?void 0:e.content)==null||n.content.forEach(r=>{r.type.name==="vizyBlock"&&(r.attrs.collapsed||(t=!0))}),t},canExpandAll(){var e,n;let t=!1;return(n=(e=this.editor.state.doc)==null?void 0:e.content)==null||n.content.forEach(r=>{r.type.name==="vizyBlock"&&r.attrs.collapsed&&(t=!0)}),t},preview(){let t="";if(this.mounted){const e=$(this.$refs.fields.$el).children().children();for(let n=0;n<e.length;n++){const i=$(e[n]).children(".input").find('select,input[type!="hidden"],textarea,.label');let o="";for(let s=0;s<i.length;s++){const l=$(i[s]);let u;if(!l.hasClass("vui-json-content")){if(l.hasClass("label")){const f=l.parent().parent();if(f.hasClass("lightswitch")&&(f.hasClass("on")&&l.hasClass("off")||!f.hasClass("on")&&l.hasClass("on")))continue;u=l.text()}else u=Craft.getText(this._inputPreviewText(l));u instanceof Array&&(u=u.join(", ")),u&&(u=Craft.trim(Craft.escapeHtml(u)),u&&(o&&(o+=", "),o+=u))}}o&&(t+=(t?" <span>|</span> ":"")+o)}}return t}},watch:{"node.attrs.enabled":function(t,e){this.collapsed=!t},"node.attrs.id":function(t,e){this.fieldsHtml=this.vizyField.getCachedFieldHtml(t),this.updateFieldsHtml+=1,this.$nextTick(()=>{this.appendJs(),this.setFirstActiveTab()})}},created(){this.$nextTick(()=>{this.$events.on("vizy-blocks:updateDOM",this.onUpdateDOM)}),this.fieldsHtml=this.vizyField.getCachedFieldHtml(this.node.attrs.id),this.$events.on("vizy-blocks:collapseAll",this.collapseBlock),this.$events.on("vizy-blocks:expandAll",this.expandBlock),setTimeout(()=>{this.onFieldUpdate()},50)},mounted(){this.$nextTick(()=>{this.appendJs(),this.setFirstActiveTab(),this.mounted=!0;const t=this.$el.querySelector("#vizy-block-settings-template");t&&(t.style.display="block",this.tippy=Kr(this.$el.querySelector(".vizyblock-header .ellipsis"),{content:t,trigger:"click",allowHTML:!0,arrow:!0,interactive:!0,appendTo:document.body,placement:"bottom",theme:"light-border vizy-tippy-menu",maxWidth:"300px",duration:200,zIndex:1e3,hideOnClick:!0})),this.$el.setAttribute("draggable",!1),this.$el.addEventListener("dragstart",e=>{if(e.srcElement instanceof Element||e.srcElement instanceof HTMLDocument){let n=null;if(e.srcElement.classList.contains("vizyblock")?n=e.srcElement.querySelector(".vizyblock-header"):n=e.srcElement.closest(".vizyblock-header"),n){const r=`vui-${this.uid}-ghost`,i=document.querySelector(`#${r}`)?document.querySelector(`#${r}`):document.createElement("div");i.id=r,i.classList="vui-block-ghost",i.innerHTML=n.outerHTML,document.body.appendChild(i),e.dataTransfer.setDragImage(i,0,0)}}},!1)})},beforeUnmount(){this.onUpdateDOM(),this.$events.off("vizy-blocks:updateDOM",this.onUpdateDOM),this.$events.off("vizy-blocks:collapseAll",this.collapseBlock),this.$events.off("vizy-blocks:expandAll",this.expandBlock)},methods:{isEmpty(t){return Mi(t)},tabError(t){return(this.vizyField.getBlockSettings(this.node.attrs.id).tabErrors||[]).includes(t.tabId)},_inputPreviewText(t){if(t.is("select,multiselect")){const e=[],n=t.find("option:selected");for(let r=0;r<n.length;r++)e.push(n.eq(r).text());return e}if(t.is('input[type="checkbox"]:checked,input[type="radio"]:checked')){const e=t.attr("id"),n=$(`label[for="${e}"]`);if(n.length)return n.text()}return Garnish.getInputPostVal(t)},onUpdateDOM(){if(this.$refs.fields){const t=$(this.$refs.fields.$el.childNodes).clone();t.find(".redactor-box").length&&t.find(".redactor-box").each((n,r)=>{if($(r).parents(".vui-editor").length)return;const i=$(r).find("textarea").htmlize();$(r).replaceWith(i)}),t.find(".ck-editor").length&&t.find(".ck-editor").each((n,r)=>{if($(r).parents(".vui-editor").length)return;const i=$(r).find("textarea").htmlize();$(r).replaceWith(i)}),t.find(".selectize").length&&t.find(".selectize").each((n,r)=>{const i=$(r).parents("[data-type]").data("layout-element");if(i){const o=$(this.blockType.fieldsHtml).find(`[data-layout-element="${i}"] .selectize`);o.length&&(o.find("select").attr("id",$(r).find("select").attr("id")),o.find("select").attr("name",$(r).find("select").attr("name")),o.find("select").val($(r).find("select").val()),r.outerHTML=o.htmlize())}});const e=t.htmlize();this.vizyField.setCachedFieldHtml(this.node.attrs.id,e)}},clickBlock(t){if(!t.target.hasAttribute("data-node-view-wrapper"))return;const e=this.editor.view.posAtCoords({left:t.clientX,top:t.clientY});if(e&&e.inside>-1&&!it.isSelectable(this.editor.view.state.doc.nodeAt(e.inside)))return!1;const n=this.editor.view.state.doc.resolve(e.pos);this.editor.view.dispatch(this.editor.view.state.tr.setSelection(new fn(n)))},clickTab(t){this.activeTab=t,this.$refs.fields.$el.querySelectorAll(":scope > div").forEach(n=>{n.getAttribute("id").includes(this.activeTab)?n.classList.remove("hidden"):n.classList.add("hidden")})},toggleTitle(t){this.$el.querySelector(".actions-tabs").contains(t.target)||(this.collapsed?this.expandBlock():this.collapseBlock())},setFirstActiveTab(){this.tabs&&([this.activeTab]=Object.keys(this.tabs))},appendJs(){if(Mi(this.blockType))return;const t=this.vizyField.getCachedFieldJs(this.node.attrs.id),e=document.querySelector(`#script-${this.node.attrs.id}`);t&&(e&&e.parentElement.removeChild(e),Craft.appendBodyHtml(t))},deleteBlock(){this.tippy&&this.tippy.hide(),setTimeout(()=>{const t=this.getPos(),e={from:t,to:t+(this.node.nodeSize-1)};this.editor.chain().focus().deleteRange(e).run()},200)},collapseBlock(){this.collapsed=!0,this.tippy&&this.tippy.hide()},expandBlock(){this.collapsed=!1,this.tippy&&this.tippy.hide()},collapseAll(){this.$events.emit("vizy-blocks:collapseAll")},expandAll(){this.$events.emit("vizy-blocks:expandAll")},clickMove(){this.$events.emit("vizy-blocks:updateDOM"),this.vizyField.selectedBlockType=this.blockType.id},onFieldUpdate(){this.serializeFieldContent()},findContentBlocksForBlock(t){let e={};if(!Mi(t)){this.$el.closest(".slideout[data-element-editor] .so-body")&&(t=Object.values(t)[0],Mi(t.fields)&&(t={fields:t}));let r=t.vizyBlockFields;Mi(r)&&(r=t.fields),Mi(r)||Object.entries(r).forEach(([i,o])=>{o.blocks===void 0&&o.entries===void 0&&(e={fields:r});const s=o.blocks??o.entries??[];Mi(s)||Object.entries(s).forEach(([l,u])=>{l===this.node.attrs.id?e=u:Mi(e)&&(e=this.findContentBlocksForBlock(u))})})}return e},fixSuperTableMatrixContent(t){const e=/^__BLOCK_[a-zA-Z0-9]+__$/;if(Ur(t))t.forEach(n=>{this.fixSuperTableMatrixContent(n)});else if(gr(t)){const n=Object.keys(t);if(n.forEach(r=>{gr(t[r])&&this.fixSuperTableMatrixContent(t[r])}),n.includes("blocks")){const r=Object.keys(t.blocks);if(r.some(i=>e.test(i))){const i=r.find(o=>/^new\d+$/.test(o));if(i&&r.length===2){const o=Jj(t.blocks[r[0]],t.blocks[r[1]]);t.blocks={},t.blocks[i]=o}}}}return t},fixArrayIndexes(t){if(Array.isArray(t)){const e=Object.keys(t).map(Number).sort();!Array.from({length:t.length},(i,o)=>o).every(i=>e.includes(i))&&(t=t.filter(i=>i!==void 0))}else if(typeof t=="object"&&t!==null)for(const e in t)t[e]=this.fixArrayIndexes(t[e]);return t},serializeFieldContent(){if(Mi(this.blockType)||!this.vizyField.listenForChanges)return;const t=Garnish.getPostData(this.$refs.fields.$el),e=Object.keys(t).sort().reduce((o,s)=>(o[s]=t[s],o),{});let n=Craft.expandPostArray(e);n=this.fixArrayIndexes(n);let r=this.findContentBlocksForBlock(n);r=this.fixSuperTableMatrixContent(r);const i={...this.values};i.content=r,this.node.attrs.values=i}}},wee={key:0,class:"vizyblock-wrap"},kee={class:"titlebar"},xee={class:"blocktype"},See={key:0},Cee=["innerHTML"],Tee={class:"actions-tabs"},Eee={key:0,class:"titlebar-tabs"},Aee=["onClick"],Oee={class:"actions"},Mee=["title","aria-title"],Lee=["title","aria-title"],Nee={id:"vizy-block-settings-template",class:"vizy-menu",style:{display:"none"}},Iee={key:0},Pee=ee("span",{class:"icon"},[ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[ee("path",{d:"M344 0H488c13.3 0 24 10.7 24 24V168c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512H24c-13.3 0-24-10.7-24-24V344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z"})])],-1),Dee={class:"menu-item-label"},Ree={key:1},zee=ee("span",{class:"icon"},[ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[ee("path",{d:"M439 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8H296c-13.3 0-24-10.7-24-24V72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39L439 7zM72 272H216c13.3 0 24 10.7 24 24V440c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39L73 505c-9.4 9.4-24.6 9.4-33.9 0L7 473c-9.4-9.4-9.4-24.6 0-33.9l87-87L55 313c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8z"})])],-1),Bee={class:"menu-item-label"},$ee={key:2},Hee=ee("span",{class:"icon"},[ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[ee("path",{d:"M439 7c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8H296c-13.3 0-24-10.7-24-24V72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39L439 7zM72 272H216c13.3 0 24 10.7 24 24V440c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39L73 505c-9.4 9.4-24.6 9.4-33.9 0L7 473c-9.4-9.4-9.4-24.6 0-33.9l87-87L55 313c-6.9-6.9-8.9-17.2-5.2-26.2s12.5-14.8 22.2-14.8z"})])],-1),Fee={class:"menu-item-label"},Vee={key:3},jee=ee("span",{class:"icon"},[ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[ee("path",{d:"M344 0H488c13.3 0 24 10.7 24 24V168c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512H24c-13.3 0-24-10.7-24-24V344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z"})])],-1),Wee={class:"menu-item-label"},Uee=ee("hr",{class:"padded"},null,-1),qee=ee("span",{class:"icon"},[ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},[ee("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"})])],-1),Kee={class:"menu-item-label"},Gee={key:1,class:"vizyblock-wrap"},Yee={class:"vizyblock-invalid"},Jee={class:"error"};function Xee(t,e,n,r,i,o){const s=ut("lightswitch-field"),l=ut("vizy-block-fields"),u=ut("collapse-transition"),f=ut("node-view-wrapper");return ge(),Et(f,{class:"vizyblock",contenteditable:"false","data-vizy-block":!0,"data-type":o.blockType.handle,onCopy:e[9]||(e[9]=lt(()=>{},["stop"])),onPaste:e[10]||(e[10]=lt(()=>{},["stop"])),onCut:e[11]||(e[11]=lt(()=>{},["stop"])),onClick:o.clickBlock},{default:Vt(()=>[o.isEmpty(o.blockType)?(ge(),Se("div",Gee,[ee("div",Yee,[ee("p",Jee,Ne(t.t("vizy","Unable to parse block definition.")),1),ee("a",{class:"error","data-icon":"remove",role:"option",tabindex:"-1",onClick:e[8]||(e[8]=lt((...d)=>o.deleteBlock&&o.deleteBlock(...d),["prevent"]))})])])):(ge(),Se("div",wee,[ee("div",{class:"vizyblock-header",onDblclick:e[7]||(e[7]=lt((...d)=>o.toggleTitle&&o.toggleTitle(...d),["prevent"]))},[ee("div",kee,[ee("div",xee,[t.$isDebug?(ge(),Se("span",See,Ne(t.uid)+" "+Ne(n.node.attrs.id),1)):_t("",!0),Ui(Ne(o.blockType.name),1)]),o.collapsed?(ge(),Se("div",{key:0,class:"preview",innerHTML:o.preview},null,8,Cee)):_t("",!0)]),ee("div",Tee,[Object.keys(o.tabs).length>1?(ge(),Se("div",Eee,[(ge(!0),Se(kt,null,Zt(o.tabs,(d,m)=>(ge(),Se("a",{key:m,class:gt(["tab",{active:m===i.activeTab,error:o.tabError(d)}]),onClick:lt(v=>o.clickTab(m),["prevent"])},Ne(d.label),11,Aee))),128))])):_t("",!0),ee("div",Oee,[Qe(s,{modelValue:o.enabled,"onUpdate:modelValue":e[0]||(e[0]=d=>o.enabled=d),"extra-small":!0},null,8,["modelValue"]),ee("a",{class:"ellipsis icon",title:t.t("vizy","Actions"),"aria-title":t.t("vizy","Actions"),role:"button",tabindex:"0","aria-haspopup":"listbox","aria-expanded":"false"},null,8,Mee),ee("a",{class:"move icon",title:t.t("vizy","Reorder"),"aria-title":t.t("vizy","Reorder"),"data-drag-handle":"",role:"button",onMousedown:e[1]||(e[1]=(...d)=>o.clickMove&&o.clickMove(...d))},null,40,Lee)]),ee("div",Nee,[ee("ul",null,[o.collapsed?(ge(),Se("li",Iee,[ee("a",{class:"menu-item",role:"option",tabindex:"-1",onClick:e[2]||(e[2]=lt((...d)=>o.expandBlock&&o.expandBlock(...d),["prevent"]))},[Pee,ee("span",Dee,Ne(t.t("vizy","Expand")),1)])])):(ge(),Se("li",Ree,[ee("a",{class:"menu-item",role:"option",tabindex:"-1",onClick:e[3]||(e[3]=lt((...d)=>o.collapseBlock&&o.collapseBlock(...d),["prevent"]))},[zee,ee("span",Bee,Ne(t.t("vizy","Collapse")),1)])])),o.canCollapseAll?(ge(),Se("li",$ee,[ee("a",{class:"menu-item",role:"option",tabindex:"-1",onClick:e[4]||(e[4]=lt((...d)=>o.collapseAll&&o.collapseAll(...d),["prevent"]))},[Hee,ee("span",Fee,Ne(t.t("vizy","Collapse All")),1)])])):_t("",!0),o.canExpandAll?(ge(),Se("li",Vee,[ee("a",{class:"menu-item",role:"option",tabindex:"-1",onClick:e[5]||(e[5]=lt((...d)=>o.expandAll&&o.expandAll(...d),["prevent"]))},[jee,ee("span",Wee,Ne(t.t("vizy","Expand All")),1)])])):_t("",!0)]),Uee,ee("ul",null,[ee("li",null,[ee("a",{class:"menu-item error",role:"option",tabindex:"-1",onClick:e[6]||(e[6]=lt((...d)=>o.deleteBlock&&o.deleteBlock(...d),["prevent"]))},[qee,ee("span",Kee,Ne(t.t("vizy","Delete")),1)])])])])])],32),Qe(u,null,{default:Vt(()=>[Ut(ee("div",null,[i.fieldsHtml?(ge(),Et(l,{ref:"fields",key:i.updateFieldsHtml,class:"vizyblock-fields",template:i.fieldsHtml,onUpdate:o.onFieldUpdate},null,8,["template","onUpdate"])):_t("",!0)],512),[[Bu,!o.collapsed]])]),_:1})]))]),_:1},8,["data-type","onClick"])}const Zee=Bt(_ee,[["render",Xee]]),Qee=_n.create({name:"vizyBlock",isBlock:!0,inline:!1,group:"block",draggable:!0,defining:!0,selectable:!0,addAttributes(){return{id:{default:null},enabled:{default:!0},collapsed:{default:!1},values:{default:null}}},addStorage(){return{isNew:!1}},parseHTML(){return[{tag:"vizy-block",getAttrs:t=>JSON.parse(t.innerHTML)}]},renderHTML({HTMLAttributes:t}){return["vizy-block",JSON.stringify(t)]},addCommands(){return{setVizyBlock:t=>({tr:e,dispatch:n,view:r,state:i})=>{const{selection:o}=e,s=this.type.create(t);return n&&(e.insert(o.from,i.schema.nodes.paragraph.create()),e.replaceRangeWith(o.from,o.to,s)),this.storage.isNew=!0,!0}}},addNodeView(){return Aw(Zee,{stopEvent:({event:t})=>t.target.hasAttribute("data-drag-handle")?(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}),!1):!this.isDragging})},addProseMirrorPlugins(){return[new on({props:{handleKeyDown:(t,e)=>{if(t.state.typing=!0,e.key==="Escape"){const n=t.state.selection.$from.pos;t.state.selection.$to.pos;const r=n-1<0?0:n-1;return this.editor.chain().setTextSelection({from:r,to:r}).blur().run(),!0}},handlePaste:(t,e,n)=>{t.state.pasting=!0;const{supportedBlockTypes:r}=this.editor.vizyField;n.content.content.forEach((i,o)=>{i.type.name=="vizyBlock"&&(r.includes(i.attrs.values.type)||n.content.content.splice(o,1))})},handleClickOn:(t,e,n,r,i,o)=>{const s=i.target.closest(".vizyblock");if(!s)return!1;if(s.closest(".ProseMirror")!==t.dom)return!0;const u=i.target.closest(".vizyblock-header"),f=i.target.closest(".vizyblock-header .actions-tabs");if(!u||f)return!0}},filterTransaction:(t,e)=>{let n=!0;return(e.typing||e.pasting)&&t.mapping.maps.forEach(r=>{r.forEach((i,o,s,l)=>{e.doc.nodesBetween(i,o,(u,f,d,m,v)=>{u.type.name==="vizyBlock"&&(n=!1)})})}),n}})]}});function ete(t){var e;const{char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:s}=t,l=uL(n),u=new RegExp(`\\s${l}$`),f=o?"^":"",d=r?new RegExp(`${f}${l}.*?(?=\\s${l}|$)`,"gm"):new RegExp(`${f}(?:^)?${l}[^\\s${l}]*`,"gm"),m=((e=s.nodeBefore)===null||e===void 0?void 0:e.isText)&&s.nodeBefore.text;if(!m)return null;const v=s.pos-m.length,y=Array.from(m.matchAll(d)).pop();if(!y||y.input===void 0||y.index===void 0)return null;const _=y.input.slice(Math.max(0,y.index-1),y.index),C=new RegExp(`^[${i==null?void 0:i.join("")}\0]?$`).test(_);if(i!==null&&!C)return null;const x=v+y.index;let k=x+y[0].length;return r&&u.test(m.slice(k-1,k+1))&&(y[0]+=" ",k+=1),x<s.pos&&k>=s.pos?{range:{from:x,to:k},query:y[0].slice(n.length),text:y[0]}:null}const tte=new xn("suggestion");function nte({pluginKey:t=tte,editor:e,char:n="@",allowSpaces:r=!1,allowedPrefixes:i=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:l="suggestion",command:u=()=>null,items:f=()=>[],render:d=()=>({}),allow:m=()=>!0,findSuggestionMatch:v=ete}){let y;const _=d==null?void 0:d(),C=new on({key:t,view(){return{update:async(x,k)=>{var A,N,E,H,I,q,P;const z=(A=this.key)===null||A===void 0?void 0:A.getState(k),w=(N=this.key)===null||N===void 0?void 0:N.getState(x.state),R=z.active&&w.active&&z.range.from!==w.range.from,U=!z.active&&w.active,K=z.active&&!w.active,oe=!U&&!K&&z.query!==w.query,D=U||R,ae=oe&&!R,ce=K||R;if(!D&&!ae&&!ce)return;const ve=ce&&!D?z:w,ze=x.dom.querySelector(`[data-decoration-id="${ve.decorationId}"]`);y={editor:e,range:ve.range,query:ve.query,text:ve.text,items:[],command:qe=>{u({editor:e,range:ve.range,props:qe})},decorationNode:ze,clientRect:ze?()=>{var qe;const{decorationId:vt}=(qe=this.key)===null||qe===void 0?void 0:qe.getState(e.state),mt=x.dom.querySelector(`[data-decoration-id="${vt}"]`);return(mt==null?void 0:mt.getBoundingClientRect())||null}:null},D&&((E=_==null?void 0:_.onBeforeStart)===null||E===void 0||E.call(_,y)),ae&&((H=_==null?void 0:_.onBeforeUpdate)===null||H===void 0||H.call(_,y)),(ae||D)&&(y.items=await f({editor:e,query:ve.query})),ce&&((I=_==null?void 0:_.onExit)===null||I===void 0||I.call(_,y)),ae&&((q=_==null?void 0:_.onUpdate)===null||q===void 0||q.call(_,y)),D&&((P=_==null?void 0:_.onStart)===null||P===void 0||P.call(_,y))},destroy:()=>{var x;y&&((x=_==null?void 0:_.onExit)===null||x===void 0||x.call(_,y))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(x,k,A,N){const{isEditable:E}=e,{composing:H}=e.view,{selection:I}=x,{empty:q,from:P}=I,z={...k};if(z.composing=H,E&&(q||e.view.composing)){(P<k.range.from||P>k.range.to)&&!H&&!k.composing&&(z.active=!1);const w=v({char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:I.$from}),R=`id_${Math.floor(Math.random()*4294967295)}`;w&&m({editor:e,state:N,range:w.range})?(z.active=!0,z.decorationId=k.decorationId?k.decorationId:R,z.range=w.range,z.query=w.query,z.text=w.text):z.active=!1}else z.active=!1;return z.active||(z.decorationId=null,z.range={from:0,to:0},z.query=null,z.text=null),z}},props:{handleKeyDown(x,k){var A;const{active:N,range:E}=C.getState(x.state);return N&&((A=_==null?void 0:_.onKeyDown)===null||A===void 0?void 0:A.call(_,{view:x,event:k,range:E}))||!1},decorations(x){const{active:k,range:A,decorationId:N}=C.getState(x);return k?tn.create(x.doc,[hr.inline(A.from,A.to,{nodeName:s,class:l,"data-decoration-id":N})]):null}}});return C}const rte=ir.create({name:"Commands",addOptions(){return{suggestion:{char:"/",command:({editor:t,range:e,props:n})=>{n.command({editor:t,range:e})}}}},addProseMirrorPlugins(){return[nte({editor:this.editor,...this.options.suggestion})]}}),ite=function(t){let e=t.replace("/<(.*?)>/g","");e=e.replace(/['"‘’“”[]\(\){}:]/g,""),e=e.toLowerCase(),e=Craft.asciiString(e);const n=Craft.filterArray(e.split(/[^a-z0-9]+/));e="";for(let r=0;r<n.length;r++)r===0?e+=n[r]:e+=n[r].charAt(0).toUpperCase()+n[r].substr(1);return e},XL=function(t,e,n){let r=e;return n&&(r=e+n),t.includes(r)?XL(t,e,n+1):r},Jm=function(t=""){return t+Craft.randomString(10)};function tE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tE(Object(n),!0).forEach(function(r){Fn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xm(t){return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function ote(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ste(t,e,n){return e&&nE(t.prototype,e),n&&nE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ow(t,e){return lte(t)||cte(t,e)||ZL(t,e)||dte()}function Hd(t){return ate(t)||ute(t)||ZL(t)||fte()}function ate(t){if(Array.isArray(t))return i1(t)}function lte(t){if(Array.isArray(t))return t}function ute(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function ZL(t,e){if(t){if(typeof t=="string")return i1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i1(t,e)}}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rE=function(){},Mw={},QL={},eN=null,tN={mark:rE,measure:rE};try{typeof window<"u"&&(Mw=window),typeof document<"u"&&(QL=document),typeof MutationObserver<"u"&&(eN=MutationObserver),typeof performance<"u"&&(tN=performance)}catch{}var hte=Mw.navigator||{},iE=hte.userAgent,oE=iE===void 0?"":iE,sa=Mw,rn=QL,sE=eN,ip=tN;sa.document;var ls=!!rn.documentElement&&!!rn.head&&typeof rn.addEventListener=="function"&&typeof rn.createElement=="function",nN=~oE.indexOf("MSIE")||~oE.indexOf("Trident/"),op,sp,ap,lp,up,Xo="___FONT_AWESOME___",o1=16,rN="fa",iN="svg-inline--fa",xl="data-fa-i2svg",s1="data-fa-pseudo-element",pte="data-fa-pseudo-element-pending",Lw="data-prefix",Nw="data-icon",aE="fontawesome-i2svg",mte="async",gte=["HTML","HEAD","STYLE","SCRIPT"],oN=function(){try{return!0}catch{return!1}}(),nn="classic",mn="sharp",Iw=[nn,mn];function Fd(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[nn]}})}var pd=Fd((op={},Fn(op,nn,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Fn(op,mn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),op)),md=Fd((sp={},Fn(sp,nn,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Fn(sp,mn,{solid:"fass",regular:"fasr",light:"fasl"}),sp)),gd=Fd((ap={},Fn(ap,nn,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Fn(ap,mn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),ap)),vte=Fd((lp={},Fn(lp,nn,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Fn(lp,mn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),lp)),yte=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,sN="fa-layers-text",bte=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,_te=Fd((up={},Fn(up,nn,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Fn(up,mn,{900:"fass",400:"fasr",300:"fasl"}),up)),aN=[1,2,3,4,5,6,7,8,9,10],wte=aN.concat([11,12,13,14,15,16,17,18,19,20]),kte=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ka={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},vd=new Set;Object.keys(md[nn]).map(vd.add.bind(vd));Object.keys(md[mn]).map(vd.add.bind(vd));var xte=[].concat(Iw,Hd(vd),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ka.GROUP,Ka.SWAP_OPACITY,Ka.PRIMARY,Ka.SECONDARY]).concat(aN.map(function(t){return"".concat(t,"x")})).concat(wte.map(function(t){return"w-".concat(t)})),Nf=sa.FontAwesomeConfig||{};function Ste(t){var e=rn.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function Cte(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(rn&&typeof rn.querySelector=="function"){var Tte=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];Tte.forEach(function(t){var e=Ow(t,2),n=e[0],r=e[1],i=Cte(Ste(n));i!=null&&(Nf[r]=i)})}var lN={styleDefault:"solid",familyDefault:"classic",cssPrefix:rN,replacementClass:iN,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Nf.familyPrefix&&(Nf.cssPrefix=Nf.familyPrefix);var ic=Ue(Ue({},lN),Nf);ic.autoReplaceSvg||(ic.observeMutations=!1);var tt={};Object.keys(lN).forEach(function(t){Object.defineProperty(tt,t,{enumerable:!0,set:function(n){ic[t]=n,If.forEach(function(r){return r(tt)})},get:function(){return ic[t]}})});Object.defineProperty(tt,"familyPrefix",{enumerable:!0,set:function(e){ic.cssPrefix=e,If.forEach(function(n){return n(tt)})},get:function(){return ic.cssPrefix}});sa.FontAwesomeConfig=tt;var If=[];function Ete(t){return If.push(t),function(){If.splice(If.indexOf(t),1)}}var As=o1,po={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ate(t){if(!(!t||!ls)){var e=rn.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=rn.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}return rn.head.insertBefore(e,r),t}}var Ote="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function yd(){for(var t=12,e="";t-- >0;)e+=Ote[Math.random()*62|0];return e}function dc(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Pw(t){return t.classList?dc(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function uN(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Mte(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(uN(t[n]),'" ')},"").trim()}function iv(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Dw(t){return t.size!==po.size||t.x!==po.x||t.y!==po.y||t.rotate!==po.rotate||t.flipX||t.flipY}function Lte(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(o," ").concat(s," ").concat(l)},f={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:u,path:f}}function Nte(t){var e=t.transform,n=t.width,r=n===void 0?o1:n,i=t.height,o=i===void 0?o1:i,s=t.startCentered,l=s===void 0?!1:s,u="";return l&&nN?u+="translate(".concat(e.x/As-r/2,"em, ").concat(e.y/As-o/2,"em) "):l?u+="translate(calc(-50% + ".concat(e.x/As,"em), calc(-50% + ").concat(e.y/As,"em)) "):u+="translate(".concat(e.x/As,"em, ").concat(e.y/As,"em) "),u+="scale(".concat(e.size/As*(e.flipX?-1:1),", ").concat(e.size/As*(e.flipY?-1:1),") "),u+="rotate(".concat(e.rotate,"deg) "),u}var Ite=`:root, :host {
========
}`;function aN(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let lN=class extends MK{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=aN(sY,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=Z_(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(sN):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Ua(n,this)}createCommandManager(){this.commandManager=new Id({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=rw(this.options.content,this.schema,this.options.parseOptions),n=nw(e,this.options.autofocus);this.view=new Gq(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:du.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return aw(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return oN(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return ow(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return sw(this.state.doc,{blockSeparator:n,textSerializers:{...Jg(this.schema),...r}})}get isEmpty(){return lw(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Fs(n,this)}get $doc(){return this.$pos(0)}};function oa(t){return new uc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=wt(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],l=r[0];if(s){const u=l.search(/\S/),f=n.from+l.indexOf(s),d=f+s.length;if(ev(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(C=>C===t.type&&C!==y.mark.type)).filter(y=>y.to>f).length)return null;d<n.to&&o.delete(d,n.to),f>n.from&&o.delete(n.from+u,f);const v=n.from+u+s.length;o.addMark(n.from+u,v,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function uw(t){return new uc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=wt(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let l=n.to;const u=t.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let d=s+f;d>l?d=l:l=d+r[1].length;const m=r[0][r[0].length-1];o.insertText(m,s+r[0].length-1),o.replaceWith(d,l,u)}else r[0]&&o.insert(s-1,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(l));o.scrollIntoView()}})}function Nm(t){return new uc({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=wt(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function aY(t){return new uc({find:t.find,handler:({state:e,range:n,match:r})=>{let i=t.replace,o=n.from;const s=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);i+=r[0].slice(l+r[1].length),o+=l;const u=o-s;u>0&&(i=r[0].slice(l-u,l)+i,o=s)}e.tr.insertText(i,o,s)}})}function Zu(t){return new uc({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=wt(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),u=s.doc.resolve(n.from).blockRange(),f=u&&R_(u,t.type,o);if(!f)return null;if(s.wrap(u,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:v}=e,{splittableMarks:y}=t.editor.extensionManager,_=v||m.$to.parentOffset&&m.$from.marks();if(_){const C=_.filter(x=>y.includes(x.type.name));s.ensureMarks(C)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,o).run()}const d=s.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&pa(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,d))&&s.join(n.from-1)}})}class or{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(Ye(this,"addOptions",{name:this.name}))),this.storage=wt(Ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new or(e)}configure(e={}){const n=this.extend();return n.options=Dd(this.options,e),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new or({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(Ye(n,"addOptions",{name:n.name})),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(f=>(f==null?void 0:f.type.name)===n.name))return!1;const u=s.find(f=>(f==null?void 0:f.type.name)===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}let _n=class Hb{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(Ye(this,"addOptions",{name:this.name}))),this.storage=wt(Ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Hb(e)}configure(e={}){const n=this.extend();return n.options=Dd(this.options,e),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Hb({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(Ye(n,"addOptions",{name:n.name})),n.storage=wt(Ye(n,"addStorage",{name:n.name,options:n.options})),n}};function lY(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class uN{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,i,o,s,l,u;const{view:f}=this.editor,d=e.target,m=d.nodeType===3?(n=d.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(d)||!m)return;let v=0,y=0;if(this.dom!==m){const x=this.dom.getBoundingClientRect(),k=m.getBoundingClientRect(),A=(i=e.offsetX)!==null&&i!==void 0?i:(o=e.nativeEvent)===null||o===void 0?void 0:o.offsetX,L=(s=e.offsetY)!==null&&s!==void 0?s:(l=e.nativeEvent)===null||l===void 0?void 0:l.offsetY;v=k.x-x.x+A,y=k.y-x.y+L}(u=e.dataTransfer)===null||u===void 0||u.setDragImage(this.dom,v,y);const _=it.create(f.state.doc,this.getPos()),C=f.state.tr.setSelection(_);f.dispatch(C)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!o)return!0;const{isEditable:u}=this.editor,{isDragging:f}=this,d=!!this.node.type.spec.draggable,m=it.isSelectable(this.node),v=e.type==="copy",y=e.type==="paste",_=e.type==="cut",C=e.type==="mousedown";if(!d&&m&&o&&e.preventDefault(),d&&o&&!f)return e.preventDefault(),!1;if(d&&u&&!f&&C){const x=r.closest("[data-drag-handle]");x&&(this.dom===x||this.dom.contains(x))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(f||s||v||y||_||C&&m)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(Rd()||lY())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0})}deleteNode(){const e=this.getPos(),n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function Yo(t){return new Yg({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=wt(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,l=r[r.length-1],u=r[0];let f=n.to;if(l){const d=u.search(/\S/),m=n.from+u.indexOf(l),v=m+l.length;if(ev(n.from,n.to,e.doc).filter(_=>_.mark.type.excluded.find(x=>x===t.type&&x!==_.mark.type)).filter(_=>_.to>m).length)return null;v<n.to&&s.delete(v,n.to),m>n.from&&s.delete(n.from+d,m),f=n.from+d+l.length,s.addMark(n.from+d,f,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}function cN(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function uY(t){return typeof t=="string"}function cY(t){return new Yg({find:t.find,handler({match:e,chain:n,range:r,pasteEvent:i}){const o=wt(t.getAttributes,void 0,e,i);if(o===!1||o===null)return null;e.input&&n().deleteRange(r).insertContentAt(r.from,{type:t.type.name,attrs:o})}})}function fY(t){return new Yg({find:t.find,handler:({state:e,range:n,match:r})=>{let i=t.replace,o=n.from;const s=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);i+=r[0].slice(l+r[1].length),o+=l;const u=o-s;u>0&&(i=r[0].slice(l-u,l)+i,o=s)}e.tr.insertText(i,o,s)}})}class dY{constructor(e){this.transaction=e,this.currentStep=this.transaction.steps.length}map(e){let n=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((i,o)=>{const s=o.getMap().mapResult(i);return s.deleted&&(n=!0),s.pos},e),deleted:n}}}const hY=Object.freeze(Object.defineProperty({__proto__:null,CommandManager:Id,Editor:lN,Extension:ir,InputRule:uc,Mark:or,Node:_n,NodePos:Fs,NodeView:uN,PasteRule:Yg,Tracker:dY,callOrReturn:wt,combineTransactionSteps:Z4,createChainableState:Ld,createDocument:rw,createNodeFromContent:ud,createStyleTag:aN,defaultBlockAt:Q4,deleteProps:Bb,elementFromString:Om,escapeForRegEx:cN,extensions:sN,findChildren:CG,findChildrenInRange:eN,findDuplicates:Y4,findParentNode:Bd,findParentNodeClosestToPos:iw,fromString:W4,generateHTML:TG,generateJSON:EG,generateText:AG,getAttributes:aw,getAttributesFromExtensions:X_,getChangedRanges:rN,getDebugJSON:iN,getExtensionField:Ye,getHTMLFromFragment:ow,getMarkAttributes:cc,getMarkRange:Xg,getMarkType:as,getMarksBetween:ev,getNodeAtPosition:MG,getNodeAttributes:tN,getNodeType:Hn,getRenderedAttributes:Am,getSchema:Qg,getSchemaByResolvedExtensions:Q_,getSchemaTypeByName:Ap,getSchemaTypeNameByName:zd,getSplittedAttributes:Sf,getText:sw,getTextBetween:ew,getTextContentFromNodes:U4,getTextSerializersFromSchema:Jg,injectExtensionAttributesToParseRule:Db,inputRulesPlugin:q4,isActive:oN,isAtEndOfNode:NG,isAtStartOfNode:LG,isEmptyObject:j4,isExtensionRulesEnabled:Rb,isFunction:Z_,isList:$b,isMacOS:Zg,isMarkActive:Mm,isNodeActive:Xu,isNodeEmpty:lw,isNodeSelection:IG,isNumber:K4,isPlainObject:Op,isRegExp:Gg,isString:uY,isTextSelection:tw,isiOS:Rd,markInputRule:oa,markPasteRule:Yo,mergeAttributes:zt,mergeDeep:Dd,minMax:ho,nodeInputRule:uw,nodePasteRule:cY,objectIncludes:ld,pasteRulesPlugin:G4,posToDOMRect:PG,removeDuplicates:nN,resolveFocusPosition:nw,selectionToInsertionEnd:X4,splitExtensions:Pd,textInputRule:aY,textPasteRule:fY,textblockTypeInputRule:Nm,wrappingInputRule:Zu},Symbol.toStringTag,{value:"Module"})),pY=[{name:"bold",svg:"bold",title:Craft.t("vizy","Bold"),action:t=>t.chain().focus().toggleBold().run(),isActive:t=>t.isActive("bold")},{name:"italic",svg:"italic",title:Craft.t("vizy","Italic"),action:t=>t.chain().focus().toggleItalic().run(),isActive:t=>t.isActive("italic")},{name:"strikethrough",svg:"strikethrough",title:Craft.t("vizy","Strike"),action:t=>t.chain().focus().toggleStrike().run(),isActive:t=>t.isActive("strike")},{name:"subscript",svg:"subscript",title:Craft.t("vizy","Subscript"),action:t=>t.chain().focus().toggleSubscript().run(),isActive:t=>t.isActive("subscript")},{name:"superscript",svg:"superscript",title:Craft.t("vizy","Superscript"),action:t=>t.chain().focus().toggleSuperscript().run(),isActive:t=>t.isActive("superscript")},{name:"underline",svg:"underline",title:Craft.t("vizy","Underline"),action:t=>t.chain().focus().toggleUnderline().run(),isActive:t=>t.isActive("underline")},{name:"code",svg:"brackets-curly",title:Craft.t("vizy","Inline Code"),action:t=>t.chain().focus().toggleCode().run(),isActive:t=>t.isActive("code")},{name:"highlight",icon:"highlighter",title:Craft.t("vizy","Highlight"),action:t=>t.chain().focus().toggleHighlight().run(),isActive:t=>t.isActive("highlight")},{name:"paragraph",svg:"text",title:Craft.t("vizy","Paragraph"),action:t=>t.chain().focus().setParagraph().run(),isActive:t=>t.isActive("paragraph")},{name:"unordered-list",svg:"list-ul",title:Craft.t("vizy","Bullet List"),action:t=>t.chain().focus().toggleBulletList().run(),isActive:t=>t.isActive("bulletList")},{name:"ordered-list",svg:"list-ol",title:Craft.t("vizy","Ordered List"),action:t=>t.chain().focus().toggleOrderedList().run(),isActive:t=>t.isActive("orderedList")},{name:"code-block",svg:"code",title:Craft.t("vizy","Code Block"),action:t=>t.chain().focus().toggleCodeBlock().run(),isActive:t=>t.isActive("codeBlock")},{name:"blockquote",svg:"quote-right",title:Craft.t("vizy","Blockquote"),action:t=>t.chain().focus().toggleBlockquote().run(),isActive:t=>t.isActive("blockquote")},{name:"h1",svg:"h1",title:Craft.t("vizy","Heading 1"),action:t=>t.chain().focus().toggleHeading({level:1}).run(),isActive:t=>t.isActive("heading",{level:1})},{name:"h2",svg:"h2",title:Craft.t("vizy","Heading 2"),action:t=>t.chain().focus().toggleHeading({level:2}).run(),isActive:t=>t.isActive("heading",{level:2})},{name:"h3",svg:"h3",title:Craft.t("vizy","Heading 3"),action:t=>t.chain().focus().toggleHeading({level:3}).run(),isActive:t=>t.isActive("heading",{level:3})},{name:"h4",svg:"h4",title:Craft.t("vizy","Heading 4"),action:t=>t.chain().focus().toggleHeading({level:4}).run(),isActive:t=>t.isActive("heading",{level:4})},{name:"h5",svg:"h5",title:Craft.t("vizy","Heading 5"),action:t=>t.chain().focus().toggleHeading({level:5}).run(),isActive:t=>t.isActive("heading",{level:5})},{name:"h6",svg:"h6",title:Craft.t("vizy","Heading 6"),action:t=>t.chain().focus().toggleHeading({level:6}).run(),isActive:t=>t.isActive("heading",{level:6})},{name:"hr",svg:"horizontal-rule",title:Craft.t("vizy","Horizontal Rule"),action:t=>t.chain().focus().setHorizontalRule().run(),isActive:t=>t.isActive("hr")},{name:"line-break",svg:"page-break",title:Craft.t("vizy","Line Break"),action:t=>t.chain().focus().setHardBreak().run()},{name:"clear-format",svg:"remove-format",title:Craft.t("vizy","Clear Format"),action:t=>t.chain().focus().clearNodes().unsetAllMarks().run()},{name:"undo",svg:"undo",title:Craft.t("vizy","Undo"),action:t=>t.chain().focus().undo().run()},{name:"redo",svg:"redo",title:Craft.t("vizy","Redo"),action:t=>t.chain().focus().redo().run()},{name:"align-left",icon:"align-left",title:Craft.t("vizy","Align Left"),action:t=>t.chain().focus().setTextAlign("left").run(),isActive:t=>t.isActive({textAlign:"left"})},{name:"align-center",icon:"align-center",title:Craft.t("vizy","Align Center"),action:t=>t.chain().focus().setTextAlign("center").run(),isActive:t=>t.isActive({textAlign:"center"})},{name:"align-right",icon:"align-right",title:Craft.t("vizy","Align Right"),action:t=>t.chain().focus().setTextAlign("right").run(),isActive:t=>t.isActive({textAlign:"right"})},{name:"align-justify",icon:"align-justify",title:Craft.t("vizy","Align Justify"),action:t=>t.chain().focus().setTextAlign("justify").run(),isActive:t=>t.isActive({textAlign:"justify"})},{name:"formatting",icon:"paragraph",title:Craft.t("vizy","Formatting"),options:[{name:"paragraph",title:Craft.t("vizy","Paragraph"),action:t=>t.chain().focus().setParagraph().run(),isActive:t=>t.isActive("paragraph")},{name:"code-block",title:Craft.t("vizy","Code Block"),action:t=>t.chain().focus().toggleCodeBlock().run(),isActive:t=>t.isActive("codeBlock")},{name:"blockquote",title:Craft.t("vizy","Blockquote"),action:t=>t.chain().focus().toggleBlockquote().run(),isActive:t=>t.isActive("blockquote")},{name:"h1",title:Craft.t("vizy","Heading 1"),action:t=>t.chain().focus().toggleHeading({level:1}).run(),isActive:t=>t.isActive("heading",{level:1})},{name:"h2",title:Craft.t("vizy","Heading 2"),action:t=>t.chain().focus().toggleHeading({level:2}).run(),isActive:t=>t.isActive("heading",{level:2})},{name:"h3",title:Craft.t("vizy","Heading 3"),action:t=>t.chain().focus().toggleHeading({level:3}).run(),isActive:t=>t.isActive("heading",{level:3})},{name:"h4",title:Craft.t("vizy","Heading 4"),action:t=>t.chain().focus().toggleHeading({level:4}).run(),isActive:t=>t.isActive("heading",{level:4})},{name:"h5",title:Craft.t("vizy","Heading 5"),action:t=>t.chain().focus().toggleHeading({level:5}).run(),isActive:t=>t.isActive("heading",{level:5})},{name:"h6",title:Craft.t("vizy","Heading 6"),action:t=>t.chain().focus().toggleHeading({level:6}).run(),isActive:t=>t.isActive("heading",{level:6})}]},{name:"table",svg:"table",title:Craft.t("vizy","Table"),isActive:t=>t.isActive("table"),options:[{name:"insert-table",title:Craft.t("vizy","Insert Table"),action:t=>t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},{name:"delete-table",title:Craft.t("vizy","Delete Table"),action:t=>t.chain().focus().deleteTable().run()},{name:"add-col-before",title:Craft.t("vizy","Add Column Before"),action:t=>t.chain().focus().addColumnBefore().run()},{name:"add-col-after",title:Craft.t("vizy","Add Column After"),action:t=>t.chain().focus().addColumnAfter().run()},{name:"delete-col",title:Craft.t("vizy","Delete Column"),action:t=>t.chain().focus().deleteColumn().run()},{name:"add-row-before",title:Craft.t("vizy","Add Row Before"),action:t=>t.chain().focus().addRowBefore().run()},{name:"add-row-after",title:Craft.t("vizy","Add Row After"),action:t=>t.chain().focus().addRowAfter().run()},{name:"delete-row",title:Craft.t("vizy","Delete Row"),action:t=>t.chain().focus().deleteRow().run()},{name:"merge-cells",title:Craft.t("vizy","Merge Cells"),action:t=>t.chain().focus().mergeCells().run()},{name:"split-cells",title:Craft.t("vizy","Split Cells"),action:t=>t.chain().focus().splitCell().run()},{name:"toggle-header-column",title:Craft.t("vizy","Toggle Header Column"),action:t=>t.chain().focus().toggleHeaderColumn().run()},{name:"toggle-header-row",title:Craft.t("vizy","Toggle Header Row"),action:t=>t.chain().focus().toggleHeaderRow().run()},{name:"toggle-header-cell",title:Craft.t("vizy","Toggle Header Cell"),action:t=>t.chain().focus().toggleHeaderCell().run()}]},{name:"link",svg:"link",title:Craft.t("vizy","Link"),component:"LinkMenuBarItem",isActive:t=>t.isActive("link")},{name:"image",icon:"image",title:Craft.t("vizy","Image"),component:"ImageMenuBarItem",isActive:t=>t.isActive("image")},{name:"html",svg:"file-code",title:Craft.t("vizy","HTML"),action:t=>t.emit("vui:code-editor-toggle")},{name:"iframe",svg:"rectangle-code",title:Craft.t("vizy","iFrame"),component:"IframeMenuBarItem",isActive:t=>t.isActive("iframe")},{name:"media-embed",svg:"photo-film",title:Craft.t("vizy","Media Embed"),component:"MediaEmbedMenuBarItem",isActive:t=>t.isActive("mediaEmbed")}],mY=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,gY=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,vY=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,yY=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,bY=or.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[oa({find:mY,type:this.type}),oa({find:vY,type:this.type})]},addPasteRules(){return[Yo({find:gY,type:this.type}),Yo({find:yY,type:this.type})]}}),_Y=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,wY=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,kY=or.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[oa({find:_Y,type:this.type})]},addPasteRules(){return[Yo({find:wY,type:this.type})]}}),xY=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,SY=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,CY=or.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[oa({find:xY,type:this.type})]},addPasteRules(){return[Yo({find:SY,type:this.type})]}}),TY=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,EY=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,AY=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,OY=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,MY=or.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[oa({find:TY,type:this.type}),oa({find:AY,type:this.type})]},addPasteRules(){return[Yo({find:EY,type:this.type}),Yo({find:OY,type:this.type})]}}),NY=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,LY=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,IY=or.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return Zg()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[oa({find:NY,type:this.type})]},addPasteRules(){return[Yo({find:LY,type:this.type})]}}),PY=or.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(t){return t!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sub",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setSubscript:()=>({commands:t})=>t.setMark(this.name),toggleSubscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSubscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),DY=or.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(t){return t!=="super"?!1:null}}]},renderHTML({HTMLAttributes:t}){return["sup",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setSuperscript:()=>({commands:t})=>t.setMark(this.name),toggleSuperscript:()=>({commands:t})=>t.toggleMark(this.name),unsetSuperscript:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),RY=or.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),zY=/^\s*>\s$/,BY=_n.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Zu({find:zY,type:this.type})]}}),$Y=_n.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",zt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),aT=or.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=cc(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),lT=/^\s*([-+*])\s$/,HY=_n.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes($Y.name,this.editor.getAttributes(aT.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Zu({find:lT,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Zu({find:lT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(aT.name),editor:this.editor})),[t]}}),FY=/^```([a-z]+)?[\s\n]$/,VY=/^~~~([a-z]+)?[\s\n]$/,jY=_n.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",zt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0||r.nodeAt(l)?!1:t.commands.exitCode()}}},addInputRules(){return[Nm({find:FY,type:this.type,getAttributes:t=>({language:t[1]})}),Nm({find:VY,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new on({key:new xn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(st.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),WY=_n.create({name:"doc",topNode:!0,content:"block+"}),UY=_n.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",zt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=r.extensionManager,u=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:d})=>{if(d&&u&&s){const m=u.filter(v=>l.includes(v.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),qY=_n.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Nm({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),KY=_n.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",zt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{$to:n}=e.selection,r=t();return n.parentOffset===0?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command(({tr:i,dispatch:o})=>{var s;if(o){const{$to:l}=i.selection,u=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?i.setSelection(st.create(i.doc,l.pos+1)):l.nodeAfter.isBlock?i.setSelection(it.create(i.doc,l.pos)):i.setSelection(st.create(i.doc,l.pos));else{const f=(s=l.parent.type.contentMatch.defaultType)===null||s===void 0?void 0:s.create();f&&(i.insert(u,f),i.setSelection(st.create(i.doc,u+1)))}i.scrollIntoView()}return!0}).run()}}},addInputRules(){return[uw({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),GY=_n.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",zt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),YY=_n.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",zt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),uT=or.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=cc(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),cT=/^(\d+)\.\s$/,JY=_n.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",zt(this.options.HTMLAttributes,n),0]:["ol",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(YY.name,this.editor.getAttributes(uT.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Zu({find:cT,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Zu({find:cT,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(uT.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),XY=_n.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}});var Fb,Vb;if(typeof WeakMap<"u"){let t=new WeakMap;Fb=e=>t.get(e),Vb=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;Fb=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},Vb=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var vn=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let o=r+1,s=i+1;for(let l=1;o<this.width&&this.map[e+l]==n;l++)o++;for(let l=1;s<this.height&&this.map[e+this.width*l]==n;l++)s++;return{left:r,top:i,right:o,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:o,bottom:s}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:s==this.height)?null:this.map[r+this.width*(n<0?o-1:s)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:o}=this.findCell(t),{left:s,right:l,top:u,bottom:f}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(i,u),right:Math.max(r,l),bottom:Math.max(o,f)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const o=r*this.width+i,s=this.map[o];n[s]||(n[s]=!0,!(i==t.left&&i&&this.map[o-1]==s||r==t.top&&r&&this.map[o-this.width]==s)&&e.push(s))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==t){let s=e+t*this.width;const l=(t+1)*this.width;for(;s<l&&this.map[s]<i;)s++;return s==l?o-1:this.map[s]}i=o}}static get(t){return Fb(t)||Vb(t,ZY(t))}};function ZY(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=QY(t),n=t.childCount,r=[];let i=0,o=null;const s=[];for(let f=0,d=e*n;f<d;f++)r[f]=0;for(let f=0,d=0;f<n;f++){const m=t.child(f);d++;for(let _=0;;_++){for(;i<r.length&&r[i]!=0;)i++;if(_==m.childCount)break;const C=m.child(_),{colspan:x,rowspan:k,colwidth:A}=C.attrs;for(let L=0;L<k;L++){if(L+f>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:d,n:k-L});break}const E=i+L*e;for(let H=0;H<x;H++){r[E+H]==0?r[E+H]=d:(o||(o=[])).push({type:"collision",row:f,pos:d,n:x-H});const I=A&&A[H];if(I){const q=(E+H)%e*2,P=s[q];P==null||P!=I&&s[q+1]==1?(s[q]=I,s[q+1]=1):P==I&&s[q+1]++}}}i+=x,d+=C.nodeSize}const v=(f+1)*e;let y=0;for(;i<v;)r[i++]==0&&y++;y&&(o||(o=[])).push({type:"missing",row:f,n:y}),d++}const l=new vn(e,n,r,o);let u=!1;for(let f=0;!u&&f<s.length;f+=2)s[f]!=null&&s[f+1]<n&&(u=!0);return u&&eJ(l,s,t),l}function QY(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let o=0;if(n)for(let s=0;s<r;s++){const l=t.child(s);for(let u=0;u<l.childCount;u++){const f=l.child(u);s+f.attrs.rowspan>r&&(o+=f.attrs.colspan)}}for(let s=0;s<i.childCount;s++){const l=i.child(s);o+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function eJ(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const o=t.map[i];if(r[o])continue;r[o]=!0;const s=n.nodeAt(o);if(!s)throw new RangeError(`No cell with offset ${o} found`);let l=null;const u=s.attrs;for(let f=0;f<u.colspan;f++){const d=(i+f)%t.width,m=e[d*2];m!=null&&(!u.colwidth||u.colwidth[f]!=m)&&((l||(l=tJ(u)))[f]=m)}l&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:l})}}function tJ(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function yr(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var Vs=new xn("selectingCells");function fc(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function nJ(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function Gi(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function tv(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=fc(e.$head)||rJ(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function rJ(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function jb(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function iJ(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function cw(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function fN(t,e,n){const r=t.node(-1),i=vn.get(r),o=t.start(-1),s=i.nextCell(t.pos-o,e,n);return s==null?null:t.node(0).resolve(o+s)}function wl(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function dN(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function oJ(t,e,n){const r=yr(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var Lt=class extends ht{constructor(t,e=t){const n=t.node(-1),r=vn.get(n),i=t.start(-1),o=r.rectBetween(t.pos-i,e.pos-i),s=t.node(0),l=r.cellsInRect(o).filter(f=>f!=e.pos-i);l.unshift(e.pos-i);const u=l.map(f=>{const d=n.nodeAt(f);if(!d)throw RangeError(`No cell with offset ${f} found`);const m=i+f+1;return new r4(s.resolve(m),s.resolve(m+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=e}map(t,e){const n=t.resolve(e.map(this.$anchorCell.pos)),r=t.resolve(e.map(this.$headCell.pos));if(jb(n)&&jb(r)&&cw(n,r)){const i=this.$anchorCell.node(-1)!=n.node(-1);return i&&this.isRowSelection()?Lt.rowSelection(n,r):i&&this.isColSelection()?Lt.colSelection(n,r):new Lt(n,r)}return st.between(n,r)}content(){const t=this.$anchorCell.node(-1),e=vn.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},o=[];for(let l=r.top;l<r.bottom;l++){const u=[];for(let f=l*e.width+r.left,d=r.left;d<r.right;d++,f++){const m=e.map[f];if(i[m])continue;i[m]=!0;const v=e.findCell(m);let y=t.nodeAt(m);if(!y)throw RangeError(`No cell with offset ${m} found`);const _=r.left-v.left,C=v.right-r.right;if(_>0||C>0){let x=y.attrs;if(_>0&&(x=wl(x,0,_)),C>0&&(x=wl(x,x.colspan-C,C)),v.left<r.left){if(y=y.type.createAndFill(x),!y)throw RangeError(`Could not create cell with attrs ${JSON.stringify(x)}`)}else y=y.type.create(x,y.content)}if(v.top<r.top||v.bottom>r.bottom){const x={...y.attrs,rowspan:Math.min(v.bottom,r.bottom)-Math.max(v.top,r.top)};v.top<r.top?y=y.type.createAndFill(x):y=y.type.create(x,y.content)}u.push(y)}o.push(t.child(l).copy(Oe.from(u)))}const s=this.isColSelection()&&this.isRowSelection()?t:o;return new He(Oe.from(s),1,1)}replace(t,e=He.empty){const n=t.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){const{$from:s,$to:l}=r[o],u=t.mapping.slice(n);t.replace(u.map(s.pos),u.map(l.pos),o?He.empty:e)}const i=ht.findFrom(t.doc.resolve(t.mapping.slice(n).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,e){this.replace(t,new He(Oe.from(e),0,0))}forEachCell(t){const e=this.$anchorCell.node(-1),n=vn.get(e),r=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let o=0;o<i.length;o++)t(e.nodeAt(i[o]),r+i[o])}isColSelection(){const t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;const n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(t,e=t){const n=t.node(-1),r=vn.get(n),i=t.start(-1),o=r.findCell(t.pos-i),s=r.findCell(e.pos-i),l=t.node(0);return o.top<=s.top?(o.top>0&&(t=l.resolve(i+r.map[o.left])),s.bottom<r.height&&(e=l.resolve(i+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(e=l.resolve(i+r.map[s.left])),o.bottom<r.height&&(t=l.resolve(i+r.map[r.width*(r.height-1)+o.right-1]))),new Lt(t,e)}isRowSelection(){const t=this.$anchorCell.node(-1),e=vn.get(t),n=this.$anchorCell.start(-1),r=e.colCount(this.$anchorCell.pos-n),i=e.colCount(this.$headCell.pos-n);if(Math.min(r,i)>0)return!1;const o=r+this.$anchorCell.nodeAfter.attrs.colspan,s=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,s)==e.width}eq(t){return t instanceof Lt&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,e=t){const n=t.node(-1),r=vn.get(n),i=t.start(-1),o=r.findCell(t.pos-i),s=r.findCell(e.pos-i),l=t.node(0);return o.left<=s.left?(o.left>0&&(t=l.resolve(i+r.map[o.top*r.width])),s.right<r.width&&(e=l.resolve(i+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(e=l.resolve(i+r.map[s.top*r.width])),o.right<r.width&&(t=l.resolve(i+r.map[r.width*(o.top+1)-1]))),new Lt(t,e)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,e){return new Lt(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){return new Lt(t.resolve(e),t.resolve(n))}getBookmark(){return new hN(this.$anchorCell.pos,this.$headCell.pos)}};Lt.prototype.visible=!1;ht.jsonID("cell",Lt);var hN=class{constructor(t,e){this.anchor=t,this.head=e}map(t){return new hN(t.map(this.anchor),t.map(this.head))}resolve(t){const e=t.resolve(this.anchor),n=t.resolve(this.head);return e.parent.type.spec.tableRole=="row"&&n.parent.type.spec.tableRole=="row"&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&cw(e,n)?new Lt(e,n):ht.near(n,1)}};function sJ(t){if(!(t.selection instanceof Lt))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(hr.node(r,r+n.nodeSize,{class:"selectedCell"}))}),tn.create(t.doc,e)}function aJ({$from:t,$to:e}){if(t.pos==e.pos||t.pos<t.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function lJ({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&e.parentOffset===0}function uJ(t,e,n){const r=(e||t).selection,i=(e||t).doc;let o,s;if(r instanceof it&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")o=Lt.create(i,r.from);else if(s=="row"){const l=i.resolve(r.from+1);o=Lt.rowSelection(l,l)}else if(!n){const l=vn.get(r.node),u=r.from+1,f=u+l.map[l.width*l.height-1];o=Lt.create(i,u+1,f)}}else r instanceof st&&aJ(r)?o=st.create(i,r.from):r instanceof st&&lJ(r)&&(o=st.create(i,r.$from.start(),r.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}var cJ=new xn("fix-tables");function pN(t,e,n,r){const i=t.childCount,o=e.childCount;e:for(let s=0,l=0;s<o;s++){const u=e.child(s);for(let f=l,d=Math.min(i,s+3);f<d;f++)if(t.child(f)==u){l=f+1,n+=u.nodeSize;continue e}r(u,n),l<i&&t.child(l).sameMarkup(u)?pN(t.child(l),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function mN(t,e){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=fJ(t,i,o,n))};return e?e.doc!=t.doc&&pN(e.doc,t.doc,0,r):t.doc.descendants(r),n}function fJ(t,e,n,r){const i=vn.get(e);if(!i.problems)return r;r||(r=t.tr);const o=[];for(let u=0;u<i.height;u++)o.push(0);for(let u=0;u<i.problems.length;u++){const f=i.problems[u];if(f.type=="collision"){const d=e.nodeAt(f.pos);if(!d)continue;const m=d.attrs;for(let v=0;v<m.rowspan;v++)o[f.row+v]+=f.n;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,wl(m,m.colspan-f.n,f.n))}else if(f.type=="missing")o[f.row]+=f.n;else if(f.type=="overlong_rowspan"){const d=e.nodeAt(f.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-f.n})}else if(f.type=="colwidth mismatch"){const d=e.nodeAt(f.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...d.attrs,colwidth:f.colwidth})}}let s,l;for(let u=0;u<o.length;u++)o[u]&&(s==null&&(s=u),l=u);for(let u=0,f=n+1;u<i.height;u++){const d=e.child(u),m=f+d.nodeSize,v=o[u];if(v>0){let y="cell";d.firstChild&&(y=d.firstChild.type.spec.tableRole);const _=[];for(let x=0;x<v;x++){const k=yr(t.schema)[y].createAndFill();k&&_.push(k)}const C=(u==0||s==u-1)&&l==u?f+1:m-1;r.insert(r.mapping.map(C),_)}f=m}return r.setMeta(cJ,{fixTables:!0})}function dJ(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),o=i.type.spec.tableRole,s=i.type.schema,l=[];if(o=="row")for(let u=0;u<e.childCount;u++){let f=e.child(u).content;const d=u?0:Math.max(0,n-1),m=u<e.childCount-1?0:Math.max(0,r-1);(d||m)&&(f=Wb(yr(s).row,new He(f,d,m)).content),l.push(f)}else if(o=="cell"||o=="header_cell")l.push(n||r?Wb(yr(s).row,new He(e,n,r)).content:e);else return null;return hJ(s,l)}function hJ(t,e){const n=[];for(let i=0;i<e.length;i++){const o=e[i];for(let s=o.childCount-1;s>=0;s--){const{rowspan:l,colspan:u}=o.child(s).attrs;for(let f=i;f<i+l;f++)n[f]=(n[f]||0)+u}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(Oe.empty),n[i]<r){const o=yr(t).cell.createAndFill(),s=[];for(let l=n[i];l<r;l++)s.push(o);e[i]=e[i].append(Oe.from(s))}return{height:e.length,width:r,rows:e}}function Wb(t,e){const n=t.createAndFill();return new z_(n).replace(0,n.content.size,e).doc}function pJ({width:t,height:e,rows:n},r,i){if(t!=r){const o=[],s=[];for(let l=0;l<n.length;l++){const u=n[l],f=[];for(let d=o[l]||0,m=0;d<r;m++){let v=u.child(m%u.childCount);d+v.attrs.colspan>r&&(v=v.type.createChecked(wl(v.attrs,v.attrs.colspan,d+v.attrs.colspan-r),v.content)),f.push(v),d+=v.attrs.colspan;for(let y=1;y<v.attrs.rowspan;y++)o[l+y]=(o[l+y]||0)+v.attrs.colspan}s.push(Oe.from(f))}n=s,t=r}if(e!=i){const o=[];for(let s=0,l=0;s<i;s++,l++){const u=[],f=n[l%e];for(let d=0;d<f.childCount;d++){let m=f.child(d);s+m.attrs.rowspan>i&&(m=m.type.create({...m.attrs,rowspan:Math.max(1,i-m.attrs.rowspan)},m.content)),u.push(m)}o.push(Oe.from(u))}n=o,e=i}return{width:t,height:e,rows:n}}function mJ(t,e,n,r,i,o,s){const l=t.doc.type.schema,u=yr(l);let f,d;if(i>e.width)for(let m=0,v=0;m<e.height;m++){const y=n.child(m);v+=y.nodeSize;const _=[];let C;y.lastChild==null||y.lastChild.type==u.cell?C=f||(f=u.cell.createAndFill()):C=d||(d=u.header_cell.createAndFill());for(let x=e.width;x<i;x++)_.push(C);t.insert(t.mapping.slice(s).map(v-1+r),_)}if(o>e.height){const m=[];for(let _=0,C=(e.height-1)*e.width;_<Math.max(e.width,i);_++){const x=_>=e.width?!1:n.nodeAt(e.map[C+_]).type==u.header_cell;m.push(x?d||(d=u.header_cell.createAndFill()):f||(f=u.cell.createAndFill()))}const v=u.row.create(null,Oe.from(m)),y=[];for(let _=e.height;_<o;_++)y.push(v);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),y)}return!!(f||d)}function fT(t,e,n,r,i,o,s,l){if(s==0||s==e.height)return!1;let u=!1;for(let f=i;f<o;f++){const d=s*e.width+f,m=e.map[d];if(e.map[d-e.width]==m){u=!0;const v=n.nodeAt(m),{top:y,left:_}=e.findCell(m);t.setNodeMarkup(t.mapping.slice(l).map(m+r),null,{...v.attrs,rowspan:s-y}),t.insert(t.mapping.slice(l).map(e.positionAt(s,_,n)),v.type.createAndFill({...v.attrs,rowspan:y+v.attrs.rowspan-s})),f+=v.attrs.colspan-1}}return u}function dT(t,e,n,r,i,o,s,l){if(s==0||s==e.width)return!1;let u=!1;for(let f=i;f<o;f++){const d=f*e.width+s,m=e.map[d];if(e.map[d-1]==m){u=!0;const v=n.nodeAt(m),y=e.colCount(m),_=t.mapping.slice(l).map(m+r);t.setNodeMarkup(_,null,wl(v.attrs,s-y,v.attrs.colspan-(s-y))),t.insert(_+v.nodeSize,v.type.createAndFill(wl(v.attrs,0,s-y))),f+=v.attrs.rowspan-1}}return u}function hT(t,e,n,r,i){let o=n?t.doc.nodeAt(n-1):t.doc;if(!o)throw new Error("No table found");let s=vn.get(o);const{top:l,left:u}=r,f=u+i.width,d=l+i.height,m=t.tr;let v=0;function y(){if(o=n?m.doc.nodeAt(n-1):m.doc,!o)throw new Error("No table found");s=vn.get(o),v=m.mapping.maps.length}mJ(m,s,o,n,f,d,v)&&y(),fT(m,s,o,n,u,f,l,v)&&y(),fT(m,s,o,n,u,f,d,v)&&y(),dT(m,s,o,n,l,d,u,v)&&y(),dT(m,s,o,n,l,d,f,v)&&y();for(let _=l;_<d;_++){const C=s.positionAt(_,u,o),x=s.positionAt(_,f,o);m.replace(m.mapping.slice(v).map(C+n),m.mapping.slice(v).map(x+n),new He(i.rows[_-l],0,0))}y(),m.setSelection(new Lt(m.doc.resolve(n+s.positionAt(l,u,o)),m.doc.resolve(n+s.positionAt(d-1,f-1,o)))),e(m)}var gJ=G_({ArrowLeft:Yh("horiz",-1),ArrowRight:Yh("horiz",1),ArrowUp:Yh("vert",-1),ArrowDown:Yh("vert",1),"Shift-ArrowLeft":Jh("horiz",-1),"Shift-ArrowRight":Jh("horiz",1),"Shift-ArrowUp":Jh("vert",-1),"Shift-ArrowDown":Jh("vert",1),Backspace:Xh,"Mod-Backspace":Xh,Delete:Xh,"Mod-Delete":Xh});function Mp(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Yh(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof Lt)return Mp(n,r,ht.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;const s=gN(i,t,e);if(s==null)return!1;if(t=="horiz")return Mp(n,r,ht.near(n.doc.resolve(o.head+e),e));{const l=n.doc.resolve(s),u=fN(l,t,e);let f;return u?f=ht.near(u,1):e<0?f=ht.near(n.doc.resolve(l.before(-1)),-1):f=ht.near(n.doc.resolve(l.after(-1)),1),Mp(n,r,f)}}}function Jh(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let s;if(o instanceof Lt)s=o;else{const u=gN(i,t,e);if(u==null)return!1;s=new Lt(n.doc.resolve(u))}const l=fN(s.$headCell,t,e);return l?Mp(n,r,new Lt(s.$anchorCell,l)):!1}}function Xh(t,e){const n=t.selection;if(!(n instanceof Lt))return!1;if(e){const r=t.tr,i=yr(t.schema).cell.createAndFill().content;n.forEachCell((o,s)=>{o.content.eq(i)||r.replace(r.mapping.map(s+1),r.mapping.map(s+o.nodeSize-1),new He(i,0,0))}),r.docChanged&&e(r)}return!0}function vJ(t,e){const n=t.state.doc,r=fc(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new Lt(r))),!0):!1}function yJ(t,e,n){if(!Gi(t.state))return!1;let r=dJ(n);const i=t.state.selection;if(i instanceof Lt){r||(r={width:1,height:1,rows:[Oe.from(Wb(yr(t.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),l=vn.get(o).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=pJ(r,l.right-l.left,l.bottom-l.top),hT(t.state,t.dispatch,s,l,r),!0}else if(r){const o=tv(t.state),s=o.start(-1);return hT(t.state,t.dispatch,s,vn.get(o.node(-1)).findCell(o.pos-s),r),!0}else return!1}function bJ(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=pT(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof Lt)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=fc(t.state.selection.$anchor))!=null&&((n=Yy(t,e))==null?void 0:n.pos)!=i.pos)o(i,e),e.preventDefault();else if(!r)return;function o(u,f){let d=Yy(t,f);const m=Vs.getState(t.state)==null;if(!d||!cw(u,d))if(m)d=u;else return;const v=new Lt(u,d);if(m||!t.state.selection.eq(v)){const y=t.state.tr.setSelection(v);m&&y.setMeta(Vs,u.pos),t.dispatch(y)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",l),Vs.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(Vs,-1))}function l(u){const f=u,d=Vs.getState(t.state);let m;if(d!=null)m=t.state.doc.resolve(d);else if(pT(t,f.target)!=r&&(m=Yy(t,e),!m))return s();m&&o(m,f)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",l)}function gN(t,e,n){if(!(t.state.selection instanceof st))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const l=r.before(i),u=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?l:null}}return null}function pT(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Yy(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?fc(t.state.doc.resolve(n.pos)):null}var _J=class{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Ub(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Ub(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Ub(t,e,n,r,i,o){var s;let l=0,u=!0,f=e.firstChild;const d=t.firstChild;if(d){for(let m=0,v=0;m<d.childCount;m++){const{colspan:y,colwidth:_}=d.child(m).attrs;for(let C=0;C<y;C++,v++){const x=i==v?o:_&&_[C],k=x?x+"px":"";l+=x||r,x||(u=!1),f?(f.style.width!=k&&(f.style.width=k),f=f.nextSibling):e.appendChild(document.createElement("col")).style.width=k}}for(;f;){const m=f.nextSibling;(s=f.parentNode)==null||s.removeChild(f),f=m}u?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var gi=new xn("tableColumnResizing");function wJ({handleWidth:t=5,cellMinWidth:e=25,View:n=_J,lastColumnResizable:r=!0}={}){const i=new on({key:gi,state:{init(o,s){return i.spec.props.nodeViews[yr(s.schema).table.name]=(l,u)=>new n(l,e,u),new Np(-1,!1)},apply(o,s){return s.apply(o)}},props:{attributes:o=>{const s=gi.getState(o);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,s)=>{kJ(o,s,t,e,r)},mouseleave:o=>{xJ(o)},mousedown:(o,s)=>{SJ(o,s,e)}},decorations:o=>{const s=gi.getState(o);if(s&&s.activeHandle>-1)return MJ(o,s.activeHandle)},nodeViews:{}}});return i}var Np=class{constructor(t,e){this.activeHandle=t,this.dragging=e}apply(t){const e=this,n=t.getMeta(gi);if(n&&n.setHandle!=null)return new Np(n.setHandle,!1);if(n&&n.setDragging!==void 0)return new Np(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){let r=t.mapping.map(e.activeHandle,-1);return jb(t.doc.resolve(r))||(r=-1),new Np(r,e.dragging)}return e}};function kJ(t,e,n,r,i){const o=gi.getState(t.state);if(o&&!o.dragging){const s=TJ(e.target);let l=-1;if(s){const{left:u,right:f}=s.getBoundingClientRect();e.clientX-u<=n?l=mT(t,e,"left"):f-e.clientX<=n&&(l=mT(t,e,"right"))}if(l!=o.activeHandle){if(!i&&l!==-1){const u=t.state.doc.resolve(l),f=u.node(-1),d=vn.get(f),m=u.start(-1);if(d.colCount(u.pos-m)+u.nodeAfter.attrs.colspan-1==d.width-1)return}vN(t,l)}}}function xJ(t){const e=gi.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&vN(t,-1)}function SJ(t,e,n){const r=gi.getState(t.state);if(!r||r.activeHandle==-1||r.dragging)return!1;const i=t.state.doc.nodeAt(r.activeHandle),o=CJ(t,r.activeHandle,i.attrs);t.dispatch(t.state.tr.setMeta(gi,{setDragging:{startX:e.clientX,startWidth:o}}));function s(u){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",l);const f=gi.getState(t.state);f!=null&&f.dragging&&(EJ(t,f.activeHandle,gT(f.dragging,u,n)),t.dispatch(t.state.tr.setMeta(gi,{setDragging:null})))}function l(u){if(!u.which)return s(u);const f=gi.getState(t.state);if(f&&f.dragging){const d=gT(f.dragging,u,n);AJ(t,f.activeHandle,d,n)}}return window.addEventListener("mouseup",s),window.addEventListener("mousemove",l),e.preventDefault(),!0}function CJ(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=t.domAtPos(e);let l=o.node.childNodes[o.offset].offsetWidth,u=n;if(r)for(let f=0;f<n;f++)r[f]&&(l-=r[f],u--);return l/u}function TJ(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function mT(t,e,n){const r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;const{pos:i}=r,o=fc(t.state.doc.resolve(i));if(!o)return-1;if(n=="right")return o.pos;const s=vn.get(o.node(-1)),l=o.start(-1),u=s.map.indexOf(o.pos-l);return u%s.width==0?-1:l+s.map[u-1]}function gT(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function vN(t,e){t.dispatch(t.state.tr.setMeta(gi,{setHandle:e}))}function EJ(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),o=vn.get(i),s=r.start(-1),l=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,u=t.state.tr;for(let f=0;f<o.height;f++){const d=f*o.width+l;if(f&&o.map[d]==o.map[d-o.width])continue;const m=o.map[d],v=i.nodeAt(m).attrs,y=v.colspan==1?0:l-o.colCount(m);if(v.colwidth&&v.colwidth[y]==n)continue;const _=v.colwidth?v.colwidth.slice():OJ(v.colspan);_[y]=n,u.setNodeMarkup(s+m,null,{...v,colwidth:_})}u.docChanged&&t.dispatch(u)}function AJ(t,e,n,r){const i=t.state.doc.resolve(e),o=i.node(-1),s=i.start(-1),l=vn.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;let u=t.domAtPos(i.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&Ub(o,u.firstChild,u,r,l,n)}function OJ(t){return Array(t).fill(0)}function MJ(t,e){const n=[],r=t.doc.resolve(e),i=r.node(-1);if(!i)return tn.empty;const o=vn.get(i),s=r.start(-1),l=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let u=0;u<o.height;u++){const f=l+u*o.width-1;if((l==o.width||o.map[f]!=o.map[f+1])&&(u==0||o.map[f-1]!=o.map[f-1-o.width])){const d=o.map[f],m=s+d+i.nodeAt(d).nodeSize-1,v=document.createElement("div");v.className="column-resize-handle",n.push(hr.widget(m,v))}}return tn.create(t.doc,n)}function ko(t){const e=t.selection,n=tv(t),r=n.node(-1),i=n.start(-1),o=vn.get(r);return{...e instanceof Lt?o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function yN(t,{map:e,tableStart:n,table:r},i){let o=i>0?-1:0;oJ(e,r,i+o)&&(o=i==0||i==e.width?null:0);for(let s=0;s<e.height;s++){const l=s*e.width+i;if(i>0&&i<e.width&&e.map[l-1]==e.map[l]){const u=e.map[l],f=r.nodeAt(u);t.setNodeMarkup(t.mapping.map(n+u),null,dN(f.attrs,i-e.colCount(u))),s+=f.attrs.rowspan-1}else{const u=o==null?yr(r.type.schema).cell:r.nodeAt(e.map[l+o]).type,f=e.positionAt(s,i,r);t.insert(t.mapping.map(n+f),u.createAndFill())}}return t}function NJ(t,e){if(!Gi(t))return!1;if(e){const n=ko(t);e(yN(t.tr,n,n.left))}return!0}function LJ(t,e){if(!Gi(t))return!1;if(e){const n=ko(t);e(yN(t.tr,n,n.right))}return!0}function IJ(t,{map:e,table:n,tableStart:r},i){const o=t.mapping.maps.length;for(let s=0;s<e.height;){const l=s*e.width+i,u=e.map[l],f=n.nodeAt(u),d=f.attrs;if(i>0&&e.map[l-1]==u||i<e.width-1&&e.map[l+1]==u)t.setNodeMarkup(t.mapping.slice(o).map(r+u),null,wl(d,i-e.colCount(u)));else{const m=t.mapping.slice(o).map(r+u);t.delete(m,m+f.nodeSize)}s+=d.rowspan}}function PJ(t,e){if(!Gi(t))return!1;if(e){const n=ko(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;IJ(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=vn.get(o)}e(r)}return!0}function DJ(t,e,n){var r;const i=yr(e.type.schema).header_cell;for(let o=0;o<t.width;o++)if(((r=e.nodeAt(t.map[o+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function bN(t,{map:e,tableStart:n,table:r},i){var o;let s=n;for(let f=0;f<i;f++)s+=r.child(f).nodeSize;const l=[];let u=i>0?-1:0;DJ(e,r,i+u)&&(u=i==0||i==e.height?null:0);for(let f=0,d=e.width*i;f<e.width;f++,d++)if(i>0&&i<e.height&&e.map[d]==e.map[d-e.width]){const m=e.map[d],v=r.nodeAt(m).attrs;t.setNodeMarkup(n+m,null,{...v,rowspan:v.rowspan+1}),f+=v.colspan-1}else{const m=u==null?yr(r.type.schema).cell:(o=r.nodeAt(e.map[d+u*e.width]))==null?void 0:o.type,v=m==null?void 0:m.createAndFill();v&&l.push(v)}return t.insert(s,yr(r.type.schema).row.create(null,l)),t}function RJ(t,e){if(!Gi(t))return!1;if(e){const n=ko(t);e(bN(t.tr,n,n.top))}return!0}function zJ(t,e){if(!Gi(t))return!1;if(e){const n=ko(t);e(bN(t.tr,n,n.bottom))}return!0}function BJ(t,{map:e,table:n,tableStart:r},i){let o=0;for(let u=0;u<i;u++)o+=n.child(u).nodeSize;const s=o+n.child(i).nodeSize,l=t.mapping.maps.length;t.delete(o+r,s+r);for(let u=0,f=i*e.width;u<e.width;u++,f++){const d=e.map[f];if(i>0&&d==e.map[f-e.width]){const m=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(l).map(d+r),null,{...m,rowspan:m.rowspan-1}),u+=m.colspan-1}else if(i<e.width&&d==e.map[f+e.width]){const m=n.nodeAt(d),v=m.attrs,y=m.type.create({...v,rowspan:m.attrs.rowspan-1},m.content),_=e.positionAt(i+1,u,n);t.insert(t.mapping.slice(l).map(r+_),y),u+=v.colspan-1}}}function $J(t,e){if(!Gi(t))return!1;if(e){const n=ko(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;BJ(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=vn.get(n.table)}e(r)}return!0}function vT(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function HJ({width:t,height:e,map:n},r){let i=r.top*t+r.left,o=i,s=(r.bottom-1)*t+r.left,l=i+(r.right-r.left-1);for(let u=r.top;u<r.bottom;u++){if(r.left>0&&n[o]==n[o-1]||r.right<t&&n[l]==n[l+1])return!0;o+=t,l+=t}for(let u=r.left;u<r.right;u++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[s]==n[s+t])return!0;i++,s++}return!1}function yT(t,e){const n=t.selection;if(!(n instanceof Lt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=ko(t),{map:i}=r;if(HJ(i,r))return!1;if(e){const o=t.tr,s={};let l=Oe.empty,u,f;for(let d=r.top;d<r.bottom;d++)for(let m=r.left;m<r.right;m++){const v=i.map[d*i.width+m],y=r.table.nodeAt(v);if(!(s[v]||!y))if(s[v]=!0,u==null)u=v,f=y;else{vT(y)||(l=l.append(y.content));const _=o.mapping.map(v+r.tableStart);o.delete(_,_+y.nodeSize)}}if(u==null||f==null)return!0;if(o.setNodeMarkup(u+r.tableStart,null,{...dN(f.attrs,f.attrs.colspan,r.right-r.left-f.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const d=u+1+f.content.size,m=vT(f)?u+1:d;o.replaceWith(m+r.tableStart,d+r.tableStart,l)}o.setSelection(new Lt(o.doc.resolve(u+r.tableStart))),e(o)}return!0}function bT(t,e){const n=yr(t.schema);return FJ(({node:r})=>n[r.type.spec.tableRole])(t,e)}function FJ(t){return(e,n)=>{var r;const i=e.selection;let o,s;if(i instanceof Lt){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,s=i.$anchorCell.pos}else{if(o=nJ(i.$from),!o)return!1;s=(r=fc(i.$from))==null?void 0:r.pos}if(o==null||s==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let l=o.attrs;const u=[],f=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=ko(e),m=e.tr;for(let y=0;y<d.right-d.left;y++)u.push(f?{...l,colwidth:f&&f[y]?[f[y]]:null}:l);let v;for(let y=d.top;y<d.bottom;y++){let _=d.map.positionAt(y,d.left,d.table);y==d.top&&(_+=o.nodeSize);for(let C=d.left,x=0;C<d.right;C++,x++)C==d.left&&y==d.top||m.insert(v=m.mapping.map(_+d.tableStart,1),t({node:o,row:y,col:C}).createAndFill(u[x]))}m.setNodeMarkup(s,t({node:o,row:d.top,col:d.left}),u[0]),i instanceof Lt&&m.setSelection(new Lt(m.doc.resolve(i.$anchorCell.pos),v?m.doc.resolve(v):void 0)),n(m)}return!0}}function VJ(t,e){return function(n,r){if(!Gi(n))return!1;const i=tv(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const o=n.tr;n.selection instanceof Lt?n.selection.forEachCell((s,l)=>{s.attrs[t]!==e&&o.setNodeMarkup(l,null,{...s.attrs,[t]:e})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(o)}return!0}}function jJ(t){return function(e,n){if(!Gi(e))return!1;if(n){const r=yr(e.schema),i=ko(e),o=e.tr,s=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),l=s.map(u=>i.table.nodeAt(u));for(let u=0;u<s.length;u++)l[u].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[u],r.cell,l[u].attrs);if(o.steps.length==0)for(let u=0;u<s.length;u++)o.setNodeMarkup(i.tableStart+s[u],r.header_cell,l[u].attrs);n(o)}return!0}}function _T(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const o=e.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function cd(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?jJ(t):function(n,r){if(!Gi(n))return!1;if(r){const i=yr(n.schema),o=ko(n),s=n.tr,l=_T("row",o,i),u=_T("column",o,i),d=(t==="column"?l:t==="row"?u:!1)?1:0,m=t=="column"?{left:0,top:d,right:1,bottom:o.map.height}:t=="row"?{left:d,top:0,right:o.map.width,bottom:1}:o,v=t=="column"?u?i.cell:i.header_cell:t=="row"?l?i.cell:i.header_cell:i.cell;o.map.cellsInRect(m).forEach(y=>{const _=y+o.tableStart,C=s.doc.nodeAt(_);C&&s.setNodeMarkup(_,v,C.attrs)}),r(s)}return!0}}cd("row",{useDeprecatedLogic:!0});cd("column",{useDeprecatedLogic:!0});var WJ=cd("cell",{useDeprecatedLogic:!0});function UJ(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const o=t.node(-1).child(r),s=o.lastChild;if(s)return i-1-s.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function wT(t){return function(e,n){if(!Gi(e))return!1;const r=UJ(tv(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(st.between(i,iJ(i))).scrollIntoView())}return!0}}function qJ(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function KJ({allowTableNodeSelection:t=!1}={}){return new on({key:Vs,state:{init(){return null},apply(e,n){const r=e.getMeta(Vs);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:o}=e.mapping.mapResult(n);return i?null:o}},props:{decorations:sJ,handleDOMEvents:{mousedown:bJ},createSelectionBetween(e){return Vs.getState(e.state)!=null?e.state.selection:null},handleTripleClick:vJ,handleKeyDown:gJ,handlePaste:yJ},appendTransaction(e,n,r){return uJ(r,mN(r,n),t)}})}function kT(t,e,n,r,i,o){let s=0,l=!0,u=e.firstChild;const f=t.firstChild;for(let d=0,m=0;d<f.childCount;d+=1){const{colspan:v,colwidth:y}=f.child(d).attrs;for(let _=0;_<v;_+=1,m+=1){const C=i===m?o:y&&y[_],x=C?`${C}px`:"";s+=C||r,C||(l=!1),u?(u.style.width!==x&&(u.style.width=x),u=u.nextSibling):e.appendChild(document.createElement("col")).style.width=x}}for(;u;){const d=u.nextSibling;u.parentNode.removeChild(u),u=d}l?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class GJ{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),kT(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,kT(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function YJ(t,e,n,r){let i=0,o=!0;const s=[],l=t.firstChild;if(!l)return{};for(let m=0,v=0;m<l.childCount;m+=1){const{colspan:y,colwidth:_}=l.child(m).attrs;for(let C=0;C<y;C+=1,v+=1){const x=n===v?r:_&&_[C],k=x?`${x}px`:"";i+=x||e,x||(o=!1),s.push(["col",k?{style:`width: ${k}`}:{}])}}const u=o?`${i}px`:"",f=o?"":`${i}px`;return{colgroup:["colgroup",{},...s],tableWidth:u,tableMinWidth:f}}function xT(t,e){return e?t.createChecked(null,e):t.createAndFill()}function JJ(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function XJ(t,e,n,r,i){const o=JJ(t),s=[],l=[];for(let f=0;f<n;f+=1){const d=xT(o.cell,i);if(d&&l.push(d),r){const m=xT(o.header_cell,i);m&&s.push(m)}}const u=[];for(let f=0;f<e;f+=1)u.push(o.row.createChecked(null,r&&f===0?s:l));return o.table.createChecked(null,u)}function ZJ(t){return t instanceof Lt}const Zh=({editor:t})=>{const{selection:e}=t.state;if(!ZJ(e))return!1;let n=0;const r=iw(e.ranges[0].$from,o=>o.type.name==="table");return r==null||r.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},QJ=_n.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:GJ,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=YJ(t,this.options.cellMinWidth);return["table",zt(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`minWidth: ${i}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:o})=>{const s=XJ(o.schema,t,e,n);if(i){const l=r.selection.anchor+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(st.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>NJ(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>LJ(t,e),deleteColumn:()=>({state:t,dispatch:e})=>PJ(t,e),addRowBefore:()=>({state:t,dispatch:e})=>RJ(t,e),addRowAfter:()=>({state:t,dispatch:e})=>zJ(t,e),deleteRow:()=>({state:t,dispatch:e})=>$J(t,e),deleteTable:()=>({state:t,dispatch:e})=>qJ(t,e),mergeCells:()=>({state:t,dispatch:e})=>yT(t,e),splitCell:()=>({state:t,dispatch:e})=>bT(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>cd("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>cd("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>WJ(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>yT(t,e)?!0:bT(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>VJ(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>wT(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>wT(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&mN(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=Lt.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Zh,"Mod-Backspace":Zh,Delete:Zh,"Mod-Delete":Zh}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[wJ({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],KJ({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:wt(Ye(t,"tableRole",e))}}}),eX=_n.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",zt(this.options.HTMLAttributes,t),0]}}),tX=_n.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?[parseInt(e,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",zt(this.options.HTMLAttributes,t),0]}}),nX=_n.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",zt(this.options.HTMLAttributes,t),0]}}),rX=_n.create({name:"text",group:"inline"});function iX(t={}){return new on({view(e){return new oX(e,t)}})}class oX{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,u=e.nodeAfter;if(l||u){let f=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(f){let d=f.getBoundingClientRect(),m=l?d.bottom:d.top;l&&u&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:d.left,right:d.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let l=i.getBoundingClientRect();o=l.left-i.scrollLeft,s=l.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Z6(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const sX=ir.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[iX(this.options)]}});ir.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new on({key:new xn("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!n||!r)return tn.create(t,[]);let s=0;this.options.mode==="deepest"&&t.descendants((u,f)=>{if(u.isText)return;if(!(i>=f&&i<=f+u.nodeSize-1))return!1;s+=1});let l=0;return t.descendants((u,f)=>{if(u.isText||!(i>=f&&i<=f+u.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&s-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";o.push(hr.node(f,f+u.nodeSize,{class:this.options.className}))}),tn.create(t,o)}}})]}});class fn extends ht{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return fn.valid(r)?new fn(r):ht.near(r)}content(){return He.empty}eq(e){return e instanceof fn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new fn(e.resolve(n.pos))}getBookmark(){return new fw(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!aX(e)||!lX(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&fn.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){o=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let u=e.doc.resolve(i);if(fn.valid(u))return u}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!it.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let l=e.doc.resolve(i);if(fn.valid(l))return l}return null}}}fn.prototype.visible=!1;fn.findFrom=fn.findGapCursorFrom;ht.jsonID("gapcursor",fn);class fw{constructor(e){this.pos=e}map(e){return new fw(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return fn.valid(n)?new fn(n):ht.near(n)}}function aX(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function lX(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function uX(){return new on({props:{decorations:hX,createSelectionBetween(t,e,n){return e.pos==n.pos&&fn.valid(n)?new fn(n):null},handleClick:fX,handleKeyDown:cX,handleDOMEvents:{beforeinput:dX}}})}const cX=G_({ArrowLeft:Qh("horiz",-1),ArrowRight:Qh("horiz",1),ArrowUp:Qh("vert",-1),ArrowDown:Qh("vert",1)});function Qh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,l=e>0?s.$to:s.$from,u=s.empty;if(s instanceof st){if(!o.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let f=fn.findGapCursorFrom(l,e,u);return f?(i&&i(r.tr.setSelection(new fn(f))),!0):!1}}function fX(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!fn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&it.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new fn(r))),!0)}function dX(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof fn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Oe.empty;for(let s=r.length-1;s>=0;s--)i=Oe.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new He(i,0,0));return o.setSelection(st.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function hX(t){if(!(t.selection instanceof fn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",tn.create(t.doc,[hr.widget(t.selection.head,e,{key:"gapcursor"})])}const pX=ir.create({name:"gapCursor",addProseMirrorPlugins(){return[uX()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=wt(Ye(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}});var Lm=200,rr=function(){};rr.prototype.append=function(e){return e.length?(e=rr.from(e),!this.length&&e||e.length<Lm&&this.leafAppend(e)||this.length<Lm&&e.leafPrepend(this)||this.appendInner(e)):this};rr.prototype.prepend=function(e){return e.length?rr.from(e).append(this):this};rr.prototype.appendInner=function(e){return new mX(this,e)};rr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?rr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};rr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};rr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};rr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};rr.from=function(e){return e instanceof rr?e:e&&e.length?new _N(e):rr.empty};var _N=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var u=o;u<s;u++)if(i(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var u=o-1;u>=s;u--)if(i(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Lm)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Lm)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(rr);rr.empty=new _N([]);var mX=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(rr),wN=rr;const gX=500;class Di{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,u,f=[],d=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(r,v+1),o=i.maps.length),o--,d.push(m);return}if(i){d.push(new ro(m.map));let y=m.step.map(i.slice(o)),_;y&&s.maybeStep(y).doc&&(_=s.mapping.maps[s.mapping.maps.length-1],f.push(new ro(_,void 0,void 0,f.length+d.length))),o--,_&&i.appendMap(_,o)}else s.maybeStep(m.step);if(m.selection)return l=i?m.selection.map(i.slice(o)):m.selection,u=new Di(this.items.slice(0,r).append(d.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:s,selection:l}}addTransform(e,n,r,i){let o=[],s=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let m=e.steps[d].invert(e.docs[d]),v=new ro(e.mapping.maps[d],m,n),y;(y=u&&u.merge(v))&&(v=y,d?o.pop():l=l.slice(0,l.length-1)),o.push(v),n&&(s++,n=void 0),i||(u=v)}let f=s-r.depth;return f>yX&&(l=vX(l,f),s-=f),new Di(l.append(o),s)}remapping(e,n){let r=new Ou;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new Di(this.items.append(e.map(n=>new ro(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(v=>{v.selection&&l--},i);let u=n;this.items.forEach(v=>{let y=o.getMirror(--u);if(y==null)return;s=Math.min(s,y);let _=o.maps[y];if(v.step){let C=e.steps[y].invert(e.docs[y]),x=v.selection&&v.selection.map(o.slice(u+1,y));x&&l++,r.push(new ro(_,C,x))}else r.push(new ro(_))},i);let f=[];for(let v=n;v<s;v++)f.push(new ro(o.maps[v]));let d=this.items.slice(0,i).append(f).append(r),m=new Di(d,l);return m.emptyItemCount()>gX&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let u=s.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let d=s.selection&&s.selection.map(n.slice(r));d&&o++;let m=new ro(f.invert(),u,d),v,y=i.length-1;(v=i.length&&i[y].merge(m))?i[y]=v:i.push(m)}}else s.map&&r--},this.items.length,0),new Di(wN.from(i.reverse()),o)}}Di.empty=new Di(wN.empty,0);function vX(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ro{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ro(n.getMap().invert(),n,this.selection)}}}class Bs{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const yX=20;function bX(t,e,n,r){let i=n.getMeta(Zs),o;if(i)return i.historyState;n.getMeta(wX)&&(t=new Bs(t.done,t.undone,null,0));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Zs))return s.getMeta(Zs).redo?new Bs(t.done.addTransform(n,void 0,r,Lp(e)),t.undone,ST(n.mapping.maps[n.steps.length-1]),t.prevTime):new Bs(t.done,t.undone.addTransform(n,void 0,r,Lp(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=t.prevTime==0||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!_X(n,t.prevRanges)),u=s?Jy(t.prevRanges,n.mapping):ST(n.mapping.maps[n.steps.length-1]);return new Bs(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Lp(e)),Di.empty,u,n.time)}else return(o=n.getMeta("rebased"))?new Bs(t.done.rebased(n,o),t.undone.rebased(n,o),Jy(t.prevRanges,n.mapping),t.prevTime):new Bs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Jy(t.prevRanges,n.mapping),t.prevTime)}function _X(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function ST(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function Jy(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function kN(t,e,n,r){let i=Lp(e),o=Zs.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let l=s.selection.resolve(s.transform.doc),u=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),f=new Bs(r?u:s.remaining,r?s.remaining:u,null,0);n(s.transform.setSelection(l).setMeta(Zs,{redo:r,historyState:f}).scrollIntoView())}let Xy=!1,CT=null;function Lp(t){let e=t.plugins;if(CT!=e){Xy=!1,CT=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Xy=!0;break}}return Xy}const Zs=new xn("history"),wX=new xn("closeHistory");function kX(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new on({key:Zs,state:{init(){return new Bs(Di.empty,Di.empty,null,0)},apply(e,n,r){return bX(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?xN:r=="historyRedo"?SN:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const xN=(t,e)=>{let n=Zs.getState(t);return!n||n.done.eventCount==0?!1:(e&&kN(n,t,e,!1),!0)},SN=(t,e)=>{let n=Zs.getState(t);return!n||n.undone.eventCount==0?!1:(e&&kN(n,t,e,!0),!0)},xX=ir.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>xN(t,e),redo:()=>({state:t,dispatch:e})=>SN(t,e)}},addProseMirrorPlugins(){return[kX(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),SX=ir.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>t.style.textAlign||this.options.defaultAlignment,renderHTML:t=>t.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${t.textAlign}`}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.every(n=>e.updateAttributes(n,{textAlign:t})):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.every(e=>t.resetAttributes(e,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),CX="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mögensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",TX="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत_म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里_大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Qu=(t,e)=>{for(const n in e)t[n]=e[n];return t},qb="numeric",Kb="ascii",Gb="alpha",Ip="asciinumeric",ep="alphanumeric",Yb="domain",CN="emoji",EX="scheme",AX="slashscheme",TT="whitespace";function OX(t,e){return t in e||(e[t]=[]),e[t]}function qa(t,e,n){e[qb]&&(e[Ip]=!0,e[ep]=!0),e[Kb]&&(e[Ip]=!0,e[Gb]=!0),e[Ip]&&(e[ep]=!0),e[Gb]&&(e[ep]=!0),e[ep]&&(e[Yb]=!0),e[CN]&&(e[Yb]=!0);for(const r in e){const i=OX(r,n);i.indexOf(t)<0&&i.push(t)}}function MX(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Br(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Br.groups={};Br.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Br.groups;let i;return e&&e.j?i=e:(i=new Br(e),n&&r&&qa(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(t[s]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||Br.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let s,l=i.go(t);if(l?(s=new Br,Qu(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new Br,o){if(r)if(s.t&&typeof s.t=="string"){const u=Qu(MX(s.t,r),n);qa(o,u,r)}else n&&qa(o,n,r);s.t=o}return i.j[t]=s,s}};const rt=(t,e,n,r,i)=>t.ta(e,n,r,i),hi=(t,e,n,r,i)=>t.tr(e,n,r,i),ET=(t,e,n,r,i)=>t.ts(e,n,r,i),Pe=(t,e,n,r,i)=>t.tt(e,n,r,i),Do="WORD",Jb="UWORD",fd="LOCALHOST",Xb="TLD",Zb="UTLD",Pp="SCHEME",cu="SLASH_SCHEME",Im="NUM",TN="WS",dw="NL",pu="OPENBRACE",Cf="OPENBRACKET",Tf="OPENANGLEBRACKET",Ef="OPENPAREN",$a="CLOSEBRACE",mu="CLOSEBRACKET",gu="CLOSEANGLEBRACKET",Ha="CLOSEPAREN",Pm="AMPERSAND",Dm="APOSTROPHE",Rm="ASTERISK",$s="AT",zm="BACKSLASH",Bm="BACKTICK",$m="CARET",js="COLON",hw="COMMA",Hm="DOLLAR",io="DOT",Fm="EQUALS",pw="EXCLAMATION",oo="HYPHEN",Vm="PERCENT",jm="PIPE",Wm="PLUS",Um="POUND",qm="QUERY",mw="QUOTE",gw="SEMI",zo="SLASH",Af="TILDE",Km="UNDERSCORE",EN="EMOJI",Gm="SYM";var AN=Object.freeze({__proto__:null,WORD:Do,UWORD:Jb,LOCALHOST:fd,TLD:Xb,UTLD:Zb,SCHEME:Pp,SLASH_SCHEME:cu,NUM:Im,WS:TN,NL:dw,OPENBRACE:pu,OPENBRACKET:Cf,OPENANGLEBRACKET:Tf,OPENPAREN:Ef,CLOSEBRACE:$a,CLOSEBRACKET:mu,CLOSEANGLEBRACKET:gu,CLOSEPAREN:Ha,AMPERSAND:Pm,APOSTROPHE:Dm,ASTERISK:Rm,AT:$s,BACKSLASH:zm,BACKTICK:Bm,CARET:$m,COLON:js,COMMA:hw,DOLLAR:Hm,DOT:io,EQUALS:Fm,EXCLAMATION:pw,HYPHEN:oo,PERCENT:Vm,PIPE:jm,PLUS:Wm,POUND:Um,QUERY:qm,QUOTE:mw,SEMI:gw,SLASH:zo,TILDE:Af,UNDERSCORE:Km,EMOJI:EN,SYM:Gm});const iu=/[a-z]/,Zy=/\p{L}/u,Qy=/\p{Emoji}/u,e0=/\d/,AT=/\s/,OT=`
`,NX="️",LX="‍";let tp=null,np=null;function IX(t){t===void 0&&(t=[]);const e={};Br.groups=e;const n=new Br;tp==null&&(tp=MT(CX)),np==null&&(np=MT(TX)),Pe(n,"'",Dm),Pe(n,"{",pu),Pe(n,"[",Cf),Pe(n,"<",Tf),Pe(n,"(",Ef),Pe(n,"}",$a),Pe(n,"]",mu),Pe(n,">",gu),Pe(n,")",Ha),Pe(n,"&",Pm),Pe(n,"*",Rm),Pe(n,"@",$s),Pe(n,"`",Bm),Pe(n,"^",$m),Pe(n,":",js),Pe(n,",",hw),Pe(n,"$",Hm),Pe(n,".",io),Pe(n,"=",Fm),Pe(n,"!",pw),Pe(n,"-",oo),Pe(n,"%",Vm),Pe(n,"|",jm),Pe(n,"+",Wm),Pe(n,"#",Um),Pe(n,"?",qm),Pe(n,'"',mw),Pe(n,"/",zo),Pe(n,";",gw),Pe(n,"~",Af),Pe(n,"_",Km),Pe(n,"\\",zm);const r=hi(n,e0,Im,{[qb]:!0});hi(r,e0,r);const i=hi(n,iu,Do,{[Kb]:!0});hi(i,iu,i);const o=hi(n,Zy,Jb,{[Gb]:!0});hi(o,iu),hi(o,Zy,o);const s=hi(n,AT,TN,{[TT]:!0});Pe(n,OT,dw,{[TT]:!0}),Pe(s,OT),hi(s,AT,s);const l=hi(n,Qy,EN,{[CN]:!0});hi(l,Qy,l),Pe(l,NX,l);const u=Pe(l,LX);hi(u,Qy,l);const f=[[iu,i]],d=[[iu,null],[Zy,o]];for(let m=0;m<tp.length;m++)Es(n,tp[m],Xb,Do,f);for(let m=0;m<np.length;m++)Es(n,np[m],Zb,Jb,d);qa(Xb,{tld:!0,ascii:!0},e),qa(Zb,{utld:!0,alpha:!0},e),Es(n,"file",Pp,Do,f),Es(n,"mailto",Pp,Do,f),Es(n,"http",cu,Do,f),Es(n,"https",cu,Do,f),Es(n,"ftp",cu,Do,f),Es(n,"ftps",cu,Do,f),qa(Pp,{scheme:!0,ascii:!0},e),qa(cu,{slashscheme:!0,ascii:!0},e),t=t.sort((m,v)=>m[0]>v[0]?1:-1);for(let m=0;m<t.length;m++){const v=t[m][0],_=t[m][1]?{[EX]:!0}:{[AX]:!0};v.indexOf("-")>=0?_[Yb]=!0:iu.test(v)?e0.test(v)?_[Ip]=!0:_[Kb]=!0:_[qb]=!0,ET(n,v,v,_)}return ET(n,"localhost",fd,{ascii:!0}),n.jd=new Br(Gm),{start:n,tokens:Qu({groups:e},AN)}}function PX(t,e){const n=DX(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let l=t,u=null,f=0,d=null,m=-1,v=-1;for(;s<r&&(u=l.go(n[s]));)l=u,l.accepts()?(m=0,v=0,d=l):m>=0&&(m+=n[s].length,v++),f+=n[s].length,o+=n[s].length,s++;o-=m,s-=v,f-=m,i.push({t:d.t,v:e.slice(o-f,o),s:o-f,e:o})}return i}function DX(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function Es(t,e,n,r,i){let o;const s=e.length;for(let l=0;l<s-1;l++){const u=e[l];t.j[u]?o=t.j[u]:(o=new Br(r),o.jr=i.slice(),t.j[u]=o),t=o}return o=new Br(n),o.jr=i.slice(),t.j[e[s-1]]=o,o}function MT(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));let s=parseInt(t.substring(r,r+o),10);for(;s>0;s--)n.pop();r+=o}else t[r]==="_"?(e.push(n.join("")),r++):(n.push(t[r]),r++)}return e}const dd={defaultProtocol:"http",events:null,format:NT,formatHref:NT,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function vw(t,e){e===void 0&&(e=null);let n=Qu({},dd);t&&(n=Qu(n,t instanceof vw?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}vw.prototype={o:dd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:dd[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function NT(t){return t}function ON(t,e){this.t="token",this.v=t,this.tk=e}ON.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=dd.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toFormattedHref(t),r=t.get("tagName",n,e),i=this.toFormattedString(t),o={},s=t.get("className",n,e),l=t.get("target",n,e),u=t.get("rel",n,e),f=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=n,s&&(o.class=s),l&&(o.target=l),u&&(o.rel=u),f&&Qu(o,f),{tagName:r,attributes:o,content:i,eventListeners:d}}};function nv(t,e){class n extends ON{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const LT=nv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),IT=nv("text"),RX=nv("nl"),Na=nv("url",{isLink:!0,toHref(t){return t===void 0&&(t=dd.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==fd&&t[1].t===js}}),Wn=t=>new Br(t);function zX(t){let{groups:e}=t;const n=e.domain.concat([Pm,Rm,$s,zm,Bm,$m,Hm,Fm,oo,Im,Vm,jm,Wm,Um,zo,Gm,Af,Km]),r=[Dm,gu,$a,mu,Ha,js,hw,io,pw,Tf,pu,Cf,Ef,qm,mw,gw],i=[Pm,Dm,Rm,zm,Bm,$m,$a,Hm,Fm,oo,Im,pu,Vm,jm,Wm,Um,qm,zo,Gm,Af,Km],o=Wn(),s=Pe(o,Af);rt(s,i,s),rt(s,e.domain,s);const l=Wn(),u=Wn(),f=Wn();rt(o,e.domain,l),rt(o,e.scheme,u),rt(o,e.slashscheme,f),rt(l,i,s),rt(l,e.domain,l);const d=Pe(l,$s);Pe(s,$s,d),Pe(u,$s,d),Pe(f,$s,d);const m=Pe(s,io);rt(m,i,s),rt(m,e.domain,s);const v=Wn();rt(d,e.domain,v),rt(v,e.domain,v);const y=Pe(v,io);rt(y,e.domain,v);const _=Wn(LT);rt(y,e.tld,_),rt(y,e.utld,_),Pe(d,fd,_);const C=Pe(v,oo);rt(C,e.domain,v),rt(_,e.domain,v),Pe(_,io,y),Pe(_,oo,C);const x=Pe(_,js);rt(x,e.numeric,LT);const k=Pe(l,oo),A=Pe(l,io);rt(k,e.domain,l),rt(A,i,s),rt(A,e.domain,l);const L=Wn(Na);rt(A,e.tld,L),rt(A,e.utld,L),rt(L,e.domain,l),rt(L,i,s),Pe(L,io,A),Pe(L,oo,k),Pe(L,$s,d);const E=Pe(L,js),H=Wn(Na);rt(E,e.numeric,H);const I=Wn(Na),q=Wn();rt(I,n,I),rt(I,r,q),rt(q,n,I),rt(q,r,q),Pe(L,zo,I),Pe(H,zo,I);const P=Pe(u,js),z=Pe(f,js),w=Pe(z,zo);Pe(w,zo,P),rt(u,e.domain,l),Pe(u,io,A),Pe(u,oo,k),rt(f,e.domain,l),Pe(f,io,A),Pe(f,oo,k),rt(P,e.domain,I),Pe(P,zo,I);const R=Pe(I,pu),U=Pe(I,Cf),K=Pe(I,Tf),oe=Pe(I,Ef);Pe(q,pu,R),Pe(q,Cf,U),Pe(q,Tf,K),Pe(q,Ef,oe),Pe(R,$a,I),Pe(U,mu,I),Pe(K,gu,I),Pe(oe,Ha,I),Pe(R,$a,I);const D=Wn(Na),ae=Wn(Na),ce=Wn(Na),ve=Wn(Na);rt(R,n,D),rt(U,n,ae),rt(K,n,ce),rt(oe,n,ve);const ze=Wn(),qe=Wn(),yt=Wn(),mt=Wn();return rt(R,r),rt(U,r),rt(K,r),rt(oe,r),rt(D,n,D),rt(ae,n,ae),rt(ce,n,ce),rt(ve,n,ve),rt(D,r,D),rt(ae,r,ae),rt(ce,r,ce),rt(ve,r,ve),rt(ze,n,ze),rt(qe,n,ae),rt(yt,n,ce),rt(mt,n,ve),rt(ze,r,ze),rt(qe,r,qe),rt(yt,r,yt),rt(mt,r,mt),Pe(ae,mu,I),Pe(ce,gu,I),Pe(ve,Ha,I),Pe(D,$a,I),Pe(qe,mu,I),Pe(yt,gu,I),Pe(mt,Ha,I),Pe(ze,Ha,I),Pe(o,fd,L),Pe(o,dw,RX),{start:o,tokens:AN}}function BX(t,e,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let l=t,u=null,f=null,d=0,m=null,v=-1;for(;i<r&&!(u=l.go(n[i].t));)s.push(n[i++]);for(;i<r&&(f=u||l.go(n[i].t));)u=null,l=f,l.accepts()?(v=0,m=l):v>=0&&v++,i++,d++;if(v<0)i-=d,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(t0(IT,e,s)),s=[]),i-=v,d-=v;const y=m.t,_=n.slice(i-d,i);o.push(t0(y,e,_))}}return s.length>0&&o.push(t0(IT,e,s)),o}function t0(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const $X=typeof console<"u"&&console&&console.warn||(()=>{}),HX="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",cn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function FX(){Br.groups={},cn.scanner=null,cn.parser=null,cn.tokenQueue=[],cn.pluginQueue=[],cn.customSchemes=[],cn.initialized=!1}function PT(t,e){if(e===void 0&&(e=!1),cn.initialized&&$X(`linkifyjs: already initialized - will not register custom scheme "${t}" ${HX}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);cn.customSchemes.push([t,e])}function VX(){cn.scanner=IX(cn.customSchemes);for(let t=0;t<cn.tokenQueue.length;t++)cn.tokenQueue[t][1]({scanner:cn.scanner});cn.parser=zX(cn.scanner.tokens);for(let t=0;t<cn.pluginQueue.length;t++)cn.pluginQueue[t][1]({scanner:cn.scanner,parser:cn.parser});cn.initialized=!0}function jX(t){return cn.initialized||VX(),BX(cn.parser.start,t,PX(cn.scanner.start,t))}function yw(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new vw(n),i=jX(t),o=[];for(let s=0;s<i.length;s++){const l=i[s];l.isLink&&(!e||l.t===e)&&o.push(l.toFormattedObject(r))}return o}function WX(t){return new on({key:new xn("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),o=e.some(f=>f.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,l=Z4(n.doc,[...e]);if(rN(l).forEach(({newRange:f})=>{const d=eN(r.doc,f,y=>y.isTextblock);let m,v;if(d.length>1?(m=d[0],v=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ")):d.length&&r.doc.textBetween(f.from,f.to," "," ").endsWith(" ")&&(m=d[0],v=r.doc.textBetween(m.pos,f.to,void 0," ")),m&&v){const y=v.split(" ").filter(x=>x!=="");if(y.length<=0)return!1;const _=y[y.length-1],C=m.pos+v.lastIndexOf(_);if(!_)return!1;yw(_).filter(x=>x.isLink).map(x=>({...x,from:C+x.start+1,to:C+x.end+1})).filter(x=>r.schema.marks.code?!r.doc.rangeHasMark(x.from,x.to,r.schema.marks.code):!0).filter(x=>t.validate?t.validate(x.value):!0).forEach(x=>{ev(x.from,x.to,r.doc).some(k=>k.mark.type===t.type)||s.addMark(x.from,x.to,t.type.create({href:x.href}))})}}),!!s.steps.length)return s}})}function UX(t){return new on({key:new xn("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,o;if(r.button!==0)return!1;let s=r.target;const l=[];for(;s.nodeName!=="DIV";)l.push(s),s=s.parentNode;if(!l.find(v=>v.nodeName==="A"))return!1;const u=aw(e.state,t.type.name),f=r.target,d=(i=f==null?void 0:f.href)!==null&&i!==void 0?i:u.href,m=(o=f==null?void 0:f.target)!==null&&o!==void 0?o:u.target;return f&&d?(window.open(d,m),!0):!1}}})}function qX(t){return new on({key:new xn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:o}=i,{empty:s}=o;if(s)return!1;let l="";r.content.forEach(f=>{l+=f.textContent});const u=yw(l).find(f=>f.isLink&&f.value===l);return!l||!u?!1:(t.editor.commands.setMark(t.type,{href:u.href}),!0)}}})}const KX=or.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){PT(t);return}PT(t.scheme,t.optionalSlashes)})},onDestroy(){FX()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){var e;return!((e=t.href)===null||e===void 0)&&e.startsWith("javascript:")?["a",zt(this.options.HTMLAttributes,{...t,href:""}),0]:["a",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Yo({find:(t,e)=>{var n;const r=(n=e==null?void 0:e.clipboardData)===null||n===void 0?void 0:n.getData("text/html"),i=[];if(r){const o=new DOMParser().parseFromString(r,"text/html"),s=o.querySelectorAll("a");s.length&&[...s].forEach(l=>i.push({text:l.innerText,data:{href:l.getAttribute("href")},index:o.body.innerText.indexOf(l.innerText)+l.innerText.length}))}if(t){const o=yw(t).filter(s=>s.isLink);o.length&&o.forEach(s=>i.push({text:s.value,data:{href:s.href},index:s.start}))}return i},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(WX({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(UX({type:this.type})),this.options.linkOnPaste&&t.push(qX({editor:this.editor,type:this.type})),t}}),GX=KX.extend({addAttributes(){var t;return{...(t=this.parent)==null?void 0:t.call(this),class:{default:null},title:{default:null}}},addOptions(){var t;return{...(t=this.parent)==null?void 0:t.call(this),HTMLAttributes:{target:null,rel:null,class:null,title:null}}},renderHTML({HTMLAttributes:t}){const e=zt(this.options.HTMLAttributes,t);return e.target==="_blank"&&(e.rel="noopener noreferrer"),["a",e,0]},addProseMirrorPlugins(){return[new on({key:new xn("handleClick"),props:{handleClick:(t,e,n)=>{this.editor.getAttributes("link").href&&setTimeout(()=>{this.editor.emit("vui:link-clicked")},50)}}})]}}),YX=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,JX=_n.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",zt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[uw({find:YX,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),XX=JX.extend({addAttributes(){return{id:{default:null},src:{default:null},alt:{default:null},title:{default:null},url:{default:null},target:{default:null},transform:{default:null}}},renderHTML({HTMLAttributes:t}){const e={class:"vui-editor-img-wrap",tabindex:"-1"},n={src:t.src,title:t.title,alt:t.alt},r={url:t.url,target:t.target};return t.url?["figure",e,["a",r,["img",n]]]:["figure",e,["img",n]]},addProseMirrorPlugins(){return[new on({key:new xn("handleClick"),props:{handleClick:(t,e,n)=>{this.editor.getAttributes("image").src&&setTimeout(()=>{this.editor.emit("vui:image-clicked",n)},50)}}})]}});var Vr="top",ki="bottom",xi="right",jr="left",bw="auto",$d=[Vr,ki,xi,jr],ec="start",hd="end",ZX="clippingParents",MN="viewport",Yc="popper",QX="reference",DT=$d.reduce(function(t,e){return t.concat([e+"-"+ec,e+"-"+hd])},[]),NN=[].concat($d,[bw]).reduce(function(t,e){return t.concat([e,e+"-"+ec,e+"-"+hd])},[]),eZ="beforeRead",tZ="read",nZ="afterRead",rZ="beforeMain",iZ="main",oZ="afterMain",sZ="beforeWrite",aZ="write",lZ="afterWrite",uZ=[eZ,tZ,nZ,rZ,iZ,oZ,sZ,aZ,lZ];function wo(t){return t?(t.nodeName||"").toLowerCase():null}function Si(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function kl(t){var e=Si(t).Element;return t instanceof e||t instanceof Element}function _i(t){var e=Si(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function _w(t){if(typeof ShadowRoot>"u")return!1;var e=Si(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function cZ(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!_i(o)||!wo(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var l=i[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function fZ(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=s.reduce(function(u,f){return u[f]="",u},{});!_i(i)||!wo(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}const LN={name:"applyStyles",enabled:!0,phase:"write",fn:cZ,effect:fZ,requires:["computeStyles"]};function vo(t){return t.split("-")[0]}var al=Math.max,Ym=Math.min,tc=Math.round;function Qb(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function IN(){return!/^((?!chrome|android).)*safari/i.test(Qb())}function nc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&_i(t)&&(i=t.offsetWidth>0&&tc(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&tc(r.height)/t.offsetHeight||1);var s=kl(t)?Si(t):window,l=s.visualViewport,u=!IN()&&n,f=(r.left+(u&&l?l.offsetLeft:0))/i,d=(r.top+(u&&l?l.offsetTop:0))/o,m=r.width/i,v=r.height/o;return{width:m,height:v,top:d,right:f+m,bottom:d+v,left:f,x:f,y:d}}function ww(t){var e=nc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function PN(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&_w(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Jo(t){return Si(t).getComputedStyle(t)}function dZ(t){return["table","td","th"].indexOf(wo(t))>=0}function ga(t){return((kl(t)?t.ownerDocument:t.document)||window.document).documentElement}function rv(t){return wo(t)==="html"?t:t.assignedSlot||t.parentNode||(_w(t)?t.host:null)||ga(t)}function RT(t){return!_i(t)||Jo(t).position==="fixed"?null:t.offsetParent}function hZ(t){var e=/firefox/i.test(Qb()),n=/Trident/i.test(Qb());if(n&&_i(t)){var r=Jo(t);if(r.position==="fixed")return null}var i=rv(t);for(_w(i)&&(i=i.host);_i(i)&&["html","body"].indexOf(wo(i))<0;){var o=Jo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Hd(t){for(var e=Si(t),n=RT(t);n&&dZ(n)&&Jo(n).position==="static";)n=RT(n);return n&&(wo(n)==="html"||wo(n)==="body"&&Jo(n).position==="static")?e:n||hZ(t)||e}function kw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Of(t,e,n){return al(t,Ym(e,n))}function pZ(t,e,n){var r=Of(t,e,n);return r>n?n:r}function DN(){return{top:0,right:0,bottom:0,left:0}}function RN(t){return Object.assign({},DN(),t)}function zN(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var mZ=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,RN(typeof e!="number"?e:zN(e,$d))};function gZ(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=vo(n.placement),u=kw(l),f=[jr,xi].indexOf(l)>=0,d=f?"height":"width";if(!(!o||!s)){var m=mZ(i.padding,n),v=ww(o),y=u==="y"?Vr:jr,_=u==="y"?ki:xi,C=n.rects.reference[d]+n.rects.reference[u]-s[u]-n.rects.popper[d],x=s[u]-n.rects.reference[u],k=Hd(o),A=k?u==="y"?k.clientHeight||0:k.clientWidth||0:0,L=C/2-x/2,E=m[y],H=A-v[d]-m[_],I=A/2-v[d]/2+L,q=Of(E,I,H),P=u;n.modifiersData[r]=(e={},e[P]=q,e.centerOffset=q-I,e)}}function vZ(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||PN(e.elements.popper,i)&&(e.elements.arrow=i))}const yZ={name:"arrow",enabled:!0,phase:"main",fn:gZ,effect:vZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rc(t){return t.split("-")[1]}var bZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _Z(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:tc(e*i)/i||0,y:tc(n*i)/i||0}}function zT(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,l=t.position,u=t.gpuAcceleration,f=t.adaptive,d=t.roundOffsets,m=t.isFixed,v=s.x,y=v===void 0?0:v,_=s.y,C=_===void 0?0:_,x=typeof d=="function"?d({x:y,y:C}):{x:y,y:C};y=x.x,C=x.y;var k=s.hasOwnProperty("x"),A=s.hasOwnProperty("y"),L=jr,E=Vr,H=window;if(f){var I=Hd(n),q="clientHeight",P="clientWidth";if(I===Si(n)&&(I=ga(n),Jo(I).position!=="static"&&l==="absolute"&&(q="scrollHeight",P="scrollWidth")),I=I,i===Vr||(i===jr||i===xi)&&o===hd){E=ki;var z=m&&I===H&&H.visualViewport?H.visualViewport.height:I[q];C-=z-r.height,C*=u?1:-1}if(i===jr||(i===Vr||i===ki)&&o===hd){L=xi;var w=m&&I===H&&H.visualViewport?H.visualViewport.width:I[P];y-=w-r.width,y*=u?1:-1}}var R=Object.assign({position:l},f&&bZ),U=d===!0?_Z({x:y,y:C}):{x:y,y:C};if(y=U.x,C=U.y,u){var K;return Object.assign({},R,(K={},K[E]=A?"0":"",K[L]=k?"0":"",K.transform=(H.devicePixelRatio||1)<=1?"translate("+y+"px, "+C+"px)":"translate3d("+y+"px, "+C+"px, 0)",K))}return Object.assign({},R,(e={},e[E]=A?C+"px":"",e[L]=k?y+"px":"",e.transform="",e))}function wZ(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,u=l===void 0?!0:l,f={placement:vo(e.placement),variation:rc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zT(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zT(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const kZ={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:wZ,data:{}};var rp={passive:!0};function xZ(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,u=Si(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(d){d.addEventListener("scroll",n.update,rp)}),l&&u.addEventListener("resize",n.update,rp),function(){o&&f.forEach(function(d){d.removeEventListener("scroll",n.update,rp)}),l&&u.removeEventListener("resize",n.update,rp)}}const SZ={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xZ,data:{}};var CZ={left:"right",right:"left",bottom:"top",top:"bottom"};function Dp(t){return t.replace(/left|right|bottom|top/g,function(e){return CZ[e]})}var TZ={start:"end",end:"start"};function BT(t){return t.replace(/start|end/g,function(e){return TZ[e]})}function xw(t){var e=Si(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Sw(t){return nc(ga(t)).left+xw(t).scrollLeft}function EZ(t,e){var n=Si(t),r=ga(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){o=i.width,s=i.height;var f=IN();(f||!f&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:l+Sw(t),y:u}}function AZ(t){var e,n=ga(t),r=xw(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=al(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=al(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+Sw(t),u=-r.scrollTop;return Jo(i||n).direction==="rtl"&&(l+=al(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function Cw(t){var e=Jo(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function BN(t){return["html","body","#document"].indexOf(wo(t))>=0?t.ownerDocument.body:_i(t)&&Cw(t)?t:BN(rv(t))}function Mf(t,e){var n;e===void 0&&(e=[]);var r=BN(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Si(r),s=i?[o].concat(o.visualViewport||[],Cw(r)?r:[]):r,l=e.concat(s);return i?l:l.concat(Mf(rv(s)))}function e1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function OZ(t,e){var n=nc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function $T(t,e,n){return e===MN?e1(EZ(t,n)):kl(e)?OZ(e,n):e1(AZ(ga(t)))}function MZ(t){var e=Mf(rv(t)),n=["absolute","fixed"].indexOf(Jo(t).position)>=0,r=n&&_i(t)?Hd(t):t;return kl(r)?e.filter(function(i){return kl(i)&&PN(i,r)&&wo(i)!=="body"}):[]}function NZ(t,e,n,r){var i=e==="clippingParents"?MZ(t):[].concat(e),o=[].concat(i,[n]),s=o[0],l=o.reduce(function(u,f){var d=$T(t,f,r);return u.top=al(d.top,u.top),u.right=Ym(d.right,u.right),u.bottom=Ym(d.bottom,u.bottom),u.left=al(d.left,u.left),u},$T(t,s,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function $N(t){var e=t.reference,n=t.element,r=t.placement,i=r?vo(r):null,o=r?rc(r):null,s=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(i){case Vr:u={x:s,y:e.y-n.height};break;case ki:u={x:s,y:e.y+e.height};break;case xi:u={x:e.x+e.width,y:l};break;case jr:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var f=i?kw(i):null;if(f!=null){var d=f==="y"?"height":"width";switch(o){case ec:u[f]=u[f]-(e[d]/2-n[d]/2);break;case hd:u[f]=u[f]+(e[d]/2-n[d]/2);break}}return u}function pd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,l=n.boundary,u=l===void 0?ZX:l,f=n.rootBoundary,d=f===void 0?MN:f,m=n.elementContext,v=m===void 0?Yc:m,y=n.altBoundary,_=y===void 0?!1:y,C=n.padding,x=C===void 0?0:C,k=RN(typeof x!="number"?x:zN(x,$d)),A=v===Yc?QX:Yc,L=t.rects.popper,E=t.elements[_?A:v],H=NZ(kl(E)?E:E.contextElement||ga(t.elements.popper),u,d,s),I=nc(t.elements.reference),q=$N({reference:I,element:L,strategy:"absolute",placement:i}),P=e1(Object.assign({},L,q)),z=v===Yc?P:I,w={top:H.top-z.top+k.top,bottom:z.bottom-H.bottom+k.bottom,left:H.left-z.left+k.left,right:z.right-H.right+k.right},R=t.modifiersData.offset;if(v===Yc&&R){var U=R[i];Object.keys(w).forEach(function(K){var oe=[xi,ki].indexOf(K)>=0?1:-1,D=[Vr,ki].indexOf(K)>=0?"y":"x";w[K]+=U[D]*oe})}return w}function LZ(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,f=u===void 0?NN:u,d=rc(r),m=d?l?DT:DT.filter(function(_){return rc(_)===d}):$d,v=m.filter(function(_){return f.indexOf(_)>=0});v.length===0&&(v=m);var y=v.reduce(function(_,C){return _[C]=pd(t,{placement:C,boundary:i,rootBoundary:o,padding:s})[vo(C)],_},{});return Object.keys(y).sort(function(_,C){return y[_]-y[C]})}function IZ(t){if(vo(t)===bw)return[];var e=Dp(t);return[BT(t),e,BT(e)]}function PZ(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,u=n.fallbackPlacements,f=n.padding,d=n.boundary,m=n.rootBoundary,v=n.altBoundary,y=n.flipVariations,_=y===void 0?!0:y,C=n.allowedAutoPlacements,x=e.options.placement,k=vo(x),A=k===x,L=u||(A||!_?[Dp(x)]:IZ(x)),E=[x].concat(L).reduce(function(bt,Xe){return bt.concat(vo(Xe)===bw?LZ(e,{placement:Xe,boundary:d,rootBoundary:m,padding:f,flipVariations:_,allowedAutoPlacements:C}):Xe)},[]),H=e.rects.reference,I=e.rects.popper,q=new Map,P=!0,z=E[0],w=0;w<E.length;w++){var R=E[w],U=vo(R),K=rc(R)===ec,oe=[Vr,ki].indexOf(U)>=0,D=oe?"width":"height",ae=pd(e,{placement:R,boundary:d,rootBoundary:m,altBoundary:v,padding:f}),ce=oe?K?xi:jr:K?ki:Vr;H[D]>I[D]&&(ce=Dp(ce));var ve=Dp(ce),ze=[];if(o&&ze.push(ae[U]<=0),l&&ze.push(ae[ce]<=0,ae[ve]<=0),ze.every(function(bt){return bt})){z=R,P=!1;break}q.set(R,ze)}if(P)for(var qe=_?3:1,yt=function(Xe){var Ie=E.find(function(Be){var Ee=q.get(Be);if(Ee)return Ee.slice(0,Xe).every(function(Ze){return Ze})});if(Ie)return z=Ie,"break"},mt=qe;mt>0;mt--){var _t=yt(mt);if(_t==="break")break}e.placement!==z&&(e.modifiersData[r]._skip=!0,e.placement=z,e.reset=!0)}}const DZ={name:"flip",enabled:!0,phase:"main",fn:PZ,requiresIfExists:["offset"],data:{_skip:!1}};function HT(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function FT(t){return[Vr,xi,ki,jr].some(function(e){return t[e]>=0})}function RZ(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=pd(e,{elementContext:"reference"}),l=pd(e,{altBoundary:!0}),u=HT(s,r),f=HT(l,i,o),d=FT(u),m=FT(f);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}const zZ={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:RZ};function BZ(t,e,n){var r=vo(t),i=[jr,Vr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[jr,xi].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function $Z(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=NN.reduce(function(d,m){return d[m]=BZ(m,e.rects,o),d},{}),l=s[e.placement],u=l.x,f=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=s}const HZ={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$Z};function FZ(t){var e=t.state,n=t.name;e.modifiersData[n]=$N({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const VZ={name:"popperOffsets",enabled:!0,phase:"read",fn:FZ,data:{}};function jZ(t){return t==="x"?"y":"x"}function WZ(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,u=n.boundary,f=n.rootBoundary,d=n.altBoundary,m=n.padding,v=n.tether,y=v===void 0?!0:v,_=n.tetherOffset,C=_===void 0?0:_,x=pd(e,{boundary:u,rootBoundary:f,padding:m,altBoundary:d}),k=vo(e.placement),A=rc(e.placement),L=!A,E=kw(k),H=jZ(E),I=e.modifiersData.popperOffsets,q=e.rects.reference,P=e.rects.popper,z=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,w=typeof z=="number"?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(I){if(o){var K,oe=E==="y"?Vr:jr,D=E==="y"?ki:xi,ae=E==="y"?"height":"width",ce=I[E],ve=ce+x[oe],ze=ce-x[D],qe=y?-P[ae]/2:0,yt=A===ec?q[ae]:P[ae],mt=A===ec?-P[ae]:-q[ae],_t=e.elements.arrow,bt=y&&_t?ww(_t):{width:0,height:0},Xe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:DN(),Ie=Xe[oe],Be=Xe[D],Ee=Of(0,q[ae],bt[ae]),Ze=L?q[ae]/2-qe-Ee-Ie-w.mainAxis:yt-Ee-Ie-w.mainAxis,Ke=L?-q[ae]/2+qe+Ee+Be+w.mainAxis:mt+Ee+Be+w.mainAxis,Fe=e.elements.arrow&&Hd(e.elements.arrow),at=Fe?E==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,ie=(K=R==null?void 0:R[E])!=null?K:0,te=ce+Ze-ie-at,be=ce+Ke-ie,_e=Of(y?Ym(ve,te):ve,ce,y?al(ze,be):ze);I[E]=_e,U[E]=_e-ce}if(l){var xe,G=E==="x"?Vr:jr,Z=E==="x"?ki:xi,N=I[H],W=H==="y"?"height":"width",O=N+x[G],j=N-x[Z],F=[Vr,jr].indexOf(k)!==-1,Q=(xe=R==null?void 0:R[H])!=null?xe:0,le=F?O:N-q[W]-P[W]-Q+w.altAxis,pe=F?N+q[W]+P[W]-Q-w.altAxis:j,ye=y&&F?pZ(le,N,pe):Of(y?le:O,N,y?pe:j);I[H]=ye,U[H]=ye-N}e.modifiersData[r]=U}}const UZ={name:"preventOverflow",enabled:!0,phase:"main",fn:WZ,requiresIfExists:["offset"]};function qZ(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function KZ(t){return t===Si(t)||!_i(t)?xw(t):qZ(t)}function GZ(t){var e=t.getBoundingClientRect(),n=tc(e.width)/t.offsetWidth||1,r=tc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function YZ(t,e,n){n===void 0&&(n=!1);var r=_i(e),i=_i(e)&&GZ(e),o=ga(e),s=nc(t,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((wo(e)!=="body"||Cw(o))&&(l=KZ(e)),_i(e)?(u=nc(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=Sw(o))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function JZ(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function XZ(t){var e=JZ(t);return uZ.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function ZZ(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function QZ(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var VT={placement:"bottom",modifiers:[],strategy:"absolute"};function jT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function eQ(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?VT:i;return function(l,u,f){f===void 0&&(f=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},VT,o),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},m=[],v=!1,y={state:d,setOptions:function(k){var A=typeof k=="function"?k(d.options):k;C(),d.options=Object.assign({},o,d.options,A),d.scrollParents={reference:kl(l)?Mf(l):l.contextElement?Mf(l.contextElement):[],popper:Mf(u)};var L=XZ(QZ([].concat(r,d.options.modifiers)));return d.orderedModifiers=L.filter(function(E){return E.enabled}),_(),y.update()},forceUpdate:function(){if(!v){var k=d.elements,A=k.reference,L=k.popper;if(jT(A,L)){d.rects={reference:YZ(A,Hd(L),d.options.strategy==="fixed"),popper:ww(L)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(w){return d.modifiersData[w.name]=Object.assign({},w.data)});for(var E=0;E<d.orderedModifiers.length;E++){if(d.reset===!0){d.reset=!1,E=-1;continue}var H=d.orderedModifiers[E],I=H.fn,q=H.options,P=q===void 0?{}:q,z=H.name;typeof I=="function"&&(d=I({state:d,options:P,name:z,instance:y})||d)}}}},update:ZZ(function(){return new Promise(function(x){y.forceUpdate(),x(d)})}),destroy:function(){C(),v=!0}};if(!jT(l,u))return y;y.setOptions(f).then(function(x){!v&&f.onFirstUpdate&&f.onFirstUpdate(x)});function _(){d.orderedModifiers.forEach(function(x){var k=x.name,A=x.options,L=A===void 0?{}:A,E=x.effect;if(typeof E=="function"){var H=E({state:d,name:k,instance:y,options:L}),I=function(){};m.push(H||I)}})}function C(){m.forEach(function(x){return x()}),m=[]}return y}}var tQ=[SZ,VZ,kZ,LN,HZ,DZ,UZ,yZ,zZ],nQ=eQ({defaultModifiers:tQ}),rQ="tippy-box",HN="tippy-content",iQ="tippy-backdrop",FN="tippy-arrow",VN="tippy-svg-arrow",Da={passive:!0,capture:!0},jN=function(){return document.body};function n0(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function Tw(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function WN(t,e){return typeof t=="function"?t.apply(void 0,e):t}function WT(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function oQ(t){return t.split(/\s+/).filter(Boolean)}function fu(t){return[].concat(t)}function UT(t,e){t.indexOf(e)===-1&&t.push(e)}function sQ(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function aQ(t){return t.split("-")[0]}function Jm(t){return[].slice.call(t)}function qT(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Nf(){return document.createElement("div")}function iv(t){return["Element","Fragment"].some(function(e){return Tw(t,e)})}function lQ(t){return Tw(t,"NodeList")}function uQ(t){return Tw(t,"MouseEvent")}function cQ(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function fQ(t){return iv(t)?[t]:lQ(t)?Jm(t):Array.isArray(t)?t:Jm(document.querySelectorAll(t))}function r0(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function KT(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function dQ(t){var e,n=fu(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function hQ(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,l=i.props,u=l.interactiveBorder,f=aQ(s.placement),d=s.modifiersData.offset;if(!d)return!0;var m=f==="bottom"?d.top.y:0,v=f==="top"?d.bottom.y:0,y=f==="right"?d.left.x:0,_=f==="left"?d.right.x:0,C=o.top-r+m>u,x=r-o.bottom-v>u,k=o.left-n+y>u,A=n-o.right-_>u;return C||x||k||A})}function i0(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function GT(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var ao={isTouch:!1},YT=0;function pQ(){ao.isTouch||(ao.isTouch=!0,window.performance&&document.addEventListener("mousemove",UN))}function UN(){var t=performance.now();t-YT<20&&(ao.isTouch=!1,document.removeEventListener("mousemove",UN)),YT=t}function mQ(){var t=document.activeElement;if(cQ(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function gQ(){document.addEventListener("touchstart",pQ,Da),window.addEventListener("blur",mQ)}var vQ=typeof window<"u"&&typeof document<"u",yQ=vQ?!!window.msCrypto:!1,bQ={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},_Q={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},zi=Object.assign({appendTo:jN,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},bQ,_Q),wQ=Object.keys(zi),kQ=function(e){var n=Object.keys(e);n.forEach(function(r){zi[r]=e[r]})};function qN(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var l;r[o]=t[o]!==void 0?t[o]:(l=zi[o])!=null?l:s}return r},{});return Object.assign({},t,n)}function xQ(t,e){var n=e?Object.keys(qN(Object.assign({},zi,{plugins:e}))):wQ,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function JT(t,e){var n=Object.assign({},e,{content:WN(e.content,[t])},e.ignoreAttributes?{}:xQ(t,e.plugins));return n.aria=Object.assign({},zi.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var SQ=function(){return"innerHTML"};function t1(t,e){t[SQ()]=e}function XT(t){var e=Nf();return t===!0?e.className=FN:(e.className=VN,iv(t)?e.appendChild(t):t1(e,t)),e}function ZT(t,e){iv(e.content)?(t1(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?t1(t,e.content):t.textContent=e.content)}function n1(t){var e=t.firstElementChild,n=Jm(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(HN)}),arrow:n.find(function(r){return r.classList.contains(FN)||r.classList.contains(VN)}),backdrop:n.find(function(r){return r.classList.contains(iQ)})}}function KN(t){var e=Nf(),n=Nf();n.className=rQ,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Nf();r.className=HN,r.setAttribute("data-state","hidden"),ZT(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var l=n1(e),u=l.box,f=l.content,d=l.arrow;s.theme?u.setAttribute("data-theme",s.theme):u.removeAttribute("data-theme"),typeof s.animation=="string"?u.setAttribute("data-animation",s.animation):u.removeAttribute("data-animation"),s.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?u.setAttribute("role",s.role):u.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&ZT(f,t.props),s.arrow?d?o.arrow!==s.arrow&&(u.removeChild(d),u.appendChild(XT(s.arrow))):u.appendChild(XT(s.arrow)):d&&u.removeChild(d)}return{popper:e,onUpdate:i}}KN.$$tippy=!0;var CQ=1,ip=[],o0=[];function TQ(t,e){var n=JT(t,Object.assign({},zi,qN(qT(e)))),r,i,o,s=!1,l=!1,u=!1,f=!1,d,m,v,y=[],_=WT(te,n.interactiveDebounce),C,x=CQ++,k=null,A=sQ(n.plugins),L={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},E={id:x,reference:t,popper:Nf(),popperInstance:k,props:n,state:L,plugins:A,clearDelayTimeouts:le,setProps:pe,setContent:ye,show:Y,hide:X,hideWithInteractivity:de,enable:F,disable:Q,unmount:Te,destroy:je};if(!n.render)return E;var H=n.render(E),I=H.popper,q=H.onUpdate;I.setAttribute("data-tippy-root",""),I.id="tippy-"+E.id,E.popper=I,t._tippy=E,I._tippy=E;var P=A.map(function(he){return he.fn(E)}),z=t.hasAttribute("aria-expanded");return Fe(),qe(),ce(),ve("onCreate",[E]),n.showOnCreate&&O(),I.addEventListener("mouseenter",function(){E.props.interactive&&E.state.isVisible&&E.clearDelayTimeouts()}),I.addEventListener("mouseleave",function(){E.props.interactive&&E.props.trigger.indexOf("mouseenter")>=0&&oe().addEventListener("mousemove",_)}),E;function w(){var he=E.props.touch;return Array.isArray(he)?he:[he,0]}function R(){return w()[0]==="hold"}function U(){var he;return!!((he=E.props.render)!=null&&he.$$tippy)}function K(){return C||t}function oe(){var he=K().parentNode;return he?dQ(he):document}function D(){return n1(I)}function ae(he){return E.state.isMounted&&!E.state.isVisible||ao.isTouch||d&&d.type==="focus"?0:n0(E.props.delay,he?0:1,zi.delay)}function ce(he){he===void 0&&(he=!1),I.style.pointerEvents=E.props.interactive&&!he?"":"none",I.style.zIndex=""+E.props.zIndex}function ve(he,Ae,Ne){if(Ne===void 0&&(Ne=!0),P.forEach(function(Je){Je[he]&&Je[he].apply(Je,Ae)}),Ne){var me;(me=E.props)[he].apply(me,Ae)}}function ze(){var he=E.props.aria;if(he.content){var Ae="aria-"+he.content,Ne=I.id,me=fu(E.props.triggerTarget||t);me.forEach(function(Je){var ct=Je.getAttribute(Ae);if(E.state.isVisible)Je.setAttribute(Ae,ct?ct+" "+Ne:Ne);else{var ot=ct&&ct.replace(Ne,"").trim();ot?Je.setAttribute(Ae,ot):Je.removeAttribute(Ae)}})}}function qe(){if(!(z||!E.props.aria.expanded)){var he=fu(E.props.triggerTarget||t);he.forEach(function(Ae){E.props.interactive?Ae.setAttribute("aria-expanded",E.state.isVisible&&Ae===K()?"true":"false"):Ae.removeAttribute("aria-expanded")})}}function yt(){oe().removeEventListener("mousemove",_),ip=ip.filter(function(he){return he!==_})}function mt(he){if(!(ao.isTouch&&(u||he.type==="mousedown"))){var Ae=he.composedPath&&he.composedPath()[0]||he.target;if(!(E.props.interactive&&GT(I,Ae))){if(fu(E.props.triggerTarget||t).some(function(Ne){return GT(Ne,Ae)})){if(ao.isTouch||E.state.isVisible&&E.props.trigger.indexOf("click")>=0)return}else ve("onClickOutside",[E,he]);E.props.hideOnClick===!0&&(E.clearDelayTimeouts(),E.hide(),l=!0,setTimeout(function(){l=!1}),E.state.isMounted||Ie())}}}function _t(){u=!0}function bt(){u=!1}function Xe(){var he=oe();he.addEventListener("mousedown",mt,!0),he.addEventListener("touchend",mt,Da),he.addEventListener("touchstart",bt,Da),he.addEventListener("touchmove",_t,Da)}function Ie(){var he=oe();he.removeEventListener("mousedown",mt,!0),he.removeEventListener("touchend",mt,Da),he.removeEventListener("touchstart",bt,Da),he.removeEventListener("touchmove",_t,Da)}function Be(he,Ae){Ze(he,function(){!E.state.isVisible&&I.parentNode&&I.parentNode.contains(I)&&Ae()})}function Ee(he,Ae){Ze(he,Ae)}function Ze(he,Ae){var Ne=D().box;function me(Je){Je.target===Ne&&(i0(Ne,"remove",me),Ae())}if(he===0)return Ae();i0(Ne,"remove",m),i0(Ne,"add",me),m=me}function Ke(he,Ae,Ne){Ne===void 0&&(Ne=!1);var me=fu(E.props.triggerTarget||t);me.forEach(function(Je){Je.addEventListener(he,Ae,Ne),y.push({node:Je,eventType:he,handler:Ae,options:Ne})})}function Fe(){R()&&(Ke("touchstart",ie,{passive:!0}),Ke("touchend",be,{passive:!0})),oQ(E.props.trigger).forEach(function(he){if(he!=="manual")switch(Ke(he,ie),he){case"mouseenter":Ke("mouseleave",be);break;case"focus":Ke(yQ?"focusout":"blur",_e);break;case"focusin":Ke("focusout",_e);break}})}function at(){y.forEach(function(he){var Ae=he.node,Ne=he.eventType,me=he.handler,Je=he.options;Ae.removeEventListener(Ne,me,Je)}),y=[]}function ie(he){var Ae,Ne=!1;if(!(!E.state.isEnabled||xe(he)||l)){var me=((Ae=d)==null?void 0:Ae.type)==="focus";d=he,C=he.currentTarget,qe(),!E.state.isVisible&&uQ(he)&&ip.forEach(function(Je){return Je(he)}),he.type==="click"&&(E.props.trigger.indexOf("mouseenter")<0||s)&&E.props.hideOnClick!==!1&&E.state.isVisible?Ne=!0:O(he),he.type==="click"&&(s=!Ne),Ne&&!me&&j(he)}}function te(he){var Ae=he.target,Ne=K().contains(Ae)||I.contains(Ae);if(!(he.type==="mousemove"&&Ne)){var me=W().concat(I).map(function(Je){var ct,ot=Je._tippy,Tt=(ct=ot.popperInstance)==null?void 0:ct.state;return Tt?{popperRect:Je.getBoundingClientRect(),popperState:Tt,props:n}:null}).filter(Boolean);hQ(me,he)&&(yt(),j(he))}}function be(he){var Ae=xe(he)||E.props.trigger.indexOf("click")>=0&&s;if(!Ae){if(E.props.interactive){E.hideWithInteractivity(he);return}j(he)}}function _e(he){E.props.trigger.indexOf("focusin")<0&&he.target!==K()||E.props.interactive&&he.relatedTarget&&I.contains(he.relatedTarget)||j(he)}function xe(he){return ao.isTouch?R()!==he.type.indexOf("touch")>=0:!1}function G(){Z();var he=E.props,Ae=he.popperOptions,Ne=he.placement,me=he.offset,Je=he.getReferenceClientRect,ct=he.moveTransition,ot=U()?n1(I).arrow:null,Tt=Je?{getBoundingClientRect:Je,contextElement:Je.contextElement||K()}:t,br={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Gt){var Kn=Gt.state;if(U()){var Gr=D(),Yr=Gr.box;["placement","reference-hidden","escaped"].forEach(function(Sn){Sn==="placement"?Yr.setAttribute("data-placement",Kn.placement):Kn.attributes.popper["data-popper-"+Sn]?Yr.setAttribute("data-"+Sn,""):Yr.removeAttribute("data-"+Sn)}),Kn.attributes.popper={}}}},Kt=[{name:"offset",options:{offset:me}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ct}},br];U()&&ot&&Kt.push({name:"arrow",options:{element:ot,padding:3}}),Kt.push.apply(Kt,(Ae==null?void 0:Ae.modifiers)||[]),E.popperInstance=nQ(Tt,I,Object.assign({},Ae,{placement:Ne,onFirstUpdate:v,modifiers:Kt}))}function Z(){E.popperInstance&&(E.popperInstance.destroy(),E.popperInstance=null)}function N(){var he=E.props.appendTo,Ae,Ne=K();E.props.interactive&&he===jN||he==="parent"?Ae=Ne.parentNode:Ae=WN(he,[Ne]),Ae.contains(I)||Ae.appendChild(I),E.state.isMounted=!0,G()}function W(){return Jm(I.querySelectorAll("[data-tippy-root]"))}function O(he){E.clearDelayTimeouts(),he&&ve("onTrigger",[E,he]),Xe();var Ae=ae(!0),Ne=w(),me=Ne[0],Je=Ne[1];ao.isTouch&&me==="hold"&&Je&&(Ae=Je),Ae?r=setTimeout(function(){E.show()},Ae):E.show()}function j(he){if(E.clearDelayTimeouts(),ve("onUntrigger",[E,he]),!E.state.isVisible){Ie();return}if(!(E.props.trigger.indexOf("mouseenter")>=0&&E.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(he.type)>=0&&s)){var Ae=ae(!1);Ae?i=setTimeout(function(){E.state.isVisible&&E.hide()},Ae):o=requestAnimationFrame(function(){E.hide()})}}function F(){E.state.isEnabled=!0}function Q(){E.hide(),E.state.isEnabled=!1}function le(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function pe(he){if(!E.state.isDestroyed){ve("onBeforeUpdate",[E,he]),at();var Ae=E.props,Ne=JT(t,Object.assign({},Ae,qT(he),{ignoreAttributes:!0}));E.props=Ne,Fe(),Ae.interactiveDebounce!==Ne.interactiveDebounce&&(yt(),_=WT(te,Ne.interactiveDebounce)),Ae.triggerTarget&&!Ne.triggerTarget?fu(Ae.triggerTarget).forEach(function(me){me.removeAttribute("aria-expanded")}):Ne.triggerTarget&&t.removeAttribute("aria-expanded"),qe(),ce(),q&&q(Ae,Ne),E.popperInstance&&(G(),W().forEach(function(me){requestAnimationFrame(me._tippy.popperInstance.forceUpdate)})),ve("onAfterUpdate",[E,he])}}function ye(he){E.setProps({content:he})}function Y(){var he=E.state.isVisible,Ae=E.state.isDestroyed,Ne=!E.state.isEnabled,me=ao.isTouch&&!E.props.touch,Je=n0(E.props.duration,0,zi.duration);if(!(he||Ae||Ne||me)&&!K().hasAttribute("disabled")&&(ve("onShow",[E],!1),E.props.onShow(E)!==!1)){if(E.state.isVisible=!0,U()&&(I.style.visibility="visible"),ce(),Xe(),E.state.isMounted||(I.style.transition="none"),U()){var ct=D(),ot=ct.box,Tt=ct.content;r0([ot,Tt],0)}v=function(){var Kt;if(!(!E.state.isVisible||f)){if(f=!0,I.offsetHeight,I.style.transition=E.props.moveTransition,U()&&E.props.animation){var Xt=D(),Gt=Xt.box,Kn=Xt.content;r0([Gt,Kn],Je),KT([Gt,Kn],"visible")}ze(),qe(),UT(o0,E),(Kt=E.popperInstance)==null||Kt.forceUpdate(),ve("onMount",[E]),E.props.animation&&U()&&Ee(Je,function(){E.state.isShown=!0,ve("onShown",[E])})}},N()}}function X(){var he=!E.state.isVisible,Ae=E.state.isDestroyed,Ne=!E.state.isEnabled,me=n0(E.props.duration,1,zi.duration);if(!(he||Ae||Ne)&&(ve("onHide",[E],!1),E.props.onHide(E)!==!1)){if(E.state.isVisible=!1,E.state.isShown=!1,f=!1,s=!1,U()&&(I.style.visibility="hidden"),yt(),Ie(),ce(!0),U()){var Je=D(),ct=Je.box,ot=Je.content;E.props.animation&&(r0([ct,ot],me),KT([ct,ot],"hidden"))}ze(),qe(),E.props.animation?U()&&Be(me,E.unmount):E.unmount()}}function de(he){oe().addEventListener("mousemove",_),UT(ip,_),_(he)}function Te(){E.state.isVisible&&E.hide(),E.state.isMounted&&(Z(),W().forEach(function(he){he._tippy.unmount()}),I.parentNode&&I.parentNode.removeChild(I),o0=o0.filter(function(he){return he!==E}),E.state.isMounted=!1,ve("onHidden",[E]))}function je(){E.state.isDestroyed||(E.clearDelayTimeouts(),E.unmount(),at(),delete t._tippy,E.state.isDestroyed=!0,ve("onDestroy",[E]))}}function Kr(t,e){e===void 0&&(e={});var n=zi.plugins.concat(e.plugins||[]);gQ();var r=Object.assign({},e,{plugins:n}),i=fQ(t),o=i.reduce(function(s,l){var u=l&&TQ(l,r);return u&&s.push(u),s},[]);return iv(t)?o[0]:o}Kr.defaultProps=zi;Kr.setDefaultProps=kQ;Kr.currentInput=ao;Object.assign({},LN,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Kr.setDefaultProps({render:KN});function QT(t){return I1((e,n)=>({get(){return e(),t},set(r){t=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class EQ extends lN{constructor(e={}){return super(e),this.vueRenderers=Al(new Map),this.contentComponent=null,this.reactiveState=QT(this.view.state),this.reactiveExtensionStorage=QT(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),fa(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){super.registerPlugin(e,n),this.reactiveState.value=this.view.state}unregisterPlugin(e){super.unregisterPlugin(e),this.reactiveState.value=this.view.state}}const AQ=Vn({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=Ot(),n=qi();return lO(()=>{const r=t.editor;r&&r.options.element&&e.value&&Ri(()=>{if(!e.value||!r.options.element.firstChild)return;const i=fr(e.value);e.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,r.setOptions({element:i}),r.createNodeViews()})}),Ml(()=>{const r=t.editor;if(!r||(r.isDestroyed||r.view.setProps({nodeViews:{}}),r.contentComponent=null,!r.options.element.firstChild))return;const i=document.createElement("div");i.append(...r.options.element.childNodes),r.setOptions({element:i})}),{rootEl:e}},render(){const t=[];return this.editor&&this.editor.vueRenderers.forEach(e=>{const n=mr(zO,{to:e.teleportElement,key:e.id},mr(e.component,{ref:e.id,...e.props}));t.push(n)}),mr("div",{ref:e=>{this.rootEl=e}},...t)}}),Ew=Vn({name:"NodeViewWrapper",props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,e;return mr(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(e=(t=this.$slots).default)===null||e===void 0?void 0:e.call(t))}});class GN{constructor(e,{props:n={},editor:r}){if(this.id=Math.floor(Math.random()*4294967295).toString(),this.editor=r,this.component=fa(e),this.teleportElement=document.createElement("div"),this.element=this.teleportElement,this.props=Al(n),this.editor.vueRenderers.set(this.id,this),this.editor.contentComponent){if(this.editor.contentComponent.update(),this.teleportElement.children.length!==1)throw Error("VueRenderer doesn’t support multiple child elements.");this.element=this.teleportElement.firstElementChild}}get ref(){var e;return(e=this.editor.contentComponent)===null||e===void 0?void 0:e.refs[this.id]}updateProps(e={}){Object.entries(e).forEach(([n,r])=>{this.props[n]=r})}destroy(){this.editor.vueRenderers.delete(this.id)}}class OQ extends uN{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(i={})=>this.updateAttributes(i),deleteNode:()=>this.deleteNode()},n=this.onDragStart.bind(this);this.decorationClasses=Ot(this.getDecorationClasses());const r=Vn({extends:{...this.component},props:Object.keys(e),template:this.component.template,setup:i=>{var o,s;return Up("onDragStart",n),Up("decorationClasses",this.decorationClasses),(s=(o=this.component).setup)===null||s===void 0?void 0:s.call(o,i,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules,__name:this.component.__name,__file:this.component.__file});this.renderer=new GN(r,{editor:this.editor,props:e})}get dom(){if(!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")||this.dom}update(e,n){const r=i=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(i)};if(typeof this.options.update=="function"){const i=this.node,o=this.decorations;return this.node=e,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:e,newDecorations:n,updateProps:()=>r({node:e,decorations:n})})}return e.type!==this.node.type?!1:(e===this.node&&this.decorations===n||(this.node=e,this.decorations=n,r({node:e,decorations:n})),!0)}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}getDecorationClasses(){return this.decorations.map(e=>e.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy()}}function Aw(t,e){return n=>n.editor.contentComponent?new OQ(t,n,e):{}}const Bt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},MQ={name:"IframeView",components:{NodeViewWrapper:Ew},props:{editor:{type:Object,default:()=>{}},node:{type:Object,default:()=>{}},decorations:{type:Array,default:()=>[]},selected:{type:Boolean,default:!1},extension:{type:Object,default:()=>{}},getPos:{type:Function,default:()=>{}},updateAttributes:{type:Function,default:()=>{}}}},NQ={class:"vui-iframe-wrap"},LQ=["src"];function IQ(t,e,n,r,i,o){const s=ut("node-view-wrapper");return ge(),Ct(s,{class:vt(["vui-iframe",{selected:n.selected}])},{default:Vt(()=>[re("div",NQ,[re("iframe",wi(n.node.attrs,{src:n.node.attrs.url}),null,16,LQ)])]),_:1},8,["class"])}const PQ=Bt(MQ,[["render",IQ]]),DQ=_n.create({name:"iframe",group:"block",atom:!0,addAttributes(){return{url:{default:null},frameborder:{default:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:t}){return["iframe",t]},addNodeView(){return Aw(PQ)},addCommands(){return{setIframe:t=>({tr:e,dispatch:n})=>{const{selection:r}=e,i=this.type.create(t);return n&&e.replaceRangeWith(r.from,r.to,i),!0}}},addProseMirrorPlugins(){return[new on({key:new xn("handleClick"),props:{handleClick:(t,e,n)=>{n.target.classList.contains("vui-iframe")&&setTimeout(()=>{this.editor.emit("vui:iframe-clicked",n)},50)}}})]}}),YN=(t="")=>{try{const e=new URL(t);return e!==null&&e.protocol.startsWith("http")}catch{return!1}},r1=t=>new URL(t).host.replace("www.",""),JN=fetch,RQ=async(t,e={})=>{const{target:n,headers:r={}}=e;return await JN(n+encodeURIComponent(t),{headers:r})},zQ=async(t,e={})=>{const{headers:n={"user-agent":"Mozilla/5.0 (X11; Linux x86_64; rv:104.0) Gecko/20100101 Firefox/104.0"},proxy:r=null}=e,i=r?await RQ(t,r):await JN(t,{headers:n}),o=i.status;if(o>=400)throw new Error(`Request failed with error code ${o}`);try{const s=await i.text();return JSON.parse(s.trim())}catch{throw new Error("Failed to convert data to JSON object")}},BQ=t=>r1(t)==="graph.facebook.com",$Q=()=>{const t=process.env||{},e=t.FACEBOOK_APP_ID,n=t.FACEBOOK_CLIENT_TOKEN;return`${e}|${n}`},HQ=async(t,e={},n="",r={})=>{const i={url:t,format:"json",...e};i.maxwidth<=0&&delete i.maxwidth,i.maxheight<=0&&delete i.maxheight,BQ(n)&&(i.access_token=$Q());const o=new URLSearchParams(i).toString(),s=n+"?"+o;return zQ(s,r)},FQ=[{s:["www\\.23hq\\.com/*/photo/*"],e:"www.23hq.com/23/oembed"},{s:["store\\.abraia\\.me/*"],e:"api.abraia.me/oembed"},{s:["play\\.acast\\.com/s/*"],e:"oembed.acast.com/v1/embed-player"},{s:["secure\\.actblue\\.com/donate/*"],e:"secure.actblue.com/cf/oembed"},{s:["adilo\\.bigcommand\\.com/watch/*"],e:"adilo.bigcommand.com/web/oembed"},{s:["v\\.afree\\.ca/ST/","vod\\.afreecatv\\.com/ST/","vod\\.afreecatv\\.com/PLAYER/STATION/","play\\.afreecatv\\.com/"],e:"openapi.afreecatv.com/oembed/embedinfo"},{s:["altium\\.com/viewer/*"],e:"viewer.altium.com/shell/oembed"},{s:["app\\.altrulabs\\.com/*/*?answer_id=*","app\\.altrulabs\\.com/player/*"],e:"api.altrulabs.com/api/v1/social/oembed"},{s:["live\\.amcharts\\.com/*"],e:"live.amcharts.com/oembed"},{s:["amtraker\\.com/trains/*","beta\\.amtraker\\.com/trains/*"],e:"api.amtraker.com/v2/oembed"},{s:["www\\.animatron\\.com/project/*","animatron\\.com/project/*"],e:"animatron.com/oembed/json"},{s:["animoto\\.com/play/*"],e:"animoto.com/oembeds/create"},{s:["anniemusic\\.app/t/*","anniemusic\\.app/p/*"],e:"api.anniemusic.app/api/v1/oembed"},{s:["storymaps\\.arcgis\\.com/stories/*"],e:"storymaps.arcgis.com/oembed"},{s:["app\\.archivos\\.digital/app/view/*"],e:"app.archivos.digital/oembed/"},{s:["audioboom\\.com/channels/*","audioboom\\.com/channel/*","audioboom\\.com/playlists/*","audioboom\\.com/podcasts/*","audioboom\\.com/podcast/*","audioboom\\.com/posts/*","audioboom\\.com/episodes/*"],e:"audioboom.com/publishing/oembed.json"},{s:["audioclip\\.naver\\.com/channels/*/clips/*","audioclip\\.naver\\.com/audiobooks/*"],e:"audioclip.naver.com/oembed"},{s:["audiomack\\.com/*/song/*","audiomack\\.com/*/album/*","audiomack\\.com/*/playlist/*"],e:"audiomack.com/oembed"},{s:["podcasts\\.audiomeans\\.fr/*"],e:"podcasts.audiomeans.fr/services/oembed"},{s:["app\\.avocode\\.com/view/*"],e:"stage-embed.avocode.com/api/oembed"},{s:["backtracks\\.fm/*/*/e/*","backtracks\\.fm/*/s/*/*","backtracks\\.fm/*/*/*/*/e/*/*","backtracks\\.fm/*"],e:"backtracks.fm/oembed"},{s:["beams\\.fm/*"],e:"api.beams.fm/oEmbed"},{s:[],e:"www.beautiful.ai/api/oembed"},{s:["blackfire\\.io/profiles/*/graph","blackfire\\.io/profiles/compare/*/graph"],e:"blackfire.io/oembed"},{s:["blogcast\\.host/embed/*","blogcast\\.host/embedly/*"],e:"blogcast.host/oembed"},{s:["www\\.bookingmood\\.com/embed/*/*"],e:"bookingmood.com/api/oembed"},{s:[],e:"boxofficebuz.com/oembed"},{s:["view\\.briovr\\.com/api/v1/worlds/oembed/*"],e:"view.briovr.com/api/v1/worlds/oembed/"},{s:["www\\.bumper\\.com/oembed/bumper","www\\.bumper\\.com/oembed-s/bumper"],e:"www.bumper.com/oembed/bumper"},{s:["buttondown\\.email/*"],e:"buttondown.email/embed"},{s:["cmc\\.byzart\\.eu/files/*"],e:"cmc.byzart.eu/oembed/"},{s:["cacoo\\.com/diagrams/*"],e:"cacoo.com/oembed.json"},{s:["minesweeper\\.today/*"],e:"minesweeper.today/api/oembed"},{s:["img\\.catbo\\.at/*"],e:"img.catbo.at/oembed.json"},{s:["view\\.ceros\\.com/*"],e:"view.ceros.com/oembed"},{s:["chainflix\\.net/video/*","chainflix\\.net/video/embed/*","*\\.chainflix\\.net/video/*","*\\.chainflix\\.net/video/embed/*"],e:"www.chainflix.net/video/oembed"},{s:["public\\.chartblocks\\.com/c/*"],e:"embed.chartblocks.com/1.0/oembed"},{s:["chirb\\.it/*"],e:"chirb.it/oembed.json"},{s:["chroco\\.ooo/mypage/*","chroco\\.ooo/story/*"],e:"chroco.ooo/embed"},{s:["www\\.circuitlab\\.com/circuit/*"],e:"www.circuitlab.com/circuit/oembed/"},{s:["www\\.clipland\\.com/v/*"],e:"www.clipland.com/api/oembed"},{s:["clyp\\.it/*","clyp\\.it/playlist/*"],e:"api.clyp.it/oembed/"},{s:["app\\.ilovecoco\\.video/*/embed"],e:"app.ilovecoco.video/api/oembed.json"},{s:["codehs\\.com/editor/share_abacus/*"],e:"codehs.com/api/sharedprogram/1/oembed/"},{s:["codepen\\.io/*"],e:"codepen.io/api/oembed"},{s:["codepoints\\.net/*","www\\.codepoints\\.net/*"],e:"codepoints.net/api/v1/oembed"},{s:["codesandbox\\.io/s/*","codesandbox\\.io/embed/*"],e:"codesandbox.io/oembed"},{s:["www\\.collegehumor\\.com/video/*"],e:"www.collegehumor.com/oembed.json"},{s:["commaful\\.com/play/*"],e:"commaful.com/api/oembed/"},{s:["coub\\.com/view/*","coub\\.com/embed/*"],e:"coub.com/api/oembed.json"},{s:["crowdranking\\.com/*/*"],e:"crowdranking.com/api/oembed.json"},{s:["crumb\\.sh/*"],e:"crumb.sh/oembed/"},{s:["cueup\\.io/user/*/sounds/*"],e:"gql.cueup.io/oembed"},{s:["*\\.curated\\.co/*"],e:"api.curated.co/oembed"},{s:["app\\.customerdb\\.com/share/*"],e:"app.customerdb.com/embed"},{s:["app\\.dadan\\.io/*","stage\\.dadan\\.io/*"],e:"app.dadan.io/api/video/oembed"},{s:["www\\.dailymotion\\.com/video/*"],e:"www.dailymotion.com/services/oembed"},{s:["dalexni\\.com/i/*"],e:"dalexni.com/oembed/"},{s:["datawrapper\\.dwcdn\\.net/*"],e:"api.datawrapper.de/v3/oembed/"},{s:["*\\.deseret\\.com/*"],e:"embed.deseret.com/"},{s:["*\\.deviantart\\.com/art/*","*\\.deviantart\\.com/*#/d*","fav\\.me/*","sta\\.sh/*","*\\.deviantart\\.com/*/art/*",'sta\\.sh/*",','*\\.deviantart\\.com/*#/d*"'],e:"backend.deviantart.com/oembed"},{s:["www\\.ultimedia\\.com/central/video/edit/id/*/topic_id/*/","www\\.ultimedia\\.com/default/index/videogeneric/id/*/showtitle/1/viewnc/1","www\\.ultimedia\\.com/default/index/videogeneric/id/*"],e:"www.ultimedia.com/api/search/oembed"},{s:["*\\.docdroid\\.net/*","docdro\\.id/*","*\\.docdroid\\.com/*"],e:"www.docdroid.net/api/oembed"},{s:["docswell\\.com/*/*","www\\.docswell\\.com/*/*"],e:"www.docswell.com/service/oembed"},{s:["dotsub\\.com/view/*"],e:"dotsub.com/services/oembed"},{s:["www\\.dreambroker\\.com/channel/*/*"],e:"dreambroker.com/channel/oembed"},{s:["d\\.tube/v/*"],e:"api.d.tube/oembed"},{s:[],e:"www.edumedia-sciences.com/oembed.json"},{s:[],e:"www.edumedia-sciences.com/oembed.xml"},{s:["egliseinfo\\.catholique\\.fr/*"],e:"egliseinfo.catholique.fr/api/oembed"},{s:["embedery\\.com/widget/*"],e:"embedery.com/api/oembed"},{s:["music\\.enystre\\.com/lyrics/*"],e:"music.enystre.com/oembed"},{s:["ethfiddle\\.com/*"],e:"ethfiddle.com/services/oembed/"},{s:["evt\\.live/*","evt\\.live/*/*","live\\.eventlive\\.pro/*","live\\.eventlive\\.pro/*/*"],e:"evt.live/api/oembed"},{s:["app\\.everviz\\.com/embed/*"],e:"api.everviz.com/oembed"},{s:["app\\.ex\\.co/stories/*","www\\.playbuzz\\.com/*"],e:"oembed.ex.co/item"},{s:["eyrie\\.io/board/*","eyrie\\.io/sparkfun/*"],e:"eyrie.io/v1/oembed"},{s:["www\\.facebook\\.com/*/posts/*","www\\.facebook\\.com/*/activity/*","www\\.facebook\\.com/*/photos/*","www\\.facebook\\.com/photo\\.php?fbid=*","www\\.facebook\\.com/photos/*","www\\.facebook\\.com/permalink\\.php?story_fbid=*","www\\.facebook\\.com/media/set?set=*","www\\.facebook\\.com/questions/*","www\\.facebook\\.com/notes/*/*/*"],e:"graph.facebook.com/v10.0/oembed_post"},{s:["www\\.facebook\\.com/*/videos/*","www\\.facebook\\.com/video\\.php?id=*","www\\.facebook\\.com/video\\.php?v=*"],e:"graph.facebook.com/v10.0/oembed_video"},{s:["www\\.facebook\\.com/*"],e:"graph.facebook.com/v10.0/oembed_page"},{s:["app\\.getfader\\.com/projects/*/publish"],e:"app.getfader.com/api/oembed"},{s:["faithlifetv\\.com/items/*","faithlifetv\\.com/items/resource/*/*","faithlifetv\\.com/media/*","faithlifetv\\.com/media/assets/*","faithlifetv\\.com/media/resource/*/*"],e:"faithlifetv.com/api/oembed"},{s:["*\\.fireworktv\\.com/*","*\\.fireworktv\\.com/embed/*/v/*"],e:"www.fireworktv.com/oembed"},{s:["www\\.fite\\.tv/watch/*"],e:"www.fite.tv/oembed"},{s:["flat\\.io/score/*","*\\.flat\\.io/score/*"],e:"flat.io/services/oembed"},{s:["*\\.flickr\\.com/photos/*","flic\\.kr/p/*","*\\.*\\.flickr\\.com/*/*"],e:"www.flickr.com/services/oembed/"},{s:["public\\.flourish\\.studio/visualisation/*","public\\.flourish\\.studio/story/*"],e:"app.flourish.studio/api/v1/oembed"},{s:["fiso\\.foxsports\\.com\\.au/isomorphic-widget/*"],e:"fiso.foxsports.com.au/oembed"},{s:["framebuzz\\.com/v/*"],e:"framebuzz.com/oembed/"},{s:["framer\\.com/share/*","framer\\.com/embed/*"],e:"api.framer.com/web/oembed"},{s:["*\\.geograph\\.org\\.uk/*","*\\.geograph\\.co\\.uk/*","*\\.geograph\\.ie/*","*\\.wikimedia\\.org/*_geograph\\.org\\.uk_*"],e:"api.geograph.org.uk/api/oembed"},{s:["*\\.geograph\\.org\\.gg/*","*\\.geograph\\.org\\.je/*","channel-islands\\.geograph\\.org/*","channel-islands\\.geographs\\.org/*","*\\.channel\\.geographs\\.org/*"],e:"www.geograph.org.gg/api/oembed"},{s:["geo-en\\.hlipp\\.de/*","geo\\.hlipp\\.de/*","germany\\.geograph\\.org/*"],e:"geo.hlipp.de/restapi.php/api/oembed"},{s:["gty\\.im/*"],e:"embed.gettyimages.com/oembed"},{s:["gfycat\\.com/*","www\\.gfycat\\.com/*"],e:"api.gfycat.com/v1/oembed"},{s:["www\\.gifnote\\.com/play/*"],e:"www.gifnote.com/services/oembed"},{s:["giphy\\.com/gifs/*","giphy\\.com/clips/*","gph\\.is/*","media\\.giphy\\.com/media/*/giphy\\.gif"],e:"giphy.com/services/oembed"},{s:[],e:"gloria.tv/oembed/"},{s:["view\\.gmetri\\.com/*","*\\.gmetri\\.com/*"],e:"embed.gmetri.com/oembed/"},{s:["app\\.gong\\.io/call?id=*"],e:"app.gong.io/oembed"},{s:["grain\\.co/highlight/*","grain\\.co/share/*","grain\\.com/share/*"],e:"api.grain.com/_/api/oembed"},{s:["gtchannel\\.com/watch/*"],e:"api.luminery.com/oembed"},{s:["gyazo\\.com/*"],e:"api.gyazo.com/api/oembed"},{s:["core\\.hash\\.ai/@*"],e:"api.hash.ai/oembed"},{s:["hearthis\\.at/*/*/","hearthis\\.at/*/set/*/"],e:"hearthis.at/oembed/?format=json"},{s:["heyzine\\.com/flip-book/*","*\\.hflip\\.co/*","*\\.aflip\\.in/*"],e:"heyzine.com/api1/oembed"},{s:["player\\.hihaho\\.com/*"],e:"player.hihaho.com/services/oembed"},{s:["*\\.hippovideo\\.io/*"],e:"www.hippovideo.io/services/oembed"},{s:["homey\\.app/f/*","homey\\.app/*/flow/*"],e:"homey.app/api/oembed/flow"},{s:["huffduffer\\.com/*/*"],e:"huffduffer.com/oembed"},{s:["www\\.hulu\\.com/watch/*"],e:"www.hulu.com/api/oembed.json"},{s:["*\\.idomoo\\.com/*"],e:"oembed.idomoo.com/oembed"},{s:["www\\.ifixit\\.com/Guide/View/*"],e:"www.ifixit.com/Embed"},{s:["ifttt\\.com/recipes/*"],e:"www.ifttt.com/oembed/"},{s:["www\\.iheart\\.com/podcast/*/*"],e:"www.iheart.com/oembed"},{s:["qr\\.imenupro\\.com/*"],e:"qr.imenupro.com/api/oembed"},{s:["incredible\\.dev/watch/*"],e:"oembed.incredible.dev/oembed"},{s:["player\\.indacolive\\.com/player/jwp/clients/*"],e:"player.indacolive.com/services/oembed"},{s:["infogram\\.com/*"],e:"infogram.com/oembed"},{s:["*\\.infoveave\\.net/E/*","*\\.infoveave\\.net/P/*"],e:"infoveave.net/services/oembed/"},{s:["www\\.injurymap\\.com/exercises/*"],e:"www.injurymap.com/services/oembed"},{s:["www\\.inoreader\\.com/oembed/"],e:"www.inoreader.com/oembed/api/"},{s:["*\\.inphood\\.com/*"],e:"api.inphood.com/oembed"},{s:["instagram\\.com/*/p/*,","www\\.instagram\\.com/*/p/*,","instagram\\.com/p/*","instagr\\.am/p/*","www\\.instagram\\.com/p/*","www\\.instagr\\.am/p/*","instagram\\.com/tv/*","instagr\\.am/tv/*","www\\.instagram\\.com/tv/*","www\\.instagr\\.am/tv/*","www\\.instagram\\.com/reel/*","instagram\\.com/reel/*","instagr\\.am/reel/*"],e:"graph.facebook.com/v10.0/instagram_oembed"},{s:["ppa\\.insticator\\.com/embed-unit/*"],e:"www.insticator.com/oembed"},{s:["issuu\\.com/*/docs/*"],e:"issuu.com/oembed"},{s:["jovian\\.ml/*","jovian\\.ml/viewer*","*\\.jovian\\.ml/*","jovian\\.ai/*","jovian\\.ai/viewer*","*\\.jovian\\.ai/*","jovian\\.com/*","jovian\\.com/viewer*","*\\.jovian\\.com/*"],e:"api.jovian.com/oembed.json"},{s:["tv\\.kakao\\.com/channel/*/cliplink/*","tv\\.kakao\\.com/m/channel/*/cliplink/*","tv\\.kakao\\.com/channel/v/*","tv\\.kakao\\.com/channel/*/livelink/*","tv\\.kakao\\.com/m/channel/*/livelink/*","tv\\.kakao\\.com/channel/l/*"],e:"tv.kakao.com/oembed"},{s:["www\\.kickstarter\\.com/projects/*"],e:"www.kickstarter.com/services/oembed"},{s:["www\\.kidoju\\.com/en/x/*/*","www\\.kidoju\\.com/fr/x/*/*"],e:"www.kidoju.com/api/oembed"},{s:["halaman\\.email/form/*","aplikasi\\.kirim\\.email/form/*"],e:"halaman.email/service/oembed"},{s:["kit\\.co/*/*"],e:"embed.kit.co/oembed"},{s:["www\\.kitchenbowl\\.com/recipe/*"],e:"www.kitchenbowl.com/oembed"},{s:["app\\.kmdr\\.sh/h/*","app\\.kmdr\\.sh/history/*"],e:"api.kmdr.sh/services/oembed"},{s:["jdr\\.knacki\\.info/meuh/*"],e:"jdr.knacki.info/oembed"},{s:["knowledgepad\\.co/#/knowledge/*"],e:"api.spoonacular.com/knowledge/oembed"},{s:["*\\.kooapp\\.com/koo/*"],e:"embed.kooapp.com/services/oembed"},{s:["kurozora\\.app/episodes*","kurozora\\.app/songs*"],e:"kurozora.app/oembed"},{s:["learningapps\\.org/*"],e:"learningapps.org/oembed.php"},{s:["umotion-test\\.univ-lemans\\.fr/video/*"],e:"umotion-test.univ-lemans.fr/oembed"},{s:["pod\\.univ-lille\\.fr/video/*"],e:"pod.univ-lille.fr/video/oembed"},{s:["place\\.line\\.me/businesses/*"],e:"place.line.me/oembed"},{s:["livestream\\.com/accounts/*/events/*","livestream\\.com/accounts/*/events/*/videos/*","livestream\\.com/*/events/*","livestream\\.com/*/events/*/videos/*","livestream\\.com/*/*","livestream\\.com/*/*/videos/*"],e:"livestream.com/oembed"},{s:["lottiefiles\\.com/*","*\\.lottiefiles\\.com/*"],e:"embed.lottiefiles.com/oembed"},{s:["app\\.ludus\\.one/*"],e:"app.ludus.one/oembed"},{s:["*\\.lumiere\\.is/v/*"],e:"admin.lumiere.is/api/services/oembed"},{s:["mathembed\\.com/latex?inputText=*"],e:"mathembed.com/oembed"},{s:[],e:"my.matterport.com/api/v1/models/oembed/"},{s:["me\\.me/i/*"],e:"me.me/oembed"},{s:["mdstrm\\.com/embed/*","mdstrm\\.com/live-stream/*","mdstrm\\.com/image/*"],e:"mdstrm.com/oembed"},{s:["medienarchiv\\.zhdk\\.ch/entries/*"],e:"medienarchiv.zhdk.ch/oembed.json"},{s:["mermaid\\.ink/img/*","mermaid\\.ink/svg/*"],e:"mermaid.ink/services/oembed"},{s:["*\\.microsoftstream\\.com/video/*","*\\.microsoftstream\\.com/channel/*"],e:"web.microsoftstream.com/oembed"},{s:["www\\.minervaknows\\.com/featured-recipes/*","www\\.minervaknows\\.com/themes/*","www\\.minervaknows\\.com/themes/*/recipes/*","app\\.minervaknows\\.com/recipes/*","app\\.minervaknows\\.com/recipes/*/follow"],e:"oembed.minervaknows.com"},{s:["miro\\.com/app/board/*"],e:"miro.com/api/v1/oembed"},{s:["www\\.mixcloud\\.com/*/*/"],e:"www.mixcloud.com/oembed/"},{s:["mixpanel\\.com/*"],e:"mixpanel.com/api/app/embed/oembed/"},{s:["www\\.mobypicture\\.com/user/*/view/*","moby\\.to/*"],e:"api.mobypicture.com/oEmbed"},{s:["musicboxmaniacs\\.com/explore/melody/*"],e:"musicboxmaniacs.com/embed/"},{s:["mybeweeg\\.com/w/*"],e:"mybeweeg.com/services/oembed"},{s:["namchey\\.com/embeds/*"],e:"namchey.com/api/oembed"},{s:["*\\.nanoo\\.tv/link/*","nanoo\\.tv/link/*","*\\.nanoo\\.pro/link/*","nanoo\\.pro/link/*","media\\.zhdk\\.ch/signatur/*","new\\.media\\.zhdk\\.ch/signatur/*"],e:"www.nanoo.tv/services/oembed"},{s:["www\\.nb\\.no/items/*"],e:"api.nb.no/catalog/v1/oembed"},{s:["naturalatlas\\.com/*","naturalatlas\\.com/*/*","naturalatlas\\.com/*/*/*","naturalatlas\\.com/*/*/*/*"],e:"naturalatlas.com/oembed.json"},{s:["ndla\\.no/*"],e:"ndla.no/oembed"},{s:["liste\\.ndla\\.no/*"],e:"liste.ndla.no/oembed"},{s:["*\\.nfb\\.ca/film/*"],e:"www.nfb.ca/remote/services/oembed/"},{s:["nopaste\\.ml/*"],e:"oembed.nopaste.ml"},{s:["observablehq\\.com/@*/*","observablehq\\.com/d/*","observablehq\\.com/embed/*"],e:"api.observablehq.com/oembed"},{s:["www\\.odds\\.com\\.au/*","odds\\.com\\.au/*"],e:"www.odds.com.au/api/oembed/"},{s:["song\\.link/*","album\\.link/*","artist\\.link/*","playlist\\.link/*","pods\\.link/*","mylink\\.page/*","odesli\\.co/*"],e:"song.link/oembed"},{s:["odysee\\.com/*/*","odysee\\.com/*"],e:"odysee.com/$/oembed"},{s:["official\\.fm/tracks/*","official\\.fm/playlists/*"],e:"official.fm/services/oembed.json"},{s:["omniscope\\.me/*"],e:"omniscope.me/_global_/oembed/json"},{s:["omny\\.fm/shows/*"],e:"omny.fm/oembed"},{s:["orbitvu\\.co/001/*/ov3601/view","orbitvu\\.co/001/*/ov3601/*/view","orbitvu\\.co/001/*/ov3602/*/view","orbitvu\\.co/001/*/2/orbittour/*/view","orbitvu\\.co/001/*/1/2/orbittour/*/view"],e:"orbitvu.co/service/oembed"},{s:["outplayed\\.tv/media/*"],e:"outplayed.tv/oembed"},{s:["overflow\\.io/s/*","overflow\\.io/embed/*"],e:"overflow.io/services/oembed"},{s:["www\\.oz\\.com/*/video/*"],e:"core.oz.com/oembed"},{s:["padlet\\.com/*"],e:"padlet.com/oembed/"},{s:["*\\.tv\\.pandavideo\\.com\\.br/embed/?v=*","*\\.tv\\.pandavideo\\.com\\.br/*/playlist\\.m3u8","dashboard\\.pandavideo\\.com\\.br/#/videos/*"],e:"api-v2.pandavideo.com.br/oembed"},{s:["pastery\\.net/*","www\\.pastery\\.net/*"],e:"www.pastery.net/oembed"},{s:["www\\.picturelfy\\.com/p/*"],e:"api.picturelfy.com/service/oembed/"},{s:["*\\.builder\\.pikasso\\.xyz/embed/*"],e:"builder.pikasso.xyz/api/oembed"},{s:[],e:"beta.pingvp.com.kpnis.nl/p/oembed.php"},{s:["tools\\.pinpoll\\.com/embed/*"],e:"tools.pinpoll.com/oembed"},{s:["www\\.pinterest\\.com/*"],e:"www.pinterest.com/oembed.json"},{s:["player\\.pitchhub\\.com/en/public/player/*"],e:"player.pitchhub.com/en/public/oembed"},{s:["store\\.pixdor\\.com/place-marker-widget/*/show","store\\.pixdor\\.com/map/*/show"],e:"store.pixdor.com/oembed"},{s:["app\\.plusdocs\\.com/*/snapshots/*","app\\.plusdocs\\.com/*/pages/edit/*","app\\.plusdocs\\.com/*/pages/share/*"],e:"app.plusdocs.com/oembed"},{s:["*\\.podbean\\.com/e/*"],e:"api.podbean.com/v1/oembed"},{s:["*\\.polldaddy\\.com/s/*","*\\.polldaddy\\.com/poll/*","*\\.polldaddy\\.com/ratings/*"],e:"polldaddy.com/oembed/"},{s:["portfolium\\.com/entry/*"],e:"api.portfolium.com/oembed"},{s:["present\\.do/decks/*"],e:"gateway.cobalt.run/present/decks/oembed"},{s:["prezi\\.com/v/*","*\\.prezi\\.com/v/*"],e:"prezi.com/v/oembed"},{s:["qtpi\\.gg/fashion/*"],e:"qtpi.gg/fashion/oembed"},{s:["www\\.quiz\\.biz/quizz-*\\.html"],e:"www.quiz.biz/api/oembed"},{s:["www\\.quizz\\.biz/quizz-*\\.html"],e:"www.quizz.biz/api/oembed"},{s:["play\\.radiopublic\\.com/*","radiopublic\\.com/*","www\\.radiopublic\\.com/*","*\\.radiopublic\\.com/*"],e:"oembed.radiopublic.com/oembed"},{s:["raindrop\\.io/*","raindrop\\.io/*/*","raindrop\\.io/*/*/*","raindrop\\.io/*/*/*/*"],e:"pub.raindrop.io/api/oembed"},{s:["www\\.rcvis\\.com/v/*","www\\.rcvis\\.com/visualize=*","www\\.rcvis\\.com/ve/*","www\\.rcvis\\.com/visualizeEmbedded=*"],e:"animatron.com/oembed"},{s:["reddit\\.com/r/*/comments/*/*","www\\.reddit\\.com/r/*/comments/*/*"],e:"www.reddit.com/oembed"},{s:["rwire\\.com/*"],e:"publisher.releasewire.com/oembed/"},{s:["repl\\.it/@*/*","replit\\.com/@*/*"],e:"replit.com/data/oembed"},{s:["www\\.reverbnation\\.com/*","www\\.reverbnation\\.com/*/songs/*"],e:"www.reverbnation.com/oembed"},{s:["roomshare\\.jp/post/*","roomshare\\.jp/en/post/*"],e:"roomshare.jp/en/oembed.json"},{s:["roosterteeth\\.com/*"],e:"roosterteeth.com/oembed"},{s:[],e:"rumble.com/api/Media/oembed.json"},{s:["embed\\.runkit\\.com/*,"],e:"embed.runkit.com/oembed"},{s:["octopus\\.saooti\\.com/main/pub/podcast/*"],e:"octopus.saooti.com/oembed"},{s:["videos\\.sapo\\.pt/*"],e:"videos.sapo.pt/oembed"},{s:["console\\.screen9\\.com/*","*\\.screen9\\.tv/*"],e:"api.screen9.com/oembed"},{s:["www\\.screencast\\.com/*"],e:"api.screencast.com/external/oembed"},{s:["www\\.screenr\\.com/*/"],e:"www.screenr.com/api/oembed.json"},{s:["www\\.scribblemaps\\.com/maps/view/*","scribblemaps\\.com/maps/view/*"],e:"scribblemaps.com/api/services/oembed.json"},{s:["www\\.scribd\\.com/doc/*"],e:"www.scribd.com/services/oembed/"},{s:["embed\\.sendtonews\\.com/oembed/*"],e:"embed.sendtonews.com/services/oembed"},{s:["www\\.shortnote\\.jp/view/notes/*"],e:"www.shortnote.jp/oembed/"},{s:["shoudio\\.com/*","shoud\\.io/*"],e:"shoudio.com/api/oembed"},{s:["app\\.getshow\\.io/iframe/*","*\\.getshow\\.io/share/*"],e:"api.getshow.io/oembed.json"},{s:["showtheway\\.io/to/*"],e:"showtheway.io/oembed"},{s:["simplecast\\.com/s/*"],e:"simplecast.com/oembed"},{s:["onsizzle\\.com/i/*"],e:"onsizzle.com/oembed"},{s:["sketchfab\\.com/*models/*","sketchfab\\.com/*/folders/*"],e:"sketchfab.com/oembed"},{s:["www\\.slideshare\\.net/*/*","fr\\.slideshare\\.net/*/*","de\\.slideshare\\.net/*/*","es\\.slideshare\\.net/*/*","pt\\.slideshare\\.net/*/*"],e:"www.slideshare.net/api/oembed/2"},{s:["smashnotes\\.com/p/*","smashnotes\\.com/p/*/e/* - https://smashnotes\\.com/p/*/e/*/s/*"],e:"smashnotes.com/services/oembed"},{s:["open\\.smeme\\.com/*"],e:"open.smeme.com/api/oembed"},{s:["www\\.smrthi\\.com/book/*"],e:"www.smrthi.com/api/oembed"},{s:["*\\.smugmug\\.com/*"],e:"api.smugmug.com/services/oembed/"},{s:["www\\.socialexplorer\\.com/*/explore","www\\.socialexplorer\\.com/*/view","www\\.socialexplorer\\.com/*/edit","www\\.socialexplorer\\.com/*/embed"],e:"www.socialexplorer.com/services/oembed/"},{s:["soundcloud\\.com/*","on\\.soundcloud\\.com/*","soundcloud\\.app\\.goog\\.gl/*"],e:"soundcloud.com/oembed"},{s:["speakerdeck\\.com/*/*"],e:"speakerdeck.com/oembed.json"},{s:["open\\.spotify\\.com/*","spotify:*"],e:"open.spotify.com/oembed"},{s:["*\\.spotlightr\\.com/watch/*","*\\.spotlightr\\.com/publish/*","*\\.cdn\\.spotlightr\\.com/watch/*","*\\.cdn\\.spotlightr\\.com/publish/*"],e:"api.spotlightr.com/getOEmbed"},{s:["*\\.spreaker\\.com/*"],e:"api.spreaker.com/oembed"},{s:["sproutvideo\\.com/videos/*","*\\.vids\\.io/videos/*"],e:"sproutvideo.com/oembed.json"},{s:["purl\\.stanford\\.edu/*"],e:"purl.stanford.edu/embed.json"},{s:["streamable\\.com/*"],e:"api.streamable.com/oembed.json"},{s:["s3m\\.io/*","23m\\.io/*"],e:"streamio.com/api/v1/oembed"},{s:["subscribi\\.io/api/oembed*"],e:"subscribi.io/api/oembed"},{s:["www\\.sudomemo\\.net/watch/*","flipnot\\.es/*"],e:"www.sudomemo.net/oembed"},{s:["www\\.sutori\\.com/story/*"],e:"www.sutori.com/api/oembed"},{s:["sway\\.com/*","www\\.sway\\.com/*"],e:"sway.com/api/v1.0/oembed"},{s:["sway\\.office\\.com/*"],e:"sway.office.com/api/v1.0/oembed"},{s:["share\\.synthesia\\.io/*"],e:"69jr5v75rc.execute-api.eu-west-1.amazonaws.com/prod/v2/oembed"},{s:["ted\\.com/talks/*","www\\.ted\\.com/talks/*"],e:"www.ted.com/services/v1/oembed.json"},{s:["www\\.nytimes\\.com/svc/oembed","nytimes\\.com/*","*\\.nytimes\\.com/*"],e:"www.nytimes.com/svc/oembed/json/"},{s:["theysaidso\\.com/image/*"],e:"theysaidso.com/extensions/oembed/"},{s:["www\\.tickcounter\\.com/countdown/*","www\\.tickcounter\\.com/countup/*","www\\.tickcounter\\.com/ticker/*","www\\.tickcounter\\.com/worldclock/*"],e:"www.tickcounter.com/oembed"},{s:["www\\.tiktok\\.com/*","www\\.tiktok\\.com/*/video/*"],e:"www.tiktok.com/oembed"},{s:["www\\.toornament\\.com/tournaments/*/information","www\\.toornament\\.com/tournaments/*/registration/","www\\.toornament\\.com/tournaments/*/matches/schedule","www\\.toornament\\.com/tournaments/*/stages/*/"],e:"widget.toornament.com/oembed"},{s:["www\\.topy\\.se/image/*"],e:"www.topy.se/oembed/"},{s:["app-test\\.totango\\.com/*"],e:"app-test.totango.com/oembed"},{s:["trinitymedia\\.ai/player/*"],e:"trinitymedia.ai/player/trinity-oembed"},{s:["*\\.tumblr\\.com/post/*"],e:"www.tumblr.com/oembed/1.0"},{s:["www\\.tuxx\\.be/*"],e:"www.tuxx.be/services/oembed"},{s:["play\\.tvcf\\.co\\.kr/*","*\\.tvcf\\.co\\.kr/*"],e:"play.tvcf.co.kr/rest/oembed"},{s:["twinmotion\\.unrealengine\\.com/presentation/*","twinmotion\\.unrealengine\\.com/panorama/*"],e:"twinmotion.unrealengine.com/oembed"},{s:["twitter\\.com/*","twitter\\.com/*/status/*","*\\.twitter\\.com/*/status/*"],e:"publish.twitter.com/oembed"},{s:["play\\.typecast\\.ai/s/*","play\\.typecast\\.ai/e/*","play\\.typecast\\.ai/*"],e:"play.typecast.ai/oembed"},{s:[],e:"typlog.com/oembed"},{s:["uapod\\.univ-antilles\\.fr/video/*"],e:"uapod.univ-antilles.fr/oembed"},{s:["map\\.cam\\.ac\\.uk/*"],e:"map.cam.ac.uk/oembed/"},{s:["mediatheque\\.univ-paris1\\.fr/video/*"],e:"mediatheque.univ-paris1.fr/oembed"},{s:["pod\\.u-pec\\.fr/video/*"],e:"pod.u-pec.fr/oembed"},{s:["*\\.ustream\\.tv/*","*\\.ustream\\.com/*"],e:"www.ustream.tv/oembed"},{s:["*\\.ustudio\\.com/embed/*","*\\.ustudio\\.com/embed/*/*"],e:"app.ustudio.com/api/v2/oembed"},{s:["veer\\.tv/videos/*"],e:"api.veer.tv/oembed"},{s:["veervr\\.tv/videos/*"],e:"api.veervr.tv/oembed"},{s:["www\\.vevo\\.com/*"],e:"www.vevo.com/oembed"},{s:["videfit\\.com/videos/*"],e:"videfit.com/oembed"},{s:["vidmount\\.com/*"],e:"vidmount.com/oembed"},{s:["*\\.vidyard\\.com/*","*\\.hubs\\.vidyard\\.com/*"],e:"api.vidyard.com/dashboard/v1.1/oembed"},{s:["vimeo\\.com/*","vimeo\\.com/album/*/video/*","vimeo\\.com/channels/*/*","vimeo\\.com/groups/*/videos/*","vimeo\\.com/ondemand/*/*","player\\.vimeo\\.com/video/*"],e:"vimeo.com/api/oembed.json"},{s:["www\\.viously\\.com/*/*"],e:"www.viously.com/oembed"},{s:["vizydrop\\.com/shared/*"],e:"vizydrop.com/oembed"},{s:["vlipsy\\.com/*"],e:"vlipsy.com/oembed"},{s:["www\\.vlive\\.tv/video/*"],e:"www.vlive.tv/oembed"},{s:["*\\.vouchfor\\.com/*"],e:"embed.vouchfor.com/v1/oembed"},{s:["article\\.voxsnap\\.com/*/*"],e:"data.voxsnap.com/oembed"},{s:["waltrack\\.net/product/*"],e:"waltrack.net/oembed"},{s:["watch\\.wave\\.video/*","embed\\.wave\\.video/*"],e:"embed.wave.video/oembed"},{s:["play\\.wecandeo\\.com/video/v/*"],e:"play.wecandeo.com/oembed/"},{s:["whimsical\\.com/*"],e:"whimsical.com/api/oembed"},{s:["fast\\.wistia\\.com/embed/iframe/*","fast\\.wistia\\.com/embed/playlists/*","*\\.wistia\\.com/medias/*"],e:"fast.wistia.com/oembed.json"},{s:["*\\.wizer\\.me/learn/*","*\\.wizer\\.me/preview/*"],e:"app.wizer.me/api/oembed.json"},{s:["wokwi\\.com/share/*"],e:"wokwi.com/api/oembed"},{s:["*\\.wolframcloud\\.com/*"],e:"www.wolframcloud.com/oembed"},{s:["wordpress\\.com/*","*\\.wordpress\\.com/*","*\\.*\\.wordpress\\.com/*","wp\\.me/*"],e:"public-api.wordpress.com/oembed/"},{s:["*\\.youtube\\.com/watch*","*\\.youtube\\.com/v/*","youtu\\.be/*","*\\.youtube\\.com/playlist?list=*","youtube\\.com/playlist?list=*","*\\.youtube\\.com/shorts*"],e:"www.youtube.com/oembed"},{s:["app\\.zeplin\\.io/project/*/screen/*","app\\.zeplin\\.io/project/*/screen/*/version/*","app\\.zeplin\\.io/project/*/styleguide/components?coid=*","app\\.zeplin\\.io/styleguide/*/components?coid=*"],e:"app.zeplin.io/embed"},{s:["app\\.zingsoft\\.com/embed/*","app\\.zingsoft\\.com/view/*"],e:"app.zingsoft.com/oembed"},{s:["*\\.znipe\\.tv/*"],e:"api.znipe.tv/v3/oembed/"},{s:["srv2\\.zoomable\\.ca/viewer\\.php*"],e:"srv2.zoomable.ca/oembed"}],VQ=(t="")=>new RegExp(t.replace(/\\./g,".").replace(/\*/g,"(.*)").replace(/\?/g,"\\?").replace(/,$/g,""),"i"),jQ=(t=[])=>t.map(e=>{const{e:n,s:r}=e;return{endpoint:`https://${n}`,schemes:r.map(VQ)}}),WQ={providers:jQ(FQ)},UQ=()=>[...WQ.providers],qQ=(t="",e="",n=[])=>{if(!n.length){const r=r1(t),i=r1(e);return r===i}return n.some(r=>t.match(r))},KQ=(t="")=>{if(!YN(t))return null;const e=UQ();for(let n=0;n<e.length;n++){const{endpoint:r,schemes:i}=e[n];if(qQ(t,r,i))return{schemes:i,endpoint:r,url:t}}return null},GQ=t=>{const e=KQ(t);return e?e.endpoint:null},YQ=async(t,e={},n={})=>{if(!YN(t))throw new Error("Invalid input URL");const r=GQ(t);if(!r)throw new Error(`No provider found with given url "${t}"`);return await HQ(t,e,r,n)},JQ=function(t){const e={heading:"",text:"",trace:""};e.heading=Qn(t,"response.statusText","An error has occurred"),e.text=Qn(t,"response.data.message",Qn(t,"response.data.error",t));const n=Qn(t,"response.data.file",""),r=Qn(t,"response.data.line","");n&&r&&(e.trace=`${n}:${r}`);const i=Qn(t,"response.data.trace.0.file",""),o=Qn(t,"response.data.trace.0.line","");i&&o&&(e.trace+=`<br>${i}:${o}`);const s=Qn(t,"stack","");return s&&(e.trace+=s),e},XQ={name:"MediaEmbedView",components:{NodeViewWrapper:Ew},props:{editor:{type:Object,default:()=>{}},node:{type:Object,default:()=>{}},decorations:{type:Array,default:()=>[]},selected:{type:Boolean,default:!1},extension:{type:Object,default:()=>{}},getPos:{type:Function,default:()=>{}},updateAttributes:{type:Function,default:()=>{}}},data(){return{error:!1,errorMessage:""}},computed:{html(){var t;return this.node.attrs.url?(t=this.data)==null?void 0:t.html:""},data:{get(){return this.node.attrs.data},set(t){return this.updateAttributes({data:t})}}},watch:{"node.attrs.url":function(t,e){this.initEmbed()}},created(){this.editor.on("vui:code-editor-toggle",()=>{this.initEmbed()})},mounted(){this.$nextTick(()=>{this.html||this.initEmbed()})},methods:{async initEmbed(){if(this.error=!1,this.errorMessage="",this.node.attrs.url)try{let{url:t}=this.node.attrs;const e=t.match(/youtube\.com\/live\/(\w+)/);e&&(t=`https://www.youtube.com/watch?v=${e[1]}`);const n=await YQ(t);this.data=n}catch(t){console.error(t),this.data=null,this.error=!0;const e=JQ(t);this.errorMessage=`<strong>${e.heading}</strong><br><small>${e.text}<br>${e.trace}</small>`}}}},ZQ={key:0,class:"vui-media-wrap"},QQ={class:"vui-media-wrap-error"},eee=["innerHTML"],tee=["innerHTML"];function nee(t,e,n,r,i,o){const s=ut("node-view-wrapper");return ge(),Ct(s,{class:vt(["vui-media-embed",{selected:n.selected}])},{default:Vt(()=>[i.error?(ge(),Se("div",ZQ,[re("div",QQ,[re("span",{class:"error",innerHTML:i.errorMessage},null,8,eee)])])):(ge(),Se("div",{key:1,class:"vui-media-wrap vui-loading vui-loading-lg",innerHTML:o.html},null,8,tee))]),_:1},8,["class"])}const ree=Bt(XQ,[["render",nee]]),iee=_n.create({name:"mediaEmbed",group:"block",atom:!0,addAttributes(){return{url:{default:null},data:{default:null}}},parseHTML(){return[{tag:"media-embed",getAttrs:t=>JSON.parse(t.innerHTML)}]},renderHTML({HTMLAttributes:t}){return["media-embed",JSON.stringify(t)]},addNodeView(){return Aw(ree)},addCommands(){return{setEmbed:t=>({tr:e,dispatch:n})=>{const{selection:r}=e,i=this.type.create(t);return n&&e.replaceRangeWith(r.from,r.to,i),!0}}},addProseMirrorPlugins(){return[new on({key:new xn("handleClick"),props:{handleClick:(t,e,n)=>{n.target.classList.contains("vui-media-embed")&&setTimeout(()=>{this.editor.emit("vui:media-embed-clicked",n)},50)}}})]}}),oee=[bY,kY,CY,MY,IY,PY,DY,RY,BY,HY,jY,qY.configure({levels:[1,2,3,4,5,6]}),KY,GY,JY,QJ.configure({resizable:!0}),nX,tX,eX,xX,SX.configure({types:["heading","paragraph"],defaultAlignment:"start"}),GX.configure({openOnClick:!1}),XX,DQ,iee],see=[{name:"h1",svg:"h1",title:Craft.t("vizy","Heading 1"),commandInfo:{shortcut:"Mod-Alt-1"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setNode("heading",{level:1}).run()}},{name:"h2",svg:"h2",title:Craft.t("vizy","Heading 2"),commandInfo:{shortcut:"Mod-Alt-2"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setNode("heading",{level:2}).run()}},{name:"h3",svg:"h3",title:Craft.t("vizy","Heading 3"),commandInfo:{shortcut:"Mod-Alt-3"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setNode("heading",{level:3}).run()}},{name:"unordered-list",svg:"list-ul",title:Craft.t("vizy","Bullet List"),commandInfo:{shortcut:"Mod-Shift-8"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleBulletList().run()}},{name:"ordered-list",svg:"list-ol",title:Craft.t("vizy","Ordered List"),commandInfo:{shortcut:"Mod-Shift-7"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleOrderedList().run()}},{name:"media-embed",svg:"photo-film",title:Craft.t("vizy","Media Embed"),command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).run(),t.emit("vui:media-embed-modal-open")}},{name:"link",svg:"link",title:Craft.t("vizy","Link"),command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).run(),t.emit("vui:link-modal-open")}},{name:"image",icon:"image",title:Craft.t("vizy","Image"),command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).run(),t.emit("vui:image-modal-open")}},{name:"code-block",svg:"code",title:Craft.t("vizy","Code Block"),commandInfo:{shortcut:"Mod-Alt-c"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleCodeBlock().run()}},{name:"blockquote",svg:"quote-right",title:Craft.t("vizy","Blockquote"),commandInfo:{shortcut:"Mod-Shift-b"},command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).toggleBlockquote().run()}},{name:"hr",svg:"horizontal-rule",title:Craft.t("vizy","Horizontal Rule"),command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setHorizontalRule().run()}}];class aee{constructor(e){this.instance=e,this.registeredTemplates=[],this.registeredExtensions=[],this.registeredButtons=[],this.registeredCommands=[]}registerTemplates(e){this.registeredTemplates.push(e)}registerExtensions(e){this.registeredExtensions.push(e)}registerButtons(e){this.registeredButtons.push(e)}registerCommands(e){this.registeredCommands.push(e)}getTemplates(){return this._getComponents(this.registeredTemplates,[])}getExtensions(){return this._getComponents(this.registeredExtensions,oee)}getButtons(){return this._getComponents(this.registeredButtons,pY)}getCommands(){return this._getComponents(this.registeredCommands,see)}_getComponents(e,n){return e.forEach(r=>{const i=r(n);i&&(n=n.concat(Array.isArray(i)?i:[i]))}),n.filter(r=>!!r)}get tiptap(){return{core:hY}}}const lee=or.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",zt(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=cc(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),uee={name:"CollapseTransition",props:{name:{type:String,required:!1,default:"collapse"},dimension:{type:String,required:!1,default:"height",validator:t=>["height","width"].includes(t)},duration:{type:Number,required:!1,default:300},easing:{type:String,required:!1,default:"ease-in-out"}},watch:{dimension(){this.clearCachedDimensions()}},data(){return{cachedStyles:null}},computed:{transition(){let t=[];return Object.keys(this.cachedStyles).forEach(e=>{t.push(`${this.convertToCssProperty(e)} ${this.duration}ms ${this.easing}`)}),t.join(", ")}},methods:{beforeAppear(t){this.$emit("before-appear",t)},appear(t){this.$emit("appear",t)},afterAppear(t){this.$emit("after-appear",t)},appearCancelled(t){this.$emit("appear-cancelled",t)},beforeEnter(t){this.$emit("before-enter",t)},enter(t,e){this.detectAndCacheDimensions(t),this.setClosedDimensions(t),this.hideOverflow(t),this.forceRepaint(t),this.setTransition(t),this.setOpenedDimensions(t),this.$emit("enter",t,e),setTimeout(e,this.duration)},afterEnter(t){this.unsetOverflow(t),this.unsetTransition(t),this.unsetDimensions(t),this.clearCachedDimensions(),this.$emit("after-enter",t)},enterCancelled(t){this.$emit("enter-cancelled",t)},beforeLeave(t){this.$emit("before-leave",t)},leave(t,e){this.detectAndCacheDimensions(t),this.setOpenedDimensions(t),this.hideOverflow(t),this.forceRepaint(t),this.setTransition(t),this.setClosedDimensions(t),this.$emit("leave",t,e),setTimeout(e,this.duration)},afterLeave(t){this.unsetOverflow(t),this.unsetTransition(t),this.unsetDimensions(t),this.clearCachedDimensions(),this.$emit("after-leave",t)},leaveCancelled(t){this.$emit("leave-cancelled",t)},detectAndCacheDimensions(t){if(this.cachedStyles)return;const e=t.style.visibility,n=t.style.display;t.style.visibility="hidden",t.style.display="",this.cachedStyles=this.detectRelevantDimensions(t),t.style.visibility=e,t.style.display=n},clearCachedDimensions(){this.cachedStyles=null},detectRelevantDimensions(t){return this.dimension==="height"?{height:t.offsetHeight+"px",paddingTop:t.style.paddingTop||this.getCssValue(t,"padding-top"),paddingBottom:t.style.paddingBottom||this.getCssValue(t,"padding-bottom")}:this.dimension==="width"?{width:t.offsetWidth+"px",paddingLeft:t.style.paddingLeft||this.getCssValue(t,"padding-left"),paddingRight:t.style.paddingRight||this.getCssValue(t,"padding-right")}:{}},setTransition(t){t.style.transition=this.transition},unsetTransition(t){t.style.transition=""},hideOverflow(t){t.style.overflow="hidden"},unsetOverflow(t){t.style.overflow=""},setClosedDimensions(t){Object.keys(this.cachedStyles).forEach(e=>{t.style[e]="0"})},setOpenedDimensions(t){Object.keys(this.cachedStyles).forEach(e=>{t.style[e]=this.cachedStyles[e]})},unsetDimensions(t){Object.keys(this.cachedStyles).forEach(e=>{t.style[e]=""})},forceRepaint(t){getComputedStyle(t)[this.dimension]},getCssValue(t,e){return getComputedStyle(t,null).getPropertyValue(e)},convertToCssProperty(t){const e=t.match(/([A-Z])/g);if(!e)return t;for(let n=0,r=e.length;n<r;n++)t=t.replace(new RegExp(e[n]),"-"+e[n].toLowerCase());return t.slice(0,1)==="-"&&(t=t.slice(1)),t}}};function cee(t,e,n,r,i,o){return ge(),Ct(zu,{name:n.name,onBeforeAppear:o.beforeAppear,onAppear:o.appear,onAfterAppear:o.afterAppear,onAppearCancelled:o.appearCancelled,onBeforeEnter:o.beforeEnter,onEnter:o.enter,onAfterEnter:o.afterEnter,onEnterCancelled:o.enterCancelled,onBeforeLeave:o.beforeLeave,onLeave:o.leave,onAfterLeave:o.afterLeave,onLeaveCancelled:o.leaveCancelled},{default:Vt(()=>[pn(t.$slots,"default")]),_:3},8,["name","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled"])}const fee=Bt(uee,[["render",cee]]);function eE(t,e){let n,r;const i=t.toLowerCase();for(e=[].concat(e),n=0;n<e.length;n+=1)if(r=e[n],!!r&&(r.test&&r.test(t)||r.toLowerCase()===i))return!0}const dee=(t,e,n)=>{if(typeof t=="number"&&(t=`${t}`),typeof t!="string")return!!t;if(t=t.trim(),eE(t,e||["true","1"]))return!0;if(eE(t,n||["false","0"]))return!1},hee={name:"LightswitchField",props:{small:{type:Boolean,default:!1},extraSmall:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{id:`lightswitch-${Craft.randomString(10)}`,dragger:null,dragging:!1,innerStyle:{},proxyValue:!1,indeterminate:!1}},computed:{offMargin(){return this.small?-10:-12}},watch:{proxyValue(t){this.$emit("update:modelValue",t)}},created(){this.proxyValue=this.modelValue},mounted(){const{container:t}=this.$refs;this.$nextTick(()=>{const e=$(t).data("lightswitch");e&&e.destroy(),this.dragger=new Garnish.BaseDrag(t,{axis:Garnish.X_AXIS,ignoreHandleSelector:null,onDragStart:this.onDragStart.bind(this),onDrag:this.onDrag.bind(this),onDragStop:this.onDragStop.bind(this)})})},beforeUnmount(){this.dragger&&this.dragger.destroy()},methods:{turnOn(){this.proxyValue=!0,this.indeterminate=!1,this.dragging=!0;const{innerContainer:t}=this.$refs,e={[`margin-${Craft.left}`]:0};$(t).velocity("stop").velocity(e,Craft.LightSwitch.animationDuration,this.onSettle.bind(this))},turnOff(){this.proxyValue=!1,this.indeterminate=!1,this.dragging=!0;const{innerContainer:t}=this.$refs,e={[`margin-${Craft.left}`]:this.offMargin};$(t).velocity("stop").velocity(e,Craft.LightSwitch.animationDuration,this.onSettle.bind(this))},toggle(){this.indeterminate||!this.proxyValue?this.turnOn():this.turnOff()},onMouseUp(){this.dragger.dragging||this.toggle()},onKeyDown(t){switch(t.keyCode){case Garnish.SPACE_KEY:{this.toggle(),t.preventDefault();break}case Garnish.RIGHT_KEY:{Craft.orientation==="ltr"?this.turnOn():this.turnOff(),t.preventDefault();break}case Garnish.LEFT_KEY:{Craft.orientation==="ltr"?this.turnOff():this.turnOn(),t.preventDefault();break}}},onDragStart(){this.dragging=!0,this.dragStartMargin=this.getMargin()},onDrag(){let t;Craft.orientation==="ltr"?t=this.dragStartMargin+this.dragger.mouseDistX:t=this.dragStartMargin-this.dragger.mouseDistX,t<this.offMargin?t=this.offMargin:t>0&&(t=0);const{innerContainer:e}=this.$refs;$(e).css(`margin-${Craft.left}`,t)},onDragStop(){this.getMargin()>this.offMargin/2?this.turnOn():this.turnOff()},onSettle(){this.dragging=!1},getMargin(){const{innerContainer:t}=this.$refs,e=t.currentStyle||window.getComputedStyle(t);return parseInt(e.marginLeft)},toBoolean(t){return dee(t)}}},pee=["id","aria-labelledby","aria-checked"],mee={ref:"innerContainer",class:"lightswitch-container"},gee=re("div",{class:"handle"},null,-1),vee=[gee];function yee(t,e,n,r,i,o){return ge(),Se("div",{id:i.id,ref:"container",tabindex:"0",role:"checkbox",class:vt(["lightswitch",[{on:o.toBoolean(i.proxyValue),indeterminate:i.indeterminate,dragging:i.dragging,small:n.small,"extra-small":n.extraSmall}]]),"aria-labelledby":`${i.id}-label`,"aria-checked":i.proxyValue?"true":i.indeterminate?"mixed":"false",onMouseup:e[1]||(e[1]=(...s)=>o.onMouseUp&&o.onMouseUp(...s)),onKeydown:e[2]||(e[2]=(...s)=>o.onKeyDown&&o.onKeyDown(...s))},[re("div",mee,vee,512),Ut(re("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.proxyValue=s),type:"hidden"},null,512),[[Mn,i.proxyValue]])],42,pee)}const XN=Bt(hee,[["render",yee]]),bee={name:"VizyBlockFields",delimiters:["$!{","}!$"],props:{template:{type:String,default:""}},emits:["update"],mounted(){this.$nextTick(()=>{this.$el&&(Craft.initUiElements(this.$el),this.$el.querySelectorAll(".vizy-input-component").forEach(t=>{t.parentElement.__vueInit=!0}),this.$nextTick(()=>{this.watchFieldChanges(),this.applyRedactorFix(),this.applyTabIndexFix(),this.applyNeoFix()}))})},methods:{vizyBlock(){return this.$parent.$parent.$parent.$parent},watchFieldChanges(){const t=y6(this.emitUpdate,50);new MutationObserver(n=>{t()}).observe(this.$el,{childList:!0,attributes:!0,subtree:!0,characterData:!0}),$(this.$el).on("input change","input, textarea, select",n=>{this.emitUpdate()})},applyRedactorFix(){const t=this.$el.querySelectorAll(".redactor-toolbar");t.length&&t.forEach(e=>{e.addEventListener("mousedown",n=>{n.preventDefault()})})},applyNeoFix(){if(!this.$el.querySelector('[data-type="benf\\\\neo\\\\Field"]'))return;const t=$("form#main-form"),e=encodeURIComponent(this.vizyBlock().vizyField.name);let n=t.data("initialSerializedValue");n=n.replace(new RegExp(`${Craft.escapeRegex(e)}[^&]*&?`),""),t.data("initialSerializedValue",n),this.$el.querySelectorAll('[data-type="benf\\\\neo\\\\Field"]').forEach(r=>{const i=r.querySelectorAll(".ni_buttons");i.length>1&&i.forEach((o,s)=>{s!=i.length-1&&o.remove()})})},applyTabIndexFix(){this.$el.querySelectorAll(".field").forEach(t=>{t.setAttribute("tabindex",-1)})},emitUpdate(){setTimeout(()=>{this.$emit("update")},50),setTimeout(()=>{this.$emit("update")},200)}},render(){try{return mr(Zf(`<div>${this.template}</div>`))}catch(t){console.error(t),console.log("Vue template compile error: %o",{template:this.template});const e=this.t("vizy","Unable to parse block definition.");return mr(Zf(`<div class="vizyblock-invalid"><p class="error">${e}</p></div>`))}}};(function(t){var e=["input","textarea","select","option"],n=["value","selected","checked","disabled"];t.fn.htmlizeClone=function(r){return this.each(function(){var i=this;i.nodeName==="TEXTAREA"?i.innerHTML=i.value:i.nodeName==="OPTION"?i.selected?i.setAttribute("selected","selected"):i.removeAttribute("selected"):i.children&&i.children.length&&t(i).find("textarea, option").htmlizeClone(!0)}),r?this:this.clone()},t.fn.htmlizeSyncAttributes=function(){return this.each(function(){var r=this,i;for(var o in n)n.hasOwnProperty(o)&&(i=n[o],i in r&&(r.getAttribute(i)!==null||r[i])&&!((r.nodeName==="TEXTAREA"||r.nodeName==="SELECT")&&i==="value")&&(i==="value"?r.setAttribute(i,r[i]):r[i]?r.setAttribute(i,i):r.removeAttribute(i)));r.children&&r.children.length&&t(r).find(e.join(", ")).htmlizeSyncAttributes()})},t.fn.htmlize=function(r){r=t.extend({innerHTML:!1,clone:!0},r);var i=t(this).htmlizeClone().htmlizeSyncAttributes();if(r.innerHTML){var o="";return i.each(function(){o+=this.innerHTML}),o}else return i.length?i.appendTo("<div/>").parent().get(0).innerHTML:""}})(jQuery);const _ee={name:"VizyBlock",components:{NodeViewWrapper:Ew,LightswitchField:XN,VizyBlockFields:bee,CollapseTransition:fee},props:{editor:{type:Object,default:()=>{}},node:{type:Object,default:()=>{}},decorations:{type:Array,default:()=>[]},selected:{type:Boolean,default:!1},extension:{type:Object,default:()=>{}},getPos:{type:Function,default:()=>{}},updateAttributes:{type:Function,default:()=>{}}},data(){return{activeTab:null,tippy:null,fieldsHtml:"",mounted:!1,updateFieldsHtml:0}},computed:{options(){return this.extension.options},vizyField(){return this.editor.vizyField},values(){return this.node.attrs.values},blockGroups(){return this.vizyField.settings.blockGroups},blockType(){let t={};return Mi(this.blockGroups)||this.blockGroups.forEach(e=>{const n=gb(e.blockTypes,{id:this.values.type});n&&(t=n)}),t},tabs(){return this.blockType.tabs||{}},enabled:{get(){return this.node.attrs.enabled&&this.blockType.enabled},set(t){this.node.attrs.enabled=t}},collapsed:{get(){return this.node.attrs.collapsed},set(t){this.node.attrs.collapsed=t}},canCollapseAll(){var e,n;let t=!1;return(n=(e=this.editor.state.doc)==null?void 0:e.content)==null||n.content.forEach(r=>{r.type.name==="vizyBlock"&&(r.attrs.collapsed||(t=!0))}),t},canExpandAll(){var e,n;let t=!1;return(n=(e=this.editor.state.doc)==null?void 0:e.content)==null||n.content.forEach(r=>{r.type.name==="vizyBlock"&&r.attrs.collapsed&&(t=!0)}),t},preview(){let t="";if(this.mounted){const e=$(this.$refs.fields.$el).children().children();for(let n=0;n<e.length;n++){const i=$(e[n]).children(".input").find('select,input[type!="hidden"],textarea,.label');let o="";for(let s=0;s<i.length;s++){const l=$(i[s]);let u;if(!l.hasClass("vui-json-content")){if(l.hasClass("label")){const f=l.parent().parent();if(f.hasClass("lightswitch")&&(f.hasClass("on")&&l.hasClass("off")||!f.hasClass("on")&&l.hasClass("on")))continue;u=l.text()}else u=Craft.getText(this._inputPreviewText(l));u instanceof Array&&(u=u.join(", ")),u&&(u=Craft.trim(Craft.escapeHtml(u)),u&&(o&&(o+=", "),o+=u))}}o&&(t+=(t?" <span>|</span> ":"")+o)}}return t}},watch:{"node.attrs.enabled":function(t,e){this.collapsed=!t},"node.attrs.id":function(t,e){this.fieldsHtml=this.vizyField.getCachedFieldHtml(t),this.updateFieldsHtml+=1,this.$nextTick(()=>{this.appendJs(),this.setFirstActiveTab()})}},created(){this.$nextTick(()=>{this.$events.on("vizy-blocks:updateDOM",this.onUpdateDOM)}),this.fieldsHtml=this.vizyField.getCachedFieldHtml(this.node.attrs.id),this.$events.on("vizy-blocks:collapseAll",this.collapseBlock),this.$events.on("vizy-blocks:expandAll",this.expandBlock),setTimeout(()=>{this.onFieldUpdate()},50)},mounted(){this.$nextTick(()=>{this.appendJs(),this.setFirstActiveTab(),this.mounted=!0;const t=this.$el.querySelector("#vizy-block-settings-template");t&&(t.style.display="block",this.tippy=Kr(this.$el.querySelector(".vizyblock-header .settings"),{content:t,trigger:"click",allowHTML:!0,arrow:!0,interactive:!0,appendTo:document.body,placement:"bottom",theme:"light-border vizy-tippy-menu",maxWidth:"300px",duration:200,zIndex:1e3,hideOnClick:!0})),this.$el.setAttribute("draggable",!1),this.$el.addEventListener("dragstart",e=>{if(e.srcElement instanceof Element||e.srcElement instanceof HTMLDocument){let n=null;if(e.srcElement.classList.contains("vizyblock")?n=e.srcElement.querySelector(".vizyblock-header"):n=e.srcElement.closest(".vizyblock-header"),n){const r=`vui-${this.uid}-ghost`,i=document.querySelector(`#${r}`)?document.querySelector(`#${r}`):document.createElement("div");i.id=r,i.classList="vui-block-ghost",i.innerHTML=n.outerHTML,document.body.appendChild(i),e.dataTransfer.setDragImage(i,0,0)}}},!1)})},beforeUnmount(){this.onUpdateDOM(),this.$events.off("vizy-blocks:updateDOM",this.onUpdateDOM),this.$events.off("vizy-blocks:collapseAll",this.collapseBlock),this.$events.off("vizy-blocks:expandAll",this.expandBlock)},methods:{isEmpty(t){return Mi(t)},tabError(t){return(this.vizyField.getBlockSettings(this.node.attrs.id).tabErrors||[]).includes(t.tabId)},_inputPreviewText(t){if(t.is("select,multiselect")){const e=[],n=t.find("option:selected");for(let r=0;r<n.length;r++)e.push(n.eq(r).text());return e}if(t.is('input[type="checkbox"]:checked,input[type="radio"]:checked')){const e=t.attr("id"),n=$(`label[for="${e}"]`);if(n.length)return n.text()}return Garnish.getInputPostVal(t)},onUpdateDOM(){if(this.$refs.fields){const t=$(this.$refs.fields.$el.childNodes).clone();t.find(".redactor-box").length&&t.find(".redactor-box").each((n,r)=>{if($(r).parents(".vui-editor").length)return;const i=$(r).find("textarea").htmlize();$(r).replaceWith(i)}),t.find(".ck-editor").length&&t.find(".ck-editor").each((n,r)=>{if($(r).parents(".vui-editor").length)return;const i=$(r).find("textarea").htmlize();$(r).replaceWith(i)}),t.find(".selectize").length&&t.find(".selectize").each((n,r)=>{const i=$(r).parents("[data-type]").data("layout-element");if(i){const o=$(this.blockType.fieldsHtml).find(`[data-layout-element="${i}"] .selectize`);o.length&&(o.find("select").attr("id",$(r).find("select").attr("id")),o.find("select").attr("name",$(r).find("select").attr("name")),o.find("select").val($(r).find("select").val()),r.outerHTML=o.htmlize())}});const e=t.htmlize();this.vizyField.setCachedFieldHtml(this.node.attrs.id,e)}},clickBlock(t){if(!t.target.hasAttribute("data-node-view-wrapper"))return;const e=this.editor.view.posAtCoords({left:t.clientX,top:t.clientY});if(e&&e.inside>-1&&!it.isSelectable(this.editor.view.state.doc.nodeAt(e.inside)))return!1;const n=this.editor.view.state.doc.resolve(e.pos);this.editor.view.dispatch(this.editor.view.state.tr.setSelection(new fn(n)))},clickTab(t){this.activeTab=t,this.$refs.fields.$el.querySelectorAll(":scope > div").forEach(n=>{n.getAttribute("id").includes(this.activeTab)?n.classList.remove("hidden"):n.classList.add("hidden")})},toggleTitle(t){this.$el.querySelector(".actions-tabs").contains(t.target)||(this.collapsed?this.expandBlock():this.collapseBlock())},setFirstActiveTab(){this.tabs&&([this.activeTab]=Object.keys(this.tabs))},appendJs(){if(Mi(this.blockType))return;const t=this.vizyField.getCachedFieldJs(this.node.attrs.id),e=document.querySelector(`#script-${this.node.attrs.id}`);t&&(e&&e.parentElement.removeChild(e),Craft.appendBodyHtml(t))},deleteBlock(){this.tippy&&this.tippy.hide(),setTimeout(()=>{const t=this.getPos(),e={from:t,to:t+(this.node.nodeSize-1)};this.editor.chain().focus().deleteRange(e).run()},200)},collapseBlock(){this.collapsed=!0,this.tippy&&this.tippy.hide()},expandBlock(){this.collapsed=!1,this.tippy&&this.tippy.hide()},collapseAll(){this.$events.emit("vizy-blocks:collapseAll")},expandAll(){this.$events.emit("vizy-blocks:expandAll")},clickMove(){this.$events.emit("vizy-blocks:updateDOM"),this.vizyField.selectedBlockType=this.blockType.id},onFieldUpdate(){this.serializeFieldContent()},findContentBlocksForBlock(t){let e={};if(!Mi(t)){this.$el.closest(".slideout[data-element-editor] .so-body")&&(t=Object.values(t)[0],Mi(t.fields)&&(t={fields:t}));let r=t.vizyBlockFields;Mi(r)&&(r=t.fields),Mi(r)||Object.entries(r).forEach(([i,o])=>{o.blocks===void 0&&(e={fields:r}),Mi(o.blocks)||Object.entries(o.blocks).forEach(([s,l])=>{s===this.node.attrs.id?e=l:Mi(e)&&(e=this.findContentBlocksForBlock(l))})})}return e},fixSuperTableMatrixContent(t){const e=/^__BLOCK_[a-zA-Z0-9]+__$/;if(Ur(t))t.forEach(n=>{this.fixSuperTableMatrixContent(n)});else if(vr(t)){const n=Object.keys(t);if(n.forEach(r=>{vr(t[r])&&this.fixSuperTableMatrixContent(t[r])}),n.includes("blocks")){const r=Object.keys(t.blocks);if(r.some(i=>e.test(i))){const i=r.find(o=>/^new\d+$/.test(o));if(i&&r.length===2){const o=Jj(t.blocks[r[0]],t.blocks[r[1]]);t.blocks={},t.blocks[i]=o}}}}return t},fixArrayIndexes(t){if(Array.isArray(t)){const e=Object.keys(t).map(Number).sort();!Array.from({length:t.length},(i,o)=>o).every(i=>e.includes(i))&&(t=t.filter(i=>i!==void 0))}else if(typeof t=="object"&&t!==null)for(const e in t)t[e]=this.fixArrayIndexes(t[e]);return t},serializeFieldContent(){if(Mi(this.blockType))return;const t=Garnish.getPostData(this.$refs.fields.$el),e=Object.keys(t).sort().reduce((o,s)=>(o[s]=t[s],o),{});let n=Craft.expandPostArray(e);n=this.fixArrayIndexes(n);let r=this.findContentBlocksForBlock(n);r=this.fixSuperTableMatrixContent(r);const i={...this.values};i.content=r,this.node.attrs.values=i}}},wee={key:0,class:"vizyblock-wrap"},kee={class:"titlebar"},xee={class:"blocktype"},See={key:0},Cee=["innerHTML"],Tee={class:"actions-tabs"},Eee={key:0,class:"titlebar-tabs"},Aee=["onClick"],Oee={class:"actions"},Mee=["title","aria-title"],Nee=["title","aria-title"],Lee={id:"vizy-block-settings-template",class:"vizy-menu",style:{display:"none"}},Iee={class:"padded",role:"listbox","aria-hidden":"true"},Pee={key:0},Dee={key:1},Ree={key:2},zee={key:3},Bee=re("hr",null,null,-1),$ee={key:1,class:"vizyblock-wrap"},Hee={class:"vizyblock-invalid"},Fee={class:"error"};function Vee(t,e,n,r,i,o){const s=ut("lightswitch-field"),l=ut("vizy-block-fields"),u=ut("collapse-transition"),f=ut("node-view-wrapper");return ge(),Ct(f,{class:"vizyblock",contenteditable:"false","data-vizy-block":!0,"data-type":o.blockType.handle,onCopy:e[9]||(e[9]=lt(()=>{},["stop"])),onPaste:e[10]||(e[10]=lt(()=>{},["stop"])),onCut:e[11]||(e[11]=lt(()=>{},["stop"])),onClick:o.clickBlock},{default:Vt(()=>[o.isEmpty(o.blockType)?(ge(),Se("div",$ee,[re("div",Hee,[re("p",Fee,Le(t.t("vizy","Unable to parse block definition.")),1),re("a",{class:"error","data-icon":"remove",role:"option",tabindex:"-1",onClick:e[8]||(e[8]=lt((...d)=>o.deleteBlock&&o.deleteBlock(...d),["prevent"]))})])])):(ge(),Se("div",wee,[re("div",{class:"vizyblock-header",onDblclick:e[7]||(e[7]=lt((...d)=>o.toggleTitle&&o.toggleTitle(...d),["prevent"]))},[re("div",kee,[re("div",xee,[t.$isDebug?(ge(),Se("span",See,Le(t.uid)+" "+Le(n.node.attrs.id),1)):gt("",!0),Ui(Le(o.blockType.name),1)]),o.collapsed?(ge(),Se("div",{key:0,class:"preview",innerHTML:o.preview},null,8,Cee)):gt("",!0)]),re("div",Tee,[Object.keys(o.tabs).length>1?(ge(),Se("div",Eee,[(ge(!0),Se(kt,null,Zt(o.tabs,(d,m)=>(ge(),Se("a",{key:m,class:vt(["tab",{active:m===i.activeTab,error:o.tabError(d)}]),onClick:lt(v=>o.clickTab(m),["prevent"])},Le(d.label),11,Aee))),128))])):gt("",!0),re("div",Oee,[Qe(s,{modelValue:o.enabled,"onUpdate:modelValue":e[0]||(e[0]=d=>o.enabled=d),"extra-small":!0},null,8,["modelValue"]),re("a",{class:"settings icon",title:t.t("vizy","Actions"),"aria-title":t.t("vizy","Actions"),role:"button",tabindex:"0","aria-haspopup":"listbox","aria-expanded":"false"},null,8,Mee),re("a",{class:"move icon",title:t.t("vizy","Reorder"),"aria-title":t.t("vizy","Reorder"),"data-drag-handle":"",role:"button",onMousedown:e[1]||(e[1]=(...d)=>o.clickMove&&o.clickMove(...d))},null,40,Nee)]),re("div",Lee,[re("ul",Iee,[o.collapsed?(ge(),Se("li",Pee,[re("a",{"data-icon":"expand",role:"option",tabindex:"-1",onClick:e[2]||(e[2]=lt((...d)=>o.expandBlock&&o.expandBlock(...d),["prevent"]))},Le(t.t("vizy","Expand")),1)])):(ge(),Se("li",Dee,[re("a",{"data-icon":"collapse",role:"option",tabindex:"-1",onClick:e[3]||(e[3]=lt((...d)=>o.collapseBlock&&o.collapseBlock(...d),["prevent"]))},Le(t.t("vizy","Collapse")),1)])),o.canCollapseAll?(ge(),Se("li",Ree,[re("a",{"data-icon":"collapse",role:"option",tabindex:"-1",onClick:e[4]||(e[4]=lt((...d)=>o.collapseAll&&o.collapseAll(...d),["prevent"]))},Le(t.t("vizy","Collapse All")),1)])):gt("",!0),o.canExpandAll?(ge(),Se("li",zee,[re("a",{"data-icon":"expand",role:"option",tabindex:"-1",onClick:e[5]||(e[5]=lt((...d)=>o.expandAll&&o.expandAll(...d),["prevent"]))},Le(t.t("vizy","Expand All")),1)])):gt("",!0),Bee,re("li",null,[re("a",{class:"error","data-icon":"remove",role:"option",tabindex:"-1",onClick:e[6]||(e[6]=lt((...d)=>o.deleteBlock&&o.deleteBlock(...d),["prevent"]))},Le(t.t("vizy","Delete")),1)])])])])],32),Qe(u,null,{default:Vt(()=>[Ut(re("div",null,[i.fieldsHtml?(ge(),Ct(l,{ref:"fields",key:i.updateFieldsHtml,class:"vizyblock-fields",template:i.fieldsHtml,onUpdate:o.onFieldUpdate},null,8,["template","onUpdate"])):gt("",!0)],512),[[Bu,!o.collapsed]])]),_:1})]))]),_:1},8,["data-type","onClick"])}const jee=Bt(_ee,[["render",Vee]]),Wee=_n.create({name:"vizyBlock",isBlock:!0,inline:!1,group:"block",draggable:!0,defining:!0,selectable:!0,addAttributes(){return{id:{default:null},enabled:{default:!0},collapsed:{default:!1},values:{default:null}}},addStorage(){return{isNew:!1}},parseHTML(){return[{tag:"vizy-block",getAttrs:t=>JSON.parse(t.innerHTML)}]},renderHTML({HTMLAttributes:t}){return["vizy-block",JSON.stringify(t)]},addCommands(){return{setVizyBlock:t=>({tr:e,dispatch:n,view:r,state:i})=>{const{selection:o}=e,s=this.type.create(t);return n&&(e.insert(o.from,i.schema.nodes.paragraph.create()),e.replaceRangeWith(o.from,o.to,s)),this.storage.isNew=!0,!0}}},addNodeView(){return Aw(jee,{stopEvent:({event:t})=>t.target.hasAttribute("data-drag-handle")?(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}),!1):!this.isDragging})},addProseMirrorPlugins(){return[new on({props:{handleKeyDown:(t,e)=>{if(t.state.typing=!0,e.key==="Escape"){const n=t.state.selection.$from.pos;t.state.selection.$to.pos;const r=n-1<0?0:n-1;return this.editor.chain().setTextSelection({from:r,to:r}).blur().run(),!0}},handlePaste:(t,e,n)=>{t.state.pasting=!0;const{supportedBlockTypes:r}=this.editor.vizyField;n.content.content.forEach((i,o)=>{i.type.name=="vizyBlock"&&(r.includes(i.attrs.values.type)||n.content.content.splice(o,1))})},handleClickOn:(t,e,n,r,i,o)=>{const s=i.target.closest(".vizyblock");if(!s)return!1;if(s.closest(".ProseMirror")!==t.dom)return!0;const u=i.target.closest(".vizyblock-header"),f=i.target.closest(".vizyblock-header .actions-tabs");if(!u||f)return!0}},filterTransaction:(t,e)=>{let n=!0;return(e.typing||e.pasting)&&t.mapping.maps.forEach(r=>{r.forEach((i,o,s,l)=>{e.doc.nodesBetween(i,o,(u,f,d,m,v)=>{u.type.name==="vizyBlock"&&(n=!1)})})}),n}})]}});function Uee(t){var e;const{char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:s}=t,l=cN(n),u=new RegExp(`\\s${l}$`),f=o?"^":"",d=r?new RegExp(`${f}${l}.*?(?=\\s${l}|$)`,"gm"):new RegExp(`${f}(?:^)?${l}[^\\s${l}]*`,"gm"),m=((e=s.nodeBefore)===null||e===void 0?void 0:e.isText)&&s.nodeBefore.text;if(!m)return null;const v=s.pos-m.length,y=Array.from(m.matchAll(d)).pop();if(!y||y.input===void 0||y.index===void 0)return null;const _=y.input.slice(Math.max(0,y.index-1),y.index),C=new RegExp(`^[${i==null?void 0:i.join("")}\0]?$`).test(_);if(i!==null&&!C)return null;const x=v+y.index;let k=x+y[0].length;return r&&u.test(m.slice(k-1,k+1))&&(y[0]+=" ",k+=1),x<s.pos&&k>=s.pos?{range:{from:x,to:k},query:y[0].slice(n.length),text:y[0]}:null}const qee=new xn("suggestion");function Kee({pluginKey:t=qee,editor:e,char:n="@",allowSpaces:r=!1,allowedPrefixes:i=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:l="suggestion",command:u=()=>null,items:f=()=>[],render:d=()=>({}),allow:m=()=>!0,findSuggestionMatch:v=Uee}){let y;const _=d==null?void 0:d(),C=new on({key:t,view(){return{update:async(x,k)=>{var A,L,E,H,I,q,P;const z=(A=this.key)===null||A===void 0?void 0:A.getState(k),w=(L=this.key)===null||L===void 0?void 0:L.getState(x.state),R=z.active&&w.active&&z.range.from!==w.range.from,U=!z.active&&w.active,K=z.active&&!w.active,oe=!U&&!K&&z.query!==w.query,D=U||R,ae=oe&&!R,ce=K||R;if(!D&&!ae&&!ce)return;const ve=ce&&!D?z:w,ze=x.dom.querySelector(`[data-decoration-id="${ve.decorationId}"]`);y={editor:e,range:ve.range,query:ve.query,text:ve.text,items:[],command:qe=>{u({editor:e,range:ve.range,props:qe})},decorationNode:ze,clientRect:ze?()=>{var qe;const{decorationId:yt}=(qe=this.key)===null||qe===void 0?void 0:qe.getState(e.state),mt=x.dom.querySelector(`[data-decoration-id="${yt}"]`);return(mt==null?void 0:mt.getBoundingClientRect())||null}:null},D&&((E=_==null?void 0:_.onBeforeStart)===null||E===void 0||E.call(_,y)),ae&&((H=_==null?void 0:_.onBeforeUpdate)===null||H===void 0||H.call(_,y)),(ae||D)&&(y.items=await f({editor:e,query:ve.query})),ce&&((I=_==null?void 0:_.onExit)===null||I===void 0||I.call(_,y)),ae&&((q=_==null?void 0:_.onUpdate)===null||q===void 0||q.call(_,y)),D&&((P=_==null?void 0:_.onStart)===null||P===void 0||P.call(_,y))},destroy:()=>{var x;y&&((x=_==null?void 0:_.onExit)===null||x===void 0||x.call(_,y))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(x,k,A,L){const{isEditable:E}=e,{composing:H}=e.view,{selection:I}=x,{empty:q,from:P}=I,z={...k};if(z.composing=H,E&&(q||e.view.composing)){(P<k.range.from||P>k.range.to)&&!H&&!k.composing&&(z.active=!1);const w=v({char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:I.$from}),R=`id_${Math.floor(Math.random()*4294967295)}`;w&&m({editor:e,state:L,range:w.range})?(z.active=!0,z.decorationId=k.decorationId?k.decorationId:R,z.range=w.range,z.query=w.query,z.text=w.text):z.active=!1}else z.active=!1;return z.active||(z.decorationId=null,z.range={from:0,to:0},z.query=null,z.text=null),z}},props:{handleKeyDown(x,k){var A;const{active:L,range:E}=C.getState(x.state);return L&&((A=_==null?void 0:_.onKeyDown)===null||A===void 0?void 0:A.call(_,{view:x,event:k,range:E}))||!1},decorations(x){const{active:k,range:A,decorationId:L}=C.getState(x);return k?tn.create(x.doc,[hr.inline(A.from,A.to,{nodeName:s,class:l,"data-decoration-id":L})]):null}}});return C}const Gee=ir.create({name:"Commands",addOptions(){return{suggestion:{char:"/",command:({editor:t,range:e,props:n})=>{n.command({editor:t,range:e})}}}},addProseMirrorPlugins(){return[Kee({editor:this.editor,...this.options.suggestion})]}}),Yee=function(t){let e=t.replace("/<(.*?)>/g","");e=e.replace(/['"‘’“”[]\(\){}:]/g,""),e=e.toLowerCase(),e=Craft.asciiString(e);const n=Craft.filterArray(e.split(/[^a-z0-9]+/));e="";for(let r=0;r<n.length;r++)r===0?e+=n[r]:e+=n[r].charAt(0).toUpperCase()+n[r].substr(1);return e},ZN=function(t,e,n){let r=e;return n&&(r=e+n),t.includes(r)?ZN(t,e,n+1):r},Xm=function(t=""){return t+Craft.randomString(10)};function tE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tE(Object(n),!0).forEach(function(r){Fn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zm(t){return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function Jee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xee(t,e,n){return e&&nE(t.prototype,e),n&&nE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ow(t,e){return Qee(t)||tte(t,e)||QN(t,e)||rte()}function Fd(t){return Zee(t)||ete(t)||QN(t)||nte()}function Zee(t){if(Array.isArray(t))return i1(t)}function Qee(t){if(Array.isArray(t))return t}function ete(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function QN(t,e){if(t){if(typeof t=="string")return i1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i1(t,e)}}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rE=function(){},Mw={},eL={},tL=null,nL={mark:rE,measure:rE};try{typeof window<"u"&&(Mw=window),typeof document<"u"&&(eL=document),typeof MutationObserver<"u"&&(tL=MutationObserver),typeof performance<"u"&&(nL=performance)}catch{}var ite=Mw.navigator||{},iE=ite.userAgent,oE=iE===void 0?"":iE,sa=Mw,rn=eL,sE=tL,op=nL;sa.document;var ls=!!rn.documentElement&&!!rn.head&&typeof rn.addEventListener=="function"&&typeof rn.createElement=="function",rL=~oE.indexOf("MSIE")||~oE.indexOf("Trident/"),sp,ap,lp,up,cp,Xo="___FONT_AWESOME___",o1=16,iL="fa",oL="svg-inline--fa",xl="data-fa-i2svg",s1="data-fa-pseudo-element",ote="data-fa-pseudo-element-pending",Nw="data-prefix",Lw="data-icon",aE="fontawesome-i2svg",ste="async",ate=["HTML","HEAD","STYLE","SCRIPT"],sL=function(){try{return!0}catch{return!1}}(),nn="classic",mn="sharp",Iw=[nn,mn];function Vd(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[nn]}})}var md=Vd((sp={},Fn(sp,nn,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Fn(sp,mn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),sp)),gd=Vd((ap={},Fn(ap,nn,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Fn(ap,mn,{solid:"fass",regular:"fasr",light:"fasl"}),ap)),vd=Vd((lp={},Fn(lp,nn,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Fn(lp,mn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),lp)),lte=Vd((up={},Fn(up,nn,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Fn(up,mn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),up)),ute=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,aL="fa-layers-text",cte=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,fte=Vd((cp={},Fn(cp,nn,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Fn(cp,mn,{900:"fass",400:"fasr",300:"fasl"}),cp)),lL=[1,2,3,4,5,6,7,8,9,10],dte=lL.concat([11,12,13,14,15,16,17,18,19,20]),hte=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ka={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},yd=new Set;Object.keys(gd[nn]).map(yd.add.bind(yd));Object.keys(gd[mn]).map(yd.add.bind(yd));var pte=[].concat(Iw,Fd(yd),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ka.GROUP,Ka.SWAP_OPACITY,Ka.PRIMARY,Ka.SECONDARY]).concat(lL.map(function(t){return"".concat(t,"x")})).concat(dte.map(function(t){return"w-".concat(t)})),Lf=sa.FontAwesomeConfig||{};function mte(t){var e=rn.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function gte(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(rn&&typeof rn.querySelector=="function"){var vte=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];vte.forEach(function(t){var e=Ow(t,2),n=e[0],r=e[1],i=gte(mte(n));i!=null&&(Lf[r]=i)})}var uL={styleDefault:"solid",familyDefault:"classic",cssPrefix:iL,replacementClass:oL,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Lf.familyPrefix&&(Lf.cssPrefix=Lf.familyPrefix);var ic=Ue(Ue({},uL),Lf);ic.autoReplaceSvg||(ic.observeMutations=!1);var tt={};Object.keys(uL).forEach(function(t){Object.defineProperty(tt,t,{enumerable:!0,set:function(n){ic[t]=n,If.forEach(function(r){return r(tt)})},get:function(){return ic[t]}})});Object.defineProperty(tt,"familyPrefix",{enumerable:!0,set:function(e){ic.cssPrefix=e,If.forEach(function(n){return n(tt)})},get:function(){return ic.cssPrefix}});sa.FontAwesomeConfig=tt;var If=[];function yte(t){return If.push(t),function(){If.splice(If.indexOf(t),1)}}var As=o1,po={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function bte(t){if(!(!t||!ls)){var e=rn.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=rn.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}return rn.head.insertBefore(e,r),t}}var _te="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function bd(){for(var t=12,e="";t-- >0;)e+=_te[Math.random()*62|0];return e}function dc(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Pw(t){return t.classList?dc(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function cL(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wte(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(cL(t[n]),'" ')},"").trim()}function ov(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Dw(t){return t.size!==po.size||t.x!==po.x||t.y!==po.y||t.rotate!==po.rotate||t.flipX||t.flipY}function kte(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(o," ").concat(s," ").concat(l)},f={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:u,path:f}}function xte(t){var e=t.transform,n=t.width,r=n===void 0?o1:n,i=t.height,o=i===void 0?o1:i,s=t.startCentered,l=s===void 0?!1:s,u="";return l&&rL?u+="translate(".concat(e.x/As-r/2,"em, ").concat(e.y/As-o/2,"em) "):l?u+="translate(calc(-50% + ".concat(e.x/As,"em), calc(-50% + ").concat(e.y/As,"em)) "):u+="translate(".concat(e.x/As,"em, ").concat(e.y/As,"em) "),u+="scale(".concat(e.size/As*(e.flipX?-1:1),", ").concat(e.size/As*(e.flipY?-1:1),") "),u+="rotate(".concat(e.rotate,"deg) "),u}var Ste=`:root, :host {
>>>>>>>> origin/craft-4:src/web/assets/field/dist/assets/vizy-91fcee7d.js
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
<<<<<<<< HEAD:src/web/assets/field/dist/assets/vizy-1d31d33d.js
}`;function cN(){var t=rN,e=iN,n=tt.cssPrefix,r=tt.replacementClass,i=Ite;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(l,".".concat(r))}return i}var lE=!1;function oy(){tt.autoAddCss&&!lE&&(Ate(cN()),lE=!0)}var Pte={mixout:function(){return{dom:{css:cN,insertCss:oy}}},hooks:function(){return{beforeDOMElementCreation:function(){oy()},beforeI2svg:function(){oy()}}}},Zo=sa||{};Zo[Xo]||(Zo[Xo]={});Zo[Xo].styles||(Zo[Xo].styles={});Zo[Xo].hooks||(Zo[Xo].hooks={});Zo[Xo].shims||(Zo[Xo].shims=[]);var Bi=Zo[Xo],fN=[],Dte=function t(){rn.removeEventListener("DOMContentLoaded",t),Zm=1,fN.map(function(e){return e()})},Zm=!1;ls&&(Zm=(rn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(rn.readyState),Zm||rn.addEventListener("DOMContentLoaded",Dte));function Rte(t){ls&&(Zm?setTimeout(t,0):fN.push(t))}function Vd(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,o=i===void 0?[]:i;return typeof t=="string"?uN(t):"<".concat(e," ").concat(Mte(r),">").concat(o.map(Vd).join(""),"</").concat(e,">")}function uE(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var zte=function(e,n){return function(r,i,o,s){return e.call(n,r,i,o,s)}},sy=function(e,n,r,i){var o=Object.keys(e),s=o.length,l=i!==void 0?zte(n,i):n,u,f,d;for(r===void 0?(u=1,d=e[o[0]]):(u=0,d=r);u<s;u++)f=o[u],d=l(d,e[f],f,e);return d};function Bte(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function a1(t){var e=Bte(t);return e.length===1?e[0].toString(16):null}function $te(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function cE(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function l1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,o=cE(e);typeof Bi.hooks.addPack=="function"&&!i?Bi.hooks.addPack(t,cE(e)):Bi.styles[t]=Ue(Ue({},Bi.styles[t]||{}),o),t==="fas"&&l1("fa",e)}var cp,fp,dp,vu=Bi.styles,Hte=Bi.shims,Fte=(cp={},Fn(cp,nn,Object.values(gd[nn])),Fn(cp,mn,Object.values(gd[mn])),cp),Rw=null,dN={},hN={},pN={},mN={},gN={},Vte=(fp={},Fn(fp,nn,Object.keys(pd[nn])),Fn(fp,mn,Object.keys(pd[mn])),fp);function jte(t){return~xte.indexOf(t)}function Wte(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!jte(i)?i:null}var vN=function(){var e=function(o){return sy(vu,function(s,l,u){return s[u]=sy(l,o,{}),s},{})};dN=e(function(i,o,s){if(o[3]&&(i[o[3]]=s),o[2]){var l=o[2].filter(function(u){return typeof u=="number"});l.forEach(function(u){i[u.toString(16)]=s})}return i}),hN=e(function(i,o,s){if(i[s]=s,o[2]){var l=o[2].filter(function(u){return typeof u=="string"});l.forEach(function(u){i[u]=s})}return i}),gN=e(function(i,o,s){var l=o[2];return i[s]=s,l.forEach(function(u){i[u]=s}),i});var n="far"in vu||tt.autoFetchSvg,r=sy(Hte,function(i,o){var s=o[0],l=o[1],u=o[2];return l==="far"&&!n&&(l="fas"),typeof s=="string"&&(i.names[s]={prefix:l,iconName:u}),typeof s=="number"&&(i.unicodes[s.toString(16)]={prefix:l,iconName:u}),i},{names:{},unicodes:{}});pN=r.names,mN=r.unicodes,Rw=ov(tt.styleDefault,{family:tt.familyDefault})};Ete(function(t){Rw=ov(t.styleDefault,{family:tt.familyDefault})});vN();function zw(t,e){return(dN[t]||{})[e]}function Ute(t,e){return(hN[t]||{})[e]}function Ga(t,e){return(gN[t]||{})[e]}function yN(t){return pN[t]||{prefix:null,iconName:null}}function qte(t){var e=mN[t],n=zw("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function aa(){return Rw}var Bw=function(){return{prefix:null,iconName:null,rest:[]}};function ov(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?nn:n,i=pd[r][t],o=md[r][t]||md[r][i],s=t in Bi.styles?t:null;return o||s||null}var fE=(dp={},Fn(dp,nn,Object.keys(gd[nn])),Fn(dp,mn,Object.keys(gd[mn])),dp);function sv(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,o=(e={},Fn(e,nn,"".concat(tt.cssPrefix,"-").concat(nn)),Fn(e,mn,"".concat(tt.cssPrefix,"-").concat(mn)),e),s=null,l=nn;(t.includes(o[nn])||t.some(function(f){return fE[nn].includes(f)}))&&(l=nn),(t.includes(o[mn])||t.some(function(f){return fE[mn].includes(f)}))&&(l=mn);var u=t.reduce(function(f,d){var m=Wte(tt.cssPrefix,d);if(vu[d]?(d=Fte[l].includes(d)?vte[l][d]:d,s=d,f.prefix=d):Vte[l].indexOf(d)>-1?(s=d,f.prefix=ov(d,{family:l})):m?f.iconName=m:d!==tt.replacementClass&&d!==o[nn]&&d!==o[mn]&&f.rest.push(d),!i&&f.prefix&&f.iconName){var v=s==="fa"?yN(f.iconName):{},y=Ga(f.prefix,f.iconName);v.prefix&&(s=null),f.iconName=v.iconName||y||f.iconName,f.prefix=v.prefix||f.prefix,f.prefix==="far"&&!vu.far&&vu.fas&&!tt.autoFetchSvg&&(f.prefix="fas")}return f},Bw());return(t.includes("fa-brands")||t.includes("fab"))&&(u.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(u.prefix="fad"),!u.prefix&&l===mn&&(vu.fass||tt.autoFetchSvg)&&(u.prefix="fass",u.iconName=Ga(u.prefix,u.iconName)||u.iconName),(u.prefix==="fa"||s==="fa")&&(u.prefix=aa()||"fas"),u}var Kte=function(){function t(){ote(this,t),this.definitions={}}return ste(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(l){n.definitions[l]=Ue(Ue({},n.definitions[l]||{}),s[l]),l1(l,s[l]);var u=gd[nn][l];u&&l1(u,s[l]),vN()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var s=i[o],l=s.prefix,u=s.iconName,f=s.icon,d=f[2];n[l]||(n[l]={}),d.length>0&&d.forEach(function(m){typeof m=="string"&&(n[l][m]=f)}),n[l][u]=f}),n}}]),t}(),dE=[],yu={},Iu={},Gte=Object.keys(Iu);function Yte(t,e){var n=e.mixoutsTo;return dE=t,yu={},Object.keys(Iu).forEach(function(r){Gte.indexOf(r)===-1&&delete Iu[r]}),dE.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(s){typeof i[s]=="function"&&(n[s]=i[s]),Xm(i[s])==="object"&&Object.keys(i[s]).forEach(function(l){n[s]||(n[s]={}),n[s][l]=i[s][l]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(s){yu[s]||(yu[s]=[]),yu[s].push(o[s])})}r.provides&&r.provides(Iu)}),n}function u1(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=yu[t]||[];return o.forEach(function(s){e=s.apply(null,[e].concat(r))}),e}function Sl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=yu[t]||[];i.forEach(function(o){o.apply(null,n)})}function Qo(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Iu[t]?Iu[t].apply(null,e):void 0}function c1(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||aa();if(e)return e=Ga(n,e)||e,uE(bN.definitions,n,e)||uE(Bi.styles,n,e)}var bN=new Kte,Jte=function(){tt.autoReplaceSvg=!1,tt.observeMutations=!1,Sl("noAuto")},Xte={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ls?(Sl("beforeI2svg",e),Qo("pseudoElements2svg",e),Qo("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;tt.autoReplaceSvg===!1&&(tt.autoReplaceSvg=!0),tt.observeMutations=!0,Rte(function(){Qte({autoReplaceSvgRoot:n}),Sl("watch",e)})}},Zte={icon:function(e){if(e===null)return null;if(Xm(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ga(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=ov(e[0]);return{prefix:r,iconName:Ga(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(tt.cssPrefix,"-"))>-1||e.match(yte))){var i=sv(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||aa(),iconName:Ga(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var o=aa();return{prefix:o,iconName:Ga(o,e)||e}}}},ui={noAuto:Jte,config:tt,dom:Xte,parse:Zte,library:bN,findIconDefinition:c1,toHtml:Vd},Qte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?rn:n;(Object.keys(Bi.styles).length>0||tt.autoFetchSvg)&&ls&&tt.autoReplaceSvg&&ui.dom.i2svg({node:r})};function av(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Vd(r)})}}),Object.defineProperty(t,"node",{get:function(){if(ls){var r=rn.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function ene(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(Dw(s)&&n.found&&!r.found){var l=n.width,u=n.height,f={x:l/u/2,y:.5};i.style=iv(Ue(Ue({},o),{},{"transform-origin":"".concat(f.x+s.x/16,"em ").concat(f.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function tne(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol,s=o===!0?"".concat(e,"-").concat(tt.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ue(Ue({},i),{},{id:s}),children:r}]}]}function $w(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,l=t.symbol,u=t.title,f=t.maskId,d=t.titleId,m=t.extra,v=t.watchable,y=v===void 0?!1:v,_=r.found?r:n,C=_.width,x=_.height,k=i==="fak",A=[tt.replacementClass,o?"".concat(tt.cssPrefix,"-").concat(o):""].filter(function(z){return m.classes.indexOf(z)===-1}).filter(function(z){return z!==""||!!z}).concat(m.classes).join(" "),N={children:[],attributes:Ue(Ue({},m.attributes),{},{"data-prefix":i,"data-icon":o,class:A,role:m.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(C," ").concat(x)})},E=k&&!~m.classes.indexOf("fa-fw")?{width:"".concat(C/x*16*.0625,"em")}:{};y&&(N.attributes[xl]=""),u&&(N.children.push({tag:"title",attributes:{id:N.attributes["aria-labelledby"]||"title-".concat(d||yd())},children:[u]}),delete N.attributes.title);var H=Ue(Ue({},N),{},{prefix:i,iconName:o,main:n,mask:r,maskId:f,transform:s,symbol:l,styles:Ue(Ue({},E),m.styles)}),I=r.found&&n.found?Qo("generateAbstractMask",H)||{children:[],attributes:{}}:Qo("generateAbstractIcon",H)||{children:[],attributes:{}},q=I.children,P=I.attributes;return H.children=q,H.attributes=P,l?tne(H):ene(H)}function hE(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,s=t.extra,l=t.watchable,u=l===void 0?!1:l,f=Ue(Ue(Ue({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});u&&(f[xl]="");var d=Ue({},s.styles);Dw(i)&&(d.transform=Nte({transform:i,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);var m=iv(d);m.length>0&&(f.style=m);var v=[];return v.push({tag:"span",attributes:f,children:[e]}),o&&v.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),v}function nne(t){var e=t.content,n=t.title,r=t.extra,i=Ue(Ue(Ue({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=iv(r.styles);o.length>0&&(i.style=o);var s=[];return s.push({tag:"span",attributes:i,children:[e]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}var ay=Bi.styles;function f1(t){var e=t[0],n=t[1],r=t.slice(4),i=Ow(r,1),o=i[0],s=null;return Array.isArray(o)?s={tag:"g",attributes:{class:"".concat(tt.cssPrefix,"-").concat(Ka.GROUP)},children:[{tag:"path",attributes:{class:"".concat(tt.cssPrefix,"-").concat(Ka.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(tt.cssPrefix,"-").concat(Ka.PRIMARY),fill:"currentColor",d:o[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:e,height:n,icon:s}}var rne={found:!1,width:512,height:512};function ine(t,e){!oN&&!tt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function d1(t,e){var n=e;return e==="fa"&&tt.styleDefault!==null&&(e=aa()),new Promise(function(r,i){if(Qo("missingIconAbstract"),n==="fa"){var o=yN(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&ay[e]&&ay[e][t]){var s=ay[e][t];return r(f1(s))}ine(t,e),r(Ue(Ue({},rne),{},{icon:tt.showMissingIcons&&t?Qo("missingIconAbstract")||{}:{}}))})}var pE=function(){},h1=tt.measurePerformance&&ip&&ip.mark&&ip.measure?ip:{mark:pE,measure:pE},of='FA "6.4.0"',one=function(e){return h1.mark("".concat(of," ").concat(e," begins")),function(){return _N(e)}},_N=function(e){h1.mark("".concat(of," ").concat(e," ends")),h1.measure("".concat(of," ").concat(e),"".concat(of," ").concat(e," begins"),"".concat(of," ").concat(e," ends"))},Hw={begin:one,end:_N},Dp=function(){};function mE(t){var e=t.getAttribute?t.getAttribute(xl):null;return typeof e=="string"}function sne(t){var e=t.getAttribute?t.getAttribute(Lw):null,n=t.getAttribute?t.getAttribute(Nw):null;return e&&n}function ane(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(tt.replacementClass)}function lne(){if(tt.autoReplaceSvg===!0)return Rp.replace;var t=Rp[tt.autoReplaceSvg];return t||Rp.replace}function une(t){return rn.createElementNS("http://www.w3.org/2000/svg",t)}function cne(t){return rn.createElement(t)}function wN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?une:cne:n;if(typeof t=="string")return rn.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(s){i.setAttribute(s,t.attributes[s])});var o=t.children||[];return o.forEach(function(s){i.appendChild(wN(s,{ceFn:r}))}),i}function fne(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Rp={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(wN(i),n)}),n.getAttribute(xl)===null&&tt.keepOriginalSource){var r=rn.createComment(fne(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Pw(n).indexOf(tt.replacementClass))return Rp.replace(e);var i=new RegExp("".concat(tt.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(l,u){return u===tt.replacementClass||u.match(i)?l.toSvg.push(u):l.toNode.push(u),l},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var s=r.map(function(l){return Vd(l)}).join(`
`);n.setAttribute(xl,""),n.innerHTML=s}};function gE(t){t()}function kN(t,e){var n=typeof e=="function"?e:Dp;if(t.length===0)n();else{var r=gE;tt.mutateApproach===mte&&(r=sa.requestAnimationFrame||gE),r(function(){var i=lne(),o=Hw.begin("mutate");t.map(i),o(),n()})}}var Fw=!1;function xN(){Fw=!0}function p1(){Fw=!1}var Qm=null;function vE(t){if(sE&&tt.observeMutations){var e=t.treeCallback,n=e===void 0?Dp:e,r=t.nodeCallback,i=r===void 0?Dp:r,o=t.pseudoElementsCallback,s=o===void 0?Dp:o,l=t.observeMutationsRoot,u=l===void 0?rn:l;Qm=new sE(function(f){if(!Fw){var d=aa();dc(f).forEach(function(m){if(m.type==="childList"&&m.addedNodes.length>0&&!mE(m.addedNodes[0])&&(tt.searchPseudoElements&&s(m.target),n(m.target)),m.type==="attributes"&&m.target.parentNode&&tt.searchPseudoElements&&s(m.target.parentNode),m.type==="attributes"&&mE(m.target)&&~kte.indexOf(m.attributeName))if(m.attributeName==="class"&&sne(m.target)){var v=sv(Pw(m.target)),y=v.prefix,_=v.iconName;m.target.setAttribute(Lw,y||d),_&&m.target.setAttribute(Nw,_)}else ane(m.target)&&i(m.target)})}}),ls&&Qm.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function dne(){Qm&&Qm.disconnect()}function hne(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var o=i.split(":"),s=o[0],l=o.slice(1);return s&&l.length>0&&(r[s]=l.join(":").trim()),r},{})),n}function pne(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=sv(Pw(t));return i.prefix||(i.prefix=aa()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=Ute(i.prefix,t.innerText)||zw(i.prefix,a1(t.innerText))),!i.iconName&&tt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function mne(t){var e=dc(t.attributes).reduce(function(i,o){return i.name!=="class"&&i.name!=="style"&&(i[o.name]=o.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return tt.autoA11y&&(n?e["aria-labelledby"]="".concat(tt.replacementClass,"-title-").concat(r||yd()):(e["aria-hidden"]="true",e.focusable="false")),e}function gne(){return{iconName:null,title:null,titleId:null,prefix:null,transform:po,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function yE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=pne(t),r=n.iconName,i=n.prefix,o=n.rest,s=mne(t),l=u1("parseNodeAttributes",{},t),u=e.styleParser?hne(t):[];return Ue({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:po,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:u,attributes:s}},l)}var vne=Bi.styles;function SN(t){var e=tt.autoReplaceSvg==="nest"?yE(t,{styleParser:!1}):yE(t);return~e.extra.classes.indexOf(sN)?Qo("generateLayersText",t,e):Qo("generateSvgReplacementMutation",t,e)}var la=new Set;Iw.map(function(t){la.add("fa-".concat(t))});Object.keys(pd[nn]).map(la.add.bind(la));Object.keys(pd[mn]).map(la.add.bind(la));la=Hd(la);function bE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ls)return Promise.resolve();var n=rn.documentElement.classList,r=function(m){return n.add("".concat(aE,"-").concat(m))},i=function(m){return n.remove("".concat(aE,"-").concat(m))},o=tt.autoFetchSvg?la:Iw.map(function(d){return"fa-".concat(d)}).concat(Object.keys(vne));o.includes("fa")||o.push("fa");var s=[".".concat(sN,":not([").concat(xl,"])")].concat(o.map(function(d){return".".concat(d,":not([").concat(xl,"])")})).join(", ");if(s.length===0)return Promise.resolve();var l=[];try{l=dc(t.querySelectorAll(s))}catch{}if(l.length>0)r("pending"),i("complete");else return Promise.resolve();var u=Hw.begin("onTree"),f=l.reduce(function(d,m){try{var v=SN(m);v&&d.push(v)}catch(y){oN||y.name==="MissingIcon"&&console.error(y)}return d},[]);return new Promise(function(d,m){Promise.all(f).then(function(v){kN(v,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),u(),d()})}).catch(function(v){u(),m(v)})})}function yne(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;SN(t).then(function(n){n&&kN([n],e)})}function bne(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:c1(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:c1(i||{})),t(r,Ue(Ue({},n),{},{mask:i}))}}var _ne=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?po:r,o=n.symbol,s=o===void 0?!1:o,l=n.mask,u=l===void 0?null:l,f=n.maskId,d=f===void 0?null:f,m=n.title,v=m===void 0?null:m,y=n.titleId,_=y===void 0?null:y,C=n.classes,x=C===void 0?[]:C,k=n.attributes,A=k===void 0?{}:k,N=n.styles,E=N===void 0?{}:N;if(e){var H=e.prefix,I=e.iconName,q=e.icon;return av(Ue({type:"icon"},e),function(){return Sl("beforeDOMElementCreation",{iconDefinition:e,params:n}),tt.autoA11y&&(v?A["aria-labelledby"]="".concat(tt.replacementClass,"-title-").concat(_||yd()):(A["aria-hidden"]="true",A.focusable="false")),$w({icons:{main:f1(q),mask:u?f1(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:H,iconName:I,transform:Ue(Ue({},po),i),symbol:s,title:v,maskId:d,titleId:_,extra:{attributes:A,styles:E,classes:x}})})}},wne={mixout:function(){return{icon:bne(_ne)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=bE,n.nodeCallback=yne,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?rn:r,o=n.callback,s=o===void 0?function(){}:o;return bE(i,s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,o=r.title,s=r.titleId,l=r.prefix,u=r.transform,f=r.symbol,d=r.mask,m=r.maskId,v=r.extra;return new Promise(function(y,_){Promise.all([d1(i,l),d.iconName?d1(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(C){var x=Ow(C,2),k=x[0],A=x[1];y([n,$w({icons:{main:k,mask:A},prefix:l,iconName:i,transform:u,symbol:f,maskId:m,title:o,titleId:s,extra:v,watchable:!0})])}).catch(_)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.transform,l=n.styles,u=iv(l);u.length>0&&(i.style=u);var f;return Dw(s)&&(f=Qo("generateAbstractTransformGrouping",{main:o,transform:s,containerWidth:o.width,iconWidth:o.width})),r.push(f||o.icon),{children:r,attributes:i}}}},kne={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,o=i===void 0?[]:i;return av({type:"layer"},function(){Sl("beforeDOMElementCreation",{assembler:n,params:r});var s=[];return n(function(l){Array.isArray(l)?l.map(function(u){s=s.concat(u.abstract)}):s=s.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(tt.cssPrefix,"-layers")].concat(Hd(o)).join(" ")},children:s}]})}}}},xne={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,o=i===void 0?null:i,s=r.classes,l=s===void 0?[]:s,u=r.attributes,f=u===void 0?{}:u,d=r.styles,m=d===void 0?{}:d;return av({type:"counter",content:n},function(){return Sl("beforeDOMElementCreation",{content:n,params:r}),nne({content:n.toString(),title:o,extra:{attributes:f,styles:m,classes:["".concat(tt.cssPrefix,"-layers-counter")].concat(Hd(l))}})})}}}},Sne={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,o=i===void 0?po:i,s=r.title,l=s===void 0?null:s,u=r.classes,f=u===void 0?[]:u,d=r.attributes,m=d===void 0?{}:d,v=r.styles,y=v===void 0?{}:v;return av({type:"text",content:n},function(){return Sl("beforeDOMElementCreation",{content:n,params:r}),hE({content:n,transform:Ue(Ue({},po),o),title:l,extra:{attributes:m,styles:y,classes:["".concat(tt.cssPrefix,"-layers-text")].concat(Hd(f))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,o=r.transform,s=r.extra,l=null,u=null;if(nN){var f=parseInt(getComputedStyle(n).fontSize,10),d=n.getBoundingClientRect();l=d.width/f,u=d.height/f}return tt.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),Promise.resolve([n,hE({content:n.innerHTML,width:l,height:u,transform:o,title:i,extra:s,watchable:!0})])}}},Cne=new RegExp('"',"ug"),_E=[1105920,1112319];function Tne(t){var e=t.replace(Cne,""),n=$te(e,0),r=n>=_E[0]&&n<=_E[1],i=e.length===2?e[0]===e[1]:!1;return{value:a1(i?e[0]:e),isSecondary:r||i}}function wE(t,e){var n="".concat(pte).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var o=dc(t.children),s=o.filter(function(q){return q.getAttribute(s1)===e})[0],l=sa.getComputedStyle(t,e),u=l.getPropertyValue("font-family").match(bte),f=l.getPropertyValue("font-weight"),d=l.getPropertyValue("content");if(s&&!u)return t.removeChild(s),r();if(u&&d!=="none"&&d!==""){var m=l.getPropertyValue("content"),v=~["Sharp"].indexOf(u[2])?mn:nn,y=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?md[v][u[2].toLowerCase()]:_te[v][f],_=Tne(m),C=_.value,x=_.isSecondary,k=u[0].startsWith("FontAwesome"),A=zw(y,C),N=A;if(k){var E=qte(C);E.iconName&&E.prefix&&(A=E.iconName,y=E.prefix)}if(A&&!x&&(!s||s.getAttribute(Lw)!==y||s.getAttribute(Nw)!==N)){t.setAttribute(n,N),s&&t.removeChild(s);var H=gne(),I=H.extra;I.attributes[s1]=e,d1(A,y).then(function(q){var P=$w(Ue(Ue({},H),{},{icons:{main:q,mask:Bw()},prefix:y,iconName:N,extra:I,watchable:!0})),z=rn.createElement("svg");e==="::before"?t.insertBefore(z,t.firstChild):t.appendChild(z),z.outerHTML=P.map(function(w){return Vd(w)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function Ene(t){return Promise.all([wE(t,"::before"),wE(t,"::after")])}function Ane(t){return t.parentNode!==document.head&&!~gte.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(s1)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function kE(t){if(ls)return new Promise(function(e,n){var r=dc(t.querySelectorAll("*")).filter(Ane).map(Ene),i=Hw.begin("searchPseudoElements");xN(),Promise.all(r).then(function(){i(),p1(),e()}).catch(function(){i(),p1(),n()})})}var One={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=kE,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?rn:r;tt.searchPseudoElements&&kE(i)}}},xE=!1,Mne={mixout:function(){return{dom:{unwatch:function(){xN(),xE=!0}}}},hooks:function(){return{bootstrap:function(){vE(u1("mutationObserverCallbacks",{}))},noAuto:function(){dne()},watch:function(n){var r=n.observeMutationsRoot;xE?p1():vE(u1("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},SE=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),s=o[0],l=o.slice(1).join("-");if(s&&l==="h")return r.flipX=!0,r;if(s&&l==="v")return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(s){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l;break}return r},n)},Lne={mixout:function(){return{parse:{transform:function(n){return SE(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=SE(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.containerWidth,s=n.iconWidth,l={transform:"translate(".concat(o/2," 256)")},u="translate(".concat(i.x*32,", ").concat(i.y*32,") "),f="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),d="rotate(".concat(i.rotate," 0 0)"),m={transform:"".concat(u," ").concat(f," ").concat(d)},v={transform:"translate(".concat(s/2*-1," -256)")},y={outer:l,inner:m,path:v};return{tag:"g",attributes:Ue({},y.outer),children:[{tag:"g",attributes:Ue({},y.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Ue(Ue({},r.icon.attributes),y.path)}]}]}}}},ly={x:0,y:0,width:"100%",height:"100%"};function CE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Nne(t){return t.tag==="g"?t.children:[t]}var Ine={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),o=i?sv(i.split(" ").map(function(s){return s.trim()})):Bw();return o.prefix||(o.prefix=aa()),n.mask=o,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.mask,l=n.maskId,u=n.transform,f=o.width,d=o.icon,m=s.width,v=s.icon,y=Lte({transform:u,containerWidth:m,iconWidth:f}),_={tag:"rect",attributes:Ue(Ue({},ly),{},{fill:"white"})},C=d.children?{children:d.children.map(CE)}:{},x={tag:"g",attributes:Ue({},y.inner),children:[CE(Ue({tag:d.tag,attributes:Ue(Ue({},d.attributes),y.path)},C))]},k={tag:"g",attributes:Ue({},y.outer),children:[x]},A="mask-".concat(l||yd()),N="clip-".concat(l||yd()),E={tag:"mask",attributes:Ue(Ue({},ly),{},{id:A,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_,k]},H={tag:"defs",children:[{tag:"clipPath",attributes:{id:N},children:Nne(v)},E]};return r.push(H,{tag:"rect",attributes:Ue({fill:"currentColor","clip-path":"url(#".concat(N,")"),mask:"url(#".concat(A,")")},ly)}),{children:r,attributes:i}}}},Pne={provides:function(e){var n=!1;sa.matchMedia&&(n=sa.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Ue(Ue({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=Ue(Ue({},o),{},{attributeName:"opacity"}),l={tag:"circle",attributes:Ue(Ue({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||l.children.push({tag:"animate",attributes:Ue(Ue({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ue(Ue({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:Ue(Ue({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Ue(Ue({},s),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Ue(Ue({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ue(Ue({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},Dne={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),o=i===null?!1:i===""?!0:i;return n.symbol=o,n}}}},Rne=[Pte,wne,kne,xne,Sne,One,Mne,Lne,Ine,Pne,Dne];Yte(Rne,{mixoutsTo:ui});ui.noAuto;ui.config;var zne=ui.library;ui.dom;var m1=ui.parse;ui.findIconDefinition;ui.toHtml;var Bne=ui.icon;ui.layer;ui.text;ui.counter;function TE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(n),!0).forEach(function(r){Pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eg(t){return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function Pr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hne(t,e){if(t==null)return{};var n=$ne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Fne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CN={exports:{}};(function(t){(function(e){var n=function(k,A,N){if(!f(A)||m(A)||v(A)||y(A)||u(A))return A;var E,H=0,I=0;if(d(A))for(E=[],I=A.length;H<I;H++)E.push(n(k,A[H],N));else{E={};for(var q in A)Object.prototype.hasOwnProperty.call(A,q)&&(E[k(q,N)]=n(k,A[q],N))}return E},r=function(k,A){A=A||{};var N=A.separator||"_",E=A.split||/(?=[A-Z])/;return k.split(E).join(N)},i=function(k){return _(k)?k:(k=k.replace(/[\-_\s]+(.)?/g,function(A,N){return N?N.toUpperCase():""}),k.substr(0,1).toLowerCase()+k.substr(1))},o=function(k){var A=i(k);return A.substr(0,1).toUpperCase()+A.substr(1)},s=function(k,A){return r(k,A).toLowerCase()},l=Object.prototype.toString,u=function(k){return typeof k=="function"},f=function(k){return k===Object(k)},d=function(k){return l.call(k)=="[object Array]"},m=function(k){return l.call(k)=="[object Date]"},v=function(k){return l.call(k)=="[object RegExp]"},y=function(k){return l.call(k)=="[object Boolean]"},_=function(k){return k=k-0,k===k},C=function(k,A){var N=A&&"process"in A?A.process:A;return typeof N!="function"?k:function(E,H){return N(E,k,H)}},x={camelize:i,decamelize:s,pascalize:o,depascalize:s,camelizeKeys:function(k,A){return n(C(i,A),k)},decamelizeKeys:function(k,A){return n(C(s,A),k,A)},pascalizeKeys:function(k,A){return n(C(o,A),k)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=x:e.humps=x})(Fne)})(CN);var Vne=CN.exports,jne=["class","style"];function Wne(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=Vne.camelize(n.slice(0,r)),o=n.slice(r+1).trim();return e[i]=o,e},{})}function Une(t){return t.split(/\s+/).reduce(function(e,n){return e[n]=!0,e},{})}function TN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(u){return TN(u)}),i=Object.keys(t.attributes||{}).reduce(function(u,f){var d=t.attributes[f];switch(f){case"class":u.class=Une(d);break;case"style":u.style=Wne(d);break;default:u.attrs[f]=d}return u},{attrs:{},class:{},style:{}});n.class;var o=n.style,s=o===void 0?{}:o,l=Hne(n,jne);return Hr(t.tag,Ho(Ho(Ho({},e),{},{class:i.class,style:Ho(Ho({},i.style),s)},i.attrs),l),r)}var EN=!1;try{EN=!0}catch{}function qne(){if(!EN&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function uy(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Pr({},t,e):{}}function Kne(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},Pr(e,"fa-".concat(t.size),t.size!==null),Pr(e,"fa-rotate-".concat(t.rotation),t.rotation!==null),Pr(e,"fa-pull-".concat(t.pull),t.pull!==null),Pr(e,"fa-swap-opacity",t.swapOpacity),Pr(e,"fa-bounce",t.bounce),Pr(e,"fa-shake",t.shake),Pr(e,"fa-beat",t.beat),Pr(e,"fa-fade",t.fade),Pr(e,"fa-beat-fade",t.beatFade),Pr(e,"fa-flash",t.flash),Pr(e,"fa-spin-pulse",t.spinPulse),Pr(e,"fa-spin-reverse",t.spinReverse),e);return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function EE(t){if(t&&eg(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(m1.icon)return m1.icon(t);if(t===null)return null;if(eg(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var Gne=Vn({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,n){var r=n.attrs,i=er(function(){return EE(e.icon)}),o=er(function(){return uy("classes",Kne(e))}),s=er(function(){return uy("transform",typeof e.transform=="string"?m1.transform(e.transform):e.transform)}),l=er(function(){return uy("mask",EE(e.mask))}),u=er(function(){return Bne(i.value,Ho(Ho(Ho(Ho({},o.value),s.value),l.value),{},{symbol:e.symbol,title:e.title}))});En(u,function(d){if(!d)return qne("Could not find one or more icon(s)",i.value,l.value)},{immediate:!0});var f=er(function(){return u.value?TN(u.value.abstract[0],{},r):null});return function(){return f.value}}}),Yne={prefix:"fas",iconName:"align-justify",icon:[448,512,[],"f039","M448 64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32z"]},Jne={prefix:"fas",iconName:"highlighter",icon:[576,512,[],"f591","M315 315l158.4-215L444.1 70.6 229 229 315 315zm-187 5l0 0V248.3c0-15.3 7.2-29.6 19.5-38.6L420.6 8.4C428 2.9 437 0 446.2 0c11.4 0 22.4 4.5 30.5 12.6l54.8 54.8c8.1 8.1 12.6 19 12.6 30.5c0 9.2-2.9 18.2-8.4 25.6L334.4 396.5c-9 12.3-23.4 19.5-38.6 19.5H224l-25.4 25.4c-12.5 12.5-32.8 12.5-45.3 0l-50.7-50.7c-12.5-12.5-12.5-32.8 0-45.3L128 320zM7 466.3l63-63 70.6 70.6-31 31c-4.5 4.5-10.6 7-17 7H24c-13.3 0-24-10.7-24-24v-4.7c0-6.4 2.5-12.5 7-17z"]},Xne={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},Zne={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32H256c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},Qne={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M352 64c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32s14.3 32 32 32H320c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32s14.3 32 32 32H320c17.7 0 32-14.3 32-32z"]},ere={prefix:"fas",iconName:"paragraph",icon:[448,512,[182],"f1dd","M192 32h64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H384l0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352H288V448c0 17.7-14.3 32-32 32s-32-14.3-32-32V352H192c-88.4 0-160-71.6-160-160s71.6-160 160-160z"]},tre={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]};zne.add(ere,Jne,Zne,tre,Qne,Yne,Xne);const nre={name:"SvgIcon",components:{FontAwesomeIcon:Gne},props:{content:{type:Object,default:()=>{}}},data(){return{defaultSvgs:{bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"/></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"/></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"/></svg>',strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M314.222 197.78c51.091 51.091 54.377 132.287 9.75 187.16-6.242 7.73-2.784 3.865-84.94 86.02-54.696 54.696-143.266 54.745-197.99 0-54.711-54.69-54.734-143.255 0-197.99 32.773-32.773 51.835-51.899 63.409-63.457 7.463-7.452 20.331-2.354 20.486 8.192a173.31 173.31 0 0 0 4.746 37.828c.966 4.029-.272 8.269-3.202 11.198L80.632 312.57c-32.755 32.775-32.887 85.892 0 118.8 32.775 32.755 85.892 32.887 118.8 0l75.19-75.2c32.718-32.725 32.777-86.013 0-118.79a83.722 83.722 0 0 0-22.814-16.229c-4.623-2.233-7.182-7.25-6.561-12.346 1.356-11.122 6.296-21.885 14.815-30.405l4.375-4.375c3.625-3.626 9.177-4.594 13.76-2.294 12.999 6.524 25.187 15.211 36.025 26.049zM470.958 41.04c-54.724-54.745-143.294-54.696-197.99 0-82.156 82.156-78.698 78.29-84.94 86.02-44.627 54.873-41.341 136.069 9.75 187.16 10.838 10.838 23.026 19.525 36.025 26.049 4.582 2.3 10.134 1.331 13.76-2.294l4.375-4.375c8.52-8.519 13.459-19.283 14.815-30.405.621-5.096-1.938-10.113-6.561-12.346a83.706 83.706 0 0 1-22.814-16.229c-32.777-32.777-32.718-86.065 0-118.79l75.19-75.2c32.908-32.887 86.025-32.755 118.8 0 32.887 32.908 32.755 86.025 0 118.8l-45.848 45.84c-2.93 2.929-4.168 7.169-3.202 11.198a173.31 173.31 0 0 1 4.746 37.828c.155 10.546 13.023 15.644 20.486 8.192 11.574-11.558 30.636-30.684 63.409-63.457 54.733-54.735 54.71-143.3-.001-197.991z"></path></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M304.083 388.936c4.686 4.686 4.686 12.284 0 16.971l-65.057 65.056c-54.709 54.711-143.27 54.721-197.989 0-54.713-54.713-54.719-143.27 0-197.989l65.056-65.057c4.686-4.686 12.284-4.686 16.971 0l22.627 22.627c4.686 4.686 4.686 12.284 0 16.971L81.386 311.82c-34.341 34.341-33.451 88.269.597 120.866 32.577 31.187 84.788 31.337 117.445-1.32l65.057-65.056c4.686-4.686 12.284-4.686 16.971 0l22.627 22.626zm-56.568-243.245l64.304-64.304c34.346-34.346 88.286-33.453 120.882.612 31.18 32.586 31.309 84.785-1.335 117.43l-65.056 65.057c-4.686 4.686-4.686 12.284 0 16.971l22.627 22.627c4.686 4.686 12.284 4.686 16.971 0l65.056-65.057c54.711-54.709 54.721-143.271 0-197.99-54.71-54.711-143.27-54.72-197.989 0l-65.057 65.057c-4.686 4.686-4.686 12.284 0 16.971l22.627 22.627c4.685 4.685 12.283 4.685 16.97-.001zm238.343 362.794l22.627-22.627c4.686-4.686 4.686-12.284 0-16.971L43.112 3.515c-4.686-4.686-12.284-4.686-16.971 0L3.515 26.142c-4.686 4.686-4.686 12.284 0 16.971l465.373 465.373c4.686 4.686 12.284 4.686 16.97-.001z"></path></svg>',"file-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zm-22.627 22.628a15.89 15.89 0 0 1 4.195 7.431H256V32.491a15.88 15.88 0 0 1 7.431 4.195l83.883 83.883zM336 480H48c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304c0 8.837-7.163 16-16 16zm-161.471-67.404l-25.928-7.527a5.1 5.1 0 0 1-3.476-6.32l58.027-199.869a5.1 5.1 0 0 1 6.32-3.476l25.927 7.527a5.1 5.1 0 0 1 3.476 6.32L180.849 409.12a5.1 5.1 0 0 1-6.32 3.476zm-48.446-47.674l18.492-19.724a5.101 5.101 0 0 0-.351-7.317L105.725 304l38.498-33.881a5.1 5.1 0 0 0 .351-7.317l-18.492-19.724a5.1 5.1 0 0 0-7.209-.233L57.61 300.279a5.1 5.1 0 0 0 0 7.441l61.263 57.434a5.1 5.1 0 0 0 7.21-.232zm139.043.232l61.262-57.434a5.1 5.1 0 0 0 0-7.441l-61.262-57.434a5.1 5.1 0 0 0-7.209.233l-18.492 19.724a5.101 5.101 0 0 0 .351 7.317L278.275 304l-38.499 33.881a5.1 5.1 0 0 0-.351 7.317l18.492 19.724a5.1 5.1 0 0 0 7.209.232z"></path></svg>',"page-break":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M144 48.06L304 48v112a16 16 0 0 0 16 16h112v40h48v-84a48.09 48.09 0 0 0-14.09-34L382 14.07A48.09 48.09 0 0 0 348 0L128 .08a32 32 0 0 0-32 32V216h48zM352 52l76.07 76H352zM240 264a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm192 200H144V360H96v120a32 32 0 0 0 32 32h320a32 32 0 0 0 32-32V360h-48zm128-200H432a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm-400 32v-16a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16z"></path></svg>',"remove-format":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M634 471L36 3.5A16 16 0 0 0 13.49 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM352 96l-24.76 74.27L378 210l38-114h144v32a16 16 0 0 0 16 16h16a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16H176a15.86 15.86 0 0 0-14.18 8.94L232.24 96zm-16 336h-32l25.68-77-50.77-39.7L240 432h-32a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',"quote-right":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"/></svg>',"list-ul":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"/></svg>',"list-ol":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg>',h1:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M511.5,196.5v293.1h-58.6V255.1h-58.6v-58.6H511.5z M71.8,181.9h146.6V50c0-16.2,13.1-29.3,29.3-29.3h14.7c16.2,0,29.3,13.1,29.3,29.3V387c0,16.2-13.1,29.3-29.3,29.3h-14.7c-16.2,0-29.3-13.1-29.3-29.3V255.1H71.8V387c0,16.2-13.1,29.3-29.3,29.3H27.8c-16.2,0-29.3-13.1-29.3-29.3V50c0-16.2,13.1-29.3,29.3-29.3h14.7c16.2,0,29.3,13.1,29.3,29.3V181.9z"/></svg>',h2:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M68.5,194.7h137.9V70.5c0-15.2,12.4-27.6,27.6-27.6h13.8c15.2,0,27.6,12.4,27.6,27.6v317.2c0,15.2-12.4,27.6-27.6,27.6H234c-15.2,0-27.6-12.4-27.6-27.6V263.6H68.5v124.1c0,15.2-12.4,27.6-27.6,27.6H27.2c-15.2,0-27.6-12.4-27.6-27.6V70.5C-0.4,55.3,11.9,43,27.2,43H41c15.2,0,27.6,12.4,27.6,27.6V194.7z M512,424.8v45.7H339.5c1.8-17.3,7.4-33.7,16.8-49.1c9.3-15.5,27.8-36,55.3-61.6c22.2-20.7,35.8-34.7,40.8-42c6.8-10.2,10.2-20.2,10.2-30.1c0-11-3-19.4-8.8-25.3c-5.9-5.9-14.1-8.8-24.4-8.8c-10.3,0-18.5,3.1-24.5,9.3c-6.1,6.2-9.6,16.4-10.5,30.8l-49-4.9c2.9-27.1,12.1-46.5,27.5-58.3c15.4-11.8,34.7-17.7,57.8-17.7c25.3,0,45.2,6.8,59.7,20.5c14.5,13.7,21.7,30.6,21.7,50.9c0,11.6-2.1,22.6-6.2,33c-4.1,10.4-10.7,21.4-19.7,32.8c-6,7.6-16.7,18.5-32.2,32.7c-15.5,14.2-25.4,23.7-29.5,28.4c-3.8,4.2-7.2,8.8-10.1,13.7H512z"/></svg>',h3:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M68.3,192.9h137.2V69.4c0-15.2,12.3-27.4,27.4-27.4h13.7c15.2,0,27.4,12.3,27.4,27.4V385c0,15.2-12.3,27.4-27.4,27.4h-13.7c-15.2,0-27.4-12.3-27.4-27.4V261.5H68.3V385c0,15.2-12.3,27.4-27.4,27.4H27.1C12,412.4-0.3,400.1-0.3,385V69.4C-0.3,54.3,12,42,27.1,42h13.7C56,42,68.3,54.3,68.3,69.4V192.9z M342.4,399.5l47.4-5.7c1.5,12.1,5.6,21.3,12.2,27.7c6.6,6.4,14.6,9.6,24,9.6c10.1,0,18.6-3.8,25.5-11.5c6.9-7.7,10.3-18,10.3-31c0-12.3-3.3-22-9.9-29.3c-6.1-7-14.9-10.9-24.2-10.8c-6.3,0-13.7,1.2-22.5,3.6l5.4-39.9c13.2,0.3,23.3-2.5,30.3-8.6c6.9-6.1,10.4-14.2,10.4-24.3c0-8.6-2.6-15.4-7.7-20.6c-5.1-5.1-11.9-7.6-20.4-7.6c-8-0.1-15.8,3-21.4,8.7c-5.9,5.8-9.5,14.3-10.8,25.4l-45.1-7.7c3.1-15.4,7.9-27.8,14.2-37c6.3-9.2,15.2-16.5,26.5-21.8c11.9-5.4,24.9-8.1,38.1-7.9c24,0,43.3,7.7,57.8,23c12,12.5,17.9,26.7,17.9,42.5c0,22.4-12.2,40.3-36.7,53.6c14.6,3.1,26.3,10.2,35.1,21.1c8.8,10.9,13.1,24.1,13.1,39.5c0,22.4-8.2,41.5-24.6,57.3c-16.4,15.8-36.7,23.7-61.1,23.7c-23.1,0-42.3-6.7-57.5-19.9C353.6,438.4,344.8,421,342.4,399.5L342.4,399.5z"/></svg>',h4:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M68.4,196h135V74.5c0-14.9,12.1-27,27-27h13.5c14.9,0,27,12.1,27,27V385c0,14.9-12.1,27-27,27h-13.5c-14.9,0-27-12.1-27-27V263.5h-135V385c0,14.9-12.1,27-27,27H27.9c-14.9,0-27-12.1-27-27V74.5c0-14.9,12.1-27,27-27h13.5c14.9,0,27,12.1,27,27V196zM434.2,466v-50.6H331.4v-42.1l109-159.5h40.4v159.4H512v42.3h-31.2V466H434.2z M434.2,373.1v-85.8l-57.8,85.8H434.2z"/></svg>',h5:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M70.1,191.8h139.5V66.3c0-15.4,12.5-27.9,27.9-27.9h14c15.4,0,27.9,12.5,27.9,27.9v320.9c0,15.4-12.5,27.9-27.9,27.9h-14c-15.4,0-27.9-12.5-27.9-27.9V261.6H70.1v125.6c0,15.4-12.5,27.9-27.9,27.9h-14c-15.4,0-27.9-12.5-27.9-27.9V66.3c0-15.4,12.5-27.9,27.9-27.9h14c15.4,0,27.9,12.5,27.9,27.9V191.8z M337.4,404.1l49.6-5.1c1.4,11.2,5.6,20.1,12.6,26.6c13.4,13.2,35,13.1,48.3-0.3c0.8-0.8,1.5-1.6,2.2-2.5c7.2-8.5,10.8-21.2,10.8-38.2c0-16-3.6-27.9-10.7-35.9c-7.1-8-16.5-11.9-27.9-11.9c-14.3,0-27.1,6.3-38.4,18.9l-40.4-5.9l25.5-135.1h131.6v46.6h-93.9l-7.8,44.1c10.5-5.4,22.2-8.3,34-8.3c21.3-0.3,41.7,8.4,56.1,24.1c15.3,16.1,23,36.9,23,62.5c0.3,20.6-6.3,40.7-18.6,57.2c-16.9,22.9-40.3,34.4-70.3,34.4c-24,0-43.5-6.4-58.6-19.3C349.3,443.1,340.3,425.8,337.4,404.1z"/></svg>',h6:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M70.3,191.6h140.1V65.5c0-15.5,12.5-28,28-28h14c15.5,0,28,12.5,28,28v322.2c0,15.5-12.5,28-28,28h-14c-15.5,0-28-12.5-28-28V261.6H70.3v126.1c0,15.5-12.5,28-28,28h-14c-15.5,0-28-12.5-28-28V65.5c0-15.5,12.5-28,28-28h14c15.5,0,28,12.5,28,28V191.6z M507.2,274.9l-48.4,5.3c-1.2-9.9-4.3-17.3-9.2-22c-5-4.7-11.5-7.1-19.4-7.1c-10.6,0-19.5,4.7-26.8,14.2c-7.3,9.5-11.9,29.2-13.8,59.2c12.5-14.7,27.9-22,46.4-22c20.9,0,38.7,8,53.6,23.8c14.9,15.9,22.3,36.4,22.3,61.5c0,26.7-7.8,48.1-23.5,64.2c-15.7,16.1-35.7,24.2-60.3,24.2c-26.3,0-48-10.2-64.9-30.7c-16.9-20.5-25.4-54-25.4-100.6c0-47.8,8.9-82.2,26.5-103.3s40.6-31.7,68.8-31.7c19.8,0,36.2,5.5,49.2,16.6C495.4,237.7,503.6,253.8,507.2,274.9z M393.9,383.9c0,16.2,3.7,28.8,11.2,37.6c7.5,8.8,16,13.3,25.6,13.3c9.2,0,16.9-3.6,23.1-10.9c6.2-7.2,9.2-19,9.2-35.6c0-16.9-3.3-29.3-9.9-37.2c-6-7.6-15.2-12-24.9-11.8c-9.6,0-17.7,3.8-24.3,11.3C397.2,358.1,393.9,369.2,393.9,383.9z"/></svg>',"horizontal-rule":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M640 247.5v17a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-17a16 16 0 0 1 16-16h608a16 16 0 0 1 16 16z"/></svg>',code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M234.8 511.7L196 500.4c-4.2-1.2-6.7-5.7-5.5-9.9L331.3 5.8c1.2-4.2 5.7-6.7 9.9-5.5L380 11.6c4.2 1.2 6.7 5.7 5.5 9.9L244.7 506.2c-1.2 4.3-5.6 6.7-9.9 5.5zm-83.2-121.1l27.2-29c3.1-3.3 2.8-8.5-.5-11.5L72.2 256l106.1-94.1c3.4-3 3.6-8.2.5-11.5l-27.2-29c-3-3.2-8.1-3.4-11.3-.4L2.5 250.2c-3.4 3.2-3.4 8.5 0 11.7L140.3 391c3.2 3 8.2 2.8 11.3-.4zm284.1.4l137.7-129.1c3.4-3.2 3.4-8.5 0-11.7L435.7 121c-3.2-3-8.3-2.9-11.3.4l-27.2 29c-3.1 3.3-2.8 8.5.5 11.5L503.8 256l-106.1 94.1c-3.4 3-3.6 8.2-.5 11.5l27.2 29c3.1 3.2 8.1 3.4 11.3.4z"/></svg>',"brackets-curly":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M208 32h-88a56 56 0 0 0-56 56v77.49a40 40 0 0 1-11.72 28.29L7 239a24 24 0 0 0 0 34l45.24 45.24A40 40 0 0 1 64 346.52V424a56 56 0 0 0 56 56h88a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-88a8 8 0 0 1-8-8v-77.48a88.06 88.06 0 0 0-25.78-62.24L57.93 256l28.29-28.28A88.06 88.06 0 0 0 112 165.48V88a8 8 0 0 1 8-8h88a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zm361 207l-45.25-45.24A40.07 40.07 0 0 1 512 165.48V88a56 56 0 0 0-56-56h-88a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h88a8 8 0 0 1 8 8v77.48a88 88 0 0 0 25.78 62.24L518.06 256l-28.28 28.28A88 88 0 0 0 464 346.52V424a8 8 0 0 1-8 8h-88a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h88a56 56 0 0 0 56-56v-77.49a40 40 0 0 1 11.72-28.29L569 273a24 24 0 0 0 0-34z"></path></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"/></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M336 64h-52.28a16 16 0 0 0-13.31 7.12L176 212.73 81.59 71.12A16 16 0 0 0 68.28 64H16A16 16 0 0 0 0 80v16a16 16 0 0 0 16 16h35.16l96 144-96 144H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h52.28a16 16 0 0 0 13.31-7.12L176 299.27l94.41 141.61a16 16 0 0 0 13.31 7.12H336a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-35.16l-96-144 96-144H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm160 400h-24V304a16 16 0 0 0-16-16h-32a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 408 352h16v112h-24a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M336 64h-52.28a16 16 0 0 0-13.31 7.12L176 212.73 81.59 71.12A16 16 0 0 0 68.28 64H16A16 16 0 0 0 0 80v16a16 16 0 0 0 16 16h35.16l96 144-96 144H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h52.28a16 16 0 0 0 13.31-7.12L176 299.27l94.41 141.61a16 16 0 0 0 13.31 7.12H336a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-35.16l-96-144 96-144H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm160 112h-24V16a16 16 0 0 0-16-16h-32a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 408 64h16v112h-24a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 264V160H232V264H48zm0 48H232V432H64c-8.8 0-16-7.2-16-16V312zM280 432V312H464V416c0 8.8-7.2 16-16 16H280zM464 264H280V160H464V264zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"/></svg>',"rectangle-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M320.1 175L384.1 239C394.3 248.4 394.3 263.6 384.1 272.1L320.1 336.1C311.6 346.3 296.4 346.3 287 336.1C277.7 327.6 277.7 312.4 287 303L334.1 256L287 208.1C277.7 199.6 277.7 184.4 287 175C296.4 165.7 311.6 165.7 320.1 175V175zM177.9 256L224.1 303C234.3 312.4 234.3 327.6 224.1 336.1C215.6 346.3 200.4 346.3 191 336.1L127 272.1C117.7 263.6 117.7 248.4 127 239L191 175C200.4 165.7 215.6 165.7 224.1 175C234.3 184.4 234.3 199.6 224.1 208.1L177.9 256zM448 32C483.3 32 512 60.65 512 96V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H448zM448 80H64C55.16 80 48 87.16 48 96V416C48 424.8 55.16 432 64 432H448C456.8 432 464 424.8 464 416V96C464 87.16 456.8 80 448 80z"/></svg>',"photo-film":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M256 0H576c35.3 0 64 28.7 64 64V288c0 35.3-28.7 64-64 64H256c-35.3 0-64-28.7-64-64V64c0-35.3 28.7-64 64-64zM476 106.7C471.5 100 464 96 456 96s-15.5 4-20 10.7l-56 84L362.7 169c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h80 48H552c8.9 0 17-4.9 21.2-12.7s3.7-17.3-1.2-24.6l-96-144zM336 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM64 128h96V384v32c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V384H512v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V192c0-35.3 28.7-64 64-64zm8 64c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16H88c8.8 0 16-7.2 16-16V208c0-8.8-7.2-16-16-16H72zm0 104c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16H88c8.8 0 16-7.2 16-16V312c0-8.8-7.2-16-16-16H72zm0 104c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16H88c8.8 0 16-7.2 16-16V416c0-8.8-7.2-16-16-16H72zm336 16v16c0 8.8 7.2 16 16 16h16c8.8 0 16-7.2 16-16V416c0-8.8-7.2-16-16-16H424c-8.8 0-16 7.2-16 16z"/></svg>',text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M64 96v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V80C0 53.5 21.5 32 48 32H224 400c26.5 0 48 21.5 48 48v48c0 17.7-14.3 32-32 32s-32-14.3-32-32V96H256l0 320h48c17.7 0 32 14.3 32 32s-14.3 32-32 32H144c-17.7 0-32-14.3-32-32s14.3-32 32-32h48l0-320H64z"/></svg>'}}},computed:{getSvg(){return this.content.svg&&this.content.svg.startsWith("<svg")?this.content.svg:this.content.svg&&this.defaultSvgs[this.content.svg]?this.defaultSvgs[this.content.svg]:""}}},rre=["innerHTML"];function ire(t,e,n,r,i,o){const s=ut("font-awesome-icon");return n.content.icon?(ge(),Et(s,{key:0,icon:n.content.icon},null,8,["icon"])):(ge(),Se("span",{key:1,class:"custom-svg",innerHTML:o.getSvg},null,8,rre))}const hc=Bt(nre,[["render",ire]]),ore={components:{SvgIcon:hc},props:{items:{type:Array,required:!0},command:{type:Function,required:!0}},data(){return{selectedIndex:0}},computed:{columns(){const e=Math.ceil(this.items.length/3),n=[];for(let r=0;r<3;r++)n.push(this.items.slice(r*e,(r+1)*e));return n},shortcutInfo(){const t=this.items[this.selectedIndex],e=Qn(t,"commandInfo.shortcut"),n=Qn(t,"commandInfo.text");return e?{label:Craft.t("vizy","Shortcut:"),icons:this.formatKeyboardShortcuts(e)}:n?{label:n}:{}}},methods:{onKeyDown({event:t}){return t.key==="ArrowUp"?(this.moveSelectionUp(),!0):t.key==="ArrowDown"?(this.moveSelectionDown(),!0):t.key==="ArrowLeft"?(this.moveSelectionLeft(),!0):t.key==="ArrowRight"?(this.moveSelectionRight(),!0):t.key==="Enter"?(this.enterHandler(),!0):!1},getItemIndex(t,e){return t+e*Math.ceil(this.items.length/3)},moveSelectionUp(){this.selectedIndex>0&&this.selectedIndex--},moveSelectionDown(){this.selectedIndex<this.items.length-1&&this.selectedIndex++},moveSelectionLeft(){if(this.selectedIndex>=0&&Math.floor(this.selectedIndex/Math.ceil(this.items.length/3))>0){const e=this.selectedIndex-Math.ceil(this.items.length/3);this.selectedIndex=e}},moveSelectionRight(){if(this.selectedIndex>=0&&Math.floor(this.selectedIndex/Math.ceil(this.items.length/3))<2){const e=this.selectedIndex+Math.ceil(this.items.length/3);e<this.items.length&&(this.selectedIndex=e)}},enterHandler(){this.selectItem(this.selectedIndex)},selectItem(t){const e=this.items[t];e&&this.command(e)},formatKeyboardShortcuts(t){const e=navigator.platform.toUpperCase().indexOf("MAC")>=0,n={Mod:e?"⌘":"Ctrl",Alt:e?"⌥":"Alt",Shift:e?"⇧":"Shift",Ctrl:e?"⌃":"Ctrl"};return t.split("-").map(r=>n[r]||r)}}},sre={key:0,class:"vui-command-items",style:{"max-height":"216px"}},are={class:"vui-command-items-wrap"},lre=["onClick"],ure={class:"vui-command-item-label"},cre={class:"vui-command-info",style:{"min-height":"32px"}},fre={class:"vui-command-info-left"},dre={class:"vui-command-info-shortcut"},hre={key:0,class:"vui-command-info-shortcut-label"},pre={key:1,class:"vui-command-items-empty"};function mre(t,e,n,r,i,o){const s=ut("svg-icon");return n.items.length?(ge(),Se("div",sre,[ee("div",are,[(ge(!0),Se(kt,null,Zt(o.columns,(l,u)=>(ge(),Se("div",{key:u,class:"vui-command-column"},[(ge(!0),Se(kt,null,Zt(l,(f,d)=>(ge(),Se("button",{key:d,class:gt(["vui-command-item",{"is-selected":i.selectedIndex===o.getItemIndex(d,u)}]),onClick:m=>o.selectItem(o.getItemIndex(d,u))},[Qe(s,{content:f,class:"vui-command-item-icon"},null,8,["content"]),ee("span",ure,Ne(f.title),1)],10,lre))),128))]))),128))]),ee("div",cre,[ee("div",fre,[ee("div",dre,[o.shortcutInfo.label?(ge(),Se("div",hre,Ne(o.shortcutInfo.label),1)):_t("",!0),(ge(!0),Se(kt,null,Zt(o.shortcutInfo.icons,(l,u)=>(ge(),Se("div",{key:u,class:"vui-command-info-shortcut-img"},Ne(l),1))),128))])])])])):(ge(),Se("div",pre,Ne(t.t("vizy","No items found.")),1))}const gre=Bt(ore,[["render",mre]]),vre={items:t=>{const{vizyField:e}=t.editor,n=e.settings,r=Craft.Vizy.Config.getCommands();let i=[],o=["h1","h2","h3","unordered-list","ordered-list","media-embed","link","image","code-block","blockquote","hr"];n.vizyConfig.commands&&(o=n.vizyConfig.commands),o.forEach(l=>{const u=r.find(f=>f.name===l);u&&i.push(u)});let s=["paragraph","code-block","blockquote","h1","h2","h3","h4","h5","h6"];return n.vizyConfig.formatting&&n.vizyConfig.formatting.length&&(s=n.vizyConfig.formatting),s=[...s,...e.buttons],i.forEach((l,u)=>{s.includes(l.name)||i.splice(u,1)}),e.richTextEnabled||(i=[]),n.blockGroups.forEach(l=>{l.blockTypes.forEach(u=>{i.push({name:u.handle,svg:u.icon.svg,title:u.name,command:({editor:f,range:d})=>{const m=Jm("vizy-block-"),v={type:u.id},{fieldsHtml:y,footHtml:_}=u;f.vizyField.setCachedFieldHtml(m,y),f.vizyField.setCachedFieldJs(m,_),f.chain().focus().deleteRange(d).setVizyBlock({id:m,values:v}).run(),setTimeout(()=>{f.vizyField.$events.emit("vizy-blocks:addedBlock")},50)}})})}),i.filter(l=>l.title.toLowerCase().startsWith(t.query.toLowerCase()))},render:()=>{let t,e;return{onStart:n=>{t=new KL(gre,{props:n,editor:n.editor}),n.clientRect&&(e=Kr("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:t.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"top-start",theme:"light-border vui-command-dropdown",maxWidth:"600px",duration:200}))},onUpdate(n){t.updateProps(n),n.clientRect&&e[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var r;return n.event.key==="Escape"?(e[0].hide(),!0):(r=t.ref)==null?void 0:r.onKeyDown(n)},onExit(){e[0].destroy(),t.destroy()}}}},yre=t=>{const e=[],n={},r=[];return Object.entries(t.settings.vizyConfig).forEach(([i,o])=>{(i==="buttons"||i==="formatting")&&o.forEach(s=>{gr(s)&&(Array.isArray(n[s.type])||(n[s.type]=[]),Object.keys(s.attrs).forEach(l=>{n[s.type].includes(l)||n[s.type].push(l)}),s.editorStyle&&e.push(s))})}),e.forEach(i=>{const o=Gj(`${i.type} ${i.title}`);if(!document.querySelector(`style#${o}`)){const s=document.createElement("style");s.id=o,s.innerHTML=`.vui-editor ${i.editorStyle}`,document.head.appendChild(s)}}),Object.entries(n).forEach(([i,o])=>{const s={};o.forEach(l=>{s[l]={default:null}}),r.push(ir.create({name:`${i}CustomAttributes`,addGlobalAttributes(){return[{types:[i],attributes:s}]}}))}),r},bre={name:"MenuBarItem",components:{SvgIcon:hc},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}},options:{type:Array,default:()=>[]}},data(){return{tippy:null}},computed:{active(){return this.isActive&&this.isActive(this.editor)}},mounted(){this.$nextTick(()=>{if(this.hasDropdown){const t=this.$el.querySelector(`.vui-toolbar-dropdown-${this.name}`),e=this.$el;t&&e&&(t.style.display="block",this.tippy=Kr(e,{content:t,trigger:"click",allowHTML:!0,arrow:!1,interactive:!0,placement:"bottom-start",theme:"light-border toolbar-dropdown",duration:200,zIndex:1e3,hideOnClick:!0,offset:[0,1],onShown(n){n.popper.querySelector("button").focus()}}))}}),this._keyListener=function(t){t.key==="Escape"&&(t.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{hasDropdown(){return!!(this.options&&this.options.length)},optionActive(t){return t.isActive&&t.isActive(this.editor)},runAction(t){this.tippy&&this.tippy.hide(),t&&t(this.editor)},onMouseDown(t){t.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}},_re={class:"vui-toolbar-dropdown-wrap"},wre=["onClick"];function kre(t,e,n,r,i,o){const s=ut("svg-icon"),l=sc("tooltip");return Ut((ge(),Se("button",{class:gt(["btn vui-toolbar-btn",{active:o.active}]),onClick:e[0]||(e[0]=lt(u=>o.runAction(n.action),["prevent"])),onMousedown:e[1]||(e[1]=(...u)=>o.onMouseDown&&o.onMouseDown(...u))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"]),o.hasDropdown()?(ge(),Se("div",{key:0,class:gt(["vui-toolbar-dropdown-container","vui-toolbar-dropdown-"+n.name]),style:{display:"none"}},[ee("div",_re,[(ge(!0),Se(kt,null,Zt(n.options,(u,f)=>(ge(),Se("button",{key:f,class:gt(["vui-toolbar-dropdown",["vui-toolbar-dropdown-item-"+u.name,{active:o.optionActive(u)}]]),onClick:lt(d=>o.runAction(u.action),["prevent"])},Ne(u.title),11,wre))),128))])],2)):_t("",!0)],34)),[[l,{content:n.title,theme:"vui-tooltip"}]])}const xre=Bt(bre,[["render",kre]]),AN=(t,e)=>{if(!t||!e)return;const n=t.parent.childAfter(t.parentOffset);if(!n.node)return;const r=n.node.marks.find(u=>u.type===e);if(!r)return;let i=t.index(),o=t.start()+n.offset,s=i+1,l=o+n.node.nodeSize;for(;i>0&&r.isInSet(t.parent.child(i-1).marks);)i-=1,o-=t.parent.child(i).nodeSize;for(;s<t.parent.childCount&&r.isInSet(t.parent.child(s).marks);)l+=t.parent.child(s).nodeSize,s+=1;return{from:o,to:l}},Sre={name:"MenuBarModal",inheritAttrs:!1,props:{cancelButton:{type:String,default:"Cancel"},confirmButton:{type:String,default:"Confirm"}},emits:["update:modelValue","confirm","cancel"],mounted(){this._keyListener=function(t){const e=this.$vfm.openedModals[0];e&&t.key==="Escape"&&(t.preventDefault(),e.emit("cancel"))},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{opened(){setTimeout(()=>{this.$nextTick().then(()=>{const t=this.$el.querySelector('input[type="text"]');t&&t.focus()})},50)}}},Cre={class:"vui-modal-header"},Tre={class:"vui-modal-body"},Ere={class:"vui-modal-footer footer"},Are=ee("div",{class:"spinner hidden"},null,-1),Ore={class:"buttons right"},Mre=["onClick"],Lre=["onClick"];function Nre(t,e,n,r,i,o){const s=ut("vue-final-modal");return ge(),Et(s,wi({class:"vui-modal-wrap"},t.$attrs,{classes:"vui-modal-container","content-class":"vui-modal-content","overlay-class":"vui-modal-overlay",attach:"body","lock-scroll":!1,"esc-to-close":!0,"click-to-close":!0,"focus-trap":!0,onOpened:o.opened,onClickOutside:e[1]||(e[1]=l=>t.$emit("cancel")),onCancel:e[2]||(e[2]=l=>t.$emit("cancel"))}),{default:Vt(({params:l,close:u})=>[ee("div",Cre,[pn(t.$slots,"title"),ee("div",{class:"vui-modal-close",onClick:e[0]||(e[0]=lt(f=>t.$emit("update:modelValue",!1),["prevent"]))})]),ee("div",Tre,[pn(t.$slots,"default",{params:l})]),ee("div",Ere,[Are,ee("div",Ore,[ee("div",{role:"button",class:"btn",tabindex:"0",onClick:lt(f=>t.$emit("cancel",u),["prevent"])},Ne(t.t("vizy",n.cancelButton)),9,Mre),ee("div",{role:"button",class:"btn submit",onClick:lt(f=>t.$emit("confirm",u),["prevent"])},Ne(t.t("vizy",n.confirmButton)),9,Lre)])])]),_:3},16,["onOpened"])}const lv=Bt(Sre,[["render",Nre]]),Ire={name:"LinkMenuModal",components:{MenuBarModal:lv},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{url:null,text:null,target:null,class:null,title:null},errors:[],advancedPane:!1}},computed:{elementSiteId(){return this.field.settings.elementSiteId},newWindow:{get(){return this.modelValue.target==="_blank"},set(t){this.modelValue.target=t?"_blank":""}}},watch:{show(t){this.proxyShow=t},proxyShow(t){t===!1&&this.$emit("close")},proxyValue(t){this.$emit("update:modelValue",t)}},methods:{cancelModal(){this.proxyShow=!1},toggleAdvanced(){this.advancedPane=!this.advancedPane},confirmModal(){if(this.errors=[],!this.modelValue.url){this.errors.push("url");return}const t={href:this.modelValue.url,target:this.modelValue.target?"_blank":"",class:this.modelValue.class,title:this.modelValue.title},{selection:e}=this.editor.state.tr,n=e.$cursor?e.$cursor.pos:e.from;this.editor.chain().focus().command(({commands:r,tr:i,state:o,dispatch:s})=>{let l=AN(o.doc.resolve(i.selection.anchor),o.schema.marks.link);if(l||(l={from:i.selection.from,to:i.selection.to}),this.modelValue.text){const u=this.modelValue.text.toString();i.insertText(u,l.from,l.to);const f=i.doc.resolve(l.from),d=i.doc.resolve(l.from+u.length);i.setSelection(new st(f,d))}}).setLink(t).command(({commands:r,tr:i,state:o,dispatch:s})=>{n&&i.setSelection(st.create(i.doc,n))}).run(),this.proxyShow=!1}}},Pre={class:"heading"},Dre={id:"url-label",class:"required",for:"url"},Rre={key:0,class:"errors"},zre={id:"text-field",class:"field"},Bre={class:"heading"},$re={id:"text-label",for:"text"},Hre={class:"input ltr"},Fre={id:"target-field",class:"checkboxfield field"},Vre={class:"input ltr"},jre=["id"],Wre=["for"],Ure={id:"title-field",class:"field"},qre={class:"heading"},Kre={id:"title-label",for:"title"},Gre={class:"input ltr"},Yre={id:"classes-field",class:"field"},Jre={class:"heading"},Xre={id:"classes-label",for:"classes"},Zre={class:"input ltr"};function Qre(t,e,n,r,i,o){const s=ut("menu-bar-modal");return ge(),Et(s,{modelValue:i.proxyShow,"onUpdate:modelValue":e[6]||(e[6]=l=>i.proxyShow=l),"confirm-button":t.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Vt(()=>[Ui(Ne(t.t("vizy",t.$attrs["modal-title"])),1)]),default:Vt(()=>[ee("div",{id:"url-field",class:gt(["field",{"has-errors":i.errors.includes("url")}])},[ee("div",Pre,[ee("label",Dre,Ne(t.t("vizy","URL")),1)]),ee("div",{class:gt(["input ltr",{errors:i.errors.includes("url")}])},[Ut(ee("input",{id:"url","onUpdate:modelValue":e[0]||(e[0]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off",required:""},null,512),[[Mn,n.modelValue.url]])],2),i.errors.includes("url")?(ge(),Se("ul",Rre,[ee("li",null,Ne(t.t("vizy","URL cannot be blank.")),1)])):_t("",!0)],2),ee("div",zre,[ee("div",Bre,[ee("label",$re,Ne(t.t("vizy","Text")),1)]),ee("div",Hre,[Ut(ee("input",{id:"text","onUpdate:modelValue":e[1]||(e[1]=l=>n.modelValue.text=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.text]])])]),ee("div",Fre,[ee("div",Vre,[Ut(ee("input",{id:i.targetId,"onUpdate:modelValue":e[2]||(e[2]=l=>o.newWindow=l),type:"checkbox",class:"checkbox"},null,8,jre),[[kd,o.newWindow]]),ee("label",{for:i.targetId},Ne(t.t("vizy","Open link in new tab")),9,Wre)])]),ee("a",{class:gt(["fieldtoggle",{expanded:i.advancedPane}]),"data-target":"advanced",onClick:e[3]||(e[3]=lt((...l)=>o.toggleAdvanced&&o.toggleAdvanced(...l),["prevent"]))},Ne(t.t("app","Advanced")),3),ee("div",{class:gt({hidden:!i.advancedPane})},[ee("div",Ure,[ee("div",qre,[ee("label",Kre,Ne(t.t("vizy","Title")),1)]),ee("div",Gre,[Ut(ee("input",{id:"title","onUpdate:modelValue":e[4]||(e[4]=l=>n.modelValue.title=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.title]])])]),ee("div",Yre,[ee("div",Jre,[ee("label",Xre,Ne(t.t("vizy","Classes")),1)]),ee("div",Zre,[Ut(ee("input",{id:"classes","onUpdate:modelValue":e[5]||(e[5]=l=>n.modelValue.class=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.class]])])])],2)]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const ON=Bt(Ire,[["render",Qre]]),eie={name:"LinkMenuBubble",components:{LinkMenuModal:ON},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{url:null,text:null,target:null,class:null,title:null}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.on("vui:link-clicked",this.renderBubble)})}}},methods:{renderBubble(){const{doc:t,selection:e,schema:n}=this.editor.view.state,r=AN(t.resolve(e.anchor),n.marks.link);if(r){const i=this.editor.view.docView.domFromPos(r.from).node;if(i){this.$el.style.display="block";const o=this.editor.getAttributes("link");this.model.text=i.textContent,this.model.url=o.href,this.model.target=o.target,this.model.class=o.class,this.model.title=o.title,this.tippy=Kr(i.parentNode,{content:this.$el,showOnCreate:!0,trigger:"manual",allowHTML:!0,arrow:!0,interactive:!0,placement:"top",theme:"vui-menu-bubble",hideOnClick:!0,duration:200,zIndex:1e3,appendTo:()=>document.body})}}},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},truncate(t,e){return t&&t.length>e?`${t.substr(0,e-1)}&hellip;`:t},edit(){this.showEditModal=!0,this.destroyBubble(),this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},unlink(){this.editor.chain().focus().unsetLink().run(),this.destroyBubble()}}},tie={class:"vui-link-menu-bubble",style:{display:"none"}},nie=["href","innerHTML"];function rie(t,e,n,r,i,o){const s=ut("link-menu-modal");return ge(),Se("div",tie,[ee("a",{href:i.model.url,target:"_blank",innerHTML:o.truncate(i.model.url,30)},null,8,nie),ee("a",{href:"#",onClick:e[0]||(e[0]=lt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Ne(t.t("vizy","Edit")),1),ee("a",{href:"#",onClick:e[1]||(e[1]=lt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Ne(t.t("vizy","Unlink")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Link",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const iie=Bt(eie,[["render",rie]]),oie={name:"MenuBarItem",components:{SvgIcon:hc,LinkMenuModal:ON,LinkMenuBubble:iie},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},title:{type:String,default:null},isActive:{type:Function,default:()=>{}}},data(){return{tippy:null,showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)},linkOptions(){return this.field.settings.linkOptions}},created(){this.resetModel(),this.editor.on("vui:link-modal-open",()=>{this.openNewModal()})},mounted(){this.$nextTick(()=>{const t=this.$el.querySelector(".vui-toolbar-dropdown-link"),e=this.$el;t&&e&&(t.style.display="block",this.tippy=Kr(e,{content:t,trigger:"click",allowHTML:!0,arrow:!1,interactive:!0,placement:"bottom-start",theme:"light-border toolbar-dropdown",duration:200,zIndex:1e3,hideOnClick:!0,offset:[0,1],onShown(n){n.popper.querySelector("button").focus()}}))}),this._keyListener=function(t){t.key==="Escape"&&(t.preventDefault(),this.closeDropdown()),this.editor.vizyField.isFocused()&&t.key==="k"&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),this.openNewModal())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{resetModel(){this.model={url:null,text:null,target:null,class:null,title:null}},openNewModal(){this.tippy.hide(),this.resetModel();const t=this.getSelectedText();t&&(this.model.text=t),this.showEditModal=!0},openEditModal(){this.tippy.hide();const{from:t,to:e}=this.editor.view.state.selection,n=this.editor.view.docView.domFromPos(t).node,r=this.editor.getAttributes("link");this.model.text=n.textContent,this.model.url=r.href,this.model.target=r.target,this.model.class=r.class,this.model.title=r.title,this.showEditModal=!0},closeModal(){this.showEditModal=!1},openElementModal(t){this.tippy.hide(),this.resetModel(),Craft.createElementSelectorModal(t.elementType,{storageKey:`VizyInput.LinkTo.${t.elementType}`,sources:t.sources,criteria:t.criteria,defaultSiteId:this.elementSiteId,autoFocusSearchBox:!1,onSelect:$.proxy(e=>{if(e.length){const[n]=e;this.model.url=`${n.url}#${t.refHandle}:${n.id}@${n.siteId}`,this.model.text=this.getSelectedText()||n.label,this.tippy.hide(),this.showEditModal=!0}},this),closeOtherModals:!1})},getSelectedText(){const{from:t,to:e}=this.editor.state.selection,n=this.editor.state.doc.textBetween(t,e," ");return n||!1},unlinkAction(){this.tippy&&this.tippy.hide(),this.editor.chain().focus().unsetLink().run()},onMouseDown(t){t.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}},sie={class:"vui-toolbar-dropdown-container vui-toolbar-dropdown-link",style:{display:"none"}},aie={key:0},lie=["onClick"],uie={key:1};function cie(t,e,n,r,i,o){const s=ut("svg-icon"),l=ut("link-menu-bubble"),u=ut("link-menu-modal"),f=sc("tooltip");return ge(),Se("div",null,[Ut((ge(),Se("button",{class:gt(["btn vui-toolbar-btn",{active:o.active}]),onClick:lt(()=>{},["prevent"]),onMousedown:e[0]||(e[0]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),ee("div",sie,[o.active?(ge(),Se("div",uie,[ee("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-link",onClick:e[2]||(e[2]=lt((...d)=>o.openEditModal&&o.openEditModal(...d),["prevent"]))},Ne(t.t("vizy","Edit Link")),1)])):(ge(),Se("div",aie,[(ge(!0),Se(kt,null,Zt(o.linkOptions,(d,m)=>(ge(),Se("button",{key:m,class:gt(["vui-toolbar-dropdown","vui-toolbar-dropdown-item-link-"+d.refHandle]),onClick:lt(v=>o.openElementModal(d),["prevent"])},Ne(d.optionTitle),11,lie))),128)),ee("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-link",onClick:e[1]||(e[1]=lt((...d)=>o.openNewModal&&o.openNewModal(...d),["prevent"]))},Ne(t.t("vizy","Insert Link")),1)])),ee("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-unlink",onClick:e[3]||(e[3]=lt((...d)=>o.unlinkAction&&o.unlinkAction(...d),["prevent"]))},Ne(t.t("vizy","Unlink")),1)]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":e[4]||(e[4]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Link",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const fie=Bt(oie,[["render",cie]]),die={name:"ImageMenuModal",components:{MenuBarModal:lv},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{id:null,src:null,alt:null,title:null,url:null,target:null,transform:null},errors:[]}},computed:{elementSiteId(){return this.field.settings.elementSiteId},transforms(){return this.field.settings.transforms}},watch:{show(t){this.proxyShow=t},proxyShow(t){t===!1&&this.$emit("close")},proxyValue(t){this.$emit("update:modelValue",t)}},methods:{_buildAssetUrl:(t,e,n)=>`${e}#asset:${t}:${n?`transform:${n}`:"url"}`,_removeTransformFromUrl:t=>t.replace(/(.*)(_[a-z0-9+].*\/)(.*)/,"$1$3"),_getTransformUrl(t,e,n){const r={assetId:t,handle:e};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{n(i.data.url)}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})},cancelModal(){this.proxyShow=!1},confirmModal(){this.errors=[];const t=this._removeTransformFromUrl(this.modelValue.src.split("#")[0]);this.modelValue.target=this.modelValue.target?"_blank":"",this.modelValue.transform?this._getTransformUrl(this.modelValue.id,this.modelValue.transform,e=>{this.modelValue.src=this._buildAssetUrl(this.modelValue.id,e,this.modelValue.transform),this.editor.chain().focus().setImage(this.modelValue).run()}):(this.modelValue.src=t,this.editor.chain().focus().setImage(this.modelValue).run()),this.proxyShow=!1}}},hie={class:"vui-modal-body-wrap"},pie={class:"vizy-modal-image-preview"},mie=["src"],gie={class:"vizy-modal-image-fields"},vie={id:"alt-field",class:"field"},yie={class:"heading"},bie={id:"alt-label",for:"alt"},_ie={class:"input ltr"},wie={id:"title-field",class:"field"},kie={class:"heading"},xie={id:"title-label",for:"title"},Sie={class:"input ltr"},Cie={id:"url-field",class:"field"},Tie={class:"heading"},Eie={id:"url-label",for:"url"},Aie={class:"input ltr"},Oie={id:"target-field",class:"checkboxfield field"},Mie={class:"input ltr"},Lie=["id"],Nie=["for"],Iie={id:"transform-field",class:"field first"},Pie={class:"heading"},Die={id:"transform-label",for:"transform"},Rie={class:"input ltr"},zie={class:"select"},Bie={value:""},$ie=["value"];function Hie(t,e,n,r,i,o){const s=ut("menu-bar-modal");return ge(),Et(s,{modelValue:i.proxyShow,"onUpdate:modelValue":e[5]||(e[5]=l=>i.proxyShow=l),class:"vui-modal-image-edit","confirm-button":t.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Vt(()=>[Ui(Ne(t.t("vizy",t.$attrs["modal-title"])),1)]),default:Vt(()=>[ee("div",hie,[ee("div",pie,[ee("img",{src:n.modelValue.src},null,8,mie)]),ee("div",gie,[ee("div",vie,[ee("div",yie,[ee("label",bie,Ne(t.t("vizy","Alt Text")),1)]),ee("div",_ie,[Ut(ee("input",{id:"alt","onUpdate:modelValue":e[0]||(e[0]=l=>n.modelValue.alt=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.alt]])])]),ee("div",wie,[ee("div",kie,[ee("label",xie,Ne(t.t("vizy","Title")),1)]),ee("div",Sie,[Ut(ee("input",{id:"title","onUpdate:modelValue":e[1]||(e[1]=l=>n.modelValue.title=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.title]])])]),ee("div",Cie,[ee("div",Tie,[ee("label",Eie,Ne(t.t("vizy","URL")),1)]),ee("div",Aie,[Ut(ee("input",{id:"url","onUpdate:modelValue":e[2]||(e[2]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.url]])])]),ee("div",Oie,[ee("div",Mie,[Ut(ee("input",{id:i.targetId,"onUpdate:modelValue":e[3]||(e[3]=l=>n.modelValue.target=l),type:"checkbox",class:"checkbox"},null,8,Lie),[[kd,n.modelValue.target]]),ee("label",{for:i.targetId},Ne(t.t("vizy","Open link in new tab")),9,Nie)])]),ee("div",Iie,[ee("div",Pie,[ee("label",Die,Ne(t.t("vizy","Transform")),1)]),ee("div",Rie,[ee("div",zie,[Ut(ee("select",{id:"transform","onUpdate:modelValue":e[4]||(e[4]=l=>n.modelValue.transform=l)},[ee("option",Bie,Ne(t.t("vizy","No Transform")),1),(ge(!0),Se(kt,null,Zt(o.transforms,(l,u)=>(ge(),Se("option",{key:u,value:l.handle},Ne(l.name),9,$ie))),128))],512),[[Z1,n.modelValue.transform]])])])])])])]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const MN=Bt(die,[["render",Hie]]),Fie=(t,e=!0)=>{if(!t)throw new Error('Invalid "node" parameter');const n=[];return t.descendants((r,i)=>{if(n.push({node:r,pos:i}),!e)return!1}),n},Vie=(t,e,n)=>{if(t){if(!e)throw new Error('Invalid "predicate" parameter')}else throw new Error('Invalid "node" parameter');return Fie(t,n).filter(r=>e(r.node))},jie=(t,e,n)=>Vie(t,r=>r.type===e,n),Vw={name:"followCursor",defaultValue:!1,fn(t){const{reference:e}=t;return{onMount(){const n=t.props.mouseEvent,r=n.target?e.contains(n.target):!0,{clientX:i,clientY:o}=n,s=e.getBoundingClientRect(),l=i-s.left,u=o-s.top;(r||!t.props.interactive)&&t.setProps({getReferenceClientRect(){const f=e.getBoundingClientRect(),d=f.left+l,m=f.top+u;return{width:0,height:0,top:m,right:d,bottom:m,left:d}}})}}}},Wie={name:"ImageMenuBubble",components:{ImageMenuModal:MN},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{id:null,src:null,alt:null,title:null,url:null,target:null,transform:null}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.on("vui:image-clicked",this.renderBubble)})}}},methods:{renderBubble(t){const{view:e}=this.editor,n=this.editor.getAttributes("image");P_(n)&&(this.model=n,this.$el.style.display="block",this.destroyBubble(),this.tippy=Kr(e.dom,{content:this.$el,trigger:"manual",showOnCreate:!0,allowHTML:!0,arrow:!0,interactive:!0,placement:"top",followCursor:"initial",plugins:[Vw],theme:"vui-menu-bubble",duration:200,mouseEvent:t,zIndex:1e3,appendTo:()=>document.body}))},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},edit(){this.showEditModal=!0,this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},imageEditor(){if(this.model.id){const t={allowSavingAsNew:!1,onSave:this.reloadImage.bind(this),allowDegreeFractions:Craft.isImagick};new Craft.AssetImageEditor(this.model.id,t),this.destroyBubble()}},reloadImage(){jie(this.editor.state.doc,this.editor.schema.nodes.image).forEach(e=>{if(!e.node.attrs.src)return;const n=e.node.attrs.src.match(/(.*)#asset:(\d+)(:transform:(.*))?/i);if(n&&n[2]==this.model.id)if(n[4]){const r={assetId:n[2],handle:n[4]};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{const o={src:`${i.data.url}?${new Date().getTime()}#asset:${n[2]}:transform:${n[4]}`};this.editor.view.dispatch(this.editor.state.tr.setNodeMarkup(e.pos,null,{...e.node.attrs,...o}))}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})}else{const r={src:`${n[1]}?${new Date().getTime()}#asset:${n[2]}`};this.editor.view.dispatch(this.editor.state.tr.setNodeMarkup(e.pos,null,{...e.node.attrs,...r}))}})},unlink(){this.editor.chain().focus().deleteSelection().run(),this.destroyBubble()}}},Uie={class:"vui-image-menu-bubble",style:{display:"none"}};function qie(t,e,n,r,i,o){const s=ut("image-menu-modal");return ge(),Se("div",Uie,[ee("a",{href:"#",onClick:e[0]||(e[0]=lt((...l)=>o.imageEditor&&o.imageEditor(...l),["prevent"]))},Ne(t.t("vizy","Image Editor")),1),ee("a",{href:"#",onClick:e[1]||(e[1]=lt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Ne(t.t("vizy","Edit")),1),ee("a",{href:"#",onClick:e[2]||(e[2]=lt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Ne(t.t("vizy","Delete")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":e[3]||(e[3]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Image",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const Kie=Bt(Wie,[["render",qie]]),Gie={name:"ImageMenuBarItem",components:{SvgIcon:hc,ImageMenuBubble:Kie,ImageMenuModal:MN},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}}},data(){return{showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)},volumes(){return this.field.settings.volumes},transforms(){return this.field.settings.transforms},elementSiteId(){return this.field.settings.elementSiteId},defaultTransform(){return this.field.settings.defaultTransform},allowAllUploaders(){return this.field.settings.allowAllUploaders},defaultSource(){return this.field.settings.defaultSource}},created(){this.resetModel(),this.editor.on("vui:image-modal-open",()=>{this.runAction()})},mounted(){this._keyListener=function(t){t.key==="Escape"&&(t.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{_buildAssetUrl:(t,e,n)=>`${e}#asset:${t}:${n?`transform:${n}`:"url"}`,_isTransformUrl:t=>/(.*)(_[a-z0-9+].*\/)(.*)/.test(t),_getTransformUrl(t,e,n){const r={assetId:t,handle:e};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{n(i.data.url)}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})},runAction(){const t={siteId:this.elementSiteId,kind:"image"};this.allowAllUploaders&&(t.uploaderId=null),this.assetSelectionModal=Craft.createElementSelectorModal("craft\\elements\\Asset",{storageKey:"VizyInput.ChooseImage",multiSelect:!0,sources:this.volumes,defaultSource:this.defaultSource??null,criteria:t,onSelect:function(e,n){if(e.length){const r={};e.length>1;const i=function(o,s){const l=o.pop(),u=this._isTransformUrl(l.url);u||!this.defaultTransform?(r[`asset${l.id}`]={id:l.id,src:this._buildAssetUrl(l.id,l.url,u?n:this.defaultTransform),alt:l.label,title:l.label,transform:u?n:this.defaultTransform},o.length?i(o,s):s()):this._getTransformUrl(l.id,this.defaultTransform,f=>{r[`asset${l.id}`]={id:l.id,src:this._buildAssetUrl(l.id,f,this.defaultTransform),alt:l.label,title:l.label,transform:this.defaultTransform},o.length?i(o,s):s()})}.bind(this);i(e,()=>{Object.keys(r).forEach(o=>{this.model={...this.model,...r[o]},this.showEditModal=!0})})}}.bind(this),transforms:this.transforms,closeOtherModals:!1})},resetModel(){this.model={id:null,src:null,alt:null,title:null,url:null,target:null,transform:this.defaultTransform}},closeModal(){this.showEditModal=!1},onMouseDown(t){t.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}};function Yie(t,e,n,r,i,o){const s=ut("svg-icon"),l=ut("image-menu-bubble"),u=ut("image-menu-modal"),f=sc("tooltip");return ge(),Se("div",null,[Ut((ge(),Se("button",{class:gt(["btn vui-toolbar-btn",{active:o.active}]),onClick:e[0]||(e[0]=lt((...d)=>o.runAction&&o.runAction(...d),["prevent"])),onMousedown:e[1]||(e[1]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Image",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const Jie=Bt(Gie,[["render",Yie]]),Xie={name:"IframeEmbedMenuModal",components:{MenuBarModal:lv},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{url:null},errors:[]}},watch:{show(t){this.proxyShow=t},proxyShow(t){t===!1&&this.$emit("close")},proxyValue(t){this.$emit("update:modelValue",t)}},methods:{cancelModal(){this.proxyShow=!1},confirmModal(){if(this.errors=[],!this.modelValue.url){this.errors.push("url");return}this.editor.chain().focus().setIframe(this.modelValue).run(),this.proxyShow=!1}}},Zie={class:"heading"},Qie={id:"url-label",class:"required",for:"url"},eoe={key:0,class:"errors"};function toe(t,e,n,r,i,o){const s=ut("menu-bar-modal");return ge(),Et(s,{modelValue:i.proxyShow,"onUpdate:modelValue":e[1]||(e[1]=l=>i.proxyShow=l),class:"vui-modal-iframe-edit","confirm-button":t.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Vt(()=>[Ui(Ne(t.t("vizy",t.$attrs["modal-title"])),1)]),default:Vt(()=>[ee("div",{id:"url-field",class:gt(["field",{"has-errors":i.errors.includes("url")}])},[ee("div",Zie,[ee("label",Qie,Ne(t.t("vizy","URL")),1)]),ee("div",{class:gt(["input ltr",{errors:i.errors.includes("url")}])},[Ut(ee("input",{id:"url","onUpdate:modelValue":e[0]||(e[0]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off",required:""},null,512),[[Mn,n.modelValue.url]])],2),i.errors.includes("url")?(ge(),Se("ul",eoe,[ee("li",null,Ne(t.t("vizy","URL cannot be blank.")),1)])):_t("",!0)],2)]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const LN=Bt(Xie,[["render",toe]]),noe={name:"IframeMenuBubble",components:{IframeMenuModal:LN},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{url:null}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.on("vui:iframe-clicked",this.renderBubble)})}}},methods:{renderBubble(t){const{view:e}=this.editor,n=this.editor.getAttributes("iframe");P_(n)&&(this.model=n,this.$el.style.display="block",this.destroyBubble(),this.tippy=Kr(e.dom,{content:this.$el,trigger:"manual",showOnCreate:!0,allowHTML:!0,arrow:!0,interactive:!0,placement:"top",followCursor:"initial",plugins:[Vw],theme:"vui-menu-bubble",mouseEvent:t,duration:200,zIndex:1e3,appendTo:()=>document.body}))},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},edit(){this.showEditModal=!0,this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},unlink(){this.editor.chain().focus().deleteSelection().run(),this.destroyBubble()}}},roe={class:"vui-iframe-menu-bubble",style:{display:"none"}};function ioe(t,e,n,r,i,o){const s=ut("iframe-menu-modal");return ge(),Se("div",roe,[ee("a",{href:"#",onClick:e[0]||(e[0]=lt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Ne(t.t("vizy","Edit")),1),ee("a",{href:"#",onClick:e[1]||(e[1]=lt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Ne(t.t("vizy","Delete")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit iFrame",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const ooe=Bt(noe,[["render",ioe]]),soe={name:"IframeMenuBarItem",components:{SvgIcon:hc,IframeMenuBubble:ooe,IframeMenuModal:LN},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}}},data(){return{showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)}},created(){this.resetModel()},mounted(){this._keyListener=function(t){t.key==="Escape"&&(t.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{runAction(){this.showEditModal=!0},resetModel(){this.model={url:null,data:null}},closeModal(){this.showEditModal=!1},onMouseDown(t){t.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}};function aoe(t,e,n,r,i,o){const s=ut("svg-icon"),l=ut("iframe-menu-bubble"),u=ut("iframe-menu-modal"),f=sc("tooltip");return ge(),Se("div",null,[Ut((ge(),Se("button",{class:gt(["btn vui-toolbar-btn",{active:o.active}]),onClick:e[0]||(e[0]=lt((...d)=>o.runAction&&o.runAction(...d),["prevent"])),onMousedown:e[1]||(e[1]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert iFrame",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const loe=Bt(soe,[["render",aoe]]),uoe={name:"MediaEmbedMenuModal",components:{MenuBarModal:lv},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{url:null,data:null},errors:[]}},watch:{show(t){this.proxyShow=t},proxyShow(t){t===!1&&this.$emit("close")},proxyValue(t){this.$emit("update:modelValue",t)}},methods:{cancelModal(){this.proxyShow=!1},confirmModal(){if(this.errors=[],!this.modelValue.url){this.errors.push("url");return}this.editor.chain().focus().setEmbed(this.modelValue).run(),this.proxyShow=!1}}},coe={class:"heading"},foe={id:"url-label",class:"required",for:"url"},doe={key:0,class:"errors"};function hoe(t,e,n,r,i,o){const s=ut("menu-bar-modal");return ge(),Et(s,{modelValue:i.proxyShow,"onUpdate:modelValue":e[1]||(e[1]=l=>i.proxyShow=l),class:"vui-modal-media-embed-edit","confirm-button":t.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Vt(()=>[Ui(Ne(t.t("vizy",t.$attrs["modal-title"])),1)]),default:Vt(()=>[ee("div",{id:"url-field",class:gt(["field",{"has-errors":i.errors.includes("url")}])},[ee("div",coe,[ee("label",foe,Ne(t.t("vizy","URL")),1)]),ee("div",{class:gt(["input ltr",{errors:i.errors.includes("url")}])},[Ut(ee("input",{id:"url","onUpdate:modelValue":e[0]||(e[0]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off",required:""},null,512),[[Mn,n.modelValue.url]])],2),i.errors.includes("url")?(ge(),Se("ul",doe,[ee("li",null,Ne(t.t("vizy","URL cannot be blank.")),1)])):_t("",!0)],2)]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const NN=Bt(uoe,[["render",hoe]]),poe={name:"MediaEmbedMenuBubble",components:{MediaEmbedMenuModal:NN},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{url:null,data:null}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.on("vui:media-embed-clicked",this.renderBubble)})}}},methods:{renderBubble(t){const{view:e}=this.editor,n=this.editor.getAttributes("mediaEmbed");P_(n)&&(this.model=n,this.$el.style.display="block",this.destroyBubble(),this.tippy=Kr(e.dom,{content:this.$el,trigger:"manual",showOnCreate:!0,allowHTML:!0,arrow:!0,interactive:!0,placement:"top",followCursor:"initial",plugins:[Vw],theme:"vui-menu-bubble",mouseEvent:t,duration:200,zIndex:1e3,appendTo:()=>document.body}))},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},edit(){this.showEditModal=!0,this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},unlink(){this.editor.chain().focus().deleteSelection().run(),this.destroyBubble()}}},moe={class:"vui-media-embed-menu-bubble",style:{display:"none"}};function goe(t,e,n,r,i,o){const s=ut("media-embed-menu-modal");return ge(),Se("div",moe,[ee("a",{href:"#",onClick:e[0]||(e[0]=lt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Ne(t.t("vizy","Edit")),1),ee("a",{href:"#",onClick:e[1]||(e[1]=lt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Ne(t.t("vizy","Delete")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Media Embed",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const voe=Bt(poe,[["render",goe]]),yoe={name:"MediaEmbedMenuBarItem",components:{SvgIcon:hc,MediaEmbedMenuBubble:voe,MediaEmbedMenuModal:NN},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}}},data(){return{showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)}},created(){this.resetModel(),this.editor.on("vui:media-embed-modal-open",()=>{this.runAction()})},mounted(){this._keyListener=function(t){t.key==="Escape"&&(t.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{runAction(){this.showEditModal=!0},resetModel(){this.model={url:null,data:null}},closeModal(){this.showEditModal=!1},onMouseDown(t){t.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}};function boe(t,e,n,r,i,o){const s=ut("svg-icon"),l=ut("media-embed-menu-bubble"),u=ut("media-embed-menu-modal"),f=sc("tooltip");return ge(),Se("div",null,[Ut((ge(),Se("button",{class:gt(["btn vui-toolbar-btn",{active:o.active}]),onClick:e[0]||(e[0]=lt((...d)=>o.runAction&&o.runAction(...d),["prevent"])),onMousedown:e[1]||(e[1]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Media Embed",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const _oe=Bt(yoe,[["render",boe]]),woe={components:{MenuBarItem:xre,LinkMenuBarItem:fie,ImageMenuBarItem:Jie,IframeMenuBarItem:loe,MediaEmbedMenuBarItem:_oe},props:{field:{type:Object,default:null},editor:{type:Object,default:null},buttons:{type:Array,default:()=>[]}},computed:{availableButtons(){const t=[];return this.buttons.forEach(e=>{gr(e)&&t.push(this.dynamicButton(e));const n=this.allButtons.find(r=>r.name===e);n&&(n.name==="formatting"&&(n.options=this.getEnabledOptions(n.options,this.getFormattingOptions())),n.name==="table"&&(n.options=this.getEnabledOptions(n.options,this.getTableOptions())),t.push(n))}),t}},created(){this.allButtons=Craft.Vizy.Config.getButtons()},methods:{getFormattingOptions(){let t=["paragraph","code-block","blockquote","h1","h2","h3","h4","h5","h6"];return this.field.settings.vizyConfig.formatting&&this.field.settings.vizyConfig.formatting.length&&(t=this.field.settings.vizyConfig.formatting),t},getTableOptions(){let t=["insert-table","delete-table","add-col-before","add-col-after","delete-col","add-row-before","add-row-after","delete-row","merge-cells","split-cells","toggle-header-column","toggle-header-row","toggle-header-cell"];return this.field.settings.vizyConfig.table&&this.field.settings.vizyConfig.table.length&&(t=this.field.settings.vizyConfig.table),t},getEnabledOptions(t,e){const n=[];return e.forEach(r=>{gr(r)&&n.push(this.dynamicButton(r));const i=t.find(o=>o.name===r);i&&n.push(i)}),n},dynamicButton(t){return{name:t.type,svg:t.svg,title:t.title,action:e=>{const n=e.state.schema.nodes[t.type],r=e.state.schema.marks[t.type];if(n)return e.chain().focus().toggleNode(t.type,"paragraph",t.attrs).run();if(r)return e.chain().focus().toggleMark(t.type,t.attrs).run()},isActive:e=>e.isActive(t.type,t.attrs)}}}},koe={class:"vui-editor-toolbar"};function xoe(t,e,n,r,i,o){return ge(),Se("div",koe,[(ge(!0),Se(kt,null,Zt(o.availableButtons,(s,l)=>(ge(),Et(Qs(s.component||"MenuBarItem"),wi({key:l},s,{editor:n.editor,field:n.field}),null,16,["editor","field"]))),128))])}const Soe=Bt(woe,[["render",xoe]]);class Coe{constructor({options:e,editorView:n}){this.options={element:null,onUpdate:()=>!1,...e},this.preventHide=!1,this.editorView=n,this.isActive=!1,this.top=0,this.behaviour=this.options.editor.vizyField.settings.blockTypeBehaviour,this.behaviour==="click"&&(this.options.element.addEventListener("mousedown",this.mousedownHandler.bind(this),{capture:!0}),this.options.editor.on("focus",this.focusHandler.bind(this)),this.options.editor.on("blur",this.blurHandler.bind(this)),this.options.editor.on("resize",this.resizeHandler.bind(this))),this.behaviour==="hover"&&(this.options.editor.view.dom.addEventListener("mousemove",this.mouseenterHandler.bind(this)),this.options.editor.view.dom.addEventListener("mouseleave",this.mouseleaveHandler.bind(this)))}mouseenterHandler(e){const{view:n}=this.options.editor,r=n.posAtCoords({left:e.clientX,top:e.clientY});if(r.pos&&r.inside>-1){const i=r.pos,o=n.state.doc.resolve(i).parent;lw(o)?setTimeout(()=>{const s=this.options.element.offsetParent;if(s){const l=s.getBoundingClientRect(),f=n.coordsAtPos(i).top-l.top;this.isActive=!0,this.top=f,this.options.editor.vizyField.currentNodeHoverPosition=i,this.sendUpdate()}},10):this.hide()}}mouseleaveHandler(e){e.relatedTarget&&e.relatedTarget.classList.contains("vui-editor-insert-btn")||this.hide()}mousedownHandler(){this.preventHide=!0}focusHandler(){this.update(this.options.editor.view)}blurHandler(e){if(this.preventHide){this.preventHide=!1;return}this.hide(e)}resizeHandler(){this.isActive&&this.update(this.options.editor.view)}isNodeEmpty(e){return!e.toJSON().content}update(e,n){const{state:r,composing:i}=e,{doc:o,selection:s}=r,l=n&&n.doc.eq(o)&&n.selection.eq(s);if(i||l)return;const{$anchor:u,anchor:f,empty:d}=s,m=this.options.element.offsetParent,v=u.depth===1,y=u.parent.type===r.doc.type.contentMatch.defaultType,_=this.isNodeEmpty(s.$anchor.parent);if(!d||!m||!(v&&y&&_)){this.hide();return}setTimeout(()=>{const x=m.getBoundingClientRect(),A=e.coordsAtPos(f).top-x.top;this.isActive=!0,this.top=A,this.sendUpdate()},10)}sendUpdate(){this.options.onUpdate({isActive:this.isActive,top:this.top})}hide(e){e&&e.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(e.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.behaviour==="click"&&(this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler),this.options.editor.off("resize",this.resizeHandler)),this.behaviour==="hover"&&(this.options.editor.view.dom.removeEventListener("mousemove",this.mouseenterHandler),this.options.editor.view.dom.removeEventListener("mouseleave",this.mouseleaveHandler))}}function Toe(t){return new on({key:new xn("floatingMenu"),view(e){return new Coe({editorView:e,options:t})}})}const Eoe={props:{editor:{type:Object,default:null}},emits:["show","hide"],data(){return{menu:{isActive:!1,left:0,bottom:0}}},computed:{variables(){return{focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getAttributes.bind(this.editor),getNodeAttrs:this.editor.getAttributes.bind(this.editor),menu:this.menu}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.registerPlugin(Toe({editor:t,element:this.$el,onUpdate:e=>{e.isActive&&this.menu.isActive===!1?this.$emit("show",e):!e.isActive&&this.menu.isActive===!0&&this.$emit("hide",e),this.menu=e}}))})}}},beforeUnmount(){},render(){return this.editor?Hr("div",null,this.$slots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getAttributes.bind(this.editor),getNodeAttrs:this.editor.getAttributes.bind(this.editor),menu:this.menu})):null}},Aoe={name:"BlockPicker",components:{FloatingMenu:Eoe},props:{field:{type:Object,default:null},editor:{type:Object,default:null},blockGroups:{type:Array,default:()=>[]}},data(){return{tippy:null,search:"",selectedIndex:0}},computed:{filteredBlockGroups(){const{blockGroups:t}=this;let e=0;return t.forEach(n=>{Array.isArray(n.blockTypes)&&n.blockTypes.forEach(r=>{r.countIndex=e,e++})}),t.reduce((n,r)=>{let i=[];return Array.isArray(r.blockTypes)&&(i=r.blockTypes.filter(o=>o.name.toLowerCase().includes(this.search.toLowerCase()))),i.length?n.concat({...r,blockTypes:i}):n},[])},totalBlockCount(){let t=0;return this.blockGroups.forEach(e=>{Array.isArray(e.blockTypes)&&(t+=e.blockTypes.length)}),t}},mounted(){this.$nextTick(()=>{const t=this.$el.querySelector("#vizy-blocks-template");t&&(t.style.display="block",this.tippy=Kr(this.$el.querySelector(".vui-editor-insert-btn"),{content:t,trigger:"click",allowHTML:!0,arrow:!0,interactive:!0,placement:"right",theme:"vui-block-picker light-border",maxWidth:"300px",duration:200,zIndex:100,appendTo:()=>document.body,hideOnClick:!0}))})},methods:{moveSelectionLeft(){this.selectedIndex>0&&this.selectedIndex--},moveSelectionRight(){const t=Object.values(this.filteredBlockGroups).map(e=>e.blockTypes).flat();this.selectedIndex<t.length-1&&this.selectedIndex++},addBlock(t){if(this.blockTypeDisabled(t))return;const e=Jm("vizy-block-"),n={type:t.id},{fieldsHtml:r,footHtml:i}=t;this.field.setCachedFieldHtml(e,r),this.field.setCachedFieldJs(e,i),this.editor.chain().focus().setVizyBlock({id:e,values:n}).run(),setTimeout(()=>{this.$events.emit("vizy-blocks:addedBlock")},50),this.tippy.hide()},blockTypeDisabled(t){var l,u;let e=0;const n={};this.blockGroups.forEach(f=>{f.blockTypes.forEach(d=>{n[d.id]=0})}),(u=(l=this.editor.state.doc)==null?void 0:l.content)==null||u.content.forEach(f=>{const d=Qn(f,"type.name"),m=Qn(f,"type.attrs.enabled"),v=Qn(f,"attrs.values.type");d==="vizyBlock"&&m&&(e+=1,n[v]+=1)});const{maxBlocks:r,maxBlockTypeBlocks:i}=this.editor.vizyField.settings;if(r&&e>=r)return!0;const o=Qn(i,t.id);return Qn(n,t.id)>=o},onClick(){const{blockTypeBehaviour:t}=this.editor.vizyField.settings;if(t==="hover"){const{view:e}=this.editor,n=st.create(e.state.doc,this.editor.vizyField.currentNodeHoverPosition),r=e.state.tr.setSelection(n);e.dispatch(r)}},closePane(){this.tippy&&this.tippy.hide()}}},Ooe=ee("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},[ee("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),Moe=[Ooe],Loe={id:"vizy-blocks-template",style:{display:"none"}},Noe={key:0},Ioe={key:1},Poe=ee("hr",null,null,-1),Doe={class:"vui-block-items-header"},Roe={class:"vui-block-items"},zoe=["onClick"],Boe=["innerHTML"],$oe={class:"vui-block-item-heading"},Hoe={key:2,class:"vui-block-items-none"},Foe=ee("hr",null,null,-1),Voe={key:3,class:"vui-block-items-empty"};function joe(t,e,n,r,i,o){const s=ut("floating-menu");return Ut((ge(),Et(s,{ref:"menu",editor:n.editor},{default:Vt(({menu:l})=>[ee("div",{class:gt(["vui-editor-insert",{"is-active":l.isActive}]),style:oi(`top: ${l.top}px`),onKeydown:[e[2]||(e[2]=Tu(lt((...u)=>o.moveSelectionLeft&&o.moveSelectionLeft(...u),["prevent"]),["left"])),e[3]||(e[3]=Tu(lt((...u)=>o.moveSelectionRight&&o.moveSelectionRight(...u),["prevent"]),["right"])),e[4]||(e[4]=Tu(lt((...u)=>o.closePane&&o.closePane(...u),["prevent"]),["escape"]))]},[ee("button",{type:"button","aria-label":"Add block","aria-haspopup":"true","aria-expanded":"false",class:"vui-editor-insert-btn",onClick:e[0]||(e[0]=(...u)=>o.onClick&&o.onClick(...u))},Moe),ee("div",Loe,[o.totalBlockCount?(ge(),Se("div",Noe,[Ut(ee("input",{"onUpdate:modelValue":e[1]||(e[1]=u=>i.search=u),type:"text",class:"text fullwidth",placeholder:"Search for blocks"},null,512),[[Mn,i.search]])])):_t("",!0),o.filteredBlockGroups.length?(ge(),Se("div",Ioe,[(ge(!0),Se(kt,null,Zt(o.filteredBlockGroups,(u,f)=>(ge(),Se("div",{key:f,class:"vui-block-group"},[Poe,ee("div",Doe,Ne(u.name),1),ee("div",Roe,[(ge(!0),Se(kt,null,Zt(u.blockTypes,(d,m)=>(ge(),Se("div",{key:m,class:gt(["vui-block-item",{disabled:o.blockTypeDisabled(d),"is-selected":i.selectedIndex===d.countIndex}]),onClick:v=>o.addBlock(d)},[ee("div",{innerHTML:d.icon.svg},null,8,Boe),ee("span",$oe,Ne(d.name),1)],10,zoe))),128))])]))),128))])):i.search?(ge(),Se("div",Hoe,[Foe,Ui(" "+Ne(t.t("vizy","No blocks found for “{search}”.",{search:i.search})),1)])):(ge(),Se("div",Voe,Ne(t.t("vizy","No blocks available.")),1))])],38)]),_:1},8,["editor"])),[[Bu,n.blockGroups.length]])}const Woe=Bt(Aoe,[["render",joe]]);var Uoe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qoe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tg={},Koe={get exports(){return tg},set exports(t){tg=t}},AE;function Or(){return AE||(AE=1,function(t,e){(function(n,r){t.exports=r()})(Uoe,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),l=/Edge\/(\d+)/.exec(n),u=o||s||l,f=u&&(o?document.documentMode||6:+(l||s)[1]),d=!l&&/WebKit\//.test(n),m=d&&/Qt\/\d+\.\d+/.test(n),v=!l&&/Chrome\/(\d+)/.exec(n),y=v&&+v[1],_=/Opera\//.test(n),C=/Apple Computer/.test(navigator.vendor),x=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),k=/PhantomJS/.test(n),A=C&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),N=/Android/.test(n),E=A||N||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),H=A||/Mac/.test(r),I=/\bCrOS\b/.test(n),q=/win/i.test(r),P=_&&n.match(/Version\/(\d*\.\d*)/);P&&(P=Number(P[1])),P&&P>=15&&(_=!1,d=!0);var z=H&&(m||_&&(P==null||P<12.11)),w=i||u&&f>=9;function R(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var U=function(a,c){var p=a.className,h=R(c).exec(p);if(h){var g=p.slice(h.index+h[0].length);a.className=p.slice(0,h.index)+(g?h[1]+g:"")}};function K(a){for(var c=a.childNodes.length;c>0;--c)a.removeChild(a.firstChild);return a}function oe(a,c){return K(a).appendChild(c)}function D(a,c,p,h){var g=document.createElement(a);if(p&&(g.className=p),h&&(g.style.cssText=h),typeof c=="string")g.appendChild(document.createTextNode(c));else if(c)for(var b=0;b<c.length;++b)g.appendChild(c[b]);return g}function ae(a,c,p,h){var g=D(a,c,p,h);return g.setAttribute("role","presentation"),g}var ce;document.createRange?ce=function(a,c,p,h){var g=document.createRange();return g.setEnd(h||a,p),g.setStart(a,c),g}:ce=function(a,c,p){var h=document.body.createTextRange();try{h.moveToElementText(a.parentNode)}catch{return h}return h.collapse(!0),h.moveEnd("character",p),h.moveStart("character",c),h};function ve(a,c){if(c.nodeType==3&&(c=c.parentNode),a.contains)return a.contains(c);do if(c.nodeType==11&&(c=c.host),c==a)return!0;while(c=c.parentNode)}function ze(a){var c;try{c=a.activeElement}catch{c=a.body||null}for(;c&&c.shadowRoot&&c.shadowRoot.activeElement;)c=c.shadowRoot.activeElement;return c}function qe(a,c){var p=a.className;R(c).test(p)||(a.className+=(p?" ":"")+c)}function vt(a,c){for(var p=a.split(" "),h=0;h<p.length;h++)p[h]&&!R(p[h]).test(c)&&(c+=" "+p[h]);return c}var mt=function(a){a.select()};A?mt=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:u&&(mt=function(a){try{a.select()}catch{}});function bt(a){return a.display.wrapper.ownerDocument}function yt(a){return bt(a).defaultView}function Xe(a){var c=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,c)}}function Ie(a,c,p){c||(c={});for(var h in a)a.hasOwnProperty(h)&&(p!==!1||!c.hasOwnProperty(h))&&(c[h]=a[h]);return c}function Be(a,c,p,h,g){c==null&&(c=a.search(/[^\s\u00a0]/),c==-1&&(c=a.length));for(var b=h||0,S=g||0;;){var T=a.indexOf("	",b);if(T<0||T>=c)return S+(c-b);S+=T-b,S+=p-S%p,b=T+1}}var Ee=function(){this.id=null,this.f=null,this.time=0,this.handler=Xe(this.onTimeout,this)};Ee.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},Ee.prototype.set=function(a,c){this.f=c;var p=+new Date+a;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=p)};function Ze(a,c){for(var p=0;p<a.length;++p)if(a[p]==c)return p;return-1}var Ke=50,Fe={toString:function(){return"CodeMirror.Pass"}},at={scroll:!1},ie={origin:"*mouse"},ne={origin:"+move"};function be(a,c,p){for(var h=0,g=0;;){var b=a.indexOf("	",h);b==-1&&(b=a.length);var S=b-h;if(b==a.length||g+S>=c)return h+Math.min(S,c-g);if(g+=b-h,g+=p-g%p,h=b+1,g>=c)return h}}var _e=[""];function xe(a){for(;_e.length<=a;)_e.push(G(_e)+" ");return _e[a]}function G(a){return a[a.length-1]}function Z(a,c){for(var p=[],h=0;h<a.length;h++)p[h]=c(a[h],h);return p}function L(a,c,p){for(var h=0,g=p(c);h<a.length&&p(a[h])<=g;)h++;a.splice(h,0,c)}function W(){}function O(a,c){var p;return Object.create?p=Object.create(a):(W.prototype=a,p=new W),c&&Ie(c,p),p}var j=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function F(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||j.test(a))}function Q(a,c){return c?c.source.indexOf("\\w")>-1&&F(a)?!0:c.test(a):F(a)}function le(a){for(var c in a)if(a.hasOwnProperty(c)&&a[c])return!1;return!0}var pe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ye(a){return a.charCodeAt(0)>=768&&pe.test(a)}function Y(a,c,p){for(;(p<0?c>0:c<a.length)&&ye(a.charAt(c));)c+=p;return c}function X(a,c,p){for(var h=c>p?-1:1;;){if(c==p)return c;var g=(c+p)/2,b=h<0?Math.ceil(g):Math.floor(g);if(b==c)return a(b)?c:p;a(b)?p=b:c=b+h}}function de(a,c,p,h){if(!a)return h(c,p,"ltr",0);for(var g=!1,b=0;b<a.length;++b){var S=a[b];(S.from<p&&S.to>c||c==p&&S.to==c)&&(h(Math.max(S.from,c),Math.min(S.to,p),S.level==1?"rtl":"ltr",b),g=!0)}g||h(c,p,"ltr")}var Te=null;function je(a,c,p){var h;Te=null;for(var g=0;g<a.length;++g){var b=a[g];if(b.from<c&&b.to>c)return g;b.to==c&&(b.from!=b.to&&p=="before"?h=g:Te=g),b.from==c&&(b.from!=b.to&&p!="before"?h=g:Te=g)}return h??Te}var he=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",c="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(B){return B<=247?a.charAt(B):1424<=B&&B<=1524?"R":1536<=B&&B<=1785?c.charAt(B-1536):1774<=B&&B<=2220?"r":8192<=B&&B<=8203?"w":B==8204?"b":"L"}var h=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,b=/[LRr]/,S=/[Lb1n]/,T=/[1n]/;function M(B,J,te){this.level=B,this.from=J,this.to=te}return function(B,J){var te=J=="ltr"?"L":"R";if(B.length==0||J=="ltr"&&!h.test(B))return!1;for(var fe=B.length,ue=[],ke=0;ke<fe;++ke)ue.push(p(B.charCodeAt(ke)));for(var Ce=0,Me=te;Ce<fe;++Ce){var De=ue[Ce];De=="m"?ue[Ce]=Me:Me=De}for(var $e=0,Re=te;$e<fe;++$e){var Ve=ue[$e];Ve=="1"&&Re=="r"?ue[$e]="n":b.test(Ve)&&(Re=Ve,Ve=="r"&&(ue[$e]="R"))}for(var nt=1,et=ue[0];nt<fe-1;++nt){var St=ue[nt];St=="+"&&et=="1"&&ue[nt+1]=="1"?ue[nt]="1":St==","&&et==ue[nt+1]&&(et=="1"||et=="n")&&(ue[nt]=et),et=St}for(var Yt=0;Yt<fe;++Yt){var Pn=ue[Yt];if(Pn==",")ue[Yt]="N";else if(Pn=="%"){var sn=void 0;for(sn=Yt+1;sn<fe&&ue[sn]=="%";++sn);for(var Nr=Yt&&ue[Yt-1]=="!"||sn<fe&&ue[sn]=="1"?"1":"N",wr=Yt;wr<sn;++wr)ue[wr]=Nr;Yt=sn-1}}for(var wn=0,kr=te;wn<fe;++wn){var jn=ue[wn];kr=="L"&&jn=="1"?ue[wn]="L":b.test(jn)&&(kr=jn)}for(var Tn=0;Tn<fe;++Tn)if(g.test(ue[Tn])){var kn=void 0;for(kn=Tn+1;kn<fe&&g.test(ue[kn]);++kn);for(var un=(Tn?ue[Tn-1]:te)=="L",xr=(kn<fe?ue[kn]:te)=="L",eu=un==xr?un?"L":"R":te,ws=Tn;ws<kn;++ws)ue[ws]=eu;Tn=kn-1}for(var Yn=[],to,Dn=0;Dn<fe;)if(S.test(ue[Dn])){var i0=Dn;for(++Dn;Dn<fe&&S.test(ue[Dn]);++Dn);Yn.push(new M(0,i0,Dn))}else{var Lo=Dn,Ca=Yn.length,Ta=J=="rtl"?1:0;for(++Dn;Dn<fe&&ue[Dn]!="L";++Dn);for(var ar=Lo;ar<Dn;)if(T.test(ue[ar])){Lo<ar&&(Yn.splice(Ca,0,new M(1,Lo,ar)),Ca+=Ta);var tu=ar;for(++ar;ar<Dn&&T.test(ue[ar]);++ar);Yn.splice(Ca,0,new M(2,tu,ar)),Ca+=Ta,Lo=ar}else++ar;Lo<Dn&&Yn.splice(Ca,0,new M(1,Lo,Dn))}return J=="ltr"&&(Yn[0].level==1&&(to=B.match(/^\s+/))&&(Yn[0].from=to[0].length,Yn.unshift(new M(0,0,to[0].length))),G(Yn).level==1&&(to=B.match(/\s+$/))&&(G(Yn).to-=to[0].length,Yn.push(new M(0,fe-to[0].length,fe)))),J=="rtl"?Yn.reverse():Yn}}();function Ae(a,c){var p=a.order;return p==null&&(p=a.order=he(a.text,c)),p}var Le=[],me=function(a,c,p){if(a.addEventListener)a.addEventListener(c,p,!1);else if(a.attachEvent)a.attachEvent("on"+c,p);else{var h=a._handlers||(a._handlers={});h[c]=(h[c]||Le).concat(p)}};function Je(a,c){return a._handlers&&a._handlers[c]||Le}function ct(a,c,p){if(a.removeEventListener)a.removeEventListener(c,p,!1);else if(a.detachEvent)a.detachEvent("on"+c,p);else{var h=a._handlers,g=h&&h[c];if(g){var b=Ze(g,p);b>-1&&(h[c]=g.slice(0,b).concat(g.slice(b+1)))}}}function ot(a,c){var p=Je(a,c);if(p.length)for(var h=Array.prototype.slice.call(arguments,2),g=0;g<p.length;++g)p[g].apply(null,h)}function Ct(a,c,p){return typeof c=="string"&&(c={type:c,preventDefault:function(){this.defaultPrevented=!0}}),ot(a,p||c.type,a,c),Gr(c)||c.codemirrorIgnore}function yr(a){var c=a._handlers&&a._handlers.cursorActivity;if(c)for(var p=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),h=0;h<c.length;++h)Ze(p,c[h])==-1&&p.push(c[h])}function Kt(a,c){return Je(a,c).length>0}function Xt(a){a.prototype.on=function(c,p){me(this,c,p)},a.prototype.off=function(c,p){ct(this,c,p)}}function Gt(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Kn(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Gr(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function Yr(a){Gt(a),Kn(a)}function Sn(a){return a.target||a.srcElement}function pc(a){var c=a.which;return c==null&&(a.button&1?c=1:a.button&2?c=3:a.button&4&&(c=2)),H&&a.ctrlKey&&c==1&&(c=3),c}var fv=function(){if(u&&f<9)return!1;var a=D("div");return"draggable"in a||"dragDrop"in a}(),ci;function dv(a){if(ci==null){var c=D("span","​");oe(a,D("span",[c,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(ci=c.offsetWidth<=1&&c.offsetHeight>2&&!(u&&f<8))}var p=ci?D("span","​"):D("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var Pl;function Wd(a){if(Pl!=null)return Pl;var c=oe(a,document.createTextNode("AخA")),p=ce(c,0,1).getBoundingClientRect(),h=ce(c,1,2).getBoundingClientRect();return K(a),!p||p.left==p.right?!1:Pl=h.right-p.right<3}var mc=`

b`.split(/\n/).length!=3?function(a){for(var c=0,p=[],h=a.length;c<=h;){var g=a.indexOf(`
`,c);g==-1&&(g=a.length);var b=a.slice(c,a.charAt(g-1)=="\r"?g-1:g),S=b.indexOf("\r");S!=-1?(p.push(b.slice(0,S)),c+=S+1):(p.push(b),c=g+1)}return p}:function(a){return a.split(/\r\n?|\n/)},us=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var c;try{c=a.ownerDocument.selection.createRange()}catch{}return!c||c.parentElement()!=a?!1:c.compareEndPoints("StartToEnd",c)!=0},Yi=function(){var a=D("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),Ji=null;function Ud(a){if(Ji!=null)return Ji;var c=oe(a,D("span","x")),p=c.getBoundingClientRect(),h=ce(c,0,1).getBoundingClientRect();return Ji=Math.abs(p.left-h.left)>1}var Ci={},cs={};function qd(a,c){arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),Ci[a]=c}function Dl(a,c){cs[a]=c}function Mr(a){if(typeof a=="string"&&cs.hasOwnProperty(a))a=cs[a];else if(a&&typeof a.name=="string"&&cs.hasOwnProperty(a.name)){var c=cs[a.name];typeof c=="string"&&(c={name:c}),a=O(c,a),a.name=c.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return Mr("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return Mr("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function xo(a,c){c=Mr(c);var p=Ci[c.name];if(!p)return xo(a,"text/plain");var h=p(a,c);if(fs.hasOwnProperty(c.name)){var g=fs[c.name];for(var b in g)g.hasOwnProperty(b)&&(h.hasOwnProperty(b)&&(h["_"+b]=h[b]),h[b]=g[b])}if(h.name=c.name,c.helperType&&(h.helperType=c.helperType),c.modeProps)for(var S in c.modeProps)h[S]=c.modeProps[S];return h}var fs={};function Kd(a,c){var p=fs.hasOwnProperty(a)?fs[a]:fs[a]={};Ie(c,p)}function So(a,c){if(c===!0)return c;if(a.copyState)return a.copyState(c);var p={};for(var h in c){var g=c[h];g instanceof Array&&(g=g.concat([])),p[h]=g}return p}function ds(a,c){for(var p;a.innerMode&&(p=a.innerMode(c),!(!p||p.mode==a));)c=p.state,a=p.mode;return p||{mode:a,state:c}}function gc(a,c,p){return a.startState?a.startState(c,p):!0}var ln=function(a,c,p){this.pos=this.start=0,this.string=a,this.tabSize=c||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};ln.prototype.eol=function(){return this.pos>=this.string.length},ln.prototype.sol=function(){return this.pos==this.lineStart},ln.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ln.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ln.prototype.eat=function(a){var c=this.string.charAt(this.pos),p;if(typeof a=="string"?p=c==a:p=c&&(a.test?a.test(c):a(c)),p)return++this.pos,c},ln.prototype.eatWhile=function(a){for(var c=this.pos;this.eat(a););return this.pos>c},ln.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},ln.prototype.skipToEnd=function(){this.pos=this.string.length},ln.prototype.skipTo=function(a){var c=this.string.indexOf(a,this.pos);if(c>-1)return this.pos=c,!0},ln.prototype.backUp=function(a){this.pos-=a},ln.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Be(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Be(this.string,this.lineStart,this.tabSize):0)},ln.prototype.indentation=function(){return Be(this.string,null,this.tabSize)-(this.lineStart?Be(this.string,this.lineStart,this.tabSize):0)},ln.prototype.match=function(a,c,p){if(typeof a=="string"){var h=function(S){return p?S.toLowerCase():S},g=this.string.substr(this.pos,a.length);if(h(g)==h(a))return c!==!1&&(this.pos+=a.length),!0}else{var b=this.string.slice(this.pos).match(a);return b&&b.index>0?null:(b&&c!==!1&&(this.pos+=b[0].length),b)}},ln.prototype.current=function(){return this.string.slice(this.start,this.pos)},ln.prototype.hideFirstChars=function(a,c){this.lineStart+=a;try{return c()}finally{this.lineStart-=a}},ln.prototype.lookAhead=function(a){var c=this.lineOracle;return c&&c.lookAhead(a)},ln.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function Ge(a,c){if(c-=a.first,c<0||c>=a.size)throw new Error("There is no line "+(c+a.first)+" in the document.");for(var p=a;!p.lines;)for(var h=0;;++h){var g=p.children[h],b=g.chunkSize();if(c<b){p=g;break}c-=b}return p.lines[c]}function Co(a,c,p){var h=[],g=c.line;return a.iter(c.line,p.line+1,function(b){var S=b.text;g==p.line&&(S=S.slice(0,p.ch)),g==c.line&&(S=S.slice(c.ch)),h.push(S),++g}),h}function Rl(a,c,p){var h=[];return a.iter(c,p,function(g){h.push(g.text)}),h}function fi(a,c){var p=c-a.height;if(p)for(var h=a;h;h=h.parent)h.height+=p}function $t(a){if(a.parent==null)return null;for(var c=a.parent,p=Ze(c.lines,a),h=c.parent;h;c=h,h=h.parent)for(var g=0;h.children[g]!=c;++g)p+=h.children[g].chunkSize();return p+c.first}function Xi(a,c){var p=a.first;e:do{for(var h=0;h<a.children.length;++h){var g=a.children[h],b=g.height;if(c<b){a=g;continue e}c-=b,p+=g.chunkSize()}return p}while(!a.lines);for(var S=0;S<a.lines.length;++S){var T=a.lines[S],M=T.height;if(c<M)break;c-=M}return p+S}function V(a,c){return c>=a.first&&c<a.first+a.size}function re(a,c){return String(a.lineNumberFormatter(c+a.firstLineNumber))}function se(a,c,p){if(p===void 0&&(p=null),!(this instanceof se))return new se(a,c,p);this.line=a,this.ch=c,this.sticky=p}function we(a,c){return a.line-c.line||a.ch-c.ch}function ft(a,c){return a.sticky==c.sticky&&we(a,c)==0}function At(a){return se(a.line,a.ch)}function It(a,c){return we(a,c)<0?c:a}function Cn(a,c){return we(a,c)<0?a:c}function Jr(a,c){return Math.max(a.first,Math.min(c,a.first+a.size-1))}function dt(a,c){if(c.line<a.first)return se(a.first,0);var p=a.first+a.size-1;return c.line>p?se(p,Ge(a,p).text.length):VN(c,Ge(a,c.line).text.length)}function VN(a,c){var p=a.ch;return p==null||p>c?se(a.line,c):p<0?se(a.line,0):a}function Jw(a,c){for(var p=[],h=0;h<c.length;h++)p[h]=dt(a,c[h]);return p}var Gd=function(a,c){this.state=a,this.lookAhead=c},Zi=function(a,c,p,h){this.state=c,this.doc=a,this.line=p,this.maxLookAhead=h||0,this.baseTokens=null,this.baseTokenPos=1};Zi.prototype.lookAhead=function(a){var c=this.doc.getLine(this.line+a);return c!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),c},Zi.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Zi.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Zi.fromSaved=function(a,c,p){return c instanceof Gd?new Zi(a,So(a.mode,c.state),p,c.lookAhead):new Zi(a,So(a.mode,c),p)},Zi.prototype.save=function(a){var c=a!==!1?So(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Gd(c,this.maxLookAhead):c};function Xw(a,c,p,h){var g=[a.state.modeGen],b={};rk(a,c.text,a.doc.mode,p,function(B,J){return g.push(B,J)},b,h);for(var S=p.state,T=function(B){p.baseTokens=g;var J=a.state.overlays[B],te=1,fe=0;p.state=!0,rk(a,c.text,J.mode,p,function(ue,ke){for(var Ce=te;fe<ue;){var Me=g[te];Me>ue&&g.splice(te,1,ue,g[te+1],Me),te+=2,fe=Math.min(ue,Me)}if(ke)if(J.opaque)g.splice(Ce,te-Ce,ue,"overlay "+ke),te=Ce+2;else for(;Ce<te;Ce+=2){var De=g[Ce+1];g[Ce+1]=(De?De+" ":"")+"overlay "+ke}},b),p.state=S,p.baseTokens=null,p.baseTokenPos=1},M=0;M<a.state.overlays.length;++M)T(M);return{styles:g,classes:b.bgClass||b.textClass?b:null}}function Zw(a,c,p){if(!c.styles||c.styles[0]!=a.state.modeGen){var h=vc(a,$t(c)),g=c.text.length>a.options.maxHighlightLength&&So(a.doc.mode,h.state),b=Xw(a,c,h);g&&(h.state=g),c.stateAfter=h.save(!g),c.styles=b.styles,b.classes?c.styleClasses=b.classes:c.styleClasses&&(c.styleClasses=null),p===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return c.styles}function vc(a,c,p){var h=a.doc,g=a.display;if(!h.mode.startState)return new Zi(h,!0,c);var b=jN(a,c,p),S=b>h.first&&Ge(h,b-1).stateAfter,T=S?Zi.fromSaved(h,S,b):new Zi(h,gc(h.mode),b);return h.iter(b,c,function(M){hv(a,M.text,T);var B=T.line;M.stateAfter=B==c-1||B%5==0||B>=g.viewFrom&&B<g.viewTo?T.save():null,T.nextLine()}),p&&(h.modeFrontier=T.line),T}function hv(a,c,p,h){var g=a.doc.mode,b=new ln(c,a.options.tabSize,p);for(b.start=b.pos=h||0,c==""&&Qw(g,p.state);!b.eol();)pv(g,b,p.state),b.start=b.pos}function Qw(a,c){if(a.blankLine)return a.blankLine(c);if(a.innerMode){var p=ds(a,c);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function pv(a,c,p,h){for(var g=0;g<10;g++){h&&(h[0]=ds(a,p).mode);var b=a.token(c,p);if(c.pos>c.start)return b}throw new Error("Mode "+a.name+" failed to advance stream.")}var ek=function(a,c,p){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=c||null,this.state=p};function tk(a,c,p,h){var g=a.doc,b=g.mode,S;c=dt(g,c);var T=Ge(g,c.line),M=vc(a,c.line,p),B=new ln(T.text,a.options.tabSize,M),J;for(h&&(J=[]);(h||B.pos<c.ch)&&!B.eol();)B.start=B.pos,S=pv(b,B,M.state),h&&J.push(new ek(B,S,So(g.mode,M.state)));return h?J:new ek(B,S,M.state)}function nk(a,c){if(a)for(;;){var p=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;a=a.slice(0,p.index)+a.slice(p.index+p[0].length);var h=p[1]?"bgClass":"textClass";c[h]==null?c[h]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(c[h])||(c[h]+=" "+p[2])}return a}function rk(a,c,p,h,g,b,S){var T=p.flattenSpans;T==null&&(T=a.options.flattenSpans);var M=0,B=null,J=new ln(c,a.options.tabSize,h),te,fe=a.options.addModeClass&&[null];for(c==""&&nk(Qw(p,h.state),b);!J.eol();){if(J.pos>a.options.maxHighlightLength?(T=!1,S&&hv(a,c,h,J.pos),J.pos=c.length,te=null):te=nk(pv(p,J,h.state,fe),b),fe){var ue=fe[0].name;ue&&(te="m-"+(te?ue+" "+te:ue))}if(!T||B!=te){for(;M<J.start;)M=Math.min(J.start,M+5e3),g(M,B);B=te}J.start=J.pos}for(;M<J.pos;){var ke=Math.min(J.pos,M+5e3);g(ke,B),M=ke}}function jN(a,c,p){for(var h,g,b=a.doc,S=p?-1:c-(a.doc.mode.innerMode?1e3:100),T=c;T>S;--T){if(T<=b.first)return b.first;var M=Ge(b,T-1),B=M.stateAfter;if(B&&(!p||T+(B instanceof Gd?B.lookAhead:0)<=b.modeFrontier))return T;var J=Be(M.text,null,a.options.tabSize);(g==null||h>J)&&(g=T-1,h=J)}return g}function WN(a,c){if(a.modeFrontier=Math.min(a.modeFrontier,c),!(a.highlightFrontier<c-10)){for(var p=a.first,h=c-1;h>p;h--){var g=Ge(a,h).stateAfter;if(g&&(!(g instanceof Gd)||h+g.lookAhead<c)){p=h+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,p)}}var ik=!1,To=!1;function UN(){ik=!0}function qN(){To=!0}function Yd(a,c,p){this.marker=a,this.from=c,this.to=p}function yc(a,c){if(a)for(var p=0;p<a.length;++p){var h=a[p];if(h.marker==c)return h}}function KN(a,c){for(var p,h=0;h<a.length;++h)a[h]!=c&&(p||(p=[])).push(a[h]);return p}function GN(a,c,p){var h=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));h&&a.markedSpans&&h.has(a.markedSpans)?a.markedSpans.push(c):(a.markedSpans=a.markedSpans?a.markedSpans.concat([c]):[c],h&&h.add(a.markedSpans)),c.marker.attachLine(a)}function YN(a,c,p){var h;if(a)for(var g=0;g<a.length;++g){var b=a[g],S=b.marker,T=b.from==null||(S.inclusiveLeft?b.from<=c:b.from<c);if(T||b.from==c&&S.type=="bookmark"&&(!p||!b.marker.insertLeft)){var M=b.to==null||(S.inclusiveRight?b.to>=c:b.to>c);(h||(h=[])).push(new Yd(S,b.from,M?null:b.to))}}return h}function JN(a,c,p){var h;if(a)for(var g=0;g<a.length;++g){var b=a[g],S=b.marker,T=b.to==null||(S.inclusiveRight?b.to>=c:b.to>c);if(T||b.from==c&&S.type=="bookmark"&&(!p||b.marker.insertLeft)){var M=b.from==null||(S.inclusiveLeft?b.from<=c:b.from<c);(h||(h=[])).push(new Yd(S,M?null:b.from-c,b.to==null?null:b.to-c))}}return h}function mv(a,c){if(c.full)return null;var p=V(a,c.from.line)&&Ge(a,c.from.line).markedSpans,h=V(a,c.to.line)&&Ge(a,c.to.line).markedSpans;if(!p&&!h)return null;var g=c.from.ch,b=c.to.ch,S=we(c.from,c.to)==0,T=YN(p,g,S),M=JN(h,b,S),B=c.text.length==1,J=G(c.text).length+(B?g:0);if(T)for(var te=0;te<T.length;++te){var fe=T[te];if(fe.to==null){var ue=yc(M,fe.marker);ue?B&&(fe.to=ue.to==null?null:ue.to+J):fe.to=g}}if(M)for(var ke=0;ke<M.length;++ke){var Ce=M[ke];if(Ce.to!=null&&(Ce.to+=J),Ce.from==null){var Me=yc(T,Ce.marker);Me||(Ce.from=J,B&&(T||(T=[])).push(Ce))}else Ce.from+=J,B&&(T||(T=[])).push(Ce)}T&&(T=ok(T)),M&&M!=T&&(M=ok(M));var De=[T];if(!B){var $e=c.text.length-2,Re;if($e>0&&T)for(var Ve=0;Ve<T.length;++Ve)T[Ve].to==null&&(Re||(Re=[])).push(new Yd(T[Ve].marker,null,null));for(var nt=0;nt<$e;++nt)De.push(Re);De.push(M)}return De}function ok(a){for(var c=0;c<a.length;++c){var p=a[c];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&a.splice(c--,1)}return a.length?a:null}function XN(a,c,p){var h=null;if(a.iter(c.line,p.line+1,function(ue){if(ue.markedSpans)for(var ke=0;ke<ue.markedSpans.length;++ke){var Ce=ue.markedSpans[ke].marker;Ce.readOnly&&(!h||Ze(h,Ce)==-1)&&(h||(h=[])).push(Ce)}}),!h)return null;for(var g=[{from:c,to:p}],b=0;b<h.length;++b)for(var S=h[b],T=S.find(0),M=0;M<g.length;++M){var B=g[M];if(!(we(B.to,T.from)<0||we(B.from,T.to)>0)){var J=[M,1],te=we(B.from,T.from),fe=we(B.to,T.to);(te<0||!S.inclusiveLeft&&!te)&&J.push({from:B.from,to:T.from}),(fe>0||!S.inclusiveRight&&!fe)&&J.push({from:T.to,to:B.to}),g.splice.apply(g,J),M+=J.length-3}}return g}function sk(a){var c=a.markedSpans;if(c){for(var p=0;p<c.length;++p)c[p].marker.detachLine(a);a.markedSpans=null}}function ak(a,c){if(c){for(var p=0;p<c.length;++p)c[p].marker.attachLine(a);a.markedSpans=c}}function Jd(a){return a.inclusiveLeft?-1:0}function Xd(a){return a.inclusiveRight?1:0}function gv(a,c){var p=a.lines.length-c.lines.length;if(p!=0)return p;var h=a.find(),g=c.find(),b=we(h.from,g.from)||Jd(a)-Jd(c);if(b)return-b;var S=we(h.to,g.to)||Xd(a)-Xd(c);return S||c.id-a.id}function lk(a,c){var p=To&&a.markedSpans,h;if(p)for(var g=void 0,b=0;b<p.length;++b)g=p[b],g.marker.collapsed&&(c?g.from:g.to)==null&&(!h||gv(h,g.marker)<0)&&(h=g.marker);return h}function uk(a){return lk(a,!0)}function Zd(a){return lk(a,!1)}function ZN(a,c){var p=To&&a.markedSpans,h;if(p)for(var g=0;g<p.length;++g){var b=p[g];b.marker.collapsed&&(b.from==null||b.from<c)&&(b.to==null||b.to>c)&&(!h||gv(h,b.marker)<0)&&(h=b.marker)}return h}function ck(a,c,p,h,g){var b=Ge(a,c),S=To&&b.markedSpans;if(S)for(var T=0;T<S.length;++T){var M=S[T];if(M.marker.collapsed){var B=M.marker.find(0),J=we(B.from,p)||Jd(M.marker)-Jd(g),te=we(B.to,h)||Xd(M.marker)-Xd(g);if(!(J>=0&&te<=0||J<=0&&te>=0)&&(J<=0&&(M.marker.inclusiveRight&&g.inclusiveLeft?we(B.to,p)>=0:we(B.to,p)>0)||J>=0&&(M.marker.inclusiveRight&&g.inclusiveLeft?we(B.from,h)<=0:we(B.from,h)<0)))return!0}}}function Ti(a){for(var c;c=uk(a);)a=c.find(-1,!0).line;return a}function QN(a){for(var c;c=Zd(a);)a=c.find(1,!0).line;return a}function eI(a){for(var c,p;c=Zd(a);)a=c.find(1,!0).line,(p||(p=[])).push(a);return p}function vv(a,c){var p=Ge(a,c),h=Ti(p);return p==h?c:$t(h)}function fk(a,c){if(c>a.lastLine())return c;var p=Ge(a,c),h;if(!hs(a,p))return c;for(;h=Zd(p);)p=h.find(1,!0).line;return $t(p)+1}function hs(a,c){var p=To&&c.markedSpans;if(p){for(var h=void 0,g=0;g<p.length;++g)if(h=p[g],!!h.marker.collapsed){if(h.from==null)return!0;if(!h.marker.widgetNode&&h.from==0&&h.marker.inclusiveLeft&&yv(a,c,h))return!0}}}function yv(a,c,p){if(p.to==null){var h=p.marker.find(1,!0);return yv(a,h.line,yc(h.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==c.text.length)return!0;for(var g=void 0,b=0;b<c.markedSpans.length;++b)if(g=c.markedSpans[b],g.marker.collapsed&&!g.marker.widgetNode&&g.from==p.to&&(g.to==null||g.to!=p.from)&&(g.marker.inclusiveLeft||p.marker.inclusiveRight)&&yv(a,c,g))return!0}function Eo(a){a=Ti(a);for(var c=0,p=a.parent,h=0;h<p.lines.length;++h){var g=p.lines[h];if(g==a)break;c+=g.height}for(var b=p.parent;b;p=b,b=p.parent)for(var S=0;S<b.children.length;++S){var T=b.children[S];if(T==p)break;c+=T.height}return c}function Qd(a){if(a.height==0)return 0;for(var c=a.text.length,p,h=a;p=uk(h);){var g=p.find(0,!0);h=g.from.line,c+=g.from.ch-g.to.ch}for(h=a;p=Zd(h);){var b=p.find(0,!0);c-=h.text.length-b.from.ch,h=b.to.line,c+=h.text.length-b.to.ch}return c}function bv(a){var c=a.display,p=a.doc;c.maxLine=Ge(p,p.first),c.maxLineLength=Qd(c.maxLine),c.maxLineChanged=!0,p.iter(function(h){var g=Qd(h);g>c.maxLineLength&&(c.maxLineLength=g,c.maxLine=h)})}var zl=function(a,c,p){this.text=a,ak(this,c),this.height=p?p(this):1};zl.prototype.lineNo=function(){return $t(this)},Xt(zl);function tI(a,c,p,h){a.text=c,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),sk(a),ak(a,p);var g=h?h(a):1;g!=a.height&&fi(a,g)}function nI(a){a.parent=null,sk(a)}var rI={},iI={};function dk(a,c){if(!a||/^\s*$/.test(a))return null;var p=c.addModeClass?iI:rI;return p[a]||(p[a]=a.replace(/\S+/g,"cm-$&"))}function hk(a,c){var p=ae("span",null,null,d?"padding-right: .1px":null),h={pre:ae("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};c.measure={};for(var g=0;g<=(c.rest?c.rest.length:0);g++){var b=g?c.rest[g-1]:c.line,S=void 0;h.pos=0,h.addToken=sI,Wd(a.display.measure)&&(S=Ae(b,a.doc.direction))&&(h.addToken=lI(h.addToken,S)),h.map=[];var T=c!=a.display.externalMeasured&&$t(b);uI(b,h,Zw(a,b,T)),b.styleClasses&&(b.styleClasses.bgClass&&(h.bgClass=vt(b.styleClasses.bgClass,h.bgClass||"")),b.styleClasses.textClass&&(h.textClass=vt(b.styleClasses.textClass,h.textClass||""))),h.map.length==0&&h.map.push(0,0,h.content.appendChild(dv(a.display.measure))),g==0?(c.measure.map=h.map,c.measure.cache={}):((c.measure.maps||(c.measure.maps=[])).push(h.map),(c.measure.caches||(c.measure.caches=[])).push({}))}if(d){var M=h.content.lastChild;(/\bcm-tab\b/.test(M.className)||M.querySelector&&M.querySelector(".cm-tab"))&&(h.content.className="cm-tab-wrap-hack")}return ot(a,"renderLine",a,c.line,h.pre),h.pre.className&&(h.textClass=vt(h.pre.className,h.textClass||"")),h}function oI(a){var c=D("span","•","cm-invalidchar");return c.title="\\u"+a.charCodeAt(0).toString(16),c.setAttribute("aria-label",c.title),c}function sI(a,c,p,h,g,b,S){if(c){var T=a.splitSpaces?aI(c,a.trailingSpace):c,M=a.cm.state.specialChars,B=!1,J;if(!M.test(c))a.col+=c.length,J=document.createTextNode(T),a.map.push(a.pos,a.pos+c.length,J),u&&f<9&&(B=!0),a.pos+=c.length;else{J=document.createDocumentFragment();for(var te=0;;){M.lastIndex=te;var fe=M.exec(c),ue=fe?fe.index-te:c.length-te;if(ue){var ke=document.createTextNode(T.slice(te,te+ue));u&&f<9?J.appendChild(D("span",[ke])):J.appendChild(ke),a.map.push(a.pos,a.pos+ue,ke),a.col+=ue,a.pos+=ue}if(!fe)break;te+=ue+1;var Ce=void 0;if(fe[0]=="	"){var Me=a.cm.options.tabSize,De=Me-a.col%Me;Ce=J.appendChild(D("span",xe(De),"cm-tab")),Ce.setAttribute("role","presentation"),Ce.setAttribute("cm-text","	"),a.col+=De}else fe[0]=="\r"||fe[0]==`
`?(Ce=J.appendChild(D("span",fe[0]=="\r"?"␍":"␤","cm-invalidchar")),Ce.setAttribute("cm-text",fe[0]),a.col+=1):(Ce=a.cm.options.specialCharPlaceholder(fe[0]),Ce.setAttribute("cm-text",fe[0]),u&&f<9?J.appendChild(D("span",[Ce])):J.appendChild(Ce),a.col+=1);a.map.push(a.pos,a.pos+1,Ce),a.pos++}}if(a.trailingSpace=T.charCodeAt(c.length-1)==32,p||h||g||B||b||S){var $e=p||"";h&&($e+=h),g&&($e+=g);var Re=D("span",[J],$e,b);if(S)for(var Ve in S)S.hasOwnProperty(Ve)&&Ve!="style"&&Ve!="class"&&Re.setAttribute(Ve,S[Ve]);return a.content.appendChild(Re)}a.content.appendChild(J)}}function aI(a,c){if(a.length>1&&!/  /.test(a))return a;for(var p=c,h="",g=0;g<a.length;g++){var b=a.charAt(g);b==" "&&p&&(g==a.length-1||a.charCodeAt(g+1)==32)&&(b=" "),h+=b,p=b==" "}return h}function lI(a,c){return function(p,h,g,b,S,T,M){g=g?g+" cm-force-border":"cm-force-border";for(var B=p.pos,J=B+h.length;;){for(var te=void 0,fe=0;fe<c.length&&(te=c[fe],!(te.to>B&&te.from<=B));fe++);if(te.to>=J)return a(p,h,g,b,S,T,M);a(p,h.slice(0,te.to-B),g,b,null,T,M),b=null,h=h.slice(te.to-B),B=te.to}}}function pk(a,c,p,h){var g=!h&&p.widgetNode;g&&a.map.push(a.pos,a.pos+c,g),!h&&a.cm.display.input.needsContentAttribute&&(g||(g=a.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",p.id)),g&&(a.cm.display.input.setUneditable(g),a.content.appendChild(g)),a.pos+=c,a.trailingSpace=!1}function uI(a,c,p){var h=a.markedSpans,g=a.text,b=0;if(!h){for(var S=1;S<p.length;S+=2)c.addToken(c,g.slice(b,b=p[S]),dk(p[S+1],c.cm.options));return}for(var T=g.length,M=0,B=1,J="",te,fe,ue=0,ke,Ce,Me,De,$e;;){if(ue==M){ke=Ce=Me=fe="",$e=null,De=null,ue=1/0;for(var Re=[],Ve=void 0,nt=0;nt<h.length;++nt){var et=h[nt],St=et.marker;if(St.type=="bookmark"&&et.from==M&&St.widgetNode)Re.push(St);else if(et.from<=M&&(et.to==null||et.to>M||St.collapsed&&et.to==M&&et.from==M)){if(et.to!=null&&et.to!=M&&ue>et.to&&(ue=et.to,Ce=""),St.className&&(ke+=" "+St.className),St.css&&(fe=(fe?fe+";":"")+St.css),St.startStyle&&et.from==M&&(Me+=" "+St.startStyle),St.endStyle&&et.to==ue&&(Ve||(Ve=[])).push(St.endStyle,et.to),St.title&&(($e||($e={})).title=St.title),St.attributes)for(var Yt in St.attributes)($e||($e={}))[Yt]=St.attributes[Yt];St.collapsed&&(!De||gv(De.marker,St)<0)&&(De=et)}else et.from>M&&ue>et.from&&(ue=et.from)}if(Ve)for(var Pn=0;Pn<Ve.length;Pn+=2)Ve[Pn+1]==ue&&(Ce+=" "+Ve[Pn]);if(!De||De.from==M)for(var sn=0;sn<Re.length;++sn)pk(c,0,Re[sn]);if(De&&(De.from||0)==M){if(pk(c,(De.to==null?T+1:De.to)-M,De.marker,De.from==null),De.to==null)return;De.to==M&&(De=!1)}}if(M>=T)break;for(var Nr=Math.min(T,ue);;){if(J){var wr=M+J.length;if(!De){var wn=wr>Nr?J.slice(0,Nr-M):J;c.addToken(c,wn,te?te+ke:ke,Me,M+wn.length==ue?Ce:"",fe,$e)}if(wr>=Nr){J=J.slice(Nr-M),M=Nr;break}M=wr,Me=""}J=g.slice(b,b=p[B++]),te=dk(p[B++],c.cm.options)}}}function mk(a,c,p){this.line=c,this.rest=eI(c),this.size=this.rest?$t(G(this.rest))-p+1:1,this.node=this.text=null,this.hidden=hs(a,c)}function eh(a,c,p){for(var h=[],g,b=c;b<p;b=g){var S=new mk(a.doc,Ge(a.doc,b),b);g=b+S.size,h.push(S)}return h}var Bl=null;function cI(a){Bl?Bl.ops.push(a):a.ownsGroup=Bl={ops:[a],delayedCallbacks:[]}}function fI(a){var c=a.delayedCallbacks,p=0;do{for(;p<c.length;p++)c[p].call(null);for(var h=0;h<a.ops.length;h++){var g=a.ops[h];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(p<c.length)}function dI(a,c){var p=a.ownsGroup;if(p)try{fI(p)}finally{Bl=null,c(p)}}var bc=null;function Ln(a,c){var p=Je(a,c);if(p.length){var h=Array.prototype.slice.call(arguments,2),g;Bl?g=Bl.delayedCallbacks:bc?g=bc:(g=bc=[],setTimeout(hI,0));for(var b=function(T){g.push(function(){return p[T].apply(null,h)})},S=0;S<p.length;++S)b(S)}}function hI(){var a=bc;bc=null;for(var c=0;c<a.length;++c)a[c]()}function gk(a,c,p,h){for(var g=0;g<c.changes.length;g++){var b=c.changes[g];b=="text"?mI(a,c):b=="gutter"?yk(a,c,p,h):b=="class"?_v(a,c):b=="widget"&&gI(a,c,h)}c.changes=null}function _c(a){return a.node==a.text&&(a.node=D("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),u&&f<8&&(a.node.style.zIndex=2)),a.node}function pI(a,c){var p=c.bgClass?c.bgClass+" "+(c.line.bgClass||""):c.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),c.background)p?c.background.className=p:(c.background.parentNode.removeChild(c.background),c.background=null);else if(p){var h=_c(c);c.background=h.insertBefore(D("div",null,p),h.firstChild),a.display.input.setUneditable(c.background)}}function vk(a,c){var p=a.display.externalMeasured;return p&&p.line==c.line?(a.display.externalMeasured=null,c.measure=p.measure,p.built):hk(a,c)}function mI(a,c){var p=c.text.className,h=vk(a,c);c.text==c.node&&(c.node=h.pre),c.text.parentNode.replaceChild(h.pre,c.text),c.text=h.pre,h.bgClass!=c.bgClass||h.textClass!=c.textClass?(c.bgClass=h.bgClass,c.textClass=h.textClass,_v(a,c)):p&&(c.text.className=p)}function _v(a,c){pI(a,c),c.line.wrapClass?_c(c).className=c.line.wrapClass:c.node!=c.text&&(c.node.className="");var p=c.textClass?c.textClass+" "+(c.line.textClass||""):c.line.textClass;c.text.className=p||""}function yk(a,c,p,h){if(c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null),c.gutterBackground&&(c.node.removeChild(c.gutterBackground),c.gutterBackground=null),c.line.gutterClass){var g=_c(c);c.gutterBackground=D("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(a.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px; width: "+h.gutterTotalWidth+"px"),a.display.input.setUneditable(c.gutterBackground),g.insertBefore(c.gutterBackground,c.text)}var b=c.line.gutterMarkers;if(a.options.lineNumbers||b){var S=_c(c),T=c.gutter=D("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px");if(T.setAttribute("aria-hidden","true"),a.display.input.setUneditable(T),S.insertBefore(T,c.text),c.line.gutterClass&&(T.className+=" "+c.line.gutterClass),a.options.lineNumbers&&(!b||!b["CodeMirror-linenumbers"])&&(c.lineNumber=T.appendChild(D("div",re(a.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+h.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),b)for(var M=0;M<a.display.gutterSpecs.length;++M){var B=a.display.gutterSpecs[M].className,J=b.hasOwnProperty(B)&&b[B];J&&T.appendChild(D("div",[J],"CodeMirror-gutter-elt","left: "+h.gutterLeft[B]+"px; width: "+h.gutterWidth[B]+"px"))}}}function gI(a,c,p){c.alignable&&(c.alignable=null);for(var h=R("CodeMirror-linewidget"),g=c.node.firstChild,b=void 0;g;g=b)b=g.nextSibling,h.test(g.className)&&c.node.removeChild(g);bk(a,c,p)}function vI(a,c,p,h){var g=vk(a,c);return c.text=c.node=g.pre,g.bgClass&&(c.bgClass=g.bgClass),g.textClass&&(c.textClass=g.textClass),_v(a,c),yk(a,c,p,h),bk(a,c,h),c.node}function bk(a,c,p){if(_k(a,c.line,c,p,!0),c.rest)for(var h=0;h<c.rest.length;h++)_k(a,c.rest[h],c,p,!1)}function _k(a,c,p,h,g){if(c.widgets)for(var b=_c(p),S=0,T=c.widgets;S<T.length;++S){var M=T[S],B=D("div",[M.node],"CodeMirror-linewidget"+(M.className?" "+M.className:""));M.handleMouseEvents||B.setAttribute("cm-ignore-events","true"),yI(M,B,p,h),a.display.input.setUneditable(B),g&&M.above?b.insertBefore(B,p.gutter||p.text):b.appendChild(B),Ln(M,"redraw")}}function yI(a,c,p,h){if(a.noHScroll){(p.alignable||(p.alignable=[])).push(c);var g=h.wrapperWidth;c.style.left=h.fixedPos+"px",a.coverGutter||(g-=h.gutterTotalWidth,c.style.paddingLeft=h.gutterTotalWidth+"px"),c.style.width=g+"px"}a.coverGutter&&(c.style.zIndex=5,c.style.position="relative",a.noHScroll||(c.style.marginLeft=-h.gutterTotalWidth+"px"))}function wc(a){if(a.height!=null)return a.height;var c=a.doc.cm;if(!c)return 0;if(!ve(document.body,a.node)){var p="position: relative;";a.coverGutter&&(p+="margin-left: -"+c.display.gutters.offsetWidth+"px;"),a.noHScroll&&(p+="width: "+c.display.wrapper.clientWidth+"px;"),oe(c.display.measure,D("div",[a.node],null,p))}return a.height=a.node.parentNode.offsetHeight}function Ao(a,c){for(var p=Sn(c);p!=a.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==a.sizer&&p!=a.mover)return!0}function th(a){return a.lineSpace.offsetTop}function wv(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function wk(a){if(a.cachedPaddingH)return a.cachedPaddingH;var c=oe(a.measure,D("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,h={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(h.left)&&!isNaN(h.right)&&(a.cachedPaddingH=h),h}function Qi(a){return Ke-a.display.nativeBarWidth}function va(a){return a.display.scroller.clientWidth-Qi(a)-a.display.barWidth}function kv(a){return a.display.scroller.clientHeight-Qi(a)-a.display.barHeight}function bI(a,c,p){var h=a.options.lineWrapping,g=h&&va(a);if(!c.measure.heights||h&&c.measure.width!=g){var b=c.measure.heights=[];if(h){c.measure.width=g;for(var S=c.text.firstChild.getClientRects(),T=0;T<S.length-1;T++){var M=S[T],B=S[T+1];Math.abs(M.bottom-B.bottom)>2&&b.push((M.bottom+B.top)/2-p.top)}}b.push(p.bottom-p.top)}}function kk(a,c,p){if(a.line==c)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var h=0;h<a.rest.length;h++)if(a.rest[h]==c)return{map:a.measure.maps[h],cache:a.measure.caches[h]};for(var g=0;g<a.rest.length;g++)if($t(a.rest[g])>p)return{map:a.measure.maps[g],cache:a.measure.caches[g],before:!0}}}function _I(a,c){c=Ti(c);var p=$t(c),h=a.display.externalMeasured=new mk(a.doc,c,p);h.lineN=p;var g=h.built=hk(a,h);return h.text=g.pre,oe(a.display.lineMeasure,g.pre),h}function xk(a,c,p,h){return eo(a,$l(a,c),p,h)}function xv(a,c){if(c>=a.display.viewFrom&&c<a.display.viewTo)return a.display.view[_a(a,c)];var p=a.display.externalMeasured;if(p&&c>=p.lineN&&c<p.lineN+p.size)return p}function $l(a,c){var p=$t(c),h=xv(a,p);h&&!h.text?h=null:h&&h.changes&&(gk(a,h,p,Av(a)),a.curOp.forceUpdate=!0),h||(h=_I(a,c));var g=kk(h,c,p);return{line:c,view:h,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function eo(a,c,p,h,g){c.before&&(p=-1);var b=p+(h||""),S;return c.cache.hasOwnProperty(b)?S=c.cache[b]:(c.rect||(c.rect=c.view.text.getBoundingClientRect()),c.hasHeights||(bI(a,c.view,c.rect),c.hasHeights=!0),S=kI(a,c,p,h),S.bogus||(c.cache[b]=S)),{left:S.left,right:S.right,top:g?S.rtop:S.top,bottom:g?S.rbottom:S.bottom}}var Sk={left:0,right:0,top:0,bottom:0};function Ck(a,c,p){for(var h,g,b,S,T,M,B=0;B<a.length;B+=3)if(T=a[B],M=a[B+1],c<T?(g=0,b=1,S="left"):c<M?(g=c-T,b=g+1):(B==a.length-3||c==M&&a[B+3]>c)&&(b=M-T,g=b-1,c>=M&&(S="right")),g!=null){if(h=a[B+2],T==M&&p==(h.insertLeft?"left":"right")&&(S=p),p=="left"&&g==0)for(;B&&a[B-2]==a[B-3]&&a[B-1].insertLeft;)h=a[(B-=3)+2],S="left";if(p=="right"&&g==M-T)for(;B<a.length-3&&a[B+3]==a[B+4]&&!a[B+5].insertLeft;)h=a[(B+=3)+2],S="right";break}return{node:h,start:g,end:b,collapse:S,coverStart:T,coverEnd:M}}function wI(a,c){var p=Sk;if(c=="left")for(var h=0;h<a.length&&(p=a[h]).left==p.right;h++);else for(var g=a.length-1;g>=0&&(p=a[g]).left==p.right;g--);return p}function kI(a,c,p,h){var g=Ck(c.map,p,h),b=g.node,S=g.start,T=g.end,M=g.collapse,B;if(b.nodeType==3){for(var J=0;J<4;J++){for(;S&&ye(c.line.text.charAt(g.coverStart+S));)--S;for(;g.coverStart+T<g.coverEnd&&ye(c.line.text.charAt(g.coverStart+T));)++T;if(u&&f<9&&S==0&&T==g.coverEnd-g.coverStart?B=b.parentNode.getBoundingClientRect():B=wI(ce(b,S,T).getClientRects(),h),B.left||B.right||S==0)break;T=S,S=S-1,M="right"}u&&f<11&&(B=xI(a.display.measure,B))}else{S>0&&(M=h="right");var te;a.options.lineWrapping&&(te=b.getClientRects()).length>1?B=te[h=="right"?te.length-1:0]:B=b.getBoundingClientRect()}if(u&&f<9&&!S&&(!B||!B.left&&!B.right)){var fe=b.parentNode.getClientRects()[0];fe?B={left:fe.left,right:fe.left+Fl(a.display),top:fe.top,bottom:fe.bottom}:B=Sk}for(var ue=B.top-c.rect.top,ke=B.bottom-c.rect.top,Ce=(ue+ke)/2,Me=c.view.measure.heights,De=0;De<Me.length-1&&!(Ce<Me[De]);De++);var $e=De?Me[De-1]:0,Re=Me[De],Ve={left:(M=="right"?B.right:B.left)-c.rect.left,right:(M=="left"?B.left:B.right)-c.rect.left,top:$e,bottom:Re};return!B.left&&!B.right&&(Ve.bogus=!0),a.options.singleCursorHeightPerLine||(Ve.rtop=ue,Ve.rbottom=ke),Ve}function xI(a,c){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Ud(a))return c;var p=screen.logicalXDPI/screen.deviceXDPI,h=screen.logicalYDPI/screen.deviceYDPI;return{left:c.left*p,right:c.right*p,top:c.top*h,bottom:c.bottom*h}}function Tk(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var c=0;c<a.rest.length;c++)a.measure.caches[c]={}}function Ek(a){a.display.externalMeasure=null,K(a.display.lineMeasure);for(var c=0;c<a.display.view.length;c++)Tk(a.display.view[c])}function kc(a){Ek(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Ak(a){return v&&N?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function Ok(a){return v&&N?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function Sv(a){var c=Ti(a),p=c.widgets,h=0;if(p)for(var g=0;g<p.length;++g)p[g].above&&(h+=wc(p[g]));return h}function nh(a,c,p,h,g){if(!g){var b=Sv(c);p.top+=b,p.bottom+=b}if(h=="line")return p;h||(h="local");var S=Eo(c);if(h=="local"?S+=th(a.display):S-=a.display.viewOffset,h=="page"||h=="window"){var T=a.display.lineSpace.getBoundingClientRect();S+=T.top+(h=="window"?0:Ok(bt(a)));var M=T.left+(h=="window"?0:Ak(bt(a)));p.left+=M,p.right+=M}return p.top+=S,p.bottom+=S,p}function Mk(a,c,p){if(p=="div")return c;var h=c.left,g=c.top;if(p=="page")h-=Ak(bt(a)),g-=Ok(bt(a));else if(p=="local"||!p){var b=a.display.sizer.getBoundingClientRect();h+=b.left,g+=b.top}var S=a.display.lineSpace.getBoundingClientRect();return{left:h-S.left,top:g-S.top}}function rh(a,c,p,h,g){return h||(h=Ge(a.doc,c.line)),nh(a,h,xk(a,h,c.ch,g),p)}function Ei(a,c,p,h,g,b){h=h||Ge(a.doc,c.line),g||(g=$l(a,h));function S(ke,Ce){var Me=eo(a,g,ke,Ce?"right":"left",b);return Ce?Me.left=Me.right:Me.right=Me.left,nh(a,h,Me,p)}var T=Ae(h,a.doc.direction),M=c.ch,B=c.sticky;if(M>=h.text.length?(M=h.text.length,B="before"):M<=0&&(M=0,B="after"),!T)return S(B=="before"?M-1:M,B=="before");function J(ke,Ce,Me){var De=T[Ce],$e=De.level==1;return S(Me?ke-1:ke,$e!=Me)}var te=je(T,M,B),fe=Te,ue=J(M,te,B=="before");return fe!=null&&(ue.other=J(M,fe,B!="before")),ue}function Lk(a,c){var p=0;c=dt(a.doc,c),a.options.lineWrapping||(p=Fl(a.display)*c.ch);var h=Ge(a.doc,c.line),g=Eo(h)+th(a.display);return{left:p,right:p,top:g,bottom:g+h.height}}function Cv(a,c,p,h,g){var b=se(a,c,p);return b.xRel=g,h&&(b.outside=h),b}function Tv(a,c,p){var h=a.doc;if(p+=a.display.viewOffset,p<0)return Cv(h.first,0,null,-1,-1);var g=Xi(h,p),b=h.first+h.size-1;if(g>b)return Cv(h.first+h.size-1,Ge(h,b).text.length,null,1,1);c<0&&(c=0);for(var S=Ge(h,g);;){var T=SI(a,S,g,c,p),M=ZN(S,T.ch+(T.xRel>0||T.outside>0?1:0));if(!M)return T;var B=M.find(1);if(B.line==g)return B;S=Ge(h,g=B.line)}}function Nk(a,c,p,h){h-=Sv(c);var g=c.text.length,b=X(function(S){return eo(a,p,S-1).bottom<=h},g,0);return g=X(function(S){return eo(a,p,S).top>h},b,g),{begin:b,end:g}}function Ik(a,c,p,h){p||(p=$l(a,c));var g=nh(a,c,eo(a,p,h),"line").top;return Nk(a,c,p,g)}function Ev(a,c,p,h){return a.bottom<=p?!1:a.top>p?!0:(h?a.left:a.right)>c}function SI(a,c,p,h,g){g-=Eo(c);var b=$l(a,c),S=Sv(c),T=0,M=c.text.length,B=!0,J=Ae(c,a.doc.direction);if(J){var te=(a.options.lineWrapping?TI:CI)(a,c,p,b,J,h,g);B=te.level!=1,T=B?te.from:te.to-1,M=B?te.to:te.from-1}var fe=null,ue=null,ke=X(function(nt){var et=eo(a,b,nt);return et.top+=S,et.bottom+=S,Ev(et,h,g,!1)?(et.top<=g&&et.left<=h&&(fe=nt,ue=et),!0):!1},T,M),Ce,Me,De=!1;if(ue){var $e=h-ue.left<ue.right-h,Re=$e==B;ke=fe+(Re?0:1),Me=Re?"after":"before",Ce=$e?ue.left:ue.right}else{!B&&(ke==M||ke==T)&&ke++,Me=ke==0?"after":ke==c.text.length?"before":eo(a,b,ke-(B?1:0)).bottom+S<=g==B?"after":"before";var Ve=Ei(a,se(p,ke,Me),"line",c,b);Ce=Ve.left,De=g<Ve.top?-1:g>=Ve.bottom?1:0}return ke=Y(c.text,ke,1),Cv(p,ke,Me,De,h-Ce)}function CI(a,c,p,h,g,b,S){var T=X(function(te){var fe=g[te],ue=fe.level!=1;return Ev(Ei(a,se(p,ue?fe.to:fe.from,ue?"before":"after"),"line",c,h),b,S,!0)},0,g.length-1),M=g[T];if(T>0){var B=M.level!=1,J=Ei(a,se(p,B?M.from:M.to,B?"after":"before"),"line",c,h);Ev(J,b,S,!0)&&J.top>S&&(M=g[T-1])}return M}function TI(a,c,p,h,g,b,S){var T=Nk(a,c,h,S),M=T.begin,B=T.end;/\s/.test(c.text.charAt(B-1))&&B--;for(var J=null,te=null,fe=0;fe<g.length;fe++){var ue=g[fe];if(!(ue.from>=B||ue.to<=M)){var ke=ue.level!=1,Ce=eo(a,h,ke?Math.min(B,ue.to)-1:Math.max(M,ue.from)).right,Me=Ce<b?b-Ce+1e9:Ce-b;(!J||te>Me)&&(J=ue,te=Me)}}return J||(J=g[g.length-1]),J.from<M&&(J={from:M,to:J.to,level:J.level}),J.to>B&&(J={from:J.from,to:B,level:J.level}),J}var ya;function Hl(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(ya==null){ya=D("pre",null,"CodeMirror-line-like");for(var c=0;c<49;++c)ya.appendChild(document.createTextNode("x")),ya.appendChild(D("br"));ya.appendChild(document.createTextNode("x"))}oe(a.measure,ya);var p=ya.offsetHeight/50;return p>3&&(a.cachedTextHeight=p),K(a.measure),p||1}function Fl(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var c=D("span","xxxxxxxxxx"),p=D("pre",[c],"CodeMirror-line-like");oe(a.measure,p);var h=c.getBoundingClientRect(),g=(h.right-h.left)/10;return g>2&&(a.cachedCharWidth=g),g||10}function Av(a){for(var c=a.display,p={},h={},g=c.gutters.clientLeft,b=c.gutters.firstChild,S=0;b;b=b.nextSibling,++S){var T=a.display.gutterSpecs[S].className;p[T]=b.offsetLeft+b.clientLeft+g,h[T]=b.clientWidth}return{fixedPos:Ov(c),gutterTotalWidth:c.gutters.offsetWidth,gutterLeft:p,gutterWidth:h,wrapperWidth:c.wrapper.clientWidth}}function Ov(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Pk(a){var c=Hl(a.display),p=a.options.lineWrapping,h=p&&Math.max(5,a.display.scroller.clientWidth/Fl(a.display)-3);return function(g){if(hs(a.doc,g))return 0;var b=0;if(g.widgets)for(var S=0;S<g.widgets.length;S++)g.widgets[S].height&&(b+=g.widgets[S].height);return p?b+(Math.ceil(g.text.length/h)||1)*c:b+c}}function Mv(a){var c=a.doc,p=Pk(a);c.iter(function(h){var g=p(h);g!=h.height&&fi(h,g)})}function ba(a,c,p,h){var g=a.display;if(!p&&Sn(c).getAttribute("cm-not-content")=="true")return null;var b,S,T=g.lineSpace.getBoundingClientRect();try{b=c.clientX-T.left,S=c.clientY-T.top}catch{return null}var M=Tv(a,b,S),B;if(h&&M.xRel>0&&(B=Ge(a.doc,M.line).text).length==M.ch){var J=Be(B,B.length,a.options.tabSize)-B.length;M=se(M.line,Math.max(0,Math.round((b-wk(a.display).left)/Fl(a.display))-J))}return M}function _a(a,c){if(c>=a.display.viewTo||(c-=a.display.viewFrom,c<0))return null;for(var p=a.display.view,h=0;h<p.length;h++)if(c-=p[h].size,c<0)return h}function br(a,c,p,h){c==null&&(c=a.doc.first),p==null&&(p=a.doc.first+a.doc.size),h||(h=0);var g=a.display;if(h&&p<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>c)&&(g.updateLineNumbers=c),a.curOp.viewChanged=!0,c>=g.viewTo)To&&vv(a.doc,c)<g.viewTo&&ms(a);else if(p<=g.viewFrom)To&&fk(a.doc,p+h)>g.viewFrom?ms(a):(g.viewFrom+=h,g.viewTo+=h);else if(c<=g.viewFrom&&p>=g.viewTo)ms(a);else if(c<=g.viewFrom){var b=ih(a,p,p+h,1);b?(g.view=g.view.slice(b.index),g.viewFrom=b.lineN,g.viewTo+=h):ms(a)}else if(p>=g.viewTo){var S=ih(a,c,c,-1);S?(g.view=g.view.slice(0,S.index),g.viewTo=S.lineN):ms(a)}else{var T=ih(a,c,c,-1),M=ih(a,p,p+h,1);T&&M?(g.view=g.view.slice(0,T.index).concat(eh(a,T.lineN,M.lineN)).concat(g.view.slice(M.index)),g.viewTo+=h):ms(a)}var B=g.externalMeasured;B&&(p<B.lineN?B.lineN+=h:c<B.lineN+B.size&&(g.externalMeasured=null))}function ps(a,c,p){a.curOp.viewChanged=!0;var h=a.display,g=a.display.externalMeasured;if(g&&c>=g.lineN&&c<g.lineN+g.size&&(h.externalMeasured=null),!(c<h.viewFrom||c>=h.viewTo)){var b=h.view[_a(a,c)];if(b.node!=null){var S=b.changes||(b.changes=[]);Ze(S,p)==-1&&S.push(p)}}}function ms(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function ih(a,c,p,h){var g=_a(a,c),b,S=a.display.view;if(!To||p==a.doc.first+a.doc.size)return{index:g,lineN:p};for(var T=a.display.viewFrom,M=0;M<g;M++)T+=S[M].size;if(T!=c){if(h>0){if(g==S.length-1)return null;b=T+S[g].size-c,g++}else b=T-c;c+=b,p+=b}for(;vv(a.doc,p)!=p;){if(g==(h<0?0:S.length-1))return null;p+=h*S[g-(h<0?1:0)].size,g+=h}return{index:g,lineN:p}}function EI(a,c,p){var h=a.display,g=h.view;g.length==0||c>=h.viewTo||p<=h.viewFrom?(h.view=eh(a,c,p),h.viewFrom=c):(h.viewFrom>c?h.view=eh(a,c,h.viewFrom).concat(h.view):h.viewFrom<c&&(h.view=h.view.slice(_a(a,c))),h.viewFrom=c,h.viewTo<p?h.view=h.view.concat(eh(a,h.viewTo,p)):h.viewTo>p&&(h.view=h.view.slice(0,_a(a,p)))),h.viewTo=p}function Dk(a){for(var c=a.display.view,p=0,h=0;h<c.length;h++){var g=c[h];!g.hidden&&(!g.node||g.changes)&&++p}return p}function xc(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Rk(a,c){c===void 0&&(c=!0);var p=a.doc,h={},g=h.cursors=document.createDocumentFragment(),b=h.selection=document.createDocumentFragment(),S=a.options.$customCursor;S&&(c=!0);for(var T=0;T<p.sel.ranges.length;T++)if(!(!c&&T==p.sel.primIndex)){var M=p.sel.ranges[T];if(!(M.from().line>=a.display.viewTo||M.to().line<a.display.viewFrom)){var B=M.empty();if(S){var J=S(a,M);J&&Lv(a,J,g)}else(B||a.options.showCursorWhenSelecting)&&Lv(a,M.head,g);B||AI(a,M,b)}}return h}function Lv(a,c,p){var h=Ei(a,c,"div",null,null,!a.options.singleCursorHeightPerLine),g=p.appendChild(D("div"," ","CodeMirror-cursor"));if(g.style.left=h.left+"px",g.style.top=h.top+"px",g.style.height=Math.max(0,h.bottom-h.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var b=rh(a,c,"div",null,null),S=b.right-b.left;g.style.width=(S>0?S:a.defaultCharWidth())+"px"}if(h.other){var T=p.appendChild(D("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));T.style.display="",T.style.left=h.other.left+"px",T.style.top=h.other.top+"px",T.style.height=(h.other.bottom-h.other.top)*.85+"px"}}function oh(a,c){return a.top-c.top||a.left-c.left}function AI(a,c,p){var h=a.display,g=a.doc,b=document.createDocumentFragment(),S=wk(a.display),T=S.left,M=Math.max(h.sizerWidth,va(a)-h.sizer.offsetLeft)-S.right,B=g.direction=="ltr";function J(Re,Ve,nt,et){Ve<0&&(Ve=0),Ve=Math.round(Ve),et=Math.round(et),b.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+Re+`px;
                             top: `+Ve+"px; width: "+(nt??M-Re)+`px;
                             height: `+(et-Ve)+"px"))}function te(Re,Ve,nt){var et=Ge(g,Re),St=et.text.length,Yt,Pn;function sn(wn,kr){return rh(a,se(Re,wn),"div",et,kr)}function Nr(wn,kr,jn){var Tn=Ik(a,et,null,wn),kn=kr=="ltr"==(jn=="after")?"left":"right",un=jn=="after"?Tn.begin:Tn.end-(/\s/.test(et.text.charAt(Tn.end-1))?2:1);return sn(un,kn)[kn]}var wr=Ae(et,g.direction);return de(wr,Ve||0,nt??St,function(wn,kr,jn,Tn){var kn=jn=="ltr",un=sn(wn,kn?"left":"right"),xr=sn(kr-1,kn?"right":"left"),eu=Ve==null&&wn==0,ws=nt==null&&kr==St,Yn=Tn==0,to=!wr||Tn==wr.length-1;if(xr.top-un.top<=3){var Dn=(B?eu:ws)&&Yn,i0=(B?ws:eu)&&to,Lo=Dn?T:(kn?un:xr).left,Ca=i0?M:(kn?xr:un).right;J(Lo,un.top,Ca-Lo,un.bottom)}else{var Ta,ar,tu,o0;kn?(Ta=B&&eu&&Yn?T:un.left,ar=B?M:Nr(wn,jn,"before"),tu=B?T:Nr(kr,jn,"after"),o0=B&&ws&&to?M:xr.right):(Ta=B?Nr(wn,jn,"before"):T,ar=!B&&eu&&Yn?M:un.right,tu=!B&&ws&&to?T:xr.left,o0=B?Nr(kr,jn,"after"):M),J(Ta,un.top,ar-Ta,un.bottom),un.bottom<xr.top&&J(T,un.bottom,null,xr.top),J(tu,xr.top,o0-tu,xr.bottom)}(!Yt||oh(un,Yt)<0)&&(Yt=un),oh(xr,Yt)<0&&(Yt=xr),(!Pn||oh(un,Pn)<0)&&(Pn=un),oh(xr,Pn)<0&&(Pn=xr)}),{start:Yt,end:Pn}}var fe=c.from(),ue=c.to();if(fe.line==ue.line)te(fe.line,fe.ch,ue.ch);else{var ke=Ge(g,fe.line),Ce=Ge(g,ue.line),Me=Ti(ke)==Ti(Ce),De=te(fe.line,fe.ch,Me?ke.text.length+1:null).end,$e=te(ue.line,Me?0:null,ue.ch).start;Me&&(De.top<$e.top-2?(J(De.right,De.top,null,De.bottom),J(T,$e.top,$e.left,$e.bottom)):J(De.right,De.top,$e.left-De.right,De.bottom)),De.bottom<$e.top&&J(T,De.bottom,null,$e.top)}p.appendChild(b)}function Nv(a){if(a.state.focused){var c=a.display;clearInterval(c.blinker);var p=!0;c.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?c.blinker=setInterval(function(){a.hasFocus()||Vl(a),c.cursorDiv.style.visibility=(p=!p)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(c.cursorDiv.style.visibility="hidden")}}function zk(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Pv(a))}function Iv(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&Vl(a))},100)}function Pv(a,c){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(ot(a,"focus",a,c),a.state.focused=!0,qe(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),d&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Nv(a))}function Vl(a,c){a.state.delayingBlurEvent||(a.state.focused&&(ot(a,"blur",a,c),a.state.focused=!1,U(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function sh(a){for(var c=a.display,p=c.lineDiv.offsetTop,h=Math.max(0,c.scroller.getBoundingClientRect().top),g=c.lineDiv.getBoundingClientRect().top,b=0,S=0;S<c.view.length;S++){var T=c.view[S],M=a.options.lineWrapping,B=void 0,J=0;if(!T.hidden){if(g+=T.line.height,u&&f<8){var te=T.node.offsetTop+T.node.offsetHeight;B=te-p,p=te}else{var fe=T.node.getBoundingClientRect();B=fe.bottom-fe.top,!M&&T.text.firstChild&&(J=T.text.firstChild.getBoundingClientRect().right-fe.left-1)}var ue=T.line.height-B;if((ue>.005||ue<-.005)&&(g<h&&(b-=ue),fi(T.line,B),Bk(T.line),T.rest))for(var ke=0;ke<T.rest.length;ke++)Bk(T.rest[ke]);if(J>a.display.sizerWidth){var Ce=Math.ceil(J/Fl(a.display));Ce>a.display.maxLineLength&&(a.display.maxLineLength=Ce,a.display.maxLine=T.line,a.display.maxLineChanged=!0)}}}Math.abs(b)>2&&(c.scroller.scrollTop+=b)}function Bk(a){if(a.widgets)for(var c=0;c<a.widgets.length;++c){var p=a.widgets[c],h=p.node.parentNode;h&&(p.height=h.offsetHeight)}}function ah(a,c,p){var h=p&&p.top!=null?Math.max(0,p.top):a.scroller.scrollTop;h=Math.floor(h-th(a));var g=p&&p.bottom!=null?p.bottom:h+a.wrapper.clientHeight,b=Xi(c,h),S=Xi(c,g);if(p&&p.ensure){var T=p.ensure.from.line,M=p.ensure.to.line;T<b?(b=T,S=Xi(c,Eo(Ge(c,T))+a.wrapper.clientHeight)):Math.min(M,c.lastLine())>=S&&(b=Xi(c,Eo(Ge(c,M))-a.wrapper.clientHeight),S=M)}return{from:b,to:Math.max(S,b+1)}}function OI(a,c){if(!Ct(a,"scrollCursorIntoView")){var p=a.display,h=p.sizer.getBoundingClientRect(),g=null,b=p.wrapper.ownerDocument;if(c.top+h.top<0?g=!0:c.bottom+h.top>(b.defaultView.innerHeight||b.documentElement.clientHeight)&&(g=!1),g!=null&&!k){var S=D("div","​",null,`position: absolute;
                         top: `+(c.top-p.viewOffset-th(a.display))+`px;
                         height: `+(c.bottom-c.top+Qi(a)+p.barHeight)+`px;
                         left: `+c.left+"px; width: "+Math.max(2,c.right-c.left)+"px;");a.display.lineSpace.appendChild(S),S.scrollIntoView(g),a.display.lineSpace.removeChild(S)}}}function MI(a,c,p,h){h==null&&(h=0);var g;!a.options.lineWrapping&&c==p&&(p=c.sticky=="before"?se(c.line,c.ch+1,"before"):c,c=c.ch?se(c.line,c.sticky=="before"?c.ch-1:c.ch,"after"):c);for(var b=0;b<5;b++){var S=!1,T=Ei(a,c),M=!p||p==c?T:Ei(a,p);g={left:Math.min(T.left,M.left),top:Math.min(T.top,M.top)-h,right:Math.max(T.left,M.left),bottom:Math.max(T.bottom,M.bottom)+h};var B=Dv(a,g),J=a.doc.scrollTop,te=a.doc.scrollLeft;if(B.scrollTop!=null&&(Cc(a,B.scrollTop),Math.abs(a.doc.scrollTop-J)>1&&(S=!0)),B.scrollLeft!=null&&(wa(a,B.scrollLeft),Math.abs(a.doc.scrollLeft-te)>1&&(S=!0)),!S)break}return g}function LI(a,c){var p=Dv(a,c);p.scrollTop!=null&&Cc(a,p.scrollTop),p.scrollLeft!=null&&wa(a,p.scrollLeft)}function Dv(a,c){var p=a.display,h=Hl(a.display);c.top<0&&(c.top=0);var g=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:p.scroller.scrollTop,b=kv(a),S={};c.bottom-c.top>b&&(c.bottom=c.top+b);var T=a.doc.height+wv(p),M=c.top<h,B=c.bottom>T-h;if(c.top<g)S.scrollTop=M?0:c.top;else if(c.bottom>g+b){var J=Math.min(c.top,(B?T:c.bottom)-b);J!=g&&(S.scrollTop=J)}var te=a.options.fixedGutter?0:p.gutters.offsetWidth,fe=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:p.scroller.scrollLeft-te,ue=va(a)-p.gutters.offsetWidth,ke=c.right-c.left>ue;return ke&&(c.right=c.left+ue),c.left<10?S.scrollLeft=0:c.left<fe?S.scrollLeft=Math.max(0,c.left+te-(ke?0:10)):c.right>ue+fe-3&&(S.scrollLeft=c.right+(ke?0:10)-ue),S}function Rv(a,c){c!=null&&(lh(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+c)}function jl(a){lh(a);var c=a.getCursor();a.curOp.scrollToPos={from:c,to:c,margin:a.options.cursorScrollMargin}}function Sc(a,c,p){(c!=null||p!=null)&&lh(a),c!=null&&(a.curOp.scrollLeft=c),p!=null&&(a.curOp.scrollTop=p)}function NI(a,c){lh(a),a.curOp.scrollToPos=c}function lh(a){var c=a.curOp.scrollToPos;if(c){a.curOp.scrollToPos=null;var p=Lk(a,c.from),h=Lk(a,c.to);$k(a,p,h,c.margin)}}function $k(a,c,p,h){var g=Dv(a,{left:Math.min(c.left,p.left),top:Math.min(c.top,p.top)-h,right:Math.max(c.right,p.right),bottom:Math.max(c.bottom,p.bottom)+h});Sc(a,g.scrollLeft,g.scrollTop)}function Cc(a,c){Math.abs(a.doc.scrollTop-c)<2||(i||Bv(a,{top:c}),Hk(a,c,!0),i&&Bv(a),Ac(a,100))}function Hk(a,c,p){c=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,c)),!(a.display.scroller.scrollTop==c&&!p)&&(a.doc.scrollTop=c,a.display.scrollbars.setScrollTop(c),a.display.scroller.scrollTop!=c&&(a.display.scroller.scrollTop=c))}function wa(a,c,p,h){c=Math.max(0,Math.min(c,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((p?c==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-c)<2)&&!h)&&(a.doc.scrollLeft=c,Uk(a),a.display.scroller.scrollLeft!=c&&(a.display.scroller.scrollLeft=c),a.display.scrollbars.setScrollLeft(c))}function Tc(a){var c=a.display,p=c.gutters.offsetWidth,h=Math.round(a.doc.height+wv(a.display));return{clientHeight:c.scroller.clientHeight,viewHeight:c.wrapper.clientHeight,scrollWidth:c.scroller.scrollWidth,clientWidth:c.scroller.clientWidth,viewWidth:c.wrapper.clientWidth,barLeft:a.options.fixedGutter?p:0,docHeight:h,scrollHeight:h+Qi(a)+c.barHeight,nativeBarWidth:c.nativeBarWidth,gutterWidth:p}}var ka=function(a,c,p){this.cm=p;var h=this.vert=D("div",[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");h.tabIndex=g.tabIndex=-1,a(h),a(g),me(h,"scroll",function(){h.clientHeight&&c(h.scrollTop,"vertical")}),me(g,"scroll",function(){g.clientWidth&&c(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,u&&f<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ka.prototype.update=function(a){var c=a.scrollWidth>a.clientWidth+1,p=a.scrollHeight>a.clientHeight+1,h=a.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=c?h+"px":"0";var g=a.viewHeight-(c?h:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(c){this.horiz.style.display="block",this.horiz.style.right=p?h+"px":"0",this.horiz.style.left=a.barLeft+"px";var b=a.viewWidth-a.barLeft-(p?h:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+b)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(h==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?h:0,bottom:c?h:0}},ka.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ka.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ka.prototype.zeroWidthHack=function(){var a=H&&!x?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ee,this.disableVert=new Ee},ka.prototype.enableZeroWidthBar=function(a,c,p){a.style.visibility="";function h(){var g=a.getBoundingClientRect(),b=p=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);b!=a?a.style.visibility="hidden":c.set(1e3,h)}c.set(1e3,h)},ka.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var Ec=function(){};Ec.prototype.update=function(){return{bottom:0,right:0}},Ec.prototype.setScrollLeft=function(){},Ec.prototype.setScrollTop=function(){},Ec.prototype.clear=function(){};function Wl(a,c){c||(c=Tc(a));var p=a.display.barWidth,h=a.display.barHeight;Fk(a,c);for(var g=0;g<4&&p!=a.display.barWidth||h!=a.display.barHeight;g++)p!=a.display.barWidth&&a.options.lineWrapping&&sh(a),Fk(a,Tc(a)),p=a.display.barWidth,h=a.display.barHeight}function Fk(a,c){var p=a.display,h=p.scrollbars.update(c);p.sizer.style.paddingRight=(p.barWidth=h.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=h.bottom)+"px",p.heightForcer.style.borderBottom=h.bottom+"px solid transparent",h.right&&h.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=h.bottom+"px",p.scrollbarFiller.style.width=h.right+"px"):p.scrollbarFiller.style.display="",h.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=h.bottom+"px",p.gutterFiller.style.width=c.gutterWidth+"px"):p.gutterFiller.style.display=""}var Vk={native:ka,null:Ec};function jk(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&U(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new Vk[a.options.scrollbarStyle](function(c){a.display.wrapper.insertBefore(c,a.display.scrollbarFiller),me(c,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),c.setAttribute("cm-not-content","true")},function(c,p){p=="horizontal"?wa(a,c):Cc(a,c)},a),a.display.scrollbars.addClass&&qe(a.display.wrapper,a.display.scrollbars.addClass)}var II=0;function xa(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++II,markArrays:null},cI(a.curOp)}function Sa(a){var c=a.curOp;c&&dI(c,function(p){for(var h=0;h<p.ops.length;h++)p.ops[h].cm.curOp=null;PI(p)})}function PI(a){for(var c=a.ops,p=0;p<c.length;p++)DI(c[p]);for(var h=0;h<c.length;h++)RI(c[h]);for(var g=0;g<c.length;g++)zI(c[g]);for(var b=0;b<c.length;b++)BI(c[b]);for(var S=0;S<c.length;S++)$I(c[S])}function DI(a){var c=a.cm,p=c.display;FI(c),a.updateMaxLine&&bv(c),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<p.viewFrom||a.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&c.options.lineWrapping,a.update=a.mustUpdate&&new uh(c,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function RI(a){a.updatedDisplay=a.mustUpdate&&zv(a.cm,a.update)}function zI(a){var c=a.cm,p=c.display;a.updatedDisplay&&sh(c),a.barMeasure=Tc(c),p.maxLineChanged&&!c.options.lineWrapping&&(a.adjustWidthTo=xk(c,p.maxLine,p.maxLine.text.length).left+3,c.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+a.adjustWidthTo+Qi(c)+c.display.barWidth),a.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+a.adjustWidthTo-va(c))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=p.input.prepareSelection())}function BI(a){var c=a.cm;a.adjustWidthTo!=null&&(c.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<c.doc.scrollLeft&&wa(c,Math.min(c.display.scroller.scrollLeft,a.maxScrollLeft),!0),c.display.maxLineChanged=!1);var p=a.focus&&a.focus==ze(bt(c));a.preparedSelection&&c.display.input.showSelection(a.preparedSelection,p),(a.updatedDisplay||a.startHeight!=c.doc.height)&&Wl(c,a.barMeasure),a.updatedDisplay&&Hv(c,a.barMeasure),a.selectionChanged&&Nv(c),c.state.focused&&a.updateInput&&c.display.input.reset(a.typing),p&&zk(a.cm)}function $I(a){var c=a.cm,p=c.display,h=c.doc;if(a.updatedDisplay&&Wk(c,a.update),p.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),a.scrollTop!=null&&Hk(c,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&wa(c,a.scrollLeft,!0,!0),a.scrollToPos){var g=MI(c,dt(h,a.scrollToPos.from),dt(h,a.scrollToPos.to),a.scrollToPos.margin);OI(c,g)}var b=a.maybeHiddenMarkers,S=a.maybeUnhiddenMarkers;if(b)for(var T=0;T<b.length;++T)b[T].lines.length||ot(b[T],"hide");if(S)for(var M=0;M<S.length;++M)S[M].lines.length&&ot(S[M],"unhide");p.wrapper.offsetHeight&&(h.scrollTop=c.display.scroller.scrollTop),a.changeObjs&&ot(c,"changes",c,a.changeObjs),a.update&&a.update.finish()}function Lr(a,c){if(a.curOp)return c();xa(a);try{return c()}finally{Sa(a)}}function Nn(a,c){return function(){if(a.curOp)return c.apply(a,arguments);xa(a);try{return c.apply(a,arguments)}finally{Sa(a)}}}function sr(a){return function(){if(this.curOp)return a.apply(this,arguments);xa(this);try{return a.apply(this,arguments)}finally{Sa(this)}}}function In(a){return function(){var c=this.cm;if(!c||c.curOp)return a.apply(this,arguments);xa(c);try{return a.apply(this,arguments)}finally{Sa(c)}}}function Ac(a,c){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(c,Xe(HI,a))}function HI(a){var c=a.doc;if(!(c.highlightFrontier>=a.display.viewTo)){var p=+new Date+a.options.workTime,h=vc(a,c.highlightFrontier),g=[];c.iter(h.line,Math.min(c.first+c.size,a.display.viewTo+500),function(b){if(h.line>=a.display.viewFrom){var S=b.styles,T=b.text.length>a.options.maxHighlightLength?So(c.mode,h.state):null,M=Xw(a,b,h,!0);T&&(h.state=T),b.styles=M.styles;var B=b.styleClasses,J=M.classes;J?b.styleClasses=J:B&&(b.styleClasses=null);for(var te=!S||S.length!=b.styles.length||B!=J&&(!B||!J||B.bgClass!=J.bgClass||B.textClass!=J.textClass),fe=0;!te&&fe<S.length;++fe)te=S[fe]!=b.styles[fe];te&&g.push(h.line),b.stateAfter=h.save(),h.nextLine()}else b.text.length<=a.options.maxHighlightLength&&hv(a,b.text,h),b.stateAfter=h.line%5==0?h.save():null,h.nextLine();if(+new Date>p)return Ac(a,a.options.workDelay),!0}),c.highlightFrontier=h.line,c.modeFrontier=Math.max(c.modeFrontier,h.line),g.length&&Lr(a,function(){for(var b=0;b<g.length;b++)ps(a,g[b],"text")})}}var uh=function(a,c,p){var h=a.display;this.viewport=c,this.visible=ah(h,a.doc,c),this.editorIsHidden=!h.wrapper.offsetWidth,this.wrapperHeight=h.wrapper.clientHeight,this.wrapperWidth=h.wrapper.clientWidth,this.oldDisplayWidth=va(a),this.force=p,this.dims=Av(a),this.events=[]};uh.prototype.signal=function(a,c){Kt(a,c)&&this.events.push(arguments)},uh.prototype.finish=function(){for(var a=0;a<this.events.length;a++)ot.apply(null,this.events[a])};function FI(a){var c=a.display;!c.scrollbarsClipped&&c.scroller.offsetWidth&&(c.nativeBarWidth=c.scroller.offsetWidth-c.scroller.clientWidth,c.heightForcer.style.height=Qi(a)+"px",c.sizer.style.marginBottom=-c.nativeBarWidth+"px",c.sizer.style.borderRightWidth=Qi(a)+"px",c.scrollbarsClipped=!0)}function VI(a){if(a.hasFocus())return null;var c=ze(bt(a));if(!c||!ve(a.display.lineDiv,c))return null;var p={activeElt:c};if(window.getSelection){var h=yt(a).getSelection();h.anchorNode&&h.extend&&ve(a.display.lineDiv,h.anchorNode)&&(p.anchorNode=h.anchorNode,p.anchorOffset=h.anchorOffset,p.focusNode=h.focusNode,p.focusOffset=h.focusOffset)}return p}function jI(a){if(!(!a||!a.activeElt||a.activeElt==ze(a.activeElt.ownerDocument))&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&ve(document.body,a.anchorNode)&&ve(document.body,a.focusNode))){var c=a.activeElt.ownerDocument,p=c.defaultView.getSelection(),h=c.createRange();h.setEnd(a.anchorNode,a.anchorOffset),h.collapse(!1),p.removeAllRanges(),p.addRange(h),p.extend(a.focusNode,a.focusOffset)}}function zv(a,c){var p=a.display,h=a.doc;if(c.editorIsHidden)return ms(a),!1;if(!c.force&&c.visible.from>=p.viewFrom&&c.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&Dk(a)==0)return!1;qk(a)&&(ms(a),c.dims=Av(a));var g=h.first+h.size,b=Math.max(c.visible.from-a.options.viewportMargin,h.first),S=Math.min(g,c.visible.to+a.options.viewportMargin);p.viewFrom<b&&b-p.viewFrom<20&&(b=Math.max(h.first,p.viewFrom)),p.viewTo>S&&p.viewTo-S<20&&(S=Math.min(g,p.viewTo)),To&&(b=vv(a.doc,b),S=fk(a.doc,S));var T=b!=p.viewFrom||S!=p.viewTo||p.lastWrapHeight!=c.wrapperHeight||p.lastWrapWidth!=c.wrapperWidth;EI(a,b,S),p.viewOffset=Eo(Ge(a.doc,p.viewFrom)),a.display.mover.style.top=p.viewOffset+"px";var M=Dk(a);if(!T&&M==0&&!c.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var B=VI(a);return M>4&&(p.lineDiv.style.display="none"),WI(a,p.updateLineNumbers,c.dims),M>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,jI(B),K(p.cursorDiv),K(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,T&&(p.lastWrapHeight=c.wrapperHeight,p.lastWrapWidth=c.wrapperWidth,Ac(a,400)),p.updateLineNumbers=null,!0}function Wk(a,c){for(var p=c.viewport,h=!0;;h=!1){if(!h||!a.options.lineWrapping||c.oldDisplayWidth==va(a)){if(p&&p.top!=null&&(p={top:Math.min(a.doc.height+wv(a.display)-kv(a),p.top)}),c.visible=ah(a.display,a.doc,p),c.visible.from>=a.display.viewFrom&&c.visible.to<=a.display.viewTo)break}else h&&(c.visible=ah(a.display,a.doc,p));if(!zv(a,c))break;sh(a);var g=Tc(a);xc(a),Wl(a,g),Hv(a,g),c.force=!1}c.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(c.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Bv(a,c){var p=new uh(a,c);if(zv(a,p)){sh(a),Wk(a,p);var h=Tc(a);xc(a),Wl(a,h),Hv(a,h),p.finish()}}function WI(a,c,p){var h=a.display,g=a.options.lineNumbers,b=h.lineDiv,S=b.firstChild;function T(ke){var Ce=ke.nextSibling;return d&&H&&a.display.currentWheelTarget==ke?ke.style.display="none":ke.parentNode.removeChild(ke),Ce}for(var M=h.view,B=h.viewFrom,J=0;J<M.length;J++){var te=M[J];if(!te.hidden)if(!te.node||te.node.parentNode!=b){var fe=vI(a,te,B,p);b.insertBefore(fe,S)}else{for(;S!=te.node;)S=T(S);var ue=g&&c!=null&&c<=B&&te.lineNumber;te.changes&&(Ze(te.changes,"gutter")>-1&&(ue=!1),gk(a,te,B,p)),ue&&(K(te.lineNumber),te.lineNumber.appendChild(document.createTextNode(re(a.options,B)))),S=te.node.nextSibling}B+=te.size}for(;S;)S=T(S)}function $v(a){var c=a.gutters.offsetWidth;a.sizer.style.marginLeft=c+"px",Ln(a,"gutterChanged",a)}function Hv(a,c){a.display.sizer.style.minHeight=c.docHeight+"px",a.display.heightForcer.style.top=c.docHeight+"px",a.display.gutters.style.height=c.docHeight+a.display.barHeight+Qi(a)+"px"}function Uk(a){var c=a.display,p=c.view;if(!(!c.alignWidgets&&(!c.gutters.firstChild||!a.options.fixedGutter))){for(var h=Ov(c)-c.scroller.scrollLeft+a.doc.scrollLeft,g=c.gutters.offsetWidth,b=h+"px",S=0;S<p.length;S++)if(!p[S].hidden){a.options.fixedGutter&&(p[S].gutter&&(p[S].gutter.style.left=b),p[S].gutterBackground&&(p[S].gutterBackground.style.left=b));var T=p[S].alignable;if(T)for(var M=0;M<T.length;M++)T[M].style.left=b}a.options.fixedGutter&&(c.gutters.style.left=h+g+"px")}}function qk(a){if(!a.options.lineNumbers)return!1;var c=a.doc,p=re(a.options,c.first+c.size-1),h=a.display;if(p.length!=h.lineNumChars){var g=h.measure.appendChild(D("div",[D("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),b=g.firstChild.offsetWidth,S=g.offsetWidth-b;return h.lineGutter.style.width="",h.lineNumInnerWidth=Math.max(b,h.lineGutter.offsetWidth-S)+1,h.lineNumWidth=h.lineNumInnerWidth+S,h.lineNumChars=h.lineNumInnerWidth?p.length:-1,h.lineGutter.style.width=h.lineNumWidth+"px",$v(a.display),!0}return!1}function Fv(a,c){for(var p=[],h=!1,g=0;g<a.length;g++){var b=a[g],S=null;if(typeof b!="string"&&(S=b.style,b=b.className),b=="CodeMirror-linenumbers")if(c)h=!0;else continue;p.push({className:b,style:S})}return c&&!h&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function Kk(a){var c=a.gutters,p=a.gutterSpecs;K(c),a.lineGutter=null;for(var h=0;h<p.length;++h){var g=p[h],b=g.className,S=g.style,T=c.appendChild(D("div",null,"CodeMirror-gutter "+b));S&&(T.style.cssText=S),b=="CodeMirror-linenumbers"&&(a.lineGutter=T,T.style.width=(a.lineNumWidth||1)+"px")}c.style.display=p.length?"":"none",$v(a)}function Oc(a){Kk(a.display),br(a),Uk(a)}function UI(a,c,p,h){var g=this;this.input=p,g.scrollbarFiller=D("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=D("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=ae("div",null,"CodeMirror-code"),g.selectionDiv=D("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=D("div",null,"CodeMirror-cursors"),g.measure=D("div",null,"CodeMirror-measure"),g.lineMeasure=D("div",null,"CodeMirror-measure"),g.lineSpace=ae("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var b=ae("div",[g.lineSpace],"CodeMirror-lines");g.mover=D("div",[b],null,"position: relative"),g.sizer=D("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=D("div",null,null,"position: absolute; height: "+Ke+"px; width: 1px;"),g.gutters=D("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=D("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=D("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),v&&y>=105&&(g.wrapper.style.clipPath="inset(0px)"),g.wrapper.setAttribute("translate","no"),u&&f<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!d&&!(i&&E)&&(g.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(g.wrapper):a(g.wrapper)),g.viewFrom=g.viewTo=c.first,g.reportedViewFrom=g.reportedViewTo=c.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=Fv(h.gutters,h.lineNumbers),Kk(g),p.init(g)}var ch=0,Oo=null;u?Oo=-.53:i?Oo=15:v?Oo=-.7:C&&(Oo=-1/3);function Gk(a){var c=a.wheelDeltaX,p=a.wheelDeltaY;return c==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(c=a.detail),p==null&&a.detail&&a.axis==a.VERTICAL_AXIS?p=a.detail:p==null&&(p=a.wheelDelta),{x:c,y:p}}function qI(a){var c=Gk(a);return c.x*=Oo,c.y*=Oo,c}function Yk(a,c){v&&y==102&&(a.display.chromeScrollHack==null?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var p=Gk(c),h=p.x,g=p.y,b=Oo;c.deltaMode===0&&(h=c.deltaX,g=c.deltaY,b=1);var S=a.display,T=S.scroller,M=T.scrollWidth>T.clientWidth,B=T.scrollHeight>T.clientHeight;if(h&&M||g&&B){if(g&&H&&d){e:for(var J=c.target,te=S.view;J!=T;J=J.parentNode)for(var fe=0;fe<te.length;fe++)if(te[fe].node==J){a.display.currentWheelTarget=J;break e}}if(h&&!i&&!_&&b!=null){g&&B&&Cc(a,Math.max(0,T.scrollTop+g*b)),wa(a,Math.max(0,T.scrollLeft+h*b)),(!g||g&&B)&&Gt(c),S.wheelStartX=null;return}if(g&&b!=null){var ue=g*b,ke=a.doc.scrollTop,Ce=ke+S.wrapper.clientHeight;ue<0?ke=Math.max(0,ke+ue-50):Ce=Math.min(a.doc.height,Ce+ue+50),Bv(a,{top:ke,bottom:Ce})}ch<20&&c.deltaMode!==0&&(S.wheelStartX==null?(S.wheelStartX=T.scrollLeft,S.wheelStartY=T.scrollTop,S.wheelDX=h,S.wheelDY=g,setTimeout(function(){if(S.wheelStartX!=null){var Me=T.scrollLeft-S.wheelStartX,De=T.scrollTop-S.wheelStartY,$e=De&&S.wheelDY&&De/S.wheelDY||Me&&S.wheelDX&&Me/S.wheelDX;S.wheelStartX=S.wheelStartY=null,$e&&(Oo=(Oo*ch+$e)/(ch+1),++ch)}},200)):(S.wheelDX+=h,S.wheelDY+=g))}}var Xr=function(a,c){this.ranges=a,this.primIndex=c};Xr.prototype.primary=function(){return this.ranges[this.primIndex]},Xr.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var p=this.ranges[c],h=a.ranges[c];if(!ft(p.anchor,h.anchor)||!ft(p.head,h.head))return!1}return!0},Xr.prototype.deepCopy=function(){for(var a=[],c=0;c<this.ranges.length;c++)a[c]=new Ht(At(this.ranges[c].anchor),At(this.ranges[c].head));return new Xr(a,this.primIndex)},Xr.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},Xr.prototype.contains=function(a,c){c||(c=a);for(var p=0;p<this.ranges.length;p++){var h=this.ranges[p];if(we(c,h.from())>=0&&we(a,h.to())<=0)return p}return-1};var Ht=function(a,c){this.anchor=a,this.head=c};Ht.prototype.from=function(){return Cn(this.anchor,this.head)},Ht.prototype.to=function(){return It(this.anchor,this.head)},Ht.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ai(a,c,p){var h=a&&a.options.selectionsMayTouch,g=c[p];c.sort(function(fe,ue){return we(fe.from(),ue.from())}),p=Ze(c,g);for(var b=1;b<c.length;b++){var S=c[b],T=c[b-1],M=we(T.to(),S.from());if(h&&!S.empty()?M>0:M>=0){var B=Cn(T.from(),S.from()),J=It(T.to(),S.to()),te=T.empty()?S.from()==S.head:T.from()==T.head;b<=p&&--p,c.splice(--b,2,new Ht(te?J:B,te?B:J))}}return new Xr(c,p)}function gs(a,c){return new Xr([new Ht(a,c||a)],0)}function vs(a){return a.text?se(a.from.line+a.text.length-1,G(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function Jk(a,c){if(we(a,c.from)<0)return a;if(we(a,c.to)<=0)return vs(c);var p=a.line+c.text.length-(c.to.line-c.from.line)-1,h=a.ch;return a.line==c.to.line&&(h+=vs(c).ch-c.to.ch),se(p,h)}function Vv(a,c){for(var p=[],h=0;h<a.sel.ranges.length;h++){var g=a.sel.ranges[h];p.push(new Ht(Jk(g.anchor,c),Jk(g.head,c)))}return Ai(a.cm,p,a.sel.primIndex)}function Xk(a,c,p){return a.line==c.line?se(p.line,a.ch-c.ch+p.ch):se(p.line+(a.line-c.line),a.ch)}function KI(a,c,p){for(var h=[],g=se(a.first,0),b=g,S=0;S<c.length;S++){var T=c[S],M=Xk(T.from,g,b),B=Xk(vs(T),g,b);if(g=T.to,b=B,p=="around"){var J=a.sel.ranges[S],te=we(J.head,J.anchor)<0;h[S]=new Ht(te?B:M,te?M:B)}else h[S]=new Ht(M,M)}return new Xr(h,a.sel.primIndex)}function jv(a){a.doc.mode=xo(a.options,a.doc.modeOption),Mc(a)}function Mc(a){a.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,Ac(a,100),a.state.modeGen++,a.curOp&&br(a)}function Zk(a,c){return c.from.ch==0&&c.to.ch==0&&G(c.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Wv(a,c,p,h){function g($e){return p?p[$e]:null}function b($e,Re,Ve){tI($e,Re,Ve,h),Ln($e,"change",$e,c)}function S($e,Re){for(var Ve=[],nt=$e;nt<Re;++nt)Ve.push(new zl(B[nt],g(nt),h));return Ve}var T=c.from,M=c.to,B=c.text,J=Ge(a,T.line),te=Ge(a,M.line),fe=G(B),ue=g(B.length-1),ke=M.line-T.line;if(c.full)a.insert(0,S(0,B.length)),a.remove(B.length,a.size-B.length);else if(Zk(a,c)){var Ce=S(0,B.length-1);b(te,te.text,ue),ke&&a.remove(T.line,ke),Ce.length&&a.insert(T.line,Ce)}else if(J==te)if(B.length==1)b(J,J.text.slice(0,T.ch)+fe+J.text.slice(M.ch),ue);else{var Me=S(1,B.length-1);Me.push(new zl(fe+J.text.slice(M.ch),ue,h)),b(J,J.text.slice(0,T.ch)+B[0],g(0)),a.insert(T.line+1,Me)}else if(B.length==1)b(J,J.text.slice(0,T.ch)+B[0]+te.text.slice(M.ch),g(0)),a.remove(T.line+1,ke);else{b(J,J.text.slice(0,T.ch)+B[0],g(0)),b(te,fe+te.text.slice(M.ch),ue);var De=S(1,B.length-1);ke>1&&a.remove(T.line+1,ke-1),a.insert(T.line+1,De)}Ln(a,"change",a,c)}function ys(a,c,p){function h(g,b,S){if(g.linked)for(var T=0;T<g.linked.length;++T){var M=g.linked[T];if(M.doc!=b){var B=S&&M.sharedHist;p&&!B||(c(M.doc,B),h(M.doc,g,B))}}}h(a,null,!0)}function Qk(a,c){if(c.cm)throw new Error("This document is already in use.");a.doc=c,c.cm=a,Mv(a),jv(a),ex(a),a.options.direction=c.direction,a.options.lineWrapping||bv(a),a.options.mode=c.modeOption,br(a)}function ex(a){(a.doc.direction=="rtl"?qe:U)(a.display.lineDiv,"CodeMirror-rtl")}function GI(a){Lr(a,function(){ex(a),br(a)})}function fh(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Uv(a,c){var p={from:At(c.from),to:vs(c),text:Co(a,c.from,c.to)};return rx(a,p,c.from.line,c.to.line+1),ys(a,function(h){return rx(h,p,c.from.line,c.to.line+1)},!0),p}function tx(a){for(;a.length;){var c=G(a);if(c.ranges)a.pop();else break}}function YI(a,c){if(c)return tx(a.done),G(a.done);if(a.done.length&&!G(a.done).ranges)return G(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),G(a.done)}function nx(a,c,p,h){var g=a.history;g.undone.length=0;var b=+new Date,S,T;if((g.lastOp==h||g.lastOrigin==c.origin&&c.origin&&(c.origin.charAt(0)=="+"&&g.lastModTime>b-(a.cm?a.cm.options.historyEventDelay:500)||c.origin.charAt(0)=="*"))&&(S=YI(g,g.lastOp==h)))T=G(S.changes),we(c.from,c.to)==0&&we(c.from,T.to)==0?T.to=vs(c):S.changes.push(Uv(a,c));else{var M=G(g.done);for((!M||!M.ranges)&&dh(a.sel,g.done),S={changes:[Uv(a,c)],generation:g.generation},g.done.push(S);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(p),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=b,g.lastOp=g.lastSelOp=h,g.lastOrigin=g.lastSelOrigin=c.origin,T||ot(a,"historyAdded")}function JI(a,c,p,h){var g=c.charAt(0);return g=="*"||g=="+"&&p.ranges.length==h.ranges.length&&p.somethingSelected()==h.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function XI(a,c,p,h){var g=a.history,b=h&&h.origin;p==g.lastSelOp||b&&g.lastSelOrigin==b&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==b||JI(a,b,G(g.done),c))?g.done[g.done.length-1]=c:dh(c,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=b,g.lastSelOp=p,h&&h.clearRedo!==!1&&tx(g.undone)}function dh(a,c){var p=G(c);p&&p.ranges&&p.equals(a)||c.push(a)}function rx(a,c,p,h){var g=c["spans_"+a.id],b=0;a.iter(Math.max(a.first,p),Math.min(a.first+a.size,h),function(S){S.markedSpans&&((g||(g=c["spans_"+a.id]={}))[b]=S.markedSpans),++b})}function ZI(a){if(!a)return null;for(var c,p=0;p<a.length;++p)a[p].marker.explicitlyCleared?c||(c=a.slice(0,p)):c&&c.push(a[p]);return c?c.length?c:null:a}function QI(a,c){var p=c["spans_"+a.id];if(!p)return null;for(var h=[],g=0;g<c.text.length;++g)h.push(ZI(p[g]));return h}function ix(a,c){var p=QI(a,c),h=mv(a,c);if(!p)return h;if(!h)return p;for(var g=0;g<p.length;++g){var b=p[g],S=h[g];if(b&&S)e:for(var T=0;T<S.length;++T){for(var M=S[T],B=0;B<b.length;++B)if(b[B].marker==M.marker)continue e;b.push(M)}else S&&(p[g]=S)}return p}function Ul(a,c,p){for(var h=[],g=0;g<a.length;++g){var b=a[g];if(b.ranges){h.push(p?Xr.prototype.deepCopy.call(b):b);continue}var S=b.changes,T=[];h.push({changes:T});for(var M=0;M<S.length;++M){var B=S[M],J=void 0;if(T.push({from:B.from,to:B.to,text:B.text}),c)for(var te in B)(J=te.match(/^spans_(\d+)$/))&&Ze(c,Number(J[1]))>-1&&(G(T)[te]=B[te],delete B[te])}}return h}function qv(a,c,p,h){if(h){var g=a.anchor;if(p){var b=we(c,g)<0;b!=we(p,g)<0?(g=c,c=p):b!=we(c,p)<0&&(c=p)}return new Ht(g,c)}else return new Ht(p||c,c)}function hh(a,c,p,h,g){g==null&&(g=a.cm&&(a.cm.display.shift||a.extend)),Gn(a,new Xr([qv(a.sel.primary(),c,p,g)],0),h)}function ox(a,c,p){for(var h=[],g=a.cm&&(a.cm.display.shift||a.extend),b=0;b<a.sel.ranges.length;b++)h[b]=qv(a.sel.ranges[b],c[b],null,g);var S=Ai(a.cm,h,a.sel.primIndex);Gn(a,S,p)}function Kv(a,c,p,h){var g=a.sel.ranges.slice(0);g[c]=p,Gn(a,Ai(a.cm,g,a.sel.primIndex),h)}function sx(a,c,p,h){Gn(a,gs(c,p),h)}function eP(a,c,p){var h={ranges:c.ranges,update:function(g){this.ranges=[];for(var b=0;b<g.length;b++)this.ranges[b]=new Ht(dt(a,g[b].anchor),dt(a,g[b].head))},origin:p&&p.origin};return ot(a,"beforeSelectionChange",a,h),a.cm&&ot(a.cm,"beforeSelectionChange",a.cm,h),h.ranges!=c.ranges?Ai(a.cm,h.ranges,h.ranges.length-1):c}function ax(a,c,p){var h=a.history.done,g=G(h);g&&g.ranges?(h[h.length-1]=c,ph(a,c,p)):Gn(a,c,p)}function Gn(a,c,p){ph(a,c,p),XI(a,a.sel,a.cm?a.cm.curOp.id:NaN,p)}function ph(a,c,p){(Kt(a,"beforeSelectionChange")||a.cm&&Kt(a.cm,"beforeSelectionChange"))&&(c=eP(a,c,p));var h=p&&p.bias||(we(c.primary().head,a.sel.primary().head)<0?-1:1);lx(a,cx(a,c,h,!0)),!(p&&p.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&jl(a.cm)}function lx(a,c){c.equals(a.sel)||(a.sel=c,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,yr(a.cm)),Ln(a,"cursorActivity",a))}function ux(a){lx(a,cx(a,a.sel,null,!1))}function cx(a,c,p,h){for(var g,b=0;b<c.ranges.length;b++){var S=c.ranges[b],T=c.ranges.length==a.sel.ranges.length&&a.sel.ranges[b],M=mh(a,S.anchor,T&&T.anchor,p,h),B=S.head==S.anchor?M:mh(a,S.head,T&&T.head,p,h);(g||M!=S.anchor||B!=S.head)&&(g||(g=c.ranges.slice(0,b)),g[b]=new Ht(M,B))}return g?Ai(a.cm,g,c.primIndex):c}function ql(a,c,p,h,g){var b=Ge(a,c.line);if(b.markedSpans)for(var S=0;S<b.markedSpans.length;++S){var T=b.markedSpans[S],M=T.marker,B="selectLeft"in M?!M.selectLeft:M.inclusiveLeft,J="selectRight"in M?!M.selectRight:M.inclusiveRight;if((T.from==null||(B?T.from<=c.ch:T.from<c.ch))&&(T.to==null||(J?T.to>=c.ch:T.to>c.ch))){if(g&&(ot(M,"beforeCursorEnter"),M.explicitlyCleared))if(b.markedSpans){--S;continue}else break;if(!M.atomic)continue;if(p){var te=M.find(h<0?1:-1),fe=void 0;if((h<0?J:B)&&(te=fx(a,te,-h,te&&te.line==c.line?b:null)),te&&te.line==c.line&&(fe=we(te,p))&&(h<0?fe<0:fe>0))return ql(a,te,c,h,g)}var ue=M.find(h<0?-1:1);return(h<0?B:J)&&(ue=fx(a,ue,h,ue.line==c.line?b:null)),ue?ql(a,ue,c,h,g):null}}return c}function mh(a,c,p,h,g){var b=h||1,S=ql(a,c,p,b,g)||!g&&ql(a,c,p,b,!0)||ql(a,c,p,-b,g)||!g&&ql(a,c,p,-b,!0);return S||(a.cantEdit=!0,se(a.first,0))}function fx(a,c,p,h){return p<0&&c.ch==0?c.line>a.first?dt(a,se(c.line-1)):null:p>0&&c.ch==(h||Ge(a,c.line)).text.length?c.line<a.first+a.size-1?se(c.line+1,0):null:new se(c.line,c.ch+p)}function dx(a){a.setSelection(se(a.firstLine(),0),se(a.lastLine()),at)}function hx(a,c,p){var h={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return h.canceled=!0}};return p&&(h.update=function(g,b,S,T){g&&(h.from=dt(a,g)),b&&(h.to=dt(a,b)),S&&(h.text=S),T!==void 0&&(h.origin=T)}),ot(a,"beforeChange",a,h),a.cm&&ot(a.cm,"beforeChange",a.cm,h),h.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:h.from,to:h.to,text:h.text,origin:h.origin}}function Kl(a,c,p){if(a.cm){if(!a.cm.curOp)return Nn(a.cm,Kl)(a,c,p);if(a.cm.state.suppressEdits)return}if(!((Kt(a,"beforeChange")||a.cm&&Kt(a.cm,"beforeChange"))&&(c=hx(a,c,!0),!c))){var h=ik&&!p&&XN(a,c.from,c.to);if(h)for(var g=h.length-1;g>=0;--g)px(a,{from:h[g].from,to:h[g].to,text:g?[""]:c.text,origin:c.origin});else px(a,c)}}function px(a,c){if(!(c.text.length==1&&c.text[0]==""&&we(c.from,c.to)==0)){var p=Vv(a,c);nx(a,c,p,a.cm?a.cm.curOp.id:NaN),Lc(a,c,p,mv(a,c));var h=[];ys(a,function(g,b){!b&&Ze(h,g.history)==-1&&(yx(g.history,c),h.push(g.history)),Lc(g,c,null,mv(g,c))})}}function gh(a,c,p){var h=a.cm&&a.cm.state.suppressEdits;if(!(h&&!p)){for(var g=a.history,b,S=a.sel,T=c=="undo"?g.done:g.undone,M=c=="undo"?g.undone:g.done,B=0;B<T.length&&(b=T[B],!(p?b.ranges&&!b.equals(a.sel):!b.ranges));B++);if(B!=T.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(b=T.pop(),b.ranges){if(dh(b,M),p&&!b.equals(a.sel)){Gn(a,b,{clearRedo:!1});return}S=b}else if(h){T.push(b);return}else break;var J=[];dh(S,M),M.push({changes:J,generation:g.generation}),g.generation=b.generation||++g.maxGeneration;for(var te=Kt(a,"beforeChange")||a.cm&&Kt(a.cm,"beforeChange"),fe=function(Ce){var Me=b.changes[Ce];if(Me.origin=c,te&&!hx(a,Me,!1))return T.length=0,{};J.push(Uv(a,Me));var De=Ce?Vv(a,Me):G(T);Lc(a,Me,De,ix(a,Me)),!Ce&&a.cm&&a.cm.scrollIntoView({from:Me.from,to:vs(Me)});var $e=[];ys(a,function(Re,Ve){!Ve&&Ze($e,Re.history)==-1&&(yx(Re.history,Me),$e.push(Re.history)),Lc(Re,Me,null,ix(Re,Me))})},ue=b.changes.length-1;ue>=0;--ue){var ke=fe(ue);if(ke)return ke.v}}}}function mx(a,c){if(c!=0&&(a.first+=c,a.sel=new Xr(Z(a.sel.ranges,function(g){return new Ht(se(g.anchor.line+c,g.anchor.ch),se(g.head.line+c,g.head.ch))}),a.sel.primIndex),a.cm)){br(a.cm,a.first,a.first-c,c);for(var p=a.cm.display,h=p.viewFrom;h<p.viewTo;h++)ps(a.cm,h,"gutter")}}function Lc(a,c,p,h){if(a.cm&&!a.cm.curOp)return Nn(a.cm,Lc)(a,c,p,h);if(c.to.line<a.first){mx(a,c.text.length-1-(c.to.line-c.from.line));return}if(!(c.from.line>a.lastLine())){if(c.from.line<a.first){var g=c.text.length-1-(a.first-c.from.line);mx(a,g),c={from:se(a.first,0),to:se(c.to.line+g,c.to.ch),text:[G(c.text)],origin:c.origin}}var b=a.lastLine();c.to.line>b&&(c={from:c.from,to:se(b,Ge(a,b).text.length),text:[c.text[0]],origin:c.origin}),c.removed=Co(a,c.from,c.to),p||(p=Vv(a,c)),a.cm?tP(a.cm,c,h):Wv(a,c,h),ph(a,p,at),a.cantEdit&&mh(a,se(a.firstLine(),0))&&(a.cantEdit=!1)}}function tP(a,c,p){var h=a.doc,g=a.display,b=c.from,S=c.to,T=!1,M=b.line;a.options.lineWrapping||(M=$t(Ti(Ge(h,b.line))),h.iter(M,S.line+1,function(ue){if(ue==g.maxLine)return T=!0,!0})),h.sel.contains(c.from,c.to)>-1&&yr(a),Wv(h,c,p,Pk(a)),a.options.lineWrapping||(h.iter(M,b.line+c.text.length,function(ue){var ke=Qd(ue);ke>g.maxLineLength&&(g.maxLine=ue,g.maxLineLength=ke,g.maxLineChanged=!0,T=!1)}),T&&(a.curOp.updateMaxLine=!0)),WN(h,b.line),Ac(a,400);var B=c.text.length-(S.line-b.line)-1;c.full?br(a):b.line==S.line&&c.text.length==1&&!Zk(a.doc,c)?ps(a,b.line,"text"):br(a,b.line,S.line+1,B);var J=Kt(a,"changes"),te=Kt(a,"change");if(te||J){var fe={from:b,to:S,text:c.text,removed:c.removed,origin:c.origin};te&&Ln(a,"change",a,fe),J&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(fe)}a.display.selForContextMenu=null}function Gl(a,c,p,h,g){var b;h||(h=p),we(h,p)<0&&(b=[h,p],p=b[0],h=b[1]),typeof c=="string"&&(c=a.splitLines(c)),Kl(a,{from:p,to:h,text:c,origin:g})}function gx(a,c,p,h){p<a.line?a.line+=h:c<a.line&&(a.line=c,a.ch=0)}function vx(a,c,p,h){for(var g=0;g<a.length;++g){var b=a[g],S=!0;if(b.ranges){b.copied||(b=a[g]=b.deepCopy(),b.copied=!0);for(var T=0;T<b.ranges.length;T++)gx(b.ranges[T].anchor,c,p,h),gx(b.ranges[T].head,c,p,h);continue}for(var M=0;M<b.changes.length;++M){var B=b.changes[M];if(p<B.from.line)B.from=se(B.from.line+h,B.from.ch),B.to=se(B.to.line+h,B.to.ch);else if(c<=B.to.line){S=!1;break}}S||(a.splice(0,g+1),g=0)}}function yx(a,c){var p=c.from.line,h=c.to.line,g=c.text.length-(h-p)-1;vx(a.done,p,h,g),vx(a.undone,p,h,g)}function Nc(a,c,p,h){var g=c,b=c;return typeof c=="number"?b=Ge(a,Jr(a,c)):g=$t(c),g==null?null:(h(b,g)&&a.cm&&ps(a.cm,g,p),b)}function Ic(a){this.lines=a,this.parent=null;for(var c=0,p=0;p<a.length;++p)a[p].parent=this,c+=a[p].height;this.height=c}Ic.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,c){for(var p=a,h=a+c;p<h;++p){var g=this.lines[p];this.height-=g.height,nI(g),Ln(g,"delete")}this.lines.splice(a,c)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,c,p){this.height+=p,this.lines=this.lines.slice(0,a).concat(c).concat(this.lines.slice(a));for(var h=0;h<c.length;++h)c[h].parent=this},iterN:function(a,c,p){for(var h=a+c;a<h;++a)if(p(this.lines[a]))return!0}};function Pc(a){this.children=a;for(var c=0,p=0,h=0;h<a.length;++h){var g=a[h];c+=g.chunkSize(),p+=g.height,g.parent=this}this.size=c,this.height=p,this.parent=null}Pc.prototype={chunkSize:function(){return this.size},removeInner:function(a,c){this.size-=c;for(var p=0;p<this.children.length;++p){var h=this.children[p],g=h.chunkSize();if(a<g){var b=Math.min(c,g-a),S=h.height;if(h.removeInner(a,b),this.height-=S-h.height,g==b&&(this.children.splice(p--,1),h.parent=null),(c-=b)==0)break;a=0}else a-=g}if(this.size-c<25&&(this.children.length>1||!(this.children[0]instanceof Ic))){var T=[];this.collapse(T),this.children=[new Ic(T)],this.children[0].parent=this}},collapse:function(a){for(var c=0;c<this.children.length;++c)this.children[c].collapse(a)},insertInner:function(a,c,p){this.size+=c.length,this.height+=p;for(var h=0;h<this.children.length;++h){var g=this.children[h],b=g.chunkSize();if(a<=b){if(g.insertInner(a,c,p),g.lines&&g.lines.length>50){for(var S=g.lines.length%25+25,T=S;T<g.lines.length;){var M=new Ic(g.lines.slice(T,T+=25));g.height-=M.height,this.children.splice(++h,0,M),M.parent=this}g.lines=g.lines.slice(0,S),this.maybeSpill()}break}a-=b}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var c=a.children.splice(a.children.length-5,5),p=new Pc(c);if(a.parent){a.size-=p.size,a.height-=p.height;var g=Ze(a.parent.children,a);a.parent.children.splice(g+1,0,p)}else{var h=new Pc(a.children);h.parent=a,a.children=[h,p],a=h}p.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,c,p){for(var h=0;h<this.children.length;++h){var g=this.children[h],b=g.chunkSize();if(a<b){var S=Math.min(c,b-a);if(g.iterN(a,S,p))return!0;if((c-=S)==0)break;a=0}else a-=b}}};var Dc=function(a,c,p){if(p)for(var h in p)p.hasOwnProperty(h)&&(this[h]=p[h]);this.doc=a,this.node=c};Dc.prototype.clear=function(){var a=this.doc.cm,c=this.line.widgets,p=this.line,h=$t(p);if(!(h==null||!c)){for(var g=0;g<c.length;++g)c[g]==this&&c.splice(g--,1);c.length||(p.widgets=null);var b=wc(this);fi(p,Math.max(0,p.height-b)),a&&(Lr(a,function(){bx(a,p,-b),ps(a,h,"widget")}),Ln(a,"lineWidgetCleared",a,this,h))}},Dc.prototype.changed=function(){var a=this,c=this.height,p=this.doc.cm,h=this.line;this.height=null;var g=wc(this)-c;g&&(hs(this.doc,h)||fi(h,h.height+g),p&&Lr(p,function(){p.curOp.forceUpdate=!0,bx(p,h,g),Ln(p,"lineWidgetChanged",p,a,$t(h))}))},Xt(Dc);function bx(a,c,p){Eo(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Rv(a,p)}function nP(a,c,p,h){var g=new Dc(a,p,h),b=a.cm;return b&&g.noHScroll&&(b.display.alignWidgets=!0),Nc(a,c,"widget",function(S){var T=S.widgets||(S.widgets=[]);if(g.insertAt==null?T.push(g):T.splice(Math.min(T.length,Math.max(0,g.insertAt)),0,g),g.line=S,b&&!hs(a,S)){var M=Eo(S)<a.scrollTop;fi(S,S.height+wc(g)),M&&Rv(b,g.height),b.curOp.forceUpdate=!0}return!0}),b&&Ln(b,"lineWidgetAdded",b,g,typeof c=="number"?c:$t(c)),g}var _x=0,bs=function(a,c){this.lines=[],this.type=c,this.doc=a,this.id=++_x};bs.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,c=a&&!a.curOp;if(c&&xa(a),Kt(this,"clear")){var p=this.find();p&&Ln(this,"clear",p.from,p.to)}for(var h=null,g=null,b=0;b<this.lines.length;++b){var S=this.lines[b],T=yc(S.markedSpans,this);a&&!this.collapsed?ps(a,$t(S),"text"):a&&(T.to!=null&&(g=$t(S)),T.from!=null&&(h=$t(S))),S.markedSpans=KN(S.markedSpans,T),T.from==null&&this.collapsed&&!hs(this.doc,S)&&a&&fi(S,Hl(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var M=0;M<this.lines.length;++M){var B=Ti(this.lines[M]),J=Qd(B);J>a.display.maxLineLength&&(a.display.maxLine=B,a.display.maxLineLength=J,a.display.maxLineChanged=!0)}h!=null&&a&&this.collapsed&&br(a,h,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&ux(a.doc)),a&&Ln(a,"markerCleared",a,this,h,g),c&&Sa(a),this.parent&&this.parent.clear()}},bs.prototype.find=function(a,c){a==null&&this.type=="bookmark"&&(a=1);for(var p,h,g=0;g<this.lines.length;++g){var b=this.lines[g],S=yc(b.markedSpans,this);if(S.from!=null&&(p=se(c?b:$t(b),S.from),a==-1))return p;if(S.to!=null&&(h=se(c?b:$t(b),S.to),a==1))return h}return p&&{from:p,to:h}},bs.prototype.changed=function(){var a=this,c=this.find(-1,!0),p=this,h=this.doc.cm;!c||!h||Lr(h,function(){var g=c.line,b=$t(c.line),S=xv(h,b);if(S&&(Tk(S),h.curOp.selectionChanged=h.curOp.forceUpdate=!0),h.curOp.updateMaxLine=!0,!hs(p.doc,g)&&p.height!=null){var T=p.height;p.height=null;var M=wc(p)-T;M&&fi(g,g.height+M)}Ln(h,"markerChanged",h,a)})},bs.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(!c.maybeHiddenMarkers||Ze(c.maybeHiddenMarkers,this)==-1)&&(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},bs.prototype.detachLine=function(a){if(this.lines.splice(Ze(this.lines,a),1),!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this)}},Xt(bs);function Yl(a,c,p,h,g){if(h&&h.shared)return rP(a,c,p,h,g);if(a.cm&&!a.cm.curOp)return Nn(a.cm,Yl)(a,c,p,h,g);var b=new bs(a,g),S=we(c,p);if(h&&Ie(h,b,!1),S>0||S==0&&b.clearWhenEmpty!==!1)return b;if(b.replacedWith&&(b.collapsed=!0,b.widgetNode=ae("span",[b.replacedWith],"CodeMirror-widget"),h.handleMouseEvents||b.widgetNode.setAttribute("cm-ignore-events","true"),h.insertLeft&&(b.widgetNode.insertLeft=!0)),b.collapsed){if(ck(a,c.line,c,p,b)||c.line!=p.line&&ck(a,p.line,c,p,b))throw new Error("Inserting collapsed marker partially overlapping an existing one");qN()}b.addToHistory&&nx(a,{from:c,to:p,origin:"markText"},a.sel,NaN);var T=c.line,M=a.cm,B;if(a.iter(T,p.line+1,function(te){M&&b.collapsed&&!M.options.lineWrapping&&Ti(te)==M.display.maxLine&&(B=!0),b.collapsed&&T!=c.line&&fi(te,0),GN(te,new Yd(b,T==c.line?c.ch:null,T==p.line?p.ch:null),a.cm&&a.cm.curOp),++T}),b.collapsed&&a.iter(c.line,p.line+1,function(te){hs(a,te)&&fi(te,0)}),b.clearOnEnter&&me(b,"beforeCursorEnter",function(){return b.clear()}),b.readOnly&&(UN(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),b.collapsed&&(b.id=++_x,b.atomic=!0),M){if(B&&(M.curOp.updateMaxLine=!0),b.collapsed)br(M,c.line,p.line+1);else if(b.className||b.startStyle||b.endStyle||b.css||b.attributes||b.title)for(var J=c.line;J<=p.line;J++)ps(M,J,"text");b.atomic&&ux(M.doc),Ln(M,"markerAdded",M,b)}return b}var Rc=function(a,c){this.markers=a,this.primary=c;for(var p=0;p<a.length;++p)a[p].parent=this};Rc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Ln(this,"clear")}},Rc.prototype.find=function(a,c){return this.primary.find(a,c)},Xt(Rc);function rP(a,c,p,h,g){h=Ie(h),h.shared=!1;var b=[Yl(a,c,p,h,g)],S=b[0],T=h.widgetNode;return ys(a,function(M){T&&(h.widgetNode=T.cloneNode(!0)),b.push(Yl(M,dt(M,c),dt(M,p),h,g));for(var B=0;B<M.linked.length;++B)if(M.linked[B].isParent)return;S=G(b)}),new Rc(b,S)}function wx(a){return a.findMarks(se(a.first,0),a.clipPos(se(a.lastLine())),function(c){return c.parent})}function iP(a,c){for(var p=0;p<c.length;p++){var h=c[p],g=h.find(),b=a.clipPos(g.from),S=a.clipPos(g.to);if(we(b,S)){var T=Yl(a,b,S,h.primary,h.primary.type);h.markers.push(T),T.parent=h}}}function oP(a){for(var c=function(h){var g=a[h],b=[g.primary.doc];ys(g.primary.doc,function(M){return b.push(M)});for(var S=0;S<g.markers.length;S++){var T=g.markers[S];Ze(b,T.doc)==-1&&(T.parent=null,g.markers.splice(S--,1))}},p=0;p<a.length;p++)c(p)}var sP=0,_r=function(a,c,p,h,g){if(!(this instanceof _r))return new _r(a,c,p,h,g);p==null&&(p=0),Pc.call(this,[new Ic([new zl("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var b=se(p,0);this.sel=gs(b),this.history=new fh(null),this.id=++sP,this.modeOption=c,this.lineSep=h,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),Wv(this,{from:b,to:b,text:a}),Gn(this,gs(b),at)};_r.prototype=O(Pc.prototype,{constructor:_r,iter:function(a,c,p){p?this.iterN(a-this.first,c-a,p):this.iterN(this.first,this.first+this.size,a)},insert:function(a,c){for(var p=0,h=0;h<c.length;++h)p+=c[h].height;this.insertInner(a-this.first,c,p)},remove:function(a,c){this.removeInner(a-this.first,c)},getValue:function(a){var c=Rl(this,this.first,this.first+this.size);return a===!1?c:c.join(a||this.lineSeparator())},setValue:In(function(a){var c=se(this.first,0),p=this.first+this.size-1;Kl(this,{from:c,to:se(p,Ge(this,p).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&Sc(this.cm,0,0),Gn(this,gs(c),at)}),replaceRange:function(a,c,p,h){c=dt(this,c),p=p?dt(this,p):c,Gl(this,a,c,p,h)},getRange:function(a,c,p){var h=Co(this,dt(this,a),dt(this,c));return p===!1?h:p===""?h.join(""):h.join(p||this.lineSeparator())},getLine:function(a){var c=this.getLineHandle(a);return c&&c.text},getLineHandle:function(a){if(V(this,a))return Ge(this,a)},getLineNumber:function(a){return $t(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=Ge(this,a)),Ti(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return dt(this,a)},getCursor:function(a){var c=this.sel.primary(),p;return a==null||a=="head"?p=c.head:a=="anchor"?p=c.anchor:a=="end"||a=="to"||a===!1?p=c.to():p=c.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:In(function(a,c,p){sx(this,dt(this,typeof a=="number"?se(a,c||0):a),null,p)}),setSelection:In(function(a,c,p){sx(this,dt(this,a),dt(this,c||a),p)}),extendSelection:In(function(a,c,p){hh(this,dt(this,a),c&&dt(this,c),p)}),extendSelections:In(function(a,c){ox(this,Jw(this,a),c)}),extendSelectionsBy:In(function(a,c){var p=Z(this.sel.ranges,a);ox(this,Jw(this,p),c)}),setSelections:In(function(a,c,p){if(a.length){for(var h=[],g=0;g<a.length;g++)h[g]=new Ht(dt(this,a[g].anchor),dt(this,a[g].head||a[g].anchor));c==null&&(c=Math.min(a.length-1,this.sel.primIndex)),Gn(this,Ai(this.cm,h,c),p)}}),addSelection:In(function(a,c,p){var h=this.sel.ranges.slice(0);h.push(new Ht(dt(this,a),dt(this,c||a))),Gn(this,Ai(this.cm,h,h.length-1),p)}),getSelection:function(a){for(var c=this.sel.ranges,p,h=0;h<c.length;h++){var g=Co(this,c[h].from(),c[h].to());p=p?p.concat(g):g}return a===!1?p:p.join(a||this.lineSeparator())},getSelections:function(a){for(var c=[],p=this.sel.ranges,h=0;h<p.length;h++){var g=Co(this,p[h].from(),p[h].to());a!==!1&&(g=g.join(a||this.lineSeparator())),c[h]=g}return c},replaceSelection:function(a,c,p){for(var h=[],g=0;g<this.sel.ranges.length;g++)h[g]=a;this.replaceSelections(h,c,p||"+input")},replaceSelections:In(function(a,c,p){for(var h=[],g=this.sel,b=0;b<g.ranges.length;b++){var S=g.ranges[b];h[b]={from:S.from(),to:S.to(),text:this.splitLines(a[b]),origin:p}}for(var T=c&&c!="end"&&KI(this,h,c),M=h.length-1;M>=0;M--)Kl(this,h[M]);T?ax(this,T):this.cm&&jl(this.cm)}),undo:In(function(){gh(this,"undo")}),redo:In(function(){gh(this,"redo")}),undoSelection:In(function(){gh(this,"undo",!0)}),redoSelection:In(function(){gh(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,c=0,p=0,h=0;h<a.done.length;h++)a.done[h].ranges||++c;for(var g=0;g<a.undone.length;g++)a.undone[g].ranges||++p;return{undo:c,redo:p}},clearHistory:function(){var a=this;this.history=new fh(this.history),ys(this,function(c){return c.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Ul(this.history.done),undone:Ul(this.history.undone)}},setHistory:function(a){var c=this.history=new fh(this.history);c.done=Ul(a.done.slice(0),null,!0),c.undone=Ul(a.undone.slice(0),null,!0)},setGutterMarker:In(function(a,c,p){return Nc(this,a,"gutter",function(h){var g=h.gutterMarkers||(h.gutterMarkers={});return g[c]=p,!p&&le(g)&&(h.gutterMarkers=null),!0})}),clearGutter:In(function(a){var c=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[a]&&Nc(c,p,"gutter",function(){return p.gutterMarkers[a]=null,le(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(a){var c;if(typeof a=="number"){if(!V(this,a)||(c=a,a=Ge(this,a),!a))return null}else if(c=$t(a),c==null)return null;return{line:c,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:In(function(a,c,p){return Nc(this,a,c=="gutter"?"gutter":"class",function(h){var g=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass";if(!h[g])h[g]=p;else{if(R(p).test(h[g]))return!1;h[g]+=" "+p}return!0})}),removeLineClass:In(function(a,c,p){return Nc(this,a,c=="gutter"?"gutter":"class",function(h){var g=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass",b=h[g];if(b)if(p==null)h[g]=null;else{var S=b.match(R(p));if(!S)return!1;var T=S.index+S[0].length;h[g]=b.slice(0,S.index)+(!S.index||T==b.length?"":" ")+b.slice(T)||null}else return!1;return!0})}),addLineWidget:In(function(a,c,p){return nP(this,a,c,p)}),removeLineWidget:function(a){a.clear()},markText:function(a,c,p){return Yl(this,dt(this,a),dt(this,c),p,p&&p.type||"range")},setBookmark:function(a,c){var p={replacedWith:c&&(c.nodeType==null?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};return a=dt(this,a),Yl(this,a,a,p,"bookmark")},findMarksAt:function(a){a=dt(this,a);var c=[],p=Ge(this,a.line).markedSpans;if(p)for(var h=0;h<p.length;++h){var g=p[h];(g.from==null||g.from<=a.ch)&&(g.to==null||g.to>=a.ch)&&c.push(g.marker.parent||g.marker)}return c},findMarks:function(a,c,p){a=dt(this,a),c=dt(this,c);var h=[],g=a.line;return this.iter(a.line,c.line+1,function(b){var S=b.markedSpans;if(S)for(var T=0;T<S.length;T++){var M=S[T];!(M.to!=null&&g==a.line&&a.ch>=M.to||M.from==null&&g!=a.line||M.from!=null&&g==c.line&&M.from>=c.ch)&&(!p||p(M.marker))&&h.push(M.marker.parent||M.marker)}++g}),h},getAllMarks:function(){var a=[];return this.iter(function(c){var p=c.markedSpans;if(p)for(var h=0;h<p.length;++h)p[h].from!=null&&a.push(p[h].marker)}),a},posFromIndex:function(a){var c,p=this.first,h=this.lineSeparator().length;return this.iter(function(g){var b=g.text.length+h;if(b>a)return c=a,!0;a-=b,++p}),dt(this,se(p,c))},indexFromPos:function(a){a=dt(this,a);var c=a.ch;if(a.line<this.first||a.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,a.line,function(h){c+=h.text.length+p}),c},copy:function(a){var c=new _r(Rl(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return c.scrollTop=this.scrollTop,c.scrollLeft=this.scrollLeft,c.sel=this.sel,c.extend=!1,a&&(c.history.undoDepth=this.history.undoDepth,c.setHistory(this.getHistory())),c},linkedDoc:function(a){a||(a={});var c=this.first,p=this.first+this.size;a.from!=null&&a.from>c&&(c=a.from),a.to!=null&&a.to<p&&(p=a.to);var h=new _r(Rl(this,c,p),a.mode||this.modeOption,c,this.lineSep,this.direction);return a.sharedHist&&(h.history=this.history),(this.linked||(this.linked=[])).push({doc:h,sharedHist:a.sharedHist}),h.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],iP(h,wx(this)),h},unlinkDoc:function(a){if(a instanceof Qt&&(a=a.doc),this.linked)for(var c=0;c<this.linked.length;++c){var p=this.linked[c];if(p.doc==a){this.linked.splice(c,1),a.unlinkDoc(this),oP(wx(this));break}}if(a.history==this.history){var h=[a.id];ys(a,function(g){return h.push(g.id)},!0),a.history=new fh(null),a.history.done=Ul(this.history.done,h),a.history.undone=Ul(this.history.undone,h)}},iterLinkedDocs:function(a){ys(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):mc(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:In(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(c){return c.order=null}),this.cm&&GI(this.cm))})}),_r.prototype.eachLine=_r.prototype.iter;var kx=0;function aP(a){var c=this;if(xx(c),!(Ct(c,a)||Ao(c.display,a))){Gt(a),u&&(kx=+new Date);var p=ba(c,a,!0),h=a.dataTransfer.files;if(!(!p||c.isReadOnly()))if(h&&h.length&&window.FileReader&&window.File)for(var g=h.length,b=Array(g),S=0,T=function(){++S==g&&Nn(c,function(){p=dt(c.doc,p);var ue={from:p,to:p,text:c.doc.splitLines(b.filter(function(ke){return ke!=null}).join(c.doc.lineSeparator())),origin:"paste"};Kl(c.doc,ue),ax(c.doc,gs(dt(c.doc,p),dt(c.doc,vs(ue))))})()},M=function(ue,ke){if(c.options.allowDropFileTypes&&Ze(c.options.allowDropFileTypes,ue.type)==-1){T();return}var Ce=new FileReader;Ce.onerror=function(){return T()},Ce.onload=function(){var Me=Ce.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Me)){T();return}b[ke]=Me,T()},Ce.readAsText(ue)},B=0;B<h.length;B++)M(h[B],B);else{if(c.state.draggingText&&c.doc.sel.contains(p)>-1){c.state.draggingText(a),setTimeout(function(){return c.display.input.focus()},20);return}try{var J=a.dataTransfer.getData("Text");if(J){var te;if(c.state.draggingText&&!c.state.draggingText.copy&&(te=c.listSelections()),ph(c.doc,gs(p,p)),te)for(var fe=0;fe<te.length;++fe)Gl(c.doc,"",te[fe].anchor,te[fe].head,"drag");c.replaceSelection(J,"around","paste"),c.display.input.focus()}}catch{}}}}function lP(a,c){if(u&&(!a.state.draggingText||+new Date-kx<100)){Yr(c);return}if(!(Ct(a,c)||Ao(a.display,c))&&(c.dataTransfer.setData("Text",a.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!C)){var p=D("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_&&(p.width=p.height=1,a.display.wrapper.appendChild(p),p._top=p.offsetTop),c.dataTransfer.setDragImage(p,0,0),_&&p.parentNode.removeChild(p)}}function uP(a,c){var p=ba(a,c);if(p){var h=document.createDocumentFragment();Lv(a,p,h),a.display.dragCursor||(a.display.dragCursor=D("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),oe(a.display.dragCursor,h)}}function xx(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Sx(a){if(document.getElementsByClassName){for(var c=document.getElementsByClassName("CodeMirror"),p=[],h=0;h<c.length;h++){var g=c[h].CodeMirror;g&&p.push(g)}p.length&&p[0].operation(function(){for(var b=0;b<p.length;b++)a(p[b])})}}var Cx=!1;function cP(){Cx||(fP(),Cx=!0)}function fP(){var a;me(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,Sx(dP)},100))}),me(window,"blur",function(){return Sx(Vl)})}function dP(a){var c=a.display;c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.scrollbarsClipped=!1,a.setSize()}for(var _s={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},zc=0;zc<10;zc++)_s[zc+48]=_s[zc+96]=String(zc);for(var vh=65;vh<=90;vh++)_s[vh]=String.fromCharCode(vh);for(var Bc=1;Bc<=12;Bc++)_s[Bc+111]=_s[Bc+63235]="F"+Bc;var Mo={};Mo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Mo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Mo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Mo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Mo.default=H?Mo.macDefault:Mo.pcDefault;function hP(a){var c=a.split(/-(?!$)/);a=c[c.length-1];for(var p,h,g,b,S=0;S<c.length-1;S++){var T=c[S];if(/^(cmd|meta|m)$/i.test(T))b=!0;else if(/^a(lt)?$/i.test(T))p=!0;else if(/^(c|ctrl|control)$/i.test(T))h=!0;else if(/^s(hift)?$/i.test(T))g=!0;else throw new Error("Unrecognized modifier name: "+T)}return p&&(a="Alt-"+a),h&&(a="Ctrl-"+a),b&&(a="Cmd-"+a),g&&(a="Shift-"+a),a}function pP(a){var c={};for(var p in a)if(a.hasOwnProperty(p)){var h=a[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(h=="..."){delete a[p];continue}for(var g=Z(p.split(" "),hP),b=0;b<g.length;b++){var S=void 0,T=void 0;b==g.length-1?(T=g.join(" "),S=h):(T=g.slice(0,b+1).join(" "),S="...");var M=c[T];if(!M)c[T]=S;else if(M!=S)throw new Error("Inconsistent bindings for "+T)}delete a[p]}for(var B in c)a[B]=c[B];return a}function Jl(a,c,p,h){c=yh(c);var g=c.call?c.call(a,h):c[a];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&p(g))return"handled";if(c.fallthrough){if(Object.prototype.toString.call(c.fallthrough)!="[object Array]")return Jl(a,c.fallthrough,p,h);for(var b=0;b<c.fallthrough.length;b++){var S=Jl(a,c.fallthrough[b],p,h);if(S)return S}}}function Tx(a){var c=typeof a=="string"?a:_s[a.keyCode];return c=="Ctrl"||c=="Alt"||c=="Shift"||c=="Mod"}function Ex(a,c,p){var h=a;return c.altKey&&h!="Alt"&&(a="Alt-"+a),(z?c.metaKey:c.ctrlKey)&&h!="Ctrl"&&(a="Ctrl-"+a),(z?c.ctrlKey:c.metaKey)&&h!="Mod"&&(a="Cmd-"+a),!p&&c.shiftKey&&h!="Shift"&&(a="Shift-"+a),a}function Ax(a,c){if(_&&a.keyCode==34&&a.char)return!1;var p=_s[a.keyCode];return p==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(p=a.code),Ex(p,a,c))}function yh(a){return typeof a=="string"?Mo[a]:a}function Xl(a,c){for(var p=a.doc.sel.ranges,h=[],g=0;g<p.length;g++){for(var b=c(p[g]);h.length&&we(b.from,G(h).to)<=0;){var S=h.pop();if(we(S.from,b.from)<0){b.from=S.from;break}}h.push(b)}Lr(a,function(){for(var T=h.length-1;T>=0;T--)Gl(a.doc,"",h[T].from,h[T].to,"+delete");jl(a)})}function Gv(a,c,p){var h=Y(a.text,c+p,p);return h<0||h>a.text.length?null:h}function Yv(a,c,p){var h=Gv(a,c.ch,p);return h==null?null:new se(c.line,h,p<0?"after":"before")}function Jv(a,c,p,h,g){if(a){c.doc.direction=="rtl"&&(g=-g);var b=Ae(p,c.doc.direction);if(b){var S=g<0?G(b):b[0],T=g<0==(S.level==1),M=T?"after":"before",B;if(S.level>0||c.doc.direction=="rtl"){var J=$l(c,p);B=g<0?p.text.length-1:0;var te=eo(c,J,B).top;B=X(function(fe){return eo(c,J,fe).top==te},g<0==(S.level==1)?S.from:S.to-1,B),M=="before"&&(B=Gv(p,B,1))}else B=g<0?S.to:S.from;return new se(h,B,M)}}return new se(h,g<0?p.text.length:0,g<0?"before":"after")}function mP(a,c,p,h){var g=Ae(c,a.doc.direction);if(!g)return Yv(c,p,h);p.ch>=c.text.length?(p.ch=c.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var b=je(g,p.ch,p.sticky),S=g[b];if(a.doc.direction=="ltr"&&S.level%2==0&&(h>0?S.to>p.ch:S.from<p.ch))return Yv(c,p,h);var T=function(De,$e){return Gv(c,De instanceof se?De.ch:De,$e)},M,B=function(De){return a.options.lineWrapping?(M=M||$l(a,c),Ik(a,c,M,De)):{begin:0,end:c.text.length}},J=B(p.sticky=="before"?T(p,-1):p.ch);if(a.doc.direction=="rtl"||S.level==1){var te=S.level==1==h<0,fe=T(p,te?1:-1);if(fe!=null&&(te?fe<=S.to&&fe<=J.end:fe>=S.from&&fe>=J.begin)){var ue=te?"before":"after";return new se(p.line,fe,ue)}}var ke=function(De,$e,Re){for(var Ve=function(Yt,Pn){return Pn?new se(p.line,T(Yt,1),"before"):new se(p.line,Yt,"after")};De>=0&&De<g.length;De+=$e){var nt=g[De],et=$e>0==(nt.level!=1),St=et?Re.begin:T(Re.end,-1);if(nt.from<=St&&St<nt.to||(St=et?nt.from:T(nt.to,-1),Re.begin<=St&&St<Re.end))return Ve(St,et)}},Ce=ke(b+h,h,J);if(Ce)return Ce;var Me=h>0?J.end:T(J.begin,-1);return Me!=null&&!(h>0&&Me==c.text.length)&&(Ce=ke(h>0?0:g.length-1,h,B(Me)),Ce)?Ce:null}var $c={selectAll:dx,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),at)},killLine:function(a){return Xl(a,function(c){if(c.empty()){var p=Ge(a.doc,c.head.line).text.length;return c.head.ch==p&&c.head.line<a.lastLine()?{from:c.head,to:se(c.head.line+1,0)}:{from:c.head,to:se(c.head.line,p)}}else return{from:c.from(),to:c.to()}})},deleteLine:function(a){return Xl(a,function(c){return{from:se(c.from().line,0),to:dt(a.doc,se(c.to().line+1,0))}})},delLineLeft:function(a){return Xl(a,function(c){return{from:se(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(a){return Xl(a,function(c){var p=a.charCoords(c.head,"div").top+5,h=a.coordsChar({left:0,top:p},"div");return{from:h,to:c.from()}})},delWrappedLineRight:function(a){return Xl(a,function(c){var p=a.charCoords(c.head,"div").top+5,h=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div");return{from:c.from(),to:h}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(se(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(se(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(c){return Ox(a,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(c){return Mx(a,c.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(c){return gP(a,c.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(c){var p=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div")},ne)},goLineLeft:function(a){return a.extendSelectionsBy(function(c){var p=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:0,top:p},"div")},ne)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(c){var p=a.cursorCoords(c.head,"div").top+5,h=a.coordsChar({left:0,top:p},"div");return h.ch<a.getLine(h.line).search(/\S/)?Mx(a,c.head):h},ne)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var c=[],p=a.listSelections(),h=a.options.tabSize,g=0;g<p.length;g++){var b=p[g].from(),S=Be(a.getLine(b.line),b.ch,h);c.push(xe(h-S%h))}a.replaceSelections(c)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Lr(a,function(){for(var c=a.listSelections(),p=[],h=0;h<c.length;h++)if(c[h].empty()){var g=c[h].head,b=Ge(a.doc,g.line).text;if(b){if(g.ch==b.length&&(g=new se(g.line,g.ch-1)),g.ch>0)g=new se(g.line,g.ch+1),a.replaceRange(b.charAt(g.ch-1)+b.charAt(g.ch-2),se(g.line,g.ch-2),g,"+transpose");else if(g.line>a.doc.first){var S=Ge(a.doc,g.line-1).text;S&&(g=new se(g.line,1),a.replaceRange(b.charAt(0)+a.doc.lineSeparator()+S.charAt(S.length-1),se(g.line-1,S.length-1),g,"+transpose"))}}p.push(new Ht(g,g))}a.setSelections(p)})},newlineAndIndent:function(a){return Lr(a,function(){for(var c=a.listSelections(),p=c.length-1;p>=0;p--)a.replaceRange(a.doc.lineSeparator(),c[p].anchor,c[p].head,"+input");c=a.listSelections();for(var h=0;h<c.length;h++)a.indentLine(c[h].from().line,null,!0);jl(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Ox(a,c){var p=Ge(a.doc,c),h=Ti(p);return h!=p&&(c=$t(h)),Jv(!0,a,h,c,1)}function gP(a,c){var p=Ge(a.doc,c),h=QN(p);return h!=p&&(c=$t(h)),Jv(!0,a,p,c,-1)}function Mx(a,c){var p=Ox(a,c.line),h=Ge(a.doc,p.line),g=Ae(h,a.doc.direction);if(!g||g[0].level==0){var b=Math.max(p.ch,h.text.search(/\S/)),S=c.line==p.line&&c.ch<=b&&c.ch;return se(p.line,S?0:b,p.sticky)}return p}function bh(a,c,p){if(typeof c=="string"&&(c=$c[c],!c))return!1;a.display.input.ensurePolled();var h=a.display.shift,g=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),p&&(a.display.shift=!1),g=c(a)!=Fe}finally{a.display.shift=h,a.state.suppressEdits=!1}return g}function vP(a,c,p){for(var h=0;h<a.state.keyMaps.length;h++){var g=Jl(c,a.state.keyMaps[h],p,a);if(g)return g}return a.options.extraKeys&&Jl(c,a.options.extraKeys,p,a)||Jl(c,a.options.keyMap,p,a)}var yP=new Ee;function Hc(a,c,p,h){var g=a.state.keySeq;if(g){if(Tx(c))return"handled";if(/\'$/.test(c)?a.state.keySeq=null:yP.set(50,function(){a.state.keySeq==g&&(a.state.keySeq=null,a.display.input.reset())}),Lx(a,g+" "+c,p,h))return!0}return Lx(a,c,p,h)}function Lx(a,c,p,h){var g=vP(a,c,h);return g=="multi"&&(a.state.keySeq=c),g=="handled"&&Ln(a,"keyHandled",a,c,p),(g=="handled"||g=="multi")&&(Gt(p),Nv(a)),!!g}function Nx(a,c){var p=Ax(c,!0);return p?c.shiftKey&&!a.state.keySeq?Hc(a,"Shift-"+p,c,function(h){return bh(a,h,!0)})||Hc(a,p,c,function(h){if(typeof h=="string"?/^go[A-Z]/.test(h):h.motion)return bh(a,h)}):Hc(a,p,c,function(h){return bh(a,h)}):!1}function bP(a,c,p){return Hc(a,"'"+p+"'",c,function(h){return bh(a,h,!0)})}var Xv=null;function Ix(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField())&&(c.curOp.focus=ze(bt(c)),!Ct(c,a))){u&&f<11&&a.keyCode==27&&(a.returnValue=!1);var p=a.keyCode;c.display.shift=p==16||a.shiftKey;var h=Nx(c,a);_&&(Xv=h?p:null,!h&&p==88&&!Yi&&(H?a.metaKey:a.ctrlKey)&&c.replaceSelection("",null,"cut")),i&&!H&&!h&&p==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)&&_P(c)}}function _P(a){var c=a.display.lineDiv;qe(c,"CodeMirror-crosshair");function p(h){(h.keyCode==18||!h.altKey)&&(U(c,"CodeMirror-crosshair"),ct(document,"keyup",p),ct(document,"mouseover",p))}me(document,"keyup",p),me(document,"mouseover",p)}function Px(a){a.keyCode==16&&(this.doc.sel.shift=!1),Ct(this,a)}function Dx(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField())&&!(Ao(c.display,a)||Ct(c,a)||a.ctrlKey&&!a.altKey||H&&a.metaKey)){var p=a.keyCode,h=a.charCode;if(_&&p==Xv){Xv=null,Gt(a);return}if(!(_&&(!a.which||a.which<10)&&Nx(c,a))){var g=String.fromCharCode(h??p);g!="\b"&&(bP(c,a,g)||c.display.input.onKeyPress(a))}}}var wP=400,Zv=function(a,c,p){this.time=a,this.pos=c,this.button=p};Zv.prototype.compare=function(a,c,p){return this.time+wP>a&&we(c,this.pos)==0&&p==this.button};var Fc,Vc;function kP(a,c){var p=+new Date;return Vc&&Vc.compare(p,a,c)?(Fc=Vc=null,"triple"):Fc&&Fc.compare(p,a,c)?(Vc=new Zv(p,a,c),Fc=null,"double"):(Fc=new Zv(p,a,c),Vc=null,"single")}function Rx(a){var c=this,p=c.display;if(!(Ct(c,a)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=a.shiftKey,Ao(p,a)){d||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!Qv(c,a)){var h=ba(c,a),g=pc(a),b=h?kP(h,g):"single";yt(c).focus(),g==1&&c.state.selectingText&&c.state.selectingText(a),!(h&&xP(c,g,h,b,a))&&(g==1?h?CP(c,h,b,a):Sn(a)==p.scroller&&Gt(a):g==2?(h&&hh(c.doc,h),setTimeout(function(){return p.input.focus()},20)):g==3&&(w?c.display.input.onContextMenu(a):Iv(c)))}}}function xP(a,c,p,h,g){var b="Click";return h=="double"?b="Double"+b:h=="triple"&&(b="Triple"+b),b=(c==1?"Left":c==2?"Middle":"Right")+b,Hc(a,Ex(b,g),g,function(S){if(typeof S=="string"&&(S=$c[S]),!S)return!1;var T=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),T=S(a,p)!=Fe}finally{a.state.suppressEdits=!1}return T})}function SP(a,c,p){var h=a.getOption("configureMouse"),g=h?h(a,c,p):{};if(g.unit==null){var b=I?p.shiftKey&&p.metaKey:p.altKey;g.unit=b?"rectangle":c=="single"?"char":c=="double"?"word":"line"}return(g.extend==null||a.doc.extend)&&(g.extend=a.doc.extend||p.shiftKey),g.addNew==null&&(g.addNew=H?p.metaKey:p.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(H?p.altKey:p.ctrlKey)),g}function CP(a,c,p,h){u?setTimeout(Xe(zk,a),0):a.curOp.focus=ze(bt(a));var g=SP(a,p,h),b=a.doc.sel,S;a.options.dragDrop&&fv&&!a.isReadOnly()&&p=="single"&&(S=b.contains(c))>-1&&(we((S=b.ranges[S]).from(),c)<0||c.xRel>0)&&(we(S.to(),c)>0||c.xRel<0)?TP(a,h,c,g):EP(a,h,c,g)}function TP(a,c,p,h){var g=a.display,b=!1,S=Nn(a,function(B){d&&(g.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:Iv(a)),ct(g.wrapper.ownerDocument,"mouseup",S),ct(g.wrapper.ownerDocument,"mousemove",T),ct(g.scroller,"dragstart",M),ct(g.scroller,"drop",S),b||(Gt(B),h.addNew||hh(a.doc,p,null,null,h.extend),d&&!C||u&&f==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),T=function(B){b=b||Math.abs(c.clientX-B.clientX)+Math.abs(c.clientY-B.clientY)>=10},M=function(){return b=!0};d&&(g.scroller.draggable=!0),a.state.draggingText=S,S.copy=!h.moveOnDrag,me(g.wrapper.ownerDocument,"mouseup",S),me(g.wrapper.ownerDocument,"mousemove",T),me(g.scroller,"dragstart",M),me(g.scroller,"drop",S),a.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function zx(a,c,p){if(p=="char")return new Ht(c,c);if(p=="word")return a.findWordAt(c);if(p=="line")return new Ht(se(c.line,0),dt(a.doc,se(c.line+1,0)));var h=p(a,c);return new Ht(h.from,h.to)}function EP(a,c,p,h){u&&Iv(a);var g=a.display,b=a.doc;Gt(c);var S,T,M=b.sel,B=M.ranges;if(h.addNew&&!h.extend?(T=b.sel.contains(p),T>-1?S=B[T]:S=new Ht(p,p)):(S=b.sel.primary(),T=b.sel.primIndex),h.unit=="rectangle")h.addNew||(S=new Ht(p,p)),p=ba(a,c,!0,!0),T=-1;else{var J=zx(a,p,h.unit);h.extend?S=qv(S,J.anchor,J.head,h.extend):S=J}h.addNew?T==-1?(T=B.length,Gn(b,Ai(a,B.concat([S]),T),{scroll:!1,origin:"*mouse"})):B.length>1&&B[T].empty()&&h.unit=="char"&&!h.extend?(Gn(b,Ai(a,B.slice(0,T).concat(B.slice(T+1)),0),{scroll:!1,origin:"*mouse"}),M=b.sel):Kv(b,T,S,ie):(T=0,Gn(b,new Xr([S],0),ie),M=b.sel);var te=p;function fe(Re){if(we(te,Re)!=0)if(te=Re,h.unit=="rectangle"){for(var Ve=[],nt=a.options.tabSize,et=Be(Ge(b,p.line).text,p.ch,nt),St=Be(Ge(b,Re.line).text,Re.ch,nt),Yt=Math.min(et,St),Pn=Math.max(et,St),sn=Math.min(p.line,Re.line),Nr=Math.min(a.lastLine(),Math.max(p.line,Re.line));sn<=Nr;sn++){var wr=Ge(b,sn).text,wn=be(wr,Yt,nt);Yt==Pn?Ve.push(new Ht(se(sn,wn),se(sn,wn))):wr.length>wn&&Ve.push(new Ht(se(sn,wn),se(sn,be(wr,Pn,nt))))}Ve.length||Ve.push(new Ht(p,p)),Gn(b,Ai(a,M.ranges.slice(0,T).concat(Ve),T),{origin:"*mouse",scroll:!1}),a.scrollIntoView(Re)}else{var kr=S,jn=zx(a,Re,h.unit),Tn=kr.anchor,kn;we(jn.anchor,Tn)>0?(kn=jn.head,Tn=Cn(kr.from(),jn.anchor)):(kn=jn.anchor,Tn=It(kr.to(),jn.head));var un=M.ranges.slice(0);un[T]=AP(a,new Ht(dt(b,Tn),kn)),Gn(b,Ai(a,un,T),ie)}}var ue=g.wrapper.getBoundingClientRect(),ke=0;function Ce(Re){var Ve=++ke,nt=ba(a,Re,!0,h.unit=="rectangle");if(nt)if(we(nt,te)!=0){a.curOp.focus=ze(bt(a)),fe(nt);var et=ah(g,b);(nt.line>=et.to||nt.line<et.from)&&setTimeout(Nn(a,function(){ke==Ve&&Ce(Re)}),150)}else{var St=Re.clientY<ue.top?-20:Re.clientY>ue.bottom?20:0;St&&setTimeout(Nn(a,function(){ke==Ve&&(g.scroller.scrollTop+=St,Ce(Re))}),50)}}function Me(Re){a.state.selectingText=!1,ke=1/0,Re&&(Gt(Re),g.input.focus()),ct(g.wrapper.ownerDocument,"mousemove",De),ct(g.wrapper.ownerDocument,"mouseup",$e),b.history.lastSelOrigin=null}var De=Nn(a,function(Re){Re.buttons===0||!pc(Re)?Me(Re):Ce(Re)}),$e=Nn(a,Me);a.state.selectingText=$e,me(g.wrapper.ownerDocument,"mousemove",De),me(g.wrapper.ownerDocument,"mouseup",$e)}function AP(a,c){var p=c.anchor,h=c.head,g=Ge(a.doc,p.line);if(we(p,h)==0&&p.sticky==h.sticky)return c;var b=Ae(g);if(!b)return c;var S=je(b,p.ch,p.sticky),T=b[S];if(T.from!=p.ch&&T.to!=p.ch)return c;var M=S+(T.from==p.ch==(T.level!=1)?0:1);if(M==0||M==b.length)return c;var B;if(h.line!=p.line)B=(h.line-p.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var J=je(b,h.ch,h.sticky),te=J-S||(h.ch-p.ch)*(T.level==1?-1:1);J==M-1||J==M?B=te<0:B=te>0}var fe=b[M+(B?-1:0)],ue=B==(fe.level==1),ke=ue?fe.from:fe.to,Ce=ue?"after":"before";return p.ch==ke&&p.sticky==Ce?c:new Ht(new se(p.line,ke,Ce),h)}function Bx(a,c,p,h){var g,b;if(c.touches)g=c.touches[0].clientX,b=c.touches[0].clientY;else try{g=c.clientX,b=c.clientY}catch{return!1}if(g>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;h&&Gt(c);var S=a.display,T=S.lineDiv.getBoundingClientRect();if(b>T.bottom||!Kt(a,p))return Gr(c);b-=T.top-S.viewOffset;for(var M=0;M<a.display.gutterSpecs.length;++M){var B=S.gutters.childNodes[M];if(B&&B.getBoundingClientRect().right>=g){var J=Xi(a.doc,b),te=a.display.gutterSpecs[M];return ot(a,p,a,J,te.className,c),Gr(c)}}}function Qv(a,c){return Bx(a,c,"gutterClick",!0)}function $x(a,c){Ao(a.display,c)||OP(a,c)||Ct(a,c,"contextmenu")||w||a.display.input.onContextMenu(c)}function OP(a,c){return Kt(a,"gutterContextMenu")?Bx(a,c,"gutterContextMenu",!1):!1}function Hx(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),kc(a)}var Zl={toString:function(){return"CodeMirror.Init"}},Fx={},_h={};function MP(a){var c=a.optionHandlers;function p(h,g,b,S){a.defaults[h]=g,b&&(c[h]=S?function(T,M,B){B!=Zl&&b(T,M,B)}:b)}a.defineOption=p,a.Init=Zl,p("value","",function(h,g){return h.setValue(g)},!0),p("mode",null,function(h,g){h.doc.modeOption=g,jv(h)},!0),p("indentUnit",2,jv,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(h){Mc(h),kc(h),br(h)},!0),p("lineSeparator",null,function(h,g){if(h.doc.lineSep=g,!!g){var b=[],S=h.doc.first;h.doc.iter(function(M){for(var B=0;;){var J=M.text.indexOf(g,B);if(J==-1)break;B=J+g.length,b.push(se(S,J))}S++});for(var T=b.length-1;T>=0;T--)Gl(h.doc,g,b[T],se(b[T].line,b[T].ch+g.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(h,g,b){h.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),b!=Zl&&h.refresh()}),p("specialCharPlaceholder",oI,function(h){return h.refresh()},!0),p("electricChars",!0),p("inputStyle",E?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(h,g){return h.getInputField().spellcheck=g},!0),p("autocorrect",!1,function(h,g){return h.getInputField().autocorrect=g},!0),p("autocapitalize",!1,function(h,g){return h.getInputField().autocapitalize=g},!0),p("rtlMoveVisually",!q),p("wholeLineUpdateBefore",!0),p("theme","default",function(h){Hx(h),Oc(h)},!0),p("keyMap","default",function(h,g,b){var S=yh(g),T=b!=Zl&&yh(b);T&&T.detach&&T.detach(h,S),S.attach&&S.attach(h,T||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,NP,!0),p("gutters",[],function(h,g){h.display.gutterSpecs=Fv(g,h.options.lineNumbers),Oc(h)},!0),p("fixedGutter",!0,function(h,g){h.display.gutters.style.left=g?Ov(h.display)+"px":"0",h.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(h){return Wl(h)},!0),p("scrollbarStyle","native",function(h){jk(h),Wl(h),h.display.scrollbars.setScrollTop(h.doc.scrollTop),h.display.scrollbars.setScrollLeft(h.doc.scrollLeft)},!0),p("lineNumbers",!1,function(h,g){h.display.gutterSpecs=Fv(h.options.gutters,g),Oc(h)},!0),p("firstLineNumber",1,Oc,!0),p("lineNumberFormatter",function(h){return h},Oc,!0),p("showCursorWhenSelecting",!1,xc,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(h,g){g=="nocursor"&&(Vl(h),h.display.input.blur()),h.display.input.readOnlyChanged(g)}),p("screenReaderLabel",null,function(h,g){g=g===""?null:g,h.display.input.screenReaderLabelChanged(g)}),p("disableInput",!1,function(h,g){g||h.display.input.reset()},!0),p("dragDrop",!0,LP),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,xc,!0),p("singleCursorHeightPerLine",!0,xc,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Mc,!0),p("addModeClass",!1,Mc,!0),p("pollInterval",100),p("undoDepth",200,function(h,g){return h.doc.history.undoDepth=g}),p("historyEventDelay",1250),p("viewportMargin",10,function(h){return h.refresh()},!0),p("maxHighlightLength",1e4,Mc,!0),p("moveInputWithCursor",!0,function(h,g){g||h.display.input.resetPosition()}),p("tabindex",null,function(h,g){return h.display.input.getField().tabIndex=g||""}),p("autofocus",null),p("direction","ltr",function(h,g){return h.doc.setDirection(g)},!0),p("phrases",null)}function LP(a,c,p){var h=p&&p!=Zl;if(!c!=!h){var g=a.display.dragFunctions,b=c?me:ct;b(a.display.scroller,"dragstart",g.start),b(a.display.scroller,"dragenter",g.enter),b(a.display.scroller,"dragover",g.over),b(a.display.scroller,"dragleave",g.leave),b(a.display.scroller,"drop",g.drop)}}function NP(a){a.options.lineWrapping?(qe(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(U(a.display.wrapper,"CodeMirror-wrap"),bv(a)),Mv(a),br(a),kc(a),setTimeout(function(){return Wl(a)},100)}function Qt(a,c){var p=this;if(!(this instanceof Qt))return new Qt(a,c);this.options=c=c?Ie(c):{},Ie(Fx,c,!1);var h=c.value;typeof h=="string"?h=new _r(h,c.mode,null,c.lineSeparator,c.direction):c.mode&&(h.modeOption=c.mode),this.doc=h;var g=new Qt.inputStyles[c.inputStyle](this),b=this.display=new UI(a,h,g,c);b.wrapper.CodeMirror=this,Hx(this),c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),jk(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ee,keySeq:null,specialChars:null},c.autofocus&&!E&&b.input.focus(),u&&f<11&&setTimeout(function(){return p.display.input.reset(!0)},20),IP(this),cP(),xa(this),this.curOp.forceUpdate=!0,Qk(this,h),c.autofocus&&!E||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Pv(p)},20):Vl(this);for(var S in _h)_h.hasOwnProperty(S)&&_h[S](this,c[S],Zl);qk(this),c.finishInit&&c.finishInit(this);for(var T=0;T<e0.length;++T)e0[T](this);Sa(this),d&&c.lineWrapping&&getComputedStyle(b.lineDiv).textRendering=="optimizelegibility"&&(b.lineDiv.style.textRendering="auto")}Qt.defaults=Fx,Qt.optionHandlers=_h;function IP(a){var c=a.display;me(c.scroller,"mousedown",Nn(a,Rx)),u&&f<11?me(c.scroller,"dblclick",Nn(a,function(M){if(!Ct(a,M)){var B=ba(a,M);if(!(!B||Qv(a,M)||Ao(a.display,M))){Gt(M);var J=a.findWordAt(B);hh(a.doc,J.anchor,J.head)}}})):me(c.scroller,"dblclick",function(M){return Ct(a,M)||Gt(M)}),me(c.scroller,"contextmenu",function(M){return $x(a,M)}),me(c.input.getField(),"contextmenu",function(M){c.scroller.contains(M.target)||$x(a,M)});var p,h={end:0};function g(){c.activeTouch&&(p=setTimeout(function(){return c.activeTouch=null},1e3),h=c.activeTouch,h.end=+new Date)}function b(M){if(M.touches.length!=1)return!1;var B=M.touches[0];return B.radiusX<=1&&B.radiusY<=1}function S(M,B){if(B.left==null)return!0;var J=B.left-M.left,te=B.top-M.top;return J*J+te*te>20*20}me(c.scroller,"touchstart",function(M){if(!Ct(a,M)&&!b(M)&&!Qv(a,M)){c.input.ensurePolled(),clearTimeout(p);var B=+new Date;c.activeTouch={start:B,moved:!1,prev:B-h.end<=300?h:null},M.touches.length==1&&(c.activeTouch.left=M.touches[0].pageX,c.activeTouch.top=M.touches[0].pageY)}}),me(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),me(c.scroller,"touchend",function(M){var B=c.activeTouch;if(B&&!Ao(c,M)&&B.left!=null&&!B.moved&&new Date-B.start<300){var J=a.coordsChar(c.activeTouch,"page"),te;!B.prev||S(B,B.prev)?te=new Ht(J,J):!B.prev.prev||S(B,B.prev.prev)?te=a.findWordAt(J):te=new Ht(se(J.line,0),dt(a.doc,se(J.line+1,0))),a.setSelection(te.anchor,te.head),a.focus(),Gt(M)}g()}),me(c.scroller,"touchcancel",g),me(c.scroller,"scroll",function(){c.scroller.clientHeight&&(Cc(a,c.scroller.scrollTop),wa(a,c.scroller.scrollLeft,!0),ot(a,"scroll",a))}),me(c.scroller,"mousewheel",function(M){return Yk(a,M)}),me(c.scroller,"DOMMouseScroll",function(M){return Yk(a,M)}),me(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(M){Ct(a,M)||Yr(M)},over:function(M){Ct(a,M)||(uP(a,M),Yr(M))},start:function(M){return lP(a,M)},drop:Nn(a,aP),leave:function(M){Ct(a,M)||xx(a)}};var T=c.input.getField();me(T,"keyup",function(M){return Px.call(a,M)}),me(T,"keydown",Nn(a,Ix)),me(T,"keypress",Nn(a,Dx)),me(T,"focus",function(M){return Pv(a,M)}),me(T,"blur",function(M){return Vl(a,M)})}var e0=[];Qt.defineInitHook=function(a){return e0.push(a)};function jc(a,c,p,h){var g=a.doc,b;p==null&&(p="add"),p=="smart"&&(g.mode.indent?b=vc(a,c).state:p="prev");var S=a.options.tabSize,T=Ge(g,c),M=Be(T.text,null,S);T.stateAfter&&(T.stateAfter=null);var B=T.text.match(/^\s*/)[0],J;if(!h&&!/\S/.test(T.text))J=0,p="not";else if(p=="smart"&&(J=g.mode.indent(b,T.text.slice(B.length),T.text),J==Fe||J>150)){if(!h)return;p="prev"}p=="prev"?c>g.first?J=Be(Ge(g,c-1).text,null,S):J=0:p=="add"?J=M+a.options.indentUnit:p=="subtract"?J=M-a.options.indentUnit:typeof p=="number"&&(J=M+p),J=Math.max(0,J);var te="",fe=0;if(a.options.indentWithTabs)for(var ue=Math.floor(J/S);ue;--ue)fe+=S,te+="	";if(fe<J&&(te+=xe(J-fe)),te!=B)return Gl(g,te,se(c,0),se(c,B.length),"+input"),T.stateAfter=null,!0;for(var ke=0;ke<g.sel.ranges.length;ke++){var Ce=g.sel.ranges[ke];if(Ce.head.line==c&&Ce.head.ch<B.length){var Me=se(c,B.length);Kv(g,ke,new Ht(Me,Me));break}}}var Oi=null;function wh(a){Oi=a}function t0(a,c,p,h,g){var b=a.doc;a.display.shift=!1,h||(h=b.sel);var S=+new Date-200,T=g=="paste"||a.state.pasteIncoming>S,M=mc(c),B=null;if(T&&h.ranges.length>1)if(Oi&&Oi.text.join(`
`)==c){if(h.ranges.length%Oi.text.length==0){B=[];for(var J=0;J<Oi.text.length;J++)B.push(b.splitLines(Oi.text[J]))}}else M.length==h.ranges.length&&a.options.pasteLinesPerSelection&&(B=Z(M,function(De){return[De]}));for(var te=a.curOp.updateInput,fe=h.ranges.length-1;fe>=0;fe--){var ue=h.ranges[fe],ke=ue.from(),Ce=ue.to();ue.empty()&&(p&&p>0?ke=se(ke.line,ke.ch-p):a.state.overwrite&&!T?Ce=se(Ce.line,Math.min(Ge(b,Ce.line).text.length,Ce.ch+G(M).length)):T&&Oi&&Oi.lineWise&&Oi.text.join(`
`)==M.join(`
`)&&(ke=Ce=se(ke.line,0)));var Me={from:ke,to:Ce,text:B?B[fe%B.length]:M,origin:g||(T?"paste":a.state.cutIncoming>S?"cut":"+input")};Kl(a.doc,Me),Ln(a,"inputRead",a,Me)}c&&!T&&jx(a,c),jl(a),a.curOp.updateInput<2&&(a.curOp.updateInput=te),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function Vx(a,c){var p=a.clipboardData&&a.clipboardData.getData("Text");if(p)return a.preventDefault(),!c.isReadOnly()&&!c.options.disableInput&&c.hasFocus()&&Lr(c,function(){return t0(c,p,0,null,"paste")}),!0}function jx(a,c){if(!(!a.options.electricChars||!a.options.smartIndent))for(var p=a.doc.sel,h=p.ranges.length-1;h>=0;h--){var g=p.ranges[h];if(!(g.head.ch>100||h&&p.ranges[h-1].head.line==g.head.line)){var b=a.getModeAt(g.head),S=!1;if(b.electricChars){for(var T=0;T<b.electricChars.length;T++)if(c.indexOf(b.electricChars.charAt(T))>-1){S=jc(a,g.head.line,"smart");break}}else b.electricInput&&b.electricInput.test(Ge(a.doc,g.head.line).text.slice(0,g.head.ch))&&(S=jc(a,g.head.line,"smart"));S&&Ln(a,"electricInput",a,g.head.line)}}}function Wx(a){for(var c=[],p=[],h=0;h<a.doc.sel.ranges.length;h++){var g=a.doc.sel.ranges[h].head.line,b={anchor:se(g,0),head:se(g+1,0)};p.push(b),c.push(a.getRange(b.anchor,b.head))}return{text:c,ranges:p}}function n0(a,c,p,h){a.setAttribute("autocorrect",p?"on":"off"),a.setAttribute("autocapitalize",h?"on":"off"),a.setAttribute("spellcheck",!!c)}function Ux(){var a=D("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),c=D("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return d?a.style.width="1000px":a.setAttribute("wrap","off"),A&&(a.style.border="1px solid black"),c}function PP(a){var c=a.optionHandlers,p=a.helpers={};a.prototype={constructor:a,focus:function(){yt(this).focus(),this.display.input.focus()},setOption:function(h,g){var b=this.options,S=b[h];b[h]==g&&h!="mode"||(b[h]=g,c.hasOwnProperty(h)&&Nn(this,c[h])(this,g,S),ot(this,"optionChange",this,h))},getOption:function(h){return this.options[h]},getDoc:function(){return this.doc},addKeyMap:function(h,g){this.state.keyMaps[g?"push":"unshift"](yh(h))},removeKeyMap:function(h){for(var g=this.state.keyMaps,b=0;b<g.length;++b)if(g[b]==h||g[b].name==h)return g.splice(b,1),!0},addOverlay:sr(function(h,g){var b=h.token?h:a.getMode(this.options,h);if(b.startState)throw new Error("Overlays may not be stateful.");L(this.state.overlays,{mode:b,modeSpec:h,opaque:g&&g.opaque,priority:g&&g.priority||0},function(S){return S.priority}),this.state.modeGen++,br(this)}),removeOverlay:sr(function(h){for(var g=this.state.overlays,b=0;b<g.length;++b){var S=g[b].modeSpec;if(S==h||typeof h=="string"&&S.name==h){g.splice(b,1),this.state.modeGen++,br(this);return}}}),indentLine:sr(function(h,g,b){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),V(this.doc,h)&&jc(this,h,g,b)}),indentSelection:sr(function(h){for(var g=this.doc.sel.ranges,b=-1,S=0;S<g.length;S++){var T=g[S];if(T.empty())T.head.line>b&&(jc(this,T.head.line,h,!0),b=T.head.line,S==this.doc.sel.primIndex&&jl(this));else{var M=T.from(),B=T.to(),J=Math.max(b,M.line);b=Math.min(this.lastLine(),B.line-(B.ch?0:1))+1;for(var te=J;te<b;++te)jc(this,te,h);var fe=this.doc.sel.ranges;M.ch==0&&g.length==fe.length&&fe[S].from().ch>0&&Kv(this.doc,S,new Ht(M,fe[S].to()),at)}}}),getTokenAt:function(h,g){return tk(this,h,g)},getLineTokens:function(h,g){return tk(this,se(h),g,!0)},getTokenTypeAt:function(h){h=dt(this.doc,h);var g=Zw(this,Ge(this.doc,h.line)),b=0,S=(g.length-1)/2,T=h.ch,M;if(T==0)M=g[2];else for(;;){var B=b+S>>1;if((B?g[B*2-1]:0)>=T)S=B;else if(g[B*2+1]<T)b=B+1;else{M=g[B*2+2];break}}var J=M?M.indexOf("overlay "):-1;return J<0?M:J==0?null:M.slice(0,J-1)},getModeAt:function(h){var g=this.doc.mode;return g.innerMode?a.innerMode(g,this.getTokenAt(h).state).mode:g},getHelper:function(h,g){return this.getHelpers(h,g)[0]},getHelpers:function(h,g){var b=[];if(!p.hasOwnProperty(g))return b;var S=p[g],T=this.getModeAt(h);if(typeof T[g]=="string")S[T[g]]&&b.push(S[T[g]]);else if(T[g])for(var M=0;M<T[g].length;M++){var B=S[T[g][M]];B&&b.push(B)}else T.helperType&&S[T.helperType]?b.push(S[T.helperType]):S[T.name]&&b.push(S[T.name]);for(var J=0;J<S._global.length;J++){var te=S._global[J];te.pred(T,this)&&Ze(b,te.val)==-1&&b.push(te.val)}return b},getStateAfter:function(h,g){var b=this.doc;return h=Jr(b,h??b.first+b.size-1),vc(this,h+1,g).state},cursorCoords:function(h,g){var b,S=this.doc.sel.primary();return h==null?b=S.head:typeof h=="object"?b=dt(this.doc,h):b=h?S.from():S.to(),Ei(this,b,g||"page")},charCoords:function(h,g){return rh(this,dt(this.doc,h),g||"page")},coordsChar:function(h,g){return h=Mk(this,h,g||"page"),Tv(this,h.left,h.top)},lineAtHeight:function(h,g){return h=Mk(this,{top:h,left:0},g||"page").top,Xi(this.doc,h+this.display.viewOffset)},heightAtLine:function(h,g,b){var S=!1,T;if(typeof h=="number"){var M=this.doc.first+this.doc.size-1;h<this.doc.first?h=this.doc.first:h>M&&(h=M,S=!0),T=Ge(this.doc,h)}else T=h;return nh(this,T,{top:0,left:0},g||"page",b||S).top+(S?this.doc.height-Eo(T):0)},defaultTextHeight:function(){return Hl(this.display)},defaultCharWidth:function(){return Fl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(h,g,b,S,T){var M=this.display;h=Ei(this,dt(this.doc,h));var B=h.bottom,J=h.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),M.sizer.appendChild(g),S=="over")B=h.top;else if(S=="above"||S=="near"){var te=Math.max(M.wrapper.clientHeight,this.doc.height),fe=Math.max(M.sizer.clientWidth,M.lineSpace.clientWidth);(S=="above"||h.bottom+g.offsetHeight>te)&&h.top>g.offsetHeight?B=h.top-g.offsetHeight:h.bottom+g.offsetHeight<=te&&(B=h.bottom),J+g.offsetWidth>fe&&(J=fe-g.offsetWidth)}g.style.top=B+"px",g.style.left=g.style.right="",T=="right"?(J=M.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(T=="left"?J=0:T=="middle"&&(J=(M.sizer.clientWidth-g.offsetWidth)/2),g.style.left=J+"px"),b&&LI(this,{left:J,top:B,right:J+g.offsetWidth,bottom:B+g.offsetHeight})},triggerOnKeyDown:sr(Ix),triggerOnKeyPress:sr(Dx),triggerOnKeyUp:Px,triggerOnMouseDown:sr(Rx),execCommand:function(h){if($c.hasOwnProperty(h))return $c[h].call(null,this)},triggerElectric:sr(function(h){jx(this,h)}),findPosH:function(h,g,b,S){var T=1;g<0&&(T=-1,g=-g);for(var M=dt(this.doc,h),B=0;B<g&&(M=r0(this.doc,M,T,b,S),!M.hitSide);++B);return M},moveH:sr(function(h,g){var b=this;this.extendSelectionsBy(function(S){return b.display.shift||b.doc.extend||S.empty()?r0(b.doc,S.head,h,g,b.options.rtlMoveVisually):h<0?S.from():S.to()},ne)}),deleteH:sr(function(h,g){var b=this.doc.sel,S=this.doc;b.somethingSelected()?S.replaceSelection("",null,"+delete"):Xl(this,function(T){var M=r0(S,T.head,h,g,!1);return h<0?{from:M,to:T.head}:{from:T.head,to:M}})}),findPosV:function(h,g,b,S){var T=1,M=S;g<0&&(T=-1,g=-g);for(var B=dt(this.doc,h),J=0;J<g;++J){var te=Ei(this,B,"div");if(M==null?M=te.left:te.left=M,B=qx(this,te,T,b),B.hitSide)break}return B},moveV:sr(function(h,g){var b=this,S=this.doc,T=[],M=!this.display.shift&&!S.extend&&S.sel.somethingSelected();if(S.extendSelectionsBy(function(J){if(M)return h<0?J.from():J.to();var te=Ei(b,J.head,"div");J.goalColumn!=null&&(te.left=J.goalColumn),T.push(te.left);var fe=qx(b,te,h,g);return g=="page"&&J==S.sel.primary()&&Rv(b,rh(b,fe,"div").top-te.top),fe},ne),T.length)for(var B=0;B<S.sel.ranges.length;B++)S.sel.ranges[B].goalColumn=T[B]}),findWordAt:function(h){var g=this.doc,b=Ge(g,h.line).text,S=h.ch,T=h.ch;if(b){var M=this.getHelper(h,"wordChars");(h.sticky=="before"||T==b.length)&&S?--S:++T;for(var B=b.charAt(S),J=Q(B,M)?function(te){return Q(te,M)}:/\s/.test(B)?function(te){return/\s/.test(te)}:function(te){return!/\s/.test(te)&&!Q(te)};S>0&&J(b.charAt(S-1));)--S;for(;T<b.length&&J(b.charAt(T));)++T}return new Ht(se(h.line,S),se(h.line,T))},toggleOverwrite:function(h){h!=null&&h==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?qe(this.display.cursorDiv,"CodeMirror-overwrite"):U(this.display.cursorDiv,"CodeMirror-overwrite"),ot(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ze(bt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:sr(function(h,g){Sc(this,h,g)}),getScrollInfo:function(){var h=this.display.scroller;return{left:h.scrollLeft,top:h.scrollTop,height:h.scrollHeight-Qi(this)-this.display.barHeight,width:h.scrollWidth-Qi(this)-this.display.barWidth,clientHeight:kv(this),clientWidth:va(this)}},scrollIntoView:sr(function(h,g){h==null?(h={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof h=="number"?h={from:se(h,0),to:null}:h.from==null&&(h={from:h,to:null}),h.to||(h.to=h.from),h.margin=g||0,h.from.line!=null?NI(this,h):$k(this,h.from,h.to,h.margin)}),setSize:sr(function(h,g){var b=this,S=function(M){return typeof M=="number"||/^\d+$/.test(String(M))?M+"px":M};h!=null&&(this.display.wrapper.style.width=S(h)),g!=null&&(this.display.wrapper.style.height=S(g)),this.options.lineWrapping&&Ek(this);var T=this.display.viewFrom;this.doc.iter(T,this.display.viewTo,function(M){if(M.widgets){for(var B=0;B<M.widgets.length;B++)if(M.widgets[B].noHScroll){ps(b,T,"widget");break}}++T}),this.curOp.forceUpdate=!0,ot(this,"refresh",this)}),operation:function(h){return Lr(this,h)},startOperation:function(){return xa(this)},endOperation:function(){return Sa(this)},refresh:sr(function(){var h=this.display.cachedTextHeight;br(this),this.curOp.forceUpdate=!0,kc(this),Sc(this,this.doc.scrollLeft,this.doc.scrollTop),$v(this.display),(h==null||Math.abs(h-Hl(this.display))>.5||this.options.lineWrapping)&&Mv(this),ot(this,"refresh",this)}),swapDoc:sr(function(h){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),Qk(this,h),kc(this),this.display.input.reset(),Sc(this,h.scrollLeft,h.scrollTop),this.curOp.forceScroll=!0,Ln(this,"swapDoc",this,g),g}),phrase:function(h){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,h)?g[h]:h},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Xt(a),a.registerHelper=function(h,g,b){p.hasOwnProperty(h)||(p[h]=a[h]={_global:[]}),p[h][g]=b},a.registerGlobalHelper=function(h,g,b,S){a.registerHelper(h,g,S),p[h]._global.push({pred:b,val:S})}}function r0(a,c,p,h,g){var b=c,S=p,T=Ge(a,c.line),M=g&&a.direction=="rtl"?-p:p;function B(){var $e=c.line+M;return $e<a.first||$e>=a.first+a.size?!1:(c=new se($e,c.ch,c.sticky),T=Ge(a,$e))}function J($e){var Re;if(h=="codepoint"){var Ve=T.text.charCodeAt(c.ch+(p>0?0:-1));if(isNaN(Ve))Re=null;else{var nt=p>0?Ve>=55296&&Ve<56320:Ve>=56320&&Ve<57343;Re=new se(c.line,Math.max(0,Math.min(T.text.length,c.ch+p*(nt?2:1))),-p)}}else g?Re=mP(a.cm,T,c,p):Re=Yv(T,c,p);if(Re==null)if(!$e&&B())c=Jv(g,a.cm,T,c.line,M);else return!1;else c=Re;return!0}if(h=="char"||h=="codepoint")J();else if(h=="column")J(!0);else if(h=="word"||h=="group")for(var te=null,fe=h=="group",ue=a.cm&&a.cm.getHelper(c,"wordChars"),ke=!0;!(p<0&&!J(!ke));ke=!1){var Ce=T.text.charAt(c.ch)||`
`,Me=Q(Ce,ue)?"w":fe&&Ce==`
`?"n":!fe||/\s/.test(Ce)?null:"p";if(fe&&!ke&&!Me&&(Me="s"),te&&te!=Me){p<0&&(p=1,J(),c.sticky="after");break}if(Me&&(te=Me),p>0&&!J(!ke))break}var De=mh(a,c,b,S,!0);return ft(b,De)&&(De.hitSide=!0),De}function qx(a,c,p,h){var g=a.doc,b=c.left,S;if(h=="page"){var T=Math.min(a.display.wrapper.clientHeight,yt(a).innerHeight||g(a).documentElement.clientHeight),M=Math.max(T-.5*Hl(a.display),3);S=(p>0?c.bottom:c.top)+p*M}else h=="line"&&(S=p>0?c.bottom+3:c.top-3);for(var B;B=Tv(a,b,S),!!B.outside;){if(p<0?S<=0:S>=g.height){B.hitSide=!0;break}S+=p*5}return B}var Wt=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ee,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Wt.prototype.init=function(a){var c=this,p=this,h=p.cm,g=p.div=a.lineDiv;g.contentEditable=!0,n0(g,h.options.spellcheck,h.options.autocorrect,h.options.autocapitalize);function b(T){for(var M=T.target;M;M=M.parentNode){if(M==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(M.className))break}return!1}me(g,"paste",function(T){!b(T)||Ct(h,T)||Vx(T,h)||f<=11&&setTimeout(Nn(h,function(){return c.updateFromDOM()}),20)}),me(g,"compositionstart",function(T){c.composing={data:T.data,done:!1}}),me(g,"compositionupdate",function(T){c.composing||(c.composing={data:T.data,done:!1})}),me(g,"compositionend",function(T){c.composing&&(T.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),me(g,"touchstart",function(){return p.forceCompositionEnd()}),me(g,"input",function(){c.composing||c.readFromDOMSoon()});function S(T){if(!(!b(T)||Ct(h,T))){if(h.somethingSelected())wh({lineWise:!1,text:h.getSelections()}),T.type=="cut"&&h.replaceSelection("",null,"cut");else if(h.options.lineWiseCopyCut){var M=Wx(h);wh({lineWise:!0,text:M.text}),T.type=="cut"&&h.operation(function(){h.setSelections(M.ranges,0,at),h.replaceSelection("",null,"cut")})}else return;if(T.clipboardData){T.clipboardData.clearData();var B=Oi.text.join(`
`);if(T.clipboardData.setData("Text",B),T.clipboardData.getData("Text")==B){T.preventDefault();return}}var J=Ux(),te=J.firstChild;n0(te),h.display.lineSpace.insertBefore(J,h.display.lineSpace.firstChild),te.value=Oi.text.join(`
`);var fe=ze(g.ownerDocument);mt(te),setTimeout(function(){h.display.lineSpace.removeChild(J),fe.focus(),fe==g&&p.showPrimarySelection()},50)}}me(g,"copy",S),me(g,"cut",S)},Wt.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Wt.prototype.prepareSelection=function(){var a=Rk(this.cm,!1);return a.focus=ze(this.div.ownerDocument)==this.div,a},Wt.prototype.showSelection=function(a,c){!a||!this.cm.display.view.length||((a.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Wt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Wt.prototype.showPrimarySelection=function(){var a=this.getSelection(),c=this.cm,p=c.doc.sel.primary(),h=p.from(),g=p.to();if(c.display.viewTo==c.display.viewFrom||h.line>=c.display.viewTo||g.line<c.display.viewFrom){a.removeAllRanges();return}var b=kh(c,a.anchorNode,a.anchorOffset),S=kh(c,a.focusNode,a.focusOffset);if(!(b&&!b.bad&&S&&!S.bad&&we(Cn(b,S),h)==0&&we(It(b,S),g)==0)){var T=c.display.view,M=h.line>=c.display.viewFrom&&Kx(c,h)||{node:T[0].measure.map[2],offset:0},B=g.line<c.display.viewTo&&Kx(c,g);if(!B){var J=T[T.length-1].measure,te=J.maps?J.maps[J.maps.length-1]:J.map;B={node:te[te.length-1],offset:te[te.length-2]-te[te.length-3]}}if(!M||!B){a.removeAllRanges();return}var fe=a.rangeCount&&a.getRangeAt(0),ue;try{ue=ce(M.node,M.offset,B.offset,B.node)}catch{}ue&&(!i&&c.state.focused?(a.collapse(M.node,M.offset),ue.collapsed||(a.removeAllRanges(),a.addRange(ue))):(a.removeAllRanges(),a.addRange(ue)),fe&&a.anchorNode==null?a.addRange(fe):i&&this.startGracePeriod()),this.rememberSelection()}},Wt.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Wt.prototype.showMultipleSelections=function(a){oe(this.cm.display.cursorDiv,a.cursors),oe(this.cm.display.selectionDiv,a.selection)},Wt.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Wt.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var c=a.getRangeAt(0).commonAncestorContainer;return ve(this.div,c)},Wt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ze(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Wt.prototype.blur=function(){this.div.blur()},Wt.prototype.getField=function(){return this.div},Wt.prototype.supportsTouch=function(){return!0},Wt.prototype.receivedFocus=function(){var a=this,c=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):Lr(this.cm,function(){return c.cm.curOp.selectionChanged=!0});function p(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},Wt.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Wt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),c=this.cm;if(N&&v&&this.cm.display.gutterSpecs.length&&DP(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=kh(c,a.anchorNode,a.anchorOffset),h=kh(c,a.focusNode,a.focusOffset);p&&h&&Lr(c,function(){Gn(c.doc,gs(p,h),at),(p.bad||h.bad)&&(c.curOp.selectionChanged=!0)})}}},Wt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,c=a.display,p=a.doc.sel.primary(),h=p.from(),g=p.to();if(h.ch==0&&h.line>a.firstLine()&&(h=se(h.line-1,Ge(a.doc,h.line-1).length)),g.ch==Ge(a.doc,g.line).text.length&&g.line<a.lastLine()&&(g=se(g.line+1,0)),h.line<c.viewFrom||g.line>c.viewTo-1)return!1;var b,S,T;h.line==c.viewFrom||(b=_a(a,h.line))==0?(S=$t(c.view[0].line),T=c.view[0].node):(S=$t(c.view[b].line),T=c.view[b-1].node.nextSibling);var M=_a(a,g.line),B,J;if(M==c.view.length-1?(B=c.viewTo-1,J=c.lineDiv.lastChild):(B=$t(c.view[M+1].line)-1,J=c.view[M+1].node.previousSibling),!T)return!1;for(var te=a.doc.splitLines(RP(a,T,J,S,B)),fe=Co(a.doc,se(S,0),se(B,Ge(a.doc,B).text.length));te.length>1&&fe.length>1;)if(G(te)==G(fe))te.pop(),fe.pop(),B--;else if(te[0]==fe[0])te.shift(),fe.shift(),S++;else break;for(var ue=0,ke=0,Ce=te[0],Me=fe[0],De=Math.min(Ce.length,Me.length);ue<De&&Ce.charCodeAt(ue)==Me.charCodeAt(ue);)++ue;for(var $e=G(te),Re=G(fe),Ve=Math.min($e.length-(te.length==1?ue:0),Re.length-(fe.length==1?ue:0));ke<Ve&&$e.charCodeAt($e.length-ke-1)==Re.charCodeAt(Re.length-ke-1);)++ke;if(te.length==1&&fe.length==1&&S==h.line)for(;ue&&ue>h.ch&&$e.charCodeAt($e.length-ke-1)==Re.charCodeAt(Re.length-ke-1);)ue--,ke++;te[te.length-1]=$e.slice(0,$e.length-ke).replace(/^\u200b+/,""),te[0]=te[0].slice(ue).replace(/\u200b+$/,"");var nt=se(S,ue),et=se(B,fe.length?G(fe).length-ke:0);if(te.length>1||te[0]||we(nt,et))return Gl(a.doc,te,nt,et,"+input"),!0},Wt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Wt.prototype.reset=function(){this.forceCompositionEnd()},Wt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Wt.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},Wt.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&Lr(this.cm,function(){return br(a.cm)})},Wt.prototype.setUneditable=function(a){a.contentEditable="false"},Wt.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Nn(this.cm,t0)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},Wt.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},Wt.prototype.onContextMenu=function(){},Wt.prototype.resetPosition=function(){},Wt.prototype.needsContentAttribute=!0;function Kx(a,c){var p=xv(a,c.line);if(!p||p.hidden)return null;var h=Ge(a.doc,c.line),g=kk(p,h,c.line),b=Ae(h,a.doc.direction),S="left";if(b){var T=je(b,c.ch);S=T%2?"right":"left"}var M=Ck(g.map,c.ch,S);return M.offset=M.collapse=="right"?M.end:M.start,M}function DP(a){for(var c=a;c;c=c.parentNode)if(/CodeMirror-gutter-wrapper/.test(c.className))return!0;return!1}function Ql(a,c){return c&&(a.bad=!0),a}function RP(a,c,p,h,g){var b="",S=!1,T=a.doc.lineSeparator(),M=!1;function B(ue){return function(ke){return ke.id==ue}}function J(){S&&(b+=T,M&&(b+=T),S=M=!1)}function te(ue){ue&&(J(),b+=ue)}function fe(ue){if(ue.nodeType==1){var ke=ue.getAttribute("cm-text");if(ke){te(ke);return}var Ce=ue.getAttribute("cm-marker"),Me;if(Ce){var De=a.findMarks(se(h,0),se(g+1,0),B(+Ce));De.length&&(Me=De[0].find(0))&&te(Co(a.doc,Me.from,Me.to).join(T));return}if(ue.getAttribute("contenteditable")=="false")return;var $e=/^(pre|div|p|li|table|br)$/i.test(ue.nodeName);if(!/^br$/i.test(ue.nodeName)&&ue.textContent.length==0)return;$e&&J();for(var Re=0;Re<ue.childNodes.length;Re++)fe(ue.childNodes[Re]);/^(pre|p)$/i.test(ue.nodeName)&&(M=!0),$e&&(S=!0)}else ue.nodeType==3&&te(ue.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;fe(c),c!=p;)c=c.nextSibling,M=!1;return b}function kh(a,c,p){var h;if(c==a.display.lineDiv){if(h=a.display.lineDiv.childNodes[p],!h)return Ql(a.clipPos(se(a.display.viewTo-1)),!0);c=null,p=0}else for(h=c;;h=h.parentNode){if(!h||h==a.display.lineDiv)return null;if(h.parentNode&&h.parentNode==a.display.lineDiv)break}for(var g=0;g<a.display.view.length;g++){var b=a.display.view[g];if(b.node==h)return zP(b,c,p)}}function zP(a,c,p){var h=a.text.firstChild,g=!1;if(!c||!ve(h,c))return Ql(se($t(a.line),0),!0);if(c==h&&(g=!0,c=h.childNodes[p],p=0,!c)){var b=a.rest?G(a.rest):a.line;return Ql(se($t(b),b.text.length),g)}var S=c.nodeType==3?c:null,T=c;for(!S&&c.childNodes.length==1&&c.firstChild.nodeType==3&&(S=c.firstChild,p&&(p=S.nodeValue.length));T.parentNode!=h;)T=T.parentNode;var M=a.measure,B=M.maps;function J(Me,De,$e){for(var Re=-1;Re<(B?B.length:0);Re++)for(var Ve=Re<0?M.map:B[Re],nt=0;nt<Ve.length;nt+=3){var et=Ve[nt+2];if(et==Me||et==De){var St=$t(Re<0?a.line:a.rest[Re]),Yt=Ve[nt]+$e;return($e<0||et!=Me)&&(Yt=Ve[nt+($e?1:0)]),se(St,Yt)}}}var te=J(S,T,p);if(te)return Ql(te,g);for(var fe=T.nextSibling,ue=S?S.nodeValue.length-p:0;fe;fe=fe.nextSibling){if(te=J(fe,fe.firstChild,0),te)return Ql(se(te.line,te.ch-ue),g);ue+=fe.textContent.length}for(var ke=T.previousSibling,Ce=p;ke;ke=ke.previousSibling){if(te=J(ke,ke.firstChild,-1),te)return Ql(se(te.line,te.ch+Ce),g);Ce+=ke.textContent.length}}var dn=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Ee,this.hasSelection=!1,this.composing=null,this.resetting=!1};dn.prototype.init=function(a){var c=this,p=this,h=this.cm;this.createField(a);var g=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),A&&(g.style.width="0px"),me(g,"input",function(){u&&f>=9&&c.hasSelection&&(c.hasSelection=null),p.poll()}),me(g,"paste",function(S){Ct(h,S)||Vx(S,h)||(h.state.pasteIncoming=+new Date,p.fastPoll())});function b(S){if(!Ct(h,S)){if(h.somethingSelected())wh({lineWise:!1,text:h.getSelections()});else if(h.options.lineWiseCopyCut){var T=Wx(h);wh({lineWise:!0,text:T.text}),S.type=="cut"?h.setSelections(T.ranges,null,at):(p.prevInput="",g.value=T.text.join(`
`),mt(g))}else return;S.type=="cut"&&(h.state.cutIncoming=+new Date)}}me(g,"cut",b),me(g,"copy",b),me(a.scroller,"paste",function(S){if(!(Ao(a,S)||Ct(h,S))){if(!g.dispatchEvent){h.state.pasteIncoming=+new Date,p.focus();return}var T=new Event("paste");T.clipboardData=S.clipboardData,g.dispatchEvent(T)}}),me(a.lineSpace,"selectstart",function(S){Ao(a,S)||Gt(S)}),me(g,"compositionstart",function(){var S=h.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:S,range:h.markText(S,h.getCursor("to"),{className:"CodeMirror-composing"})}}),me(g,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},dn.prototype.createField=function(a){this.wrapper=Ux(),this.textarea=this.wrapper.firstChild;var c=this.cm.options;n0(this.textarea,c.spellcheck,c.autocorrect,c.autocapitalize)},dn.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},dn.prototype.prepareSelection=function(){var a=this.cm,c=a.display,p=a.doc,h=Rk(a);if(a.options.moveInputWithCursor){var g=Ei(a,p.sel.primary().head,"div"),b=c.wrapper.getBoundingClientRect(),S=c.lineDiv.getBoundingClientRect();h.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,g.top+S.top-b.top)),h.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,g.left+S.left-b.left))}return h},dn.prototype.showSelection=function(a){var c=this.cm,p=c.display;oe(p.cursorDiv,a.cursors),oe(p.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},dn.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var c=this.cm;if(this.resetting=!0,c.somethingSelected()){this.prevInput="";var p=c.getSelection();this.textarea.value=p,c.state.focused&&mt(this.textarea),u&&f>=9&&(this.hasSelection=p)}else a||(this.prevInput=this.textarea.value="",u&&f>=9&&(this.hasSelection=null));this.resetting=!1}},dn.prototype.getField=function(){return this.textarea},dn.prototype.supportsTouch=function(){return!1},dn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!E||ze(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},dn.prototype.blur=function(){this.textarea.blur()},dn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},dn.prototype.receivedFocus=function(){this.slowPoll()},dn.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},dn.prototype.fastPoll=function(){var a=!1,c=this;c.pollingFast=!0;function p(){var h=c.poll();!h&&!a?(a=!0,c.polling.set(60,p)):(c.pollingFast=!1,c.slowPoll())}c.polling.set(20,p)},dn.prototype.poll=function(){var a=this,c=this.cm,p=this.textarea,h=this.prevInput;if(this.contextMenuPending||this.resetting||!c.state.focused||us(p)&&!h&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var g=p.value;if(g==h&&!c.somethingSelected())return!1;if(u&&f>=9&&this.hasSelection===g||H&&/[\uf700-\uf7ff]/.test(g))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var b=g.charCodeAt(0);if(b==8203&&!h&&(h="​"),b==8666)return this.reset(),this.cm.execCommand("undo")}for(var S=0,T=Math.min(h.length,g.length);S<T&&h.charCodeAt(S)==g.charCodeAt(S);)++S;return Lr(c,function(){t0(c,g.slice(S),h.length-S,null,a.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?p.value=a.prevInput="":a.prevInput=g,a.composing&&(a.composing.range.clear(),a.composing.range=c.markText(a.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},dn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},dn.prototype.onKeyPress=function(){u&&f>=9&&(this.hasSelection=null),this.fastPoll()},dn.prototype.onContextMenu=function(a){var c=this,p=c.cm,h=p.display,g=c.textarea;c.contextMenuPending&&c.contextMenuPending();var b=ba(p,a),S=h.scroller.scrollTop;if(!b||_)return;var T=p.options.resetSelectionOnContextMenu;T&&p.doc.sel.contains(b)==-1&&Nn(p,Gn)(p.doc,gs(b),at);var M=g.style.cssText,B=c.wrapper.style.cssText,J=c.wrapper.offsetParent.getBoundingClientRect();c.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-J.top-5)+"px; left: "+(a.clientX-J.left-5)+`px;
      z-index: 1000; background: `+(u?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var te;d&&(te=g.ownerDocument.defaultView.scrollY),h.input.focus(),d&&g.ownerDocument.defaultView.scrollTo(null,te),h.input.reset(),p.somethingSelected()||(g.value=c.prevInput=" "),c.contextMenuPending=ue,h.selForContextMenu=p.doc.sel,clearTimeout(h.detectingSelectAll);function fe(){if(g.selectionStart!=null){var Ce=p.somethingSelected(),Me="​"+(Ce?g.value:"");g.value="⇚",g.value=Me,c.prevInput=Ce?"":"​",g.selectionStart=1,g.selectionEnd=Me.length,h.selForContextMenu=p.doc.sel}}function ue(){if(c.contextMenuPending==ue&&(c.contextMenuPending=!1,c.wrapper.style.cssText=B,g.style.cssText=M,u&&f<9&&h.scrollbars.setScrollTop(h.scroller.scrollTop=S),g.selectionStart!=null)){(!u||u&&f<9)&&fe();var Ce=0,Me=function(){h.selForContextMenu==p.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&c.prevInput=="​"?Nn(p,dx)(p):Ce++<10?h.detectingSelectAll=setTimeout(Me,500):(h.selForContextMenu=null,h.input.reset())};h.detectingSelectAll=setTimeout(Me,200)}}if(u&&f>=9&&fe(),w){Yr(a);var ke=function(){ct(window,"mouseup",ke),setTimeout(ue,20)};me(window,"mouseup",ke)}else setTimeout(ue,50)},dn.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},dn.prototype.setUneditable=function(){},dn.prototype.needsContentAttribute=!1;function BP(a,c){if(c=c?Ie(c):{},c.value=a.value,!c.tabindex&&a.tabIndex&&(c.tabindex=a.tabIndex),!c.placeholder&&a.placeholder&&(c.placeholder=a.placeholder),c.autofocus==null){var p=ze(a.ownerDocument);c.autofocus=p==a||a.getAttribute("autofocus")!=null&&p==document.body}function h(){a.value=T.getValue()}var g;if(a.form&&(me(a.form,"submit",h),!c.leaveSubmitMethodAlone)){var b=a.form;g=b.submit;try{var S=b.submit=function(){h(),b.submit=g,b.submit(),b.submit=S}}catch{}}c.finishInit=function(M){M.save=h,M.getTextArea=function(){return a},M.toTextArea=function(){M.toTextArea=isNaN,h(),a.parentNode.removeChild(M.getWrapperElement()),a.style.display="",a.form&&(ct(a.form,"submit",h),!c.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=g))}},a.style.display="none";var T=Qt(function(M){return a.parentNode.insertBefore(M,a.nextSibling)},c);return T}function $P(a){a.off=ct,a.on=me,a.wheelEventPixels=qI,a.Doc=_r,a.splitLines=mc,a.countColumn=Be,a.findColumn=be,a.isWordChar=F,a.Pass=Fe,a.signal=ot,a.Line=zl,a.changeEnd=vs,a.scrollbarModel=Vk,a.Pos=se,a.cmpPos=we,a.modes=Ci,a.mimeModes=cs,a.resolveMode=Mr,a.getMode=xo,a.modeExtensions=fs,a.extendMode=Kd,a.copyState=So,a.startState=gc,a.innerMode=ds,a.commands=$c,a.keyMap=Mo,a.keyName=Ax,a.isModifierKey=Tx,a.lookupKey=Jl,a.normalizeKeyMap=pP,a.StringStream=ln,a.SharedTextMarker=Rc,a.TextMarker=bs,a.LineWidget=Dc,a.e_preventDefault=Gt,a.e_stopPropagation=Kn,a.e_stop=Yr,a.addClass=qe,a.contains=ve,a.rmClass=U,a.keyNames=_s}MP(Qt),PP(Qt);var HP="iter insert remove copy getEditor constructor".split(" ");for(var xh in _r.prototype)_r.prototype.hasOwnProperty(xh)&&Ze(HP,xh)<0&&(Qt.prototype[xh]=function(a){return function(){return a.apply(this.doc,arguments)}}(_r.prototype[xh]));return Xt(_r),Qt.inputStyles={textarea:dn,contenteditable:Wt},Qt.defineMode=function(a){!Qt.defaults.mode&&a!="null"&&(Qt.defaults.mode=a),qd.apply(this,arguments)},Qt.defineMIME=Dl,Qt.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),Qt.defineMIME("text/plain","null"),Qt.defineExtension=function(a,c){Qt.prototype[a]=c},Qt.defineDocExtension=function(a,c){_r.prototype[a]=c},Qt.fromTextArea=BP,$P(Qt),Qt.version="5.65.12",Qt})}(Koe)),tg}var Goe=Or();const IN=qoe(Goe);(function(t,e){(function(n){n(Or())})(function(n){var r=n.Pos,i="http://www.w3.org/2000/svg";function o(L,W){this.mv=L,this.type=W,this.classes=W=="left"?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}o.prototype={constructor:o,init:function(L,W,O){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=n(L,Ee({value:W,readOnly:!this.mv.options.allowEditingOriginals},Ee(O))),this.mv.options.connect=="align"&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new ie(this.edit)),this.orig.state.trackAlignable=new ie(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.lockButton.setAttribute("aria-label",this.lockButton.title),this.orig.state.diffViews=[this];var j=O.chunkClassLocation||"background";Object.prototype.toString.call(j)!="[object Array]"&&(j=[j]),this.classes.classLocation=j,this.diff=ae(oe(W),oe(O.value),this.mv.options.ignoreWhitespace),this.chunks=ce(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=O.showDifferences!==!1},registerEvents:function(L){this.forceUpdate=u(this),v(this,!0,!1),f(this,L)},setShowDifferences:function(L){L=L!==!1,L!=this.showDifferences&&(this.showDifferences=L,this.forceUpdate("full"))}};function s(L){L.diffOutOfDate&&(L.diff=ae(L.orig.getValue(),L.edit.getValue(),L.mv.options.ignoreWhitespace),L.chunks=ce(L.diff),L.diffOutOfDate=!1,n.signal(L.edit,"updateDiff",L.diff))}var l=!1;function u(L){var W={from:0,to:0,marked:[]},O={from:0,to:0,marked:[]},j,F=!1;function Q(X){l=!0,F=!1,X=="full"&&(L.svg&&Ie(L.svg),L.copyButtons&&Ie(L.copyButtons),_(L.edit,W.marked,L.classes),_(L.orig,O.marked,L.classes),W.from=W.to=O.from=O.to=0),s(L),L.showDifferences&&(C(L.edit,L.diff,W,DIFF_INSERT,L.classes),C(L.orig,L.diff,O,DIFF_DELETE,L.classes)),L.mv.options.connect=="align"&&q(L),A(L),L.needsScrollSync!=null&&d(L,L.needsScrollSync),l=!1}function le(X){l||(L.dealigned=!0,pe(X))}function pe(X){l||F||(clearTimeout(j),X===!0&&(F=!0),j=setTimeout(Q,X===!0?20:250))}function ye(X,de){L.diffOutOfDate||(L.diffOutOfDate=!0,W.from=W.to=O.from=O.to=0),le(de.text.length-1!=de.to.line-de.from.line)}function Y(){L.diffOutOfDate=!0,L.dealigned=!0,Q("full")}return L.edit.on("change",ye),L.orig.on("change",ye),L.edit.on("swapDoc",Y),L.orig.on("swapDoc",Y),L.mv.options.connect=="align"&&(n.on(L.edit.state.trackAlignable,"realign",le),n.on(L.orig.state.trackAlignable,"realign",le)),L.edit.on("viewportChange",function(){pe(!1)}),L.orig.on("viewportChange",function(){pe(!1)}),Q(),Q}function f(L,W){L.edit.on("scroll",function(){d(L,!0)&&A(L)}),L.orig.on("scroll",function(){d(L,!1)&&A(L),W&&d(W,!0)&&A(W)})}function d(L,W){if(L.diffOutOfDate)return L.lockScroll&&L.needsScrollSync==null&&(L.needsScrollSync=W),!1;if(L.needsScrollSync=null,!L.lockScroll)return!0;var O,j,F=+new Date;if(W?(O=L.edit,j=L.orig):(O=L.orig,j=L.edit),O.state.scrollSetBy==L&&(O.state.scrollSetAt||0)+250>F)return!1;var Q=O.getScrollInfo();if(L.mv.options.connect=="align")je=Q.top;else{var le=.5*Q.clientHeight,pe=Q.top+le,ye=O.lineAtHeight(pe,"local"),Y=qe(L.chunks,ye,W),X=m(O,W?Y.edit:Y.orig),de=m(j,W?Y.orig:Y.edit),Te=(pe-X.top)/(X.bot-X.top),je=de.top-le+Te*(de.bot-de.top),he,Ae;if(je>Q.top&&(Ae=Q.top/le)<1)je=je*Ae+Q.top*(1-Ae);else if((he=Q.height-Q.clientHeight-Q.top)<le){var Le=j.getScrollInfo(),me=Le.height-Le.clientHeight-je;me>he&&(Ae=he/le)<1&&(je=je*Ae+(Le.height-Le.clientHeight-he)*(1-Ae))}}return j.scrollTo(Q.left,je),j.state.scrollSetAt=F,j.state.scrollSetBy=L,!0}function m(L,W){var O=W.after;return O==null&&(O=L.lastLine()+1),{top:L.heightAtLine(W.before||0,"local"),bot:L.heightAtLine(O,"local")}}function v(L,W,O){L.lockScroll=W,W&&O!=!1&&d(L,DIFF_INSERT)&&A(L),(W?n.addClass:n.rmClass)(L.lockButton,"CodeMirror-merge-scrolllock-enabled")}function y(L,W,O){for(var j=O.classLocation,F=0;F<j.length;F++)L.removeLineClass(W,j[F],O.chunk),L.removeLineClass(W,j[F],O.start),L.removeLineClass(W,j[F],O.end)}function _(L,W,O){for(var j=0;j<W.length;++j){var F=W[j];F instanceof n.TextMarker?F.clear():F.parent&&y(L,F,O)}W.length=0}function C(L,W,O,j,F){var Q=L.getViewport();L.operation(function(){O.from==O.to||Q.from-O.to>20||O.from-Q.to>20?(_(L,O.marked,F),k(L,W,j,O.marked,Q.from,Q.to,F),O.from=Q.from,O.to=Q.to):(Q.from<O.from&&(k(L,W,j,O.marked,Q.from,O.from,F),O.from=Q.from),Q.to>O.to&&(k(L,W,j,O.marked,O.to,Q.to,F),O.to=Q.to))})}function x(L,W,O,j,F,Q){for(var le=O.classLocation,pe=L.getLineHandle(W),ye=0;ye<le.length;ye++)j&&L.addLineClass(pe,le[ye],O.chunk),F&&L.addLineClass(pe,le[ye],O.start),Q&&L.addLineClass(pe,le[ye],O.end);return pe}function k(L,W,O,j,F,Q,le){var pe=r(0,0),ye=r(F,0),Y=L.clipPos(r(Q-1)),X=O==DIFF_DELETE?le.del:le.insert;function de(Kt,Xt){for(var Gt=Math.max(F,Kt),Kn=Math.min(Q,Xt),Gr=Gt;Gr<Kn;++Gr)j.push(x(L,Gr,le,!0,Gr==Kt,Gr==Xt-1));Kt==Xt&&Gt==Xt&&Kn==Xt&&(Gt?j.push(x(L,Gt-1,le,!1,!1,!0)):j.push(x(L,Gt,le,!1,!0,!1)))}for(var Te=0,je=!1,he=0;he<W.length;++he){var Ae=W[he],Le=Ae[0],me=Ae[1];if(Le==DIFF_EQUAL){var Je=pe.line+(ze(W,he)?0:1);Ze(pe,me);var ct=pe.line+(ve(W,he)?1:0);ct>Je&&(je&&(de(Te,Je),je=!1),Te=ct)}else if(je=!0,Le==O){var ot=Ze(pe,me,!0),Ct=be(ye,pe),yr=ne(Y,ot);_e(Ct,yr)||j.push(L.markText(Ct,yr,{className:X})),pe=ot}}je&&de(Te,pe.line+1)}function A(L){if(L.showDifferences){if(L.svg){Ie(L.svg);var W=L.gap.offsetWidth;Be(L.svg,"width",W,"height",L.gap.offsetHeight)}L.copyButtons&&Ie(L.copyButtons);for(var O=L.edit.getViewport(),j=L.orig.getViewport(),F=L.mv.wrap.getBoundingClientRect().top,Q=F-L.edit.getScrollerElement().getBoundingClientRect().top+L.edit.getScrollInfo().top,le=F-L.orig.getScrollerElement().getBoundingClientRect().top+L.orig.getScrollInfo().top,pe=0;pe<L.chunks.length;pe++){var ye=L.chunks[pe];ye.editFrom<=O.to&&ye.editTo>=O.from&&ye.origFrom<=j.to&&ye.origTo>=j.from&&w(L,ye,le,Q,W)}}}function N(L,W){for(var O=0,j=0,F=0;F<W.length;F++){var Q=W[F];if(Q.editTo>L&&Q.editFrom<=L)return null;if(Q.editFrom>L)break;O=Q.editTo,j=Q.origTo}return j+(L-O)}function E(L,W,O){for(var j=L.state.trackAlignable,F=L.firstLine(),Q=0,le=[],pe=0;;pe++){for(var ye=W[pe],Y=ye?O?ye.origFrom:ye.editFrom:1e9;Q<j.alignable.length;Q+=2){var X=j.alignable[Q]+1;if(!(X<=F))if(X<=Y)le.push(X);else break}if(!ye)break;le.push(F=O?ye.origTo:ye.editTo)}return le}function H(L,W,O,j){var F=0,Q=0,le=0,pe=0;e:for(;;F++){var ye=L[F],Y=W[Q];if(!ye&&Y==null)break;for(var X=ye?ye[0]:1e9,de=Y??1e9;le<O.length;){var Te=O[le];if(Te.origFrom<=de&&Te.origTo>de){Q++,F--;continue e}if(Te.editTo>X){if(Te.editFrom<=X)continue e;break}pe+=Te.origTo-Te.origFrom-(Te.editTo-Te.editFrom),le++}if(X==de-pe)ye[j]=de,Q++;else if(X<de-pe)ye[j]=X+pe;else{var je=[de-pe,null,null];je[j]=de,L.splice(F,0,je),Q++}}}function I(L,W){var O=E(L.edit,L.chunks,!1),j=[];if(W)for(var F=0,Q=0;F<W.chunks.length;F++){for(var le=W.chunks[F].editTo;Q<O.length&&O[Q]<le;)Q++;(Q==O.length||O[Q]!=le)&&O.splice(Q++,0,le)}for(var F=0;F<O.length;F++)j.push([O[F],null,null]);return H(j,E(L.orig,L.chunks,!0),L.chunks,1),W&&H(j,E(W.orig,W.chunks,!0),W.chunks,2),j}function q(L,W){if(!(!L.dealigned&&!W)){if(!L.orig.curOp)return L.orig.operation(function(){q(L,W)});L.dealigned=!1;var O=L.mv.left==L?L.mv.right:L.mv.left;O&&(s(O),O.dealigned=!1);for(var j=I(L,O),F=L.mv.aligners,Q=0;Q<F.length;Q++)F[Q].clear();F.length=0;var le=[L.edit,L.orig],pe=[],ye=[];O&&le.push(O.orig);for(var Q=0;Q<le.length;Q++)pe.push(le[Q].getScrollInfo().top),ye.push(-le[Q].getScrollerElement().getBoundingClientRect().top);(ye[0]!=ye[1]||le.length==3&&ye[1]!=ye[2])&&P(le,ye,[0,0,0],F);for(var Y=0;Y<j.length;Y++)P(le,ye,j[Y],F);for(var Q=0;Q<le.length;Q++)le[Q].scrollTo(null,pe[Q])}}function P(L,W,O,j){for(var F=-1e8,Q=[],le=0;le<L.length;le++)if(O[le]!=null){var pe=L[le].heightAtLine(O[le],"local")-W[le];Q[le]=pe,F=Math.max(F,pe)}for(var le=0;le<L.length;le++)if(O[le]!=null){var ye=F-Q[le];ye>1&&j.push(z(L[le],O[le],ye))}}function z(L,W,O){var j=!0;W>L.lastLine()&&(W--,j=!1);var F=document.createElement("div");return F.className="CodeMirror-merge-spacer",F.style.height=O+"px",F.style.minWidth="1px",L.addLineWidget(W,F,{height:O,above:j,mergeSpacer:!0,handleMouseEvents:!0})}function w(L,W,O,j,F){var Q=L.type=="left",le=L.orig.heightAtLine(W.origFrom,"local",!0)-O;if(L.svg){var pe=le,ye=L.edit.heightAtLine(W.editFrom,"local",!0)-j;if(Q){var Y=pe;pe=ye,ye=Y}var X=L.orig.heightAtLine(W.origTo,"local",!0)-O,de=L.edit.heightAtLine(W.editTo,"local",!0)-j;if(Q){var Y=X;X=de,de=Y}var Te=" C "+F/2+" "+ye+" "+F/2+" "+pe+" "+(F+2)+" "+pe,je=" C "+F/2+" "+X+" "+F/2+" "+de+" -1 "+de;Be(L.svg.appendChild(document.createElementNS(i,"path")),"d","M -1 "+ye+Te+" L "+(F+2)+" "+X+je+" z","class",L.classes.connect)}if(L.copyButtons){var he=L.copyButtons.appendChild(Xe("div",L.type=="left"?"⇝":"⇜","CodeMirror-merge-copy")),Ae=L.mv.options.allowEditingOriginals;if(he.title=L.edit.phrase(Ae?"Push to left":"Revert chunk"),he.chunk=W,he.style.top=(W.origTo>W.origFrom?le:L.edit.heightAtLine(W.editFrom,"local")-j)+"px",he.setAttribute("role","button"),he.setAttribute("tabindex","0"),he.setAttribute("aria-label",he.title),Ae){var Le=L.edit.heightAtLine(W.editFrom,"local")-j,me=L.copyButtons.appendChild(Xe("div",L.type=="right"?"⇝":"⇜","CodeMirror-merge-copy-reverse"));me.title="Push to right",me.chunk={editFrom:W.origFrom,editTo:W.origTo,origFrom:W.editFrom,origTo:W.editTo},me.style.top=Le+"px",L.type=="right"?me.style.left="2px":me.style.right="2px",me.setAttribute("role","button"),me.setAttribute("tabindex","0"),me.setAttribute("aria-label",me.title)}}}function R(L,W,O,j){if(!L.diffOutOfDate){var F=j.origTo>O.lastLine()?r(j.origFrom-1):r(j.origFrom,0),Q=r(j.origTo,0),le=j.editTo>W.lastLine()?r(j.editFrom-1):r(j.editFrom,0),pe=r(j.editTo,0),ye=L.mv.options.revertChunk;ye?ye(L.mv,O,F,Q,W,le,pe):W.replaceRange(O.getRange(F,Q),le,pe)}}var U=n.MergeView=function(L,W){if(!(this instanceof U))return new U(L,W);this.options=W;var O=W.origLeft,j=W.origRight==null?W.orig:W.origRight,F=O!=null,Q=j!=null,le=1+(F?1:0)+(Q?1:0),pe=[],ye=this.left=null,Y=this.right=null,X=this;if(F){ye=this.left=new o(this,"left");var de=Xe("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");pe.push(de),pe.push(K(ye))}var Te=Xe("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(pe.push(Te),Q){Y=this.right=new o(this,"right"),pe.push(K(Y));var je=Xe("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");pe.push(je)}(Q?je:Te).className+=" CodeMirror-merge-pane-rightmost",pe.push(Xe("div",null,null,"height: 0; clear: both;"));var he=this.wrap=L.appendChild(Xe("div",pe,"CodeMirror-merge CodeMirror-merge-"+le+"pane"));this.edit=n(Te,Ee(W)),ye&&ye.init(de,O,W),Y&&Y.init(je,j,W),W.collapseIdentical&&this.editor().operation(function(){yt(X,W.collapseIdentical)}),W.connect=="align"&&(this.aligners=[],q(this.left||this.right,!0)),ye&&ye.registerEvents(Y),Y&&Y.registerEvents(ye);var Ae=function(){ye&&A(ye),Y&&A(Y)};n.on(window,"resize",Ae);var Le=setInterval(function(){for(var me=he.parentNode;me&&me!=document.body;me=me.parentNode);me||(clearInterval(Le),n.off(window,"resize",Ae))},5e3)};function K(L){var W=L.lockButton=Xe("div",null,"CodeMirror-merge-scrolllock");W.setAttribute("role","button"),W.setAttribute("tabindex","0");var O=Xe("div",[W],"CodeMirror-merge-scrolllock-wrap");n.on(W,"click",function(){v(L,!L.lockScroll)}),n.on(W,"keyup",function(le){(le.key==="Enter"||le.code==="Space")&&v(L,!L.lockScroll)});var j=[O];if(L.mv.options.revertButtons!==!1){L.copyButtons=Xe("div",null,"CodeMirror-merge-copybuttons-"+L.type);var F=function(le){var pe=le.target||le.srcElement;if(pe.chunk){if(pe.className=="CodeMirror-merge-copy-reverse"){R(L,L.orig,L.edit,pe.chunk);return}R(L,L.edit,L.orig,pe.chunk)}};n.on(L.copyButtons,"click",F),n.on(L.copyButtons,"keyup",function(le){(le.key==="Enter"||le.code==="Space")&&F(le)}),j.unshift(L.copyButtons)}if(L.mv.options.connect!="align"){var Q=document.createElementNS&&document.createElementNS(i,"svg");Q&&!Q.createSVGRect&&(Q=null),L.svg=Q,Q&&j.push(Q)}return L.gap=Xe("div",j,"CodeMirror-merge-gap")}U.prototype={constructor:U,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(L){this.right&&this.right.setShowDifferences(L),this.left&&this.left.setShowDifferences(L)},rightChunks:function(){if(this.right)return s(this.right),this.right.chunks},leftChunks:function(){if(this.left)return s(this.left),this.left.chunks}};function oe(L){return typeof L=="string"?L:L.getValue()}var D;function ae(L,W,O){D||(D=new diff_match_patch);for(var j=D.diff_main(L,W),F=0;F<j.length;++F){var Q=j[F];(O?!/[^ \t]/.test(Q[1]):!Q[1])?j.splice(F--,1):F&&j[F-1][0]==Q[0]&&(j.splice(F--,1),j[F][1]+=Q[1])}return j}function ce(L){var W=[];if(!L.length)return W;for(var O=0,j=0,F=r(0,0),Q=r(0,0),le=0;le<L.length;++le){var pe=L[le],ye=pe[0];if(ye==DIFF_EQUAL){var Y=!ze(L,le)||F.line<O||Q.line<j?1:0,X=F.line+Y,de=Q.line+Y;Ze(F,pe[1],null,Q);var Te=ve(L,le)?1:0,je=F.line+Te,he=Q.line+Te;je>X&&(le&&W.push({origFrom:j,origTo:de,editFrom:O,editTo:X}),O=je,j=he)}else Ze(ye==DIFF_INSERT?F:Q,pe[1])}return(O<=F.line||j<=Q.line)&&W.push({origFrom:j,origTo:Q.line+1,editFrom:O,editTo:F.line+1}),W}function ve(L,W){if(W==L.length-1)return!0;var O=L[W+1][1];return O.length==1&&W<L.length-2||O.charCodeAt(0)!=10?!1:W==L.length-2?!0:(O=L[W+2][1],(O.length>1||W==L.length-3)&&O.charCodeAt(0)==10)}function ze(L,W){if(W==0)return!0;var O=L[W-1][1];return O.charCodeAt(O.length-1)!=10?!1:W==1?!0:(O=L[W-2][1],O.charCodeAt(O.length-1)==10)}function qe(L,W,O){for(var j,F,Q,le,pe=0;pe<L.length;pe++){var ye=L[pe],Y=O?ye.editFrom:ye.origFrom,X=O?ye.editTo:ye.origTo;F==null&&(Y>W?(F=ye.editFrom,le=ye.origFrom):X>W&&(F=ye.editTo,le=ye.origTo)),X<=W?(j=ye.editTo,Q=ye.origTo):Y<=W&&(j=ye.editFrom,Q=ye.origFrom)}return{edit:{before:j,after:F},orig:{before:Q,after:le}}}function vt(L,W,O){L.addLineClass(W,"wrap","CodeMirror-merge-collapsed-line");var j=document.createElement("span");j.className="CodeMirror-merge-collapsed-widget",j.title=L.phrase("Identical text collapsed. Click to expand.");var F=L.markText(r(W,0),r(O-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:j,clearOnEnter:!0});function Q(){F.clear(),L.removeLineClass(W,"wrap","CodeMirror-merge-collapsed-line")}return F.explicitlyCleared&&Q(),n.on(j,"click",Q),F.on("clear",Q),n.on(j,"click",Q),{mark:F,clear:Q}}function mt(L,W){var O=[];function j(){for(var pe=0;pe<O.length;pe++)O[pe].clear()}for(var F=0;F<W.length;F++){var Q=W[F],le=vt(Q.cm,Q.line,Q.line+L);O.push(le),le.mark.on("clear",j)}return O[0].mark}function bt(L,W,O,j){for(var F=0;F<L.chunks.length;F++)for(var Q=L.chunks[F],le=Q.editFrom-W;le<Q.editTo+W;le++){var pe=le+O;pe>=0&&pe<j.length&&(j[pe]=!1)}}function yt(L,W){typeof W!="number"&&(W=2);for(var O=[],j=L.editor(),F=j.firstLine(),Q=F,le=j.lastLine();Q<=le;Q++)O.push(!0);L.left&&bt(L.left,W,F,O),L.right&&bt(L.right,W,F,O);for(var pe=0;pe<O.length;pe++)if(O[pe]){for(var ye=pe+F,Y=1;pe<O.length-1&&O[pe+1];pe++,Y++);if(Y>W){var X=[{line:ye,cm:j}];L.left&&X.push({line:N(ye,L.left.chunks),cm:L.left.orig}),L.right&&X.push({line:N(ye,L.right.chunks),cm:L.right.orig});var de=mt(Y,X);L.options.onCollapse&&L.options.onCollapse(L,ye,Y,de)}}}function Xe(L,W,O,j){var F=document.createElement(L);if(O&&(F.className=O),j&&(F.style.cssText=j),typeof W=="string")F.appendChild(document.createTextNode(W));else if(W)for(var Q=0;Q<W.length;++Q)F.appendChild(W[Q]);return F}function Ie(L){for(var W=L.childNodes.length;W>0;--W)L.removeChild(L.firstChild)}function Be(L){for(var W=1;W<arguments.length;W+=2)L.setAttribute(arguments[W],arguments[W+1])}function Ee(L,W){W||(W={});for(var O in L)L.hasOwnProperty(O)&&(W[O]=L[O]);return W}function Ze(L,W,O,j){for(var F=O?r(L.line,L.ch):L,Q=0;;){var le=W.indexOf(`
`,Q);if(le==-1)break;++F.line,j&&++j.line,Q=le+1}return F.ch=(Q?0:F.ch)+(W.length-Q),j&&(j.ch=(Q?0:j.ch)+(W.length-Q)),F}var Ke=1,Fe=2,at=4;function ie(L){this.cm=L,this.alignable=[],this.height=L.doc.height;var W=this;L.on("markerAdded",function(O,j){if(j.collapsed){var F=j.find(1);F!=null&&W.set(F.line,at)}}),L.on("markerCleared",function(O,j,F,Q){Q!=null&&j.collapsed&&W.check(Q,at,W.hasMarker)}),L.on("markerChanged",this.signal.bind(this)),L.on("lineWidgetAdded",function(O,j,F){j.mergeSpacer||(j.above?W.set(F-1,Fe):W.set(F,Ke))}),L.on("lineWidgetCleared",function(O,j,F){j.mergeSpacer||(j.above?W.check(F-1,Fe,W.hasWidgetBelow):W.check(F,Ke,W.hasWidget))}),L.on("lineWidgetChanged",this.signal.bind(this)),L.on("change",function(O,j){var F=j.from.line,Q=j.to.line-j.from.line,le=j.text.length-1,pe=F+le;(Q||le)&&W.map(F,Q,le),W.check(pe,at,W.hasMarker),(Q||le)&&W.check(j.from.line,at,W.hasMarker)}),L.on("viewportChange",function(){W.cm.doc.height!=W.height&&W.signal()})}ie.prototype={signal:function(){n.signal(this,"realign"),this.height=this.cm.doc.height},set:function(L,W){for(var O=-1;O<this.alignable.length;O+=2){var j=this.alignable[O]-L;if(j==0){if((this.alignable[O+1]&W)==W)return;this.alignable[O+1]|=W,this.signal();return}if(j>0)break}this.signal(),this.alignable.splice(O,0,L,W)},find:function(L){for(var W=0;W<this.alignable.length;W+=2)if(this.alignable[W]==L)return W;return-1},check:function(L,W,O){var j=this.find(L);if(!(j==-1||!(this.alignable[j+1]&W))&&!O.call(this,L)){this.signal();var F=this.alignable[j+1]&~W;F?this.alignable[j+1]=F:this.alignable.splice(j,2)}},hasMarker:function(L){var W=this.cm.getLineHandle(L);if(W.markedSpans){for(var O=0;O<W.markedSpans.length;O++)if(W.markedSpans[O].marker.collapsed&&W.markedSpans[O].to!=null)return!0}return!1},hasWidget:function(L){var W=this.cm.getLineHandle(L);if(W.widgets){for(var O=0;O<W.widgets.length;O++)if(!W.widgets[O].above&&!W.widgets[O].mergeSpacer)return!0}return!1},hasWidgetBelow:function(L){if(L==this.cm.lastLine())return!1;var W=this.cm.getLineHandle(L+1);if(W.widgets){for(var O=0;O<W.widgets.length;O++)if(W.widgets[O].above&&!W.widgets[O].mergeSpacer)return!0}return!1},map:function(L,W,O){for(var j=O-W,F=L+W,Q=-1,le=-1,pe=0;pe<this.alignable.length;pe+=2){var ye=this.alignable[pe];ye==L&&this.alignable[pe+1]&Fe&&(Q=pe),ye==F&&this.alignable[pe+1]&Fe&&(le=pe),!(ye<=L)&&(ye<F?this.alignable.splice(pe--,2):this.alignable[pe]+=j)}if(Q>-1){var Y=this.alignable[Q+1];Y==Fe?this.alignable.splice(Q,2):this.alignable[Q+1]=Y&~Fe}le>-1&&O&&this.set(L+O,Fe)}};function ne(L,W){return(L.line-W.line||L.ch-W.ch)<0?L:W}function be(L,W){return(L.line-W.line||L.ch-W.ch)>0?L:W}function _e(L,W){return L.line==W.line&&L.ch==W.ch}function xe(L,W,O){for(var j=L.length-1;j>=0;j--){var F=L[j],Q=(O?F.origTo:F.editTo)-1;if(Q<W)return Q}}function G(L,W,O){for(var j=0;j<L.length;j++){var F=L[j],Q=O?F.origFrom:F.editFrom;if(Q>W)return Q}}function Z(L,W){var O=null,j=L.state.diffViews,F=L.getCursor().line;if(j)for(var Q=0;Q<j.length;Q++){var le=j[Q],pe=L==le.orig;s(le);var ye=W<0?xe(le.chunks,F,pe):G(le.chunks,F,pe);ye!=null&&(O==null||(W<0?ye>O:ye<O))&&(O=ye)}if(O!=null)L.setCursor(O,0);else return n.Pass}n.commands.goNextDiff=function(L){return Z(L,1)},n.commands.goPrevDiff=function(L){return Z(L,-1)}})})();var g1={},Yoe={get exports(){return g1},set exports(t){g1=t}};(function(t){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;e.Diff=function(o,s){return[o,s]},e.prototype.diff_main=function(o,s,l,u){typeof u>"u"&&(this.Diff_Timeout<=0?u=Number.MAX_VALUE:u=new Date().getTime()+this.Diff_Timeout*1e3);var f=u;if(o==null||s==null)throw new Error("Null input. (diff_main)");if(o==s)return o?[new e.Diff(i,o)]:[];typeof l>"u"&&(l=!0);var d=l,m=this.diff_commonPrefix(o,s),v=o.substring(0,m);o=o.substring(m),s=s.substring(m),m=this.diff_commonSuffix(o,s);var y=o.substring(o.length-m);o=o.substring(0,o.length-m),s=s.substring(0,s.length-m);var _=this.diff_compute_(o,s,d,f);return v&&_.unshift(new e.Diff(i,v)),y&&_.push(new e.Diff(i,y)),this.diff_cleanupMerge(_),_},e.prototype.diff_compute_=function(o,s,l,u){var f;if(!o)return[new e.Diff(r,s)];if(!s)return[new e.Diff(n,o)];var d=o.length>s.length?o:s,m=o.length>s.length?s:o,v=d.indexOf(m);if(v!=-1)return f=[new e.Diff(r,d.substring(0,v)),new e.Diff(i,m),new e.Diff(r,d.substring(v+m.length))],o.length>s.length&&(f[0][0]=f[2][0]=n),f;if(m.length==1)return[new e.Diff(n,o),new e.Diff(r,s)];var y=this.diff_halfMatch_(o,s);if(y){var _=y[0],C=y[1],x=y[2],k=y[3],A=y[4],N=this.diff_main(_,x,l,u),E=this.diff_main(C,k,l,u);return N.concat([new e.Diff(i,A)],E)}return l&&o.length>100&&s.length>100?this.diff_lineMode_(o,s,u):this.diff_bisect_(o,s,u)},e.prototype.diff_lineMode_=function(o,s,l){var u=this.diff_linesToChars_(o,s);o=u.chars1,s=u.chars2;var f=u.lineArray,d=this.diff_main(o,s,!1,l);this.diff_charsToLines_(d,f),this.diff_cleanupSemantic(d),d.push(new e.Diff(i,""));for(var m=0,v=0,y=0,_="",C="";m<d.length;){switch(d[m][0]){case r:y++,C+=d[m][1];break;case n:v++,_+=d[m][1];break;case i:if(v>=1&&y>=1){d.splice(m-v-y,v+y),m=m-v-y;for(var x=this.diff_main(_,C,!1,l),k=x.length-1;k>=0;k--)d.splice(m,0,x[k]);m=m+x.length}y=0,v=0,_="",C="";break}m++}return d.pop(),d},e.prototype.diff_bisect_=function(o,s,l){for(var u=o.length,f=s.length,d=Math.ceil((u+f)/2),m=d,v=2*d,y=new Array(v),_=new Array(v),C=0;C<v;C++)y[C]=-1,_[C]=-1;y[m+1]=0,_[m+1]=0;for(var x=u-f,k=x%2!=0,A=0,N=0,E=0,H=0,I=0;I<d&&!(new Date().getTime()>l);I++){for(var q=-I+A;q<=I-N;q+=2){var P=m+q,z;q==-I||q!=I&&y[P-1]<y[P+1]?z=y[P+1]:z=y[P-1]+1;for(var w=z-q;z<u&&w<f&&o.charAt(z)==s.charAt(w);)z++,w++;if(y[P]=z,z>u)N+=2;else if(w>f)A+=2;else if(k){var R=m+x-q;if(R>=0&&R<v&&_[R]!=-1){var U=u-_[R];if(z>=U)return this.diff_bisectSplit_(o,s,z,w,l)}}}for(var K=-I+E;K<=I-H;K+=2){var R=m+K,U;K==-I||K!=I&&_[R-1]<_[R+1]?U=_[R+1]:U=_[R-1]+1;for(var oe=U-K;U<u&&oe<f&&o.charAt(u-U-1)==s.charAt(f-oe-1);)U++,oe++;if(_[R]=U,U>u)H+=2;else if(oe>f)E+=2;else if(!k){var P=m+x-K;if(P>=0&&P<v&&y[P]!=-1){var z=y[P],w=m+z-P;if(U=u-U,z>=U)return this.diff_bisectSplit_(o,s,z,w,l)}}}}return[new e.Diff(n,o),new e.Diff(r,s)]},e.prototype.diff_bisectSplit_=function(o,s,l,u,f){var d=o.substring(0,l),m=s.substring(0,u),v=o.substring(l),y=s.substring(u),_=this.diff_main(d,m,!1,f),C=this.diff_main(v,y,!1,f);return _.concat(C)},e.prototype.diff_linesToChars_=function(o,s){var l=[],u={};l[0]="";function f(y){for(var _="",C=0,x=-1,k=l.length;x<y.length-1;){x=y.indexOf(`
`,C),x==-1&&(x=y.length-1);var A=y.substring(C,x+1);(u.hasOwnProperty?u.hasOwnProperty(A):u[A]!==void 0)?_+=String.fromCharCode(u[A]):(k==d&&(A=y.substring(C),x=y.length),_+=String.fromCharCode(k),u[A]=k,l[k++]=A),C=x+1}return _}var d=4e4,m=f(o);d=65535;var v=f(s);return{chars1:m,chars2:v,lineArray:l}},e.prototype.diff_charsToLines_=function(o,s){for(var l=0;l<o.length;l++){for(var u=o[l][1],f=[],d=0;d<u.length;d++)f[d]=s[u.charCodeAt(d)];o[l][1]=f.join("")}},e.prototype.diff_commonPrefix=function(o,s){if(!o||!s||o.charAt(0)!=s.charAt(0))return 0;for(var l=0,u=Math.min(o.length,s.length),f=u,d=0;l<f;)o.substring(d,f)==s.substring(d,f)?(l=f,d=l):u=f,f=Math.floor((u-l)/2+l);return f},e.prototype.diff_commonSuffix=function(o,s){if(!o||!s||o.charAt(o.length-1)!=s.charAt(s.length-1))return 0;for(var l=0,u=Math.min(o.length,s.length),f=u,d=0;l<f;)o.substring(o.length-f,o.length-d)==s.substring(s.length-f,s.length-d)?(l=f,d=l):u=f,f=Math.floor((u-l)/2+l);return f},e.prototype.diff_commonOverlap_=function(o,s){var l=o.length,u=s.length;if(l==0||u==0)return 0;l>u?o=o.substring(l-u):l<u&&(s=s.substring(0,l));var f=Math.min(l,u);if(o==s)return f;for(var d=0,m=1;;){var v=o.substring(f-m),y=s.indexOf(v);if(y==-1)return d;m+=y,(y==0||o.substring(f-m)==s.substring(0,m))&&(d=m,m++)}},e.prototype.diff_halfMatch_=function(o,s){if(this.Diff_Timeout<=0)return null;var l=o.length>s.length?o:s,u=o.length>s.length?s:o;if(l.length<4||u.length*2<l.length)return null;var f=this;function d(N,E,H){for(var I=N.substring(H,H+Math.floor(N.length/4)),q=-1,P="",z,w,R,U;(q=E.indexOf(I,q+1))!=-1;){var K=f.diff_commonPrefix(N.substring(H),E.substring(q)),oe=f.diff_commonSuffix(N.substring(0,H),E.substring(0,q));P.length<oe+K&&(P=E.substring(q-oe,q)+E.substring(q,q+K),z=N.substring(0,H-oe),w=N.substring(H+K),R=E.substring(0,q-oe),U=E.substring(q+K))}return P.length*2>=N.length?[z,w,R,U,P]:null}var m=d(l,u,Math.ceil(l.length/4)),v=d(l,u,Math.ceil(l.length/2)),y;if(!m&&!v)return null;v?m?y=m[4].length>v[4].length?m:v:y=v:y=m;var _,C,x,k;o.length>s.length?(_=y[0],C=y[1],x=y[2],k=y[3]):(x=y[0],k=y[1],_=y[2],C=y[3]);var A=y[4];return[_,C,x,k,A]},e.prototype.diff_cleanupSemantic=function(o){for(var s=!1,l=[],u=0,f=null,d=0,m=0,v=0,y=0,_=0;d<o.length;)o[d][0]==i?(l[u++]=d,m=y,v=_,y=0,_=0,f=o[d][1]):(o[d][0]==r?y+=o[d][1].length:_+=o[d][1].length,f&&f.length<=Math.max(m,v)&&f.length<=Math.max(y,_)&&(o.splice(l[u-1],0,new e.Diff(n,f)),o[l[u-1]+1][0]=r,u--,u--,d=u>0?l[u-1]:-1,m=0,v=0,y=0,_=0,f=null,s=!0)),d++;for(s&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),d=1;d<o.length;){if(o[d-1][0]==n&&o[d][0]==r){var C=o[d-1][1],x=o[d][1],k=this.diff_commonOverlap_(C,x),A=this.diff_commonOverlap_(x,C);k>=A?(k>=C.length/2||k>=x.length/2)&&(o.splice(d,0,new e.Diff(i,x.substring(0,k))),o[d-1][1]=C.substring(0,C.length-k),o[d+1][1]=x.substring(k),d++):(A>=C.length/2||A>=x.length/2)&&(o.splice(d,0,new e.Diff(i,C.substring(0,A))),o[d-1][0]=r,o[d-1][1]=x.substring(0,x.length-A),o[d+1][0]=n,o[d+1][1]=C.substring(A),d++),d++}d++}},e.prototype.diff_cleanupSemanticLossless=function(o){function s(A,N){if(!A||!N)return 6;var E=A.charAt(A.length-1),H=N.charAt(0),I=E.match(e.nonAlphaNumericRegex_),q=H.match(e.nonAlphaNumericRegex_),P=I&&E.match(e.whitespaceRegex_),z=q&&H.match(e.whitespaceRegex_),w=P&&E.match(e.linebreakRegex_),R=z&&H.match(e.linebreakRegex_),U=w&&A.match(e.blanklineEndRegex_),K=R&&N.match(e.blanklineStartRegex_);return U||K?5:w||R?4:I&&!P&&z?3:P||z?2:I||q?1:0}for(var l=1;l<o.length-1;){if(o[l-1][0]==i&&o[l+1][0]==i){var u=o[l-1][1],f=o[l][1],d=o[l+1][1],m=this.diff_commonSuffix(u,f);if(m){var v=f.substring(f.length-m);u=u.substring(0,u.length-m),f=v+f.substring(0,f.length-m),d=v+d}for(var y=u,_=f,C=d,x=s(u,f)+s(f,d);f.charAt(0)===d.charAt(0);){u+=f.charAt(0),f=f.substring(1)+d.charAt(0),d=d.substring(1);var k=s(u,f)+s(f,d);k>=x&&(x=k,y=u,_=f,C=d)}o[l-1][1]!=y&&(y?o[l-1][1]=y:(o.splice(l-1,1),l--),o[l][1]=_,C?o[l+1][1]=C:(o.splice(l+1,1),l--))}l++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(o){for(var s=!1,l=[],u=0,f=null,d=0,m=!1,v=!1,y=!1,_=!1;d<o.length;)o[d][0]==i?(o[d][1].length<this.Diff_EditCost&&(y||_)?(l[u++]=d,m=y,v=_,f=o[d][1]):(u=0,f=null),y=_=!1):(o[d][0]==n?_=!0:y=!0,f&&(m&&v&&y&&_||f.length<this.Diff_EditCost/2&&m+v+y+_==3)&&(o.splice(l[u-1],0,new e.Diff(n,f)),o[l[u-1]+1][0]=r,u--,f=null,m&&v?(y=_=!0,u=0):(u--,d=u>0?l[u-1]:-1,y=_=!1),s=!0)),d++;s&&this.diff_cleanupMerge(o)},e.prototype.diff_cleanupMerge=function(o){o.push(new e.Diff(i,""));for(var s=0,l=0,u=0,f="",d="",m;s<o.length;)switch(o[s][0]){case r:u++,d+=o[s][1],s++;break;case n:l++,f+=o[s][1],s++;break;case i:l+u>1?(l!==0&&u!==0&&(m=this.diff_commonPrefix(d,f),m!==0&&(s-l-u>0&&o[s-l-u-1][0]==i?o[s-l-u-1][1]+=d.substring(0,m):(o.splice(0,0,new e.Diff(i,d.substring(0,m))),s++),d=d.substring(m),f=f.substring(m)),m=this.diff_commonSuffix(d,f),m!==0&&(o[s][1]=d.substring(d.length-m)+o[s][1],d=d.substring(0,d.length-m),f=f.substring(0,f.length-m))),s-=l+u,o.splice(s,l+u),f.length&&(o.splice(s,0,new e.Diff(n,f)),s++),d.length&&(o.splice(s,0,new e.Diff(r,d)),s++),s++):s!==0&&o[s-1][0]==i?(o[s-1][1]+=o[s][1],o.splice(s,1)):s++,u=0,l=0,f="",d="";break}o[o.length-1][1]===""&&o.pop();var v=!1;for(s=1;s<o.length-1;)o[s-1][0]==i&&o[s+1][0]==i&&(o[s][1].substring(o[s][1].length-o[s-1][1].length)==o[s-1][1]?(o[s][1]=o[s-1][1]+o[s][1].substring(0,o[s][1].length-o[s-1][1].length),o[s+1][1]=o[s-1][1]+o[s+1][1],o.splice(s-1,1),v=!0):o[s][1].substring(0,o[s+1][1].length)==o[s+1][1]&&(o[s-1][1]+=o[s+1][1],o[s][1]=o[s][1].substring(o[s+1][1].length)+o[s+1][1],o.splice(s+1,1),v=!0)),s++;v&&this.diff_cleanupMerge(o)},e.prototype.diff_xIndex=function(o,s){var l=0,u=0,f=0,d=0,m;for(m=0;m<o.length&&(o[m][0]!==r&&(l+=o[m][1].length),o[m][0]!==n&&(u+=o[m][1].length),!(l>s));m++)f=l,d=u;return o.length!=m&&o[m][0]===n?d:d+(s-f)},e.prototype.diff_prettyHtml=function(o){for(var s=[],l=/&/g,u=/</g,f=/>/g,d=/\n/g,m=0;m<o.length;m++){var v=o[m][0],y=o[m][1],_=y.replace(l,"&amp;").replace(u,"&lt;").replace(f,"&gt;").replace(d,"&para;<br>");switch(v){case r:s[m]='<ins style="background:#e6ffe6;">'+_+"</ins>";break;case n:s[m]='<del style="background:#ffe6e6;">'+_+"</del>";break;case i:s[m]="<span>"+_+"</span>";break}}return s.join("")},e.prototype.diff_text1=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==r&&(s[l]=o[l][1]);return s.join("")},e.prototype.diff_text2=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==n&&(s[l]=o[l][1]);return s.join("")},e.prototype.diff_levenshtein=function(o){for(var s=0,l=0,u=0,f=0;f<o.length;f++){var d=o[f][0],m=o[f][1];switch(d){case r:l+=m.length;break;case n:u+=m.length;break;case i:s+=Math.max(l,u),l=0,u=0;break}}return s+=Math.max(l,u),s},e.prototype.diff_toDelta=function(o){for(var s=[],l=0;l<o.length;l++)switch(o[l][0]){case r:s[l]="+"+encodeURI(o[l][1]);break;case n:s[l]="-"+o[l][1].length;break;case i:s[l]="="+o[l][1].length;break}return s.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(o,s){for(var l=[],u=0,f=0,d=s.split(/\t/g),m=0;m<d.length;m++){var v=d[m].substring(1);switch(d[m].charAt(0)){case"+":try{l[u++]=new e.Diff(r,decodeURI(v))}catch{throw new Error("Illegal escape in diff_fromDelta: "+v)}break;case"-":case"=":var y=parseInt(v,10);if(isNaN(y)||y<0)throw new Error("Invalid number in diff_fromDelta: "+v);var _=o.substring(f,f+=y);d[m].charAt(0)=="="?l[u++]=new e.Diff(i,_):l[u++]=new e.Diff(n,_);break;default:if(d[m])throw new Error("Invalid diff operation in diff_fromDelta: "+d[m])}}if(f!=o.length)throw new Error("Delta length ("+f+") does not equal source text length ("+o.length+").");return l},e.prototype.match_main=function(o,s,l){if(o==null||s==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,o.length)),o==s?0:o.length?o.substring(l,l+s.length)==s?l:this.match_bitap_(o,s,l):-1},e.prototype.match_bitap_=function(o,s,l){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var u=this.match_alphabet_(s),f=this;function d(z,w){var R=z/s.length,U=Math.abs(l-w);return f.Match_Distance?R+U/f.Match_Distance:U?1:R}var m=this.Match_Threshold,v=o.indexOf(s,l);v!=-1&&(m=Math.min(d(0,v),m),v=o.lastIndexOf(s,l+s.length),v!=-1&&(m=Math.min(d(0,v),m)));var y=1<<s.length-1;v=-1;for(var _,C,x=s.length+o.length,k,A=0;A<s.length;A++){for(_=0,C=x;_<C;)d(A,l+C)<=m?_=C:x=C,C=Math.floor((x-_)/2+_);x=C;var N=Math.max(1,l-C+1),E=Math.min(l+C,o.length)+s.length,H=Array(E+2);H[E+1]=(1<<A)-1;for(var I=E;I>=N;I--){var q=u[o.charAt(I-1)];if(A===0?H[I]=(H[I+1]<<1|1)&q:H[I]=(H[I+1]<<1|1)&q|((k[I+1]|k[I])<<1|1)|k[I+1],H[I]&y){var P=d(A,I-1);if(P<=m)if(m=P,v=I-1,v>l)N=Math.max(1,2*l-v);else break}}if(d(A+1,l)>m)break;k=H}return v},e.prototype.match_alphabet_=function(o){for(var s={},l=0;l<o.length;l++)s[o.charAt(l)]=0;for(var l=0;l<o.length;l++)s[o.charAt(l)]|=1<<o.length-l-1;return s},e.prototype.patch_addContext_=function(o,s){if(s.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var l=s.substring(o.start2,o.start2+o.length1),u=0;s.indexOf(l)!=s.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)u+=this.Patch_Margin,l=s.substring(o.start2-u,o.start2+o.length1+u);u+=this.Patch_Margin;var f=s.substring(o.start2-u,o.start2);f&&o.diffs.unshift(new e.Diff(i,f));var d=s.substring(o.start2+o.length1,o.start2+o.length1+u);d&&o.diffs.push(new e.Diff(i,d)),o.start1-=f.length,o.start2-=f.length,o.length1+=f.length+d.length,o.length2+=f.length+d.length}},e.prototype.patch_make=function(o,s,l){var u,f;if(typeof o=="string"&&typeof s=="string"&&typeof l>"u")u=o,f=this.diff_main(u,s,!0),f.length>2&&(this.diff_cleanupSemantic(f),this.diff_cleanupEfficiency(f));else if(o&&typeof o=="object"&&typeof s>"u"&&typeof l>"u")f=o,u=this.diff_text1(f);else if(typeof o=="string"&&s&&typeof s=="object"&&typeof l>"u")u=o,f=s;else if(typeof o=="string"&&typeof s=="string"&&l&&typeof l=="object")u=o,f=l;else throw new Error("Unknown call format to patch_make.");if(f.length===0)return[];for(var d=[],m=new e.patch_obj,v=0,y=0,_=0,C=u,x=u,k=0;k<f.length;k++){var A=f[k][0],N=f[k][1];switch(!v&&A!==i&&(m.start1=y,m.start2=_),A){case r:m.diffs[v++]=f[k],m.length2+=N.length,x=x.substring(0,_)+N+x.substring(_);break;case n:m.length1+=N.length,m.diffs[v++]=f[k],x=x.substring(0,_)+x.substring(_+N.length);break;case i:N.length<=2*this.Patch_Margin&&v&&f.length!=k+1?(m.diffs[v++]=f[k],m.length1+=N.length,m.length2+=N.length):N.length>=2*this.Patch_Margin&&v&&(this.patch_addContext_(m,C),d.push(m),m=new e.patch_obj,v=0,C=x,y=_);break}A!==r&&(y+=N.length),A!==n&&(_+=N.length)}return v&&(this.patch_addContext_(m,C),d.push(m)),d},e.prototype.patch_deepCopy=function(o){for(var s=[],l=0;l<o.length;l++){var u=o[l],f=new e.patch_obj;f.diffs=[];for(var d=0;d<u.diffs.length;d++)f.diffs[d]=new e.Diff(u.diffs[d][0],u.diffs[d][1]);f.start1=u.start1,f.start2=u.start2,f.length1=u.length1,f.length2=u.length2,s[l]=f}return s},e.prototype.patch_apply=function(o,s){if(o.length==0)return[s,[]];o=this.patch_deepCopy(o);var l=this.patch_addPadding(o);s=l+s+l,this.patch_splitMax(o);for(var u=0,f=[],d=0;d<o.length;d++){var m=o[d].start2+u,v=this.diff_text1(o[d].diffs),y,_=-1;if(v.length>this.Match_MaxBits?(y=this.match_main(s,v.substring(0,this.Match_MaxBits),m),y!=-1&&(_=this.match_main(s,v.substring(v.length-this.Match_MaxBits),m+v.length-this.Match_MaxBits),(_==-1||y>=_)&&(y=-1))):y=this.match_main(s,v,m),y==-1)f[d]=!1,u-=o[d].length2-o[d].length1;else{f[d]=!0,u=y-m;var C;if(_==-1?C=s.substring(y,y+v.length):C=s.substring(y,_+this.Match_MaxBits),v==C)s=s.substring(0,y)+this.diff_text2(o[d].diffs)+s.substring(y+v.length);else{var x=this.diff_main(v,C,!1);if(v.length>this.Match_MaxBits&&this.diff_levenshtein(x)/v.length>this.Patch_DeleteThreshold)f[d]=!1;else{this.diff_cleanupSemanticLossless(x);for(var k=0,A,N=0;N<o[d].diffs.length;N++){var E=o[d].diffs[N];E[0]!==i&&(A=this.diff_xIndex(x,k)),E[0]===r?s=s.substring(0,y+A)+E[1]+s.substring(y+A):E[0]===n&&(s=s.substring(0,y+A)+s.substring(y+this.diff_xIndex(x,k+E[1].length))),E[0]!==n&&(k+=E[1].length)}}}}}return s=s.substring(l.length,s.length-l.length),[s,f]},e.prototype.patch_addPadding=function(o){for(var s=this.Patch_Margin,l="",u=1;u<=s;u++)l+=String.fromCharCode(u);for(var u=0;u<o.length;u++)o[u].start1+=s,o[u].start2+=s;var f=o[0],d=f.diffs;if(d.length==0||d[0][0]!=i)d.unshift(new e.Diff(i,l)),f.start1-=s,f.start2-=s,f.length1+=s,f.length2+=s;else if(s>d[0][1].length){var m=s-d[0][1].length;d[0][1]=l.substring(d[0][1].length)+d[0][1],f.start1-=m,f.start2-=m,f.length1+=m,f.length2+=m}if(f=o[o.length-1],d=f.diffs,d.length==0||d[d.length-1][0]!=i)d.push(new e.Diff(i,l)),f.length1+=s,f.length2+=s;else if(s>d[d.length-1][1].length){var m=s-d[d.length-1][1].length;d[d.length-1][1]+=l.substring(0,m),f.length1+=m,f.length2+=m}return l},e.prototype.patch_splitMax=function(o){for(var s=this.Match_MaxBits,l=0;l<o.length;l++)if(!(o[l].length1<=s)){var u=o[l];o.splice(l--,1);for(var f=u.start1,d=u.start2,m="";u.diffs.length!==0;){var v=new e.patch_obj,y=!0;for(v.start1=f-m.length,v.start2=d-m.length,m!==""&&(v.length1=v.length2=m.length,v.diffs.push(new e.Diff(i,m)));u.diffs.length!==0&&v.length1<s-this.Patch_Margin;){var _=u.diffs[0][0],C=u.diffs[0][1];_===r?(v.length2+=C.length,d+=C.length,v.diffs.push(u.diffs.shift()),y=!1):_===n&&v.diffs.length==1&&v.diffs[0][0]==i&&C.length>2*s?(v.length1+=C.length,f+=C.length,y=!1,v.diffs.push(new e.Diff(_,C)),u.diffs.shift()):(C=C.substring(0,s-v.length1-this.Patch_Margin),v.length1+=C.length,f+=C.length,_===i?(v.length2+=C.length,d+=C.length):y=!1,v.diffs.push(new e.Diff(_,C)),C==u.diffs[0][1]?u.diffs.shift():u.diffs[0][1]=u.diffs[0][1].substring(C.length))}m=this.diff_text2(v.diffs),m=m.substring(m.length-this.Patch_Margin);var x=this.diff_text1(u.diffs).substring(0,this.Patch_Margin);x!==""&&(v.length1+=x.length,v.length2+=x.length,v.diffs.length!==0&&v.diffs[v.diffs.length-1][0]===i?v.diffs[v.diffs.length-1][1]+=x:v.diffs.push(new e.Diff(i,x))),y||o.splice(++l,0,v)}}},e.prototype.patch_toText=function(o){for(var s=[],l=0;l<o.length;l++)s[l]=o[l];return s.join("")},e.prototype.patch_fromText=function(o){var s=[];if(!o)return s;for(var l=o.split(`
`),u=0,f=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;u<l.length;){var d=l[u].match(f);if(!d)throw new Error("Invalid patch string: "+l[u]);var m=new e.patch_obj;for(s.push(m),m.start1=parseInt(d[1],10),d[2]===""?(m.start1--,m.length1=1):d[2]=="0"?m.length1=0:(m.start1--,m.length1=parseInt(d[2],10)),m.start2=parseInt(d[3],10),d[4]===""?(m.start2--,m.length2=1):d[4]=="0"?m.length2=0:(m.start2--,m.length2=parseInt(d[4],10)),u++;u<l.length;){var v=l[u].charAt(0);try{var y=decodeURI(l[u].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+y)}if(v=="-")m.diffs.push(new e.Diff(n,y));else if(v=="+")m.diffs.push(new e.Diff(r,y));else if(v==" ")m.diffs.push(new e.Diff(i,y));else{if(v=="@")break;if(v!=="")throw new Error('Invalid patch mode "'+v+'" in: '+y)}u++}}return s},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var o,s;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var l=["@@ -"+o+" +"+s+` @@
`],u,f=0;f<this.diffs.length;f++){switch(this.diffs[f][0]){case r:u="+";break;case n:u="-";break;case i:u=" ";break}l[f+1]=u+encodeURI(this.diffs[f][1])+`
`}return l.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=r,t.exports.DIFF_EQUAL=i})(Yoe);const Joe=g1;var Xoe={};(function(t,e){(function(n){n(Or())})(function(n){n.defineSimpleMode=function(v,y){n.defineMode(v,function(_){return n.simpleMode(_,y)})},n.simpleMode=function(v,y){r(y,"start");var _={},C=y.meta||{},x=!1;for(var k in y)if(k!=C&&y.hasOwnProperty(k))for(var A=_[k]=[],N=y[k],E=0;E<N.length;E++){var H=N[E];A.push(new s(H,y)),(H.indent||H.dedent)&&(x=!0)}var I={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:x?[]:null}},copyState:function(P){var z={state:P.state,pending:P.pending,local:P.local,localState:null,indent:P.indent&&P.indent.slice(0)};P.localState&&(z.localState=n.copyState(P.local.mode,P.localState)),P.stack&&(z.stack=P.stack.slice(0));for(var w=P.persistentStates;w;w=w.next)z.persistentStates={mode:w.mode,spec:w.spec,state:w.state==P.localState?z.localState:n.copyState(w.mode,w.state),next:z.persistentStates};return z},token:l(_,v),innerMode:function(P){return P.local&&{mode:P.local.mode,state:P.localState}},indent:m(_,C)};if(C)for(var q in C)C.hasOwnProperty(q)&&(I[q]=C[q]);return I};function r(v,y){if(!v.hasOwnProperty(y))throw new Error("Undefined state "+y+" in simple mode")}function i(v,y){if(!v)return/(?:)/;var _="";return v instanceof RegExp?(v.ignoreCase&&(_="i"),v.unicode&&(_+="u"),v=v.source):v=String(v),new RegExp((y===!1?"":"^")+"(?:"+v+")",_)}function o(v){if(!v)return null;if(v.apply)return v;if(typeof v=="string")return v.replace(/\./g," ");for(var y=[],_=0;_<v.length;_++)y.push(v[_]&&v[_].replace(/\./g," "));return y}function s(v,y){(v.next||v.push)&&r(y,v.next||v.push),this.regex=i(v.regex),this.token=o(v.token),this.data=v}function l(v,y){return function(_,C){if(C.pending){var x=C.pending.shift();return C.pending.length==0&&(C.pending=null),_.pos+=x.text.length,x.token}if(C.local)if(C.local.end&&_.match(C.local.end)){var k=C.local.endToken||null;return C.local=C.localState=null,k}else{var k=C.local.mode.token(_,C.localState),A;return C.local.endScan&&(A=C.local.endScan.exec(_.current()))&&(_.pos=_.start+A.index),k}for(var N=v[C.state],E=0;E<N.length;E++){var H=N[E],I=(!H.data.sol||_.sol())&&_.match(H.regex);if(I){H.data.next?C.state=H.data.next:H.data.push?((C.stack||(C.stack=[])).push(C.state),C.state=H.data.push):H.data.pop&&C.stack&&C.stack.length&&(C.state=C.stack.pop()),H.data.mode&&f(y,C,H.data.mode,H.token),H.data.indent&&C.indent.push(_.indentation()+y.indentUnit),H.data.dedent&&C.indent.pop();var q=H.token;if(q&&q.apply&&(q=q(I)),I.length>2&&H.token&&typeof H.token!="string"){for(var P=2;P<I.length;P++)I[P]&&(C.pending||(C.pending=[])).push({text:I[P],token:H.token[P-1]});return _.backUp(I[0].length-(I[1]?I[1].length:0)),q[0]}else return q&&q.join?q[0]:q}}return _.next(),null}}function u(v,y){if(v===y)return!0;if(!v||typeof v!="object"||!y||typeof y!="object")return!1;var _=0;for(var C in v)if(v.hasOwnProperty(C)){if(!y.hasOwnProperty(C)||!u(v[C],y[C]))return!1;_++}for(var C in y)y.hasOwnProperty(C)&&_--;return _==0}function f(v,y,_,C){var x;if(_.persistent)for(var k=y.persistentStates;k&&!x;k=k.next)(_.spec?u(_.spec,k.spec):_.mode==k.mode)&&(x=k);var A=x?x.mode:_.mode||n.getMode(v,_.spec),N=x?x.state:n.startState(A);_.persistent&&!x&&(y.persistentStates={mode:A,spec:_.spec,state:N,next:y.persistentStates}),y.localState=N,y.local={mode:A,end:_.end&&i(_.end),endScan:_.end&&_.forceEnd!==!1&&i(_.end,!1),endToken:C&&C.join?C[C.length-1]:C}}function d(v,y){for(var _=0;_<y.length;_++)if(y[_]===v)return!0}function m(v,y){return function(_,C,x){if(_.local&&_.local.mode.indent)return _.local.mode.indent(_.localState,C,x);if(_.indent==null||_.local||y.dontIndentStates&&d(_.state,y.dontIndentStates)>-1)return n.Pass;var k=_.indent.length-1,A=v[_.state];e:for(;;){for(var N=0;N<A.length;N++){var E=A[N];if(E.data.dedent&&E.data.dedentIfLineStart!==!1){var H=E.regex.exec(C);if(H&&H[0]){k--,(E.next||E.push)&&(A=v[E.next||E.push]),C=C.slice(H[0].length);continue e}}}break}return k<0?0:_.indent[k]}}})})();!window.CodeMirror&&(window.CodeMirror=IN);const jd=window.CodeMirror||IN,Zoe=Vn({name:"DefaultMode",props:{name:{type:String,default:`cm-textarea-${+new Date}`},value:{type:String,default:""},content:{type:String,default:""},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>null},placeholder:{type:String,default:""}},emits:{ready:t=>t,"update:cminstance":t=>t},setup(t,{emit:e}){const n=Ot(),r=Ot(null),i=()=>{r.value=fa(jd.fromTextArea(n.value,t.options)),e("update:cminstance",r.value);const o=En(()=>t.cminstance,s=>{var l;s&&((l=t.cminstance)==null||l.setValue(t.value||t.content)),e("ready",fr(r)),o==null||o()},{deep:!0})};return ts(()=>{i()}),{textarea:n,initialize:i}}}),jw=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Qoe=["name","placeholder"];function ese(t,e,n,r,i,o){return ge(),Se("textarea",{ref:"textarea",name:t.$props.name,placeholder:t.$props.placeholder},null,8,Qoe)}const OE=jw(Zoe,[["render",ese]]);window.diff_match_patch=Joe;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0;const tse=Vn({name:"MergeMode",props:{options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})}},emits:["update:cminstance","ready"],setup(t,{emit:e}){const n=Ot(),r=Ot(),i=()=>{n.value=fa(jd.MergeView(r.value,t.options)),e("update:cminstance",n.value),e("ready",n)};return ts(()=>{i()}),{mergeView:r,initialize:i}}}),nse={ref:"mergeView"};function rse(t,e,n,r,i,o){return ge(),Se("div",nse,null,512)}const ise=jw(tse,[["render",rse]]);function ose(t){const e=/#link#(.+)#link#/g,n=[];let r;for(r=e.exec(t);r;){const i=document.createElement("a"),o=JSON.parse(r[1]),s=Object.entries(o);for(const[l,u]of s)i.setAttribute(l,u);i.className="editor_custom_link",i.innerHTML="logDownload",n.push({start:r.index,end:r.index+r[0].length,node:i}),r=e.exec(t)}return n}function sse(t){const e=[];function n(){const r=/#log<(\w*)>log#((.|\r\n|\n)*?)#log<(\w*)>log#/g;let i;for(i=r.exec(t);i;){const o=i[0].replace(/\r\n/g,`
`).split(`
`),s=i[2].replace(/\r\n/g,`
`).split(`
`),l=document.createElement("span"),u=i[1];l.className=`c-editor--log__${u}`;let f=0;for(let d=0;d<o.length;d++){const m=o[d],v=s[d],y=l.cloneNode(!1);y.innerText=v,e.push({start:i.index+f,end:i.index+f+m.length,node:y}),f=f+m.length+1}i=r.exec(t)}}return n(),e}const hp=[{regex:/(\[.*?\])([ \t]*)(<error>[ \t])(.+)/,token:["tag","","error.strong","error.strong"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<info>)(.+)(.?)/,token:["tag","","bracket","bracket","hr"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<warning>)(.+)(.?)/,token:["tag","","comment","comment","hr"],sol:!0}];jd.defineSimpleMode("fclog",{start:[...hp,{regex:/.*/,token:"hr"}],error:[...hp,{regex:/.*/,token:"error.strong"}],info:[...hp,{regex:/.*/,token:"bracket"}],warning:[...hp,{regex:/.*\[/,token:"comment"}]});jd.defineSimpleMode("log",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:["","string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});const ase=Vn({name:"CodemirrorFclog",props:{value:{type:String,default:""},name:{type:String,default:`cm-textarea-${+new Date}`},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["update:cminstance","ready"],setup(t,{emit:e}){const n=Ot(),r=Ot(null),i=(s=t.cminstance)=>{s.getAllMarks().forEach(f=>f.clear());const l=s.getValue(),u=[].concat(ose(l)).concat(sse(l));for(let f=0;f<u.length;f++){const d=u[f];s.markText(s.posFromIndex(d.start),s.posFromIndex(d.end),{replacedWith:d.node})}},o=()=>{var s;r.value=fa(jd.fromTextArea(n.value,t.options)),e("update:cminstance",fr(r)),(s=r.value)==null||s.on("change",i)};return En(()=>t.cminstance,s=>{var l;s&&(i(t.cminstance),(l=t.cminstance)==null||l.setValue(t.value),e("ready",r))},{deep:!0,immediate:!0}),ts(()=>{o()}),{initialize:o,textarea:n}}}),lse=["name","placeholder"];function use(t,e,n,r,i,o){return ge(),Se("textarea",{ref:"textarea",name:t.$props.name,placeholder:t.$props.placeholder},null,8,lse)}const cse=jw(ase,[["render",use]]),PN={"update:value":()=>!0,change:(t,e)=>({value:t,cm:e}),input:()=>!0,ready:t=>t},fse=["changes","scroll","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"],dse=()=>{const t={};return fse.forEach(e=>{t[e]=(...n)=>n}),t},hse={...PN,...dse()},cy={mode:"text",theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2};function pse(t){Promise.resolve().then(()=>{const e=t.getScrollInfo();t.scrollTo(e.left,e.height)})}const mse=({props:t,cminstance:e,emit:n,internalInstance:r,content:i})=>{const o=er(()=>{var l;return t.merge?(l=fr(e))==null?void 0:l.editor():fr(e)}),s=()=>{const l=[];return Object.keys(r==null?void 0:r.vnode.props).forEach(u=>{if(u.startsWith("on")){const f=u.replace(u[2],u[2].toLowerCase()).slice(2);!PN[f]&&l.push(f)}}),l};return{listenerEvents:()=>{o.value.on("change",u=>{const f=u.getValue();f===i.value&&f!==""||(i.value=f,n("update:value",i.value||""),n("input",i.value||" "),Promise.resolve().then(()=>{n("change",i.value,u)}),t.keepCursorInEnd&&pse(u))});const l={};s().filter(u=>!l[u]&&(l[u]=!0)).forEach(u=>{o.value.on(u,(...f)=>{n(u,...f)})})}}};function gse({props:t,cminstance:e,presetRef:n}){const r=Ot(null),i=Ot(null),o=er(()=>{var m;return t.merge?(m=fr(e))==null?void 0:m.editor():fr(e)}),s=()=>{Ri(()=>{var m;(m=o.value)==null||m.refresh()})},l=(m=t.width,v=t.height)=>{var y;r.value=String(m).replace("px",""),i.value=String(v).replace("px","");const _=i.value;(y=o.value)==null||y.setSize(r.value,_)},u=()=>{var m;const v=(m=o.value)==null?void 0:m.getWrapperElement();v==null||v.remove()},f=()=>{var m,v,y;const _=(m=o.value)==null?void 0:m.getDoc().getHistory();(v=n.value)==null||v.initialize(),u(),(y=o.value)==null||y.getDoc().setHistory(_)},d=()=>{const m=document.querySelector(".CodeMirror-gutters");return(m==null?void 0:m.style.left.replace("px",""))!=="0"};return{reload:f,refresh:s,resize:l,destroy:u,containerHeight:i,reviseStyle:()=>{if(s(),!d())return;const m=setInterval(()=>{d()?s():clearInterval(m)},60),v=setTimeout(()=>{clearInterval(m),clearTimeout(v)},400)}}}const vse=Vn({__name:"index",props:{value:{type:String,default:""},options:{type:Object,default:()=>cy},globalOptions:{type:Object,default:()=>cy},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},originalStyle:{type:Boolean,default:!1},keepCursorInEnd:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},name:{type:String,default:""},marker:{type:Function,default:()=>null},unseenLines:{type:Array,default:()=>[]}},emits:hse,setup(t,{expose:e,emit:n}){var r,i;const o=t;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value(P){if(P==null)throw new TypeError("Cannot convert undefined or null to object");const z=Object(P);for(let w=1;w<arguments.length;w++){const R=arguments[w];if(R!=null)for(const U in R)Object.prototype.hasOwnProperty.call(R,U)&&(z[U]=R[U])}return z},writable:!0,configurable:!0});const s=Ot(null),l=Ot(""),u=GA(OE),f=Ot({...cy,...o.globalOptions,...o.options}),d=qi(),m=o.name||((i=(r=d==null?void 0:d.parent)==null?void 0:r.type)==null?void 0:i.name)||void 0,v=Ot(null),y=er(()=>{var P;return o.merge?(P=fr(s))==null?void 0:P.editor():fr(s)}),{refresh:_,resize:C,destroy:x,containerHeight:k,reviseStyle:A}=gse({props:o,cminstance:s,presetRef:v}),{listenerEvents:N}=mse({props:o,cminstance:s,emit:n,internalInstance:d,content:l}),E=()=>{o.unseenLines!==void 0&&o.marker!==void 0&&o.unseenLines.forEach(P=>{var z,w;const R=(z=s.value)==null?void 0:z.lineInfo(P);(w=s.value)==null||w.setGutterMarker(P,"breakpoints",R!=null&&R.gutterMarkers?null:o.marker())})},H=P=>{var z,w;const R=(z=s.value)==null?void 0:z.getValue();P!==R&&((w=s.value)==null||w.setValue(P),l.value=P,A()),E()},I=()=>{N(),E(),C(o.width,o.height),n("ready",s.value),En([()=>o.width,()=>o.height],([P,z])=>{C(P,z)},{deep:!0})},q=()=>{if(o.options.mode==="fclog"||o.options.mode==="log"){u.value=cse;return}if(o.merge){u.value=ise;return}u.value=OE};return En(()=>o.options,P=>{var z;for(const w in o.options)(z=y.value)==null||z.setOption(w,fr(P[w]))},{deep:!0}),En(()=>o.value,P=>{H(P)}),En(()=>o.merge,q,{immediate:!0}),Ml(()=>{x()}),e({cminstance:s,resize:C,refresh:_,destroy:x}),(P,z)=>(ge(),Se("div",{class:gt(["codemirror-container",{merge:P.$props.merge,bordered:P.$props.border||P.$props.merge&&!o.originalStyle,"width-auto":!P.$props.width||P.$props.width=="100%","height-auto":!P.$props.height||P.$props.height=="100%","original-style":o.originalStyle}]),style:oi({height:fr(k)+"px"})},[(ge(),Et(Qs(fr(u)),wi({ref_key:"presetRef",ref:v,cminstance:s.value,"onUpdate:cminstance":z[0]||(z[0]=w=>s.value=w),style:{height:"100%"}},{...P.$props,...P.$attrs,options:f.value,name:fr(m),content:l.value},{onReady:I}),null,16,["cminstance"]))],6))}});function yse(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}yse(`.codemirror-container {
========
}`;function fL(){var t=iL,e=oL,n=tt.cssPrefix,r=tt.replacementClass,i=Ste;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(l,".".concat(r))}return i}var lE=!1;function s0(){tt.autoAddCss&&!lE&&(bte(fL()),lE=!0)}var Cte={mixout:function(){return{dom:{css:fL,insertCss:s0}}},hooks:function(){return{beforeDOMElementCreation:function(){s0()},beforeI2svg:function(){s0()}}}},Zo=sa||{};Zo[Xo]||(Zo[Xo]={});Zo[Xo].styles||(Zo[Xo].styles={});Zo[Xo].hooks||(Zo[Xo].hooks={});Zo[Xo].shims||(Zo[Xo].shims=[]);var Bi=Zo[Xo],dL=[],Tte=function t(){rn.removeEventListener("DOMContentLoaded",t),Qm=1,dL.map(function(e){return e()})},Qm=!1;ls&&(Qm=(rn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(rn.readyState),Qm||rn.addEventListener("DOMContentLoaded",Tte));function Ete(t){ls&&(Qm?setTimeout(t,0):dL.push(t))}function jd(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,o=i===void 0?[]:i;return typeof t=="string"?cL(t):"<".concat(e," ").concat(wte(r),">").concat(o.map(jd).join(""),"</").concat(e,">")}function uE(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Ate=function(e,n){return function(r,i,o,s){return e.call(n,r,i,o,s)}},a0=function(e,n,r,i){var o=Object.keys(e),s=o.length,l=i!==void 0?Ate(n,i):n,u,f,d;for(r===void 0?(u=1,d=e[o[0]]):(u=0,d=r);u<s;u++)f=o[u],d=l(d,e[f],f,e);return d};function Ote(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function a1(t){var e=Ote(t);return e.length===1?e[0].toString(16):null}function Mte(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function cE(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function l1(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,o=cE(e);typeof Bi.hooks.addPack=="function"&&!i?Bi.hooks.addPack(t,cE(e)):Bi.styles[t]=Ue(Ue({},Bi.styles[t]||{}),o),t==="fas"&&l1("fa",e)}var fp,dp,hp,vu=Bi.styles,Nte=Bi.shims,Lte=(fp={},Fn(fp,nn,Object.values(vd[nn])),Fn(fp,mn,Object.values(vd[mn])),fp),Rw=null,hL={},pL={},mL={},gL={},vL={},Ite=(dp={},Fn(dp,nn,Object.keys(md[nn])),Fn(dp,mn,Object.keys(md[mn])),dp);function Pte(t){return~pte.indexOf(t)}function Dte(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!Pte(i)?i:null}var yL=function(){var e=function(o){return a0(vu,function(s,l,u){return s[u]=a0(l,o,{}),s},{})};hL=e(function(i,o,s){if(o[3]&&(i[o[3]]=s),o[2]){var l=o[2].filter(function(u){return typeof u=="number"});l.forEach(function(u){i[u.toString(16)]=s})}return i}),pL=e(function(i,o,s){if(i[s]=s,o[2]){var l=o[2].filter(function(u){return typeof u=="string"});l.forEach(function(u){i[u]=s})}return i}),vL=e(function(i,o,s){var l=o[2];return i[s]=s,l.forEach(function(u){i[u]=s}),i});var n="far"in vu||tt.autoFetchSvg,r=a0(Nte,function(i,o){var s=o[0],l=o[1],u=o[2];return l==="far"&&!n&&(l="fas"),typeof s=="string"&&(i.names[s]={prefix:l,iconName:u}),typeof s=="number"&&(i.unicodes[s.toString(16)]={prefix:l,iconName:u}),i},{names:{},unicodes:{}});mL=r.names,gL=r.unicodes,Rw=sv(tt.styleDefault,{family:tt.familyDefault})};yte(function(t){Rw=sv(t.styleDefault,{family:tt.familyDefault})});yL();function zw(t,e){return(hL[t]||{})[e]}function Rte(t,e){return(pL[t]||{})[e]}function Ga(t,e){return(vL[t]||{})[e]}function bL(t){return mL[t]||{prefix:null,iconName:null}}function zte(t){var e=gL[t],n=zw("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function aa(){return Rw}var Bw=function(){return{prefix:null,iconName:null,rest:[]}};function sv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?nn:n,i=md[r][t],o=gd[r][t]||gd[r][i],s=t in Bi.styles?t:null;return o||s||null}var fE=(hp={},Fn(hp,nn,Object.keys(vd[nn])),Fn(hp,mn,Object.keys(vd[mn])),hp);function av(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,o=(e={},Fn(e,nn,"".concat(tt.cssPrefix,"-").concat(nn)),Fn(e,mn,"".concat(tt.cssPrefix,"-").concat(mn)),e),s=null,l=nn;(t.includes(o[nn])||t.some(function(f){return fE[nn].includes(f)}))&&(l=nn),(t.includes(o[mn])||t.some(function(f){return fE[mn].includes(f)}))&&(l=mn);var u=t.reduce(function(f,d){var m=Dte(tt.cssPrefix,d);if(vu[d]?(d=Lte[l].includes(d)?lte[l][d]:d,s=d,f.prefix=d):Ite[l].indexOf(d)>-1?(s=d,f.prefix=sv(d,{family:l})):m?f.iconName=m:d!==tt.replacementClass&&d!==o[nn]&&d!==o[mn]&&f.rest.push(d),!i&&f.prefix&&f.iconName){var v=s==="fa"?bL(f.iconName):{},y=Ga(f.prefix,f.iconName);v.prefix&&(s=null),f.iconName=v.iconName||y||f.iconName,f.prefix=v.prefix||f.prefix,f.prefix==="far"&&!vu.far&&vu.fas&&!tt.autoFetchSvg&&(f.prefix="fas")}return f},Bw());return(t.includes("fa-brands")||t.includes("fab"))&&(u.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(u.prefix="fad"),!u.prefix&&l===mn&&(vu.fass||tt.autoFetchSvg)&&(u.prefix="fass",u.iconName=Ga(u.prefix,u.iconName)||u.iconName),(u.prefix==="fa"||s==="fa")&&(u.prefix=aa()||"fas"),u}var Bte=function(){function t(){Jee(this,t),this.definitions={}}return Xee(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(l){n.definitions[l]=Ue(Ue({},n.definitions[l]||{}),s[l]),l1(l,s[l]);var u=vd[nn][l];u&&l1(u,s[l]),yL()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var s=i[o],l=s.prefix,u=s.iconName,f=s.icon,d=f[2];n[l]||(n[l]={}),d.length>0&&d.forEach(function(m){typeof m=="string"&&(n[l][m]=f)}),n[l][u]=f}),n}}]),t}(),dE=[],yu={},Iu={},$te=Object.keys(Iu);function Hte(t,e){var n=e.mixoutsTo;return dE=t,yu={},Object.keys(Iu).forEach(function(r){$te.indexOf(r)===-1&&delete Iu[r]}),dE.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(s){typeof i[s]=="function"&&(n[s]=i[s]),Zm(i[s])==="object"&&Object.keys(i[s]).forEach(function(l){n[s]||(n[s]={}),n[s][l]=i[s][l]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(s){yu[s]||(yu[s]=[]),yu[s].push(o[s])})}r.provides&&r.provides(Iu)}),n}function u1(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=yu[t]||[];return o.forEach(function(s){e=s.apply(null,[e].concat(r))}),e}function Sl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=yu[t]||[];i.forEach(function(o){o.apply(null,n)})}function Qo(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Iu[t]?Iu[t].apply(null,e):void 0}function c1(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||aa();if(e)return e=Ga(n,e)||e,uE(_L.definitions,n,e)||uE(Bi.styles,n,e)}var _L=new Bte,Fte=function(){tt.autoReplaceSvg=!1,tt.observeMutations=!1,Sl("noAuto")},Vte={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ls?(Sl("beforeI2svg",e),Qo("pseudoElements2svg",e),Qo("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;tt.autoReplaceSvg===!1&&(tt.autoReplaceSvg=!0),tt.observeMutations=!0,Ete(function(){Wte({autoReplaceSvgRoot:n}),Sl("watch",e)})}},jte={icon:function(e){if(e===null)return null;if(Zm(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ga(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=sv(e[0]);return{prefix:r,iconName:Ga(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(tt.cssPrefix,"-"))>-1||e.match(ute))){var i=av(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||aa(),iconName:Ga(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var o=aa();return{prefix:o,iconName:Ga(o,e)||e}}}},ui={noAuto:Fte,config:tt,dom:Vte,parse:jte,library:_L,findIconDefinition:c1,toHtml:jd},Wte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?rn:n;(Object.keys(Bi.styles).length>0||tt.autoFetchSvg)&&ls&&tt.autoReplaceSvg&&ui.dom.i2svg({node:r})};function lv(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return jd(r)})}}),Object.defineProperty(t,"node",{get:function(){if(ls){var r=rn.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function Ute(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(Dw(s)&&n.found&&!r.found){var l=n.width,u=n.height,f={x:l/u/2,y:.5};i.style=ov(Ue(Ue({},o),{},{"transform-origin":"".concat(f.x+s.x/16,"em ").concat(f.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function qte(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol,s=o===!0?"".concat(e,"-").concat(tt.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ue(Ue({},i),{},{id:s}),children:r}]}]}function $w(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,l=t.symbol,u=t.title,f=t.maskId,d=t.titleId,m=t.extra,v=t.watchable,y=v===void 0?!1:v,_=r.found?r:n,C=_.width,x=_.height,k=i==="fak",A=[tt.replacementClass,o?"".concat(tt.cssPrefix,"-").concat(o):""].filter(function(z){return m.classes.indexOf(z)===-1}).filter(function(z){return z!==""||!!z}).concat(m.classes).join(" "),L={children:[],attributes:Ue(Ue({},m.attributes),{},{"data-prefix":i,"data-icon":o,class:A,role:m.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(C," ").concat(x)})},E=k&&!~m.classes.indexOf("fa-fw")?{width:"".concat(C/x*16*.0625,"em")}:{};y&&(L.attributes[xl]=""),u&&(L.children.push({tag:"title",attributes:{id:L.attributes["aria-labelledby"]||"title-".concat(d||bd())},children:[u]}),delete L.attributes.title);var H=Ue(Ue({},L),{},{prefix:i,iconName:o,main:n,mask:r,maskId:f,transform:s,symbol:l,styles:Ue(Ue({},E),m.styles)}),I=r.found&&n.found?Qo("generateAbstractMask",H)||{children:[],attributes:{}}:Qo("generateAbstractIcon",H)||{children:[],attributes:{}},q=I.children,P=I.attributes;return H.children=q,H.attributes=P,l?qte(H):Ute(H)}function hE(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,s=t.extra,l=t.watchable,u=l===void 0?!1:l,f=Ue(Ue(Ue({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});u&&(f[xl]="");var d=Ue({},s.styles);Dw(i)&&(d.transform=xte({transform:i,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);var m=ov(d);m.length>0&&(f.style=m);var v=[];return v.push({tag:"span",attributes:f,children:[e]}),o&&v.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),v}function Kte(t){var e=t.content,n=t.title,r=t.extra,i=Ue(Ue(Ue({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=ov(r.styles);o.length>0&&(i.style=o);var s=[];return s.push({tag:"span",attributes:i,children:[e]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}var l0=Bi.styles;function f1(t){var e=t[0],n=t[1],r=t.slice(4),i=Ow(r,1),o=i[0],s=null;return Array.isArray(o)?s={tag:"g",attributes:{class:"".concat(tt.cssPrefix,"-").concat(Ka.GROUP)},children:[{tag:"path",attributes:{class:"".concat(tt.cssPrefix,"-").concat(Ka.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(tt.cssPrefix,"-").concat(Ka.PRIMARY),fill:"currentColor",d:o[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:e,height:n,icon:s}}var Gte={found:!1,width:512,height:512};function Yte(t,e){!sL&&!tt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function d1(t,e){var n=e;return e==="fa"&&tt.styleDefault!==null&&(e=aa()),new Promise(function(r,i){if(Qo("missingIconAbstract"),n==="fa"){var o=bL(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&l0[e]&&l0[e][t]){var s=l0[e][t];return r(f1(s))}Yte(t,e),r(Ue(Ue({},Gte),{},{icon:tt.showMissingIcons&&t?Qo("missingIconAbstract")||{}:{}}))})}var pE=function(){},h1=tt.measurePerformance&&op&&op.mark&&op.measure?op:{mark:pE,measure:pE},of='FA "6.4.0"',Jte=function(e){return h1.mark("".concat(of," ").concat(e," begins")),function(){return wL(e)}},wL=function(e){h1.mark("".concat(of," ").concat(e," ends")),h1.measure("".concat(of," ").concat(e),"".concat(of," ").concat(e," begins"),"".concat(of," ").concat(e," ends"))},Hw={begin:Jte,end:wL},Rp=function(){};function mE(t){var e=t.getAttribute?t.getAttribute(xl):null;return typeof e=="string"}function Xte(t){var e=t.getAttribute?t.getAttribute(Nw):null,n=t.getAttribute?t.getAttribute(Lw):null;return e&&n}function Zte(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(tt.replacementClass)}function Qte(){if(tt.autoReplaceSvg===!0)return zp.replace;var t=zp[tt.autoReplaceSvg];return t||zp.replace}function ene(t){return rn.createElementNS("http://www.w3.org/2000/svg",t)}function tne(t){return rn.createElement(t)}function kL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?ene:tne:n;if(typeof t=="string")return rn.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(s){i.setAttribute(s,t.attributes[s])});var o=t.children||[];return o.forEach(function(s){i.appendChild(kL(s,{ceFn:r}))}),i}function nne(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var zp={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(kL(i),n)}),n.getAttribute(xl)===null&&tt.keepOriginalSource){var r=rn.createComment(nne(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Pw(n).indexOf(tt.replacementClass))return zp.replace(e);var i=new RegExp("".concat(tt.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(l,u){return u===tt.replacementClass||u.match(i)?l.toSvg.push(u):l.toNode.push(u),l},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var s=r.map(function(l){return jd(l)}).join(`
`);n.setAttribute(xl,""),n.innerHTML=s}};function gE(t){t()}function xL(t,e){var n=typeof e=="function"?e:Rp;if(t.length===0)n();else{var r=gE;tt.mutateApproach===ste&&(r=sa.requestAnimationFrame||gE),r(function(){var i=Qte(),o=Hw.begin("mutate");t.map(i),o(),n()})}}var Fw=!1;function SL(){Fw=!0}function p1(){Fw=!1}var eg=null;function vE(t){if(sE&&tt.observeMutations){var e=t.treeCallback,n=e===void 0?Rp:e,r=t.nodeCallback,i=r===void 0?Rp:r,o=t.pseudoElementsCallback,s=o===void 0?Rp:o,l=t.observeMutationsRoot,u=l===void 0?rn:l;eg=new sE(function(f){if(!Fw){var d=aa();dc(f).forEach(function(m){if(m.type==="childList"&&m.addedNodes.length>0&&!mE(m.addedNodes[0])&&(tt.searchPseudoElements&&s(m.target),n(m.target)),m.type==="attributes"&&m.target.parentNode&&tt.searchPseudoElements&&s(m.target.parentNode),m.type==="attributes"&&mE(m.target)&&~hte.indexOf(m.attributeName))if(m.attributeName==="class"&&Xte(m.target)){var v=av(Pw(m.target)),y=v.prefix,_=v.iconName;m.target.setAttribute(Nw,y||d),_&&m.target.setAttribute(Lw,_)}else Zte(m.target)&&i(m.target)})}}),ls&&eg.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function rne(){eg&&eg.disconnect()}function ine(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var o=i.split(":"),s=o[0],l=o.slice(1);return s&&l.length>0&&(r[s]=l.join(":").trim()),r},{})),n}function one(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=av(Pw(t));return i.prefix||(i.prefix=aa()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=Rte(i.prefix,t.innerText)||zw(i.prefix,a1(t.innerText))),!i.iconName&&tt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function sne(t){var e=dc(t.attributes).reduce(function(i,o){return i.name!=="class"&&i.name!=="style"&&(i[o.name]=o.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return tt.autoA11y&&(n?e["aria-labelledby"]="".concat(tt.replacementClass,"-title-").concat(r||bd()):(e["aria-hidden"]="true",e.focusable="false")),e}function ane(){return{iconName:null,title:null,titleId:null,prefix:null,transform:po,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function yE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=one(t),r=n.iconName,i=n.prefix,o=n.rest,s=sne(t),l=u1("parseNodeAttributes",{},t),u=e.styleParser?ine(t):[];return Ue({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:po,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:u,attributes:s}},l)}var lne=Bi.styles;function CL(t){var e=tt.autoReplaceSvg==="nest"?yE(t,{styleParser:!1}):yE(t);return~e.extra.classes.indexOf(aL)?Qo("generateLayersText",t,e):Qo("generateSvgReplacementMutation",t,e)}var la=new Set;Iw.map(function(t){la.add("fa-".concat(t))});Object.keys(md[nn]).map(la.add.bind(la));Object.keys(md[mn]).map(la.add.bind(la));la=Fd(la);function bE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ls)return Promise.resolve();var n=rn.documentElement.classList,r=function(m){return n.add("".concat(aE,"-").concat(m))},i=function(m){return n.remove("".concat(aE,"-").concat(m))},o=tt.autoFetchSvg?la:Iw.map(function(d){return"fa-".concat(d)}).concat(Object.keys(lne));o.includes("fa")||o.push("fa");var s=[".".concat(aL,":not([").concat(xl,"])")].concat(o.map(function(d){return".".concat(d,":not([").concat(xl,"])")})).join(", ");if(s.length===0)return Promise.resolve();var l=[];try{l=dc(t.querySelectorAll(s))}catch{}if(l.length>0)r("pending"),i("complete");else return Promise.resolve();var u=Hw.begin("onTree"),f=l.reduce(function(d,m){try{var v=CL(m);v&&d.push(v)}catch(y){sL||y.name==="MissingIcon"&&console.error(y)}return d},[]);return new Promise(function(d,m){Promise.all(f).then(function(v){xL(v,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),u(),d()})}).catch(function(v){u(),m(v)})})}function une(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;CL(t).then(function(n){n&&xL([n],e)})}function cne(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:c1(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:c1(i||{})),t(r,Ue(Ue({},n),{},{mask:i}))}}var fne=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?po:r,o=n.symbol,s=o===void 0?!1:o,l=n.mask,u=l===void 0?null:l,f=n.maskId,d=f===void 0?null:f,m=n.title,v=m===void 0?null:m,y=n.titleId,_=y===void 0?null:y,C=n.classes,x=C===void 0?[]:C,k=n.attributes,A=k===void 0?{}:k,L=n.styles,E=L===void 0?{}:L;if(e){var H=e.prefix,I=e.iconName,q=e.icon;return lv(Ue({type:"icon"},e),function(){return Sl("beforeDOMElementCreation",{iconDefinition:e,params:n}),tt.autoA11y&&(v?A["aria-labelledby"]="".concat(tt.replacementClass,"-title-").concat(_||bd()):(A["aria-hidden"]="true",A.focusable="false")),$w({icons:{main:f1(q),mask:u?f1(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:H,iconName:I,transform:Ue(Ue({},po),i),symbol:s,title:v,maskId:d,titleId:_,extra:{attributes:A,styles:E,classes:x}})})}},dne={mixout:function(){return{icon:cne(fne)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=bE,n.nodeCallback=une,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?rn:r,o=n.callback,s=o===void 0?function(){}:o;return bE(i,s)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,o=r.title,s=r.titleId,l=r.prefix,u=r.transform,f=r.symbol,d=r.mask,m=r.maskId,v=r.extra;return new Promise(function(y,_){Promise.all([d1(i,l),d.iconName?d1(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(C){var x=Ow(C,2),k=x[0],A=x[1];y([n,$w({icons:{main:k,mask:A},prefix:l,iconName:i,transform:u,symbol:f,maskId:m,title:o,titleId:s,extra:v,watchable:!0})])}).catch(_)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.transform,l=n.styles,u=ov(l);u.length>0&&(i.style=u);var f;return Dw(s)&&(f=Qo("generateAbstractTransformGrouping",{main:o,transform:s,containerWidth:o.width,iconWidth:o.width})),r.push(f||o.icon),{children:r,attributes:i}}}},hne={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,o=i===void 0?[]:i;return lv({type:"layer"},function(){Sl("beforeDOMElementCreation",{assembler:n,params:r});var s=[];return n(function(l){Array.isArray(l)?l.map(function(u){s=s.concat(u.abstract)}):s=s.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(tt.cssPrefix,"-layers")].concat(Fd(o)).join(" ")},children:s}]})}}}},pne={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,o=i===void 0?null:i,s=r.classes,l=s===void 0?[]:s,u=r.attributes,f=u===void 0?{}:u,d=r.styles,m=d===void 0?{}:d;return lv({type:"counter",content:n},function(){return Sl("beforeDOMElementCreation",{content:n,params:r}),Kte({content:n.toString(),title:o,extra:{attributes:f,styles:m,classes:["".concat(tt.cssPrefix,"-layers-counter")].concat(Fd(l))}})})}}}},mne={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,o=i===void 0?po:i,s=r.title,l=s===void 0?null:s,u=r.classes,f=u===void 0?[]:u,d=r.attributes,m=d===void 0?{}:d,v=r.styles,y=v===void 0?{}:v;return lv({type:"text",content:n},function(){return Sl("beforeDOMElementCreation",{content:n,params:r}),hE({content:n,transform:Ue(Ue({},po),o),title:l,extra:{attributes:m,styles:y,classes:["".concat(tt.cssPrefix,"-layers-text")].concat(Fd(f))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,o=r.transform,s=r.extra,l=null,u=null;if(rL){var f=parseInt(getComputedStyle(n).fontSize,10),d=n.getBoundingClientRect();l=d.width/f,u=d.height/f}return tt.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),Promise.resolve([n,hE({content:n.innerHTML,width:l,height:u,transform:o,title:i,extra:s,watchable:!0})])}}},gne=new RegExp('"',"ug"),_E=[1105920,1112319];function vne(t){var e=t.replace(gne,""),n=Mte(e,0),r=n>=_E[0]&&n<=_E[1],i=e.length===2?e[0]===e[1]:!1;return{value:a1(i?e[0]:e),isSecondary:r||i}}function wE(t,e){var n="".concat(ote).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var o=dc(t.children),s=o.filter(function(q){return q.getAttribute(s1)===e})[0],l=sa.getComputedStyle(t,e),u=l.getPropertyValue("font-family").match(cte),f=l.getPropertyValue("font-weight"),d=l.getPropertyValue("content");if(s&&!u)return t.removeChild(s),r();if(u&&d!=="none"&&d!==""){var m=l.getPropertyValue("content"),v=~["Sharp"].indexOf(u[2])?mn:nn,y=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?gd[v][u[2].toLowerCase()]:fte[v][f],_=vne(m),C=_.value,x=_.isSecondary,k=u[0].startsWith("FontAwesome"),A=zw(y,C),L=A;if(k){var E=zte(C);E.iconName&&E.prefix&&(A=E.iconName,y=E.prefix)}if(A&&!x&&(!s||s.getAttribute(Nw)!==y||s.getAttribute(Lw)!==L)){t.setAttribute(n,L),s&&t.removeChild(s);var H=ane(),I=H.extra;I.attributes[s1]=e,d1(A,y).then(function(q){var P=$w(Ue(Ue({},H),{},{icons:{main:q,mask:Bw()},prefix:y,iconName:L,extra:I,watchable:!0})),z=rn.createElement("svg");e==="::before"?t.insertBefore(z,t.firstChild):t.appendChild(z),z.outerHTML=P.map(function(w){return jd(w)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function yne(t){return Promise.all([wE(t,"::before"),wE(t,"::after")])}function bne(t){return t.parentNode!==document.head&&!~ate.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(s1)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function kE(t){if(ls)return new Promise(function(e,n){var r=dc(t.querySelectorAll("*")).filter(bne).map(yne),i=Hw.begin("searchPseudoElements");SL(),Promise.all(r).then(function(){i(),p1(),e()}).catch(function(){i(),p1(),n()})})}var _ne={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=kE,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?rn:r;tt.searchPseudoElements&&kE(i)}}},xE=!1,wne={mixout:function(){return{dom:{unwatch:function(){SL(),xE=!0}}}},hooks:function(){return{bootstrap:function(){vE(u1("mutationObserverCallbacks",{}))},noAuto:function(){rne()},watch:function(n){var r=n.observeMutationsRoot;xE?p1():vE(u1("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},SE=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),s=o[0],l=o.slice(1).join("-");if(s&&l==="h")return r.flipX=!0,r;if(s&&l==="v")return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(s){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l;break}return r},n)},kne={mixout:function(){return{parse:{transform:function(n){return SE(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=SE(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.containerWidth,s=n.iconWidth,l={transform:"translate(".concat(o/2," 256)")},u="translate(".concat(i.x*32,", ").concat(i.y*32,") "),f="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),d="rotate(".concat(i.rotate," 0 0)"),m={transform:"".concat(u," ").concat(f," ").concat(d)},v={transform:"translate(".concat(s/2*-1," -256)")},y={outer:l,inner:m,path:v};return{tag:"g",attributes:Ue({},y.outer),children:[{tag:"g",attributes:Ue({},y.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Ue(Ue({},r.icon.attributes),y.path)}]}]}}}},u0={x:0,y:0,width:"100%",height:"100%"};function CE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function xne(t){return t.tag==="g"?t.children:[t]}var Sne={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),o=i?av(i.split(" ").map(function(s){return s.trim()})):Bw();return o.prefix||(o.prefix=aa()),n.mask=o,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.mask,l=n.maskId,u=n.transform,f=o.width,d=o.icon,m=s.width,v=s.icon,y=kte({transform:u,containerWidth:m,iconWidth:f}),_={tag:"rect",attributes:Ue(Ue({},u0),{},{fill:"white"})},C=d.children?{children:d.children.map(CE)}:{},x={tag:"g",attributes:Ue({},y.inner),children:[CE(Ue({tag:d.tag,attributes:Ue(Ue({},d.attributes),y.path)},C))]},k={tag:"g",attributes:Ue({},y.outer),children:[x]},A="mask-".concat(l||bd()),L="clip-".concat(l||bd()),E={tag:"mask",attributes:Ue(Ue({},u0),{},{id:A,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_,k]},H={tag:"defs",children:[{tag:"clipPath",attributes:{id:L},children:xne(v)},E]};return r.push(H,{tag:"rect",attributes:Ue({fill:"currentColor","clip-path":"url(#".concat(L,")"),mask:"url(#".concat(A,")")},u0)}),{children:r,attributes:i}}}},Cne={provides:function(e){var n=!1;sa.matchMedia&&(n=sa.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Ue(Ue({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=Ue(Ue({},o),{},{attributeName:"opacity"}),l={tag:"circle",attributes:Ue(Ue({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||l.children.push({tag:"animate",attributes:Ue(Ue({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ue(Ue({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:Ue(Ue({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Ue(Ue({},s),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Ue(Ue({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ue(Ue({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},Tne={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),o=i===null?!1:i===""?!0:i;return n.symbol=o,n}}}},Ene=[Cte,dne,hne,pne,mne,_ne,wne,kne,Sne,Cne,Tne];Hte(Ene,{mixoutsTo:ui});ui.noAuto;ui.config;var Ane=ui.library;ui.dom;var m1=ui.parse;ui.findIconDefinition;ui.toHtml;var One=ui.icon;ui.layer;ui.text;ui.counter;function TE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(n),!0).forEach(function(r){Dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tg(t){return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function Dr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Nne(t,e){if(t==null)return{};var n=Mne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Lne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},TL={exports:{}};(function(t){(function(e){var n=function(k,A,L){if(!f(A)||m(A)||v(A)||y(A)||u(A))return A;var E,H=0,I=0;if(d(A))for(E=[],I=A.length;H<I;H++)E.push(n(k,A[H],L));else{E={};for(var q in A)Object.prototype.hasOwnProperty.call(A,q)&&(E[k(q,L)]=n(k,A[q],L))}return E},r=function(k,A){A=A||{};var L=A.separator||"_",E=A.split||/(?=[A-Z])/;return k.split(E).join(L)},i=function(k){return _(k)?k:(k=k.replace(/[\-_\s]+(.)?/g,function(A,L){return L?L.toUpperCase():""}),k.substr(0,1).toLowerCase()+k.substr(1))},o=function(k){var A=i(k);return A.substr(0,1).toUpperCase()+A.substr(1)},s=function(k,A){return r(k,A).toLowerCase()},l=Object.prototype.toString,u=function(k){return typeof k=="function"},f=function(k){return k===Object(k)},d=function(k){return l.call(k)=="[object Array]"},m=function(k){return l.call(k)=="[object Date]"},v=function(k){return l.call(k)=="[object RegExp]"},y=function(k){return l.call(k)=="[object Boolean]"},_=function(k){return k=k-0,k===k},C=function(k,A){var L=A&&"process"in A?A.process:A;return typeof L!="function"?k:function(E,H){return L(E,k,H)}},x={camelize:i,decamelize:s,pascalize:o,depascalize:s,camelizeKeys:function(k,A){return n(C(i,A),k)},decamelizeKeys:function(k,A){return n(C(s,A),k,A)},pascalizeKeys:function(k,A){return n(C(o,A),k)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=x:e.humps=x})(Lne)})(TL);var Ine=TL.exports,Pne=["class","style"];function Dne(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=Ine.camelize(n.slice(0,r)),o=n.slice(r+1).trim();return e[i]=o,e},{})}function Rne(t){return t.split(/\s+/).reduce(function(e,n){return e[n]=!0,e},{})}function EL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(u){return EL(u)}),i=Object.keys(t.attributes||{}).reduce(function(u,f){var d=t.attributes[f];switch(f){case"class":u.class=Rne(d);break;case"style":u.style=Dne(d);break;default:u.attrs[f]=d}return u},{attrs:{},class:{},style:{}});n.class;var o=n.style,s=o===void 0?{}:o,l=Nne(n,Pne);return mr(t.tag,Ho(Ho(Ho({},e),{},{class:i.class,style:Ho(Ho({},i.style),s)},i.attrs),l),r)}var AL=!1;try{AL=!0}catch{}function zne(){if(!AL&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function c0(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Dr({},t,e):{}}function Bne(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},Dr(e,"fa-".concat(t.size),t.size!==null),Dr(e,"fa-rotate-".concat(t.rotation),t.rotation!==null),Dr(e,"fa-pull-".concat(t.pull),t.pull!==null),Dr(e,"fa-swap-opacity",t.swapOpacity),Dr(e,"fa-bounce",t.bounce),Dr(e,"fa-shake",t.shake),Dr(e,"fa-beat",t.beat),Dr(e,"fa-fade",t.fade),Dr(e,"fa-beat-fade",t.beatFade),Dr(e,"fa-flash",t.flash),Dr(e,"fa-spin-pulse",t.spinPulse),Dr(e,"fa-spin-reverse",t.spinReverse),e);return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function EE(t){if(t&&tg(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(m1.icon)return m1.icon(t);if(t===null)return null;if(tg(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var $ne=Vn({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,n){var r=n.attrs,i=er(function(){return EE(e.icon)}),o=er(function(){return c0("classes",Bne(e))}),s=er(function(){return c0("transform",typeof e.transform=="string"?m1.transform(e.transform):e.transform)}),l=er(function(){return c0("mask",EE(e.mask))}),u=er(function(){return One(i.value,Ho(Ho(Ho(Ho({},o.value),s.value),l.value),{},{symbol:e.symbol,title:e.title}))});En(u,function(d){if(!d)return zne("Could not find one or more icon(s)",i.value,l.value)},{immediate:!0});var f=er(function(){return u.value?EL(u.value.abstract[0],{},r):null});return function(){return f.value}}}),Hne={prefix:"fas",iconName:"align-justify",icon:[448,512,[],"f039","M448 64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32z"]},Fne={prefix:"fas",iconName:"highlighter",icon:[576,512,[],"f591","M315 315l158.4-215L444.1 70.6 229 229 315 315zm-187 5l0 0V248.3c0-15.3 7.2-29.6 19.5-38.6L420.6 8.4C428 2.9 437 0 446.2 0c11.4 0 22.4 4.5 30.5 12.6l54.8 54.8c8.1 8.1 12.6 19 12.6 30.5c0 9.2-2.9 18.2-8.4 25.6L334.4 396.5c-9 12.3-23.4 19.5-38.6 19.5H224l-25.4 25.4c-12.5 12.5-32.8 12.5-45.3 0l-50.7-50.7c-12.5-12.5-12.5-32.8 0-45.3L128 320zM7 466.3l63-63 70.6 70.6-31 31c-4.5 4.5-10.6 7-17 7H24c-13.3 0-24-10.7-24-24v-4.7c0-6.4 2.5-12.5 7-17z"]},Vne={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},jne={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32H256c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},Wne={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M352 64c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32s14.3 32 32 32H320c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32s14.3 32 32 32H320c17.7 0 32-14.3 32-32z"]},Une={prefix:"fas",iconName:"paragraph",icon:[448,512,[182],"f1dd","M192 32h64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H384l0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352H288V448c0 17.7-14.3 32-32 32s-32-14.3-32-32V352H192c-88.4 0-160-71.6-160-160s71.6-160 160-160z"]},qne={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]};Ane.add(Une,Fne,jne,qne,Wne,Hne,Vne);const Kne={name:"SvgIcon",components:{FontAwesomeIcon:$ne},props:{content:{type:Object,default:()=>{}}},data(){return{defaultSvgs:{bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"/></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"/></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"/></svg>',strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M314.222 197.78c51.091 51.091 54.377 132.287 9.75 187.16-6.242 7.73-2.784 3.865-84.94 86.02-54.696 54.696-143.266 54.745-197.99 0-54.711-54.69-54.734-143.255 0-197.99 32.773-32.773 51.835-51.899 63.409-63.457 7.463-7.452 20.331-2.354 20.486 8.192a173.31 173.31 0 0 0 4.746 37.828c.966 4.029-.272 8.269-3.202 11.198L80.632 312.57c-32.755 32.775-32.887 85.892 0 118.8 32.775 32.755 85.892 32.887 118.8 0l75.19-75.2c32.718-32.725 32.777-86.013 0-118.79a83.722 83.722 0 0 0-22.814-16.229c-4.623-2.233-7.182-7.25-6.561-12.346 1.356-11.122 6.296-21.885 14.815-30.405l4.375-4.375c3.625-3.626 9.177-4.594 13.76-2.294 12.999 6.524 25.187 15.211 36.025 26.049zM470.958 41.04c-54.724-54.745-143.294-54.696-197.99 0-82.156 82.156-78.698 78.29-84.94 86.02-44.627 54.873-41.341 136.069 9.75 187.16 10.838 10.838 23.026 19.525 36.025 26.049 4.582 2.3 10.134 1.331 13.76-2.294l4.375-4.375c8.52-8.519 13.459-19.283 14.815-30.405.621-5.096-1.938-10.113-6.561-12.346a83.706 83.706 0 0 1-22.814-16.229c-32.777-32.777-32.718-86.065 0-118.79l75.19-75.2c32.908-32.887 86.025-32.755 118.8 0 32.887 32.908 32.755 86.025 0 118.8l-45.848 45.84c-2.93 2.929-4.168 7.169-3.202 11.198a173.31 173.31 0 0 1 4.746 37.828c.155 10.546 13.023 15.644 20.486 8.192 11.574-11.558 30.636-30.684 63.409-63.457 54.733-54.735 54.71-143.3-.001-197.991z"></path></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M304.083 388.936c4.686 4.686 4.686 12.284 0 16.971l-65.057 65.056c-54.709 54.711-143.27 54.721-197.989 0-54.713-54.713-54.719-143.27 0-197.989l65.056-65.057c4.686-4.686 12.284-4.686 16.971 0l22.627 22.627c4.686 4.686 4.686 12.284 0 16.971L81.386 311.82c-34.341 34.341-33.451 88.269.597 120.866 32.577 31.187 84.788 31.337 117.445-1.32l65.057-65.056c4.686-4.686 12.284-4.686 16.971 0l22.627 22.626zm-56.568-243.245l64.304-64.304c34.346-34.346 88.286-33.453 120.882.612 31.18 32.586 31.309 84.785-1.335 117.43l-65.056 65.057c-4.686 4.686-4.686 12.284 0 16.971l22.627 22.627c4.686 4.686 12.284 4.686 16.971 0l65.056-65.057c54.711-54.709 54.721-143.271 0-197.99-54.71-54.711-143.27-54.72-197.989 0l-65.057 65.057c-4.686 4.686-4.686 12.284 0 16.971l22.627 22.627c4.685 4.685 12.283 4.685 16.97-.001zm238.343 362.794l22.627-22.627c4.686-4.686 4.686-12.284 0-16.971L43.112 3.515c-4.686-4.686-12.284-4.686-16.971 0L3.515 26.142c-4.686 4.686-4.686 12.284 0 16.971l465.373 465.373c4.686 4.686 12.284 4.686 16.97-.001z"></path></svg>',"file-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zm-22.627 22.628a15.89 15.89 0 0 1 4.195 7.431H256V32.491a15.88 15.88 0 0 1 7.431 4.195l83.883 83.883zM336 480H48c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304c0 8.837-7.163 16-16 16zm-161.471-67.404l-25.928-7.527a5.1 5.1 0 0 1-3.476-6.32l58.027-199.869a5.1 5.1 0 0 1 6.32-3.476l25.927 7.527a5.1 5.1 0 0 1 3.476 6.32L180.849 409.12a5.1 5.1 0 0 1-6.32 3.476zm-48.446-47.674l18.492-19.724a5.101 5.101 0 0 0-.351-7.317L105.725 304l38.498-33.881a5.1 5.1 0 0 0 .351-7.317l-18.492-19.724a5.1 5.1 0 0 0-7.209-.233L57.61 300.279a5.1 5.1 0 0 0 0 7.441l61.263 57.434a5.1 5.1 0 0 0 7.21-.232zm139.043.232l61.262-57.434a5.1 5.1 0 0 0 0-7.441l-61.262-57.434a5.1 5.1 0 0 0-7.209.233l-18.492 19.724a5.101 5.101 0 0 0 .351 7.317L278.275 304l-38.499 33.881a5.1 5.1 0 0 0-.351 7.317l18.492 19.724a5.1 5.1 0 0 0 7.209.232z"></path></svg>',"page-break":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M144 48.06L304 48v112a16 16 0 0 0 16 16h112v40h48v-84a48.09 48.09 0 0 0-14.09-34L382 14.07A48.09 48.09 0 0 0 348 0L128 .08a32 32 0 0 0-32 32V216h48zM352 52l76.07 76H352zM240 264a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm192 200H144V360H96v120a32 32 0 0 0 32 32h320a32 32 0 0 0 32-32V360h-48zm128-200H432a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm-400 32v-16a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16z"></path></svg>',"remove-format":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M634 471L36 3.5A16 16 0 0 0 13.49 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM352 96l-24.76 74.27L378 210l38-114h144v32a16 16 0 0 0 16 16h16a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16H176a15.86 15.86 0 0 0-14.18 8.94L232.24 96zm-16 336h-32l25.68-77-50.77-39.7L240 432h-32a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',"quote-right":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"/></svg>',"list-ul":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"/></svg>',"list-ol":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg>',h1:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M511.5,196.5v293.1h-58.6V255.1h-58.6v-58.6H511.5z M71.8,181.9h146.6V50c0-16.2,13.1-29.3,29.3-29.3h14.7c16.2,0,29.3,13.1,29.3,29.3V387c0,16.2-13.1,29.3-29.3,29.3h-14.7c-16.2,0-29.3-13.1-29.3-29.3V255.1H71.8V387c0,16.2-13.1,29.3-29.3,29.3H27.8c-16.2,0-29.3-13.1-29.3-29.3V50c0-16.2,13.1-29.3,29.3-29.3h14.7c16.2,0,29.3,13.1,29.3,29.3V181.9z"/></svg>',h2:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M68.5,194.7h137.9V70.5c0-15.2,12.4-27.6,27.6-27.6h13.8c15.2,0,27.6,12.4,27.6,27.6v317.2c0,15.2-12.4,27.6-27.6,27.6H234c-15.2,0-27.6-12.4-27.6-27.6V263.6H68.5v124.1c0,15.2-12.4,27.6-27.6,27.6H27.2c-15.2,0-27.6-12.4-27.6-27.6V70.5C-0.4,55.3,11.9,43,27.2,43H41c15.2,0,27.6,12.4,27.6,27.6V194.7z M512,424.8v45.7H339.5c1.8-17.3,7.4-33.7,16.8-49.1c9.3-15.5,27.8-36,55.3-61.6c22.2-20.7,35.8-34.7,40.8-42c6.8-10.2,10.2-20.2,10.2-30.1c0-11-3-19.4-8.8-25.3c-5.9-5.9-14.1-8.8-24.4-8.8c-10.3,0-18.5,3.1-24.5,9.3c-6.1,6.2-9.6,16.4-10.5,30.8l-49-4.9c2.9-27.1,12.1-46.5,27.5-58.3c15.4-11.8,34.7-17.7,57.8-17.7c25.3,0,45.2,6.8,59.7,20.5c14.5,13.7,21.7,30.6,21.7,50.9c0,11.6-2.1,22.6-6.2,33c-4.1,10.4-10.7,21.4-19.7,32.8c-6,7.6-16.7,18.5-32.2,32.7c-15.5,14.2-25.4,23.7-29.5,28.4c-3.8,4.2-7.2,8.8-10.1,13.7H512z"/></svg>',h3:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M68.3,192.9h137.2V69.4c0-15.2,12.3-27.4,27.4-27.4h13.7c15.2,0,27.4,12.3,27.4,27.4V385c0,15.2-12.3,27.4-27.4,27.4h-13.7c-15.2,0-27.4-12.3-27.4-27.4V261.5H68.3V385c0,15.2-12.3,27.4-27.4,27.4H27.1C12,412.4-0.3,400.1-0.3,385V69.4C-0.3,54.3,12,42,27.1,42h13.7C56,42,68.3,54.3,68.3,69.4V192.9z M342.4,399.5l47.4-5.7c1.5,12.1,5.6,21.3,12.2,27.7c6.6,6.4,14.6,9.6,24,9.6c10.1,0,18.6-3.8,25.5-11.5c6.9-7.7,10.3-18,10.3-31c0-12.3-3.3-22-9.9-29.3c-6.1-7-14.9-10.9-24.2-10.8c-6.3,0-13.7,1.2-22.5,3.6l5.4-39.9c13.2,0.3,23.3-2.5,30.3-8.6c6.9-6.1,10.4-14.2,10.4-24.3c0-8.6-2.6-15.4-7.7-20.6c-5.1-5.1-11.9-7.6-20.4-7.6c-8-0.1-15.8,3-21.4,8.7c-5.9,5.8-9.5,14.3-10.8,25.4l-45.1-7.7c3.1-15.4,7.9-27.8,14.2-37c6.3-9.2,15.2-16.5,26.5-21.8c11.9-5.4,24.9-8.1,38.1-7.9c24,0,43.3,7.7,57.8,23c12,12.5,17.9,26.7,17.9,42.5c0,22.4-12.2,40.3-36.7,53.6c14.6,3.1,26.3,10.2,35.1,21.1c8.8,10.9,13.1,24.1,13.1,39.5c0,22.4-8.2,41.5-24.6,57.3c-16.4,15.8-36.7,23.7-61.1,23.7c-23.1,0-42.3-6.7-57.5-19.9C353.6,438.4,344.8,421,342.4,399.5L342.4,399.5z"/></svg>',h4:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M68.4,196h135V74.5c0-14.9,12.1-27,27-27h13.5c14.9,0,27,12.1,27,27V385c0,14.9-12.1,27-27,27h-13.5c-14.9,0-27-12.1-27-27V263.5h-135V385c0,14.9-12.1,27-27,27H27.9c-14.9,0-27-12.1-27-27V74.5c0-14.9,12.1-27,27-27h13.5c14.9,0,27,12.1,27,27V196zM434.2,466v-50.6H331.4v-42.1l109-159.5h40.4v159.4H512v42.3h-31.2V466H434.2z M434.2,373.1v-85.8l-57.8,85.8H434.2z"/></svg>',h5:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M70.1,191.8h139.5V66.3c0-15.4,12.5-27.9,27.9-27.9h14c15.4,0,27.9,12.5,27.9,27.9v320.9c0,15.4-12.5,27.9-27.9,27.9h-14c-15.4,0-27.9-12.5-27.9-27.9V261.6H70.1v125.6c0,15.4-12.5,27.9-27.9,27.9h-14c-15.4,0-27.9-12.5-27.9-27.9V66.3c0-15.4,12.5-27.9,27.9-27.9h14c15.4,0,27.9,12.5,27.9,27.9V191.8z M337.4,404.1l49.6-5.1c1.4,11.2,5.6,20.1,12.6,26.6c13.4,13.2,35,13.1,48.3-0.3c0.8-0.8,1.5-1.6,2.2-2.5c7.2-8.5,10.8-21.2,10.8-38.2c0-16-3.6-27.9-10.7-35.9c-7.1-8-16.5-11.9-27.9-11.9c-14.3,0-27.1,6.3-38.4,18.9l-40.4-5.9l25.5-135.1h131.6v46.6h-93.9l-7.8,44.1c10.5-5.4,22.2-8.3,34-8.3c21.3-0.3,41.7,8.4,56.1,24.1c15.3,16.1,23,36.9,23,62.5c0.3,20.6-6.3,40.7-18.6,57.2c-16.9,22.9-40.3,34.4-70.3,34.4c-24,0-43.5-6.4-58.6-19.3C349.3,443.1,340.3,425.8,337.4,404.1z"/></svg>',h6:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M70.3,191.6h140.1V65.5c0-15.5,12.5-28,28-28h14c15.5,0,28,12.5,28,28v322.2c0,15.5-12.5,28-28,28h-14c-15.5,0-28-12.5-28-28V261.6H70.3v126.1c0,15.5-12.5,28-28,28h-14c-15.5,0-28-12.5-28-28V65.5c0-15.5,12.5-28,28-28h14c15.5,0,28,12.5,28,28V191.6z M507.2,274.9l-48.4,5.3c-1.2-9.9-4.3-17.3-9.2-22c-5-4.7-11.5-7.1-19.4-7.1c-10.6,0-19.5,4.7-26.8,14.2c-7.3,9.5-11.9,29.2-13.8,59.2c12.5-14.7,27.9-22,46.4-22c20.9,0,38.7,8,53.6,23.8c14.9,15.9,22.3,36.4,22.3,61.5c0,26.7-7.8,48.1-23.5,64.2c-15.7,16.1-35.7,24.2-60.3,24.2c-26.3,0-48-10.2-64.9-30.7c-16.9-20.5-25.4-54-25.4-100.6c0-47.8,8.9-82.2,26.5-103.3s40.6-31.7,68.8-31.7c19.8,0,36.2,5.5,49.2,16.6C495.4,237.7,503.6,253.8,507.2,274.9z M393.9,383.9c0,16.2,3.7,28.8,11.2,37.6c7.5,8.8,16,13.3,25.6,13.3c9.2,0,16.9-3.6,23.1-10.9c6.2-7.2,9.2-19,9.2-35.6c0-16.9-3.3-29.3-9.9-37.2c-6-7.6-15.2-12-24.9-11.8c-9.6,0-17.7,3.8-24.3,11.3C397.2,358.1,393.9,369.2,393.9,383.9z"/></svg>',"horizontal-rule":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M640 247.5v17a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-17a16 16 0 0 1 16-16h608a16 16 0 0 1 16 16z"/></svg>',code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M234.8 511.7L196 500.4c-4.2-1.2-6.7-5.7-5.5-9.9L331.3 5.8c1.2-4.2 5.7-6.7 9.9-5.5L380 11.6c4.2 1.2 6.7 5.7 5.5 9.9L244.7 506.2c-1.2 4.3-5.6 6.7-9.9 5.5zm-83.2-121.1l27.2-29c3.1-3.3 2.8-8.5-.5-11.5L72.2 256l106.1-94.1c3.4-3 3.6-8.2.5-11.5l-27.2-29c-3-3.2-8.1-3.4-11.3-.4L2.5 250.2c-3.4 3.2-3.4 8.5 0 11.7L140.3 391c3.2 3 8.2 2.8 11.3-.4zm284.1.4l137.7-129.1c3.4-3.2 3.4-8.5 0-11.7L435.7 121c-3.2-3-8.3-2.9-11.3.4l-27.2 29c-3.1 3.3-2.8 8.5.5 11.5L503.8 256l-106.1 94.1c-3.4 3-3.6 8.2-.5 11.5l27.2 29c3.1 3.2 8.1 3.4 11.3.4z"/></svg>',"brackets-curly":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M208 32h-88a56 56 0 0 0-56 56v77.49a40 40 0 0 1-11.72 28.29L7 239a24 24 0 0 0 0 34l45.24 45.24A40 40 0 0 1 64 346.52V424a56 56 0 0 0 56 56h88a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-88a8 8 0 0 1-8-8v-77.48a88.06 88.06 0 0 0-25.78-62.24L57.93 256l28.29-28.28A88.06 88.06 0 0 0 112 165.48V88a8 8 0 0 1 8-8h88a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zm361 207l-45.25-45.24A40.07 40.07 0 0 1 512 165.48V88a56 56 0 0 0-56-56h-88a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h88a8 8 0 0 1 8 8v77.48a88 88 0 0 0 25.78 62.24L518.06 256l-28.28 28.28A88 88 0 0 0 464 346.52V424a8 8 0 0 1-8 8h-88a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h88a56 56 0 0 0 56-56v-77.49a40 40 0 0 1 11.72-28.29L569 273a24 24 0 0 0 0-34z"></path></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"/></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M336 64h-52.28a16 16 0 0 0-13.31 7.12L176 212.73 81.59 71.12A16 16 0 0 0 68.28 64H16A16 16 0 0 0 0 80v16a16 16 0 0 0 16 16h35.16l96 144-96 144H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h52.28a16 16 0 0 0 13.31-7.12L176 299.27l94.41 141.61a16 16 0 0 0 13.31 7.12H336a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-35.16l-96-144 96-144H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm160 400h-24V304a16 16 0 0 0-16-16h-32a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 408 352h16v112h-24a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M336 64h-52.28a16 16 0 0 0-13.31 7.12L176 212.73 81.59 71.12A16 16 0 0 0 68.28 64H16A16 16 0 0 0 0 80v16a16 16 0 0 0 16 16h35.16l96 144-96 144H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h52.28a16 16 0 0 0 13.31-7.12L176 299.27l94.41 141.61a16 16 0 0 0 13.31 7.12H336a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-35.16l-96-144 96-144H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm160 112h-24V16a16 16 0 0 0-16-16h-32a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 408 64h16v112h-24a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 264V160H232V264H48zm0 48H232V432H64c-8.8 0-16-7.2-16-16V312zM280 432V312H464V416c0 8.8-7.2 16-16 16H280zM464 264H280V160H464V264zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"/></svg>',"rectangle-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M320.1 175L384.1 239C394.3 248.4 394.3 263.6 384.1 272.1L320.1 336.1C311.6 346.3 296.4 346.3 287 336.1C277.7 327.6 277.7 312.4 287 303L334.1 256L287 208.1C277.7 199.6 277.7 184.4 287 175C296.4 165.7 311.6 165.7 320.1 175V175zM177.9 256L224.1 303C234.3 312.4 234.3 327.6 224.1 336.1C215.6 346.3 200.4 346.3 191 336.1L127 272.1C117.7 263.6 117.7 248.4 127 239L191 175C200.4 165.7 215.6 165.7 224.1 175C234.3 184.4 234.3 199.6 224.1 208.1L177.9 256zM448 32C483.3 32 512 60.65 512 96V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H448zM448 80H64C55.16 80 48 87.16 48 96V416C48 424.8 55.16 432 64 432H448C456.8 432 464 424.8 464 416V96C464 87.16 456.8 80 448 80z"/></svg>',"photo-film":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M256 0H576c35.3 0 64 28.7 64 64V288c0 35.3-28.7 64-64 64H256c-35.3 0-64-28.7-64-64V64c0-35.3 28.7-64 64-64zM476 106.7C471.5 100 464 96 456 96s-15.5 4-20 10.7l-56 84L362.7 169c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h80 48H552c8.9 0 17-4.9 21.2-12.7s3.7-17.3-1.2-24.6l-96-144zM336 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM64 128h96V384v32c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V384H512v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V192c0-35.3 28.7-64 64-64zm8 64c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16H88c8.8 0 16-7.2 16-16V208c0-8.8-7.2-16-16-16H72zm0 104c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16H88c8.8 0 16-7.2 16-16V312c0-8.8-7.2-16-16-16H72zm0 104c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16H88c8.8 0 16-7.2 16-16V416c0-8.8-7.2-16-16-16H72zm336 16v16c0 8.8 7.2 16 16 16h16c8.8 0 16-7.2 16-16V416c0-8.8-7.2-16-16-16H424c-8.8 0-16 7.2-16 16z"/></svg>',text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M64 96v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V80C0 53.5 21.5 32 48 32H224 400c26.5 0 48 21.5 48 48v48c0 17.7-14.3 32-32 32s-32-14.3-32-32V96H256l0 320h48c17.7 0 32 14.3 32 32s-14.3 32-32 32H144c-17.7 0-32-14.3-32-32s14.3-32 32-32h48l0-320H64z"/></svg>'}}},computed:{getSvg(){return this.content.svg&&this.content.svg.startsWith("<svg")?this.content.svg:this.content.svg&&this.defaultSvgs[this.content.svg]?this.defaultSvgs[this.content.svg]:""}}},Gne=["innerHTML"];function Yne(t,e,n,r,i,o){const s=ut("font-awesome-icon");return n.content.icon?(ge(),Ct(s,{key:0,icon:n.content.icon},null,8,["icon"])):(ge(),Se("span",{key:1,class:"custom-svg",innerHTML:o.getSvg},null,8,Gne))}const hc=Bt(Kne,[["render",Yne]]),Jne={components:{SvgIcon:hc},props:{items:{type:Array,required:!0},command:{type:Function,required:!0}},data(){return{selectedIndex:0}},computed:{columns(){const e=Math.ceil(this.items.length/3),n=[];for(let r=0;r<3;r++)n.push(this.items.slice(r*e,(r+1)*e));return n},shortcutInfo(){const t=this.items[this.selectedIndex],e=Qn(t,"commandInfo.shortcut"),n=Qn(t,"commandInfo.text");return e?{label:Craft.t("vizy","Shortcut:"),icons:this.formatKeyboardShortcuts(e)}:n?{label:n}:{}}},methods:{onKeyDown({event:t}){return t.key==="ArrowUp"?(this.moveSelectionUp(),!0):t.key==="ArrowDown"?(this.moveSelectionDown(),!0):t.key==="ArrowLeft"?(this.moveSelectionLeft(),!0):t.key==="ArrowRight"?(this.moveSelectionRight(),!0):t.key==="Enter"?(this.enterHandler(),!0):!1},getItemIndex(t,e){return t+e*Math.ceil(this.items.length/3)},moveSelectionUp(){this.selectedIndex>0&&this.selectedIndex--},moveSelectionDown(){this.selectedIndex<this.items.length-1&&this.selectedIndex++},moveSelectionLeft(){if(this.selectedIndex>=0&&Math.floor(this.selectedIndex/Math.ceil(this.items.length/3))>0){const e=this.selectedIndex-Math.ceil(this.items.length/3);this.selectedIndex=e}},moveSelectionRight(){if(this.selectedIndex>=0&&Math.floor(this.selectedIndex/Math.ceil(this.items.length/3))<2){const e=this.selectedIndex+Math.ceil(this.items.length/3);e<this.items.length&&(this.selectedIndex=e)}},enterHandler(){this.selectItem(this.selectedIndex)},selectItem(t){const e=this.items[t];e&&this.command(e)},formatKeyboardShortcuts(t){const e=navigator.platform.toUpperCase().indexOf("MAC")>=0,n={Mod:e?"⌘":"Ctrl",Alt:e?"⌥":"Alt",Shift:e?"⇧":"Shift",Ctrl:e?"⌃":"Ctrl"};return t.split("-").map(r=>n[r]||r)}}},Xne={key:0,class:"vui-command-items",style:{"max-height":"216px"}},Zne={class:"vui-command-items-wrap"},Qne=["onClick"],ere={class:"vui-command-item-label"},tre={class:"vui-command-info",style:{"min-height":"32px"}},nre={class:"vui-command-info-left"},rre={class:"vui-command-info-shortcut"},ire={key:0,class:"vui-command-info-shortcut-label"},ore={key:1,class:"vui-command-items-empty"};function sre(t,e,n,r,i,o){const s=ut("svg-icon");return n.items.length?(ge(),Se("div",Xne,[re("div",Zne,[(ge(!0),Se(kt,null,Zt(o.columns,(l,u)=>(ge(),Se("div",{key:u,class:"vui-command-column"},[(ge(!0),Se(kt,null,Zt(l,(f,d)=>(ge(),Se("button",{key:d,class:vt(["vui-command-item",{"is-selected":i.selectedIndex===o.getItemIndex(d,u)}]),onClick:m=>o.selectItem(o.getItemIndex(d,u))},[Qe(s,{content:f,class:"vui-command-item-icon"},null,8,["content"]),re("span",ere,Le(f.title),1)],10,Qne))),128))]))),128))]),re("div",tre,[re("div",nre,[re("div",rre,[o.shortcutInfo.label?(ge(),Se("div",ire,Le(o.shortcutInfo.label),1)):gt("",!0),(ge(!0),Se(kt,null,Zt(o.shortcutInfo.icons,(l,u)=>(ge(),Se("div",{key:u,class:"vui-command-info-shortcut-img"},Le(l),1))),128))])])])])):(ge(),Se("div",ore,Le(t.t("vizy","No items found.")),1))}const are=Bt(Jne,[["render",sre]]),lre={items:t=>{const{vizyField:e}=t.editor,n=e.settings,r=Craft.Vizy.Config.getCommands();let i=[],o=["h1","h2","h3","unordered-list","ordered-list","media-embed","link","image","code-block","blockquote","hr"];n.vizyConfig.commands&&(o=n.vizyConfig.commands),o.forEach(l=>{const u=r.find(f=>f.name===l);u&&i.push(u)});let s=["paragraph","code-block","blockquote","h1","h2","h3","h4","h5","h6"];return n.vizyConfig.formatting&&n.vizyConfig.formatting.length&&(s=n.vizyConfig.formatting),s=[...s,...e.buttons],i.forEach((l,u)=>{s.includes(l.name)||i.splice(u,1)}),e.richTextEnabled||(i=[]),n.blockGroups.forEach(l=>{l.blockTypes.forEach(u=>{i.push({name:u.handle,svg:u.icon.svg,title:u.name,command:({editor:f,range:d})=>{const m=Xm("vizy-block-"),v={type:u.id},{fieldsHtml:y,footHtml:_}=u;f.vizyField.setCachedFieldHtml(m,y),f.vizyField.setCachedFieldJs(m,_),f.chain().focus().deleteRange(d).setVizyBlock({id:m,values:v}).run(),setTimeout(()=>{f.vizyField.$events.emit("vizy-blocks:addedBlock")},50)}})})}),i.filter(l=>l.title.toLowerCase().startsWith(t.query.toLowerCase()))},render:()=>{let t,e;return{onStart:n=>{t=new GN(are,{props:n,editor:n.editor}),n.clientRect&&(e=Kr("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:t.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"top-start",theme:"light-border vui-command-dropdown",maxWidth:"600px",duration:200}))},onUpdate(n){t.updateProps(n),n.clientRect&&e[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var r;return n.event.key==="Escape"?(e[0].hide(),!0):(r=t.ref)==null?void 0:r.onKeyDown(n)},onExit(){e[0].destroy(),t.destroy()}}}},ure=t=>{const e=[],n={},r=[];return Object.entries(t.settings.vizyConfig).forEach(([i,o])=>{(i==="buttons"||i==="formatting")&&o.forEach(s=>{vr(s)&&(Array.isArray(n[s.type])||(n[s.type]=[]),Object.keys(s.attrs).forEach(l=>{n[s.type].includes(l)||n[s.type].push(l)}),s.editorStyle&&e.push(s))})}),e.forEach(i=>{const o=Gj(`${i.type} ${i.title}`);if(!document.querySelector(`style#${o}`)){const s=document.createElement("style");s.id=o,s.innerHTML=`.vui-editor ${i.editorStyle}`,document.head.appendChild(s)}}),Object.entries(n).forEach(([i,o])=>{const s={};o.forEach(l=>{s[l]={default:null}}),r.push(ir.create({name:`${i}CustomAttributes`,addGlobalAttributes(){return[{types:[i],attributes:s}]}}))}),r},cre={name:"MenuBarItem",components:{SvgIcon:hc},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}},options:{type:Array,default:()=>[]}},data(){return{tippy:null}},computed:{active(){return this.isActive&&this.isActive(this.editor)}},mounted(){this.$nextTick(()=>{if(this.hasDropdown){const t=this.$el.querySelector(`.vui-toolbar-dropdown-${this.name}`),e=this.$el;t&&e&&(t.style.display="block",this.tippy=Kr(e,{content:t,trigger:"click",allowHTML:!0,arrow:!1,interactive:!0,placement:"bottom-start",theme:"light-border toolbar-dropdown",duration:200,zIndex:1e3,hideOnClick:!0,offset:[0,1],onShown(n){n.popper.querySelector("button").focus()}}))}}),this._keyListener=function(t){t.key==="Escape"&&(t.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{hasDropdown(){return!!(this.options&&this.options.length)},optionActive(t){return t.isActive&&t.isActive(this.editor)},runAction(t){this.tippy&&this.tippy.hide(),t&&t(this.editor)},onMouseDown(t){t.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}},fre={class:"vui-toolbar-dropdown-wrap"},dre=["onClick"];function hre(t,e,n,r,i,o){const s=ut("svg-icon"),l=sc("tooltip");return Ut((ge(),Se("button",{class:vt(["btn vui-toolbar-btn",{active:o.active}]),onClick:e[0]||(e[0]=lt(u=>o.runAction(n.action),["prevent"])),onMousedown:e[1]||(e[1]=(...u)=>o.onMouseDown&&o.onMouseDown(...u))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"]),o.hasDropdown()?(ge(),Se("div",{key:0,class:vt(["vui-toolbar-dropdown-container","vui-toolbar-dropdown-"+n.name]),style:{display:"none"}},[re("div",fre,[(ge(!0),Se(kt,null,Zt(n.options,(u,f)=>(ge(),Se("button",{key:f,class:vt(["vui-toolbar-dropdown",["vui-toolbar-dropdown-item-"+u.name,{active:o.optionActive(u)}]]),onClick:lt(d=>o.runAction(u.action),["prevent"])},Le(u.title),11,dre))),128))])],2)):gt("",!0)],34)),[[l,{content:n.title,theme:"vui-tooltip"}]])}const pre=Bt(cre,[["render",hre]]),OL=(t,e)=>{if(!t||!e)return;const n=t.parent.childAfter(t.parentOffset);if(!n.node)return;const r=n.node.marks.find(u=>u.type===e);if(!r)return;let i=t.index(),o=t.start()+n.offset,s=i+1,l=o+n.node.nodeSize;for(;i>0&&r.isInSet(t.parent.child(i-1).marks);)i-=1,o-=t.parent.child(i).nodeSize;for(;s<t.parent.childCount&&r.isInSet(t.parent.child(s).marks);)l+=t.parent.child(s).nodeSize,s+=1;return{from:o,to:l}},mre={name:"MenuBarModal",inheritAttrs:!1,props:{cancelButton:{type:String,default:"Cancel"},confirmButton:{type:String,default:"Confirm"}},emits:["update:modelValue","confirm","cancel"],mounted(){this._keyListener=function(t){const e=this.$vfm.openedModals[0];e&&t.key==="Escape"&&(t.preventDefault(),e.emit("cancel"))},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{opened(){setTimeout(()=>{this.$nextTick().then(()=>{const t=this.$el.querySelector('input[type="text"]');t&&t.focus()})},50)}}},gre={class:"vui-modal-header"},vre={class:"vui-modal-body"},yre={class:"vui-modal-footer footer"},bre=re("div",{class:"spinner hidden"},null,-1),_re={class:"buttons right"},wre=["onClick"],kre=["onClick"];function xre(t,e,n,r,i,o){const s=ut("vue-final-modal");return ge(),Ct(s,wi({class:"vui-modal-wrap"},t.$attrs,{classes:"vui-modal-container","content-class":"vui-modal-content","overlay-class":"vui-modal-overlay",attach:"body","lock-scroll":!1,"esc-to-close":!0,"click-to-close":!0,"focus-trap":!0,onOpened:o.opened,onClickOutside:e[1]||(e[1]=l=>t.$emit("cancel")),onCancel:e[2]||(e[2]=l=>t.$emit("cancel"))}),{default:Vt(({params:l,close:u})=>[re("div",gre,[pn(t.$slots,"title"),re("div",{class:"vui-modal-close",onClick:e[0]||(e[0]=lt(f=>t.$emit("update:modelValue",!1),["prevent"]))})]),re("div",vre,[pn(t.$slots,"default",{params:l})]),re("div",yre,[bre,re("div",_re,[re("div",{role:"button",class:"btn",tabindex:"0",onClick:lt(f=>t.$emit("cancel",u),["prevent"])},Le(t.t("vizy",n.cancelButton)),9,wre),re("div",{role:"button",class:"btn submit",onClick:lt(f=>t.$emit("confirm",u),["prevent"])},Le(t.t("vizy",n.confirmButton)),9,kre)])])]),_:3},16,["onOpened"])}const uv=Bt(mre,[["render",xre]]),Sre={name:"LinkMenuModal",components:{MenuBarModal:uv},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{url:null,text:null,target:null,class:null,title:null},errors:[],advancedPane:!1}},computed:{elementSiteId(){return this.field.settings.elementSiteId},newWindow:{get(){return this.modelValue.target==="_blank"},set(t){this.modelValue.target=t?"_blank":""}}},watch:{show(t){this.proxyShow=t},proxyShow(t){t===!1&&this.$emit("close")},proxyValue(t){this.$emit("update:modelValue",t)}},methods:{cancelModal(){this.proxyShow=!1},toggleAdvanced(){this.advancedPane=!this.advancedPane},confirmModal(){if(this.errors=[],!this.modelValue.url){this.errors.push("url");return}const t={href:this.modelValue.url,target:this.modelValue.target?"_blank":"",class:this.modelValue.class,title:this.modelValue.title},{selection:e}=this.editor.state.tr,n=e.$cursor?e.$cursor.pos:e.from;this.editor.chain().focus().command(({commands:r,tr:i,state:o,dispatch:s})=>{let l=OL(o.doc.resolve(i.selection.anchor),o.schema.marks.link);if(l||(l={from:i.selection.from,to:i.selection.to}),this.modelValue.text){const u=this.modelValue.text.toString();i.insertText(u,l.from,l.to);const f=i.doc.resolve(l.from),d=i.doc.resolve(l.from+u.length);i.setSelection(new st(f,d))}}).setLink(t).command(({commands:r,tr:i,state:o,dispatch:s})=>{n&&i.setSelection(st.create(i.doc,n))}).run(),this.proxyShow=!1}}},Cre={class:"heading"},Tre={id:"url-label",class:"required",for:"url"},Ere={key:0,class:"errors"},Are={id:"text-field",class:"field"},Ore={class:"heading"},Mre={id:"text-label",for:"text"},Nre={class:"input ltr"},Lre={id:"target-field",class:"checkboxfield field"},Ire={class:"input ltr"},Pre=["id"],Dre=["for"],Rre={id:"title-field",class:"field"},zre={class:"heading"},Bre={id:"title-label",for:"title"},$re={class:"input ltr"},Hre={id:"classes-field",class:"field"},Fre={class:"heading"},Vre={id:"classes-label",for:"classes"},jre={class:"input ltr"};function Wre(t,e,n,r,i,o){const s=ut("menu-bar-modal");return ge(),Ct(s,{modelValue:i.proxyShow,"onUpdate:modelValue":e[6]||(e[6]=l=>i.proxyShow=l),"confirm-button":t.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Vt(()=>[Ui(Le(t.t("vizy",t.$attrs["modal-title"])),1)]),default:Vt(()=>[re("div",{id:"url-field",class:vt(["field",{"has-errors":i.errors.includes("url")}])},[re("div",Cre,[re("label",Tre,Le(t.t("vizy","URL")),1)]),re("div",{class:vt(["input ltr",{errors:i.errors.includes("url")}])},[Ut(re("input",{id:"url","onUpdate:modelValue":e[0]||(e[0]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off",required:""},null,512),[[Mn,n.modelValue.url]])],2),i.errors.includes("url")?(ge(),Se("ul",Ere,[re("li",null,Le(t.t("vizy","URL cannot be blank.")),1)])):gt("",!0)],2),re("div",Are,[re("div",Ore,[re("label",Mre,Le(t.t("vizy","Text")),1)]),re("div",Nre,[Ut(re("input",{id:"text","onUpdate:modelValue":e[1]||(e[1]=l=>n.modelValue.text=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.text]])])]),re("div",Lre,[re("div",Ire,[Ut(re("input",{id:i.targetId,"onUpdate:modelValue":e[2]||(e[2]=l=>o.newWindow=l),type:"checkbox",class:"checkbox"},null,8,Pre),[[xd,o.newWindow]]),re("label",{for:i.targetId},Le(t.t("vizy","Open link in new tab")),9,Dre)])]),re("a",{class:vt(["fieldtoggle",{expanded:i.advancedPane}]),"data-target":"advanced",onClick:e[3]||(e[3]=lt((...l)=>o.toggleAdvanced&&o.toggleAdvanced(...l),["prevent"]))},Le(t.t("app","Advanced")),3),re("div",{class:vt({hidden:!i.advancedPane})},[re("div",Rre,[re("div",zre,[re("label",Bre,Le(t.t("vizy","Title")),1)]),re("div",$re,[Ut(re("input",{id:"title","onUpdate:modelValue":e[4]||(e[4]=l=>n.modelValue.title=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.title]])])]),re("div",Hre,[re("div",Fre,[re("label",Vre,Le(t.t("vizy","Classes")),1)]),re("div",jre,[Ut(re("input",{id:"classes","onUpdate:modelValue":e[5]||(e[5]=l=>n.modelValue.class=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.class]])])])],2)]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const ML=Bt(Sre,[["render",Wre]]),Ure={name:"LinkMenuBubble",components:{LinkMenuModal:ML},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{url:null,text:null,target:null,class:null,title:null}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.on("vui:link-clicked",this.renderBubble)})}}},methods:{renderBubble(){const{doc:t,selection:e,schema:n}=this.editor.view.state,r=OL(t.resolve(e.anchor),n.marks.link);if(r){const i=this.editor.view.docView.domFromPos(r.from).node;if(i){this.$el.style.display="block";const o=this.editor.getAttributes("link");this.model.text=i.textContent,this.model.url=o.href,this.model.target=o.target,this.model.class=o.class,this.model.title=o.title,this.tippy=Kr(i.parentNode,{content:this.$el,showOnCreate:!0,trigger:"manual",allowHTML:!0,arrow:!0,interactive:!0,placement:"top",theme:"vui-menu-bubble",hideOnClick:!0,duration:200,zIndex:1e3,appendTo:()=>document.body})}}},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},truncate(t,e){return t&&t.length>e?`${t.substr(0,e-1)}&hellip;`:t},edit(){this.showEditModal=!0,this.destroyBubble(),this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},unlink(){this.editor.chain().focus().unsetLink().run(),this.destroyBubble()}}},qre={class:"vui-link-menu-bubble",style:{display:"none"}},Kre=["href","innerHTML"];function Gre(t,e,n,r,i,o){const s=ut("link-menu-modal");return ge(),Se("div",qre,[re("a",{href:i.model.url,target:"_blank",innerHTML:o.truncate(i.model.url,30)},null,8,Kre),re("a",{href:"#",onClick:e[0]||(e[0]=lt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Le(t.t("vizy","Edit")),1),re("a",{href:"#",onClick:e[1]||(e[1]=lt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Le(t.t("vizy","Unlink")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Link",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const Yre=Bt(Ure,[["render",Gre]]),Jre={name:"MenuBarItem",components:{SvgIcon:hc,LinkMenuModal:ML,LinkMenuBubble:Yre},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},title:{type:String,default:null},isActive:{type:Function,default:()=>{}}},data(){return{tippy:null,showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)},linkOptions(){return this.field.settings.linkOptions}},created(){this.resetModel(),this.editor.on("vui:link-modal-open",()=>{this.openNewModal()})},mounted(){this.$nextTick(()=>{const t=this.$el.querySelector(".vui-toolbar-dropdown-link"),e=this.$el;t&&e&&(t.style.display="block",this.tippy=Kr(e,{content:t,trigger:"click",allowHTML:!0,arrow:!1,interactive:!0,placement:"bottom-start",theme:"light-border toolbar-dropdown",duration:200,zIndex:1e3,hideOnClick:!0,offset:[0,1],onShown(n){n.popper.querySelector("button").focus()}}))}),this._keyListener=function(t){t.key==="Escape"&&(t.preventDefault(),this.closeDropdown()),this.editor.vizyField.isFocused()&&t.key==="k"&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),this.openNewModal())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{resetModel(){this.model={url:null,text:null,target:null,class:null,title:null}},openNewModal(){this.tippy.hide(),this.resetModel();const t=this.getSelectedText();t&&(this.model.text=t),this.showEditModal=!0},openEditModal(){this.tippy.hide();const{from:t,to:e}=this.editor.view.state.selection,n=this.editor.view.docView.domFromPos(t).node,r=this.editor.getAttributes("link");this.model.text=n.textContent,this.model.url=r.href,this.model.target=r.target,this.model.class=r.class,this.model.title=r.title,this.showEditModal=!0},closeModal(){this.showEditModal=!1},openElementModal(t){this.tippy.hide(),this.resetModel(),Craft.createElementSelectorModal(t.elementType,{storageKey:`VizyInput.LinkTo.${t.elementType}`,sources:t.sources,criteria:t.criteria,defaultSiteId:this.elementSiteId,autoFocusSearchBox:!1,onSelect:$.proxy(e=>{if(e.length){const[n]=e;this.model.url=`${n.url}#${t.refHandle}:${n.id}@${n.siteId}`,this.model.text=this.getSelectedText()||n.label,this.tippy.hide(),this.showEditModal=!0}},this),closeOtherModals:!1})},getSelectedText(){const{from:t,to:e}=this.editor.state.selection,n=this.editor.state.doc.textBetween(t,e," ");return n||!1},unlinkAction(){this.tippy&&this.tippy.hide(),this.editor.chain().focus().unsetLink().run()},onMouseDown(t){t.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}},Xre={class:"vui-toolbar-dropdown-container vui-toolbar-dropdown-link",style:{display:"none"}},Zre={key:0},Qre=["onClick"],eie={key:1};function tie(t,e,n,r,i,o){const s=ut("svg-icon"),l=ut("link-menu-bubble"),u=ut("link-menu-modal"),f=sc("tooltip");return ge(),Se("div",null,[Ut((ge(),Se("button",{class:vt(["btn vui-toolbar-btn",{active:o.active}]),onClick:lt(()=>{},["prevent"]),onMousedown:e[0]||(e[0]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),re("div",Xre,[o.active?(ge(),Se("div",eie,[re("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-link",onClick:e[2]||(e[2]=lt((...d)=>o.openEditModal&&o.openEditModal(...d),["prevent"]))},Le(t.t("vizy","Edit Link")),1)])):(ge(),Se("div",Zre,[(ge(!0),Se(kt,null,Zt(o.linkOptions,(d,m)=>(ge(),Se("button",{key:m,class:vt(["vui-toolbar-dropdown","vui-toolbar-dropdown-item-link-"+d.refHandle]),onClick:lt(v=>o.openElementModal(d),["prevent"])},Le(d.optionTitle),11,Qre))),128)),re("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-link",onClick:e[1]||(e[1]=lt((...d)=>o.openNewModal&&o.openNewModal(...d),["prevent"]))},Le(t.t("vizy","Insert Link")),1)])),re("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-unlink",onClick:e[3]||(e[3]=lt((...d)=>o.unlinkAction&&o.unlinkAction(...d),["prevent"]))},Le(t.t("vizy","Unlink")),1)]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":e[4]||(e[4]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Link",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const nie=Bt(Jre,[["render",tie]]),rie={name:"ImageMenuModal",components:{MenuBarModal:uv},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{id:null,src:null,alt:null,title:null,url:null,target:null,transform:null},errors:[]}},computed:{elementSiteId(){return this.field.settings.elementSiteId},transforms(){return this.field.settings.transforms}},watch:{show(t){this.proxyShow=t},proxyShow(t){t===!1&&this.$emit("close")},proxyValue(t){this.$emit("update:modelValue",t)}},methods:{_buildAssetUrl:(t,e,n)=>`${e}#asset:${t}:${n?`transform:${n}`:"url"}`,_removeTransformFromUrl:t=>t.replace(/(.*)(_[a-z0-9+].*\/)(.*)/,"$1$3"),_getTransformUrl(t,e,n){const r={assetId:t,handle:e};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{n(i.data.url)}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})},cancelModal(){this.proxyShow=!1},confirmModal(){this.errors=[];const t=this._removeTransformFromUrl(this.modelValue.src.split("#")[0]);this.modelValue.target=this.modelValue.target?"_blank":"",this.modelValue.transform?this._getTransformUrl(this.modelValue.id,this.modelValue.transform,e=>{this.modelValue.src=this._buildAssetUrl(this.modelValue.id,e,this.modelValue.transform),this.editor.chain().focus().setImage(this.modelValue).run()}):(this.modelValue.src=t,this.editor.chain().focus().setImage(this.modelValue).run()),this.proxyShow=!1}}},iie={class:"vui-modal-body-wrap"},oie={class:"vizy-modal-image-preview"},sie=["src"],aie={class:"vizy-modal-image-fields"},lie={id:"alt-field",class:"field"},uie={class:"heading"},cie={id:"alt-label",for:"alt"},fie={class:"input ltr"},die={id:"title-field",class:"field"},hie={class:"heading"},pie={id:"title-label",for:"title"},mie={class:"input ltr"},gie={id:"url-field",class:"field"},vie={class:"heading"},yie={id:"url-label",for:"url"},bie={class:"input ltr"},_ie={id:"target-field",class:"checkboxfield field"},wie={class:"input ltr"},kie=["id"],xie=["for"],Sie={id:"transform-field",class:"field first"},Cie={class:"heading"},Tie={id:"transform-label",for:"transform"},Eie={class:"input ltr"},Aie={class:"select"},Oie={value:""},Mie=["value"];function Nie(t,e,n,r,i,o){const s=ut("menu-bar-modal");return ge(),Ct(s,{modelValue:i.proxyShow,"onUpdate:modelValue":e[5]||(e[5]=l=>i.proxyShow=l),class:"vui-modal-image-edit","confirm-button":t.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Vt(()=>[Ui(Le(t.t("vizy",t.$attrs["modal-title"])),1)]),default:Vt(()=>[re("div",iie,[re("div",oie,[re("img",{src:n.modelValue.src},null,8,sie)]),re("div",aie,[re("div",lie,[re("div",uie,[re("label",cie,Le(t.t("vizy","Alt Text")),1)]),re("div",fie,[Ut(re("input",{id:"alt","onUpdate:modelValue":e[0]||(e[0]=l=>n.modelValue.alt=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.alt]])])]),re("div",die,[re("div",hie,[re("label",pie,Le(t.t("vizy","Title")),1)]),re("div",mie,[Ut(re("input",{id:"title","onUpdate:modelValue":e[1]||(e[1]=l=>n.modelValue.title=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.title]])])]),re("div",gie,[re("div",vie,[re("label",yie,Le(t.t("vizy","URL")),1)]),re("div",bie,[Ut(re("input",{id:"url","onUpdate:modelValue":e[2]||(e[2]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[Mn,n.modelValue.url]])])]),re("div",_ie,[re("div",wie,[Ut(re("input",{id:i.targetId,"onUpdate:modelValue":e[3]||(e[3]=l=>n.modelValue.target=l),type:"checkbox",class:"checkbox"},null,8,kie),[[xd,n.modelValue.target]]),re("label",{for:i.targetId},Le(t.t("vizy","Open link in new tab")),9,xie)])]),re("div",Sie,[re("div",Cie,[re("label",Tie,Le(t.t("vizy","Transform")),1)]),re("div",Eie,[re("div",Aie,[Ut(re("select",{id:"transform","onUpdate:modelValue":e[4]||(e[4]=l=>n.modelValue.transform=l)},[re("option",Oie,Le(t.t("vizy","No Transform")),1),(ge(!0),Se(kt,null,Zt(o.transforms,(l,u)=>(ge(),Se("option",{key:u,value:l.handle},Le(l.name),9,Mie))),128))],512),[[Z1,n.modelValue.transform]])])])])])])]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const NL=Bt(rie,[["render",Nie]]),Lie=(t,e=!0)=>{if(!t)throw new Error('Invalid "node" parameter');const n=[];return t.descendants((r,i)=>{if(n.push({node:r,pos:i}),!e)return!1}),n},Iie=(t,e,n)=>{if(t){if(!e)throw new Error('Invalid "predicate" parameter')}else throw new Error('Invalid "node" parameter');return Lie(t,n).filter(r=>e(r.node))},Pie=(t,e,n)=>Iie(t,r=>r.type===e,n),Vw={name:"followCursor",defaultValue:!1,fn(t){const{reference:e}=t;return{onMount(){const n=t.props.mouseEvent,r=n.target?e.contains(n.target):!0,{clientX:i,clientY:o}=n,s=e.getBoundingClientRect(),l=i-s.left,u=o-s.top;(r||!t.props.interactive)&&t.setProps({getReferenceClientRect(){const f=e.getBoundingClientRect(),d=f.left+l,m=f.top+u;return{width:0,height:0,top:m,right:d,bottom:m,left:d}}})}}}},Die={name:"ImageMenuBubble",components:{ImageMenuModal:NL},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{id:null,src:null,alt:null,title:null,url:null,target:null,transform:null}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.on("vui:image-clicked",this.renderBubble)})}}},methods:{renderBubble(t){const{view:e}=this.editor,n=this.editor.getAttributes("image");P_(n)&&(this.model=n,this.$el.style.display="block",this.destroyBubble(),this.tippy=Kr(e.dom,{content:this.$el,trigger:"manual",showOnCreate:!0,allowHTML:!0,arrow:!0,interactive:!0,placement:"top",followCursor:"initial",plugins:[Vw],theme:"vui-menu-bubble",duration:200,mouseEvent:t,zIndex:1e3,appendTo:()=>document.body}))},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},edit(){this.showEditModal=!0,this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},imageEditor(){if(this.model.id){const t={allowSavingAsNew:!1,onSave:this.reloadImage.bind(this),allowDegreeFractions:Craft.isImagick};new Craft.AssetImageEditor(this.model.id,t),this.destroyBubble()}},reloadImage(){Pie(this.editor.state.doc,this.editor.schema.nodes.image).forEach(e=>{if(!e.node.attrs.src)return;const n=e.node.attrs.src.match(/(.*)#asset:(\d+)(:transform:(.*))?/i);if(n&&n[2]==this.model.id)if(n[4]){const r={assetId:n[2],handle:n[4]};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{const o={src:`${i.data.url}?${new Date().getTime()}#asset:${n[2]}:transform:${n[4]}`};this.editor.view.dispatch(this.editor.state.tr.setNodeMarkup(e.pos,null,{...e.node.attrs,...o}))}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})}else{const r={src:`${n[1]}?${new Date().getTime()}#asset:${n[2]}`};this.editor.view.dispatch(this.editor.state.tr.setNodeMarkup(e.pos,null,{...e.node.attrs,...r}))}})},unlink(){this.editor.chain().focus().deleteSelection().run(),this.destroyBubble()}}},Rie={class:"vui-image-menu-bubble",style:{display:"none"}};function zie(t,e,n,r,i,o){const s=ut("image-menu-modal");return ge(),Se("div",Rie,[re("a",{href:"#",onClick:e[0]||(e[0]=lt((...l)=>o.imageEditor&&o.imageEditor(...l),["prevent"]))},Le(t.t("vizy","Image Editor")),1),re("a",{href:"#",onClick:e[1]||(e[1]=lt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Le(t.t("vizy","Edit")),1),re("a",{href:"#",onClick:e[2]||(e[2]=lt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Le(t.t("vizy","Delete")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":e[3]||(e[3]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Image",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const Bie=Bt(Die,[["render",zie]]),$ie={name:"ImageMenuBarItem",components:{SvgIcon:hc,ImageMenuBubble:Bie,ImageMenuModal:NL},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}}},data(){return{showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)},volumes(){return this.field.settings.volumes},transforms(){return this.field.settings.transforms},elementSiteId(){return this.field.settings.elementSiteId},defaultTransform(){return this.field.settings.defaultTransform},allowAllUploaders(){return this.field.settings.allowAllUploaders},defaultSource(){return this.field.settings.defaultSource}},created(){this.resetModel(),this.editor.on("vui:image-modal-open",()=>{this.runAction()})},mounted(){this._keyListener=function(t){t.key==="Escape"&&(t.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{_buildAssetUrl:(t,e,n)=>`${e}#asset:${t}:${n?`transform:${n}`:"url"}`,_isTransformUrl:t=>/(.*)(_[a-z0-9+].*\/)(.*)/.test(t),_getTransformUrl(t,e,n){const r={assetId:t,handle:e};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{n(i.data.url)}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})},runAction(){const t={siteId:this.elementSiteId,kind:"image"};this.allowAllUploaders&&(t.uploaderId=null),this.assetSelectionModal=Craft.createElementSelectorModal("craft\\elements\\Asset",{storageKey:"VizyInput.ChooseImage",multiSelect:!0,sources:this.volumes,defaultSource:this.defaultSource??null,criteria:t,onSelect:function(e,n){if(e.length){const r={};e.length>1;const i=function(o,s){const l=o.pop(),u=this._isTransformUrl(l.url);u||!this.defaultTransform?(r[`asset${l.id}`]={id:l.id,src:this._buildAssetUrl(l.id,l.url,u?n:this.defaultTransform),alt:l.label,title:l.label,transform:u?n:this.defaultTransform},o.length?i(o,s):s()):this._getTransformUrl(l.id,this.defaultTransform,f=>{r[`asset${l.id}`]={id:l.id,src:this._buildAssetUrl(l.id,f,this.defaultTransform),alt:l.label,title:l.label,transform:this.defaultTransform},o.length?i(o,s):s()})}.bind(this);i(e,()=>{Object.keys(r).forEach(o=>{this.model={...this.model,...r[o]},this.showEditModal=!0})})}}.bind(this),transforms:this.transforms,closeOtherModals:!1})},resetModel(){this.model={id:null,src:null,alt:null,title:null,url:null,target:null,transform:this.defaultTransform}},closeModal(){this.showEditModal=!1},onMouseDown(t){t.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}};function Hie(t,e,n,r,i,o){const s=ut("svg-icon"),l=ut("image-menu-bubble"),u=ut("image-menu-modal"),f=sc("tooltip");return ge(),Se("div",null,[Ut((ge(),Se("button",{class:vt(["btn vui-toolbar-btn",{active:o.active}]),onClick:e[0]||(e[0]=lt((...d)=>o.runAction&&o.runAction(...d),["prevent"])),onMousedown:e[1]||(e[1]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Image",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const Fie=Bt($ie,[["render",Hie]]),Vie={name:"IframeEmbedMenuModal",components:{MenuBarModal:uv},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{url:null},errors:[]}},watch:{show(t){this.proxyShow=t},proxyShow(t){t===!1&&this.$emit("close")},proxyValue(t){this.$emit("update:modelValue",t)}},methods:{cancelModal(){this.proxyShow=!1},confirmModal(){if(this.errors=[],!this.modelValue.url){this.errors.push("url");return}this.editor.chain().focus().setIframe(this.modelValue).run(),this.proxyShow=!1}}},jie={class:"heading"},Wie={id:"url-label",class:"required",for:"url"},Uie={key:0,class:"errors"};function qie(t,e,n,r,i,o){const s=ut("menu-bar-modal");return ge(),Ct(s,{modelValue:i.proxyShow,"onUpdate:modelValue":e[1]||(e[1]=l=>i.proxyShow=l),class:"vui-modal-iframe-edit","confirm-button":t.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Vt(()=>[Ui(Le(t.t("vizy",t.$attrs["modal-title"])),1)]),default:Vt(()=>[re("div",{id:"url-field",class:vt(["field",{"has-errors":i.errors.includes("url")}])},[re("div",jie,[re("label",Wie,Le(t.t("vizy","URL")),1)]),re("div",{class:vt(["input ltr",{errors:i.errors.includes("url")}])},[Ut(re("input",{id:"url","onUpdate:modelValue":e[0]||(e[0]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off",required:""},null,512),[[Mn,n.modelValue.url]])],2),i.errors.includes("url")?(ge(),Se("ul",Uie,[re("li",null,Le(t.t("vizy","URL cannot be blank.")),1)])):gt("",!0)],2)]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const LL=Bt(Vie,[["render",qie]]),Kie={name:"IframeMenuBubble",components:{IframeMenuModal:LL},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{url:null}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.on("vui:iframe-clicked",this.renderBubble)})}}},methods:{renderBubble(t){const{view:e}=this.editor,n=this.editor.getAttributes("iframe");P_(n)&&(this.model=n,this.$el.style.display="block",this.destroyBubble(),this.tippy=Kr(e.dom,{content:this.$el,trigger:"manual",showOnCreate:!0,allowHTML:!0,arrow:!0,interactive:!0,placement:"top",followCursor:"initial",plugins:[Vw],theme:"vui-menu-bubble",mouseEvent:t,duration:200,zIndex:1e3,appendTo:()=>document.body}))},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},edit(){this.showEditModal=!0,this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},unlink(){this.editor.chain().focus().deleteSelection().run(),this.destroyBubble()}}},Gie={class:"vui-iframe-menu-bubble",style:{display:"none"}};function Yie(t,e,n,r,i,o){const s=ut("iframe-menu-modal");return ge(),Se("div",Gie,[re("a",{href:"#",onClick:e[0]||(e[0]=lt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Le(t.t("vizy","Edit")),1),re("a",{href:"#",onClick:e[1]||(e[1]=lt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Le(t.t("vizy","Delete")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit iFrame",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const Jie=Bt(Kie,[["render",Yie]]),Xie={name:"IframeMenuBarItem",components:{SvgIcon:hc,IframeMenuBubble:Jie,IframeMenuModal:LL},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}}},data(){return{showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)}},created(){this.resetModel()},mounted(){this._keyListener=function(t){t.key==="Escape"&&(t.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{runAction(){this.showEditModal=!0},resetModel(){this.model={url:null,data:null}},closeModal(){this.showEditModal=!1},onMouseDown(t){t.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}};function Zie(t,e,n,r,i,o){const s=ut("svg-icon"),l=ut("iframe-menu-bubble"),u=ut("iframe-menu-modal"),f=sc("tooltip");return ge(),Se("div",null,[Ut((ge(),Se("button",{class:vt(["btn vui-toolbar-btn",{active:o.active}]),onClick:e[0]||(e[0]=lt((...d)=>o.runAction&&o.runAction(...d),["prevent"])),onMousedown:e[1]||(e[1]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert iFrame",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const Qie=Bt(Xie,[["render",Zie]]),eoe={name:"MediaEmbedMenuModal",components:{MenuBarModal:uv},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{url:null,data:null},errors:[]}},watch:{show(t){this.proxyShow=t},proxyShow(t){t===!1&&this.$emit("close")},proxyValue(t){this.$emit("update:modelValue",t)}},methods:{cancelModal(){this.proxyShow=!1},confirmModal(){if(this.errors=[],!this.modelValue.url){this.errors.push("url");return}this.editor.chain().focus().setEmbed(this.modelValue).run(),this.proxyShow=!1}}},toe={class:"heading"},noe={id:"url-label",class:"required",for:"url"},roe={key:0,class:"errors"};function ioe(t,e,n,r,i,o){const s=ut("menu-bar-modal");return ge(),Ct(s,{modelValue:i.proxyShow,"onUpdate:modelValue":e[1]||(e[1]=l=>i.proxyShow=l),class:"vui-modal-media-embed-edit","confirm-button":t.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Vt(()=>[Ui(Le(t.t("vizy",t.$attrs["modal-title"])),1)]),default:Vt(()=>[re("div",{id:"url-field",class:vt(["field",{"has-errors":i.errors.includes("url")}])},[re("div",toe,[re("label",noe,Le(t.t("vizy","URL")),1)]),re("div",{class:vt(["input ltr",{errors:i.errors.includes("url")}])},[Ut(re("input",{id:"url","onUpdate:modelValue":e[0]||(e[0]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off",required:""},null,512),[[Mn,n.modelValue.url]])],2),i.errors.includes("url")?(ge(),Se("ul",roe,[re("li",null,Le(t.t("vizy","URL cannot be blank.")),1)])):gt("",!0)],2)]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const IL=Bt(eoe,[["render",ioe]]),ooe={name:"MediaEmbedMenuBubble",components:{MediaEmbedMenuModal:IL},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{url:null,data:null}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.on("vui:media-embed-clicked",this.renderBubble)})}}},methods:{renderBubble(t){const{view:e}=this.editor,n=this.editor.getAttributes("mediaEmbed");P_(n)&&(this.model=n,this.$el.style.display="block",this.destroyBubble(),this.tippy=Kr(e.dom,{content:this.$el,trigger:"manual",showOnCreate:!0,allowHTML:!0,arrow:!0,interactive:!0,placement:"top",followCursor:"initial",plugins:[Vw],theme:"vui-menu-bubble",mouseEvent:t,duration:200,zIndex:1e3,appendTo:()=>document.body}))},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},edit(){this.showEditModal=!0,this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},unlink(){this.editor.chain().focus().deleteSelection().run(),this.destroyBubble()}}},soe={class:"vui-media-embed-menu-bubble",style:{display:"none"}};function aoe(t,e,n,r,i,o){const s=ut("media-embed-menu-modal");return ge(),Se("div",soe,[re("a",{href:"#",onClick:e[0]||(e[0]=lt((...l)=>o.edit&&o.edit(...l),["prevent"]))},Le(t.t("vizy","Edit")),1),re("a",{href:"#",onClick:e[1]||(e[1]=lt((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Le(t.t("vizy","Delete")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Media Embed",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const loe=Bt(ooe,[["render",aoe]]),uoe={name:"MediaEmbedMenuBarItem",components:{SvgIcon:hc,MediaEmbedMenuBubble:loe,MediaEmbedMenuModal:IL},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}}},data(){return{showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)}},created(){this.resetModel(),this.editor.on("vui:media-embed-modal-open",()=>{this.runAction()})},mounted(){this._keyListener=function(t){t.key==="Escape"&&(t.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{runAction(){this.showEditModal=!0},resetModel(){this.model={url:null,data:null}},closeModal(){this.showEditModal=!1},onMouseDown(t){t.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}};function coe(t,e,n,r,i,o){const s=ut("svg-icon"),l=ut("media-embed-menu-bubble"),u=ut("media-embed-menu-modal"),f=sc("tooltip");return ge(),Se("div",null,[Ut((ge(),Se("button",{class:vt(["btn vui-toolbar-btn",{active:o.active}]),onClick:e[0]||(e[0]=lt((...d)=>o.runAction&&o.runAction(...d),["prevent"])),onMousedown:e[1]||(e[1]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":e[2]||(e[2]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Media Embed",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const foe=Bt(uoe,[["render",coe]]),doe={components:{MenuBarItem:pre,LinkMenuBarItem:nie,ImageMenuBarItem:Fie,IframeMenuBarItem:Qie,MediaEmbedMenuBarItem:foe},props:{field:{type:Object,default:null},editor:{type:Object,default:null},buttons:{type:Array,default:()=>[]}},computed:{availableButtons(){const t=[];return this.buttons.forEach(e=>{vr(e)&&t.push(this.dynamicButton(e));const n=this.allButtons.find(r=>r.name===e);n&&(n.name==="formatting"&&(n.options=this.getEnabledOptions(n.options,this.getFormattingOptions())),n.name==="table"&&(n.options=this.getEnabledOptions(n.options,this.getTableOptions())),t.push(n))}),t}},created(){this.allButtons=Craft.Vizy.Config.getButtons()},methods:{getFormattingOptions(){let t=["paragraph","code-block","blockquote","h1","h2","h3","h4","h5","h6"];return this.field.settings.vizyConfig.formatting&&this.field.settings.vizyConfig.formatting.length&&(t=this.field.settings.vizyConfig.formatting),t},getTableOptions(){let t=["insert-table","delete-table","add-col-before","add-col-after","delete-col","add-row-before","add-row-after","delete-row","merge-cells","split-cells","toggle-header-column","toggle-header-row","toggle-header-cell"];return this.field.settings.vizyConfig.table&&this.field.settings.vizyConfig.table.length&&(t=this.field.settings.vizyConfig.table),t},getEnabledOptions(t,e){const n=[];return e.forEach(r=>{vr(r)&&n.push(this.dynamicButton(r));const i=t.find(o=>o.name===r);i&&n.push(i)}),n},dynamicButton(t){return{name:t.type,svg:t.svg,title:t.title,action:e=>{const n=e.state.schema.nodes[t.type],r=e.state.schema.marks[t.type];if(n)return e.chain().focus().toggleNode(t.type,"paragraph",t.attrs).run();if(r)return e.chain().focus().toggleMark(t.type,t.attrs).run()},isActive:e=>e.isActive(t.type,t.attrs)}}}},hoe={class:"vui-editor-toolbar"};function poe(t,e,n,r,i,o){return ge(),Se("div",hoe,[(ge(!0),Se(kt,null,Zt(o.availableButtons,(s,l)=>(ge(),Ct(Qs(s.component||"MenuBarItem"),wi({key:l},s,{editor:n.editor,field:n.field}),null,16,["editor","field"]))),128))])}const moe=Bt(doe,[["render",poe]]);class goe{constructor({options:e,editorView:n}){this.options={element:null,onUpdate:()=>!1,...e},this.preventHide=!1,this.editorView=n,this.isActive=!1,this.top=0,this.behaviour=this.options.editor.vizyField.settings.blockTypeBehaviour,this.behaviour==="click"&&(this.options.element.addEventListener("mousedown",this.mousedownHandler.bind(this),{capture:!0}),this.options.editor.on("focus",this.focusHandler.bind(this)),this.options.editor.on("blur",this.blurHandler.bind(this)),this.options.editor.on("resize",this.resizeHandler.bind(this))),this.behaviour==="hover"&&(this.options.editor.view.dom.addEventListener("mousemove",this.mouseenterHandler.bind(this)),this.options.editor.view.dom.addEventListener("mouseleave",this.mouseleaveHandler.bind(this)))}mouseenterHandler(e){const{view:n}=this.options.editor,r=n.posAtCoords({left:e.clientX,top:e.clientY});if(r.pos&&r.inside>-1){const i=r.pos,o=n.state.doc.resolve(i).parent;lw(o)?setTimeout(()=>{const s=this.options.element.offsetParent;if(s){const l=s.getBoundingClientRect(),f=n.coordsAtPos(i).top-l.top;this.isActive=!0,this.top=f,this.options.editor.vizyField.currentNodeHoverPosition=i,this.sendUpdate()}},10):this.hide()}}mouseleaveHandler(e){e.relatedTarget&&e.relatedTarget.classList.contains("vui-editor-insert-btn")||this.hide()}mousedownHandler(){this.preventHide=!0}focusHandler(){this.update(this.options.editor.view)}blurHandler(e){if(this.preventHide){this.preventHide=!1;return}this.hide(e)}resizeHandler(){this.isActive&&this.update(this.options.editor.view)}isNodeEmpty(e){return!e.toJSON().content}update(e,n){const{state:r,composing:i}=e,{doc:o,selection:s}=r,l=n&&n.doc.eq(o)&&n.selection.eq(s);if(i||l)return;const{$anchor:u,anchor:f,empty:d}=s,m=this.options.element.offsetParent,v=u.depth===1,y=u.parent.type===r.doc.type.contentMatch.defaultType,_=this.isNodeEmpty(s.$anchor.parent);if(!d||!m||!(v&&y&&_)){this.hide();return}setTimeout(()=>{const x=m.getBoundingClientRect(),A=e.coordsAtPos(f).top-x.top;this.isActive=!0,this.top=A,this.sendUpdate()},10)}sendUpdate(){this.options.onUpdate({isActive:this.isActive,top:this.top})}hide(e){e&&e.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(e.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.behaviour==="click"&&(this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler),this.options.editor.off("resize",this.resizeHandler)),this.behaviour==="hover"&&(this.options.editor.view.dom.removeEventListener("mousemove",this.mouseenterHandler),this.options.editor.view.dom.removeEventListener("mouseleave",this.mouseleaveHandler))}}function voe(t){return new on({key:new xn("floatingMenu"),view(e){return new goe({editorView:e,options:t})}})}const yoe={props:{editor:{type:Object,default:null}},emits:["show","hide"],data(){return{menu:{isActive:!1,left:0,bottom:0}}},computed:{variables(){return{focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getAttributes.bind(this.editor),getNodeAttrs:this.editor.getAttributes.bind(this.editor),menu:this.menu}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.registerPlugin(voe({editor:t,element:this.$el,onUpdate:e=>{e.isActive&&this.menu.isActive===!1?this.$emit("show",e):!e.isActive&&this.menu.isActive===!0&&this.$emit("hide",e),this.menu=e}}))})}}},beforeUnmount(){},render(){return this.editor?mr("div",null,this.$slots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getAttributes.bind(this.editor),getNodeAttrs:this.editor.getAttributes.bind(this.editor),menu:this.menu})):null}},boe={name:"BlockPicker",components:{FloatingMenu:yoe},props:{field:{type:Object,default:null},editor:{type:Object,default:null},blockGroups:{type:Array,default:()=>[]}},data(){return{tippy:null,search:"",selectedIndex:0}},computed:{filteredBlockGroups(){const{blockGroups:t}=this;let e=0;return t.forEach(n=>{Array.isArray(n.blockTypes)&&n.blockTypes.forEach(r=>{r.countIndex=e,e++})}),t.reduce((n,r)=>{let i=[];return Array.isArray(r.blockTypes)&&(i=r.blockTypes.filter(o=>o.name.toLowerCase().includes(this.search.toLowerCase()))),i.length?n.concat({...r,blockTypes:i}):n},[])},totalBlockCount(){let t=0;return this.blockGroups.forEach(e=>{Array.isArray(e.blockTypes)&&(t+=e.blockTypes.length)}),t}},mounted(){this.$nextTick(()=>{const t=this.$el.querySelector("#vizy-blocks-template");t&&(t.style.display="block",this.tippy=Kr(this.$el.querySelector(".vui-editor-insert-btn"),{content:t,trigger:"click",allowHTML:!0,arrow:!0,interactive:!0,placement:"right",theme:"vui-block-picker light-border",maxWidth:"300px",duration:200,zIndex:100,appendTo:()=>document.body,hideOnClick:!0}))})},methods:{moveSelectionLeft(){this.selectedIndex>0&&this.selectedIndex--},moveSelectionRight(){const t=Object.values(this.filteredBlockGroups).map(e=>e.blockTypes).flat();this.selectedIndex<t.length-1&&this.selectedIndex++},addBlock(t){if(this.blockTypeDisabled(t))return;const e=Xm("vizy-block-"),n={type:t.id},{fieldsHtml:r,footHtml:i}=t;this.field.setCachedFieldHtml(e,r),this.field.setCachedFieldJs(e,i),this.editor.chain().focus().setVizyBlock({id:e,values:n}).run(),setTimeout(()=>{this.$events.emit("vizy-blocks:addedBlock")},50),this.tippy.hide()},blockTypeDisabled(t){var l,u;let e=0;const n={};this.blockGroups.forEach(f=>{f.blockTypes.forEach(d=>{n[d.id]=0})}),(u=(l=this.editor.state.doc)==null?void 0:l.content)==null||u.content.forEach(f=>{const d=Qn(f,"type.name"),m=Qn(f,"type.attrs.enabled"),v=Qn(f,"attrs.values.type");d==="vizyBlock"&&m&&(e+=1,n[v]+=1)});const{maxBlocks:r,maxBlockTypeBlocks:i}=this.editor.vizyField.settings;if(r&&e>=r)return!0;const o=Qn(i,t.id);return Qn(n,t.id)>=o},onClick(){const{blockTypeBehaviour:t}=this.editor.vizyField.settings;if(t==="hover"){const{view:e}=this.editor,n=st.create(e.state.doc,this.editor.vizyField.currentNodeHoverPosition),r=e.state.tr.setSelection(n);e.dispatch(r)}},closePane(){this.tippy&&this.tippy.hide()}}},_oe=re("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},[re("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),woe=[_oe],koe={id:"vizy-blocks-template",style:{display:"none"}},xoe={key:0},Soe={key:1},Coe=re("hr",null,null,-1),Toe={class:"vui-block-items-header"},Eoe={class:"vui-block-items"},Aoe=["onClick"],Ooe=["innerHTML"],Moe={class:"vui-block-item-heading"},Noe={key:2,class:"vui-block-items-none"},Loe=re("hr",null,null,-1),Ioe={key:3,class:"vui-block-items-empty"};function Poe(t,e,n,r,i,o){const s=ut("floating-menu");return Ut((ge(),Ct(s,{ref:"menu",editor:n.editor},{default:Vt(({menu:l})=>[re("div",{class:vt(["vui-editor-insert",{"is-active":l.isActive}]),style:oi(`top: ${l.top}px`),onKeydown:[e[2]||(e[2]=Tu(lt((...u)=>o.moveSelectionLeft&&o.moveSelectionLeft(...u),["prevent"]),["left"])),e[3]||(e[3]=Tu(lt((...u)=>o.moveSelectionRight&&o.moveSelectionRight(...u),["prevent"]),["right"])),e[4]||(e[4]=Tu(lt((...u)=>o.closePane&&o.closePane(...u),["prevent"]),["escape"]))]},[re("button",{type:"button","aria-label":"Add block","aria-haspopup":"true","aria-expanded":"false",class:"vui-editor-insert-btn",onClick:e[0]||(e[0]=(...u)=>o.onClick&&o.onClick(...u))},woe),re("div",koe,[o.totalBlockCount?(ge(),Se("div",xoe,[Ut(re("input",{"onUpdate:modelValue":e[1]||(e[1]=u=>i.search=u),type:"text",class:"text fullwidth",placeholder:"Search for blocks"},null,512),[[Mn,i.search]])])):gt("",!0),o.filteredBlockGroups.length?(ge(),Se("div",Soe,[(ge(!0),Se(kt,null,Zt(o.filteredBlockGroups,(u,f)=>(ge(),Se("div",{key:f,class:"vui-block-group"},[Coe,re("div",Toe,Le(u.name),1),re("div",Eoe,[(ge(!0),Se(kt,null,Zt(u.blockTypes,(d,m)=>(ge(),Se("div",{key:m,class:vt(["vui-block-item",{disabled:o.blockTypeDisabled(d),"is-selected":i.selectedIndex===d.countIndex}]),onClick:v=>o.addBlock(d)},[re("div",{innerHTML:d.icon.svg},null,8,Ooe),re("span",Moe,Le(d.name),1)],10,Aoe))),128))])]))),128))])):i.search?(ge(),Se("div",Noe,[Loe,Ui(" "+Le(t.t("vizy","No blocks found for “{search}”.",{search:i.search})),1)])):(ge(),Se("div",Ioe,Le(t.t("vizy","No blocks available.")),1))])],38)]),_:1},8,["editor"])),[[Bu,n.blockGroups.length]])}const Doe=Bt(boe,[["render",Poe]]);var Roe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zoe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ng={},Boe={get exports(){return ng},set exports(t){ng=t}},AE;function Mr(){return AE||(AE=1,function(t,e){(function(n,r){t.exports=r()})(Roe,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),l=/Edge\/(\d+)/.exec(n),u=o||s||l,f=u&&(o?document.documentMode||6:+(l||s)[1]),d=!l&&/WebKit\//.test(n),m=d&&/Qt\/\d+\.\d+/.test(n),v=!l&&/Chrome\/(\d+)/.exec(n),y=v&&+v[1],_=/Opera\//.test(n),C=/Apple Computer/.test(navigator.vendor),x=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),k=/PhantomJS/.test(n),A=C&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),L=/Android/.test(n),E=A||L||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),H=A||/Mac/.test(r),I=/\bCrOS\b/.test(n),q=/win/i.test(r),P=_&&n.match(/Version\/(\d*\.\d*)/);P&&(P=Number(P[1])),P&&P>=15&&(_=!1,d=!0);var z=H&&(m||_&&(P==null||P<12.11)),w=i||u&&f>=9;function R(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var U=function(a,c){var p=a.className,h=R(c).exec(p);if(h){var g=p.slice(h.index+h[0].length);a.className=p.slice(0,h.index)+(g?h[1]+g:"")}};function K(a){for(var c=a.childNodes.length;c>0;--c)a.removeChild(a.firstChild);return a}function oe(a,c){return K(a).appendChild(c)}function D(a,c,p,h){var g=document.createElement(a);if(p&&(g.className=p),h&&(g.style.cssText=h),typeof c=="string")g.appendChild(document.createTextNode(c));else if(c)for(var b=0;b<c.length;++b)g.appendChild(c[b]);return g}function ae(a,c,p,h){var g=D(a,c,p,h);return g.setAttribute("role","presentation"),g}var ce;document.createRange?ce=function(a,c,p,h){var g=document.createRange();return g.setEnd(h||a,p),g.setStart(a,c),g}:ce=function(a,c,p){var h=document.body.createTextRange();try{h.moveToElementText(a.parentNode)}catch{return h}return h.collapse(!0),h.moveEnd("character",p),h.moveStart("character",c),h};function ve(a,c){if(c.nodeType==3&&(c=c.parentNode),a.contains)return a.contains(c);do if(c.nodeType==11&&(c=c.host),c==a)return!0;while(c=c.parentNode)}function ze(a){var c;try{c=a.activeElement}catch{c=a.body||null}for(;c&&c.shadowRoot&&c.shadowRoot.activeElement;)c=c.shadowRoot.activeElement;return c}function qe(a,c){var p=a.className;R(c).test(p)||(a.className+=(p?" ":"")+c)}function yt(a,c){for(var p=a.split(" "),h=0;h<p.length;h++)p[h]&&!R(p[h]).test(c)&&(c+=" "+p[h]);return c}var mt=function(a){a.select()};A?mt=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:u&&(mt=function(a){try{a.select()}catch{}});function _t(a){return a.display.wrapper.ownerDocument}function bt(a){return _t(a).defaultView}function Xe(a){var c=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,c)}}function Ie(a,c,p){c||(c={});for(var h in a)a.hasOwnProperty(h)&&(p!==!1||!c.hasOwnProperty(h))&&(c[h]=a[h]);return c}function Be(a,c,p,h,g){c==null&&(c=a.search(/[^\s\u00a0]/),c==-1&&(c=a.length));for(var b=h||0,S=g||0;;){var T=a.indexOf("	",b);if(T<0||T>=c)return S+(c-b);S+=T-b,S+=p-S%p,b=T+1}}var Ee=function(){this.id=null,this.f=null,this.time=0,this.handler=Xe(this.onTimeout,this)};Ee.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},Ee.prototype.set=function(a,c){this.f=c;var p=+new Date+a;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=p)};function Ze(a,c){for(var p=0;p<a.length;++p)if(a[p]==c)return p;return-1}var Ke=50,Fe={toString:function(){return"CodeMirror.Pass"}},at={scroll:!1},ie={origin:"*mouse"},te={origin:"+move"};function be(a,c,p){for(var h=0,g=0;;){var b=a.indexOf("	",h);b==-1&&(b=a.length);var S=b-h;if(b==a.length||g+S>=c)return h+Math.min(S,c-g);if(g+=b-h,g+=p-g%p,h=b+1,g>=c)return h}}var _e=[""];function xe(a){for(;_e.length<=a;)_e.push(G(_e)+" ");return _e[a]}function G(a){return a[a.length-1]}function Z(a,c){for(var p=[],h=0;h<a.length;h++)p[h]=c(a[h],h);return p}function N(a,c,p){for(var h=0,g=p(c);h<a.length&&p(a[h])<=g;)h++;a.splice(h,0,c)}function W(){}function O(a,c){var p;return Object.create?p=Object.create(a):(W.prototype=a,p=new W),c&&Ie(c,p),p}var j=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function F(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||j.test(a))}function Q(a,c){return c?c.source.indexOf("\\w")>-1&&F(a)?!0:c.test(a):F(a)}function le(a){for(var c in a)if(a.hasOwnProperty(c)&&a[c])return!1;return!0}var pe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ye(a){return a.charCodeAt(0)>=768&&pe.test(a)}function Y(a,c,p){for(;(p<0?c>0:c<a.length)&&ye(a.charAt(c));)c+=p;return c}function X(a,c,p){for(var h=c>p?-1:1;;){if(c==p)return c;var g=(c+p)/2,b=h<0?Math.ceil(g):Math.floor(g);if(b==c)return a(b)?c:p;a(b)?p=b:c=b+h}}function de(a,c,p,h){if(!a)return h(c,p,"ltr",0);for(var g=!1,b=0;b<a.length;++b){var S=a[b];(S.from<p&&S.to>c||c==p&&S.to==c)&&(h(Math.max(S.from,c),Math.min(S.to,p),S.level==1?"rtl":"ltr",b),g=!0)}g||h(c,p,"ltr")}var Te=null;function je(a,c,p){var h;Te=null;for(var g=0;g<a.length;++g){var b=a[g];if(b.from<c&&b.to>c)return g;b.to==c&&(b.from!=b.to&&p=="before"?h=g:Te=g),b.from==c&&(b.from!=b.to&&p!="before"?h=g:Te=g)}return h??Te}var he=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",c="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(B){return B<=247?a.charAt(B):1424<=B&&B<=1524?"R":1536<=B&&B<=1785?c.charAt(B-1536):1774<=B&&B<=2220?"r":8192<=B&&B<=8203?"w":B==8204?"b":"L"}var h=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,b=/[LRr]/,S=/[Lb1n]/,T=/[1n]/;function M(B,J,ee){this.level=B,this.from=J,this.to=ee}return function(B,J){var ee=J=="ltr"?"L":"R";if(B.length==0||J=="ltr"&&!h.test(B))return!1;for(var fe=B.length,ue=[],ke=0;ke<fe;++ke)ue.push(p(B.charCodeAt(ke)));for(var Ce=0,Me=ee;Ce<fe;++Ce){var De=ue[Ce];De=="m"?ue[Ce]=Me:Me=De}for(var $e=0,Re=ee;$e<fe;++$e){var Ve=ue[$e];Ve=="1"&&Re=="r"?ue[$e]="n":b.test(Ve)&&(Re=Ve,Ve=="r"&&(ue[$e]="R"))}for(var nt=1,et=ue[0];nt<fe-1;++nt){var St=ue[nt];St=="+"&&et=="1"&&ue[nt+1]=="1"?ue[nt]="1":St==","&&et==ue[nt+1]&&(et=="1"||et=="n")&&(ue[nt]=et),et=St}for(var Yt=0;Yt<fe;++Yt){var Pn=ue[Yt];if(Pn==",")ue[Yt]="N";else if(Pn=="%"){var sn=void 0;for(sn=Yt+1;sn<fe&&ue[sn]=="%";++sn);for(var Ir=Yt&&ue[Yt-1]=="!"||sn<fe&&ue[sn]=="1"?"1":"N",kr=Yt;kr<sn;++kr)ue[kr]=Ir;Yt=sn-1}}for(var wn=0,xr=ee;wn<fe;++wn){var jn=ue[wn];xr=="L"&&jn=="1"?ue[wn]="L":b.test(jn)&&(xr=jn)}for(var Tn=0;Tn<fe;++Tn)if(g.test(ue[Tn])){var kn=void 0;for(kn=Tn+1;kn<fe&&g.test(ue[kn]);++kn);for(var un=(Tn?ue[Tn-1]:ee)=="L",Sr=(kn<fe?ue[kn]:ee)=="L",eu=un==Sr?un?"L":"R":ee,ws=Tn;ws<kn;++ws)ue[ws]=eu;Tn=kn-1}for(var Yn=[],to,Dn=0;Dn<fe;)if(S.test(ue[Dn])){var oy=Dn;for(++Dn;Dn<fe&&S.test(ue[Dn]);++Dn);Yn.push(new M(0,oy,Dn))}else{var No=Dn,Ca=Yn.length,Ta=J=="rtl"?1:0;for(++Dn;Dn<fe&&ue[Dn]!="L";++Dn);for(var ar=No;ar<Dn;)if(T.test(ue[ar])){No<ar&&(Yn.splice(Ca,0,new M(1,No,ar)),Ca+=Ta);var tu=ar;for(++ar;ar<Dn&&T.test(ue[ar]);++ar);Yn.splice(Ca,0,new M(2,tu,ar)),Ca+=Ta,No=ar}else++ar;No<Dn&&Yn.splice(Ca,0,new M(1,No,Dn))}return J=="ltr"&&(Yn[0].level==1&&(to=B.match(/^\s+/))&&(Yn[0].from=to[0].length,Yn.unshift(new M(0,0,to[0].length))),G(Yn).level==1&&(to=B.match(/\s+$/))&&(G(Yn).to-=to[0].length,Yn.push(new M(0,fe-to[0].length,fe)))),J=="rtl"?Yn.reverse():Yn}}();function Ae(a,c){var p=a.order;return p==null&&(p=a.order=he(a.text,c)),p}var Ne=[],me=function(a,c,p){if(a.addEventListener)a.addEventListener(c,p,!1);else if(a.attachEvent)a.attachEvent("on"+c,p);else{var h=a._handlers||(a._handlers={});h[c]=(h[c]||Ne).concat(p)}};function Je(a,c){return a._handlers&&a._handlers[c]||Ne}function ct(a,c,p){if(a.removeEventListener)a.removeEventListener(c,p,!1);else if(a.detachEvent)a.detachEvent("on"+c,p);else{var h=a._handlers,g=h&&h[c];if(g){var b=Ze(g,p);b>-1&&(h[c]=g.slice(0,b).concat(g.slice(b+1)))}}}function ot(a,c){var p=Je(a,c);if(p.length)for(var h=Array.prototype.slice.call(arguments,2),g=0;g<p.length;++g)p[g].apply(null,h)}function Tt(a,c,p){return typeof c=="string"&&(c={type:c,preventDefault:function(){this.defaultPrevented=!0}}),ot(a,p||c.type,a,c),Gr(c)||c.codemirrorIgnore}function br(a){var c=a._handlers&&a._handlers.cursorActivity;if(c)for(var p=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),h=0;h<c.length;++h)Ze(p,c[h])==-1&&p.push(c[h])}function Kt(a,c){return Je(a,c).length>0}function Xt(a){a.prototype.on=function(c,p){me(this,c,p)},a.prototype.off=function(c,p){ct(this,c,p)}}function Gt(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Kn(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Gr(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function Yr(a){Gt(a),Kn(a)}function Sn(a){return a.target||a.srcElement}function pc(a){var c=a.which;return c==null&&(a.button&1?c=1:a.button&2?c=3:a.button&4&&(c=2)),H&&a.ctrlKey&&c==1&&(c=3),c}var dv=function(){if(u&&f<9)return!1;var a=D("div");return"draggable"in a||"dragDrop"in a}(),ci;function hv(a){if(ci==null){var c=D("span","​");oe(a,D("span",[c,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(ci=c.offsetWidth<=1&&c.offsetHeight>2&&!(u&&f<8))}var p=ci?D("span","​"):D("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var Pl;function Ud(a){if(Pl!=null)return Pl;var c=oe(a,document.createTextNode("AخA")),p=ce(c,0,1).getBoundingClientRect(),h=ce(c,1,2).getBoundingClientRect();return K(a),!p||p.left==p.right?!1:Pl=h.right-p.right<3}var mc=`

b`.split(/\n/).length!=3?function(a){for(var c=0,p=[],h=a.length;c<=h;){var g=a.indexOf(`
`,c);g==-1&&(g=a.length);var b=a.slice(c,a.charAt(g-1)=="\r"?g-1:g),S=b.indexOf("\r");S!=-1?(p.push(b.slice(0,S)),c+=S+1):(p.push(b),c=g+1)}return p}:function(a){return a.split(/\r\n?|\n/)},us=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var c;try{c=a.ownerDocument.selection.createRange()}catch{}return!c||c.parentElement()!=a?!1:c.compareEndPoints("StartToEnd",c)!=0},Yi=function(){var a=D("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),Ji=null;function qd(a){if(Ji!=null)return Ji;var c=oe(a,D("span","x")),p=c.getBoundingClientRect(),h=ce(c,0,1).getBoundingClientRect();return Ji=Math.abs(p.left-h.left)>1}var Ci={},cs={};function Kd(a,c){arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),Ci[a]=c}function Dl(a,c){cs[a]=c}function Nr(a){if(typeof a=="string"&&cs.hasOwnProperty(a))a=cs[a];else if(a&&typeof a.name=="string"&&cs.hasOwnProperty(a.name)){var c=cs[a.name];typeof c=="string"&&(c={name:c}),a=O(c,a),a.name=c.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return Nr("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return Nr("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function xo(a,c){c=Nr(c);var p=Ci[c.name];if(!p)return xo(a,"text/plain");var h=p(a,c);if(fs.hasOwnProperty(c.name)){var g=fs[c.name];for(var b in g)g.hasOwnProperty(b)&&(h.hasOwnProperty(b)&&(h["_"+b]=h[b]),h[b]=g[b])}if(h.name=c.name,c.helperType&&(h.helperType=c.helperType),c.modeProps)for(var S in c.modeProps)h[S]=c.modeProps[S];return h}var fs={};function Gd(a,c){var p=fs.hasOwnProperty(a)?fs[a]:fs[a]={};Ie(c,p)}function So(a,c){if(c===!0)return c;if(a.copyState)return a.copyState(c);var p={};for(var h in c){var g=c[h];g instanceof Array&&(g=g.concat([])),p[h]=g}return p}function ds(a,c){for(var p;a.innerMode&&(p=a.innerMode(c),!(!p||p.mode==a));)c=p.state,a=p.mode;return p||{mode:a,state:c}}function gc(a,c,p){return a.startState?a.startState(c,p):!0}var ln=function(a,c,p){this.pos=this.start=0,this.string=a,this.tabSize=c||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};ln.prototype.eol=function(){return this.pos>=this.string.length},ln.prototype.sol=function(){return this.pos==this.lineStart},ln.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ln.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ln.prototype.eat=function(a){var c=this.string.charAt(this.pos),p;if(typeof a=="string"?p=c==a:p=c&&(a.test?a.test(c):a(c)),p)return++this.pos,c},ln.prototype.eatWhile=function(a){for(var c=this.pos;this.eat(a););return this.pos>c},ln.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},ln.prototype.skipToEnd=function(){this.pos=this.string.length},ln.prototype.skipTo=function(a){var c=this.string.indexOf(a,this.pos);if(c>-1)return this.pos=c,!0},ln.prototype.backUp=function(a){this.pos-=a},ln.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Be(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Be(this.string,this.lineStart,this.tabSize):0)},ln.prototype.indentation=function(){return Be(this.string,null,this.tabSize)-(this.lineStart?Be(this.string,this.lineStart,this.tabSize):0)},ln.prototype.match=function(a,c,p){if(typeof a=="string"){var h=function(S){return p?S.toLowerCase():S},g=this.string.substr(this.pos,a.length);if(h(g)==h(a))return c!==!1&&(this.pos+=a.length),!0}else{var b=this.string.slice(this.pos).match(a);return b&&b.index>0?null:(b&&c!==!1&&(this.pos+=b[0].length),b)}},ln.prototype.current=function(){return this.string.slice(this.start,this.pos)},ln.prototype.hideFirstChars=function(a,c){this.lineStart+=a;try{return c()}finally{this.lineStart-=a}},ln.prototype.lookAhead=function(a){var c=this.lineOracle;return c&&c.lookAhead(a)},ln.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function Ge(a,c){if(c-=a.first,c<0||c>=a.size)throw new Error("There is no line "+(c+a.first)+" in the document.");for(var p=a;!p.lines;)for(var h=0;;++h){var g=p.children[h],b=g.chunkSize();if(c<b){p=g;break}c-=b}return p.lines[c]}function Co(a,c,p){var h=[],g=c.line;return a.iter(c.line,p.line+1,function(b){var S=b.text;g==p.line&&(S=S.slice(0,p.ch)),g==c.line&&(S=S.slice(c.ch)),h.push(S),++g}),h}function Rl(a,c,p){var h=[];return a.iter(c,p,function(g){h.push(g.text)}),h}function fi(a,c){var p=c-a.height;if(p)for(var h=a;h;h=h.parent)h.height+=p}function $t(a){if(a.parent==null)return null;for(var c=a.parent,p=Ze(c.lines,a),h=c.parent;h;c=h,h=h.parent)for(var g=0;h.children[g]!=c;++g)p+=h.children[g].chunkSize();return p+c.first}function Xi(a,c){var p=a.first;e:do{for(var h=0;h<a.children.length;++h){var g=a.children[h],b=g.height;if(c<b){a=g;continue e}c-=b,p+=g.chunkSize()}return p}while(!a.lines);for(var S=0;S<a.lines.length;++S){var T=a.lines[S],M=T.height;if(c<M)break;c-=M}return p+S}function V(a,c){return c>=a.first&&c<a.first+a.size}function ne(a,c){return String(a.lineNumberFormatter(c+a.firstLineNumber))}function se(a,c,p){if(p===void 0&&(p=null),!(this instanceof se))return new se(a,c,p);this.line=a,this.ch=c,this.sticky=p}function we(a,c){return a.line-c.line||a.ch-c.ch}function ft(a,c){return a.sticky==c.sticky&&we(a,c)==0}function At(a){return se(a.line,a.ch)}function It(a,c){return we(a,c)<0?c:a}function Cn(a,c){return we(a,c)<0?a:c}function Jr(a,c){return Math.max(a.first,Math.min(c,a.first+a.size-1))}function dt(a,c){if(c.line<a.first)return se(a.first,0);var p=a.first+a.size-1;return c.line>p?se(p,Ge(a,p).text.length):jL(c,Ge(a,c.line).text.length)}function jL(a,c){var p=a.ch;return p==null||p>c?se(a.line,c):p<0?se(a.line,0):a}function Jw(a,c){for(var p=[],h=0;h<c.length;h++)p[h]=dt(a,c[h]);return p}var Yd=function(a,c){this.state=a,this.lookAhead=c},Zi=function(a,c,p,h){this.state=c,this.doc=a,this.line=p,this.maxLookAhead=h||0,this.baseTokens=null,this.baseTokenPos=1};Zi.prototype.lookAhead=function(a){var c=this.doc.getLine(this.line+a);return c!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),c},Zi.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Zi.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Zi.fromSaved=function(a,c,p){return c instanceof Yd?new Zi(a,So(a.mode,c.state),p,c.lookAhead):new Zi(a,So(a.mode,c),p)},Zi.prototype.save=function(a){var c=a!==!1?So(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Yd(c,this.maxLookAhead):c};function Xw(a,c,p,h){var g=[a.state.modeGen],b={};rk(a,c.text,a.doc.mode,p,function(B,J){return g.push(B,J)},b,h);for(var S=p.state,T=function(B){p.baseTokens=g;var J=a.state.overlays[B],ee=1,fe=0;p.state=!0,rk(a,c.text,J.mode,p,function(ue,ke){for(var Ce=ee;fe<ue;){var Me=g[ee];Me>ue&&g.splice(ee,1,ue,g[ee+1],Me),ee+=2,fe=Math.min(ue,Me)}if(ke)if(J.opaque)g.splice(Ce,ee-Ce,ue,"overlay "+ke),ee=Ce+2;else for(;Ce<ee;Ce+=2){var De=g[Ce+1];g[Ce+1]=(De?De+" ":"")+"overlay "+ke}},b),p.state=S,p.baseTokens=null,p.baseTokenPos=1},M=0;M<a.state.overlays.length;++M)T(M);return{styles:g,classes:b.bgClass||b.textClass?b:null}}function Zw(a,c,p){if(!c.styles||c.styles[0]!=a.state.modeGen){var h=vc(a,$t(c)),g=c.text.length>a.options.maxHighlightLength&&So(a.doc.mode,h.state),b=Xw(a,c,h);g&&(h.state=g),c.stateAfter=h.save(!g),c.styles=b.styles,b.classes?c.styleClasses=b.classes:c.styleClasses&&(c.styleClasses=null),p===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return c.styles}function vc(a,c,p){var h=a.doc,g=a.display;if(!h.mode.startState)return new Zi(h,!0,c);var b=WL(a,c,p),S=b>h.first&&Ge(h,b-1).stateAfter,T=S?Zi.fromSaved(h,S,b):new Zi(h,gc(h.mode),b);return h.iter(b,c,function(M){pv(a,M.text,T);var B=T.line;M.stateAfter=B==c-1||B%5==0||B>=g.viewFrom&&B<g.viewTo?T.save():null,T.nextLine()}),p&&(h.modeFrontier=T.line),T}function pv(a,c,p,h){var g=a.doc.mode,b=new ln(c,a.options.tabSize,p);for(b.start=b.pos=h||0,c==""&&Qw(g,p.state);!b.eol();)mv(g,b,p.state),b.start=b.pos}function Qw(a,c){if(a.blankLine)return a.blankLine(c);if(a.innerMode){var p=ds(a,c);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function mv(a,c,p,h){for(var g=0;g<10;g++){h&&(h[0]=ds(a,p).mode);var b=a.token(c,p);if(c.pos>c.start)return b}throw new Error("Mode "+a.name+" failed to advance stream.")}var ek=function(a,c,p){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=c||null,this.state=p};function tk(a,c,p,h){var g=a.doc,b=g.mode,S;c=dt(g,c);var T=Ge(g,c.line),M=vc(a,c.line,p),B=new ln(T.text,a.options.tabSize,M),J;for(h&&(J=[]);(h||B.pos<c.ch)&&!B.eol();)B.start=B.pos,S=mv(b,B,M.state),h&&J.push(new ek(B,S,So(g.mode,M.state)));return h?J:new ek(B,S,M.state)}function nk(a,c){if(a)for(;;){var p=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;a=a.slice(0,p.index)+a.slice(p.index+p[0].length);var h=p[1]?"bgClass":"textClass";c[h]==null?c[h]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(c[h])||(c[h]+=" "+p[2])}return a}function rk(a,c,p,h,g,b,S){var T=p.flattenSpans;T==null&&(T=a.options.flattenSpans);var M=0,B=null,J=new ln(c,a.options.tabSize,h),ee,fe=a.options.addModeClass&&[null];for(c==""&&nk(Qw(p,h.state),b);!J.eol();){if(J.pos>a.options.maxHighlightLength?(T=!1,S&&pv(a,c,h,J.pos),J.pos=c.length,ee=null):ee=nk(mv(p,J,h.state,fe),b),fe){var ue=fe[0].name;ue&&(ee="m-"+(ee?ue+" "+ee:ue))}if(!T||B!=ee){for(;M<J.start;)M=Math.min(J.start,M+5e3),g(M,B);B=ee}J.start=J.pos}for(;M<J.pos;){var ke=Math.min(J.pos,M+5e3);g(ke,B),M=ke}}function WL(a,c,p){for(var h,g,b=a.doc,S=p?-1:c-(a.doc.mode.innerMode?1e3:100),T=c;T>S;--T){if(T<=b.first)return b.first;var M=Ge(b,T-1),B=M.stateAfter;if(B&&(!p||T+(B instanceof Yd?B.lookAhead:0)<=b.modeFrontier))return T;var J=Be(M.text,null,a.options.tabSize);(g==null||h>J)&&(g=T-1,h=J)}return g}function UL(a,c){if(a.modeFrontier=Math.min(a.modeFrontier,c),!(a.highlightFrontier<c-10)){for(var p=a.first,h=c-1;h>p;h--){var g=Ge(a,h).stateAfter;if(g&&(!(g instanceof Yd)||h+g.lookAhead<c)){p=h+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,p)}}var ik=!1,To=!1;function qL(){ik=!0}function KL(){To=!0}function Jd(a,c,p){this.marker=a,this.from=c,this.to=p}function yc(a,c){if(a)for(var p=0;p<a.length;++p){var h=a[p];if(h.marker==c)return h}}function GL(a,c){for(var p,h=0;h<a.length;++h)a[h]!=c&&(p||(p=[])).push(a[h]);return p}function YL(a,c,p){var h=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));h&&a.markedSpans&&h.has(a.markedSpans)?a.markedSpans.push(c):(a.markedSpans=a.markedSpans?a.markedSpans.concat([c]):[c],h&&h.add(a.markedSpans)),c.marker.attachLine(a)}function JL(a,c,p){var h;if(a)for(var g=0;g<a.length;++g){var b=a[g],S=b.marker,T=b.from==null||(S.inclusiveLeft?b.from<=c:b.from<c);if(T||b.from==c&&S.type=="bookmark"&&(!p||!b.marker.insertLeft)){var M=b.to==null||(S.inclusiveRight?b.to>=c:b.to>c);(h||(h=[])).push(new Jd(S,b.from,M?null:b.to))}}return h}function XL(a,c,p){var h;if(a)for(var g=0;g<a.length;++g){var b=a[g],S=b.marker,T=b.to==null||(S.inclusiveRight?b.to>=c:b.to>c);if(T||b.from==c&&S.type=="bookmark"&&(!p||b.marker.insertLeft)){var M=b.from==null||(S.inclusiveLeft?b.from<=c:b.from<c);(h||(h=[])).push(new Jd(S,M?null:b.from-c,b.to==null?null:b.to-c))}}return h}function gv(a,c){if(c.full)return null;var p=V(a,c.from.line)&&Ge(a,c.from.line).markedSpans,h=V(a,c.to.line)&&Ge(a,c.to.line).markedSpans;if(!p&&!h)return null;var g=c.from.ch,b=c.to.ch,S=we(c.from,c.to)==0,T=JL(p,g,S),M=XL(h,b,S),B=c.text.length==1,J=G(c.text).length+(B?g:0);if(T)for(var ee=0;ee<T.length;++ee){var fe=T[ee];if(fe.to==null){var ue=yc(M,fe.marker);ue?B&&(fe.to=ue.to==null?null:ue.to+J):fe.to=g}}if(M)for(var ke=0;ke<M.length;++ke){var Ce=M[ke];if(Ce.to!=null&&(Ce.to+=J),Ce.from==null){var Me=yc(T,Ce.marker);Me||(Ce.from=J,B&&(T||(T=[])).push(Ce))}else Ce.from+=J,B&&(T||(T=[])).push(Ce)}T&&(T=ok(T)),M&&M!=T&&(M=ok(M));var De=[T];if(!B){var $e=c.text.length-2,Re;if($e>0&&T)for(var Ve=0;Ve<T.length;++Ve)T[Ve].to==null&&(Re||(Re=[])).push(new Jd(T[Ve].marker,null,null));for(var nt=0;nt<$e;++nt)De.push(Re);De.push(M)}return De}function ok(a){for(var c=0;c<a.length;++c){var p=a[c];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&a.splice(c--,1)}return a.length?a:null}function ZL(a,c,p){var h=null;if(a.iter(c.line,p.line+1,function(ue){if(ue.markedSpans)for(var ke=0;ke<ue.markedSpans.length;++ke){var Ce=ue.markedSpans[ke].marker;Ce.readOnly&&(!h||Ze(h,Ce)==-1)&&(h||(h=[])).push(Ce)}}),!h)return null;for(var g=[{from:c,to:p}],b=0;b<h.length;++b)for(var S=h[b],T=S.find(0),M=0;M<g.length;++M){var B=g[M];if(!(we(B.to,T.from)<0||we(B.from,T.to)>0)){var J=[M,1],ee=we(B.from,T.from),fe=we(B.to,T.to);(ee<0||!S.inclusiveLeft&&!ee)&&J.push({from:B.from,to:T.from}),(fe>0||!S.inclusiveRight&&!fe)&&J.push({from:T.to,to:B.to}),g.splice.apply(g,J),M+=J.length-3}}return g}function sk(a){var c=a.markedSpans;if(c){for(var p=0;p<c.length;++p)c[p].marker.detachLine(a);a.markedSpans=null}}function ak(a,c){if(c){for(var p=0;p<c.length;++p)c[p].marker.attachLine(a);a.markedSpans=c}}function Xd(a){return a.inclusiveLeft?-1:0}function Zd(a){return a.inclusiveRight?1:0}function vv(a,c){var p=a.lines.length-c.lines.length;if(p!=0)return p;var h=a.find(),g=c.find(),b=we(h.from,g.from)||Xd(a)-Xd(c);if(b)return-b;var S=we(h.to,g.to)||Zd(a)-Zd(c);return S||c.id-a.id}function lk(a,c){var p=To&&a.markedSpans,h;if(p)for(var g=void 0,b=0;b<p.length;++b)g=p[b],g.marker.collapsed&&(c?g.from:g.to)==null&&(!h||vv(h,g.marker)<0)&&(h=g.marker);return h}function uk(a){return lk(a,!0)}function Qd(a){return lk(a,!1)}function QL(a,c){var p=To&&a.markedSpans,h;if(p)for(var g=0;g<p.length;++g){var b=p[g];b.marker.collapsed&&(b.from==null||b.from<c)&&(b.to==null||b.to>c)&&(!h||vv(h,b.marker)<0)&&(h=b.marker)}return h}function ck(a,c,p,h,g){var b=Ge(a,c),S=To&&b.markedSpans;if(S)for(var T=0;T<S.length;++T){var M=S[T];if(M.marker.collapsed){var B=M.marker.find(0),J=we(B.from,p)||Xd(M.marker)-Xd(g),ee=we(B.to,h)||Zd(M.marker)-Zd(g);if(!(J>=0&&ee<=0||J<=0&&ee>=0)&&(J<=0&&(M.marker.inclusiveRight&&g.inclusiveLeft?we(B.to,p)>=0:we(B.to,p)>0)||J>=0&&(M.marker.inclusiveRight&&g.inclusiveLeft?we(B.from,h)<=0:we(B.from,h)<0)))return!0}}}function Ti(a){for(var c;c=uk(a);)a=c.find(-1,!0).line;return a}function eI(a){for(var c;c=Qd(a);)a=c.find(1,!0).line;return a}function tI(a){for(var c,p;c=Qd(a);)a=c.find(1,!0).line,(p||(p=[])).push(a);return p}function yv(a,c){var p=Ge(a,c),h=Ti(p);return p==h?c:$t(h)}function fk(a,c){if(c>a.lastLine())return c;var p=Ge(a,c),h;if(!hs(a,p))return c;for(;h=Qd(p);)p=h.find(1,!0).line;return $t(p)+1}function hs(a,c){var p=To&&c.markedSpans;if(p){for(var h=void 0,g=0;g<p.length;++g)if(h=p[g],!!h.marker.collapsed){if(h.from==null)return!0;if(!h.marker.widgetNode&&h.from==0&&h.marker.inclusiveLeft&&bv(a,c,h))return!0}}}function bv(a,c,p){if(p.to==null){var h=p.marker.find(1,!0);return bv(a,h.line,yc(h.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==c.text.length)return!0;for(var g=void 0,b=0;b<c.markedSpans.length;++b)if(g=c.markedSpans[b],g.marker.collapsed&&!g.marker.widgetNode&&g.from==p.to&&(g.to==null||g.to!=p.from)&&(g.marker.inclusiveLeft||p.marker.inclusiveRight)&&bv(a,c,g))return!0}function Eo(a){a=Ti(a);for(var c=0,p=a.parent,h=0;h<p.lines.length;++h){var g=p.lines[h];if(g==a)break;c+=g.height}for(var b=p.parent;b;p=b,b=p.parent)for(var S=0;S<b.children.length;++S){var T=b.children[S];if(T==p)break;c+=T.height}return c}function eh(a){if(a.height==0)return 0;for(var c=a.text.length,p,h=a;p=uk(h);){var g=p.find(0,!0);h=g.from.line,c+=g.from.ch-g.to.ch}for(h=a;p=Qd(h);){var b=p.find(0,!0);c-=h.text.length-b.from.ch,h=b.to.line,c+=h.text.length-b.to.ch}return c}function _v(a){var c=a.display,p=a.doc;c.maxLine=Ge(p,p.first),c.maxLineLength=eh(c.maxLine),c.maxLineChanged=!0,p.iter(function(h){var g=eh(h);g>c.maxLineLength&&(c.maxLineLength=g,c.maxLine=h)})}var zl=function(a,c,p){this.text=a,ak(this,c),this.height=p?p(this):1};zl.prototype.lineNo=function(){return $t(this)},Xt(zl);function nI(a,c,p,h){a.text=c,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),sk(a),ak(a,p);var g=h?h(a):1;g!=a.height&&fi(a,g)}function rI(a){a.parent=null,sk(a)}var iI={},oI={};function dk(a,c){if(!a||/^\s*$/.test(a))return null;var p=c.addModeClass?oI:iI;return p[a]||(p[a]=a.replace(/\S+/g,"cm-$&"))}function hk(a,c){var p=ae("span",null,null,d?"padding-right: .1px":null),h={pre:ae("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};c.measure={};for(var g=0;g<=(c.rest?c.rest.length:0);g++){var b=g?c.rest[g-1]:c.line,S=void 0;h.pos=0,h.addToken=aI,Ud(a.display.measure)&&(S=Ae(b,a.doc.direction))&&(h.addToken=uI(h.addToken,S)),h.map=[];var T=c!=a.display.externalMeasured&&$t(b);cI(b,h,Zw(a,b,T)),b.styleClasses&&(b.styleClasses.bgClass&&(h.bgClass=yt(b.styleClasses.bgClass,h.bgClass||"")),b.styleClasses.textClass&&(h.textClass=yt(b.styleClasses.textClass,h.textClass||""))),h.map.length==0&&h.map.push(0,0,h.content.appendChild(hv(a.display.measure))),g==0?(c.measure.map=h.map,c.measure.cache={}):((c.measure.maps||(c.measure.maps=[])).push(h.map),(c.measure.caches||(c.measure.caches=[])).push({}))}if(d){var M=h.content.lastChild;(/\bcm-tab\b/.test(M.className)||M.querySelector&&M.querySelector(".cm-tab"))&&(h.content.className="cm-tab-wrap-hack")}return ot(a,"renderLine",a,c.line,h.pre),h.pre.className&&(h.textClass=yt(h.pre.className,h.textClass||"")),h}function sI(a){var c=D("span","•","cm-invalidchar");return c.title="\\u"+a.charCodeAt(0).toString(16),c.setAttribute("aria-label",c.title),c}function aI(a,c,p,h,g,b,S){if(c){var T=a.splitSpaces?lI(c,a.trailingSpace):c,M=a.cm.state.specialChars,B=!1,J;if(!M.test(c))a.col+=c.length,J=document.createTextNode(T),a.map.push(a.pos,a.pos+c.length,J),u&&f<9&&(B=!0),a.pos+=c.length;else{J=document.createDocumentFragment();for(var ee=0;;){M.lastIndex=ee;var fe=M.exec(c),ue=fe?fe.index-ee:c.length-ee;if(ue){var ke=document.createTextNode(T.slice(ee,ee+ue));u&&f<9?J.appendChild(D("span",[ke])):J.appendChild(ke),a.map.push(a.pos,a.pos+ue,ke),a.col+=ue,a.pos+=ue}if(!fe)break;ee+=ue+1;var Ce=void 0;if(fe[0]=="	"){var Me=a.cm.options.tabSize,De=Me-a.col%Me;Ce=J.appendChild(D("span",xe(De),"cm-tab")),Ce.setAttribute("role","presentation"),Ce.setAttribute("cm-text","	"),a.col+=De}else fe[0]=="\r"||fe[0]==`
`?(Ce=J.appendChild(D("span",fe[0]=="\r"?"␍":"␤","cm-invalidchar")),Ce.setAttribute("cm-text",fe[0]),a.col+=1):(Ce=a.cm.options.specialCharPlaceholder(fe[0]),Ce.setAttribute("cm-text",fe[0]),u&&f<9?J.appendChild(D("span",[Ce])):J.appendChild(Ce),a.col+=1);a.map.push(a.pos,a.pos+1,Ce),a.pos++}}if(a.trailingSpace=T.charCodeAt(c.length-1)==32,p||h||g||B||b||S){var $e=p||"";h&&($e+=h),g&&($e+=g);var Re=D("span",[J],$e,b);if(S)for(var Ve in S)S.hasOwnProperty(Ve)&&Ve!="style"&&Ve!="class"&&Re.setAttribute(Ve,S[Ve]);return a.content.appendChild(Re)}a.content.appendChild(J)}}function lI(a,c){if(a.length>1&&!/  /.test(a))return a;for(var p=c,h="",g=0;g<a.length;g++){var b=a.charAt(g);b==" "&&p&&(g==a.length-1||a.charCodeAt(g+1)==32)&&(b=" "),h+=b,p=b==" "}return h}function uI(a,c){return function(p,h,g,b,S,T,M){g=g?g+" cm-force-border":"cm-force-border";for(var B=p.pos,J=B+h.length;;){for(var ee=void 0,fe=0;fe<c.length&&(ee=c[fe],!(ee.to>B&&ee.from<=B));fe++);if(ee.to>=J)return a(p,h,g,b,S,T,M);a(p,h.slice(0,ee.to-B),g,b,null,T,M),b=null,h=h.slice(ee.to-B),B=ee.to}}}function pk(a,c,p,h){var g=!h&&p.widgetNode;g&&a.map.push(a.pos,a.pos+c,g),!h&&a.cm.display.input.needsContentAttribute&&(g||(g=a.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",p.id)),g&&(a.cm.display.input.setUneditable(g),a.content.appendChild(g)),a.pos+=c,a.trailingSpace=!1}function cI(a,c,p){var h=a.markedSpans,g=a.text,b=0;if(!h){for(var S=1;S<p.length;S+=2)c.addToken(c,g.slice(b,b=p[S]),dk(p[S+1],c.cm.options));return}for(var T=g.length,M=0,B=1,J="",ee,fe,ue=0,ke,Ce,Me,De,$e;;){if(ue==M){ke=Ce=Me=fe="",$e=null,De=null,ue=1/0;for(var Re=[],Ve=void 0,nt=0;nt<h.length;++nt){var et=h[nt],St=et.marker;if(St.type=="bookmark"&&et.from==M&&St.widgetNode)Re.push(St);else if(et.from<=M&&(et.to==null||et.to>M||St.collapsed&&et.to==M&&et.from==M)){if(et.to!=null&&et.to!=M&&ue>et.to&&(ue=et.to,Ce=""),St.className&&(ke+=" "+St.className),St.css&&(fe=(fe?fe+";":"")+St.css),St.startStyle&&et.from==M&&(Me+=" "+St.startStyle),St.endStyle&&et.to==ue&&(Ve||(Ve=[])).push(St.endStyle,et.to),St.title&&(($e||($e={})).title=St.title),St.attributes)for(var Yt in St.attributes)($e||($e={}))[Yt]=St.attributes[Yt];St.collapsed&&(!De||vv(De.marker,St)<0)&&(De=et)}else et.from>M&&ue>et.from&&(ue=et.from)}if(Ve)for(var Pn=0;Pn<Ve.length;Pn+=2)Ve[Pn+1]==ue&&(Ce+=" "+Ve[Pn]);if(!De||De.from==M)for(var sn=0;sn<Re.length;++sn)pk(c,0,Re[sn]);if(De&&(De.from||0)==M){if(pk(c,(De.to==null?T+1:De.to)-M,De.marker,De.from==null),De.to==null)return;De.to==M&&(De=!1)}}if(M>=T)break;for(var Ir=Math.min(T,ue);;){if(J){var kr=M+J.length;if(!De){var wn=kr>Ir?J.slice(0,Ir-M):J;c.addToken(c,wn,ee?ee+ke:ke,Me,M+wn.length==ue?Ce:"",fe,$e)}if(kr>=Ir){J=J.slice(Ir-M),M=Ir;break}M=kr,Me=""}J=g.slice(b,b=p[B++]),ee=dk(p[B++],c.cm.options)}}}function mk(a,c,p){this.line=c,this.rest=tI(c),this.size=this.rest?$t(G(this.rest))-p+1:1,this.node=this.text=null,this.hidden=hs(a,c)}function th(a,c,p){for(var h=[],g,b=c;b<p;b=g){var S=new mk(a.doc,Ge(a.doc,b),b);g=b+S.size,h.push(S)}return h}var Bl=null;function fI(a){Bl?Bl.ops.push(a):a.ownsGroup=Bl={ops:[a],delayedCallbacks:[]}}function dI(a){var c=a.delayedCallbacks,p=0;do{for(;p<c.length;p++)c[p].call(null);for(var h=0;h<a.ops.length;h++){var g=a.ops[h];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(p<c.length)}function hI(a,c){var p=a.ownsGroup;if(p)try{dI(p)}finally{Bl=null,c(p)}}var bc=null;function Nn(a,c){var p=Je(a,c);if(p.length){var h=Array.prototype.slice.call(arguments,2),g;Bl?g=Bl.delayedCallbacks:bc?g=bc:(g=bc=[],setTimeout(pI,0));for(var b=function(T){g.push(function(){return p[T].apply(null,h)})},S=0;S<p.length;++S)b(S)}}function pI(){var a=bc;bc=null;for(var c=0;c<a.length;++c)a[c]()}function gk(a,c,p,h){for(var g=0;g<c.changes.length;g++){var b=c.changes[g];b=="text"?gI(a,c):b=="gutter"?yk(a,c,p,h):b=="class"?wv(a,c):b=="widget"&&vI(a,c,h)}c.changes=null}function _c(a){return a.node==a.text&&(a.node=D("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),u&&f<8&&(a.node.style.zIndex=2)),a.node}function mI(a,c){var p=c.bgClass?c.bgClass+" "+(c.line.bgClass||""):c.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),c.background)p?c.background.className=p:(c.background.parentNode.removeChild(c.background),c.background=null);else if(p){var h=_c(c);c.background=h.insertBefore(D("div",null,p),h.firstChild),a.display.input.setUneditable(c.background)}}function vk(a,c){var p=a.display.externalMeasured;return p&&p.line==c.line?(a.display.externalMeasured=null,c.measure=p.measure,p.built):hk(a,c)}function gI(a,c){var p=c.text.className,h=vk(a,c);c.text==c.node&&(c.node=h.pre),c.text.parentNode.replaceChild(h.pre,c.text),c.text=h.pre,h.bgClass!=c.bgClass||h.textClass!=c.textClass?(c.bgClass=h.bgClass,c.textClass=h.textClass,wv(a,c)):p&&(c.text.className=p)}function wv(a,c){mI(a,c),c.line.wrapClass?_c(c).className=c.line.wrapClass:c.node!=c.text&&(c.node.className="");var p=c.textClass?c.textClass+" "+(c.line.textClass||""):c.line.textClass;c.text.className=p||""}function yk(a,c,p,h){if(c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null),c.gutterBackground&&(c.node.removeChild(c.gutterBackground),c.gutterBackground=null),c.line.gutterClass){var g=_c(c);c.gutterBackground=D("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(a.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px; width: "+h.gutterTotalWidth+"px"),a.display.input.setUneditable(c.gutterBackground),g.insertBefore(c.gutterBackground,c.text)}var b=c.line.gutterMarkers;if(a.options.lineNumbers||b){var S=_c(c),T=c.gutter=D("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px");if(T.setAttribute("aria-hidden","true"),a.display.input.setUneditable(T),S.insertBefore(T,c.text),c.line.gutterClass&&(T.className+=" "+c.line.gutterClass),a.options.lineNumbers&&(!b||!b["CodeMirror-linenumbers"])&&(c.lineNumber=T.appendChild(D("div",ne(a.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+h.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),b)for(var M=0;M<a.display.gutterSpecs.length;++M){var B=a.display.gutterSpecs[M].className,J=b.hasOwnProperty(B)&&b[B];J&&T.appendChild(D("div",[J],"CodeMirror-gutter-elt","left: "+h.gutterLeft[B]+"px; width: "+h.gutterWidth[B]+"px"))}}}function vI(a,c,p){c.alignable&&(c.alignable=null);for(var h=R("CodeMirror-linewidget"),g=c.node.firstChild,b=void 0;g;g=b)b=g.nextSibling,h.test(g.className)&&c.node.removeChild(g);bk(a,c,p)}function yI(a,c,p,h){var g=vk(a,c);return c.text=c.node=g.pre,g.bgClass&&(c.bgClass=g.bgClass),g.textClass&&(c.textClass=g.textClass),wv(a,c),yk(a,c,p,h),bk(a,c,h),c.node}function bk(a,c,p){if(_k(a,c.line,c,p,!0),c.rest)for(var h=0;h<c.rest.length;h++)_k(a,c.rest[h],c,p,!1)}function _k(a,c,p,h,g){if(c.widgets)for(var b=_c(p),S=0,T=c.widgets;S<T.length;++S){var M=T[S],B=D("div",[M.node],"CodeMirror-linewidget"+(M.className?" "+M.className:""));M.handleMouseEvents||B.setAttribute("cm-ignore-events","true"),bI(M,B,p,h),a.display.input.setUneditable(B),g&&M.above?b.insertBefore(B,p.gutter||p.text):b.appendChild(B),Nn(M,"redraw")}}function bI(a,c,p,h){if(a.noHScroll){(p.alignable||(p.alignable=[])).push(c);var g=h.wrapperWidth;c.style.left=h.fixedPos+"px",a.coverGutter||(g-=h.gutterTotalWidth,c.style.paddingLeft=h.gutterTotalWidth+"px"),c.style.width=g+"px"}a.coverGutter&&(c.style.zIndex=5,c.style.position="relative",a.noHScroll||(c.style.marginLeft=-h.gutterTotalWidth+"px"))}function wc(a){if(a.height!=null)return a.height;var c=a.doc.cm;if(!c)return 0;if(!ve(document.body,a.node)){var p="position: relative;";a.coverGutter&&(p+="margin-left: -"+c.display.gutters.offsetWidth+"px;"),a.noHScroll&&(p+="width: "+c.display.wrapper.clientWidth+"px;"),oe(c.display.measure,D("div",[a.node],null,p))}return a.height=a.node.parentNode.offsetHeight}function Ao(a,c){for(var p=Sn(c);p!=a.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==a.sizer&&p!=a.mover)return!0}function nh(a){return a.lineSpace.offsetTop}function kv(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function wk(a){if(a.cachedPaddingH)return a.cachedPaddingH;var c=oe(a.measure,D("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,h={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(h.left)&&!isNaN(h.right)&&(a.cachedPaddingH=h),h}function Qi(a){return Ke-a.display.nativeBarWidth}function va(a){return a.display.scroller.clientWidth-Qi(a)-a.display.barWidth}function xv(a){return a.display.scroller.clientHeight-Qi(a)-a.display.barHeight}function _I(a,c,p){var h=a.options.lineWrapping,g=h&&va(a);if(!c.measure.heights||h&&c.measure.width!=g){var b=c.measure.heights=[];if(h){c.measure.width=g;for(var S=c.text.firstChild.getClientRects(),T=0;T<S.length-1;T++){var M=S[T],B=S[T+1];Math.abs(M.bottom-B.bottom)>2&&b.push((M.bottom+B.top)/2-p.top)}}b.push(p.bottom-p.top)}}function kk(a,c,p){if(a.line==c)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var h=0;h<a.rest.length;h++)if(a.rest[h]==c)return{map:a.measure.maps[h],cache:a.measure.caches[h]};for(var g=0;g<a.rest.length;g++)if($t(a.rest[g])>p)return{map:a.measure.maps[g],cache:a.measure.caches[g],before:!0}}}function wI(a,c){c=Ti(c);var p=$t(c),h=a.display.externalMeasured=new mk(a.doc,c,p);h.lineN=p;var g=h.built=hk(a,h);return h.text=g.pre,oe(a.display.lineMeasure,g.pre),h}function xk(a,c,p,h){return eo(a,$l(a,c),p,h)}function Sv(a,c){if(c>=a.display.viewFrom&&c<a.display.viewTo)return a.display.view[_a(a,c)];var p=a.display.externalMeasured;if(p&&c>=p.lineN&&c<p.lineN+p.size)return p}function $l(a,c){var p=$t(c),h=Sv(a,p);h&&!h.text?h=null:h&&h.changes&&(gk(a,h,p,Ov(a)),a.curOp.forceUpdate=!0),h||(h=wI(a,c));var g=kk(h,c,p);return{line:c,view:h,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function eo(a,c,p,h,g){c.before&&(p=-1);var b=p+(h||""),S;return c.cache.hasOwnProperty(b)?S=c.cache[b]:(c.rect||(c.rect=c.view.text.getBoundingClientRect()),c.hasHeights||(_I(a,c.view,c.rect),c.hasHeights=!0),S=xI(a,c,p,h),S.bogus||(c.cache[b]=S)),{left:S.left,right:S.right,top:g?S.rtop:S.top,bottom:g?S.rbottom:S.bottom}}var Sk={left:0,right:0,top:0,bottom:0};function Ck(a,c,p){for(var h,g,b,S,T,M,B=0;B<a.length;B+=3)if(T=a[B],M=a[B+1],c<T?(g=0,b=1,S="left"):c<M?(g=c-T,b=g+1):(B==a.length-3||c==M&&a[B+3]>c)&&(b=M-T,g=b-1,c>=M&&(S="right")),g!=null){if(h=a[B+2],T==M&&p==(h.insertLeft?"left":"right")&&(S=p),p=="left"&&g==0)for(;B&&a[B-2]==a[B-3]&&a[B-1].insertLeft;)h=a[(B-=3)+2],S="left";if(p=="right"&&g==M-T)for(;B<a.length-3&&a[B+3]==a[B+4]&&!a[B+5].insertLeft;)h=a[(B+=3)+2],S="right";break}return{node:h,start:g,end:b,collapse:S,coverStart:T,coverEnd:M}}function kI(a,c){var p=Sk;if(c=="left")for(var h=0;h<a.length&&(p=a[h]).left==p.right;h++);else for(var g=a.length-1;g>=0&&(p=a[g]).left==p.right;g--);return p}function xI(a,c,p,h){var g=Ck(c.map,p,h),b=g.node,S=g.start,T=g.end,M=g.collapse,B;if(b.nodeType==3){for(var J=0;J<4;J++){for(;S&&ye(c.line.text.charAt(g.coverStart+S));)--S;for(;g.coverStart+T<g.coverEnd&&ye(c.line.text.charAt(g.coverStart+T));)++T;if(u&&f<9&&S==0&&T==g.coverEnd-g.coverStart?B=b.parentNode.getBoundingClientRect():B=kI(ce(b,S,T).getClientRects(),h),B.left||B.right||S==0)break;T=S,S=S-1,M="right"}u&&f<11&&(B=SI(a.display.measure,B))}else{S>0&&(M=h="right");var ee;a.options.lineWrapping&&(ee=b.getClientRects()).length>1?B=ee[h=="right"?ee.length-1:0]:B=b.getBoundingClientRect()}if(u&&f<9&&!S&&(!B||!B.left&&!B.right)){var fe=b.parentNode.getClientRects()[0];fe?B={left:fe.left,right:fe.left+Fl(a.display),top:fe.top,bottom:fe.bottom}:B=Sk}for(var ue=B.top-c.rect.top,ke=B.bottom-c.rect.top,Ce=(ue+ke)/2,Me=c.view.measure.heights,De=0;De<Me.length-1&&!(Ce<Me[De]);De++);var $e=De?Me[De-1]:0,Re=Me[De],Ve={left:(M=="right"?B.right:B.left)-c.rect.left,right:(M=="left"?B.left:B.right)-c.rect.left,top:$e,bottom:Re};return!B.left&&!B.right&&(Ve.bogus=!0),a.options.singleCursorHeightPerLine||(Ve.rtop=ue,Ve.rbottom=ke),Ve}function SI(a,c){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!qd(a))return c;var p=screen.logicalXDPI/screen.deviceXDPI,h=screen.logicalYDPI/screen.deviceYDPI;return{left:c.left*p,right:c.right*p,top:c.top*h,bottom:c.bottom*h}}function Tk(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var c=0;c<a.rest.length;c++)a.measure.caches[c]={}}function Ek(a){a.display.externalMeasure=null,K(a.display.lineMeasure);for(var c=0;c<a.display.view.length;c++)Tk(a.display.view[c])}function kc(a){Ek(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Ak(a){return v&&L?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function Ok(a){return v&&L?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function Cv(a){var c=Ti(a),p=c.widgets,h=0;if(p)for(var g=0;g<p.length;++g)p[g].above&&(h+=wc(p[g]));return h}function rh(a,c,p,h,g){if(!g){var b=Cv(c);p.top+=b,p.bottom+=b}if(h=="line")return p;h||(h="local");var S=Eo(c);if(h=="local"?S+=nh(a.display):S-=a.display.viewOffset,h=="page"||h=="window"){var T=a.display.lineSpace.getBoundingClientRect();S+=T.top+(h=="window"?0:Ok(_t(a)));var M=T.left+(h=="window"?0:Ak(_t(a)));p.left+=M,p.right+=M}return p.top+=S,p.bottom+=S,p}function Mk(a,c,p){if(p=="div")return c;var h=c.left,g=c.top;if(p=="page")h-=Ak(_t(a)),g-=Ok(_t(a));else if(p=="local"||!p){var b=a.display.sizer.getBoundingClientRect();h+=b.left,g+=b.top}var S=a.display.lineSpace.getBoundingClientRect();return{left:h-S.left,top:g-S.top}}function ih(a,c,p,h,g){return h||(h=Ge(a.doc,c.line)),rh(a,h,xk(a,h,c.ch,g),p)}function Ei(a,c,p,h,g,b){h=h||Ge(a.doc,c.line),g||(g=$l(a,h));function S(ke,Ce){var Me=eo(a,g,ke,Ce?"right":"left",b);return Ce?Me.left=Me.right:Me.right=Me.left,rh(a,h,Me,p)}var T=Ae(h,a.doc.direction),M=c.ch,B=c.sticky;if(M>=h.text.length?(M=h.text.length,B="before"):M<=0&&(M=0,B="after"),!T)return S(B=="before"?M-1:M,B=="before");function J(ke,Ce,Me){var De=T[Ce],$e=De.level==1;return S(Me?ke-1:ke,$e!=Me)}var ee=je(T,M,B),fe=Te,ue=J(M,ee,B=="before");return fe!=null&&(ue.other=J(M,fe,B!="before")),ue}function Nk(a,c){var p=0;c=dt(a.doc,c),a.options.lineWrapping||(p=Fl(a.display)*c.ch);var h=Ge(a.doc,c.line),g=Eo(h)+nh(a.display);return{left:p,right:p,top:g,bottom:g+h.height}}function Tv(a,c,p,h,g){var b=se(a,c,p);return b.xRel=g,h&&(b.outside=h),b}function Ev(a,c,p){var h=a.doc;if(p+=a.display.viewOffset,p<0)return Tv(h.first,0,null,-1,-1);var g=Xi(h,p),b=h.first+h.size-1;if(g>b)return Tv(h.first+h.size-1,Ge(h,b).text.length,null,1,1);c<0&&(c=0);for(var S=Ge(h,g);;){var T=CI(a,S,g,c,p),M=QL(S,T.ch+(T.xRel>0||T.outside>0?1:0));if(!M)return T;var B=M.find(1);if(B.line==g)return B;S=Ge(h,g=B.line)}}function Lk(a,c,p,h){h-=Cv(c);var g=c.text.length,b=X(function(S){return eo(a,p,S-1).bottom<=h},g,0);return g=X(function(S){return eo(a,p,S).top>h},b,g),{begin:b,end:g}}function Ik(a,c,p,h){p||(p=$l(a,c));var g=rh(a,c,eo(a,p,h),"line").top;return Lk(a,c,p,g)}function Av(a,c,p,h){return a.bottom<=p?!1:a.top>p?!0:(h?a.left:a.right)>c}function CI(a,c,p,h,g){g-=Eo(c);var b=$l(a,c),S=Cv(c),T=0,M=c.text.length,B=!0,J=Ae(c,a.doc.direction);if(J){var ee=(a.options.lineWrapping?EI:TI)(a,c,p,b,J,h,g);B=ee.level!=1,T=B?ee.from:ee.to-1,M=B?ee.to:ee.from-1}var fe=null,ue=null,ke=X(function(nt){var et=eo(a,b,nt);return et.top+=S,et.bottom+=S,Av(et,h,g,!1)?(et.top<=g&&et.left<=h&&(fe=nt,ue=et),!0):!1},T,M),Ce,Me,De=!1;if(ue){var $e=h-ue.left<ue.right-h,Re=$e==B;ke=fe+(Re?0:1),Me=Re?"after":"before",Ce=$e?ue.left:ue.right}else{!B&&(ke==M||ke==T)&&ke++,Me=ke==0?"after":ke==c.text.length?"before":eo(a,b,ke-(B?1:0)).bottom+S<=g==B?"after":"before";var Ve=Ei(a,se(p,ke,Me),"line",c,b);Ce=Ve.left,De=g<Ve.top?-1:g>=Ve.bottom?1:0}return ke=Y(c.text,ke,1),Tv(p,ke,Me,De,h-Ce)}function TI(a,c,p,h,g,b,S){var T=X(function(ee){var fe=g[ee],ue=fe.level!=1;return Av(Ei(a,se(p,ue?fe.to:fe.from,ue?"before":"after"),"line",c,h),b,S,!0)},0,g.length-1),M=g[T];if(T>0){var B=M.level!=1,J=Ei(a,se(p,B?M.from:M.to,B?"after":"before"),"line",c,h);Av(J,b,S,!0)&&J.top>S&&(M=g[T-1])}return M}function EI(a,c,p,h,g,b,S){var T=Lk(a,c,h,S),M=T.begin,B=T.end;/\s/.test(c.text.charAt(B-1))&&B--;for(var J=null,ee=null,fe=0;fe<g.length;fe++){var ue=g[fe];if(!(ue.from>=B||ue.to<=M)){var ke=ue.level!=1,Ce=eo(a,h,ke?Math.min(B,ue.to)-1:Math.max(M,ue.from)).right,Me=Ce<b?b-Ce+1e9:Ce-b;(!J||ee>Me)&&(J=ue,ee=Me)}}return J||(J=g[g.length-1]),J.from<M&&(J={from:M,to:J.to,level:J.level}),J.to>B&&(J={from:J.from,to:B,level:J.level}),J}var ya;function Hl(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(ya==null){ya=D("pre",null,"CodeMirror-line-like");for(var c=0;c<49;++c)ya.appendChild(document.createTextNode("x")),ya.appendChild(D("br"));ya.appendChild(document.createTextNode("x"))}oe(a.measure,ya);var p=ya.offsetHeight/50;return p>3&&(a.cachedTextHeight=p),K(a.measure),p||1}function Fl(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var c=D("span","xxxxxxxxxx"),p=D("pre",[c],"CodeMirror-line-like");oe(a.measure,p);var h=c.getBoundingClientRect(),g=(h.right-h.left)/10;return g>2&&(a.cachedCharWidth=g),g||10}function Ov(a){for(var c=a.display,p={},h={},g=c.gutters.clientLeft,b=c.gutters.firstChild,S=0;b;b=b.nextSibling,++S){var T=a.display.gutterSpecs[S].className;p[T]=b.offsetLeft+b.clientLeft+g,h[T]=b.clientWidth}return{fixedPos:Mv(c),gutterTotalWidth:c.gutters.offsetWidth,gutterLeft:p,gutterWidth:h,wrapperWidth:c.wrapper.clientWidth}}function Mv(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Pk(a){var c=Hl(a.display),p=a.options.lineWrapping,h=p&&Math.max(5,a.display.scroller.clientWidth/Fl(a.display)-3);return function(g){if(hs(a.doc,g))return 0;var b=0;if(g.widgets)for(var S=0;S<g.widgets.length;S++)g.widgets[S].height&&(b+=g.widgets[S].height);return p?b+(Math.ceil(g.text.length/h)||1)*c:b+c}}function Nv(a){var c=a.doc,p=Pk(a);c.iter(function(h){var g=p(h);g!=h.height&&fi(h,g)})}function ba(a,c,p,h){var g=a.display;if(!p&&Sn(c).getAttribute("cm-not-content")=="true")return null;var b,S,T=g.lineSpace.getBoundingClientRect();try{b=c.clientX-T.left,S=c.clientY-T.top}catch{return null}var M=Ev(a,b,S),B;if(h&&M.xRel>0&&(B=Ge(a.doc,M.line).text).length==M.ch){var J=Be(B,B.length,a.options.tabSize)-B.length;M=se(M.line,Math.max(0,Math.round((b-wk(a.display).left)/Fl(a.display))-J))}return M}function _a(a,c){if(c>=a.display.viewTo||(c-=a.display.viewFrom,c<0))return null;for(var p=a.display.view,h=0;h<p.length;h++)if(c-=p[h].size,c<0)return h}function _r(a,c,p,h){c==null&&(c=a.doc.first),p==null&&(p=a.doc.first+a.doc.size),h||(h=0);var g=a.display;if(h&&p<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>c)&&(g.updateLineNumbers=c),a.curOp.viewChanged=!0,c>=g.viewTo)To&&yv(a.doc,c)<g.viewTo&&ms(a);else if(p<=g.viewFrom)To&&fk(a.doc,p+h)>g.viewFrom?ms(a):(g.viewFrom+=h,g.viewTo+=h);else if(c<=g.viewFrom&&p>=g.viewTo)ms(a);else if(c<=g.viewFrom){var b=oh(a,p,p+h,1);b?(g.view=g.view.slice(b.index),g.viewFrom=b.lineN,g.viewTo+=h):ms(a)}else if(p>=g.viewTo){var S=oh(a,c,c,-1);S?(g.view=g.view.slice(0,S.index),g.viewTo=S.lineN):ms(a)}else{var T=oh(a,c,c,-1),M=oh(a,p,p+h,1);T&&M?(g.view=g.view.slice(0,T.index).concat(th(a,T.lineN,M.lineN)).concat(g.view.slice(M.index)),g.viewTo+=h):ms(a)}var B=g.externalMeasured;B&&(p<B.lineN?B.lineN+=h:c<B.lineN+B.size&&(g.externalMeasured=null))}function ps(a,c,p){a.curOp.viewChanged=!0;var h=a.display,g=a.display.externalMeasured;if(g&&c>=g.lineN&&c<g.lineN+g.size&&(h.externalMeasured=null),!(c<h.viewFrom||c>=h.viewTo)){var b=h.view[_a(a,c)];if(b.node!=null){var S=b.changes||(b.changes=[]);Ze(S,p)==-1&&S.push(p)}}}function ms(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function oh(a,c,p,h){var g=_a(a,c),b,S=a.display.view;if(!To||p==a.doc.first+a.doc.size)return{index:g,lineN:p};for(var T=a.display.viewFrom,M=0;M<g;M++)T+=S[M].size;if(T!=c){if(h>0){if(g==S.length-1)return null;b=T+S[g].size-c,g++}else b=T-c;c+=b,p+=b}for(;yv(a.doc,p)!=p;){if(g==(h<0?0:S.length-1))return null;p+=h*S[g-(h<0?1:0)].size,g+=h}return{index:g,lineN:p}}function AI(a,c,p){var h=a.display,g=h.view;g.length==0||c>=h.viewTo||p<=h.viewFrom?(h.view=th(a,c,p),h.viewFrom=c):(h.viewFrom>c?h.view=th(a,c,h.viewFrom).concat(h.view):h.viewFrom<c&&(h.view=h.view.slice(_a(a,c))),h.viewFrom=c,h.viewTo<p?h.view=h.view.concat(th(a,h.viewTo,p)):h.viewTo>p&&(h.view=h.view.slice(0,_a(a,p)))),h.viewTo=p}function Dk(a){for(var c=a.display.view,p=0,h=0;h<c.length;h++){var g=c[h];!g.hidden&&(!g.node||g.changes)&&++p}return p}function xc(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Rk(a,c){c===void 0&&(c=!0);var p=a.doc,h={},g=h.cursors=document.createDocumentFragment(),b=h.selection=document.createDocumentFragment(),S=a.options.$customCursor;S&&(c=!0);for(var T=0;T<p.sel.ranges.length;T++)if(!(!c&&T==p.sel.primIndex)){var M=p.sel.ranges[T];if(!(M.from().line>=a.display.viewTo||M.to().line<a.display.viewFrom)){var B=M.empty();if(S){var J=S(a,M);J&&Lv(a,J,g)}else(B||a.options.showCursorWhenSelecting)&&Lv(a,M.head,g);B||OI(a,M,b)}}return h}function Lv(a,c,p){var h=Ei(a,c,"div",null,null,!a.options.singleCursorHeightPerLine),g=p.appendChild(D("div"," ","CodeMirror-cursor"));if(g.style.left=h.left+"px",g.style.top=h.top+"px",g.style.height=Math.max(0,h.bottom-h.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var b=ih(a,c,"div",null,null),S=b.right-b.left;g.style.width=(S>0?S:a.defaultCharWidth())+"px"}if(h.other){var T=p.appendChild(D("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));T.style.display="",T.style.left=h.other.left+"px",T.style.top=h.other.top+"px",T.style.height=(h.other.bottom-h.other.top)*.85+"px"}}function sh(a,c){return a.top-c.top||a.left-c.left}function OI(a,c,p){var h=a.display,g=a.doc,b=document.createDocumentFragment(),S=wk(a.display),T=S.left,M=Math.max(h.sizerWidth,va(a)-h.sizer.offsetLeft)-S.right,B=g.direction=="ltr";function J(Re,Ve,nt,et){Ve<0&&(Ve=0),Ve=Math.round(Ve),et=Math.round(et),b.appendChild(D("div",null,"CodeMirror-selected","position: absolute; left: "+Re+`px;
                             top: `+Ve+"px; width: "+(nt??M-Re)+`px;
                             height: `+(et-Ve)+"px"))}function ee(Re,Ve,nt){var et=Ge(g,Re),St=et.text.length,Yt,Pn;function sn(wn,xr){return ih(a,se(Re,wn),"div",et,xr)}function Ir(wn,xr,jn){var Tn=Ik(a,et,null,wn),kn=xr=="ltr"==(jn=="after")?"left":"right",un=jn=="after"?Tn.begin:Tn.end-(/\s/.test(et.text.charAt(Tn.end-1))?2:1);return sn(un,kn)[kn]}var kr=Ae(et,g.direction);return de(kr,Ve||0,nt??St,function(wn,xr,jn,Tn){var kn=jn=="ltr",un=sn(wn,kn?"left":"right"),Sr=sn(xr-1,kn?"right":"left"),eu=Ve==null&&wn==0,ws=nt==null&&xr==St,Yn=Tn==0,to=!kr||Tn==kr.length-1;if(Sr.top-un.top<=3){var Dn=(B?eu:ws)&&Yn,oy=(B?ws:eu)&&to,No=Dn?T:(kn?un:Sr).left,Ca=oy?M:(kn?Sr:un).right;J(No,un.top,Ca-No,un.bottom)}else{var Ta,ar,tu,sy;kn?(Ta=B&&eu&&Yn?T:un.left,ar=B?M:Ir(wn,jn,"before"),tu=B?T:Ir(xr,jn,"after"),sy=B&&ws&&to?M:Sr.right):(Ta=B?Ir(wn,jn,"before"):T,ar=!B&&eu&&Yn?M:un.right,tu=!B&&ws&&to?T:Sr.left,sy=B?Ir(xr,jn,"after"):M),J(Ta,un.top,ar-Ta,un.bottom),un.bottom<Sr.top&&J(T,un.bottom,null,Sr.top),J(tu,Sr.top,sy-tu,Sr.bottom)}(!Yt||sh(un,Yt)<0)&&(Yt=un),sh(Sr,Yt)<0&&(Yt=Sr),(!Pn||sh(un,Pn)<0)&&(Pn=un),sh(Sr,Pn)<0&&(Pn=Sr)}),{start:Yt,end:Pn}}var fe=c.from(),ue=c.to();if(fe.line==ue.line)ee(fe.line,fe.ch,ue.ch);else{var ke=Ge(g,fe.line),Ce=Ge(g,ue.line),Me=Ti(ke)==Ti(Ce),De=ee(fe.line,fe.ch,Me?ke.text.length+1:null).end,$e=ee(ue.line,Me?0:null,ue.ch).start;Me&&(De.top<$e.top-2?(J(De.right,De.top,null,De.bottom),J(T,$e.top,$e.left,$e.bottom)):J(De.right,De.top,$e.left-De.right,De.bottom)),De.bottom<$e.top&&J(T,De.bottom,null,$e.top)}p.appendChild(b)}function Iv(a){if(a.state.focused){var c=a.display;clearInterval(c.blinker);var p=!0;c.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?c.blinker=setInterval(function(){a.hasFocus()||Vl(a),c.cursorDiv.style.visibility=(p=!p)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(c.cursorDiv.style.visibility="hidden")}}function zk(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Dv(a))}function Pv(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&Vl(a))},100)}function Dv(a,c){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(ot(a,"focus",a,c),a.state.focused=!0,qe(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),d&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Iv(a))}function Vl(a,c){a.state.delayingBlurEvent||(a.state.focused&&(ot(a,"blur",a,c),a.state.focused=!1,U(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function ah(a){for(var c=a.display,p=c.lineDiv.offsetTop,h=Math.max(0,c.scroller.getBoundingClientRect().top),g=c.lineDiv.getBoundingClientRect().top,b=0,S=0;S<c.view.length;S++){var T=c.view[S],M=a.options.lineWrapping,B=void 0,J=0;if(!T.hidden){if(g+=T.line.height,u&&f<8){var ee=T.node.offsetTop+T.node.offsetHeight;B=ee-p,p=ee}else{var fe=T.node.getBoundingClientRect();B=fe.bottom-fe.top,!M&&T.text.firstChild&&(J=T.text.firstChild.getBoundingClientRect().right-fe.left-1)}var ue=T.line.height-B;if((ue>.005||ue<-.005)&&(g<h&&(b-=ue),fi(T.line,B),Bk(T.line),T.rest))for(var ke=0;ke<T.rest.length;ke++)Bk(T.rest[ke]);if(J>a.display.sizerWidth){var Ce=Math.ceil(J/Fl(a.display));Ce>a.display.maxLineLength&&(a.display.maxLineLength=Ce,a.display.maxLine=T.line,a.display.maxLineChanged=!0)}}}Math.abs(b)>2&&(c.scroller.scrollTop+=b)}function Bk(a){if(a.widgets)for(var c=0;c<a.widgets.length;++c){var p=a.widgets[c],h=p.node.parentNode;h&&(p.height=h.offsetHeight)}}function lh(a,c,p){var h=p&&p.top!=null?Math.max(0,p.top):a.scroller.scrollTop;h=Math.floor(h-nh(a));var g=p&&p.bottom!=null?p.bottom:h+a.wrapper.clientHeight,b=Xi(c,h),S=Xi(c,g);if(p&&p.ensure){var T=p.ensure.from.line,M=p.ensure.to.line;T<b?(b=T,S=Xi(c,Eo(Ge(c,T))+a.wrapper.clientHeight)):Math.min(M,c.lastLine())>=S&&(b=Xi(c,Eo(Ge(c,M))-a.wrapper.clientHeight),S=M)}return{from:b,to:Math.max(S,b+1)}}function MI(a,c){if(!Tt(a,"scrollCursorIntoView")){var p=a.display,h=p.sizer.getBoundingClientRect(),g=null,b=p.wrapper.ownerDocument;if(c.top+h.top<0?g=!0:c.bottom+h.top>(b.defaultView.innerHeight||b.documentElement.clientHeight)&&(g=!1),g!=null&&!k){var S=D("div","​",null,`position: absolute;
                         top: `+(c.top-p.viewOffset-nh(a.display))+`px;
                         height: `+(c.bottom-c.top+Qi(a)+p.barHeight)+`px;
                         left: `+c.left+"px; width: "+Math.max(2,c.right-c.left)+"px;");a.display.lineSpace.appendChild(S),S.scrollIntoView(g),a.display.lineSpace.removeChild(S)}}}function NI(a,c,p,h){h==null&&(h=0);var g;!a.options.lineWrapping&&c==p&&(p=c.sticky=="before"?se(c.line,c.ch+1,"before"):c,c=c.ch?se(c.line,c.sticky=="before"?c.ch-1:c.ch,"after"):c);for(var b=0;b<5;b++){var S=!1,T=Ei(a,c),M=!p||p==c?T:Ei(a,p);g={left:Math.min(T.left,M.left),top:Math.min(T.top,M.top)-h,right:Math.max(T.left,M.left),bottom:Math.max(T.bottom,M.bottom)+h};var B=Rv(a,g),J=a.doc.scrollTop,ee=a.doc.scrollLeft;if(B.scrollTop!=null&&(Cc(a,B.scrollTop),Math.abs(a.doc.scrollTop-J)>1&&(S=!0)),B.scrollLeft!=null&&(wa(a,B.scrollLeft),Math.abs(a.doc.scrollLeft-ee)>1&&(S=!0)),!S)break}return g}function LI(a,c){var p=Rv(a,c);p.scrollTop!=null&&Cc(a,p.scrollTop),p.scrollLeft!=null&&wa(a,p.scrollLeft)}function Rv(a,c){var p=a.display,h=Hl(a.display);c.top<0&&(c.top=0);var g=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:p.scroller.scrollTop,b=xv(a),S={};c.bottom-c.top>b&&(c.bottom=c.top+b);var T=a.doc.height+kv(p),M=c.top<h,B=c.bottom>T-h;if(c.top<g)S.scrollTop=M?0:c.top;else if(c.bottom>g+b){var J=Math.min(c.top,(B?T:c.bottom)-b);J!=g&&(S.scrollTop=J)}var ee=a.options.fixedGutter?0:p.gutters.offsetWidth,fe=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:p.scroller.scrollLeft-ee,ue=va(a)-p.gutters.offsetWidth,ke=c.right-c.left>ue;return ke&&(c.right=c.left+ue),c.left<10?S.scrollLeft=0:c.left<fe?S.scrollLeft=Math.max(0,c.left+ee-(ke?0:10)):c.right>ue+fe-3&&(S.scrollLeft=c.right+(ke?0:10)-ue),S}function zv(a,c){c!=null&&(uh(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+c)}function jl(a){uh(a);var c=a.getCursor();a.curOp.scrollToPos={from:c,to:c,margin:a.options.cursorScrollMargin}}function Sc(a,c,p){(c!=null||p!=null)&&uh(a),c!=null&&(a.curOp.scrollLeft=c),p!=null&&(a.curOp.scrollTop=p)}function II(a,c){uh(a),a.curOp.scrollToPos=c}function uh(a){var c=a.curOp.scrollToPos;if(c){a.curOp.scrollToPos=null;var p=Nk(a,c.from),h=Nk(a,c.to);$k(a,p,h,c.margin)}}function $k(a,c,p,h){var g=Rv(a,{left:Math.min(c.left,p.left),top:Math.min(c.top,p.top)-h,right:Math.max(c.right,p.right),bottom:Math.max(c.bottom,p.bottom)+h});Sc(a,g.scrollLeft,g.scrollTop)}function Cc(a,c){Math.abs(a.doc.scrollTop-c)<2||(i||$v(a,{top:c}),Hk(a,c,!0),i&&$v(a),Ac(a,100))}function Hk(a,c,p){c=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,c)),!(a.display.scroller.scrollTop==c&&!p)&&(a.doc.scrollTop=c,a.display.scrollbars.setScrollTop(c),a.display.scroller.scrollTop!=c&&(a.display.scroller.scrollTop=c))}function wa(a,c,p,h){c=Math.max(0,Math.min(c,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((p?c==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-c)<2)&&!h)&&(a.doc.scrollLeft=c,Uk(a),a.display.scroller.scrollLeft!=c&&(a.display.scroller.scrollLeft=c),a.display.scrollbars.setScrollLeft(c))}function Tc(a){var c=a.display,p=c.gutters.offsetWidth,h=Math.round(a.doc.height+kv(a.display));return{clientHeight:c.scroller.clientHeight,viewHeight:c.wrapper.clientHeight,scrollWidth:c.scroller.scrollWidth,clientWidth:c.scroller.clientWidth,viewWidth:c.wrapper.clientWidth,barLeft:a.options.fixedGutter?p:0,docHeight:h,scrollHeight:h+Qi(a)+c.barHeight,nativeBarWidth:c.nativeBarWidth,gutterWidth:p}}var ka=function(a,c,p){this.cm=p;var h=this.vert=D("div",[D("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=D("div",[D("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");h.tabIndex=g.tabIndex=-1,a(h),a(g),me(h,"scroll",function(){h.clientHeight&&c(h.scrollTop,"vertical")}),me(g,"scroll",function(){g.clientWidth&&c(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,u&&f<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ka.prototype.update=function(a){var c=a.scrollWidth>a.clientWidth+1,p=a.scrollHeight>a.clientHeight+1,h=a.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=c?h+"px":"0";var g=a.viewHeight-(c?h:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(c){this.horiz.style.display="block",this.horiz.style.right=p?h+"px":"0",this.horiz.style.left=a.barLeft+"px";var b=a.viewWidth-a.barLeft-(p?h:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+b)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(h==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?h:0,bottom:c?h:0}},ka.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ka.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ka.prototype.zeroWidthHack=function(){var a=H&&!x?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ee,this.disableVert=new Ee},ka.prototype.enableZeroWidthBar=function(a,c,p){a.style.visibility="";function h(){var g=a.getBoundingClientRect(),b=p=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);b!=a?a.style.visibility="hidden":c.set(1e3,h)}c.set(1e3,h)},ka.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var Ec=function(){};Ec.prototype.update=function(){return{bottom:0,right:0}},Ec.prototype.setScrollLeft=function(){},Ec.prototype.setScrollTop=function(){},Ec.prototype.clear=function(){};function Wl(a,c){c||(c=Tc(a));var p=a.display.barWidth,h=a.display.barHeight;Fk(a,c);for(var g=0;g<4&&p!=a.display.barWidth||h!=a.display.barHeight;g++)p!=a.display.barWidth&&a.options.lineWrapping&&ah(a),Fk(a,Tc(a)),p=a.display.barWidth,h=a.display.barHeight}function Fk(a,c){var p=a.display,h=p.scrollbars.update(c);p.sizer.style.paddingRight=(p.barWidth=h.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=h.bottom)+"px",p.heightForcer.style.borderBottom=h.bottom+"px solid transparent",h.right&&h.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=h.bottom+"px",p.scrollbarFiller.style.width=h.right+"px"):p.scrollbarFiller.style.display="",h.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=h.bottom+"px",p.gutterFiller.style.width=c.gutterWidth+"px"):p.gutterFiller.style.display=""}var Vk={native:ka,null:Ec};function jk(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&U(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new Vk[a.options.scrollbarStyle](function(c){a.display.wrapper.insertBefore(c,a.display.scrollbarFiller),me(c,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),c.setAttribute("cm-not-content","true")},function(c,p){p=="horizontal"?wa(a,c):Cc(a,c)},a),a.display.scrollbars.addClass&&qe(a.display.wrapper,a.display.scrollbars.addClass)}var PI=0;function xa(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++PI,markArrays:null},fI(a.curOp)}function Sa(a){var c=a.curOp;c&&hI(c,function(p){for(var h=0;h<p.ops.length;h++)p.ops[h].cm.curOp=null;DI(p)})}function DI(a){for(var c=a.ops,p=0;p<c.length;p++)RI(c[p]);for(var h=0;h<c.length;h++)zI(c[h]);for(var g=0;g<c.length;g++)BI(c[g]);for(var b=0;b<c.length;b++)$I(c[b]);for(var S=0;S<c.length;S++)HI(c[S])}function RI(a){var c=a.cm,p=c.display;VI(c),a.updateMaxLine&&_v(c),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<p.viewFrom||a.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&c.options.lineWrapping,a.update=a.mustUpdate&&new ch(c,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function zI(a){a.updatedDisplay=a.mustUpdate&&Bv(a.cm,a.update)}function BI(a){var c=a.cm,p=c.display;a.updatedDisplay&&ah(c),a.barMeasure=Tc(c),p.maxLineChanged&&!c.options.lineWrapping&&(a.adjustWidthTo=xk(c,p.maxLine,p.maxLine.text.length).left+3,c.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+a.adjustWidthTo+Qi(c)+c.display.barWidth),a.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+a.adjustWidthTo-va(c))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=p.input.prepareSelection())}function $I(a){var c=a.cm;a.adjustWidthTo!=null&&(c.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<c.doc.scrollLeft&&wa(c,Math.min(c.display.scroller.scrollLeft,a.maxScrollLeft),!0),c.display.maxLineChanged=!1);var p=a.focus&&a.focus==ze(_t(c));a.preparedSelection&&c.display.input.showSelection(a.preparedSelection,p),(a.updatedDisplay||a.startHeight!=c.doc.height)&&Wl(c,a.barMeasure),a.updatedDisplay&&Fv(c,a.barMeasure),a.selectionChanged&&Iv(c),c.state.focused&&a.updateInput&&c.display.input.reset(a.typing),p&&zk(a.cm)}function HI(a){var c=a.cm,p=c.display,h=c.doc;if(a.updatedDisplay&&Wk(c,a.update),p.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),a.scrollTop!=null&&Hk(c,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&wa(c,a.scrollLeft,!0,!0),a.scrollToPos){var g=NI(c,dt(h,a.scrollToPos.from),dt(h,a.scrollToPos.to),a.scrollToPos.margin);MI(c,g)}var b=a.maybeHiddenMarkers,S=a.maybeUnhiddenMarkers;if(b)for(var T=0;T<b.length;++T)b[T].lines.length||ot(b[T],"hide");if(S)for(var M=0;M<S.length;++M)S[M].lines.length&&ot(S[M],"unhide");p.wrapper.offsetHeight&&(h.scrollTop=c.display.scroller.scrollTop),a.changeObjs&&ot(c,"changes",c,a.changeObjs),a.update&&a.update.finish()}function Lr(a,c){if(a.curOp)return c();xa(a);try{return c()}finally{Sa(a)}}function Ln(a,c){return function(){if(a.curOp)return c.apply(a,arguments);xa(a);try{return c.apply(a,arguments)}finally{Sa(a)}}}function sr(a){return function(){if(this.curOp)return a.apply(this,arguments);xa(this);try{return a.apply(this,arguments)}finally{Sa(this)}}}function In(a){return function(){var c=this.cm;if(!c||c.curOp)return a.apply(this,arguments);xa(c);try{return a.apply(this,arguments)}finally{Sa(c)}}}function Ac(a,c){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(c,Xe(FI,a))}function FI(a){var c=a.doc;if(!(c.highlightFrontier>=a.display.viewTo)){var p=+new Date+a.options.workTime,h=vc(a,c.highlightFrontier),g=[];c.iter(h.line,Math.min(c.first+c.size,a.display.viewTo+500),function(b){if(h.line>=a.display.viewFrom){var S=b.styles,T=b.text.length>a.options.maxHighlightLength?So(c.mode,h.state):null,M=Xw(a,b,h,!0);T&&(h.state=T),b.styles=M.styles;var B=b.styleClasses,J=M.classes;J?b.styleClasses=J:B&&(b.styleClasses=null);for(var ee=!S||S.length!=b.styles.length||B!=J&&(!B||!J||B.bgClass!=J.bgClass||B.textClass!=J.textClass),fe=0;!ee&&fe<S.length;++fe)ee=S[fe]!=b.styles[fe];ee&&g.push(h.line),b.stateAfter=h.save(),h.nextLine()}else b.text.length<=a.options.maxHighlightLength&&pv(a,b.text,h),b.stateAfter=h.line%5==0?h.save():null,h.nextLine();if(+new Date>p)return Ac(a,a.options.workDelay),!0}),c.highlightFrontier=h.line,c.modeFrontier=Math.max(c.modeFrontier,h.line),g.length&&Lr(a,function(){for(var b=0;b<g.length;b++)ps(a,g[b],"text")})}}var ch=function(a,c,p){var h=a.display;this.viewport=c,this.visible=lh(h,a.doc,c),this.editorIsHidden=!h.wrapper.offsetWidth,this.wrapperHeight=h.wrapper.clientHeight,this.wrapperWidth=h.wrapper.clientWidth,this.oldDisplayWidth=va(a),this.force=p,this.dims=Ov(a),this.events=[]};ch.prototype.signal=function(a,c){Kt(a,c)&&this.events.push(arguments)},ch.prototype.finish=function(){for(var a=0;a<this.events.length;a++)ot.apply(null,this.events[a])};function VI(a){var c=a.display;!c.scrollbarsClipped&&c.scroller.offsetWidth&&(c.nativeBarWidth=c.scroller.offsetWidth-c.scroller.clientWidth,c.heightForcer.style.height=Qi(a)+"px",c.sizer.style.marginBottom=-c.nativeBarWidth+"px",c.sizer.style.borderRightWidth=Qi(a)+"px",c.scrollbarsClipped=!0)}function jI(a){if(a.hasFocus())return null;var c=ze(_t(a));if(!c||!ve(a.display.lineDiv,c))return null;var p={activeElt:c};if(window.getSelection){var h=bt(a).getSelection();h.anchorNode&&h.extend&&ve(a.display.lineDiv,h.anchorNode)&&(p.anchorNode=h.anchorNode,p.anchorOffset=h.anchorOffset,p.focusNode=h.focusNode,p.focusOffset=h.focusOffset)}return p}function WI(a){if(!(!a||!a.activeElt||a.activeElt==ze(a.activeElt.ownerDocument))&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&ve(document.body,a.anchorNode)&&ve(document.body,a.focusNode))){var c=a.activeElt.ownerDocument,p=c.defaultView.getSelection(),h=c.createRange();h.setEnd(a.anchorNode,a.anchorOffset),h.collapse(!1),p.removeAllRanges(),p.addRange(h),p.extend(a.focusNode,a.focusOffset)}}function Bv(a,c){var p=a.display,h=a.doc;if(c.editorIsHidden)return ms(a),!1;if(!c.force&&c.visible.from>=p.viewFrom&&c.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&Dk(a)==0)return!1;qk(a)&&(ms(a),c.dims=Ov(a));var g=h.first+h.size,b=Math.max(c.visible.from-a.options.viewportMargin,h.first),S=Math.min(g,c.visible.to+a.options.viewportMargin);p.viewFrom<b&&b-p.viewFrom<20&&(b=Math.max(h.first,p.viewFrom)),p.viewTo>S&&p.viewTo-S<20&&(S=Math.min(g,p.viewTo)),To&&(b=yv(a.doc,b),S=fk(a.doc,S));var T=b!=p.viewFrom||S!=p.viewTo||p.lastWrapHeight!=c.wrapperHeight||p.lastWrapWidth!=c.wrapperWidth;AI(a,b,S),p.viewOffset=Eo(Ge(a.doc,p.viewFrom)),a.display.mover.style.top=p.viewOffset+"px";var M=Dk(a);if(!T&&M==0&&!c.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var B=jI(a);return M>4&&(p.lineDiv.style.display="none"),UI(a,p.updateLineNumbers,c.dims),M>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,WI(B),K(p.cursorDiv),K(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,T&&(p.lastWrapHeight=c.wrapperHeight,p.lastWrapWidth=c.wrapperWidth,Ac(a,400)),p.updateLineNumbers=null,!0}function Wk(a,c){for(var p=c.viewport,h=!0;;h=!1){if(!h||!a.options.lineWrapping||c.oldDisplayWidth==va(a)){if(p&&p.top!=null&&(p={top:Math.min(a.doc.height+kv(a.display)-xv(a),p.top)}),c.visible=lh(a.display,a.doc,p),c.visible.from>=a.display.viewFrom&&c.visible.to<=a.display.viewTo)break}else h&&(c.visible=lh(a.display,a.doc,p));if(!Bv(a,c))break;ah(a);var g=Tc(a);xc(a),Wl(a,g),Fv(a,g),c.force=!1}c.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(c.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function $v(a,c){var p=new ch(a,c);if(Bv(a,p)){ah(a),Wk(a,p);var h=Tc(a);xc(a),Wl(a,h),Fv(a,h),p.finish()}}function UI(a,c,p){var h=a.display,g=a.options.lineNumbers,b=h.lineDiv,S=b.firstChild;function T(ke){var Ce=ke.nextSibling;return d&&H&&a.display.currentWheelTarget==ke?ke.style.display="none":ke.parentNode.removeChild(ke),Ce}for(var M=h.view,B=h.viewFrom,J=0;J<M.length;J++){var ee=M[J];if(!ee.hidden)if(!ee.node||ee.node.parentNode!=b){var fe=yI(a,ee,B,p);b.insertBefore(fe,S)}else{for(;S!=ee.node;)S=T(S);var ue=g&&c!=null&&c<=B&&ee.lineNumber;ee.changes&&(Ze(ee.changes,"gutter")>-1&&(ue=!1),gk(a,ee,B,p)),ue&&(K(ee.lineNumber),ee.lineNumber.appendChild(document.createTextNode(ne(a.options,B)))),S=ee.node.nextSibling}B+=ee.size}for(;S;)S=T(S)}function Hv(a){var c=a.gutters.offsetWidth;a.sizer.style.marginLeft=c+"px",Nn(a,"gutterChanged",a)}function Fv(a,c){a.display.sizer.style.minHeight=c.docHeight+"px",a.display.heightForcer.style.top=c.docHeight+"px",a.display.gutters.style.height=c.docHeight+a.display.barHeight+Qi(a)+"px"}function Uk(a){var c=a.display,p=c.view;if(!(!c.alignWidgets&&(!c.gutters.firstChild||!a.options.fixedGutter))){for(var h=Mv(c)-c.scroller.scrollLeft+a.doc.scrollLeft,g=c.gutters.offsetWidth,b=h+"px",S=0;S<p.length;S++)if(!p[S].hidden){a.options.fixedGutter&&(p[S].gutter&&(p[S].gutter.style.left=b),p[S].gutterBackground&&(p[S].gutterBackground.style.left=b));var T=p[S].alignable;if(T)for(var M=0;M<T.length;M++)T[M].style.left=b}a.options.fixedGutter&&(c.gutters.style.left=h+g+"px")}}function qk(a){if(!a.options.lineNumbers)return!1;var c=a.doc,p=ne(a.options,c.first+c.size-1),h=a.display;if(p.length!=h.lineNumChars){var g=h.measure.appendChild(D("div",[D("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),b=g.firstChild.offsetWidth,S=g.offsetWidth-b;return h.lineGutter.style.width="",h.lineNumInnerWidth=Math.max(b,h.lineGutter.offsetWidth-S)+1,h.lineNumWidth=h.lineNumInnerWidth+S,h.lineNumChars=h.lineNumInnerWidth?p.length:-1,h.lineGutter.style.width=h.lineNumWidth+"px",Hv(a.display),!0}return!1}function Vv(a,c){for(var p=[],h=!1,g=0;g<a.length;g++){var b=a[g],S=null;if(typeof b!="string"&&(S=b.style,b=b.className),b=="CodeMirror-linenumbers")if(c)h=!0;else continue;p.push({className:b,style:S})}return c&&!h&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function Kk(a){var c=a.gutters,p=a.gutterSpecs;K(c),a.lineGutter=null;for(var h=0;h<p.length;++h){var g=p[h],b=g.className,S=g.style,T=c.appendChild(D("div",null,"CodeMirror-gutter "+b));S&&(T.style.cssText=S),b=="CodeMirror-linenumbers"&&(a.lineGutter=T,T.style.width=(a.lineNumWidth||1)+"px")}c.style.display=p.length?"":"none",Hv(a)}function Oc(a){Kk(a.display),_r(a),Uk(a)}function qI(a,c,p,h){var g=this;this.input=p,g.scrollbarFiller=D("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=D("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=ae("div",null,"CodeMirror-code"),g.selectionDiv=D("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=D("div",null,"CodeMirror-cursors"),g.measure=D("div",null,"CodeMirror-measure"),g.lineMeasure=D("div",null,"CodeMirror-measure"),g.lineSpace=ae("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var b=ae("div",[g.lineSpace],"CodeMirror-lines");g.mover=D("div",[b],null,"position: relative"),g.sizer=D("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=D("div",null,null,"position: absolute; height: "+Ke+"px; width: 1px;"),g.gutters=D("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=D("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=D("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),v&&y>=105&&(g.wrapper.style.clipPath="inset(0px)"),g.wrapper.setAttribute("translate","no"),u&&f<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!d&&!(i&&E)&&(g.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(g.wrapper):a(g.wrapper)),g.viewFrom=g.viewTo=c.first,g.reportedViewFrom=g.reportedViewTo=c.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=Vv(h.gutters,h.lineNumbers),Kk(g),p.init(g)}var fh=0,Oo=null;u?Oo=-.53:i?Oo=15:v?Oo=-.7:C&&(Oo=-1/3);function Gk(a){var c=a.wheelDeltaX,p=a.wheelDeltaY;return c==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(c=a.detail),p==null&&a.detail&&a.axis==a.VERTICAL_AXIS?p=a.detail:p==null&&(p=a.wheelDelta),{x:c,y:p}}function KI(a){var c=Gk(a);return c.x*=Oo,c.y*=Oo,c}function Yk(a,c){v&&y==102&&(a.display.chromeScrollHack==null?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var p=Gk(c),h=p.x,g=p.y,b=Oo;c.deltaMode===0&&(h=c.deltaX,g=c.deltaY,b=1);var S=a.display,T=S.scroller,M=T.scrollWidth>T.clientWidth,B=T.scrollHeight>T.clientHeight;if(h&&M||g&&B){if(g&&H&&d){e:for(var J=c.target,ee=S.view;J!=T;J=J.parentNode)for(var fe=0;fe<ee.length;fe++)if(ee[fe].node==J){a.display.currentWheelTarget=J;break e}}if(h&&!i&&!_&&b!=null){g&&B&&Cc(a,Math.max(0,T.scrollTop+g*b)),wa(a,Math.max(0,T.scrollLeft+h*b)),(!g||g&&B)&&Gt(c),S.wheelStartX=null;return}if(g&&b!=null){var ue=g*b,ke=a.doc.scrollTop,Ce=ke+S.wrapper.clientHeight;ue<0?ke=Math.max(0,ke+ue-50):Ce=Math.min(a.doc.height,Ce+ue+50),$v(a,{top:ke,bottom:Ce})}fh<20&&c.deltaMode!==0&&(S.wheelStartX==null?(S.wheelStartX=T.scrollLeft,S.wheelStartY=T.scrollTop,S.wheelDX=h,S.wheelDY=g,setTimeout(function(){if(S.wheelStartX!=null){var Me=T.scrollLeft-S.wheelStartX,De=T.scrollTop-S.wheelStartY,$e=De&&S.wheelDY&&De/S.wheelDY||Me&&S.wheelDX&&Me/S.wheelDX;S.wheelStartX=S.wheelStartY=null,$e&&(Oo=(Oo*fh+$e)/(fh+1),++fh)}},200)):(S.wheelDX+=h,S.wheelDY+=g))}}var Xr=function(a,c){this.ranges=a,this.primIndex=c};Xr.prototype.primary=function(){return this.ranges[this.primIndex]},Xr.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var p=this.ranges[c],h=a.ranges[c];if(!ft(p.anchor,h.anchor)||!ft(p.head,h.head))return!1}return!0},Xr.prototype.deepCopy=function(){for(var a=[],c=0;c<this.ranges.length;c++)a[c]=new Ht(At(this.ranges[c].anchor),At(this.ranges[c].head));return new Xr(a,this.primIndex)},Xr.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},Xr.prototype.contains=function(a,c){c||(c=a);for(var p=0;p<this.ranges.length;p++){var h=this.ranges[p];if(we(c,h.from())>=0&&we(a,h.to())<=0)return p}return-1};var Ht=function(a,c){this.anchor=a,this.head=c};Ht.prototype.from=function(){return Cn(this.anchor,this.head)},Ht.prototype.to=function(){return It(this.anchor,this.head)},Ht.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ai(a,c,p){var h=a&&a.options.selectionsMayTouch,g=c[p];c.sort(function(fe,ue){return we(fe.from(),ue.from())}),p=Ze(c,g);for(var b=1;b<c.length;b++){var S=c[b],T=c[b-1],M=we(T.to(),S.from());if(h&&!S.empty()?M>0:M>=0){var B=Cn(T.from(),S.from()),J=It(T.to(),S.to()),ee=T.empty()?S.from()==S.head:T.from()==T.head;b<=p&&--p,c.splice(--b,2,new Ht(ee?J:B,ee?B:J))}}return new Xr(c,p)}function gs(a,c){return new Xr([new Ht(a,c||a)],0)}function vs(a){return a.text?se(a.from.line+a.text.length-1,G(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function Jk(a,c){if(we(a,c.from)<0)return a;if(we(a,c.to)<=0)return vs(c);var p=a.line+c.text.length-(c.to.line-c.from.line)-1,h=a.ch;return a.line==c.to.line&&(h+=vs(c).ch-c.to.ch),se(p,h)}function jv(a,c){for(var p=[],h=0;h<a.sel.ranges.length;h++){var g=a.sel.ranges[h];p.push(new Ht(Jk(g.anchor,c),Jk(g.head,c)))}return Ai(a.cm,p,a.sel.primIndex)}function Xk(a,c,p){return a.line==c.line?se(p.line,a.ch-c.ch+p.ch):se(p.line+(a.line-c.line),a.ch)}function GI(a,c,p){for(var h=[],g=se(a.first,0),b=g,S=0;S<c.length;S++){var T=c[S],M=Xk(T.from,g,b),B=Xk(vs(T),g,b);if(g=T.to,b=B,p=="around"){var J=a.sel.ranges[S],ee=we(J.head,J.anchor)<0;h[S]=new Ht(ee?B:M,ee?M:B)}else h[S]=new Ht(M,M)}return new Xr(h,a.sel.primIndex)}function Wv(a){a.doc.mode=xo(a.options,a.doc.modeOption),Mc(a)}function Mc(a){a.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,Ac(a,100),a.state.modeGen++,a.curOp&&_r(a)}function Zk(a,c){return c.from.ch==0&&c.to.ch==0&&G(c.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Uv(a,c,p,h){function g($e){return p?p[$e]:null}function b($e,Re,Ve){nI($e,Re,Ve,h),Nn($e,"change",$e,c)}function S($e,Re){for(var Ve=[],nt=$e;nt<Re;++nt)Ve.push(new zl(B[nt],g(nt),h));return Ve}var T=c.from,M=c.to,B=c.text,J=Ge(a,T.line),ee=Ge(a,M.line),fe=G(B),ue=g(B.length-1),ke=M.line-T.line;if(c.full)a.insert(0,S(0,B.length)),a.remove(B.length,a.size-B.length);else if(Zk(a,c)){var Ce=S(0,B.length-1);b(ee,ee.text,ue),ke&&a.remove(T.line,ke),Ce.length&&a.insert(T.line,Ce)}else if(J==ee)if(B.length==1)b(J,J.text.slice(0,T.ch)+fe+J.text.slice(M.ch),ue);else{var Me=S(1,B.length-1);Me.push(new zl(fe+J.text.slice(M.ch),ue,h)),b(J,J.text.slice(0,T.ch)+B[0],g(0)),a.insert(T.line+1,Me)}else if(B.length==1)b(J,J.text.slice(0,T.ch)+B[0]+ee.text.slice(M.ch),g(0)),a.remove(T.line+1,ke);else{b(J,J.text.slice(0,T.ch)+B[0],g(0)),b(ee,fe+ee.text.slice(M.ch),ue);var De=S(1,B.length-1);ke>1&&a.remove(T.line+1,ke-1),a.insert(T.line+1,De)}Nn(a,"change",a,c)}function ys(a,c,p){function h(g,b,S){if(g.linked)for(var T=0;T<g.linked.length;++T){var M=g.linked[T];if(M.doc!=b){var B=S&&M.sharedHist;p&&!B||(c(M.doc,B),h(M.doc,g,B))}}}h(a,null,!0)}function Qk(a,c){if(c.cm)throw new Error("This document is already in use.");a.doc=c,c.cm=a,Nv(a),Wv(a),ex(a),a.options.direction=c.direction,a.options.lineWrapping||_v(a),a.options.mode=c.modeOption,_r(a)}function ex(a){(a.doc.direction=="rtl"?qe:U)(a.display.lineDiv,"CodeMirror-rtl")}function YI(a){Lr(a,function(){ex(a),_r(a)})}function dh(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function qv(a,c){var p={from:At(c.from),to:vs(c),text:Co(a,c.from,c.to)};return rx(a,p,c.from.line,c.to.line+1),ys(a,function(h){return rx(h,p,c.from.line,c.to.line+1)},!0),p}function tx(a){for(;a.length;){var c=G(a);if(c.ranges)a.pop();else break}}function JI(a,c){if(c)return tx(a.done),G(a.done);if(a.done.length&&!G(a.done).ranges)return G(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),G(a.done)}function nx(a,c,p,h){var g=a.history;g.undone.length=0;var b=+new Date,S,T;if((g.lastOp==h||g.lastOrigin==c.origin&&c.origin&&(c.origin.charAt(0)=="+"&&g.lastModTime>b-(a.cm?a.cm.options.historyEventDelay:500)||c.origin.charAt(0)=="*"))&&(S=JI(g,g.lastOp==h)))T=G(S.changes),we(c.from,c.to)==0&&we(c.from,T.to)==0?T.to=vs(c):S.changes.push(qv(a,c));else{var M=G(g.done);for((!M||!M.ranges)&&hh(a.sel,g.done),S={changes:[qv(a,c)],generation:g.generation},g.done.push(S);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(p),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=b,g.lastOp=g.lastSelOp=h,g.lastOrigin=g.lastSelOrigin=c.origin,T||ot(a,"historyAdded")}function XI(a,c,p,h){var g=c.charAt(0);return g=="*"||g=="+"&&p.ranges.length==h.ranges.length&&p.somethingSelected()==h.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function ZI(a,c,p,h){var g=a.history,b=h&&h.origin;p==g.lastSelOp||b&&g.lastSelOrigin==b&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==b||XI(a,b,G(g.done),c))?g.done[g.done.length-1]=c:hh(c,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=b,g.lastSelOp=p,h&&h.clearRedo!==!1&&tx(g.undone)}function hh(a,c){var p=G(c);p&&p.ranges&&p.equals(a)||c.push(a)}function rx(a,c,p,h){var g=c["spans_"+a.id],b=0;a.iter(Math.max(a.first,p),Math.min(a.first+a.size,h),function(S){S.markedSpans&&((g||(g=c["spans_"+a.id]={}))[b]=S.markedSpans),++b})}function QI(a){if(!a)return null;for(var c,p=0;p<a.length;++p)a[p].marker.explicitlyCleared?c||(c=a.slice(0,p)):c&&c.push(a[p]);return c?c.length?c:null:a}function eP(a,c){var p=c["spans_"+a.id];if(!p)return null;for(var h=[],g=0;g<c.text.length;++g)h.push(QI(p[g]));return h}function ix(a,c){var p=eP(a,c),h=gv(a,c);if(!p)return h;if(!h)return p;for(var g=0;g<p.length;++g){var b=p[g],S=h[g];if(b&&S)e:for(var T=0;T<S.length;++T){for(var M=S[T],B=0;B<b.length;++B)if(b[B].marker==M.marker)continue e;b.push(M)}else S&&(p[g]=S)}return p}function Ul(a,c,p){for(var h=[],g=0;g<a.length;++g){var b=a[g];if(b.ranges){h.push(p?Xr.prototype.deepCopy.call(b):b);continue}var S=b.changes,T=[];h.push({changes:T});for(var M=0;M<S.length;++M){var B=S[M],J=void 0;if(T.push({from:B.from,to:B.to,text:B.text}),c)for(var ee in B)(J=ee.match(/^spans_(\d+)$/))&&Ze(c,Number(J[1]))>-1&&(G(T)[ee]=B[ee],delete B[ee])}}return h}function Kv(a,c,p,h){if(h){var g=a.anchor;if(p){var b=we(c,g)<0;b!=we(p,g)<0?(g=c,c=p):b!=we(c,p)<0&&(c=p)}return new Ht(g,c)}else return new Ht(p||c,c)}function ph(a,c,p,h,g){g==null&&(g=a.cm&&(a.cm.display.shift||a.extend)),Gn(a,new Xr([Kv(a.sel.primary(),c,p,g)],0),h)}function ox(a,c,p){for(var h=[],g=a.cm&&(a.cm.display.shift||a.extend),b=0;b<a.sel.ranges.length;b++)h[b]=Kv(a.sel.ranges[b],c[b],null,g);var S=Ai(a.cm,h,a.sel.primIndex);Gn(a,S,p)}function Gv(a,c,p,h){var g=a.sel.ranges.slice(0);g[c]=p,Gn(a,Ai(a.cm,g,a.sel.primIndex),h)}function sx(a,c,p,h){Gn(a,gs(c,p),h)}function tP(a,c,p){var h={ranges:c.ranges,update:function(g){this.ranges=[];for(var b=0;b<g.length;b++)this.ranges[b]=new Ht(dt(a,g[b].anchor),dt(a,g[b].head))},origin:p&&p.origin};return ot(a,"beforeSelectionChange",a,h),a.cm&&ot(a.cm,"beforeSelectionChange",a.cm,h),h.ranges!=c.ranges?Ai(a.cm,h.ranges,h.ranges.length-1):c}function ax(a,c,p){var h=a.history.done,g=G(h);g&&g.ranges?(h[h.length-1]=c,mh(a,c,p)):Gn(a,c,p)}function Gn(a,c,p){mh(a,c,p),ZI(a,a.sel,a.cm?a.cm.curOp.id:NaN,p)}function mh(a,c,p){(Kt(a,"beforeSelectionChange")||a.cm&&Kt(a.cm,"beforeSelectionChange"))&&(c=tP(a,c,p));var h=p&&p.bias||(we(c.primary().head,a.sel.primary().head)<0?-1:1);lx(a,cx(a,c,h,!0)),!(p&&p.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&jl(a.cm)}function lx(a,c){c.equals(a.sel)||(a.sel=c,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,br(a.cm)),Nn(a,"cursorActivity",a))}function ux(a){lx(a,cx(a,a.sel,null,!1))}function cx(a,c,p,h){for(var g,b=0;b<c.ranges.length;b++){var S=c.ranges[b],T=c.ranges.length==a.sel.ranges.length&&a.sel.ranges[b],M=gh(a,S.anchor,T&&T.anchor,p,h),B=S.head==S.anchor?M:gh(a,S.head,T&&T.head,p,h);(g||M!=S.anchor||B!=S.head)&&(g||(g=c.ranges.slice(0,b)),g[b]=new Ht(M,B))}return g?Ai(a.cm,g,c.primIndex):c}function ql(a,c,p,h,g){var b=Ge(a,c.line);if(b.markedSpans)for(var S=0;S<b.markedSpans.length;++S){var T=b.markedSpans[S],M=T.marker,B="selectLeft"in M?!M.selectLeft:M.inclusiveLeft,J="selectRight"in M?!M.selectRight:M.inclusiveRight;if((T.from==null||(B?T.from<=c.ch:T.from<c.ch))&&(T.to==null||(J?T.to>=c.ch:T.to>c.ch))){if(g&&(ot(M,"beforeCursorEnter"),M.explicitlyCleared))if(b.markedSpans){--S;continue}else break;if(!M.atomic)continue;if(p){var ee=M.find(h<0?1:-1),fe=void 0;if((h<0?J:B)&&(ee=fx(a,ee,-h,ee&&ee.line==c.line?b:null)),ee&&ee.line==c.line&&(fe=we(ee,p))&&(h<0?fe<0:fe>0))return ql(a,ee,c,h,g)}var ue=M.find(h<0?-1:1);return(h<0?B:J)&&(ue=fx(a,ue,h,ue.line==c.line?b:null)),ue?ql(a,ue,c,h,g):null}}return c}function gh(a,c,p,h,g){var b=h||1,S=ql(a,c,p,b,g)||!g&&ql(a,c,p,b,!0)||ql(a,c,p,-b,g)||!g&&ql(a,c,p,-b,!0);return S||(a.cantEdit=!0,se(a.first,0))}function fx(a,c,p,h){return p<0&&c.ch==0?c.line>a.first?dt(a,se(c.line-1)):null:p>0&&c.ch==(h||Ge(a,c.line)).text.length?c.line<a.first+a.size-1?se(c.line+1,0):null:new se(c.line,c.ch+p)}function dx(a){a.setSelection(se(a.firstLine(),0),se(a.lastLine()),at)}function hx(a,c,p){var h={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return h.canceled=!0}};return p&&(h.update=function(g,b,S,T){g&&(h.from=dt(a,g)),b&&(h.to=dt(a,b)),S&&(h.text=S),T!==void 0&&(h.origin=T)}),ot(a,"beforeChange",a,h),a.cm&&ot(a.cm,"beforeChange",a.cm,h),h.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:h.from,to:h.to,text:h.text,origin:h.origin}}function Kl(a,c,p){if(a.cm){if(!a.cm.curOp)return Ln(a.cm,Kl)(a,c,p);if(a.cm.state.suppressEdits)return}if(!((Kt(a,"beforeChange")||a.cm&&Kt(a.cm,"beforeChange"))&&(c=hx(a,c,!0),!c))){var h=ik&&!p&&ZL(a,c.from,c.to);if(h)for(var g=h.length-1;g>=0;--g)px(a,{from:h[g].from,to:h[g].to,text:g?[""]:c.text,origin:c.origin});else px(a,c)}}function px(a,c){if(!(c.text.length==1&&c.text[0]==""&&we(c.from,c.to)==0)){var p=jv(a,c);nx(a,c,p,a.cm?a.cm.curOp.id:NaN),Nc(a,c,p,gv(a,c));var h=[];ys(a,function(g,b){!b&&Ze(h,g.history)==-1&&(yx(g.history,c),h.push(g.history)),Nc(g,c,null,gv(g,c))})}}function vh(a,c,p){var h=a.cm&&a.cm.state.suppressEdits;if(!(h&&!p)){for(var g=a.history,b,S=a.sel,T=c=="undo"?g.done:g.undone,M=c=="undo"?g.undone:g.done,B=0;B<T.length&&(b=T[B],!(p?b.ranges&&!b.equals(a.sel):!b.ranges));B++);if(B!=T.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(b=T.pop(),b.ranges){if(hh(b,M),p&&!b.equals(a.sel)){Gn(a,b,{clearRedo:!1});return}S=b}else if(h){T.push(b);return}else break;var J=[];hh(S,M),M.push({changes:J,generation:g.generation}),g.generation=b.generation||++g.maxGeneration;for(var ee=Kt(a,"beforeChange")||a.cm&&Kt(a.cm,"beforeChange"),fe=function(Ce){var Me=b.changes[Ce];if(Me.origin=c,ee&&!hx(a,Me,!1))return T.length=0,{};J.push(qv(a,Me));var De=Ce?jv(a,Me):G(T);Nc(a,Me,De,ix(a,Me)),!Ce&&a.cm&&a.cm.scrollIntoView({from:Me.from,to:vs(Me)});var $e=[];ys(a,function(Re,Ve){!Ve&&Ze($e,Re.history)==-1&&(yx(Re.history,Me),$e.push(Re.history)),Nc(Re,Me,null,ix(Re,Me))})},ue=b.changes.length-1;ue>=0;--ue){var ke=fe(ue);if(ke)return ke.v}}}}function mx(a,c){if(c!=0&&(a.first+=c,a.sel=new Xr(Z(a.sel.ranges,function(g){return new Ht(se(g.anchor.line+c,g.anchor.ch),se(g.head.line+c,g.head.ch))}),a.sel.primIndex),a.cm)){_r(a.cm,a.first,a.first-c,c);for(var p=a.cm.display,h=p.viewFrom;h<p.viewTo;h++)ps(a.cm,h,"gutter")}}function Nc(a,c,p,h){if(a.cm&&!a.cm.curOp)return Ln(a.cm,Nc)(a,c,p,h);if(c.to.line<a.first){mx(a,c.text.length-1-(c.to.line-c.from.line));return}if(!(c.from.line>a.lastLine())){if(c.from.line<a.first){var g=c.text.length-1-(a.first-c.from.line);mx(a,g),c={from:se(a.first,0),to:se(c.to.line+g,c.to.ch),text:[G(c.text)],origin:c.origin}}var b=a.lastLine();c.to.line>b&&(c={from:c.from,to:se(b,Ge(a,b).text.length),text:[c.text[0]],origin:c.origin}),c.removed=Co(a,c.from,c.to),p||(p=jv(a,c)),a.cm?nP(a.cm,c,h):Uv(a,c,h),mh(a,p,at),a.cantEdit&&gh(a,se(a.firstLine(),0))&&(a.cantEdit=!1)}}function nP(a,c,p){var h=a.doc,g=a.display,b=c.from,S=c.to,T=!1,M=b.line;a.options.lineWrapping||(M=$t(Ti(Ge(h,b.line))),h.iter(M,S.line+1,function(ue){if(ue==g.maxLine)return T=!0,!0})),h.sel.contains(c.from,c.to)>-1&&br(a),Uv(h,c,p,Pk(a)),a.options.lineWrapping||(h.iter(M,b.line+c.text.length,function(ue){var ke=eh(ue);ke>g.maxLineLength&&(g.maxLine=ue,g.maxLineLength=ke,g.maxLineChanged=!0,T=!1)}),T&&(a.curOp.updateMaxLine=!0)),UL(h,b.line),Ac(a,400);var B=c.text.length-(S.line-b.line)-1;c.full?_r(a):b.line==S.line&&c.text.length==1&&!Zk(a.doc,c)?ps(a,b.line,"text"):_r(a,b.line,S.line+1,B);var J=Kt(a,"changes"),ee=Kt(a,"change");if(ee||J){var fe={from:b,to:S,text:c.text,removed:c.removed,origin:c.origin};ee&&Nn(a,"change",a,fe),J&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(fe)}a.display.selForContextMenu=null}function Gl(a,c,p,h,g){var b;h||(h=p),we(h,p)<0&&(b=[h,p],p=b[0],h=b[1]),typeof c=="string"&&(c=a.splitLines(c)),Kl(a,{from:p,to:h,text:c,origin:g})}function gx(a,c,p,h){p<a.line?a.line+=h:c<a.line&&(a.line=c,a.ch=0)}function vx(a,c,p,h){for(var g=0;g<a.length;++g){var b=a[g],S=!0;if(b.ranges){b.copied||(b=a[g]=b.deepCopy(),b.copied=!0);for(var T=0;T<b.ranges.length;T++)gx(b.ranges[T].anchor,c,p,h),gx(b.ranges[T].head,c,p,h);continue}for(var M=0;M<b.changes.length;++M){var B=b.changes[M];if(p<B.from.line)B.from=se(B.from.line+h,B.from.ch),B.to=se(B.to.line+h,B.to.ch);else if(c<=B.to.line){S=!1;break}}S||(a.splice(0,g+1),g=0)}}function yx(a,c){var p=c.from.line,h=c.to.line,g=c.text.length-(h-p)-1;vx(a.done,p,h,g),vx(a.undone,p,h,g)}function Lc(a,c,p,h){var g=c,b=c;return typeof c=="number"?b=Ge(a,Jr(a,c)):g=$t(c),g==null?null:(h(b,g)&&a.cm&&ps(a.cm,g,p),b)}function Ic(a){this.lines=a,this.parent=null;for(var c=0,p=0;p<a.length;++p)a[p].parent=this,c+=a[p].height;this.height=c}Ic.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,c){for(var p=a,h=a+c;p<h;++p){var g=this.lines[p];this.height-=g.height,rI(g),Nn(g,"delete")}this.lines.splice(a,c)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,c,p){this.height+=p,this.lines=this.lines.slice(0,a).concat(c).concat(this.lines.slice(a));for(var h=0;h<c.length;++h)c[h].parent=this},iterN:function(a,c,p){for(var h=a+c;a<h;++a)if(p(this.lines[a]))return!0}};function Pc(a){this.children=a;for(var c=0,p=0,h=0;h<a.length;++h){var g=a[h];c+=g.chunkSize(),p+=g.height,g.parent=this}this.size=c,this.height=p,this.parent=null}Pc.prototype={chunkSize:function(){return this.size},removeInner:function(a,c){this.size-=c;for(var p=0;p<this.children.length;++p){var h=this.children[p],g=h.chunkSize();if(a<g){var b=Math.min(c,g-a),S=h.height;if(h.removeInner(a,b),this.height-=S-h.height,g==b&&(this.children.splice(p--,1),h.parent=null),(c-=b)==0)break;a=0}else a-=g}if(this.size-c<25&&(this.children.length>1||!(this.children[0]instanceof Ic))){var T=[];this.collapse(T),this.children=[new Ic(T)],this.children[0].parent=this}},collapse:function(a){for(var c=0;c<this.children.length;++c)this.children[c].collapse(a)},insertInner:function(a,c,p){this.size+=c.length,this.height+=p;for(var h=0;h<this.children.length;++h){var g=this.children[h],b=g.chunkSize();if(a<=b){if(g.insertInner(a,c,p),g.lines&&g.lines.length>50){for(var S=g.lines.length%25+25,T=S;T<g.lines.length;){var M=new Ic(g.lines.slice(T,T+=25));g.height-=M.height,this.children.splice(++h,0,M),M.parent=this}g.lines=g.lines.slice(0,S),this.maybeSpill()}break}a-=b}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var c=a.children.splice(a.children.length-5,5),p=new Pc(c);if(a.parent){a.size-=p.size,a.height-=p.height;var g=Ze(a.parent.children,a);a.parent.children.splice(g+1,0,p)}else{var h=new Pc(a.children);h.parent=a,a.children=[h,p],a=h}p.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,c,p){for(var h=0;h<this.children.length;++h){var g=this.children[h],b=g.chunkSize();if(a<b){var S=Math.min(c,b-a);if(g.iterN(a,S,p))return!0;if((c-=S)==0)break;a=0}else a-=b}}};var Dc=function(a,c,p){if(p)for(var h in p)p.hasOwnProperty(h)&&(this[h]=p[h]);this.doc=a,this.node=c};Dc.prototype.clear=function(){var a=this.doc.cm,c=this.line.widgets,p=this.line,h=$t(p);if(!(h==null||!c)){for(var g=0;g<c.length;++g)c[g]==this&&c.splice(g--,1);c.length||(p.widgets=null);var b=wc(this);fi(p,Math.max(0,p.height-b)),a&&(Lr(a,function(){bx(a,p,-b),ps(a,h,"widget")}),Nn(a,"lineWidgetCleared",a,this,h))}},Dc.prototype.changed=function(){var a=this,c=this.height,p=this.doc.cm,h=this.line;this.height=null;var g=wc(this)-c;g&&(hs(this.doc,h)||fi(h,h.height+g),p&&Lr(p,function(){p.curOp.forceUpdate=!0,bx(p,h,g),Nn(p,"lineWidgetChanged",p,a,$t(h))}))},Xt(Dc);function bx(a,c,p){Eo(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&zv(a,p)}function rP(a,c,p,h){var g=new Dc(a,p,h),b=a.cm;return b&&g.noHScroll&&(b.display.alignWidgets=!0),Lc(a,c,"widget",function(S){var T=S.widgets||(S.widgets=[]);if(g.insertAt==null?T.push(g):T.splice(Math.min(T.length,Math.max(0,g.insertAt)),0,g),g.line=S,b&&!hs(a,S)){var M=Eo(S)<a.scrollTop;fi(S,S.height+wc(g)),M&&zv(b,g.height),b.curOp.forceUpdate=!0}return!0}),b&&Nn(b,"lineWidgetAdded",b,g,typeof c=="number"?c:$t(c)),g}var _x=0,bs=function(a,c){this.lines=[],this.type=c,this.doc=a,this.id=++_x};bs.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,c=a&&!a.curOp;if(c&&xa(a),Kt(this,"clear")){var p=this.find();p&&Nn(this,"clear",p.from,p.to)}for(var h=null,g=null,b=0;b<this.lines.length;++b){var S=this.lines[b],T=yc(S.markedSpans,this);a&&!this.collapsed?ps(a,$t(S),"text"):a&&(T.to!=null&&(g=$t(S)),T.from!=null&&(h=$t(S))),S.markedSpans=GL(S.markedSpans,T),T.from==null&&this.collapsed&&!hs(this.doc,S)&&a&&fi(S,Hl(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var M=0;M<this.lines.length;++M){var B=Ti(this.lines[M]),J=eh(B);J>a.display.maxLineLength&&(a.display.maxLine=B,a.display.maxLineLength=J,a.display.maxLineChanged=!0)}h!=null&&a&&this.collapsed&&_r(a,h,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&ux(a.doc)),a&&Nn(a,"markerCleared",a,this,h,g),c&&Sa(a),this.parent&&this.parent.clear()}},bs.prototype.find=function(a,c){a==null&&this.type=="bookmark"&&(a=1);for(var p,h,g=0;g<this.lines.length;++g){var b=this.lines[g],S=yc(b.markedSpans,this);if(S.from!=null&&(p=se(c?b:$t(b),S.from),a==-1))return p;if(S.to!=null&&(h=se(c?b:$t(b),S.to),a==1))return h}return p&&{from:p,to:h}},bs.prototype.changed=function(){var a=this,c=this.find(-1,!0),p=this,h=this.doc.cm;!c||!h||Lr(h,function(){var g=c.line,b=$t(c.line),S=Sv(h,b);if(S&&(Tk(S),h.curOp.selectionChanged=h.curOp.forceUpdate=!0),h.curOp.updateMaxLine=!0,!hs(p.doc,g)&&p.height!=null){var T=p.height;p.height=null;var M=wc(p)-T;M&&fi(g,g.height+M)}Nn(h,"markerChanged",h,a)})},bs.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(!c.maybeHiddenMarkers||Ze(c.maybeHiddenMarkers,this)==-1)&&(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},bs.prototype.detachLine=function(a){if(this.lines.splice(Ze(this.lines,a),1),!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this)}},Xt(bs);function Yl(a,c,p,h,g){if(h&&h.shared)return iP(a,c,p,h,g);if(a.cm&&!a.cm.curOp)return Ln(a.cm,Yl)(a,c,p,h,g);var b=new bs(a,g),S=we(c,p);if(h&&Ie(h,b,!1),S>0||S==0&&b.clearWhenEmpty!==!1)return b;if(b.replacedWith&&(b.collapsed=!0,b.widgetNode=ae("span",[b.replacedWith],"CodeMirror-widget"),h.handleMouseEvents||b.widgetNode.setAttribute("cm-ignore-events","true"),h.insertLeft&&(b.widgetNode.insertLeft=!0)),b.collapsed){if(ck(a,c.line,c,p,b)||c.line!=p.line&&ck(a,p.line,c,p,b))throw new Error("Inserting collapsed marker partially overlapping an existing one");KL()}b.addToHistory&&nx(a,{from:c,to:p,origin:"markText"},a.sel,NaN);var T=c.line,M=a.cm,B;if(a.iter(T,p.line+1,function(ee){M&&b.collapsed&&!M.options.lineWrapping&&Ti(ee)==M.display.maxLine&&(B=!0),b.collapsed&&T!=c.line&&fi(ee,0),YL(ee,new Jd(b,T==c.line?c.ch:null,T==p.line?p.ch:null),a.cm&&a.cm.curOp),++T}),b.collapsed&&a.iter(c.line,p.line+1,function(ee){hs(a,ee)&&fi(ee,0)}),b.clearOnEnter&&me(b,"beforeCursorEnter",function(){return b.clear()}),b.readOnly&&(qL(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),b.collapsed&&(b.id=++_x,b.atomic=!0),M){if(B&&(M.curOp.updateMaxLine=!0),b.collapsed)_r(M,c.line,p.line+1);else if(b.className||b.startStyle||b.endStyle||b.css||b.attributes||b.title)for(var J=c.line;J<=p.line;J++)ps(M,J,"text");b.atomic&&ux(M.doc),Nn(M,"markerAdded",M,b)}return b}var Rc=function(a,c){this.markers=a,this.primary=c;for(var p=0;p<a.length;++p)a[p].parent=this};Rc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Nn(this,"clear")}},Rc.prototype.find=function(a,c){return this.primary.find(a,c)},Xt(Rc);function iP(a,c,p,h,g){h=Ie(h),h.shared=!1;var b=[Yl(a,c,p,h,g)],S=b[0],T=h.widgetNode;return ys(a,function(M){T&&(h.widgetNode=T.cloneNode(!0)),b.push(Yl(M,dt(M,c),dt(M,p),h,g));for(var B=0;B<M.linked.length;++B)if(M.linked[B].isParent)return;S=G(b)}),new Rc(b,S)}function wx(a){return a.findMarks(se(a.first,0),a.clipPos(se(a.lastLine())),function(c){return c.parent})}function oP(a,c){for(var p=0;p<c.length;p++){var h=c[p],g=h.find(),b=a.clipPos(g.from),S=a.clipPos(g.to);if(we(b,S)){var T=Yl(a,b,S,h.primary,h.primary.type);h.markers.push(T),T.parent=h}}}function sP(a){for(var c=function(h){var g=a[h],b=[g.primary.doc];ys(g.primary.doc,function(M){return b.push(M)});for(var S=0;S<g.markers.length;S++){var T=g.markers[S];Ze(b,T.doc)==-1&&(T.parent=null,g.markers.splice(S--,1))}},p=0;p<a.length;p++)c(p)}var aP=0,wr=function(a,c,p,h,g){if(!(this instanceof wr))return new wr(a,c,p,h,g);p==null&&(p=0),Pc.call(this,[new Ic([new zl("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var b=se(p,0);this.sel=gs(b),this.history=new dh(null),this.id=++aP,this.modeOption=c,this.lineSep=h,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),Uv(this,{from:b,to:b,text:a}),Gn(this,gs(b),at)};wr.prototype=O(Pc.prototype,{constructor:wr,iter:function(a,c,p){p?this.iterN(a-this.first,c-a,p):this.iterN(this.first,this.first+this.size,a)},insert:function(a,c){for(var p=0,h=0;h<c.length;++h)p+=c[h].height;this.insertInner(a-this.first,c,p)},remove:function(a,c){this.removeInner(a-this.first,c)},getValue:function(a){var c=Rl(this,this.first,this.first+this.size);return a===!1?c:c.join(a||this.lineSeparator())},setValue:In(function(a){var c=se(this.first,0),p=this.first+this.size-1;Kl(this,{from:c,to:se(p,Ge(this,p).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&Sc(this.cm,0,0),Gn(this,gs(c),at)}),replaceRange:function(a,c,p,h){c=dt(this,c),p=p?dt(this,p):c,Gl(this,a,c,p,h)},getRange:function(a,c,p){var h=Co(this,dt(this,a),dt(this,c));return p===!1?h:p===""?h.join(""):h.join(p||this.lineSeparator())},getLine:function(a){var c=this.getLineHandle(a);return c&&c.text},getLineHandle:function(a){if(V(this,a))return Ge(this,a)},getLineNumber:function(a){return $t(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=Ge(this,a)),Ti(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return dt(this,a)},getCursor:function(a){var c=this.sel.primary(),p;return a==null||a=="head"?p=c.head:a=="anchor"?p=c.anchor:a=="end"||a=="to"||a===!1?p=c.to():p=c.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:In(function(a,c,p){sx(this,dt(this,typeof a=="number"?se(a,c||0):a),null,p)}),setSelection:In(function(a,c,p){sx(this,dt(this,a),dt(this,c||a),p)}),extendSelection:In(function(a,c,p){ph(this,dt(this,a),c&&dt(this,c),p)}),extendSelections:In(function(a,c){ox(this,Jw(this,a),c)}),extendSelectionsBy:In(function(a,c){var p=Z(this.sel.ranges,a);ox(this,Jw(this,p),c)}),setSelections:In(function(a,c,p){if(a.length){for(var h=[],g=0;g<a.length;g++)h[g]=new Ht(dt(this,a[g].anchor),dt(this,a[g].head||a[g].anchor));c==null&&(c=Math.min(a.length-1,this.sel.primIndex)),Gn(this,Ai(this.cm,h,c),p)}}),addSelection:In(function(a,c,p){var h=this.sel.ranges.slice(0);h.push(new Ht(dt(this,a),dt(this,c||a))),Gn(this,Ai(this.cm,h,h.length-1),p)}),getSelection:function(a){for(var c=this.sel.ranges,p,h=0;h<c.length;h++){var g=Co(this,c[h].from(),c[h].to());p=p?p.concat(g):g}return a===!1?p:p.join(a||this.lineSeparator())},getSelections:function(a){for(var c=[],p=this.sel.ranges,h=0;h<p.length;h++){var g=Co(this,p[h].from(),p[h].to());a!==!1&&(g=g.join(a||this.lineSeparator())),c[h]=g}return c},replaceSelection:function(a,c,p){for(var h=[],g=0;g<this.sel.ranges.length;g++)h[g]=a;this.replaceSelections(h,c,p||"+input")},replaceSelections:In(function(a,c,p){for(var h=[],g=this.sel,b=0;b<g.ranges.length;b++){var S=g.ranges[b];h[b]={from:S.from(),to:S.to(),text:this.splitLines(a[b]),origin:p}}for(var T=c&&c!="end"&&GI(this,h,c),M=h.length-1;M>=0;M--)Kl(this,h[M]);T?ax(this,T):this.cm&&jl(this.cm)}),undo:In(function(){vh(this,"undo")}),redo:In(function(){vh(this,"redo")}),undoSelection:In(function(){vh(this,"undo",!0)}),redoSelection:In(function(){vh(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,c=0,p=0,h=0;h<a.done.length;h++)a.done[h].ranges||++c;for(var g=0;g<a.undone.length;g++)a.undone[g].ranges||++p;return{undo:c,redo:p}},clearHistory:function(){var a=this;this.history=new dh(this.history),ys(this,function(c){return c.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Ul(this.history.done),undone:Ul(this.history.undone)}},setHistory:function(a){var c=this.history=new dh(this.history);c.done=Ul(a.done.slice(0),null,!0),c.undone=Ul(a.undone.slice(0),null,!0)},setGutterMarker:In(function(a,c,p){return Lc(this,a,"gutter",function(h){var g=h.gutterMarkers||(h.gutterMarkers={});return g[c]=p,!p&&le(g)&&(h.gutterMarkers=null),!0})}),clearGutter:In(function(a){var c=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[a]&&Lc(c,p,"gutter",function(){return p.gutterMarkers[a]=null,le(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(a){var c;if(typeof a=="number"){if(!V(this,a)||(c=a,a=Ge(this,a),!a))return null}else if(c=$t(a),c==null)return null;return{line:c,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:In(function(a,c,p){return Lc(this,a,c=="gutter"?"gutter":"class",function(h){var g=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass";if(!h[g])h[g]=p;else{if(R(p).test(h[g]))return!1;h[g]+=" "+p}return!0})}),removeLineClass:In(function(a,c,p){return Lc(this,a,c=="gutter"?"gutter":"class",function(h){var g=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass",b=h[g];if(b)if(p==null)h[g]=null;else{var S=b.match(R(p));if(!S)return!1;var T=S.index+S[0].length;h[g]=b.slice(0,S.index)+(!S.index||T==b.length?"":" ")+b.slice(T)||null}else return!1;return!0})}),addLineWidget:In(function(a,c,p){return rP(this,a,c,p)}),removeLineWidget:function(a){a.clear()},markText:function(a,c,p){return Yl(this,dt(this,a),dt(this,c),p,p&&p.type||"range")},setBookmark:function(a,c){var p={replacedWith:c&&(c.nodeType==null?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};return a=dt(this,a),Yl(this,a,a,p,"bookmark")},findMarksAt:function(a){a=dt(this,a);var c=[],p=Ge(this,a.line).markedSpans;if(p)for(var h=0;h<p.length;++h){var g=p[h];(g.from==null||g.from<=a.ch)&&(g.to==null||g.to>=a.ch)&&c.push(g.marker.parent||g.marker)}return c},findMarks:function(a,c,p){a=dt(this,a),c=dt(this,c);var h=[],g=a.line;return this.iter(a.line,c.line+1,function(b){var S=b.markedSpans;if(S)for(var T=0;T<S.length;T++){var M=S[T];!(M.to!=null&&g==a.line&&a.ch>=M.to||M.from==null&&g!=a.line||M.from!=null&&g==c.line&&M.from>=c.ch)&&(!p||p(M.marker))&&h.push(M.marker.parent||M.marker)}++g}),h},getAllMarks:function(){var a=[];return this.iter(function(c){var p=c.markedSpans;if(p)for(var h=0;h<p.length;++h)p[h].from!=null&&a.push(p[h].marker)}),a},posFromIndex:function(a){var c,p=this.first,h=this.lineSeparator().length;return this.iter(function(g){var b=g.text.length+h;if(b>a)return c=a,!0;a-=b,++p}),dt(this,se(p,c))},indexFromPos:function(a){a=dt(this,a);var c=a.ch;if(a.line<this.first||a.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,a.line,function(h){c+=h.text.length+p}),c},copy:function(a){var c=new wr(Rl(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return c.scrollTop=this.scrollTop,c.scrollLeft=this.scrollLeft,c.sel=this.sel,c.extend=!1,a&&(c.history.undoDepth=this.history.undoDepth,c.setHistory(this.getHistory())),c},linkedDoc:function(a){a||(a={});var c=this.first,p=this.first+this.size;a.from!=null&&a.from>c&&(c=a.from),a.to!=null&&a.to<p&&(p=a.to);var h=new wr(Rl(this,c,p),a.mode||this.modeOption,c,this.lineSep,this.direction);return a.sharedHist&&(h.history=this.history),(this.linked||(this.linked=[])).push({doc:h,sharedHist:a.sharedHist}),h.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],oP(h,wx(this)),h},unlinkDoc:function(a){if(a instanceof Qt&&(a=a.doc),this.linked)for(var c=0;c<this.linked.length;++c){var p=this.linked[c];if(p.doc==a){this.linked.splice(c,1),a.unlinkDoc(this),sP(wx(this));break}}if(a.history==this.history){var h=[a.id];ys(a,function(g){return h.push(g.id)},!0),a.history=new dh(null),a.history.done=Ul(this.history.done,h),a.history.undone=Ul(this.history.undone,h)}},iterLinkedDocs:function(a){ys(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):mc(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:In(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(c){return c.order=null}),this.cm&&YI(this.cm))})}),wr.prototype.eachLine=wr.prototype.iter;var kx=0;function lP(a){var c=this;if(xx(c),!(Tt(c,a)||Ao(c.display,a))){Gt(a),u&&(kx=+new Date);var p=ba(c,a,!0),h=a.dataTransfer.files;if(!(!p||c.isReadOnly()))if(h&&h.length&&window.FileReader&&window.File)for(var g=h.length,b=Array(g),S=0,T=function(){++S==g&&Ln(c,function(){p=dt(c.doc,p);var ue={from:p,to:p,text:c.doc.splitLines(b.filter(function(ke){return ke!=null}).join(c.doc.lineSeparator())),origin:"paste"};Kl(c.doc,ue),ax(c.doc,gs(dt(c.doc,p),dt(c.doc,vs(ue))))})()},M=function(ue,ke){if(c.options.allowDropFileTypes&&Ze(c.options.allowDropFileTypes,ue.type)==-1){T();return}var Ce=new FileReader;Ce.onerror=function(){return T()},Ce.onload=function(){var Me=Ce.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Me)){T();return}b[ke]=Me,T()},Ce.readAsText(ue)},B=0;B<h.length;B++)M(h[B],B);else{if(c.state.draggingText&&c.doc.sel.contains(p)>-1){c.state.draggingText(a),setTimeout(function(){return c.display.input.focus()},20);return}try{var J=a.dataTransfer.getData("Text");if(J){var ee;if(c.state.draggingText&&!c.state.draggingText.copy&&(ee=c.listSelections()),mh(c.doc,gs(p,p)),ee)for(var fe=0;fe<ee.length;++fe)Gl(c.doc,"",ee[fe].anchor,ee[fe].head,"drag");c.replaceSelection(J,"around","paste"),c.display.input.focus()}}catch{}}}}function uP(a,c){if(u&&(!a.state.draggingText||+new Date-kx<100)){Yr(c);return}if(!(Tt(a,c)||Ao(a.display,c))&&(c.dataTransfer.setData("Text",a.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!C)){var p=D("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_&&(p.width=p.height=1,a.display.wrapper.appendChild(p),p._top=p.offsetTop),c.dataTransfer.setDragImage(p,0,0),_&&p.parentNode.removeChild(p)}}function cP(a,c){var p=ba(a,c);if(p){var h=document.createDocumentFragment();Lv(a,p,h),a.display.dragCursor||(a.display.dragCursor=D("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),oe(a.display.dragCursor,h)}}function xx(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Sx(a){if(document.getElementsByClassName){for(var c=document.getElementsByClassName("CodeMirror"),p=[],h=0;h<c.length;h++){var g=c[h].CodeMirror;g&&p.push(g)}p.length&&p[0].operation(function(){for(var b=0;b<p.length;b++)a(p[b])})}}var Cx=!1;function fP(){Cx||(dP(),Cx=!0)}function dP(){var a;me(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,Sx(hP)},100))}),me(window,"blur",function(){return Sx(Vl)})}function hP(a){var c=a.display;c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.scrollbarsClipped=!1,a.setSize()}for(var _s={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},zc=0;zc<10;zc++)_s[zc+48]=_s[zc+96]=String(zc);for(var yh=65;yh<=90;yh++)_s[yh]=String.fromCharCode(yh);for(var Bc=1;Bc<=12;Bc++)_s[Bc+111]=_s[Bc+63235]="F"+Bc;var Mo={};Mo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Mo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Mo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Mo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Mo.default=H?Mo.macDefault:Mo.pcDefault;function pP(a){var c=a.split(/-(?!$)/);a=c[c.length-1];for(var p,h,g,b,S=0;S<c.length-1;S++){var T=c[S];if(/^(cmd|meta|m)$/i.test(T))b=!0;else if(/^a(lt)?$/i.test(T))p=!0;else if(/^(c|ctrl|control)$/i.test(T))h=!0;else if(/^s(hift)?$/i.test(T))g=!0;else throw new Error("Unrecognized modifier name: "+T)}return p&&(a="Alt-"+a),h&&(a="Ctrl-"+a),b&&(a="Cmd-"+a),g&&(a="Shift-"+a),a}function mP(a){var c={};for(var p in a)if(a.hasOwnProperty(p)){var h=a[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(h=="..."){delete a[p];continue}for(var g=Z(p.split(" "),pP),b=0;b<g.length;b++){var S=void 0,T=void 0;b==g.length-1?(T=g.join(" "),S=h):(T=g.slice(0,b+1).join(" "),S="...");var M=c[T];if(!M)c[T]=S;else if(M!=S)throw new Error("Inconsistent bindings for "+T)}delete a[p]}for(var B in c)a[B]=c[B];return a}function Jl(a,c,p,h){c=bh(c);var g=c.call?c.call(a,h):c[a];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&p(g))return"handled";if(c.fallthrough){if(Object.prototype.toString.call(c.fallthrough)!="[object Array]")return Jl(a,c.fallthrough,p,h);for(var b=0;b<c.fallthrough.length;b++){var S=Jl(a,c.fallthrough[b],p,h);if(S)return S}}}function Tx(a){var c=typeof a=="string"?a:_s[a.keyCode];return c=="Ctrl"||c=="Alt"||c=="Shift"||c=="Mod"}function Ex(a,c,p){var h=a;return c.altKey&&h!="Alt"&&(a="Alt-"+a),(z?c.metaKey:c.ctrlKey)&&h!="Ctrl"&&(a="Ctrl-"+a),(z?c.ctrlKey:c.metaKey)&&h!="Mod"&&(a="Cmd-"+a),!p&&c.shiftKey&&h!="Shift"&&(a="Shift-"+a),a}function Ax(a,c){if(_&&a.keyCode==34&&a.char)return!1;var p=_s[a.keyCode];return p==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(p=a.code),Ex(p,a,c))}function bh(a){return typeof a=="string"?Mo[a]:a}function Xl(a,c){for(var p=a.doc.sel.ranges,h=[],g=0;g<p.length;g++){for(var b=c(p[g]);h.length&&we(b.from,G(h).to)<=0;){var S=h.pop();if(we(S.from,b.from)<0){b.from=S.from;break}}h.push(b)}Lr(a,function(){for(var T=h.length-1;T>=0;T--)Gl(a.doc,"",h[T].from,h[T].to,"+delete");jl(a)})}function Yv(a,c,p){var h=Y(a.text,c+p,p);return h<0||h>a.text.length?null:h}function Jv(a,c,p){var h=Yv(a,c.ch,p);return h==null?null:new se(c.line,h,p<0?"after":"before")}function Xv(a,c,p,h,g){if(a){c.doc.direction=="rtl"&&(g=-g);var b=Ae(p,c.doc.direction);if(b){var S=g<0?G(b):b[0],T=g<0==(S.level==1),M=T?"after":"before",B;if(S.level>0||c.doc.direction=="rtl"){var J=$l(c,p);B=g<0?p.text.length-1:0;var ee=eo(c,J,B).top;B=X(function(fe){return eo(c,J,fe).top==ee},g<0==(S.level==1)?S.from:S.to-1,B),M=="before"&&(B=Yv(p,B,1))}else B=g<0?S.to:S.from;return new se(h,B,M)}}return new se(h,g<0?p.text.length:0,g<0?"before":"after")}function gP(a,c,p,h){var g=Ae(c,a.doc.direction);if(!g)return Jv(c,p,h);p.ch>=c.text.length?(p.ch=c.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var b=je(g,p.ch,p.sticky),S=g[b];if(a.doc.direction=="ltr"&&S.level%2==0&&(h>0?S.to>p.ch:S.from<p.ch))return Jv(c,p,h);var T=function(De,$e){return Yv(c,De instanceof se?De.ch:De,$e)},M,B=function(De){return a.options.lineWrapping?(M=M||$l(a,c),Ik(a,c,M,De)):{begin:0,end:c.text.length}},J=B(p.sticky=="before"?T(p,-1):p.ch);if(a.doc.direction=="rtl"||S.level==1){var ee=S.level==1==h<0,fe=T(p,ee?1:-1);if(fe!=null&&(ee?fe<=S.to&&fe<=J.end:fe>=S.from&&fe>=J.begin)){var ue=ee?"before":"after";return new se(p.line,fe,ue)}}var ke=function(De,$e,Re){for(var Ve=function(Yt,Pn){return Pn?new se(p.line,T(Yt,1),"before"):new se(p.line,Yt,"after")};De>=0&&De<g.length;De+=$e){var nt=g[De],et=$e>0==(nt.level!=1),St=et?Re.begin:T(Re.end,-1);if(nt.from<=St&&St<nt.to||(St=et?nt.from:T(nt.to,-1),Re.begin<=St&&St<Re.end))return Ve(St,et)}},Ce=ke(b+h,h,J);if(Ce)return Ce;var Me=h>0?J.end:T(J.begin,-1);return Me!=null&&!(h>0&&Me==c.text.length)&&(Ce=ke(h>0?0:g.length-1,h,B(Me)),Ce)?Ce:null}var $c={selectAll:dx,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),at)},killLine:function(a){return Xl(a,function(c){if(c.empty()){var p=Ge(a.doc,c.head.line).text.length;return c.head.ch==p&&c.head.line<a.lastLine()?{from:c.head,to:se(c.head.line+1,0)}:{from:c.head,to:se(c.head.line,p)}}else return{from:c.from(),to:c.to()}})},deleteLine:function(a){return Xl(a,function(c){return{from:se(c.from().line,0),to:dt(a.doc,se(c.to().line+1,0))}})},delLineLeft:function(a){return Xl(a,function(c){return{from:se(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(a){return Xl(a,function(c){var p=a.charCoords(c.head,"div").top+5,h=a.coordsChar({left:0,top:p},"div");return{from:h,to:c.from()}})},delWrappedLineRight:function(a){return Xl(a,function(c){var p=a.charCoords(c.head,"div").top+5,h=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div");return{from:c.from(),to:h}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(se(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(se(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(c){return Ox(a,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(c){return Mx(a,c.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(c){return vP(a,c.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(c){var p=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div")},te)},goLineLeft:function(a){return a.extendSelectionsBy(function(c){var p=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:0,top:p},"div")},te)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(c){var p=a.cursorCoords(c.head,"div").top+5,h=a.coordsChar({left:0,top:p},"div");return h.ch<a.getLine(h.line).search(/\S/)?Mx(a,c.head):h},te)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var c=[],p=a.listSelections(),h=a.options.tabSize,g=0;g<p.length;g++){var b=p[g].from(),S=Be(a.getLine(b.line),b.ch,h);c.push(xe(h-S%h))}a.replaceSelections(c)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Lr(a,function(){for(var c=a.listSelections(),p=[],h=0;h<c.length;h++)if(c[h].empty()){var g=c[h].head,b=Ge(a.doc,g.line).text;if(b){if(g.ch==b.length&&(g=new se(g.line,g.ch-1)),g.ch>0)g=new se(g.line,g.ch+1),a.replaceRange(b.charAt(g.ch-1)+b.charAt(g.ch-2),se(g.line,g.ch-2),g,"+transpose");else if(g.line>a.doc.first){var S=Ge(a.doc,g.line-1).text;S&&(g=new se(g.line,1),a.replaceRange(b.charAt(0)+a.doc.lineSeparator()+S.charAt(S.length-1),se(g.line-1,S.length-1),g,"+transpose"))}}p.push(new Ht(g,g))}a.setSelections(p)})},newlineAndIndent:function(a){return Lr(a,function(){for(var c=a.listSelections(),p=c.length-1;p>=0;p--)a.replaceRange(a.doc.lineSeparator(),c[p].anchor,c[p].head,"+input");c=a.listSelections();for(var h=0;h<c.length;h++)a.indentLine(c[h].from().line,null,!0);jl(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function Ox(a,c){var p=Ge(a.doc,c),h=Ti(p);return h!=p&&(c=$t(h)),Xv(!0,a,h,c,1)}function vP(a,c){var p=Ge(a.doc,c),h=eI(p);return h!=p&&(c=$t(h)),Xv(!0,a,p,c,-1)}function Mx(a,c){var p=Ox(a,c.line),h=Ge(a.doc,p.line),g=Ae(h,a.doc.direction);if(!g||g[0].level==0){var b=Math.max(p.ch,h.text.search(/\S/)),S=c.line==p.line&&c.ch<=b&&c.ch;return se(p.line,S?0:b,p.sticky)}return p}function _h(a,c,p){if(typeof c=="string"&&(c=$c[c],!c))return!1;a.display.input.ensurePolled();var h=a.display.shift,g=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),p&&(a.display.shift=!1),g=c(a)!=Fe}finally{a.display.shift=h,a.state.suppressEdits=!1}return g}function yP(a,c,p){for(var h=0;h<a.state.keyMaps.length;h++){var g=Jl(c,a.state.keyMaps[h],p,a);if(g)return g}return a.options.extraKeys&&Jl(c,a.options.extraKeys,p,a)||Jl(c,a.options.keyMap,p,a)}var bP=new Ee;function Hc(a,c,p,h){var g=a.state.keySeq;if(g){if(Tx(c))return"handled";if(/\'$/.test(c)?a.state.keySeq=null:bP.set(50,function(){a.state.keySeq==g&&(a.state.keySeq=null,a.display.input.reset())}),Nx(a,g+" "+c,p,h))return!0}return Nx(a,c,p,h)}function Nx(a,c,p,h){var g=yP(a,c,h);return g=="multi"&&(a.state.keySeq=c),g=="handled"&&Nn(a,"keyHandled",a,c,p),(g=="handled"||g=="multi")&&(Gt(p),Iv(a)),!!g}function Lx(a,c){var p=Ax(c,!0);return p?c.shiftKey&&!a.state.keySeq?Hc(a,"Shift-"+p,c,function(h){return _h(a,h,!0)})||Hc(a,p,c,function(h){if(typeof h=="string"?/^go[A-Z]/.test(h):h.motion)return _h(a,h)}):Hc(a,p,c,function(h){return _h(a,h)}):!1}function _P(a,c,p){return Hc(a,"'"+p+"'",c,function(h){return _h(a,h,!0)})}var Zv=null;function Ix(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField())&&(c.curOp.focus=ze(_t(c)),!Tt(c,a))){u&&f<11&&a.keyCode==27&&(a.returnValue=!1);var p=a.keyCode;c.display.shift=p==16||a.shiftKey;var h=Lx(c,a);_&&(Zv=h?p:null,!h&&p==88&&!Yi&&(H?a.metaKey:a.ctrlKey)&&c.replaceSelection("",null,"cut")),i&&!H&&!h&&p==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)&&wP(c)}}function wP(a){var c=a.display.lineDiv;qe(c,"CodeMirror-crosshair");function p(h){(h.keyCode==18||!h.altKey)&&(U(c,"CodeMirror-crosshair"),ct(document,"keyup",p),ct(document,"mouseover",p))}me(document,"keyup",p),me(document,"mouseover",p)}function Px(a){a.keyCode==16&&(this.doc.sel.shift=!1),Tt(this,a)}function Dx(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField())&&!(Ao(c.display,a)||Tt(c,a)||a.ctrlKey&&!a.altKey||H&&a.metaKey)){var p=a.keyCode,h=a.charCode;if(_&&p==Zv){Zv=null,Gt(a);return}if(!(_&&(!a.which||a.which<10)&&Lx(c,a))){var g=String.fromCharCode(h??p);g!="\b"&&(_P(c,a,g)||c.display.input.onKeyPress(a))}}}var kP=400,Qv=function(a,c,p){this.time=a,this.pos=c,this.button=p};Qv.prototype.compare=function(a,c,p){return this.time+kP>a&&we(c,this.pos)==0&&p==this.button};var Fc,Vc;function xP(a,c){var p=+new Date;return Vc&&Vc.compare(p,a,c)?(Fc=Vc=null,"triple"):Fc&&Fc.compare(p,a,c)?(Vc=new Qv(p,a,c),Fc=null,"double"):(Fc=new Qv(p,a,c),Vc=null,"single")}function Rx(a){var c=this,p=c.display;if(!(Tt(c,a)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=a.shiftKey,Ao(p,a)){d||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!ey(c,a)){var h=ba(c,a),g=pc(a),b=h?xP(h,g):"single";bt(c).focus(),g==1&&c.state.selectingText&&c.state.selectingText(a),!(h&&SP(c,g,h,b,a))&&(g==1?h?TP(c,h,b,a):Sn(a)==p.scroller&&Gt(a):g==2?(h&&ph(c.doc,h),setTimeout(function(){return p.input.focus()},20)):g==3&&(w?c.display.input.onContextMenu(a):Pv(c)))}}}function SP(a,c,p,h,g){var b="Click";return h=="double"?b="Double"+b:h=="triple"&&(b="Triple"+b),b=(c==1?"Left":c==2?"Middle":"Right")+b,Hc(a,Ex(b,g),g,function(S){if(typeof S=="string"&&(S=$c[S]),!S)return!1;var T=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),T=S(a,p)!=Fe}finally{a.state.suppressEdits=!1}return T})}function CP(a,c,p){var h=a.getOption("configureMouse"),g=h?h(a,c,p):{};if(g.unit==null){var b=I?p.shiftKey&&p.metaKey:p.altKey;g.unit=b?"rectangle":c=="single"?"char":c=="double"?"word":"line"}return(g.extend==null||a.doc.extend)&&(g.extend=a.doc.extend||p.shiftKey),g.addNew==null&&(g.addNew=H?p.metaKey:p.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(H?p.altKey:p.ctrlKey)),g}function TP(a,c,p,h){u?setTimeout(Xe(zk,a),0):a.curOp.focus=ze(_t(a));var g=CP(a,p,h),b=a.doc.sel,S;a.options.dragDrop&&dv&&!a.isReadOnly()&&p=="single"&&(S=b.contains(c))>-1&&(we((S=b.ranges[S]).from(),c)<0||c.xRel>0)&&(we(S.to(),c)>0||c.xRel<0)?EP(a,h,c,g):AP(a,h,c,g)}function EP(a,c,p,h){var g=a.display,b=!1,S=Ln(a,function(B){d&&(g.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:Pv(a)),ct(g.wrapper.ownerDocument,"mouseup",S),ct(g.wrapper.ownerDocument,"mousemove",T),ct(g.scroller,"dragstart",M),ct(g.scroller,"drop",S),b||(Gt(B),h.addNew||ph(a.doc,p,null,null,h.extend),d&&!C||u&&f==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),T=function(B){b=b||Math.abs(c.clientX-B.clientX)+Math.abs(c.clientY-B.clientY)>=10},M=function(){return b=!0};d&&(g.scroller.draggable=!0),a.state.draggingText=S,S.copy=!h.moveOnDrag,me(g.wrapper.ownerDocument,"mouseup",S),me(g.wrapper.ownerDocument,"mousemove",T),me(g.scroller,"dragstart",M),me(g.scroller,"drop",S),a.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function zx(a,c,p){if(p=="char")return new Ht(c,c);if(p=="word")return a.findWordAt(c);if(p=="line")return new Ht(se(c.line,0),dt(a.doc,se(c.line+1,0)));var h=p(a,c);return new Ht(h.from,h.to)}function AP(a,c,p,h){u&&Pv(a);var g=a.display,b=a.doc;Gt(c);var S,T,M=b.sel,B=M.ranges;if(h.addNew&&!h.extend?(T=b.sel.contains(p),T>-1?S=B[T]:S=new Ht(p,p)):(S=b.sel.primary(),T=b.sel.primIndex),h.unit=="rectangle")h.addNew||(S=new Ht(p,p)),p=ba(a,c,!0,!0),T=-1;else{var J=zx(a,p,h.unit);h.extend?S=Kv(S,J.anchor,J.head,h.extend):S=J}h.addNew?T==-1?(T=B.length,Gn(b,Ai(a,B.concat([S]),T),{scroll:!1,origin:"*mouse"})):B.length>1&&B[T].empty()&&h.unit=="char"&&!h.extend?(Gn(b,Ai(a,B.slice(0,T).concat(B.slice(T+1)),0),{scroll:!1,origin:"*mouse"}),M=b.sel):Gv(b,T,S,ie):(T=0,Gn(b,new Xr([S],0),ie),M=b.sel);var ee=p;function fe(Re){if(we(ee,Re)!=0)if(ee=Re,h.unit=="rectangle"){for(var Ve=[],nt=a.options.tabSize,et=Be(Ge(b,p.line).text,p.ch,nt),St=Be(Ge(b,Re.line).text,Re.ch,nt),Yt=Math.min(et,St),Pn=Math.max(et,St),sn=Math.min(p.line,Re.line),Ir=Math.min(a.lastLine(),Math.max(p.line,Re.line));sn<=Ir;sn++){var kr=Ge(b,sn).text,wn=be(kr,Yt,nt);Yt==Pn?Ve.push(new Ht(se(sn,wn),se(sn,wn))):kr.length>wn&&Ve.push(new Ht(se(sn,wn),se(sn,be(kr,Pn,nt))))}Ve.length||Ve.push(new Ht(p,p)),Gn(b,Ai(a,M.ranges.slice(0,T).concat(Ve),T),{origin:"*mouse",scroll:!1}),a.scrollIntoView(Re)}else{var xr=S,jn=zx(a,Re,h.unit),Tn=xr.anchor,kn;we(jn.anchor,Tn)>0?(kn=jn.head,Tn=Cn(xr.from(),jn.anchor)):(kn=jn.anchor,Tn=It(xr.to(),jn.head));var un=M.ranges.slice(0);un[T]=OP(a,new Ht(dt(b,Tn),kn)),Gn(b,Ai(a,un,T),ie)}}var ue=g.wrapper.getBoundingClientRect(),ke=0;function Ce(Re){var Ve=++ke,nt=ba(a,Re,!0,h.unit=="rectangle");if(nt)if(we(nt,ee)!=0){a.curOp.focus=ze(_t(a)),fe(nt);var et=lh(g,b);(nt.line>=et.to||nt.line<et.from)&&setTimeout(Ln(a,function(){ke==Ve&&Ce(Re)}),150)}else{var St=Re.clientY<ue.top?-20:Re.clientY>ue.bottom?20:0;St&&setTimeout(Ln(a,function(){ke==Ve&&(g.scroller.scrollTop+=St,Ce(Re))}),50)}}function Me(Re){a.state.selectingText=!1,ke=1/0,Re&&(Gt(Re),g.input.focus()),ct(g.wrapper.ownerDocument,"mousemove",De),ct(g.wrapper.ownerDocument,"mouseup",$e),b.history.lastSelOrigin=null}var De=Ln(a,function(Re){Re.buttons===0||!pc(Re)?Me(Re):Ce(Re)}),$e=Ln(a,Me);a.state.selectingText=$e,me(g.wrapper.ownerDocument,"mousemove",De),me(g.wrapper.ownerDocument,"mouseup",$e)}function OP(a,c){var p=c.anchor,h=c.head,g=Ge(a.doc,p.line);if(we(p,h)==0&&p.sticky==h.sticky)return c;var b=Ae(g);if(!b)return c;var S=je(b,p.ch,p.sticky),T=b[S];if(T.from!=p.ch&&T.to!=p.ch)return c;var M=S+(T.from==p.ch==(T.level!=1)?0:1);if(M==0||M==b.length)return c;var B;if(h.line!=p.line)B=(h.line-p.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var J=je(b,h.ch,h.sticky),ee=J-S||(h.ch-p.ch)*(T.level==1?-1:1);J==M-1||J==M?B=ee<0:B=ee>0}var fe=b[M+(B?-1:0)],ue=B==(fe.level==1),ke=ue?fe.from:fe.to,Ce=ue?"after":"before";return p.ch==ke&&p.sticky==Ce?c:new Ht(new se(p.line,ke,Ce),h)}function Bx(a,c,p,h){var g,b;if(c.touches)g=c.touches[0].clientX,b=c.touches[0].clientY;else try{g=c.clientX,b=c.clientY}catch{return!1}if(g>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;h&&Gt(c);var S=a.display,T=S.lineDiv.getBoundingClientRect();if(b>T.bottom||!Kt(a,p))return Gr(c);b-=T.top-S.viewOffset;for(var M=0;M<a.display.gutterSpecs.length;++M){var B=S.gutters.childNodes[M];if(B&&B.getBoundingClientRect().right>=g){var J=Xi(a.doc,b),ee=a.display.gutterSpecs[M];return ot(a,p,a,J,ee.className,c),Gr(c)}}}function ey(a,c){return Bx(a,c,"gutterClick",!0)}function $x(a,c){Ao(a.display,c)||MP(a,c)||Tt(a,c,"contextmenu")||w||a.display.input.onContextMenu(c)}function MP(a,c){return Kt(a,"gutterContextMenu")?Bx(a,c,"gutterContextMenu",!1):!1}function Hx(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),kc(a)}var Zl={toString:function(){return"CodeMirror.Init"}},Fx={},wh={};function NP(a){var c=a.optionHandlers;function p(h,g,b,S){a.defaults[h]=g,b&&(c[h]=S?function(T,M,B){B!=Zl&&b(T,M,B)}:b)}a.defineOption=p,a.Init=Zl,p("value","",function(h,g){return h.setValue(g)},!0),p("mode",null,function(h,g){h.doc.modeOption=g,Wv(h)},!0),p("indentUnit",2,Wv,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(h){Mc(h),kc(h),_r(h)},!0),p("lineSeparator",null,function(h,g){if(h.doc.lineSep=g,!!g){var b=[],S=h.doc.first;h.doc.iter(function(M){for(var B=0;;){var J=M.text.indexOf(g,B);if(J==-1)break;B=J+g.length,b.push(se(S,J))}S++});for(var T=b.length-1;T>=0;T--)Gl(h.doc,g,b[T],se(b[T].line,b[T].ch+g.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(h,g,b){h.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),b!=Zl&&h.refresh()}),p("specialCharPlaceholder",sI,function(h){return h.refresh()},!0),p("electricChars",!0),p("inputStyle",E?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(h,g){return h.getInputField().spellcheck=g},!0),p("autocorrect",!1,function(h,g){return h.getInputField().autocorrect=g},!0),p("autocapitalize",!1,function(h,g){return h.getInputField().autocapitalize=g},!0),p("rtlMoveVisually",!q),p("wholeLineUpdateBefore",!0),p("theme","default",function(h){Hx(h),Oc(h)},!0),p("keyMap","default",function(h,g,b){var S=bh(g),T=b!=Zl&&bh(b);T&&T.detach&&T.detach(h,S),S.attach&&S.attach(h,T||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,IP,!0),p("gutters",[],function(h,g){h.display.gutterSpecs=Vv(g,h.options.lineNumbers),Oc(h)},!0),p("fixedGutter",!0,function(h,g){h.display.gutters.style.left=g?Mv(h.display)+"px":"0",h.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(h){return Wl(h)},!0),p("scrollbarStyle","native",function(h){jk(h),Wl(h),h.display.scrollbars.setScrollTop(h.doc.scrollTop),h.display.scrollbars.setScrollLeft(h.doc.scrollLeft)},!0),p("lineNumbers",!1,function(h,g){h.display.gutterSpecs=Vv(h.options.gutters,g),Oc(h)},!0),p("firstLineNumber",1,Oc,!0),p("lineNumberFormatter",function(h){return h},Oc,!0),p("showCursorWhenSelecting",!1,xc,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(h,g){g=="nocursor"&&(Vl(h),h.display.input.blur()),h.display.input.readOnlyChanged(g)}),p("screenReaderLabel",null,function(h,g){g=g===""?null:g,h.display.input.screenReaderLabelChanged(g)}),p("disableInput",!1,function(h,g){g||h.display.input.reset()},!0),p("dragDrop",!0,LP),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,xc,!0),p("singleCursorHeightPerLine",!0,xc,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Mc,!0),p("addModeClass",!1,Mc,!0),p("pollInterval",100),p("undoDepth",200,function(h,g){return h.doc.history.undoDepth=g}),p("historyEventDelay",1250),p("viewportMargin",10,function(h){return h.refresh()},!0),p("maxHighlightLength",1e4,Mc,!0),p("moveInputWithCursor",!0,function(h,g){g||h.display.input.resetPosition()}),p("tabindex",null,function(h,g){return h.display.input.getField().tabIndex=g||""}),p("autofocus",null),p("direction","ltr",function(h,g){return h.doc.setDirection(g)},!0),p("phrases",null)}function LP(a,c,p){var h=p&&p!=Zl;if(!c!=!h){var g=a.display.dragFunctions,b=c?me:ct;b(a.display.scroller,"dragstart",g.start),b(a.display.scroller,"dragenter",g.enter),b(a.display.scroller,"dragover",g.over),b(a.display.scroller,"dragleave",g.leave),b(a.display.scroller,"drop",g.drop)}}function IP(a){a.options.lineWrapping?(qe(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(U(a.display.wrapper,"CodeMirror-wrap"),_v(a)),Nv(a),_r(a),kc(a),setTimeout(function(){return Wl(a)},100)}function Qt(a,c){var p=this;if(!(this instanceof Qt))return new Qt(a,c);this.options=c=c?Ie(c):{},Ie(Fx,c,!1);var h=c.value;typeof h=="string"?h=new wr(h,c.mode,null,c.lineSeparator,c.direction):c.mode&&(h.modeOption=c.mode),this.doc=h;var g=new Qt.inputStyles[c.inputStyle](this),b=this.display=new qI(a,h,g,c);b.wrapper.CodeMirror=this,Hx(this),c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),jk(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ee,keySeq:null,specialChars:null},c.autofocus&&!E&&b.input.focus(),u&&f<11&&setTimeout(function(){return p.display.input.reset(!0)},20),PP(this),fP(),xa(this),this.curOp.forceUpdate=!0,Qk(this,h),c.autofocus&&!E||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Dv(p)},20):Vl(this);for(var S in wh)wh.hasOwnProperty(S)&&wh[S](this,c[S],Zl);qk(this),c.finishInit&&c.finishInit(this);for(var T=0;T<ty.length;++T)ty[T](this);Sa(this),d&&c.lineWrapping&&getComputedStyle(b.lineDiv).textRendering=="optimizelegibility"&&(b.lineDiv.style.textRendering="auto")}Qt.defaults=Fx,Qt.optionHandlers=wh;function PP(a){var c=a.display;me(c.scroller,"mousedown",Ln(a,Rx)),u&&f<11?me(c.scroller,"dblclick",Ln(a,function(M){if(!Tt(a,M)){var B=ba(a,M);if(!(!B||ey(a,M)||Ao(a.display,M))){Gt(M);var J=a.findWordAt(B);ph(a.doc,J.anchor,J.head)}}})):me(c.scroller,"dblclick",function(M){return Tt(a,M)||Gt(M)}),me(c.scroller,"contextmenu",function(M){return $x(a,M)}),me(c.input.getField(),"contextmenu",function(M){c.scroller.contains(M.target)||$x(a,M)});var p,h={end:0};function g(){c.activeTouch&&(p=setTimeout(function(){return c.activeTouch=null},1e3),h=c.activeTouch,h.end=+new Date)}function b(M){if(M.touches.length!=1)return!1;var B=M.touches[0];return B.radiusX<=1&&B.radiusY<=1}function S(M,B){if(B.left==null)return!0;var J=B.left-M.left,ee=B.top-M.top;return J*J+ee*ee>20*20}me(c.scroller,"touchstart",function(M){if(!Tt(a,M)&&!b(M)&&!ey(a,M)){c.input.ensurePolled(),clearTimeout(p);var B=+new Date;c.activeTouch={start:B,moved:!1,prev:B-h.end<=300?h:null},M.touches.length==1&&(c.activeTouch.left=M.touches[0].pageX,c.activeTouch.top=M.touches[0].pageY)}}),me(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),me(c.scroller,"touchend",function(M){var B=c.activeTouch;if(B&&!Ao(c,M)&&B.left!=null&&!B.moved&&new Date-B.start<300){var J=a.coordsChar(c.activeTouch,"page"),ee;!B.prev||S(B,B.prev)?ee=new Ht(J,J):!B.prev.prev||S(B,B.prev.prev)?ee=a.findWordAt(J):ee=new Ht(se(J.line,0),dt(a.doc,se(J.line+1,0))),a.setSelection(ee.anchor,ee.head),a.focus(),Gt(M)}g()}),me(c.scroller,"touchcancel",g),me(c.scroller,"scroll",function(){c.scroller.clientHeight&&(Cc(a,c.scroller.scrollTop),wa(a,c.scroller.scrollLeft,!0),ot(a,"scroll",a))}),me(c.scroller,"mousewheel",function(M){return Yk(a,M)}),me(c.scroller,"DOMMouseScroll",function(M){return Yk(a,M)}),me(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(M){Tt(a,M)||Yr(M)},over:function(M){Tt(a,M)||(cP(a,M),Yr(M))},start:function(M){return uP(a,M)},drop:Ln(a,lP),leave:function(M){Tt(a,M)||xx(a)}};var T=c.input.getField();me(T,"keyup",function(M){return Px.call(a,M)}),me(T,"keydown",Ln(a,Ix)),me(T,"keypress",Ln(a,Dx)),me(T,"focus",function(M){return Dv(a,M)}),me(T,"blur",function(M){return Vl(a,M)})}var ty=[];Qt.defineInitHook=function(a){return ty.push(a)};function jc(a,c,p,h){var g=a.doc,b;p==null&&(p="add"),p=="smart"&&(g.mode.indent?b=vc(a,c).state:p="prev");var S=a.options.tabSize,T=Ge(g,c),M=Be(T.text,null,S);T.stateAfter&&(T.stateAfter=null);var B=T.text.match(/^\s*/)[0],J;if(!h&&!/\S/.test(T.text))J=0,p="not";else if(p=="smart"&&(J=g.mode.indent(b,T.text.slice(B.length),T.text),J==Fe||J>150)){if(!h)return;p="prev"}p=="prev"?c>g.first?J=Be(Ge(g,c-1).text,null,S):J=0:p=="add"?J=M+a.options.indentUnit:p=="subtract"?J=M-a.options.indentUnit:typeof p=="number"&&(J=M+p),J=Math.max(0,J);var ee="",fe=0;if(a.options.indentWithTabs)for(var ue=Math.floor(J/S);ue;--ue)fe+=S,ee+="	";if(fe<J&&(ee+=xe(J-fe)),ee!=B)return Gl(g,ee,se(c,0),se(c,B.length),"+input"),T.stateAfter=null,!0;for(var ke=0;ke<g.sel.ranges.length;ke++){var Ce=g.sel.ranges[ke];if(Ce.head.line==c&&Ce.head.ch<B.length){var Me=se(c,B.length);Gv(g,ke,new Ht(Me,Me));break}}}var Oi=null;function kh(a){Oi=a}function ny(a,c,p,h,g){var b=a.doc;a.display.shift=!1,h||(h=b.sel);var S=+new Date-200,T=g=="paste"||a.state.pasteIncoming>S,M=mc(c),B=null;if(T&&h.ranges.length>1)if(Oi&&Oi.text.join(`
`)==c){if(h.ranges.length%Oi.text.length==0){B=[];for(var J=0;J<Oi.text.length;J++)B.push(b.splitLines(Oi.text[J]))}}else M.length==h.ranges.length&&a.options.pasteLinesPerSelection&&(B=Z(M,function(De){return[De]}));for(var ee=a.curOp.updateInput,fe=h.ranges.length-1;fe>=0;fe--){var ue=h.ranges[fe],ke=ue.from(),Ce=ue.to();ue.empty()&&(p&&p>0?ke=se(ke.line,ke.ch-p):a.state.overwrite&&!T?Ce=se(Ce.line,Math.min(Ge(b,Ce.line).text.length,Ce.ch+G(M).length)):T&&Oi&&Oi.lineWise&&Oi.text.join(`
`)==M.join(`
`)&&(ke=Ce=se(ke.line,0)));var Me={from:ke,to:Ce,text:B?B[fe%B.length]:M,origin:g||(T?"paste":a.state.cutIncoming>S?"cut":"+input")};Kl(a.doc,Me),Nn(a,"inputRead",a,Me)}c&&!T&&jx(a,c),jl(a),a.curOp.updateInput<2&&(a.curOp.updateInput=ee),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function Vx(a,c){var p=a.clipboardData&&a.clipboardData.getData("Text");if(p)return a.preventDefault(),!c.isReadOnly()&&!c.options.disableInput&&c.hasFocus()&&Lr(c,function(){return ny(c,p,0,null,"paste")}),!0}function jx(a,c){if(!(!a.options.electricChars||!a.options.smartIndent))for(var p=a.doc.sel,h=p.ranges.length-1;h>=0;h--){var g=p.ranges[h];if(!(g.head.ch>100||h&&p.ranges[h-1].head.line==g.head.line)){var b=a.getModeAt(g.head),S=!1;if(b.electricChars){for(var T=0;T<b.electricChars.length;T++)if(c.indexOf(b.electricChars.charAt(T))>-1){S=jc(a,g.head.line,"smart");break}}else b.electricInput&&b.electricInput.test(Ge(a.doc,g.head.line).text.slice(0,g.head.ch))&&(S=jc(a,g.head.line,"smart"));S&&Nn(a,"electricInput",a,g.head.line)}}}function Wx(a){for(var c=[],p=[],h=0;h<a.doc.sel.ranges.length;h++){var g=a.doc.sel.ranges[h].head.line,b={anchor:se(g,0),head:se(g+1,0)};p.push(b),c.push(a.getRange(b.anchor,b.head))}return{text:c,ranges:p}}function ry(a,c,p,h){a.setAttribute("autocorrect",p?"on":"off"),a.setAttribute("autocapitalize",h?"on":"off"),a.setAttribute("spellcheck",!!c)}function Ux(){var a=D("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),c=D("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return d?a.style.width="1000px":a.setAttribute("wrap","off"),A&&(a.style.border="1px solid black"),c}function DP(a){var c=a.optionHandlers,p=a.helpers={};a.prototype={constructor:a,focus:function(){bt(this).focus(),this.display.input.focus()},setOption:function(h,g){var b=this.options,S=b[h];b[h]==g&&h!="mode"||(b[h]=g,c.hasOwnProperty(h)&&Ln(this,c[h])(this,g,S),ot(this,"optionChange",this,h))},getOption:function(h){return this.options[h]},getDoc:function(){return this.doc},addKeyMap:function(h,g){this.state.keyMaps[g?"push":"unshift"](bh(h))},removeKeyMap:function(h){for(var g=this.state.keyMaps,b=0;b<g.length;++b)if(g[b]==h||g[b].name==h)return g.splice(b,1),!0},addOverlay:sr(function(h,g){var b=h.token?h:a.getMode(this.options,h);if(b.startState)throw new Error("Overlays may not be stateful.");N(this.state.overlays,{mode:b,modeSpec:h,opaque:g&&g.opaque,priority:g&&g.priority||0},function(S){return S.priority}),this.state.modeGen++,_r(this)}),removeOverlay:sr(function(h){for(var g=this.state.overlays,b=0;b<g.length;++b){var S=g[b].modeSpec;if(S==h||typeof h=="string"&&S.name==h){g.splice(b,1),this.state.modeGen++,_r(this);return}}}),indentLine:sr(function(h,g,b){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),V(this.doc,h)&&jc(this,h,g,b)}),indentSelection:sr(function(h){for(var g=this.doc.sel.ranges,b=-1,S=0;S<g.length;S++){var T=g[S];if(T.empty())T.head.line>b&&(jc(this,T.head.line,h,!0),b=T.head.line,S==this.doc.sel.primIndex&&jl(this));else{var M=T.from(),B=T.to(),J=Math.max(b,M.line);b=Math.min(this.lastLine(),B.line-(B.ch?0:1))+1;for(var ee=J;ee<b;++ee)jc(this,ee,h);var fe=this.doc.sel.ranges;M.ch==0&&g.length==fe.length&&fe[S].from().ch>0&&Gv(this.doc,S,new Ht(M,fe[S].to()),at)}}}),getTokenAt:function(h,g){return tk(this,h,g)},getLineTokens:function(h,g){return tk(this,se(h),g,!0)},getTokenTypeAt:function(h){h=dt(this.doc,h);var g=Zw(this,Ge(this.doc,h.line)),b=0,S=(g.length-1)/2,T=h.ch,M;if(T==0)M=g[2];else for(;;){var B=b+S>>1;if((B?g[B*2-1]:0)>=T)S=B;else if(g[B*2+1]<T)b=B+1;else{M=g[B*2+2];break}}var J=M?M.indexOf("overlay "):-1;return J<0?M:J==0?null:M.slice(0,J-1)},getModeAt:function(h){var g=this.doc.mode;return g.innerMode?a.innerMode(g,this.getTokenAt(h).state).mode:g},getHelper:function(h,g){return this.getHelpers(h,g)[0]},getHelpers:function(h,g){var b=[];if(!p.hasOwnProperty(g))return b;var S=p[g],T=this.getModeAt(h);if(typeof T[g]=="string")S[T[g]]&&b.push(S[T[g]]);else if(T[g])for(var M=0;M<T[g].length;M++){var B=S[T[g][M]];B&&b.push(B)}else T.helperType&&S[T.helperType]?b.push(S[T.helperType]):S[T.name]&&b.push(S[T.name]);for(var J=0;J<S._global.length;J++){var ee=S._global[J];ee.pred(T,this)&&Ze(b,ee.val)==-1&&b.push(ee.val)}return b},getStateAfter:function(h,g){var b=this.doc;return h=Jr(b,h??b.first+b.size-1),vc(this,h+1,g).state},cursorCoords:function(h,g){var b,S=this.doc.sel.primary();return h==null?b=S.head:typeof h=="object"?b=dt(this.doc,h):b=h?S.from():S.to(),Ei(this,b,g||"page")},charCoords:function(h,g){return ih(this,dt(this.doc,h),g||"page")},coordsChar:function(h,g){return h=Mk(this,h,g||"page"),Ev(this,h.left,h.top)},lineAtHeight:function(h,g){return h=Mk(this,{top:h,left:0},g||"page").top,Xi(this.doc,h+this.display.viewOffset)},heightAtLine:function(h,g,b){var S=!1,T;if(typeof h=="number"){var M=this.doc.first+this.doc.size-1;h<this.doc.first?h=this.doc.first:h>M&&(h=M,S=!0),T=Ge(this.doc,h)}else T=h;return rh(this,T,{top:0,left:0},g||"page",b||S).top+(S?this.doc.height-Eo(T):0)},defaultTextHeight:function(){return Hl(this.display)},defaultCharWidth:function(){return Fl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(h,g,b,S,T){var M=this.display;h=Ei(this,dt(this.doc,h));var B=h.bottom,J=h.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),M.sizer.appendChild(g),S=="over")B=h.top;else if(S=="above"||S=="near"){var ee=Math.max(M.wrapper.clientHeight,this.doc.height),fe=Math.max(M.sizer.clientWidth,M.lineSpace.clientWidth);(S=="above"||h.bottom+g.offsetHeight>ee)&&h.top>g.offsetHeight?B=h.top-g.offsetHeight:h.bottom+g.offsetHeight<=ee&&(B=h.bottom),J+g.offsetWidth>fe&&(J=fe-g.offsetWidth)}g.style.top=B+"px",g.style.left=g.style.right="",T=="right"?(J=M.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(T=="left"?J=0:T=="middle"&&(J=(M.sizer.clientWidth-g.offsetWidth)/2),g.style.left=J+"px"),b&&LI(this,{left:J,top:B,right:J+g.offsetWidth,bottom:B+g.offsetHeight})},triggerOnKeyDown:sr(Ix),triggerOnKeyPress:sr(Dx),triggerOnKeyUp:Px,triggerOnMouseDown:sr(Rx),execCommand:function(h){if($c.hasOwnProperty(h))return $c[h].call(null,this)},triggerElectric:sr(function(h){jx(this,h)}),findPosH:function(h,g,b,S){var T=1;g<0&&(T=-1,g=-g);for(var M=dt(this.doc,h),B=0;B<g&&(M=iy(this.doc,M,T,b,S),!M.hitSide);++B);return M},moveH:sr(function(h,g){var b=this;this.extendSelectionsBy(function(S){return b.display.shift||b.doc.extend||S.empty()?iy(b.doc,S.head,h,g,b.options.rtlMoveVisually):h<0?S.from():S.to()},te)}),deleteH:sr(function(h,g){var b=this.doc.sel,S=this.doc;b.somethingSelected()?S.replaceSelection("",null,"+delete"):Xl(this,function(T){var M=iy(S,T.head,h,g,!1);return h<0?{from:M,to:T.head}:{from:T.head,to:M}})}),findPosV:function(h,g,b,S){var T=1,M=S;g<0&&(T=-1,g=-g);for(var B=dt(this.doc,h),J=0;J<g;++J){var ee=Ei(this,B,"div");if(M==null?M=ee.left:ee.left=M,B=qx(this,ee,T,b),B.hitSide)break}return B},moveV:sr(function(h,g){var b=this,S=this.doc,T=[],M=!this.display.shift&&!S.extend&&S.sel.somethingSelected();if(S.extendSelectionsBy(function(J){if(M)return h<0?J.from():J.to();var ee=Ei(b,J.head,"div");J.goalColumn!=null&&(ee.left=J.goalColumn),T.push(ee.left);var fe=qx(b,ee,h,g);return g=="page"&&J==S.sel.primary()&&zv(b,ih(b,fe,"div").top-ee.top),fe},te),T.length)for(var B=0;B<S.sel.ranges.length;B++)S.sel.ranges[B].goalColumn=T[B]}),findWordAt:function(h){var g=this.doc,b=Ge(g,h.line).text,S=h.ch,T=h.ch;if(b){var M=this.getHelper(h,"wordChars");(h.sticky=="before"||T==b.length)&&S?--S:++T;for(var B=b.charAt(S),J=Q(B,M)?function(ee){return Q(ee,M)}:/\s/.test(B)?function(ee){return/\s/.test(ee)}:function(ee){return!/\s/.test(ee)&&!Q(ee)};S>0&&J(b.charAt(S-1));)--S;for(;T<b.length&&J(b.charAt(T));)++T}return new Ht(se(h.line,S),se(h.line,T))},toggleOverwrite:function(h){h!=null&&h==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?qe(this.display.cursorDiv,"CodeMirror-overwrite"):U(this.display.cursorDiv,"CodeMirror-overwrite"),ot(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ze(_t(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:sr(function(h,g){Sc(this,h,g)}),getScrollInfo:function(){var h=this.display.scroller;return{left:h.scrollLeft,top:h.scrollTop,height:h.scrollHeight-Qi(this)-this.display.barHeight,width:h.scrollWidth-Qi(this)-this.display.barWidth,clientHeight:xv(this),clientWidth:va(this)}},scrollIntoView:sr(function(h,g){h==null?(h={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof h=="number"?h={from:se(h,0),to:null}:h.from==null&&(h={from:h,to:null}),h.to||(h.to=h.from),h.margin=g||0,h.from.line!=null?II(this,h):$k(this,h.from,h.to,h.margin)}),setSize:sr(function(h,g){var b=this,S=function(M){return typeof M=="number"||/^\d+$/.test(String(M))?M+"px":M};h!=null&&(this.display.wrapper.style.width=S(h)),g!=null&&(this.display.wrapper.style.height=S(g)),this.options.lineWrapping&&Ek(this);var T=this.display.viewFrom;this.doc.iter(T,this.display.viewTo,function(M){if(M.widgets){for(var B=0;B<M.widgets.length;B++)if(M.widgets[B].noHScroll){ps(b,T,"widget");break}}++T}),this.curOp.forceUpdate=!0,ot(this,"refresh",this)}),operation:function(h){return Lr(this,h)},startOperation:function(){return xa(this)},endOperation:function(){return Sa(this)},refresh:sr(function(){var h=this.display.cachedTextHeight;_r(this),this.curOp.forceUpdate=!0,kc(this),Sc(this,this.doc.scrollLeft,this.doc.scrollTop),Hv(this.display),(h==null||Math.abs(h-Hl(this.display))>.5||this.options.lineWrapping)&&Nv(this),ot(this,"refresh",this)}),swapDoc:sr(function(h){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),Qk(this,h),kc(this),this.display.input.reset(),Sc(this,h.scrollLeft,h.scrollTop),this.curOp.forceScroll=!0,Nn(this,"swapDoc",this,g),g}),phrase:function(h){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,h)?g[h]:h},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Xt(a),a.registerHelper=function(h,g,b){p.hasOwnProperty(h)||(p[h]=a[h]={_global:[]}),p[h][g]=b},a.registerGlobalHelper=function(h,g,b,S){a.registerHelper(h,g,S),p[h]._global.push({pred:b,val:S})}}function iy(a,c,p,h,g){var b=c,S=p,T=Ge(a,c.line),M=g&&a.direction=="rtl"?-p:p;function B(){var $e=c.line+M;return $e<a.first||$e>=a.first+a.size?!1:(c=new se($e,c.ch,c.sticky),T=Ge(a,$e))}function J($e){var Re;if(h=="codepoint"){var Ve=T.text.charCodeAt(c.ch+(p>0?0:-1));if(isNaN(Ve))Re=null;else{var nt=p>0?Ve>=55296&&Ve<56320:Ve>=56320&&Ve<57343;Re=new se(c.line,Math.max(0,Math.min(T.text.length,c.ch+p*(nt?2:1))),-p)}}else g?Re=gP(a.cm,T,c,p):Re=Jv(T,c,p);if(Re==null)if(!$e&&B())c=Xv(g,a.cm,T,c.line,M);else return!1;else c=Re;return!0}if(h=="char"||h=="codepoint")J();else if(h=="column")J(!0);else if(h=="word"||h=="group")for(var ee=null,fe=h=="group",ue=a.cm&&a.cm.getHelper(c,"wordChars"),ke=!0;!(p<0&&!J(!ke));ke=!1){var Ce=T.text.charAt(c.ch)||`
`,Me=Q(Ce,ue)?"w":fe&&Ce==`
`?"n":!fe||/\s/.test(Ce)?null:"p";if(fe&&!ke&&!Me&&(Me="s"),ee&&ee!=Me){p<0&&(p=1,J(),c.sticky="after");break}if(Me&&(ee=Me),p>0&&!J(!ke))break}var De=gh(a,c,b,S,!0);return ft(b,De)&&(De.hitSide=!0),De}function qx(a,c,p,h){var g=a.doc,b=c.left,S;if(h=="page"){var T=Math.min(a.display.wrapper.clientHeight,bt(a).innerHeight||g(a).documentElement.clientHeight),M=Math.max(T-.5*Hl(a.display),3);S=(p>0?c.bottom:c.top)+p*M}else h=="line"&&(S=p>0?c.bottom+3:c.top-3);for(var B;B=Ev(a,b,S),!!B.outside;){if(p<0?S<=0:S>=g.height){B.hitSide=!0;break}S+=p*5}return B}var Wt=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ee,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Wt.prototype.init=function(a){var c=this,p=this,h=p.cm,g=p.div=a.lineDiv;g.contentEditable=!0,ry(g,h.options.spellcheck,h.options.autocorrect,h.options.autocapitalize);function b(T){for(var M=T.target;M;M=M.parentNode){if(M==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(M.className))break}return!1}me(g,"paste",function(T){!b(T)||Tt(h,T)||Vx(T,h)||f<=11&&setTimeout(Ln(h,function(){return c.updateFromDOM()}),20)}),me(g,"compositionstart",function(T){c.composing={data:T.data,done:!1}}),me(g,"compositionupdate",function(T){c.composing||(c.composing={data:T.data,done:!1})}),me(g,"compositionend",function(T){c.composing&&(T.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),me(g,"touchstart",function(){return p.forceCompositionEnd()}),me(g,"input",function(){c.composing||c.readFromDOMSoon()});function S(T){if(!(!b(T)||Tt(h,T))){if(h.somethingSelected())kh({lineWise:!1,text:h.getSelections()}),T.type=="cut"&&h.replaceSelection("",null,"cut");else if(h.options.lineWiseCopyCut){var M=Wx(h);kh({lineWise:!0,text:M.text}),T.type=="cut"&&h.operation(function(){h.setSelections(M.ranges,0,at),h.replaceSelection("",null,"cut")})}else return;if(T.clipboardData){T.clipboardData.clearData();var B=Oi.text.join(`
`);if(T.clipboardData.setData("Text",B),T.clipboardData.getData("Text")==B){T.preventDefault();return}}var J=Ux(),ee=J.firstChild;ry(ee),h.display.lineSpace.insertBefore(J,h.display.lineSpace.firstChild),ee.value=Oi.text.join(`
`);var fe=ze(g.ownerDocument);mt(ee),setTimeout(function(){h.display.lineSpace.removeChild(J),fe.focus(),fe==g&&p.showPrimarySelection()},50)}}me(g,"copy",S),me(g,"cut",S)},Wt.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Wt.prototype.prepareSelection=function(){var a=Rk(this.cm,!1);return a.focus=ze(this.div.ownerDocument)==this.div,a},Wt.prototype.showSelection=function(a,c){!a||!this.cm.display.view.length||((a.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Wt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Wt.prototype.showPrimarySelection=function(){var a=this.getSelection(),c=this.cm,p=c.doc.sel.primary(),h=p.from(),g=p.to();if(c.display.viewTo==c.display.viewFrom||h.line>=c.display.viewTo||g.line<c.display.viewFrom){a.removeAllRanges();return}var b=xh(c,a.anchorNode,a.anchorOffset),S=xh(c,a.focusNode,a.focusOffset);if(!(b&&!b.bad&&S&&!S.bad&&we(Cn(b,S),h)==0&&we(It(b,S),g)==0)){var T=c.display.view,M=h.line>=c.display.viewFrom&&Kx(c,h)||{node:T[0].measure.map[2],offset:0},B=g.line<c.display.viewTo&&Kx(c,g);if(!B){var J=T[T.length-1].measure,ee=J.maps?J.maps[J.maps.length-1]:J.map;B={node:ee[ee.length-1],offset:ee[ee.length-2]-ee[ee.length-3]}}if(!M||!B){a.removeAllRanges();return}var fe=a.rangeCount&&a.getRangeAt(0),ue;try{ue=ce(M.node,M.offset,B.offset,B.node)}catch{}ue&&(!i&&c.state.focused?(a.collapse(M.node,M.offset),ue.collapsed||(a.removeAllRanges(),a.addRange(ue))):(a.removeAllRanges(),a.addRange(ue)),fe&&a.anchorNode==null?a.addRange(fe):i&&this.startGracePeriod()),this.rememberSelection()}},Wt.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Wt.prototype.showMultipleSelections=function(a){oe(this.cm.display.cursorDiv,a.cursors),oe(this.cm.display.selectionDiv,a.selection)},Wt.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Wt.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var c=a.getRangeAt(0).commonAncestorContainer;return ve(this.div,c)},Wt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ze(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Wt.prototype.blur=function(){this.div.blur()},Wt.prototype.getField=function(){return this.div},Wt.prototype.supportsTouch=function(){return!0},Wt.prototype.receivedFocus=function(){var a=this,c=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):Lr(this.cm,function(){return c.cm.curOp.selectionChanged=!0});function p(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},Wt.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Wt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),c=this.cm;if(L&&v&&this.cm.display.gutterSpecs.length&&RP(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=xh(c,a.anchorNode,a.anchorOffset),h=xh(c,a.focusNode,a.focusOffset);p&&h&&Lr(c,function(){Gn(c.doc,gs(p,h),at),(p.bad||h.bad)&&(c.curOp.selectionChanged=!0)})}}},Wt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,c=a.display,p=a.doc.sel.primary(),h=p.from(),g=p.to();if(h.ch==0&&h.line>a.firstLine()&&(h=se(h.line-1,Ge(a.doc,h.line-1).length)),g.ch==Ge(a.doc,g.line).text.length&&g.line<a.lastLine()&&(g=se(g.line+1,0)),h.line<c.viewFrom||g.line>c.viewTo-1)return!1;var b,S,T;h.line==c.viewFrom||(b=_a(a,h.line))==0?(S=$t(c.view[0].line),T=c.view[0].node):(S=$t(c.view[b].line),T=c.view[b-1].node.nextSibling);var M=_a(a,g.line),B,J;if(M==c.view.length-1?(B=c.viewTo-1,J=c.lineDiv.lastChild):(B=$t(c.view[M+1].line)-1,J=c.view[M+1].node.previousSibling),!T)return!1;for(var ee=a.doc.splitLines(zP(a,T,J,S,B)),fe=Co(a.doc,se(S,0),se(B,Ge(a.doc,B).text.length));ee.length>1&&fe.length>1;)if(G(ee)==G(fe))ee.pop(),fe.pop(),B--;else if(ee[0]==fe[0])ee.shift(),fe.shift(),S++;else break;for(var ue=0,ke=0,Ce=ee[0],Me=fe[0],De=Math.min(Ce.length,Me.length);ue<De&&Ce.charCodeAt(ue)==Me.charCodeAt(ue);)++ue;for(var $e=G(ee),Re=G(fe),Ve=Math.min($e.length-(ee.length==1?ue:0),Re.length-(fe.length==1?ue:0));ke<Ve&&$e.charCodeAt($e.length-ke-1)==Re.charCodeAt(Re.length-ke-1);)++ke;if(ee.length==1&&fe.length==1&&S==h.line)for(;ue&&ue>h.ch&&$e.charCodeAt($e.length-ke-1)==Re.charCodeAt(Re.length-ke-1);)ue--,ke++;ee[ee.length-1]=$e.slice(0,$e.length-ke).replace(/^\u200b+/,""),ee[0]=ee[0].slice(ue).replace(/\u200b+$/,"");var nt=se(S,ue),et=se(B,fe.length?G(fe).length-ke:0);if(ee.length>1||ee[0]||we(nt,et))return Gl(a.doc,ee,nt,et,"+input"),!0},Wt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Wt.prototype.reset=function(){this.forceCompositionEnd()},Wt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Wt.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},Wt.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&Lr(this.cm,function(){return _r(a.cm)})},Wt.prototype.setUneditable=function(a){a.contentEditable="false"},Wt.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Ln(this.cm,ny)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},Wt.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},Wt.prototype.onContextMenu=function(){},Wt.prototype.resetPosition=function(){},Wt.prototype.needsContentAttribute=!0;function Kx(a,c){var p=Sv(a,c.line);if(!p||p.hidden)return null;var h=Ge(a.doc,c.line),g=kk(p,h,c.line),b=Ae(h,a.doc.direction),S="left";if(b){var T=je(b,c.ch);S=T%2?"right":"left"}var M=Ck(g.map,c.ch,S);return M.offset=M.collapse=="right"?M.end:M.start,M}function RP(a){for(var c=a;c;c=c.parentNode)if(/CodeMirror-gutter-wrapper/.test(c.className))return!0;return!1}function Ql(a,c){return c&&(a.bad=!0),a}function zP(a,c,p,h,g){var b="",S=!1,T=a.doc.lineSeparator(),M=!1;function B(ue){return function(ke){return ke.id==ue}}function J(){S&&(b+=T,M&&(b+=T),S=M=!1)}function ee(ue){ue&&(J(),b+=ue)}function fe(ue){if(ue.nodeType==1){var ke=ue.getAttribute("cm-text");if(ke){ee(ke);return}var Ce=ue.getAttribute("cm-marker"),Me;if(Ce){var De=a.findMarks(se(h,0),se(g+1,0),B(+Ce));De.length&&(Me=De[0].find(0))&&ee(Co(a.doc,Me.from,Me.to).join(T));return}if(ue.getAttribute("contenteditable")=="false")return;var $e=/^(pre|div|p|li|table|br)$/i.test(ue.nodeName);if(!/^br$/i.test(ue.nodeName)&&ue.textContent.length==0)return;$e&&J();for(var Re=0;Re<ue.childNodes.length;Re++)fe(ue.childNodes[Re]);/^(pre|p)$/i.test(ue.nodeName)&&(M=!0),$e&&(S=!0)}else ue.nodeType==3&&ee(ue.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;fe(c),c!=p;)c=c.nextSibling,M=!1;return b}function xh(a,c,p){var h;if(c==a.display.lineDiv){if(h=a.display.lineDiv.childNodes[p],!h)return Ql(a.clipPos(se(a.display.viewTo-1)),!0);c=null,p=0}else for(h=c;;h=h.parentNode){if(!h||h==a.display.lineDiv)return null;if(h.parentNode&&h.parentNode==a.display.lineDiv)break}for(var g=0;g<a.display.view.length;g++){var b=a.display.view[g];if(b.node==h)return BP(b,c,p)}}function BP(a,c,p){var h=a.text.firstChild,g=!1;if(!c||!ve(h,c))return Ql(se($t(a.line),0),!0);if(c==h&&(g=!0,c=h.childNodes[p],p=0,!c)){var b=a.rest?G(a.rest):a.line;return Ql(se($t(b),b.text.length),g)}var S=c.nodeType==3?c:null,T=c;for(!S&&c.childNodes.length==1&&c.firstChild.nodeType==3&&(S=c.firstChild,p&&(p=S.nodeValue.length));T.parentNode!=h;)T=T.parentNode;var M=a.measure,B=M.maps;function J(Me,De,$e){for(var Re=-1;Re<(B?B.length:0);Re++)for(var Ve=Re<0?M.map:B[Re],nt=0;nt<Ve.length;nt+=3){var et=Ve[nt+2];if(et==Me||et==De){var St=$t(Re<0?a.line:a.rest[Re]),Yt=Ve[nt]+$e;return($e<0||et!=Me)&&(Yt=Ve[nt+($e?1:0)]),se(St,Yt)}}}var ee=J(S,T,p);if(ee)return Ql(ee,g);for(var fe=T.nextSibling,ue=S?S.nodeValue.length-p:0;fe;fe=fe.nextSibling){if(ee=J(fe,fe.firstChild,0),ee)return Ql(se(ee.line,ee.ch-ue),g);ue+=fe.textContent.length}for(var ke=T.previousSibling,Ce=p;ke;ke=ke.previousSibling){if(ee=J(ke,ke.firstChild,-1),ee)return Ql(se(ee.line,ee.ch+Ce),g);Ce+=ke.textContent.length}}var dn=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Ee,this.hasSelection=!1,this.composing=null,this.resetting=!1};dn.prototype.init=function(a){var c=this,p=this,h=this.cm;this.createField(a);var g=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),A&&(g.style.width="0px"),me(g,"input",function(){u&&f>=9&&c.hasSelection&&(c.hasSelection=null),p.poll()}),me(g,"paste",function(S){Tt(h,S)||Vx(S,h)||(h.state.pasteIncoming=+new Date,p.fastPoll())});function b(S){if(!Tt(h,S)){if(h.somethingSelected())kh({lineWise:!1,text:h.getSelections()});else if(h.options.lineWiseCopyCut){var T=Wx(h);kh({lineWise:!0,text:T.text}),S.type=="cut"?h.setSelections(T.ranges,null,at):(p.prevInput="",g.value=T.text.join(`
`),mt(g))}else return;S.type=="cut"&&(h.state.cutIncoming=+new Date)}}me(g,"cut",b),me(g,"copy",b),me(a.scroller,"paste",function(S){if(!(Ao(a,S)||Tt(h,S))){if(!g.dispatchEvent){h.state.pasteIncoming=+new Date,p.focus();return}var T=new Event("paste");T.clipboardData=S.clipboardData,g.dispatchEvent(T)}}),me(a.lineSpace,"selectstart",function(S){Ao(a,S)||Gt(S)}),me(g,"compositionstart",function(){var S=h.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:S,range:h.markText(S,h.getCursor("to"),{className:"CodeMirror-composing"})}}),me(g,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},dn.prototype.createField=function(a){this.wrapper=Ux(),this.textarea=this.wrapper.firstChild;var c=this.cm.options;ry(this.textarea,c.spellcheck,c.autocorrect,c.autocapitalize)},dn.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},dn.prototype.prepareSelection=function(){var a=this.cm,c=a.display,p=a.doc,h=Rk(a);if(a.options.moveInputWithCursor){var g=Ei(a,p.sel.primary().head,"div"),b=c.wrapper.getBoundingClientRect(),S=c.lineDiv.getBoundingClientRect();h.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,g.top+S.top-b.top)),h.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,g.left+S.left-b.left))}return h},dn.prototype.showSelection=function(a){var c=this.cm,p=c.display;oe(p.cursorDiv,a.cursors),oe(p.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},dn.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var c=this.cm;if(this.resetting=!0,c.somethingSelected()){this.prevInput="";var p=c.getSelection();this.textarea.value=p,c.state.focused&&mt(this.textarea),u&&f>=9&&(this.hasSelection=p)}else a||(this.prevInput=this.textarea.value="",u&&f>=9&&(this.hasSelection=null));this.resetting=!1}},dn.prototype.getField=function(){return this.textarea},dn.prototype.supportsTouch=function(){return!1},dn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!E||ze(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},dn.prototype.blur=function(){this.textarea.blur()},dn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},dn.prototype.receivedFocus=function(){this.slowPoll()},dn.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},dn.prototype.fastPoll=function(){var a=!1,c=this;c.pollingFast=!0;function p(){var h=c.poll();!h&&!a?(a=!0,c.polling.set(60,p)):(c.pollingFast=!1,c.slowPoll())}c.polling.set(20,p)},dn.prototype.poll=function(){var a=this,c=this.cm,p=this.textarea,h=this.prevInput;if(this.contextMenuPending||this.resetting||!c.state.focused||us(p)&&!h&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var g=p.value;if(g==h&&!c.somethingSelected())return!1;if(u&&f>=9&&this.hasSelection===g||H&&/[\uf700-\uf7ff]/.test(g))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var b=g.charCodeAt(0);if(b==8203&&!h&&(h="​"),b==8666)return this.reset(),this.cm.execCommand("undo")}for(var S=0,T=Math.min(h.length,g.length);S<T&&h.charCodeAt(S)==g.charCodeAt(S);)++S;return Lr(c,function(){ny(c,g.slice(S),h.length-S,null,a.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?p.value=a.prevInput="":a.prevInput=g,a.composing&&(a.composing.range.clear(),a.composing.range=c.markText(a.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},dn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},dn.prototype.onKeyPress=function(){u&&f>=9&&(this.hasSelection=null),this.fastPoll()},dn.prototype.onContextMenu=function(a){var c=this,p=c.cm,h=p.display,g=c.textarea;c.contextMenuPending&&c.contextMenuPending();var b=ba(p,a),S=h.scroller.scrollTop;if(!b||_)return;var T=p.options.resetSelectionOnContextMenu;T&&p.doc.sel.contains(b)==-1&&Ln(p,Gn)(p.doc,gs(b),at);var M=g.style.cssText,B=c.wrapper.style.cssText,J=c.wrapper.offsetParent.getBoundingClientRect();c.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-J.top-5)+"px; left: "+(a.clientX-J.left-5)+`px;
      z-index: 1000; background: `+(u?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ee;d&&(ee=g.ownerDocument.defaultView.scrollY),h.input.focus(),d&&g.ownerDocument.defaultView.scrollTo(null,ee),h.input.reset(),p.somethingSelected()||(g.value=c.prevInput=" "),c.contextMenuPending=ue,h.selForContextMenu=p.doc.sel,clearTimeout(h.detectingSelectAll);function fe(){if(g.selectionStart!=null){var Ce=p.somethingSelected(),Me="​"+(Ce?g.value:"");g.value="⇚",g.value=Me,c.prevInput=Ce?"":"​",g.selectionStart=1,g.selectionEnd=Me.length,h.selForContextMenu=p.doc.sel}}function ue(){if(c.contextMenuPending==ue&&(c.contextMenuPending=!1,c.wrapper.style.cssText=B,g.style.cssText=M,u&&f<9&&h.scrollbars.setScrollTop(h.scroller.scrollTop=S),g.selectionStart!=null)){(!u||u&&f<9)&&fe();var Ce=0,Me=function(){h.selForContextMenu==p.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&c.prevInput=="​"?Ln(p,dx)(p):Ce++<10?h.detectingSelectAll=setTimeout(Me,500):(h.selForContextMenu=null,h.input.reset())};h.detectingSelectAll=setTimeout(Me,200)}}if(u&&f>=9&&fe(),w){Yr(a);var ke=function(){ct(window,"mouseup",ke),setTimeout(ue,20)};me(window,"mouseup",ke)}else setTimeout(ue,50)},dn.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},dn.prototype.setUneditable=function(){},dn.prototype.needsContentAttribute=!1;function $P(a,c){if(c=c?Ie(c):{},c.value=a.value,!c.tabindex&&a.tabIndex&&(c.tabindex=a.tabIndex),!c.placeholder&&a.placeholder&&(c.placeholder=a.placeholder),c.autofocus==null){var p=ze(a.ownerDocument);c.autofocus=p==a||a.getAttribute("autofocus")!=null&&p==document.body}function h(){a.value=T.getValue()}var g;if(a.form&&(me(a.form,"submit",h),!c.leaveSubmitMethodAlone)){var b=a.form;g=b.submit;try{var S=b.submit=function(){h(),b.submit=g,b.submit(),b.submit=S}}catch{}}c.finishInit=function(M){M.save=h,M.getTextArea=function(){return a},M.toTextArea=function(){M.toTextArea=isNaN,h(),a.parentNode.removeChild(M.getWrapperElement()),a.style.display="",a.form&&(ct(a.form,"submit",h),!c.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=g))}},a.style.display="none";var T=Qt(function(M){return a.parentNode.insertBefore(M,a.nextSibling)},c);return T}function HP(a){a.off=ct,a.on=me,a.wheelEventPixels=KI,a.Doc=wr,a.splitLines=mc,a.countColumn=Be,a.findColumn=be,a.isWordChar=F,a.Pass=Fe,a.signal=ot,a.Line=zl,a.changeEnd=vs,a.scrollbarModel=Vk,a.Pos=se,a.cmpPos=we,a.modes=Ci,a.mimeModes=cs,a.resolveMode=Nr,a.getMode=xo,a.modeExtensions=fs,a.extendMode=Gd,a.copyState=So,a.startState=gc,a.innerMode=ds,a.commands=$c,a.keyMap=Mo,a.keyName=Ax,a.isModifierKey=Tx,a.lookupKey=Jl,a.normalizeKeyMap=mP,a.StringStream=ln,a.SharedTextMarker=Rc,a.TextMarker=bs,a.LineWidget=Dc,a.e_preventDefault=Gt,a.e_stopPropagation=Kn,a.e_stop=Yr,a.addClass=qe,a.contains=ve,a.rmClass=U,a.keyNames=_s}NP(Qt),DP(Qt);var FP="iter insert remove copy getEditor constructor".split(" ");for(var Sh in wr.prototype)wr.prototype.hasOwnProperty(Sh)&&Ze(FP,Sh)<0&&(Qt.prototype[Sh]=function(a){return function(){return a.apply(this.doc,arguments)}}(wr.prototype[Sh]));return Xt(wr),Qt.inputStyles={textarea:dn,contenteditable:Wt},Qt.defineMode=function(a){!Qt.defaults.mode&&a!="null"&&(Qt.defaults.mode=a),Kd.apply(this,arguments)},Qt.defineMIME=Dl,Qt.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),Qt.defineMIME("text/plain","null"),Qt.defineExtension=function(a,c){Qt.prototype[a]=c},Qt.defineDocExtension=function(a,c){wr.prototype[a]=c},Qt.fromTextArea=$P,HP(Qt),Qt.version="5.65.12",Qt})}(Boe)),ng}var $oe=Mr();const PL=zoe($oe);(function(t,e){(function(n){n(Mr())})(function(n){var r=n.Pos,i="http://www.w3.org/2000/svg";function o(N,W){this.mv=N,this.type=W,this.classes=W=="left"?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}o.prototype={constructor:o,init:function(N,W,O){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=n(N,Ee({value:W,readOnly:!this.mv.options.allowEditingOriginals},Ee(O))),this.mv.options.connect=="align"&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new ie(this.edit)),this.orig.state.trackAlignable=new ie(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.lockButton.setAttribute("aria-label",this.lockButton.title),this.orig.state.diffViews=[this];var j=O.chunkClassLocation||"background";Object.prototype.toString.call(j)!="[object Array]"&&(j=[j]),this.classes.classLocation=j,this.diff=ae(oe(W),oe(O.value),this.mv.options.ignoreWhitespace),this.chunks=ce(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=O.showDifferences!==!1},registerEvents:function(N){this.forceUpdate=u(this),v(this,!0,!1),f(this,N)},setShowDifferences:function(N){N=N!==!1,N!=this.showDifferences&&(this.showDifferences=N,this.forceUpdate("full"))}};function s(N){N.diffOutOfDate&&(N.diff=ae(N.orig.getValue(),N.edit.getValue(),N.mv.options.ignoreWhitespace),N.chunks=ce(N.diff),N.diffOutOfDate=!1,n.signal(N.edit,"updateDiff",N.diff))}var l=!1;function u(N){var W={from:0,to:0,marked:[]},O={from:0,to:0,marked:[]},j,F=!1;function Q(X){l=!0,F=!1,X=="full"&&(N.svg&&Ie(N.svg),N.copyButtons&&Ie(N.copyButtons),_(N.edit,W.marked,N.classes),_(N.orig,O.marked,N.classes),W.from=W.to=O.from=O.to=0),s(N),N.showDifferences&&(C(N.edit,N.diff,W,DIFF_INSERT,N.classes),C(N.orig,N.diff,O,DIFF_DELETE,N.classes)),N.mv.options.connect=="align"&&q(N),A(N),N.needsScrollSync!=null&&d(N,N.needsScrollSync),l=!1}function le(X){l||(N.dealigned=!0,pe(X))}function pe(X){l||F||(clearTimeout(j),X===!0&&(F=!0),j=setTimeout(Q,X===!0?20:250))}function ye(X,de){N.diffOutOfDate||(N.diffOutOfDate=!0,W.from=W.to=O.from=O.to=0),le(de.text.length-1!=de.to.line-de.from.line)}function Y(){N.diffOutOfDate=!0,N.dealigned=!0,Q("full")}return N.edit.on("change",ye),N.orig.on("change",ye),N.edit.on("swapDoc",Y),N.orig.on("swapDoc",Y),N.mv.options.connect=="align"&&(n.on(N.edit.state.trackAlignable,"realign",le),n.on(N.orig.state.trackAlignable,"realign",le)),N.edit.on("viewportChange",function(){pe(!1)}),N.orig.on("viewportChange",function(){pe(!1)}),Q(),Q}function f(N,W){N.edit.on("scroll",function(){d(N,!0)&&A(N)}),N.orig.on("scroll",function(){d(N,!1)&&A(N),W&&d(W,!0)&&A(W)})}function d(N,W){if(N.diffOutOfDate)return N.lockScroll&&N.needsScrollSync==null&&(N.needsScrollSync=W),!1;if(N.needsScrollSync=null,!N.lockScroll)return!0;var O,j,F=+new Date;if(W?(O=N.edit,j=N.orig):(O=N.orig,j=N.edit),O.state.scrollSetBy==N&&(O.state.scrollSetAt||0)+250>F)return!1;var Q=O.getScrollInfo();if(N.mv.options.connect=="align")je=Q.top;else{var le=.5*Q.clientHeight,pe=Q.top+le,ye=O.lineAtHeight(pe,"local"),Y=qe(N.chunks,ye,W),X=m(O,W?Y.edit:Y.orig),de=m(j,W?Y.orig:Y.edit),Te=(pe-X.top)/(X.bot-X.top),je=de.top-le+Te*(de.bot-de.top),he,Ae;if(je>Q.top&&(Ae=Q.top/le)<1)je=je*Ae+Q.top*(1-Ae);else if((he=Q.height-Q.clientHeight-Q.top)<le){var Ne=j.getScrollInfo(),me=Ne.height-Ne.clientHeight-je;me>he&&(Ae=he/le)<1&&(je=je*Ae+(Ne.height-Ne.clientHeight-he)*(1-Ae))}}return j.scrollTo(Q.left,je),j.state.scrollSetAt=F,j.state.scrollSetBy=N,!0}function m(N,W){var O=W.after;return O==null&&(O=N.lastLine()+1),{top:N.heightAtLine(W.before||0,"local"),bot:N.heightAtLine(O,"local")}}function v(N,W,O){N.lockScroll=W,W&&O!=!1&&d(N,DIFF_INSERT)&&A(N),(W?n.addClass:n.rmClass)(N.lockButton,"CodeMirror-merge-scrolllock-enabled")}function y(N,W,O){for(var j=O.classLocation,F=0;F<j.length;F++)N.removeLineClass(W,j[F],O.chunk),N.removeLineClass(W,j[F],O.start),N.removeLineClass(W,j[F],O.end)}function _(N,W,O){for(var j=0;j<W.length;++j){var F=W[j];F instanceof n.TextMarker?F.clear():F.parent&&y(N,F,O)}W.length=0}function C(N,W,O,j,F){var Q=N.getViewport();N.operation(function(){O.from==O.to||Q.from-O.to>20||O.from-Q.to>20?(_(N,O.marked,F),k(N,W,j,O.marked,Q.from,Q.to,F),O.from=Q.from,O.to=Q.to):(Q.from<O.from&&(k(N,W,j,O.marked,Q.from,O.from,F),O.from=Q.from),Q.to>O.to&&(k(N,W,j,O.marked,O.to,Q.to,F),O.to=Q.to))})}function x(N,W,O,j,F,Q){for(var le=O.classLocation,pe=N.getLineHandle(W),ye=0;ye<le.length;ye++)j&&N.addLineClass(pe,le[ye],O.chunk),F&&N.addLineClass(pe,le[ye],O.start),Q&&N.addLineClass(pe,le[ye],O.end);return pe}function k(N,W,O,j,F,Q,le){var pe=r(0,0),ye=r(F,0),Y=N.clipPos(r(Q-1)),X=O==DIFF_DELETE?le.del:le.insert;function de(Kt,Xt){for(var Gt=Math.max(F,Kt),Kn=Math.min(Q,Xt),Gr=Gt;Gr<Kn;++Gr)j.push(x(N,Gr,le,!0,Gr==Kt,Gr==Xt-1));Kt==Xt&&Gt==Xt&&Kn==Xt&&(Gt?j.push(x(N,Gt-1,le,!1,!1,!0)):j.push(x(N,Gt,le,!1,!0,!1)))}for(var Te=0,je=!1,he=0;he<W.length;++he){var Ae=W[he],Ne=Ae[0],me=Ae[1];if(Ne==DIFF_EQUAL){var Je=pe.line+(ze(W,he)?0:1);Ze(pe,me);var ct=pe.line+(ve(W,he)?1:0);ct>Je&&(je&&(de(Te,Je),je=!1),Te=ct)}else if(je=!0,Ne==O){var ot=Ze(pe,me,!0),Tt=be(ye,pe),br=te(Y,ot);_e(Tt,br)||j.push(N.markText(Tt,br,{className:X})),pe=ot}}je&&de(Te,pe.line+1)}function A(N){if(N.showDifferences){if(N.svg){Ie(N.svg);var W=N.gap.offsetWidth;Be(N.svg,"width",W,"height",N.gap.offsetHeight)}N.copyButtons&&Ie(N.copyButtons);for(var O=N.edit.getViewport(),j=N.orig.getViewport(),F=N.mv.wrap.getBoundingClientRect().top,Q=F-N.edit.getScrollerElement().getBoundingClientRect().top+N.edit.getScrollInfo().top,le=F-N.orig.getScrollerElement().getBoundingClientRect().top+N.orig.getScrollInfo().top,pe=0;pe<N.chunks.length;pe++){var ye=N.chunks[pe];ye.editFrom<=O.to&&ye.editTo>=O.from&&ye.origFrom<=j.to&&ye.origTo>=j.from&&w(N,ye,le,Q,W)}}}function L(N,W){for(var O=0,j=0,F=0;F<W.length;F++){var Q=W[F];if(Q.editTo>N&&Q.editFrom<=N)return null;if(Q.editFrom>N)break;O=Q.editTo,j=Q.origTo}return j+(N-O)}function E(N,W,O){for(var j=N.state.trackAlignable,F=N.firstLine(),Q=0,le=[],pe=0;;pe++){for(var ye=W[pe],Y=ye?O?ye.origFrom:ye.editFrom:1e9;Q<j.alignable.length;Q+=2){var X=j.alignable[Q]+1;if(!(X<=F))if(X<=Y)le.push(X);else break}if(!ye)break;le.push(F=O?ye.origTo:ye.editTo)}return le}function H(N,W,O,j){var F=0,Q=0,le=0,pe=0;e:for(;;F++){var ye=N[F],Y=W[Q];if(!ye&&Y==null)break;for(var X=ye?ye[0]:1e9,de=Y??1e9;le<O.length;){var Te=O[le];if(Te.origFrom<=de&&Te.origTo>de){Q++,F--;continue e}if(Te.editTo>X){if(Te.editFrom<=X)continue e;break}pe+=Te.origTo-Te.origFrom-(Te.editTo-Te.editFrom),le++}if(X==de-pe)ye[j]=de,Q++;else if(X<de-pe)ye[j]=X+pe;else{var je=[de-pe,null,null];je[j]=de,N.splice(F,0,je),Q++}}}function I(N,W){var O=E(N.edit,N.chunks,!1),j=[];if(W)for(var F=0,Q=0;F<W.chunks.length;F++){for(var le=W.chunks[F].editTo;Q<O.length&&O[Q]<le;)Q++;(Q==O.length||O[Q]!=le)&&O.splice(Q++,0,le)}for(var F=0;F<O.length;F++)j.push([O[F],null,null]);return H(j,E(N.orig,N.chunks,!0),N.chunks,1),W&&H(j,E(W.orig,W.chunks,!0),W.chunks,2),j}function q(N,W){if(!(!N.dealigned&&!W)){if(!N.orig.curOp)return N.orig.operation(function(){q(N,W)});N.dealigned=!1;var O=N.mv.left==N?N.mv.right:N.mv.left;O&&(s(O),O.dealigned=!1);for(var j=I(N,O),F=N.mv.aligners,Q=0;Q<F.length;Q++)F[Q].clear();F.length=0;var le=[N.edit,N.orig],pe=[],ye=[];O&&le.push(O.orig);for(var Q=0;Q<le.length;Q++)pe.push(le[Q].getScrollInfo().top),ye.push(-le[Q].getScrollerElement().getBoundingClientRect().top);(ye[0]!=ye[1]||le.length==3&&ye[1]!=ye[2])&&P(le,ye,[0,0,0],F);for(var Y=0;Y<j.length;Y++)P(le,ye,j[Y],F);for(var Q=0;Q<le.length;Q++)le[Q].scrollTo(null,pe[Q])}}function P(N,W,O,j){for(var F=-1e8,Q=[],le=0;le<N.length;le++)if(O[le]!=null){var pe=N[le].heightAtLine(O[le],"local")-W[le];Q[le]=pe,F=Math.max(F,pe)}for(var le=0;le<N.length;le++)if(O[le]!=null){var ye=F-Q[le];ye>1&&j.push(z(N[le],O[le],ye))}}function z(N,W,O){var j=!0;W>N.lastLine()&&(W--,j=!1);var F=document.createElement("div");return F.className="CodeMirror-merge-spacer",F.style.height=O+"px",F.style.minWidth="1px",N.addLineWidget(W,F,{height:O,above:j,mergeSpacer:!0,handleMouseEvents:!0})}function w(N,W,O,j,F){var Q=N.type=="left",le=N.orig.heightAtLine(W.origFrom,"local",!0)-O;if(N.svg){var pe=le,ye=N.edit.heightAtLine(W.editFrom,"local",!0)-j;if(Q){var Y=pe;pe=ye,ye=Y}var X=N.orig.heightAtLine(W.origTo,"local",!0)-O,de=N.edit.heightAtLine(W.editTo,"local",!0)-j;if(Q){var Y=X;X=de,de=Y}var Te=" C "+F/2+" "+ye+" "+F/2+" "+pe+" "+(F+2)+" "+pe,je=" C "+F/2+" "+X+" "+F/2+" "+de+" -1 "+de;Be(N.svg.appendChild(document.createElementNS(i,"path")),"d","M -1 "+ye+Te+" L "+(F+2)+" "+X+je+" z","class",N.classes.connect)}if(N.copyButtons){var he=N.copyButtons.appendChild(Xe("div",N.type=="left"?"⇝":"⇜","CodeMirror-merge-copy")),Ae=N.mv.options.allowEditingOriginals;if(he.title=N.edit.phrase(Ae?"Push to left":"Revert chunk"),he.chunk=W,he.style.top=(W.origTo>W.origFrom?le:N.edit.heightAtLine(W.editFrom,"local")-j)+"px",he.setAttribute("role","button"),he.setAttribute("tabindex","0"),he.setAttribute("aria-label",he.title),Ae){var Ne=N.edit.heightAtLine(W.editFrom,"local")-j,me=N.copyButtons.appendChild(Xe("div",N.type=="right"?"⇝":"⇜","CodeMirror-merge-copy-reverse"));me.title="Push to right",me.chunk={editFrom:W.origFrom,editTo:W.origTo,origFrom:W.editFrom,origTo:W.editTo},me.style.top=Ne+"px",N.type=="right"?me.style.left="2px":me.style.right="2px",me.setAttribute("role","button"),me.setAttribute("tabindex","0"),me.setAttribute("aria-label",me.title)}}}function R(N,W,O,j){if(!N.diffOutOfDate){var F=j.origTo>O.lastLine()?r(j.origFrom-1):r(j.origFrom,0),Q=r(j.origTo,0),le=j.editTo>W.lastLine()?r(j.editFrom-1):r(j.editFrom,0),pe=r(j.editTo,0),ye=N.mv.options.revertChunk;ye?ye(N.mv,O,F,Q,W,le,pe):W.replaceRange(O.getRange(F,Q),le,pe)}}var U=n.MergeView=function(N,W){if(!(this instanceof U))return new U(N,W);this.options=W;var O=W.origLeft,j=W.origRight==null?W.orig:W.origRight,F=O!=null,Q=j!=null,le=1+(F?1:0)+(Q?1:0),pe=[],ye=this.left=null,Y=this.right=null,X=this;if(F){ye=this.left=new o(this,"left");var de=Xe("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");pe.push(de),pe.push(K(ye))}var Te=Xe("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(pe.push(Te),Q){Y=this.right=new o(this,"right"),pe.push(K(Y));var je=Xe("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");pe.push(je)}(Q?je:Te).className+=" CodeMirror-merge-pane-rightmost",pe.push(Xe("div",null,null,"height: 0; clear: both;"));var he=this.wrap=N.appendChild(Xe("div",pe,"CodeMirror-merge CodeMirror-merge-"+le+"pane"));this.edit=n(Te,Ee(W)),ye&&ye.init(de,O,W),Y&&Y.init(je,j,W),W.collapseIdentical&&this.editor().operation(function(){bt(X,W.collapseIdentical)}),W.connect=="align"&&(this.aligners=[],q(this.left||this.right,!0)),ye&&ye.registerEvents(Y),Y&&Y.registerEvents(ye);var Ae=function(){ye&&A(ye),Y&&A(Y)};n.on(window,"resize",Ae);var Ne=setInterval(function(){for(var me=he.parentNode;me&&me!=document.body;me=me.parentNode);me||(clearInterval(Ne),n.off(window,"resize",Ae))},5e3)};function K(N){var W=N.lockButton=Xe("div",null,"CodeMirror-merge-scrolllock");W.setAttribute("role","button"),W.setAttribute("tabindex","0");var O=Xe("div",[W],"CodeMirror-merge-scrolllock-wrap");n.on(W,"click",function(){v(N,!N.lockScroll)}),n.on(W,"keyup",function(le){(le.key==="Enter"||le.code==="Space")&&v(N,!N.lockScroll)});var j=[O];if(N.mv.options.revertButtons!==!1){N.copyButtons=Xe("div",null,"CodeMirror-merge-copybuttons-"+N.type);var F=function(le){var pe=le.target||le.srcElement;if(pe.chunk){if(pe.className=="CodeMirror-merge-copy-reverse"){R(N,N.orig,N.edit,pe.chunk);return}R(N,N.edit,N.orig,pe.chunk)}};n.on(N.copyButtons,"click",F),n.on(N.copyButtons,"keyup",function(le){(le.key==="Enter"||le.code==="Space")&&F(le)}),j.unshift(N.copyButtons)}if(N.mv.options.connect!="align"){var Q=document.createElementNS&&document.createElementNS(i,"svg");Q&&!Q.createSVGRect&&(Q=null),N.svg=Q,Q&&j.push(Q)}return N.gap=Xe("div",j,"CodeMirror-merge-gap")}U.prototype={constructor:U,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(N){this.right&&this.right.setShowDifferences(N),this.left&&this.left.setShowDifferences(N)},rightChunks:function(){if(this.right)return s(this.right),this.right.chunks},leftChunks:function(){if(this.left)return s(this.left),this.left.chunks}};function oe(N){return typeof N=="string"?N:N.getValue()}var D;function ae(N,W,O){D||(D=new diff_match_patch);for(var j=D.diff_main(N,W),F=0;F<j.length;++F){var Q=j[F];(O?!/[^ \t]/.test(Q[1]):!Q[1])?j.splice(F--,1):F&&j[F-1][0]==Q[0]&&(j.splice(F--,1),j[F][1]+=Q[1])}return j}function ce(N){var W=[];if(!N.length)return W;for(var O=0,j=0,F=r(0,0),Q=r(0,0),le=0;le<N.length;++le){var pe=N[le],ye=pe[0];if(ye==DIFF_EQUAL){var Y=!ze(N,le)||F.line<O||Q.line<j?1:0,X=F.line+Y,de=Q.line+Y;Ze(F,pe[1],null,Q);var Te=ve(N,le)?1:0,je=F.line+Te,he=Q.line+Te;je>X&&(le&&W.push({origFrom:j,origTo:de,editFrom:O,editTo:X}),O=je,j=he)}else Ze(ye==DIFF_INSERT?F:Q,pe[1])}return(O<=F.line||j<=Q.line)&&W.push({origFrom:j,origTo:Q.line+1,editFrom:O,editTo:F.line+1}),W}function ve(N,W){if(W==N.length-1)return!0;var O=N[W+1][1];return O.length==1&&W<N.length-2||O.charCodeAt(0)!=10?!1:W==N.length-2?!0:(O=N[W+2][1],(O.length>1||W==N.length-3)&&O.charCodeAt(0)==10)}function ze(N,W){if(W==0)return!0;var O=N[W-1][1];return O.charCodeAt(O.length-1)!=10?!1:W==1?!0:(O=N[W-2][1],O.charCodeAt(O.length-1)==10)}function qe(N,W,O){for(var j,F,Q,le,pe=0;pe<N.length;pe++){var ye=N[pe],Y=O?ye.editFrom:ye.origFrom,X=O?ye.editTo:ye.origTo;F==null&&(Y>W?(F=ye.editFrom,le=ye.origFrom):X>W&&(F=ye.editTo,le=ye.origTo)),X<=W?(j=ye.editTo,Q=ye.origTo):Y<=W&&(j=ye.editFrom,Q=ye.origFrom)}return{edit:{before:j,after:F},orig:{before:Q,after:le}}}function yt(N,W,O){N.addLineClass(W,"wrap","CodeMirror-merge-collapsed-line");var j=document.createElement("span");j.className="CodeMirror-merge-collapsed-widget",j.title=N.phrase("Identical text collapsed. Click to expand.");var F=N.markText(r(W,0),r(O-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:j,clearOnEnter:!0});function Q(){F.clear(),N.removeLineClass(W,"wrap","CodeMirror-merge-collapsed-line")}return F.explicitlyCleared&&Q(),n.on(j,"click",Q),F.on("clear",Q),n.on(j,"click",Q),{mark:F,clear:Q}}function mt(N,W){var O=[];function j(){for(var pe=0;pe<O.length;pe++)O[pe].clear()}for(var F=0;F<W.length;F++){var Q=W[F],le=yt(Q.cm,Q.line,Q.line+N);O.push(le),le.mark.on("clear",j)}return O[0].mark}function _t(N,W,O,j){for(var F=0;F<N.chunks.length;F++)for(var Q=N.chunks[F],le=Q.editFrom-W;le<Q.editTo+W;le++){var pe=le+O;pe>=0&&pe<j.length&&(j[pe]=!1)}}function bt(N,W){typeof W!="number"&&(W=2);for(var O=[],j=N.editor(),F=j.firstLine(),Q=F,le=j.lastLine();Q<=le;Q++)O.push(!0);N.left&&_t(N.left,W,F,O),N.right&&_t(N.right,W,F,O);for(var pe=0;pe<O.length;pe++)if(O[pe]){for(var ye=pe+F,Y=1;pe<O.length-1&&O[pe+1];pe++,Y++);if(Y>W){var X=[{line:ye,cm:j}];N.left&&X.push({line:L(ye,N.left.chunks),cm:N.left.orig}),N.right&&X.push({line:L(ye,N.right.chunks),cm:N.right.orig});var de=mt(Y,X);N.options.onCollapse&&N.options.onCollapse(N,ye,Y,de)}}}function Xe(N,W,O,j){var F=document.createElement(N);if(O&&(F.className=O),j&&(F.style.cssText=j),typeof W=="string")F.appendChild(document.createTextNode(W));else if(W)for(var Q=0;Q<W.length;++Q)F.appendChild(W[Q]);return F}function Ie(N){for(var W=N.childNodes.length;W>0;--W)N.removeChild(N.firstChild)}function Be(N){for(var W=1;W<arguments.length;W+=2)N.setAttribute(arguments[W],arguments[W+1])}function Ee(N,W){W||(W={});for(var O in N)N.hasOwnProperty(O)&&(W[O]=N[O]);return W}function Ze(N,W,O,j){for(var F=O?r(N.line,N.ch):N,Q=0;;){var le=W.indexOf(`
`,Q);if(le==-1)break;++F.line,j&&++j.line,Q=le+1}return F.ch=(Q?0:F.ch)+(W.length-Q),j&&(j.ch=(Q?0:j.ch)+(W.length-Q)),F}var Ke=1,Fe=2,at=4;function ie(N){this.cm=N,this.alignable=[],this.height=N.doc.height;var W=this;N.on("markerAdded",function(O,j){if(j.collapsed){var F=j.find(1);F!=null&&W.set(F.line,at)}}),N.on("markerCleared",function(O,j,F,Q){Q!=null&&j.collapsed&&W.check(Q,at,W.hasMarker)}),N.on("markerChanged",this.signal.bind(this)),N.on("lineWidgetAdded",function(O,j,F){j.mergeSpacer||(j.above?W.set(F-1,Fe):W.set(F,Ke))}),N.on("lineWidgetCleared",function(O,j,F){j.mergeSpacer||(j.above?W.check(F-1,Fe,W.hasWidgetBelow):W.check(F,Ke,W.hasWidget))}),N.on("lineWidgetChanged",this.signal.bind(this)),N.on("change",function(O,j){var F=j.from.line,Q=j.to.line-j.from.line,le=j.text.length-1,pe=F+le;(Q||le)&&W.map(F,Q,le),W.check(pe,at,W.hasMarker),(Q||le)&&W.check(j.from.line,at,W.hasMarker)}),N.on("viewportChange",function(){W.cm.doc.height!=W.height&&W.signal()})}ie.prototype={signal:function(){n.signal(this,"realign"),this.height=this.cm.doc.height},set:function(N,W){for(var O=-1;O<this.alignable.length;O+=2){var j=this.alignable[O]-N;if(j==0){if((this.alignable[O+1]&W)==W)return;this.alignable[O+1]|=W,this.signal();return}if(j>0)break}this.signal(),this.alignable.splice(O,0,N,W)},find:function(N){for(var W=0;W<this.alignable.length;W+=2)if(this.alignable[W]==N)return W;return-1},check:function(N,W,O){var j=this.find(N);if(!(j==-1||!(this.alignable[j+1]&W))&&!O.call(this,N)){this.signal();var F=this.alignable[j+1]&~W;F?this.alignable[j+1]=F:this.alignable.splice(j,2)}},hasMarker:function(N){var W=this.cm.getLineHandle(N);if(W.markedSpans){for(var O=0;O<W.markedSpans.length;O++)if(W.markedSpans[O].marker.collapsed&&W.markedSpans[O].to!=null)return!0}return!1},hasWidget:function(N){var W=this.cm.getLineHandle(N);if(W.widgets){for(var O=0;O<W.widgets.length;O++)if(!W.widgets[O].above&&!W.widgets[O].mergeSpacer)return!0}return!1},hasWidgetBelow:function(N){if(N==this.cm.lastLine())return!1;var W=this.cm.getLineHandle(N+1);if(W.widgets){for(var O=0;O<W.widgets.length;O++)if(W.widgets[O].above&&!W.widgets[O].mergeSpacer)return!0}return!1},map:function(N,W,O){for(var j=O-W,F=N+W,Q=-1,le=-1,pe=0;pe<this.alignable.length;pe+=2){var ye=this.alignable[pe];ye==N&&this.alignable[pe+1]&Fe&&(Q=pe),ye==F&&this.alignable[pe+1]&Fe&&(le=pe),!(ye<=N)&&(ye<F?this.alignable.splice(pe--,2):this.alignable[pe]+=j)}if(Q>-1){var Y=this.alignable[Q+1];Y==Fe?this.alignable.splice(Q,2):this.alignable[Q+1]=Y&~Fe}le>-1&&O&&this.set(N+O,Fe)}};function te(N,W){return(N.line-W.line||N.ch-W.ch)<0?N:W}function be(N,W){return(N.line-W.line||N.ch-W.ch)>0?N:W}function _e(N,W){return N.line==W.line&&N.ch==W.ch}function xe(N,W,O){for(var j=N.length-1;j>=0;j--){var F=N[j],Q=(O?F.origTo:F.editTo)-1;if(Q<W)return Q}}function G(N,W,O){for(var j=0;j<N.length;j++){var F=N[j],Q=O?F.origFrom:F.editFrom;if(Q>W)return Q}}function Z(N,W){var O=null,j=N.state.diffViews,F=N.getCursor().line;if(j)for(var Q=0;Q<j.length;Q++){var le=j[Q],pe=N==le.orig;s(le);var ye=W<0?xe(le.chunks,F,pe):G(le.chunks,F,pe);ye!=null&&(O==null||(W<0?ye>O:ye<O))&&(O=ye)}if(O!=null)N.setCursor(O,0);else return n.Pass}n.commands.goNextDiff=function(N){return Z(N,1)},n.commands.goPrevDiff=function(N){return Z(N,-1)}})})();var g1={},Hoe={get exports(){return g1},set exports(t){g1=t}};(function(t){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;e.Diff=function(o,s){return[o,s]},e.prototype.diff_main=function(o,s,l,u){typeof u>"u"&&(this.Diff_Timeout<=0?u=Number.MAX_VALUE:u=new Date().getTime()+this.Diff_Timeout*1e3);var f=u;if(o==null||s==null)throw new Error("Null input. (diff_main)");if(o==s)return o?[new e.Diff(i,o)]:[];typeof l>"u"&&(l=!0);var d=l,m=this.diff_commonPrefix(o,s),v=o.substring(0,m);o=o.substring(m),s=s.substring(m),m=this.diff_commonSuffix(o,s);var y=o.substring(o.length-m);o=o.substring(0,o.length-m),s=s.substring(0,s.length-m);var _=this.diff_compute_(o,s,d,f);return v&&_.unshift(new e.Diff(i,v)),y&&_.push(new e.Diff(i,y)),this.diff_cleanupMerge(_),_},e.prototype.diff_compute_=function(o,s,l,u){var f;if(!o)return[new e.Diff(r,s)];if(!s)return[new e.Diff(n,o)];var d=o.length>s.length?o:s,m=o.length>s.length?s:o,v=d.indexOf(m);if(v!=-1)return f=[new e.Diff(r,d.substring(0,v)),new e.Diff(i,m),new e.Diff(r,d.substring(v+m.length))],o.length>s.length&&(f[0][0]=f[2][0]=n),f;if(m.length==1)return[new e.Diff(n,o),new e.Diff(r,s)];var y=this.diff_halfMatch_(o,s);if(y){var _=y[0],C=y[1],x=y[2],k=y[3],A=y[4],L=this.diff_main(_,x,l,u),E=this.diff_main(C,k,l,u);return L.concat([new e.Diff(i,A)],E)}return l&&o.length>100&&s.length>100?this.diff_lineMode_(o,s,u):this.diff_bisect_(o,s,u)},e.prototype.diff_lineMode_=function(o,s,l){var u=this.diff_linesToChars_(o,s);o=u.chars1,s=u.chars2;var f=u.lineArray,d=this.diff_main(o,s,!1,l);this.diff_charsToLines_(d,f),this.diff_cleanupSemantic(d),d.push(new e.Diff(i,""));for(var m=0,v=0,y=0,_="",C="";m<d.length;){switch(d[m][0]){case r:y++,C+=d[m][1];break;case n:v++,_+=d[m][1];break;case i:if(v>=1&&y>=1){d.splice(m-v-y,v+y),m=m-v-y;for(var x=this.diff_main(_,C,!1,l),k=x.length-1;k>=0;k--)d.splice(m,0,x[k]);m=m+x.length}y=0,v=0,_="",C="";break}m++}return d.pop(),d},e.prototype.diff_bisect_=function(o,s,l){for(var u=o.length,f=s.length,d=Math.ceil((u+f)/2),m=d,v=2*d,y=new Array(v),_=new Array(v),C=0;C<v;C++)y[C]=-1,_[C]=-1;y[m+1]=0,_[m+1]=0;for(var x=u-f,k=x%2!=0,A=0,L=0,E=0,H=0,I=0;I<d&&!(new Date().getTime()>l);I++){for(var q=-I+A;q<=I-L;q+=2){var P=m+q,z;q==-I||q!=I&&y[P-1]<y[P+1]?z=y[P+1]:z=y[P-1]+1;for(var w=z-q;z<u&&w<f&&o.charAt(z)==s.charAt(w);)z++,w++;if(y[P]=z,z>u)L+=2;else if(w>f)A+=2;else if(k){var R=m+x-q;if(R>=0&&R<v&&_[R]!=-1){var U=u-_[R];if(z>=U)return this.diff_bisectSplit_(o,s,z,w,l)}}}for(var K=-I+E;K<=I-H;K+=2){var R=m+K,U;K==-I||K!=I&&_[R-1]<_[R+1]?U=_[R+1]:U=_[R-1]+1;for(var oe=U-K;U<u&&oe<f&&o.charAt(u-U-1)==s.charAt(f-oe-1);)U++,oe++;if(_[R]=U,U>u)H+=2;else if(oe>f)E+=2;else if(!k){var P=m+x-K;if(P>=0&&P<v&&y[P]!=-1){var z=y[P],w=m+z-P;if(U=u-U,z>=U)return this.diff_bisectSplit_(o,s,z,w,l)}}}}return[new e.Diff(n,o),new e.Diff(r,s)]},e.prototype.diff_bisectSplit_=function(o,s,l,u,f){var d=o.substring(0,l),m=s.substring(0,u),v=o.substring(l),y=s.substring(u),_=this.diff_main(d,m,!1,f),C=this.diff_main(v,y,!1,f);return _.concat(C)},e.prototype.diff_linesToChars_=function(o,s){var l=[],u={};l[0]="";function f(y){for(var _="",C=0,x=-1,k=l.length;x<y.length-1;){x=y.indexOf(`
`,C),x==-1&&(x=y.length-1);var A=y.substring(C,x+1);(u.hasOwnProperty?u.hasOwnProperty(A):u[A]!==void 0)?_+=String.fromCharCode(u[A]):(k==d&&(A=y.substring(C),x=y.length),_+=String.fromCharCode(k),u[A]=k,l[k++]=A),C=x+1}return _}var d=4e4,m=f(o);d=65535;var v=f(s);return{chars1:m,chars2:v,lineArray:l}},e.prototype.diff_charsToLines_=function(o,s){for(var l=0;l<o.length;l++){for(var u=o[l][1],f=[],d=0;d<u.length;d++)f[d]=s[u.charCodeAt(d)];o[l][1]=f.join("")}},e.prototype.diff_commonPrefix=function(o,s){if(!o||!s||o.charAt(0)!=s.charAt(0))return 0;for(var l=0,u=Math.min(o.length,s.length),f=u,d=0;l<f;)o.substring(d,f)==s.substring(d,f)?(l=f,d=l):u=f,f=Math.floor((u-l)/2+l);return f},e.prototype.diff_commonSuffix=function(o,s){if(!o||!s||o.charAt(o.length-1)!=s.charAt(s.length-1))return 0;for(var l=0,u=Math.min(o.length,s.length),f=u,d=0;l<f;)o.substring(o.length-f,o.length-d)==s.substring(s.length-f,s.length-d)?(l=f,d=l):u=f,f=Math.floor((u-l)/2+l);return f},e.prototype.diff_commonOverlap_=function(o,s){var l=o.length,u=s.length;if(l==0||u==0)return 0;l>u?o=o.substring(l-u):l<u&&(s=s.substring(0,l));var f=Math.min(l,u);if(o==s)return f;for(var d=0,m=1;;){var v=o.substring(f-m),y=s.indexOf(v);if(y==-1)return d;m+=y,(y==0||o.substring(f-m)==s.substring(0,m))&&(d=m,m++)}},e.prototype.diff_halfMatch_=function(o,s){if(this.Diff_Timeout<=0)return null;var l=o.length>s.length?o:s,u=o.length>s.length?s:o;if(l.length<4||u.length*2<l.length)return null;var f=this;function d(L,E,H){for(var I=L.substring(H,H+Math.floor(L.length/4)),q=-1,P="",z,w,R,U;(q=E.indexOf(I,q+1))!=-1;){var K=f.diff_commonPrefix(L.substring(H),E.substring(q)),oe=f.diff_commonSuffix(L.substring(0,H),E.substring(0,q));P.length<oe+K&&(P=E.substring(q-oe,q)+E.substring(q,q+K),z=L.substring(0,H-oe),w=L.substring(H+K),R=E.substring(0,q-oe),U=E.substring(q+K))}return P.length*2>=L.length?[z,w,R,U,P]:null}var m=d(l,u,Math.ceil(l.length/4)),v=d(l,u,Math.ceil(l.length/2)),y;if(!m&&!v)return null;v?m?y=m[4].length>v[4].length?m:v:y=v:y=m;var _,C,x,k;o.length>s.length?(_=y[0],C=y[1],x=y[2],k=y[3]):(x=y[0],k=y[1],_=y[2],C=y[3]);var A=y[4];return[_,C,x,k,A]},e.prototype.diff_cleanupSemantic=function(o){for(var s=!1,l=[],u=0,f=null,d=0,m=0,v=0,y=0,_=0;d<o.length;)o[d][0]==i?(l[u++]=d,m=y,v=_,y=0,_=0,f=o[d][1]):(o[d][0]==r?y+=o[d][1].length:_+=o[d][1].length,f&&f.length<=Math.max(m,v)&&f.length<=Math.max(y,_)&&(o.splice(l[u-1],0,new e.Diff(n,f)),o[l[u-1]+1][0]=r,u--,u--,d=u>0?l[u-1]:-1,m=0,v=0,y=0,_=0,f=null,s=!0)),d++;for(s&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),d=1;d<o.length;){if(o[d-1][0]==n&&o[d][0]==r){var C=o[d-1][1],x=o[d][1],k=this.diff_commonOverlap_(C,x),A=this.diff_commonOverlap_(x,C);k>=A?(k>=C.length/2||k>=x.length/2)&&(o.splice(d,0,new e.Diff(i,x.substring(0,k))),o[d-1][1]=C.substring(0,C.length-k),o[d+1][1]=x.substring(k),d++):(A>=C.length/2||A>=x.length/2)&&(o.splice(d,0,new e.Diff(i,C.substring(0,A))),o[d-1][0]=r,o[d-1][1]=x.substring(0,x.length-A),o[d+1][0]=n,o[d+1][1]=C.substring(A),d++),d++}d++}},e.prototype.diff_cleanupSemanticLossless=function(o){function s(A,L){if(!A||!L)return 6;var E=A.charAt(A.length-1),H=L.charAt(0),I=E.match(e.nonAlphaNumericRegex_),q=H.match(e.nonAlphaNumericRegex_),P=I&&E.match(e.whitespaceRegex_),z=q&&H.match(e.whitespaceRegex_),w=P&&E.match(e.linebreakRegex_),R=z&&H.match(e.linebreakRegex_),U=w&&A.match(e.blanklineEndRegex_),K=R&&L.match(e.blanklineStartRegex_);return U||K?5:w||R?4:I&&!P&&z?3:P||z?2:I||q?1:0}for(var l=1;l<o.length-1;){if(o[l-1][0]==i&&o[l+1][0]==i){var u=o[l-1][1],f=o[l][1],d=o[l+1][1],m=this.diff_commonSuffix(u,f);if(m){var v=f.substring(f.length-m);u=u.substring(0,u.length-m),f=v+f.substring(0,f.length-m),d=v+d}for(var y=u,_=f,C=d,x=s(u,f)+s(f,d);f.charAt(0)===d.charAt(0);){u+=f.charAt(0),f=f.substring(1)+d.charAt(0),d=d.substring(1);var k=s(u,f)+s(f,d);k>=x&&(x=k,y=u,_=f,C=d)}o[l-1][1]!=y&&(y?o[l-1][1]=y:(o.splice(l-1,1),l--),o[l][1]=_,C?o[l+1][1]=C:(o.splice(l+1,1),l--))}l++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(o){for(var s=!1,l=[],u=0,f=null,d=0,m=!1,v=!1,y=!1,_=!1;d<o.length;)o[d][0]==i?(o[d][1].length<this.Diff_EditCost&&(y||_)?(l[u++]=d,m=y,v=_,f=o[d][1]):(u=0,f=null),y=_=!1):(o[d][0]==n?_=!0:y=!0,f&&(m&&v&&y&&_||f.length<this.Diff_EditCost/2&&m+v+y+_==3)&&(o.splice(l[u-1],0,new e.Diff(n,f)),o[l[u-1]+1][0]=r,u--,f=null,m&&v?(y=_=!0,u=0):(u--,d=u>0?l[u-1]:-1,y=_=!1),s=!0)),d++;s&&this.diff_cleanupMerge(o)},e.prototype.diff_cleanupMerge=function(o){o.push(new e.Diff(i,""));for(var s=0,l=0,u=0,f="",d="",m;s<o.length;)switch(o[s][0]){case r:u++,d+=o[s][1],s++;break;case n:l++,f+=o[s][1],s++;break;case i:l+u>1?(l!==0&&u!==0&&(m=this.diff_commonPrefix(d,f),m!==0&&(s-l-u>0&&o[s-l-u-1][0]==i?o[s-l-u-1][1]+=d.substring(0,m):(o.splice(0,0,new e.Diff(i,d.substring(0,m))),s++),d=d.substring(m),f=f.substring(m)),m=this.diff_commonSuffix(d,f),m!==0&&(o[s][1]=d.substring(d.length-m)+o[s][1],d=d.substring(0,d.length-m),f=f.substring(0,f.length-m))),s-=l+u,o.splice(s,l+u),f.length&&(o.splice(s,0,new e.Diff(n,f)),s++),d.length&&(o.splice(s,0,new e.Diff(r,d)),s++),s++):s!==0&&o[s-1][0]==i?(o[s-1][1]+=o[s][1],o.splice(s,1)):s++,u=0,l=0,f="",d="";break}o[o.length-1][1]===""&&o.pop();var v=!1;for(s=1;s<o.length-1;)o[s-1][0]==i&&o[s+1][0]==i&&(o[s][1].substring(o[s][1].length-o[s-1][1].length)==o[s-1][1]?(o[s][1]=o[s-1][1]+o[s][1].substring(0,o[s][1].length-o[s-1][1].length),o[s+1][1]=o[s-1][1]+o[s+1][1],o.splice(s-1,1),v=!0):o[s][1].substring(0,o[s+1][1].length)==o[s+1][1]&&(o[s-1][1]+=o[s+1][1],o[s][1]=o[s][1].substring(o[s+1][1].length)+o[s+1][1],o.splice(s+1,1),v=!0)),s++;v&&this.diff_cleanupMerge(o)},e.prototype.diff_xIndex=function(o,s){var l=0,u=0,f=0,d=0,m;for(m=0;m<o.length&&(o[m][0]!==r&&(l+=o[m][1].length),o[m][0]!==n&&(u+=o[m][1].length),!(l>s));m++)f=l,d=u;return o.length!=m&&o[m][0]===n?d:d+(s-f)},e.prototype.diff_prettyHtml=function(o){for(var s=[],l=/&/g,u=/</g,f=/>/g,d=/\n/g,m=0;m<o.length;m++){var v=o[m][0],y=o[m][1],_=y.replace(l,"&amp;").replace(u,"&lt;").replace(f,"&gt;").replace(d,"&para;<br>");switch(v){case r:s[m]='<ins style="background:#e6ffe6;">'+_+"</ins>";break;case n:s[m]='<del style="background:#ffe6e6;">'+_+"</del>";break;case i:s[m]="<span>"+_+"</span>";break}}return s.join("")},e.prototype.diff_text1=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==r&&(s[l]=o[l][1]);return s.join("")},e.prototype.diff_text2=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==n&&(s[l]=o[l][1]);return s.join("")},e.prototype.diff_levenshtein=function(o){for(var s=0,l=0,u=0,f=0;f<o.length;f++){var d=o[f][0],m=o[f][1];switch(d){case r:l+=m.length;break;case n:u+=m.length;break;case i:s+=Math.max(l,u),l=0,u=0;break}}return s+=Math.max(l,u),s},e.prototype.diff_toDelta=function(o){for(var s=[],l=0;l<o.length;l++)switch(o[l][0]){case r:s[l]="+"+encodeURI(o[l][1]);break;case n:s[l]="-"+o[l][1].length;break;case i:s[l]="="+o[l][1].length;break}return s.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(o,s){for(var l=[],u=0,f=0,d=s.split(/\t/g),m=0;m<d.length;m++){var v=d[m].substring(1);switch(d[m].charAt(0)){case"+":try{l[u++]=new e.Diff(r,decodeURI(v))}catch{throw new Error("Illegal escape in diff_fromDelta: "+v)}break;case"-":case"=":var y=parseInt(v,10);if(isNaN(y)||y<0)throw new Error("Invalid number in diff_fromDelta: "+v);var _=o.substring(f,f+=y);d[m].charAt(0)=="="?l[u++]=new e.Diff(i,_):l[u++]=new e.Diff(n,_);break;default:if(d[m])throw new Error("Invalid diff operation in diff_fromDelta: "+d[m])}}if(f!=o.length)throw new Error("Delta length ("+f+") does not equal source text length ("+o.length+").");return l},e.prototype.match_main=function(o,s,l){if(o==null||s==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,o.length)),o==s?0:o.length?o.substring(l,l+s.length)==s?l:this.match_bitap_(o,s,l):-1},e.prototype.match_bitap_=function(o,s,l){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var u=this.match_alphabet_(s),f=this;function d(z,w){var R=z/s.length,U=Math.abs(l-w);return f.Match_Distance?R+U/f.Match_Distance:U?1:R}var m=this.Match_Threshold,v=o.indexOf(s,l);v!=-1&&(m=Math.min(d(0,v),m),v=o.lastIndexOf(s,l+s.length),v!=-1&&(m=Math.min(d(0,v),m)));var y=1<<s.length-1;v=-1;for(var _,C,x=s.length+o.length,k,A=0;A<s.length;A++){for(_=0,C=x;_<C;)d(A,l+C)<=m?_=C:x=C,C=Math.floor((x-_)/2+_);x=C;var L=Math.max(1,l-C+1),E=Math.min(l+C,o.length)+s.length,H=Array(E+2);H[E+1]=(1<<A)-1;for(var I=E;I>=L;I--){var q=u[o.charAt(I-1)];if(A===0?H[I]=(H[I+1]<<1|1)&q:H[I]=(H[I+1]<<1|1)&q|((k[I+1]|k[I])<<1|1)|k[I+1],H[I]&y){var P=d(A,I-1);if(P<=m)if(m=P,v=I-1,v>l)L=Math.max(1,2*l-v);else break}}if(d(A+1,l)>m)break;k=H}return v},e.prototype.match_alphabet_=function(o){for(var s={},l=0;l<o.length;l++)s[o.charAt(l)]=0;for(var l=0;l<o.length;l++)s[o.charAt(l)]|=1<<o.length-l-1;return s},e.prototype.patch_addContext_=function(o,s){if(s.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var l=s.substring(o.start2,o.start2+o.length1),u=0;s.indexOf(l)!=s.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)u+=this.Patch_Margin,l=s.substring(o.start2-u,o.start2+o.length1+u);u+=this.Patch_Margin;var f=s.substring(o.start2-u,o.start2);f&&o.diffs.unshift(new e.Diff(i,f));var d=s.substring(o.start2+o.length1,o.start2+o.length1+u);d&&o.diffs.push(new e.Diff(i,d)),o.start1-=f.length,o.start2-=f.length,o.length1+=f.length+d.length,o.length2+=f.length+d.length}},e.prototype.patch_make=function(o,s,l){var u,f;if(typeof o=="string"&&typeof s=="string"&&typeof l>"u")u=o,f=this.diff_main(u,s,!0),f.length>2&&(this.diff_cleanupSemantic(f),this.diff_cleanupEfficiency(f));else if(o&&typeof o=="object"&&typeof s>"u"&&typeof l>"u")f=o,u=this.diff_text1(f);else if(typeof o=="string"&&s&&typeof s=="object"&&typeof l>"u")u=o,f=s;else if(typeof o=="string"&&typeof s=="string"&&l&&typeof l=="object")u=o,f=l;else throw new Error("Unknown call format to patch_make.");if(f.length===0)return[];for(var d=[],m=new e.patch_obj,v=0,y=0,_=0,C=u,x=u,k=0;k<f.length;k++){var A=f[k][0],L=f[k][1];switch(!v&&A!==i&&(m.start1=y,m.start2=_),A){case r:m.diffs[v++]=f[k],m.length2+=L.length,x=x.substring(0,_)+L+x.substring(_);break;case n:m.length1+=L.length,m.diffs[v++]=f[k],x=x.substring(0,_)+x.substring(_+L.length);break;case i:L.length<=2*this.Patch_Margin&&v&&f.length!=k+1?(m.diffs[v++]=f[k],m.length1+=L.length,m.length2+=L.length):L.length>=2*this.Patch_Margin&&v&&(this.patch_addContext_(m,C),d.push(m),m=new e.patch_obj,v=0,C=x,y=_);break}A!==r&&(y+=L.length),A!==n&&(_+=L.length)}return v&&(this.patch_addContext_(m,C),d.push(m)),d},e.prototype.patch_deepCopy=function(o){for(var s=[],l=0;l<o.length;l++){var u=o[l],f=new e.patch_obj;f.diffs=[];for(var d=0;d<u.diffs.length;d++)f.diffs[d]=new e.Diff(u.diffs[d][0],u.diffs[d][1]);f.start1=u.start1,f.start2=u.start2,f.length1=u.length1,f.length2=u.length2,s[l]=f}return s},e.prototype.patch_apply=function(o,s){if(o.length==0)return[s,[]];o=this.patch_deepCopy(o);var l=this.patch_addPadding(o);s=l+s+l,this.patch_splitMax(o);for(var u=0,f=[],d=0;d<o.length;d++){var m=o[d].start2+u,v=this.diff_text1(o[d].diffs),y,_=-1;if(v.length>this.Match_MaxBits?(y=this.match_main(s,v.substring(0,this.Match_MaxBits),m),y!=-1&&(_=this.match_main(s,v.substring(v.length-this.Match_MaxBits),m+v.length-this.Match_MaxBits),(_==-1||y>=_)&&(y=-1))):y=this.match_main(s,v,m),y==-1)f[d]=!1,u-=o[d].length2-o[d].length1;else{f[d]=!0,u=y-m;var C;if(_==-1?C=s.substring(y,y+v.length):C=s.substring(y,_+this.Match_MaxBits),v==C)s=s.substring(0,y)+this.diff_text2(o[d].diffs)+s.substring(y+v.length);else{var x=this.diff_main(v,C,!1);if(v.length>this.Match_MaxBits&&this.diff_levenshtein(x)/v.length>this.Patch_DeleteThreshold)f[d]=!1;else{this.diff_cleanupSemanticLossless(x);for(var k=0,A,L=0;L<o[d].diffs.length;L++){var E=o[d].diffs[L];E[0]!==i&&(A=this.diff_xIndex(x,k)),E[0]===r?s=s.substring(0,y+A)+E[1]+s.substring(y+A):E[0]===n&&(s=s.substring(0,y+A)+s.substring(y+this.diff_xIndex(x,k+E[1].length))),E[0]!==n&&(k+=E[1].length)}}}}}return s=s.substring(l.length,s.length-l.length),[s,f]},e.prototype.patch_addPadding=function(o){for(var s=this.Patch_Margin,l="",u=1;u<=s;u++)l+=String.fromCharCode(u);for(var u=0;u<o.length;u++)o[u].start1+=s,o[u].start2+=s;var f=o[0],d=f.diffs;if(d.length==0||d[0][0]!=i)d.unshift(new e.Diff(i,l)),f.start1-=s,f.start2-=s,f.length1+=s,f.length2+=s;else if(s>d[0][1].length){var m=s-d[0][1].length;d[0][1]=l.substring(d[0][1].length)+d[0][1],f.start1-=m,f.start2-=m,f.length1+=m,f.length2+=m}if(f=o[o.length-1],d=f.diffs,d.length==0||d[d.length-1][0]!=i)d.push(new e.Diff(i,l)),f.length1+=s,f.length2+=s;else if(s>d[d.length-1][1].length){var m=s-d[d.length-1][1].length;d[d.length-1][1]+=l.substring(0,m),f.length1+=m,f.length2+=m}return l},e.prototype.patch_splitMax=function(o){for(var s=this.Match_MaxBits,l=0;l<o.length;l++)if(!(o[l].length1<=s)){var u=o[l];o.splice(l--,1);for(var f=u.start1,d=u.start2,m="";u.diffs.length!==0;){var v=new e.patch_obj,y=!0;for(v.start1=f-m.length,v.start2=d-m.length,m!==""&&(v.length1=v.length2=m.length,v.diffs.push(new e.Diff(i,m)));u.diffs.length!==0&&v.length1<s-this.Patch_Margin;){var _=u.diffs[0][0],C=u.diffs[0][1];_===r?(v.length2+=C.length,d+=C.length,v.diffs.push(u.diffs.shift()),y=!1):_===n&&v.diffs.length==1&&v.diffs[0][0]==i&&C.length>2*s?(v.length1+=C.length,f+=C.length,y=!1,v.diffs.push(new e.Diff(_,C)),u.diffs.shift()):(C=C.substring(0,s-v.length1-this.Patch_Margin),v.length1+=C.length,f+=C.length,_===i?(v.length2+=C.length,d+=C.length):y=!1,v.diffs.push(new e.Diff(_,C)),C==u.diffs[0][1]?u.diffs.shift():u.diffs[0][1]=u.diffs[0][1].substring(C.length))}m=this.diff_text2(v.diffs),m=m.substring(m.length-this.Patch_Margin);var x=this.diff_text1(u.diffs).substring(0,this.Patch_Margin);x!==""&&(v.length1+=x.length,v.length2+=x.length,v.diffs.length!==0&&v.diffs[v.diffs.length-1][0]===i?v.diffs[v.diffs.length-1][1]+=x:v.diffs.push(new e.Diff(i,x))),y||o.splice(++l,0,v)}}},e.prototype.patch_toText=function(o){for(var s=[],l=0;l<o.length;l++)s[l]=o[l];return s.join("")},e.prototype.patch_fromText=function(o){var s=[];if(!o)return s;for(var l=o.split(`
`),u=0,f=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;u<l.length;){var d=l[u].match(f);if(!d)throw new Error("Invalid patch string: "+l[u]);var m=new e.patch_obj;for(s.push(m),m.start1=parseInt(d[1],10),d[2]===""?(m.start1--,m.length1=1):d[2]=="0"?m.length1=0:(m.start1--,m.length1=parseInt(d[2],10)),m.start2=parseInt(d[3],10),d[4]===""?(m.start2--,m.length2=1):d[4]=="0"?m.length2=0:(m.start2--,m.length2=parseInt(d[4],10)),u++;u<l.length;){var v=l[u].charAt(0);try{var y=decodeURI(l[u].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+y)}if(v=="-")m.diffs.push(new e.Diff(n,y));else if(v=="+")m.diffs.push(new e.Diff(r,y));else if(v==" ")m.diffs.push(new e.Diff(i,y));else{if(v=="@")break;if(v!=="")throw new Error('Invalid patch mode "'+v+'" in: '+y)}u++}}return s},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var o,s;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var l=["@@ -"+o+" +"+s+` @@
`],u,f=0;f<this.diffs.length;f++){switch(this.diffs[f][0]){case r:u="+";break;case n:u="-";break;case i:u=" ";break}l[f+1]=u+encodeURI(this.diffs[f][1])+`
`}return l.join("").replace(/%20/g," ")},t.exports=e,t.exports.diff_match_patch=e,t.exports.DIFF_DELETE=n,t.exports.DIFF_INSERT=r,t.exports.DIFF_EQUAL=i})(Hoe);const Foe=g1;var Voe={};(function(t,e){(function(n){n(Mr())})(function(n){n.defineSimpleMode=function(v,y){n.defineMode(v,function(_){return n.simpleMode(_,y)})},n.simpleMode=function(v,y){r(y,"start");var _={},C=y.meta||{},x=!1;for(var k in y)if(k!=C&&y.hasOwnProperty(k))for(var A=_[k]=[],L=y[k],E=0;E<L.length;E++){var H=L[E];A.push(new s(H,y)),(H.indent||H.dedent)&&(x=!0)}var I={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:x?[]:null}},copyState:function(P){var z={state:P.state,pending:P.pending,local:P.local,localState:null,indent:P.indent&&P.indent.slice(0)};P.localState&&(z.localState=n.copyState(P.local.mode,P.localState)),P.stack&&(z.stack=P.stack.slice(0));for(var w=P.persistentStates;w;w=w.next)z.persistentStates={mode:w.mode,spec:w.spec,state:w.state==P.localState?z.localState:n.copyState(w.mode,w.state),next:z.persistentStates};return z},token:l(_,v),innerMode:function(P){return P.local&&{mode:P.local.mode,state:P.localState}},indent:m(_,C)};if(C)for(var q in C)C.hasOwnProperty(q)&&(I[q]=C[q]);return I};function r(v,y){if(!v.hasOwnProperty(y))throw new Error("Undefined state "+y+" in simple mode")}function i(v,y){if(!v)return/(?:)/;var _="";return v instanceof RegExp?(v.ignoreCase&&(_="i"),v.unicode&&(_+="u"),v=v.source):v=String(v),new RegExp((y===!1?"":"^")+"(?:"+v+")",_)}function o(v){if(!v)return null;if(v.apply)return v;if(typeof v=="string")return v.replace(/\./g," ");for(var y=[],_=0;_<v.length;_++)y.push(v[_]&&v[_].replace(/\./g," "));return y}function s(v,y){(v.next||v.push)&&r(y,v.next||v.push),this.regex=i(v.regex),this.token=o(v.token),this.data=v}function l(v,y){return function(_,C){if(C.pending){var x=C.pending.shift();return C.pending.length==0&&(C.pending=null),_.pos+=x.text.length,x.token}if(C.local)if(C.local.end&&_.match(C.local.end)){var k=C.local.endToken||null;return C.local=C.localState=null,k}else{var k=C.local.mode.token(_,C.localState),A;return C.local.endScan&&(A=C.local.endScan.exec(_.current()))&&(_.pos=_.start+A.index),k}for(var L=v[C.state],E=0;E<L.length;E++){var H=L[E],I=(!H.data.sol||_.sol())&&_.match(H.regex);if(I){H.data.next?C.state=H.data.next:H.data.push?((C.stack||(C.stack=[])).push(C.state),C.state=H.data.push):H.data.pop&&C.stack&&C.stack.length&&(C.state=C.stack.pop()),H.data.mode&&f(y,C,H.data.mode,H.token),H.data.indent&&C.indent.push(_.indentation()+y.indentUnit),H.data.dedent&&C.indent.pop();var q=H.token;if(q&&q.apply&&(q=q(I)),I.length>2&&H.token&&typeof H.token!="string"){for(var P=2;P<I.length;P++)I[P]&&(C.pending||(C.pending=[])).push({text:I[P],token:H.token[P-1]});return _.backUp(I[0].length-(I[1]?I[1].length:0)),q[0]}else return q&&q.join?q[0]:q}}return _.next(),null}}function u(v,y){if(v===y)return!0;if(!v||typeof v!="object"||!y||typeof y!="object")return!1;var _=0;for(var C in v)if(v.hasOwnProperty(C)){if(!y.hasOwnProperty(C)||!u(v[C],y[C]))return!1;_++}for(var C in y)y.hasOwnProperty(C)&&_--;return _==0}function f(v,y,_,C){var x;if(_.persistent)for(var k=y.persistentStates;k&&!x;k=k.next)(_.spec?u(_.spec,k.spec):_.mode==k.mode)&&(x=k);var A=x?x.mode:_.mode||n.getMode(v,_.spec),L=x?x.state:n.startState(A);_.persistent&&!x&&(y.persistentStates={mode:A,spec:_.spec,state:L,next:y.persistentStates}),y.localState=L,y.local={mode:A,end:_.end&&i(_.end),endScan:_.end&&_.forceEnd!==!1&&i(_.end,!1),endToken:C&&C.join?C[C.length-1]:C}}function d(v,y){for(var _=0;_<y.length;_++)if(y[_]===v)return!0}function m(v,y){return function(_,C,x){if(_.local&&_.local.mode.indent)return _.local.mode.indent(_.localState,C,x);if(_.indent==null||_.local||y.dontIndentStates&&d(_.state,y.dontIndentStates)>-1)return n.Pass;var k=_.indent.length-1,A=v[_.state];e:for(;;){for(var L=0;L<A.length;L++){var E=A[L];if(E.data.dedent&&E.data.dedentIfLineStart!==!1){var H=E.regex.exec(C);if(H&&H[0]){k--,(E.next||E.push)&&(A=v[E.next||E.push]),C=C.slice(H[0].length);continue e}}}break}return k<0?0:_.indent[k]}}})})();!window.CodeMirror&&(window.CodeMirror=PL);const Wd=window.CodeMirror||PL,joe=Vn({name:"DefaultMode",props:{name:{type:String,default:`cm-textarea-${+new Date}`},value:{type:String,default:""},content:{type:String,default:""},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>null},placeholder:{type:String,default:""}},emits:{ready:t=>t,"update:cminstance":t=>t},setup(t,{emit:e}){const n=Ot(),r=Ot(null),i=()=>{r.value=fa(Wd.fromTextArea(n.value,t.options)),e("update:cminstance",r.value);const o=En(()=>t.cminstance,s=>{var l;s&&((l=t.cminstance)==null||l.setValue(t.value||t.content)),e("ready",fr(r)),o==null||o()},{deep:!0})};return ts(()=>{i()}),{textarea:n,initialize:i}}}),jw=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Woe=["name","placeholder"];function Uoe(t,e,n,r,i,o){return ge(),Se("textarea",{ref:"textarea",name:t.$props.name,placeholder:t.$props.placeholder},null,8,Woe)}const OE=jw(joe,[["render",Uoe]]);window.diff_match_patch=Foe;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0;const qoe=Vn({name:"MergeMode",props:{options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})}},emits:["update:cminstance","ready"],setup(t,{emit:e}){const n=Ot(),r=Ot(),i=()=>{n.value=fa(Wd.MergeView(r.value,t.options)),e("update:cminstance",n.value),e("ready",n)};return ts(()=>{i()}),{mergeView:r,initialize:i}}}),Koe={ref:"mergeView"};function Goe(t,e,n,r,i,o){return ge(),Se("div",Koe,null,512)}const Yoe=jw(qoe,[["render",Goe]]);function Joe(t){const e=/#link#(.+)#link#/g,n=[];let r;for(r=e.exec(t);r;){const i=document.createElement("a"),o=JSON.parse(r[1]),s=Object.entries(o);for(const[l,u]of s)i.setAttribute(l,u);i.className="editor_custom_link",i.innerHTML="logDownload",n.push({start:r.index,end:r.index+r[0].length,node:i}),r=e.exec(t)}return n}function Xoe(t){const e=[];function n(){const r=/#log<(\w*)>log#((.|\r\n|\n)*?)#log<(\w*)>log#/g;let i;for(i=r.exec(t);i;){const o=i[0].replace(/\r\n/g,`
`).split(`
`),s=i[2].replace(/\r\n/g,`
`).split(`
`),l=document.createElement("span"),u=i[1];l.className=`c-editor--log__${u}`;let f=0;for(let d=0;d<o.length;d++){const m=o[d],v=s[d],y=l.cloneNode(!1);y.innerText=v,e.push({start:i.index+f,end:i.index+f+m.length,node:y}),f=f+m.length+1}i=r.exec(t)}}return n(),e}const pp=[{regex:/(\[.*?\])([ \t]*)(<error>[ \t])(.+)/,token:["tag","","error.strong","error.strong"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<info>)(.+)(.?)/,token:["tag","","bracket","bracket","hr"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<warning>)(.+)(.?)/,token:["tag","","comment","comment","hr"],sol:!0}];Wd.defineSimpleMode("fclog",{start:[...pp,{regex:/.*/,token:"hr"}],error:[...pp,{regex:/.*/,token:"error.strong"}],info:[...pp,{regex:/.*/,token:"bracket"}],warning:[...pp,{regex:/.*\[/,token:"comment"}]});Wd.defineSimpleMode("log",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:["","string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});const Zoe=Vn({name:"CodemirrorFclog",props:{value:{type:String,default:""},name:{type:String,default:`cm-textarea-${+new Date}`},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["update:cminstance","ready"],setup(t,{emit:e}){const n=Ot(),r=Ot(null),i=(s=t.cminstance)=>{s.getAllMarks().forEach(f=>f.clear());const l=s.getValue(),u=[].concat(Joe(l)).concat(Xoe(l));for(let f=0;f<u.length;f++){const d=u[f];s.markText(s.posFromIndex(d.start),s.posFromIndex(d.end),{replacedWith:d.node})}},o=()=>{var s;r.value=fa(Wd.fromTextArea(n.value,t.options)),e("update:cminstance",fr(r)),(s=r.value)==null||s.on("change",i)};return En(()=>t.cminstance,s=>{var l;s&&(i(t.cminstance),(l=t.cminstance)==null||l.setValue(t.value),e("ready",r))},{deep:!0,immediate:!0}),ts(()=>{o()}),{initialize:o,textarea:n}}}),Qoe=["name","placeholder"];function ese(t,e,n,r,i,o){return ge(),Se("textarea",{ref:"textarea",name:t.$props.name,placeholder:t.$props.placeholder},null,8,Qoe)}const tse=jw(Zoe,[["render",ese]]),DL={"update:value":()=>!0,change:(t,e)=>({value:t,cm:e}),input:()=>!0,ready:t=>t},nse=["changes","scroll","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"],rse=()=>{const t={};return nse.forEach(e=>{t[e]=(...n)=>n}),t},ise={...DL,...rse()},f0={mode:"text",theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2};function ose(t){Promise.resolve().then(()=>{const e=t.getScrollInfo();t.scrollTo(e.left,e.height)})}const sse=({props:t,cminstance:e,emit:n,internalInstance:r,content:i})=>{const o=er(()=>{var l;return t.merge?(l=fr(e))==null?void 0:l.editor():fr(e)}),s=()=>{const l=[];return Object.keys(r==null?void 0:r.vnode.props).forEach(u=>{if(u.startsWith("on")){const f=u.replace(u[2],u[2].toLowerCase()).slice(2);!DL[f]&&l.push(f)}}),l};return{listenerEvents:()=>{o.value.on("change",u=>{const f=u.getValue();f===i.value&&f!==""||(i.value=f,n("update:value",i.value||""),n("input",i.value||" "),Promise.resolve().then(()=>{n("change",i.value,u)}),t.keepCursorInEnd&&ose(u))});const l={};s().filter(u=>!l[u]&&(l[u]=!0)).forEach(u=>{o.value.on(u,(...f)=>{n(u,...f)})})}}};function ase({props:t,cminstance:e,presetRef:n}){const r=Ot(null),i=Ot(null),o=er(()=>{var m;return t.merge?(m=fr(e))==null?void 0:m.editor():fr(e)}),s=()=>{Ri(()=>{var m;(m=o.value)==null||m.refresh()})},l=(m=t.width,v=t.height)=>{var y;r.value=String(m).replace("px",""),i.value=String(v).replace("px","");const _=i.value;(y=o.value)==null||y.setSize(r.value,_)},u=()=>{var m;const v=(m=o.value)==null?void 0:m.getWrapperElement();v==null||v.remove()},f=()=>{var m,v,y;const _=(m=o.value)==null?void 0:m.getDoc().getHistory();(v=n.value)==null||v.initialize(),u(),(y=o.value)==null||y.getDoc().setHistory(_)},d=()=>{const m=document.querySelector(".CodeMirror-gutters");return(m==null?void 0:m.style.left.replace("px",""))!=="0"};return{reload:f,refresh:s,resize:l,destroy:u,containerHeight:i,reviseStyle:()=>{if(s(),!d())return;const m=setInterval(()=>{d()?s():clearInterval(m)},60),v=setTimeout(()=>{clearInterval(m),clearTimeout(v)},400)}}}const lse=Vn({__name:"index",props:{value:{type:String,default:""},options:{type:Object,default:()=>f0},globalOptions:{type:Object,default:()=>f0},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},originalStyle:{type:Boolean,default:!1},keepCursorInEnd:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},name:{type:String,default:""},marker:{type:Function,default:()=>null},unseenLines:{type:Array,default:()=>[]}},emits:ise,setup(t,{expose:e,emit:n}){var r,i;const o=t;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value(P){if(P==null)throw new TypeError("Cannot convert undefined or null to object");const z=Object(P);for(let w=1;w<arguments.length;w++){const R=arguments[w];if(R!=null)for(const U in R)Object.prototype.hasOwnProperty.call(R,U)&&(z[U]=R[U])}return z},writable:!0,configurable:!0});const s=Ot(null),l=Ot(""),u=GA(OE),f=Ot({...f0,...o.globalOptions,...o.options}),d=qi(),m=o.name||((i=(r=d==null?void 0:d.parent)==null?void 0:r.type)==null?void 0:i.name)||void 0,v=Ot(null),y=er(()=>{var P;return o.merge?(P=fr(s))==null?void 0:P.editor():fr(s)}),{refresh:_,resize:C,destroy:x,containerHeight:k,reviseStyle:A}=ase({props:o,cminstance:s,presetRef:v}),{listenerEvents:L}=sse({props:o,cminstance:s,emit:n,internalInstance:d,content:l}),E=()=>{o.unseenLines!==void 0&&o.marker!==void 0&&o.unseenLines.forEach(P=>{var z,w;const R=(z=s.value)==null?void 0:z.lineInfo(P);(w=s.value)==null||w.setGutterMarker(P,"breakpoints",R!=null&&R.gutterMarkers?null:o.marker())})},H=P=>{var z,w;const R=(z=s.value)==null?void 0:z.getValue();P!==R&&((w=s.value)==null||w.setValue(P),l.value=P,A()),E()},I=()=>{L(),E(),C(o.width,o.height),n("ready",s.value),En([()=>o.width,()=>o.height],([P,z])=>{C(P,z)},{deep:!0})},q=()=>{if(o.options.mode==="fclog"||o.options.mode==="log"){u.value=tse;return}if(o.merge){u.value=Yoe;return}u.value=OE};return En(()=>o.options,P=>{var z;for(const w in o.options)(z=y.value)==null||z.setOption(w,fr(P[w]))},{deep:!0}),En(()=>o.value,P=>{H(P)}),En(()=>o.merge,q,{immediate:!0}),Ml(()=>{x()}),e({cminstance:s,resize:C,refresh:_,destroy:x}),(P,z)=>(ge(),Se("div",{class:vt(["codemirror-container",{merge:P.$props.merge,bordered:P.$props.border||P.$props.merge&&!o.originalStyle,"width-auto":!P.$props.width||P.$props.width=="100%","height-auto":!P.$props.height||P.$props.height=="100%","original-style":o.originalStyle}]),style:oi({height:fr(k)+"px"})},[(ge(),Ct(Qs(fr(u)),wi({ref_key:"presetRef",ref:v,cminstance:s.value,"onUpdate:cminstance":z[0]||(z[0]=w=>s.value=w),style:{height:"100%"}},{...P.$props,...P.$attrs,options:f.value,name:fr(m),content:l.value},{onReady:I}),null,16,["cminstance"]))],6))}});function use(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}use(`.codemirror-container {
>>>>>>>> origin/craft-4:src/web/assets/field/dist/assets/vizy-91fcee7d.js
  position: relative;
  display: inline-block;
  height: 100%;
  width: fit-content;
  font-size: 12px;
  overflow: hidden;
}
.codemirror-container.bordered {
  border-radius: 4px;
  border: 1px solid #dddddd;
}
.codemirror-container.width-auto {
  width: 100%;
}
.codemirror-container.height-auto {
  height: 100%;
}
.codemirror-container.height-auto .CodeMirror,
.codemirror-container.height-auto .cm-s-default {
  height: 100% !important;
}
.codemirror-container .editor_custom_link {
  cursor: pointer;
  color: #1474f1;
  text-decoration: underline;
}
.codemirror-container .editor_custom_link:hover {
  color: #04b4fa;
}
.codemirror-container:not(.original-style) .CodeMirror-lines .CodeMirror-placeholder.CodeMirror-line-like {
  color: #666;
}
.codemirror-container:not(.original-style) .CodeMirror,
.codemirror-container:not(.original-style) .CodeMirror-merge-pane {
  height: 100%;
  font-family: consolas !important;
}
.codemirror-container:not(.original-style) .CodeMirror-merge,
.codemirror-container:not(.original-style) .CodeMirror-merge-right .CodeMirror {
  height: 100%;
  border: none !important;
}
.codemirror-container:not(.original-style) .c-editor--log__error {
  color: #bb0606;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__info {
  color: #333333;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__warning {
  color: #ee9900;
}
.codemirror-container:not(.original-style) .c-editor--log__success {
  color: #669600;
}
.codemirror-container:not(.original-style) .cm-header,
.codemirror-container:not(.original-style) .cm-strong {
  font-weight: bold;
}
<<<<<<<< HEAD:src/web/assets/field/dist/assets/vizy-1d31d33d.js
`);var v1={},bse={get exports(){return v1},set exports(t){v1=t}},Jc={},Pf={},_se={get exports(){return Pf},set exports(t){Pf=t}},fy={},dy={},ME;function Ww(){if(ME)return dy;ME=1;function t(r){this.__parent=r,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}t.prototype.clone_empty=function(){var r=new t(this.__parent);return r.set_indent(this.__indent_count,this.__alignment_count),r},t.prototype.item=function(r){return r<0?this.__items[this.__items.length+r]:this.__items[r]},t.prototype.has_match=function(r){for(var i=this.__items.length-1;i>=0;i--)if(this.__items[i].match(r))return!0;return!1},t.prototype.set_indent=function(r,i){this.is_empty()&&(this.__indent_count=r||0,this.__alignment_count=i||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var r=this.__parent.current_line;return r.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),r.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),r.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,r.__items[0]===" "&&(r.__items.splice(0,1),r.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return this.__items.length===0},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(r){this.__items.push(r);var i=r.lastIndexOf(`
`);i!==-1?this.__character_count=r.length-i:this.__character_count+=r.length},t.prototype.pop=function(){var r=null;return this.is_empty()||(r=this.__items.pop(),this.__character_count-=r.length),r},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var r="";return this.is_empty()?this.__parent.indent_empty_lines&&(r=this.__parent.get_indent_string(this.__indent_count)):(r=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),r+=this.__items.join("")),r};function e(r,i){this.__cache=[""],this.__indent_size=r.indent_size,this.__indent_string=r.indent_char,r.indent_with_tabs||(this.__indent_string=new Array(r.indent_size+1).join(r.indent_char)),i=i||"",r.indent_level>0&&(i=new Array(r.indent_level+1).join(this.__indent_string)),this.__base_string=i,this.__base_string_length=i.length}e.prototype.get_indent_size=function(r,i){var o=this.__base_string_length;return i=i||0,r<0&&(o=0),o+=r*this.__indent_size,o+=i,o},e.prototype.get_indent_string=function(r,i){var o=this.__base_string;return i=i||0,r<0&&(r=0,o=""),i+=r*this.__indent_size,this.__ensure_cache(i),o+=this.__cache[i],o},e.prototype.__ensure_cache=function(r){for(;r>=this.__cache.length;)this.__add_column()},e.prototype.__add_column=function(){var r=this.__cache.length,i=0,o="";this.__indent_size&&r>=this.__indent_size&&(i=Math.floor(r/this.__indent_size),r-=i*this.__indent_size,o=new Array(i+1).join(this.__indent_string)),r&&(o+=new Array(r+1).join(" ")),this.__cache.push(o)};function n(r,i){this.__indent_cache=new e(r,i),this.raw=!1,this._end_with_newline=r.end_with_newline,this.indent_size=r.indent_size,this.wrap_line_length=r.wrap_line_length,this.indent_empty_lines=r.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return n.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},n.prototype.get_line_number=function(){return this.__lines.length},n.prototype.get_indent_string=function(r,i){return this.__indent_cache.get_indent_string(r,i)},n.prototype.get_indent_size=function(r,i){return this.__indent_cache.get_indent_size(r,i)},n.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},n.prototype.add_new_line=function(r){return this.is_empty()||!r&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},n.prototype.get_code=function(r){this.trim(!0);var i=this.current_line.pop();i&&(i[i.length-1]===`
`&&(i=i.replace(/\n+$/g,"")),this.current_line.push(i)),this._end_with_newline&&this.__add_outputline();var o=this.__lines.join(`
`);return r!==`
`&&(o=o.replace(/[\n]/g,r)),o},n.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},n.prototype.set_indent=function(r,i){return r=r||0,i=i||0,this.next_line.set_indent(r,i),this.__lines.length>1?(this.current_line.set_indent(r,i),!0):(this.current_line.set_indent(),!1)},n.prototype.add_raw_token=function(r){for(var i=0;i<r.newlines;i++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(r.whitespace_before),this.current_line.push(r.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},n.prototype.add_token=function(r){this.__add_space_before_token(),this.current_line.push(r),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},n.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},n.prototype.remove_indent=function(r){for(var i=this.__lines.length;r<i;)this.__lines[r]._remove_indent(),r++;this.current_line._remove_wrap_indent()},n.prototype.trim=function(r){for(r=r===void 0?!1:r,this.current_line.trim();r&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},n.prototype.just_added_newline=function(){return this.current_line.is_empty()},n.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},n.prototype.ensure_empty_line_above=function(r,i){for(var o=this.__lines.length-2;o>=0;){var s=this.__lines[o];if(s.is_empty())break;if(s.item(0).indexOf(r)!==0&&s.item(-1)!==i){this.__lines.splice(o+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}o--}},dy.Output=n,dy}var hy={},LE;function DN(){if(LE)return hy;LE=1;function t(e,n,r,i){this.type=e,this.text=n,this.comments_before=null,this.newlines=r||0,this.whitespace_before=i||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return hy.Token=t,hy}var py={},NE;function RN(){return NE||(NE=1,function(t){var e="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",o="(?:\\\\u[0-9a-fA-F]{4}|["+e+r+"])",s="(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])*";t.identifier=new RegExp(o+s,"g"),t.identifierStart=new RegExp(o),t.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])+"),t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp(`\r
|`+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g")}(py)),py}var my={},Xc={},IE;function Uw(){if(IE)return Xc;IE=1;function t(r,i){this.raw_options=e(r,i),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}t.prototype._get_array=function(r,i){var o=this.raw_options[r],s=i||[];return typeof o=="object"?o!==null&&typeof o.concat=="function"&&(s=o.concat()):typeof o=="string"&&(s=o.split(/[^a-zA-Z0-9_\/\-]+/)),s},t.prototype._get_boolean=function(r,i){var o=this.raw_options[r],s=o===void 0?!!i:!!o;return s},t.prototype._get_characters=function(r,i){var o=this.raw_options[r],s=i||"";return typeof o=="string"&&(s=o.replace(/\\r/,"\r").replace(/\\n/,`
========
`);var v1={},cse={get exports(){return v1},set exports(t){v1=t}},Jc={},Pf={},fse={get exports(){return Pf},set exports(t){Pf=t}},d0={},h0={},ME;function Ww(){if(ME)return h0;ME=1;function t(r){this.__parent=r,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}t.prototype.clone_empty=function(){var r=new t(this.__parent);return r.set_indent(this.__indent_count,this.__alignment_count),r},t.prototype.item=function(r){return r<0?this.__items[this.__items.length+r]:this.__items[r]},t.prototype.has_match=function(r){for(var i=this.__items.length-1;i>=0;i--)if(this.__items[i].match(r))return!0;return!1},t.prototype.set_indent=function(r,i){this.is_empty()&&(this.__indent_count=r||0,this.__alignment_count=i||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var r=this.__parent.current_line;return r.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),r.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),r.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,r.__items[0]===" "&&(r.__items.splice(0,1),r.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return this.__items.length===0},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(r){this.__items.push(r);var i=r.lastIndexOf(`
`);i!==-1?this.__character_count=r.length-i:this.__character_count+=r.length},t.prototype.pop=function(){var r=null;return this.is_empty()||(r=this.__items.pop(),this.__character_count-=r.length),r},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var r="";return this.is_empty()?this.__parent.indent_empty_lines&&(r=this.__parent.get_indent_string(this.__indent_count)):(r=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),r+=this.__items.join("")),r};function e(r,i){this.__cache=[""],this.__indent_size=r.indent_size,this.__indent_string=r.indent_char,r.indent_with_tabs||(this.__indent_string=new Array(r.indent_size+1).join(r.indent_char)),i=i||"",r.indent_level>0&&(i=new Array(r.indent_level+1).join(this.__indent_string)),this.__base_string=i,this.__base_string_length=i.length}e.prototype.get_indent_size=function(r,i){var o=this.__base_string_length;return i=i||0,r<0&&(o=0),o+=r*this.__indent_size,o+=i,o},e.prototype.get_indent_string=function(r,i){var o=this.__base_string;return i=i||0,r<0&&(r=0,o=""),i+=r*this.__indent_size,this.__ensure_cache(i),o+=this.__cache[i],o},e.prototype.__ensure_cache=function(r){for(;r>=this.__cache.length;)this.__add_column()},e.prototype.__add_column=function(){var r=this.__cache.length,i=0,o="";this.__indent_size&&r>=this.__indent_size&&(i=Math.floor(r/this.__indent_size),r-=i*this.__indent_size,o=new Array(i+1).join(this.__indent_string)),r&&(o+=new Array(r+1).join(" ")),this.__cache.push(o)};function n(r,i){this.__indent_cache=new e(r,i),this.raw=!1,this._end_with_newline=r.end_with_newline,this.indent_size=r.indent_size,this.wrap_line_length=r.wrap_line_length,this.indent_empty_lines=r.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return n.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},n.prototype.get_line_number=function(){return this.__lines.length},n.prototype.get_indent_string=function(r,i){return this.__indent_cache.get_indent_string(r,i)},n.prototype.get_indent_size=function(r,i){return this.__indent_cache.get_indent_size(r,i)},n.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},n.prototype.add_new_line=function(r){return this.is_empty()||!r&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},n.prototype.get_code=function(r){this.trim(!0);var i=this.current_line.pop();i&&(i[i.length-1]===`
`&&(i=i.replace(/\n+$/g,"")),this.current_line.push(i)),this._end_with_newline&&this.__add_outputline();var o=this.__lines.join(`
`);return r!==`
`&&(o=o.replace(/[\n]/g,r)),o},n.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},n.prototype.set_indent=function(r,i){return r=r||0,i=i||0,this.next_line.set_indent(r,i),this.__lines.length>1?(this.current_line.set_indent(r,i),!0):(this.current_line.set_indent(),!1)},n.prototype.add_raw_token=function(r){for(var i=0;i<r.newlines;i++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(r.whitespace_before),this.current_line.push(r.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},n.prototype.add_token=function(r){this.__add_space_before_token(),this.current_line.push(r),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},n.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},n.prototype.remove_indent=function(r){for(var i=this.__lines.length;r<i;)this.__lines[r]._remove_indent(),r++;this.current_line._remove_wrap_indent()},n.prototype.trim=function(r){for(r=r===void 0?!1:r,this.current_line.trim();r&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},n.prototype.just_added_newline=function(){return this.current_line.is_empty()},n.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},n.prototype.ensure_empty_line_above=function(r,i){for(var o=this.__lines.length-2;o>=0;){var s=this.__lines[o];if(s.is_empty())break;if(s.item(0).indexOf(r)!==0&&s.item(-1)!==i){this.__lines.splice(o+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}o--}},h0.Output=n,h0}var p0={},NE;function RL(){if(NE)return p0;NE=1;function t(e,n,r,i){this.type=e,this.text=n,this.comments_before=null,this.newlines=r||0,this.whitespace_before=i||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return p0.Token=t,p0}var m0={},LE;function zL(){return LE||(LE=1,function(t){var e="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",o="(?:\\\\u[0-9a-fA-F]{4}|["+e+r+"])",s="(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])*";t.identifier=new RegExp(o+s,"g"),t.identifierStart=new RegExp(o),t.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])+"),t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp(`\r
|`+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g")}(m0)),m0}var g0={},Xc={},IE;function Uw(){if(IE)return Xc;IE=1;function t(r,i){this.raw_options=e(r,i),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}t.prototype._get_array=function(r,i){var o=this.raw_options[r],s=i||[];return typeof o=="object"?o!==null&&typeof o.concat=="function"&&(s=o.concat()):typeof o=="string"&&(s=o.split(/[^a-zA-Z0-9_\/\-]+/)),s},t.prototype._get_boolean=function(r,i){var o=this.raw_options[r],s=o===void 0?!!i:!!o;return s},t.prototype._get_characters=function(r,i){var o=this.raw_options[r],s=i||"";return typeof o=="string"&&(s=o.replace(/\\r/,"\r").replace(/\\n/,`
>>>>>>>> origin/craft-4:src/web/assets/field/dist/assets/vizy-91fcee7d.js
`).replace(/\\t/,"	")),s},t.prototype._get_number=function(r,i){var o=this.raw_options[r];i=parseInt(i,10),isNaN(i)&&(i=0);var s=parseInt(o,10);return isNaN(s)&&(s=i),s},t.prototype._get_selection=function(r,i,o){var s=this._get_selection_list(r,i,o);if(s.length!==1)throw new Error("Invalid Option Value: The option '"+r+`' can only be one of the following values:
`+i+`
You passed in: '`+this.raw_options[r]+"'");return s[0]},t.prototype._get_selection_list=function(r,i,o){if(!i||i.length===0)throw new Error("Selection list cannot be empty.");if(o=o||[i[0]],!this._is_valid_selection(o,i))throw new Error("Invalid Default Value!");var s=this._get_array(r,o);if(!this._is_valid_selection(s,i))throw new Error("Invalid Option Value: The option '"+r+`' can contain only the following values:
`+i+`
<<<<<<<< HEAD:src/web/assets/field/dist/assets/vizy-1d31d33d.js
You passed in: '`+this.raw_options[r]+"'");return s},t.prototype._is_valid_selection=function(r,i){return r.length&&i.length&&!r.some(function(o){return i.indexOf(o)===-1})};function e(r,i){var o={};r=n(r);var s;for(s in r)s!==i&&(o[s]=r[s]);if(i&&r[i])for(s in r[i])o[s]=r[i][s];return o}function n(r){var i={},o;for(o in r){var s=o.replace(/-/g,"_");i[s]=r[o]}return i}return Xc.Options=t,Xc.normalizeOpts=n,Xc.mergeOpts=e,Xc}var PE;function zN(){if(PE)return my;PE=1;var t=Uw().Options,e=["before-newline","after-newline","preserve-newline"];function n(r){t.call(this,r,"js");var i=this.raw_options.brace_style||null;i==="expand-strict"?this.raw_options.brace_style="expand":i==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var o=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var s=0;s<o.length;s++)o[s]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=o[s];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",e),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return n.prototype=new t,my.Options=n,my}var ou={},gy={},DE;function qw(){if(DE)return gy;DE=1;var t=RegExp.prototype.hasOwnProperty("sticky");function e(n){this.__input=n||"",this.__input_length=this.__input.length,this.__position=0}return e.prototype.restart=function(){this.__position=0},e.prototype.back=function(){this.__position>0&&(this.__position-=1)},e.prototype.hasNext=function(){return this.__position<this.__input_length},e.prototype.next=function(){var n=null;return this.hasNext()&&(n=this.__input.charAt(this.__position),this.__position+=1),n},e.prototype.peek=function(n){var r=null;return n=n||0,n+=this.__position,n>=0&&n<this.__input_length&&(r=this.__input.charAt(n)),r},e.prototype.__match=function(n,r){n.lastIndex=r;var i=n.exec(this.__input);return i&&!(t&&n.sticky)&&i.index!==r&&(i=null),i},e.prototype.test=function(n,r){return r=r||0,r+=this.__position,r>=0&&r<this.__input_length?!!this.__match(n,r):!1},e.prototype.testChar=function(n,r){var i=this.peek(r);return n.lastIndex=0,i!==null&&n.test(i)},e.prototype.match=function(n){var r=this.__match(n,this.__position);return r?this.__position+=r[0].length:r=null,r},e.prototype.read=function(n,r,i){var o="",s;return n&&(s=this.match(n),s&&(o+=s[0])),r&&(s||!n)&&(o+=this.readUntil(r,i)),o},e.prototype.readUntil=function(n,r){var i="",o=this.__position;n.lastIndex=this.__position;var s=n.exec(this.__input);return s?(o=s.index,r&&(o+=s[0].length)):o=this.__input_length,i=this.__input.substring(this.__position,o),this.__position=o,i},e.prototype.readUntilAfter=function(n){return this.readUntil(n,!0)},e.prototype.get_regexp=function(n,r){var i=null,o="g";return r&&t&&(o="y"),typeof n=="string"&&n!==""?i=new RegExp(n,o):n&&(i=new RegExp(n.source,o)),i},e.prototype.get_literal_regexp=function(n){return RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},e.prototype.peekUntilAfter=function(n){var r=this.__position,i=this.readUntilAfter(n);return this.__position=r,i},e.prototype.lookBack=function(n){var r=this.__position-1;return r>=n.length&&this.__input.substring(r-n.length,r).toLowerCase()===n},gy.InputScanner=e,gy}var pp={},vy={},RE;function wse(){if(RE)return vy;RE=1;function t(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}return t.prototype.restart=function(){this.__position=0},t.prototype.isEmpty=function(){return this.__tokens_length===0},t.prototype.hasNext=function(){return this.__position<this.__tokens_length},t.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},t.prototype.peek=function(e){var n=null;return e=e||0,e+=this.__position,e>=0&&e<this.__tokens_length&&(n=this.__tokens[e]),n},t.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},vy.TokenStream=t,vy}var yy={},by={},zE;function uv(){if(zE)return by;zE=1;function t(e,n){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,n&&(this._starting_pattern=this._input.get_regexp(n._starting_pattern,!0),this._match_pattern=this._input.get_regexp(n._match_pattern,!0),this._until_pattern=this._input.get_regexp(n._until_pattern),this._until_after=n._until_after)}return t.prototype.read=function(){var e=this._input.read(this._starting_pattern);return(!this._starting_pattern||e)&&(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},t.prototype.read_match=function(){return this._input.match(this._match_pattern)},t.prototype.until_after=function(e){var n=this._create();return n._until_after=!0,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.until=function(e){var n=this._create();return n._until_after=!1,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.starting_with=function(e){var n=this._create();return n._starting_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype.matching=function(e){var n=this._create();return n._match_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype._create=function(){return new t(this._input,this)},t.prototype._update=function(){},by.Pattern=t,by}var BE;function kse(){if(BE)return yy;BE=1;var t=uv().Pattern;function e(n,r){t.call(this,n,r),r?this._line_regexp=this._input.get_regexp(r._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return e.prototype=new t,e.prototype.__set_whitespace_patterns=function(n,r){n+="\\t ",r+="\\n\\r",this._match_pattern=this._input.get_regexp("["+n+r+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+r+"]")},e.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var n=this._input.read(this._match_pattern);if(n===" ")this.whitespace_before_token=" ";else if(n){var r=this.__split(this._newline_regexp,n);this.newline_count=r.length-1,this.whitespace_before_token=r[this.newline_count]}return n},e.prototype.matching=function(n,r){var i=this._create();return i.__set_whitespace_patterns(n,r),i._update(),i},e.prototype._create=function(){return new e(this._input,this)},e.prototype.__split=function(n,r){n.lastIndex=0;for(var i=0,o=[],s=n.exec(r);s;)o.push(r.substring(i,s.index)),i=s.index+s[0].length,s=n.exec(r);return i<r.length?o.push(r.substring(i,r.length)):o.push(""),o},yy.WhitespacePattern=e,yy}var $E;function ng(){if($E)return pp;$E=1;var t=qw().InputScanner,e=DN().Token,n=wse().TokenStream,r=kse().WhitespacePattern,i={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},o=function(s,l){this._input=new t(s),this._options=l||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new r(this._input)};return o.prototype.tokenize=function(){this._input.restart(),this.__tokens=new n,this._reset();for(var s,l=new e(i.START,""),u=null,f=[],d=new n;l.type!==i.EOF;){for(s=this._get_next_token(l,u);this._is_comment(s);)d.add(s),s=this._get_next_token(l,u);d.isEmpty()||(s.comments_before=d,d=new n),s.parent=u,this._is_opening(s)?(f.push(u),u=s):u&&this._is_closing(s,u)&&(s.opened=u,u.closed=s,u=f.pop(),s.parent=u),s.previous=l,l.next=s,this.__tokens.add(s),l=s}return this.__tokens},o.prototype._is_first_token=function(){return this.__tokens.isEmpty()},o.prototype._reset=function(){},o.prototype._get_next_token=function(s,l){this._readWhitespace();var u=this._input.read(/.+/g);return u?this._create_token(i.RAW,u):this._create_token(i.EOF,"")},o.prototype._is_comment=function(s){return!1},o.prototype._is_opening=function(s){return!1},o.prototype._is_closing=function(s,l){return!1},o.prototype._create_token=function(s,l){var u=new e(s,l,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return u},o.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},pp.Tokenizer=o,pp.TOKEN=i,pp}var _y={},HE;function Kw(){if(HE)return _y;HE=1;function t(e,n){e=typeof e=="string"?e:e.source,n=typeof n=="string"?n:n.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+n,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+n,"g")}return t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var n={};this.__directive_pattern.lastIndex=0;for(var r=this.__directive_pattern.exec(e);r;)n[r[1]]=r[2],r=this.__directive_pattern.exec(e);return n},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},_y.Directives=t,_y}var wy={},FE;function BN(){if(FE)return wy;FE=1;var t=uv().Pattern,e={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function n(r,i){t.call(this,r,i),this.__template_pattern=null,this._disabled=Object.assign({},e),this._excluded=Object.assign({},e),i&&(this.__template_pattern=this._input.get_regexp(i.__template_pattern),this._excluded=Object.assign(this._excluded,i._excluded),this._disabled=Object.assign(this._disabled,i._disabled));var o=new t(r);this.__patterns={handlebars_comment:o.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:o.starting_with(/{{{/).until_after(/}}}/),handlebars:o.starting_with(/{{/).until_after(/}}/),php:o.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:o.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:o.starting_with(/{%/).until_after(/%}/),django_value:o.starting_with(/{{/).until_after(/}}/),django_comment:o.starting_with(/{#/).until_after(/#}/),smarty:o.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:o.starting_with(/{\*/).until_after(/\*}/),smarty_literal:o.starting_with(/{literal}/).until_after(/{\/literal}/)}}return n.prototype=new t,n.prototype._create=function(){return new n(this._input,this)},n.prototype._update=function(){this.__set_templated_pattern()},n.prototype.disable=function(r){var i=this._create();return i._disabled[r]=!0,i._update(),i},n.prototype.read_options=function(r){var i=this._create();for(var o in e)i._disabled[o]=r.templating.indexOf(o)===-1;return i._update(),i},n.prototype.exclude=function(r){var i=this._create();return i._excluded[r]=!0,i._update(),i},n.prototype.read=function(){var r="";this._match_pattern?r=this._input.read(this._starting_pattern):r=this._input.read(this._starting_pattern,this.__template_pattern);for(var i=this._read_template();i;)this._match_pattern?i+=this._input.read(this._match_pattern):i+=this._input.readUntil(this.__template_pattern),r+=i,i=this._read_template();return this._until_after&&(r+=this._input.readUntilAfter(this._until_pattern)),r},n.prototype.__set_templated_pattern=function(){var r=[];this._disabled.php||r.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||r.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||r.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(r.push(this.__patterns.django._starting_pattern.source),r.push(this.__patterns.django_value._starting_pattern.source),r.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||r.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&r.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+r.join("|")+")")},n.prototype._read_template=function(){var r="",i=this._input.peek();if(i==="<"){var o=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&o==="?"&&(r=r||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&o==="%"&&(r=r||this.__patterns.erb.read())}else i==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(r=r||this.__patterns.handlebars_comment.read(),r=r||this.__patterns.handlebars_unescaped.read(),r=r||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(r=r||this.__patterns.django_value.read()),this._excluded.django||(r=r||this.__patterns.django_comment.read(),r=r||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(r=r||this.__patterns.smarty_comment.read(),r=r||this.__patterns.smarty_literal.read(),r=r||this.__patterns.smarty.read()));return r},wy.TemplatablePattern=n,wy}var VE;function mp(){if(VE)return ou;VE=1;var t=qw().InputScanner,e=ng().Tokenizer,n=ng().TOKEN,r=Kw().Directives,i=RN(),o=uv().Pattern,s=BN().TemplatablePattern;function l(I,q){return q.indexOf(I)!==-1}var u={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:n.START,RAW:n.RAW,EOF:n.EOF},f=new r(/\/\*/,/\*\//),d=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,m=/[0-9]/,v=/[^\d\.]/,y=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),_=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";_=_.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),_="\\?\\.(?!\\d) "+_,_=_.replace(/ /g,"|");var C=new RegExp(_),x="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),k=x.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),A=new RegExp("^(?:"+k.join("|")+")$"),N,E=function(I,q){e.call(this,I,q),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var P=new o(this._input),z=new s(this._input).read_options(this._options);this.__patterns={template:z,identifier:z.starting_with(i.identifier).matching(i.identifierMatch),number:P.matching(d),punct:P.matching(C),comment:P.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:P.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:P.matching(/<!--/),html_comment_end:P.matching(/-->/),include:P.starting_with(/#include/).until_after(i.lineBreak),shebang:P.starting_with(/#!/).until_after(i.lineBreak),xml:P.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:z.until(/['\\\n\r\u2028\u2029]/),double_quote:z.until(/["\\\n\r\u2028\u2029]/),template_text:z.until(/[`\\$]/),template_expression:z.until(/[`}\\]/)}};E.prototype=new e,E.prototype._is_comment=function(I){return I.type===u.COMMENT||I.type===u.BLOCK_COMMENT||I.type===u.UNKNOWN},E.prototype._is_opening=function(I){return I.type===u.START_BLOCK||I.type===u.START_EXPR},E.prototype._is_closing=function(I,q){return(I.type===u.END_BLOCK||I.type===u.END_EXPR)&&q&&(I.text==="]"&&q.text==="["||I.text===")"&&q.text==="("||I.text==="}"&&q.text==="{")},E.prototype._reset=function(){N=!1},E.prototype._get_next_token=function(I,q){var P=null;this._readWhitespace();var z=this._input.peek();return z===null?this._create_token(u.EOF,""):(P=P||this._read_non_javascript(z),P=P||this._read_string(z),P=P||this._read_word(I),P=P||this._read_singles(z),P=P||this._read_comment(z),P=P||this._read_regexp(z,I),P=P||this._read_xml(z,I),P=P||this._read_punctuation(),P=P||this._create_token(u.UNKNOWN,this._input.next()),P)},E.prototype._read_word=function(I){var q;if(q=this.__patterns.identifier.read(),q!=="")return q=q.replace(i.allLineBreaks,`
========
You passed in: '`+this.raw_options[r]+"'");return s},t.prototype._is_valid_selection=function(r,i){return r.length&&i.length&&!r.some(function(o){return i.indexOf(o)===-1})};function e(r,i){var o={};r=n(r);var s;for(s in r)s!==i&&(o[s]=r[s]);if(i&&r[i])for(s in r[i])o[s]=r[i][s];return o}function n(r){var i={},o;for(o in r){var s=o.replace(/-/g,"_");i[s]=r[o]}return i}return Xc.Options=t,Xc.normalizeOpts=n,Xc.mergeOpts=e,Xc}var PE;function BL(){if(PE)return g0;PE=1;var t=Uw().Options,e=["before-newline","after-newline","preserve-newline"];function n(r){t.call(this,r,"js");var i=this.raw_options.brace_style||null;i==="expand-strict"?this.raw_options.brace_style="expand":i==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var o=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var s=0;s<o.length;s++)o[s]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=o[s];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",e),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return n.prototype=new t,g0.Options=n,g0}var ou={},v0={},DE;function qw(){if(DE)return v0;DE=1;var t=RegExp.prototype.hasOwnProperty("sticky");function e(n){this.__input=n||"",this.__input_length=this.__input.length,this.__position=0}return e.prototype.restart=function(){this.__position=0},e.prototype.back=function(){this.__position>0&&(this.__position-=1)},e.prototype.hasNext=function(){return this.__position<this.__input_length},e.prototype.next=function(){var n=null;return this.hasNext()&&(n=this.__input.charAt(this.__position),this.__position+=1),n},e.prototype.peek=function(n){var r=null;return n=n||0,n+=this.__position,n>=0&&n<this.__input_length&&(r=this.__input.charAt(n)),r},e.prototype.__match=function(n,r){n.lastIndex=r;var i=n.exec(this.__input);return i&&!(t&&n.sticky)&&i.index!==r&&(i=null),i},e.prototype.test=function(n,r){return r=r||0,r+=this.__position,r>=0&&r<this.__input_length?!!this.__match(n,r):!1},e.prototype.testChar=function(n,r){var i=this.peek(r);return n.lastIndex=0,i!==null&&n.test(i)},e.prototype.match=function(n){var r=this.__match(n,this.__position);return r?this.__position+=r[0].length:r=null,r},e.prototype.read=function(n,r,i){var o="",s;return n&&(s=this.match(n),s&&(o+=s[0])),r&&(s||!n)&&(o+=this.readUntil(r,i)),o},e.prototype.readUntil=function(n,r){var i="",o=this.__position;n.lastIndex=this.__position;var s=n.exec(this.__input);return s?(o=s.index,r&&(o+=s[0].length)):o=this.__input_length,i=this.__input.substring(this.__position,o),this.__position=o,i},e.prototype.readUntilAfter=function(n){return this.readUntil(n,!0)},e.prototype.get_regexp=function(n,r){var i=null,o="g";return r&&t&&(o="y"),typeof n=="string"&&n!==""?i=new RegExp(n,o):n&&(i=new RegExp(n.source,o)),i},e.prototype.get_literal_regexp=function(n){return RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},e.prototype.peekUntilAfter=function(n){var r=this.__position,i=this.readUntilAfter(n);return this.__position=r,i},e.prototype.lookBack=function(n){var r=this.__position-1;return r>=n.length&&this.__input.substring(r-n.length,r).toLowerCase()===n},v0.InputScanner=e,v0}var mp={},y0={},RE;function dse(){if(RE)return y0;RE=1;function t(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}return t.prototype.restart=function(){this.__position=0},t.prototype.isEmpty=function(){return this.__tokens_length===0},t.prototype.hasNext=function(){return this.__position<this.__tokens_length},t.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},t.prototype.peek=function(e){var n=null;return e=e||0,e+=this.__position,e>=0&&e<this.__tokens_length&&(n=this.__tokens[e]),n},t.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},y0.TokenStream=t,y0}var b0={},_0={},zE;function cv(){if(zE)return _0;zE=1;function t(e,n){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,n&&(this._starting_pattern=this._input.get_regexp(n._starting_pattern,!0),this._match_pattern=this._input.get_regexp(n._match_pattern,!0),this._until_pattern=this._input.get_regexp(n._until_pattern),this._until_after=n._until_after)}return t.prototype.read=function(){var e=this._input.read(this._starting_pattern);return(!this._starting_pattern||e)&&(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},t.prototype.read_match=function(){return this._input.match(this._match_pattern)},t.prototype.until_after=function(e){var n=this._create();return n._until_after=!0,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.until=function(e){var n=this._create();return n._until_after=!1,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.starting_with=function(e){var n=this._create();return n._starting_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype.matching=function(e){var n=this._create();return n._match_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype._create=function(){return new t(this._input,this)},t.prototype._update=function(){},_0.Pattern=t,_0}var BE;function hse(){if(BE)return b0;BE=1;var t=cv().Pattern;function e(n,r){t.call(this,n,r),r?this._line_regexp=this._input.get_regexp(r._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return e.prototype=new t,e.prototype.__set_whitespace_patterns=function(n,r){n+="\\t ",r+="\\n\\r",this._match_pattern=this._input.get_regexp("["+n+r+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+r+"]")},e.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var n=this._input.read(this._match_pattern);if(n===" ")this.whitespace_before_token=" ";else if(n){var r=this.__split(this._newline_regexp,n);this.newline_count=r.length-1,this.whitespace_before_token=r[this.newline_count]}return n},e.prototype.matching=function(n,r){var i=this._create();return i.__set_whitespace_patterns(n,r),i._update(),i},e.prototype._create=function(){return new e(this._input,this)},e.prototype.__split=function(n,r){n.lastIndex=0;for(var i=0,o=[],s=n.exec(r);s;)o.push(r.substring(i,s.index)),i=s.index+s[0].length,s=n.exec(r);return i<r.length?o.push(r.substring(i,r.length)):o.push(""),o},b0.WhitespacePattern=e,b0}var $E;function rg(){if($E)return mp;$E=1;var t=qw().InputScanner,e=RL().Token,n=dse().TokenStream,r=hse().WhitespacePattern,i={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},o=function(s,l){this._input=new t(s),this._options=l||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new r(this._input)};return o.prototype.tokenize=function(){this._input.restart(),this.__tokens=new n,this._reset();for(var s,l=new e(i.START,""),u=null,f=[],d=new n;l.type!==i.EOF;){for(s=this._get_next_token(l,u);this._is_comment(s);)d.add(s),s=this._get_next_token(l,u);d.isEmpty()||(s.comments_before=d,d=new n),s.parent=u,this._is_opening(s)?(f.push(u),u=s):u&&this._is_closing(s,u)&&(s.opened=u,u.closed=s,u=f.pop(),s.parent=u),s.previous=l,l.next=s,this.__tokens.add(s),l=s}return this.__tokens},o.prototype._is_first_token=function(){return this.__tokens.isEmpty()},o.prototype._reset=function(){},o.prototype._get_next_token=function(s,l){this._readWhitespace();var u=this._input.read(/.+/g);return u?this._create_token(i.RAW,u):this._create_token(i.EOF,"")},o.prototype._is_comment=function(s){return!1},o.prototype._is_opening=function(s){return!1},o.prototype._is_closing=function(s,l){return!1},o.prototype._create_token=function(s,l){var u=new e(s,l,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return u},o.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},mp.Tokenizer=o,mp.TOKEN=i,mp}var w0={},HE;function Kw(){if(HE)return w0;HE=1;function t(e,n){e=typeof e=="string"?e:e.source,n=typeof n=="string"?n:n.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+n,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+n,"g")}return t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var n={};this.__directive_pattern.lastIndex=0;for(var r=this.__directive_pattern.exec(e);r;)n[r[1]]=r[2],r=this.__directive_pattern.exec(e);return n},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},w0.Directives=t,w0}var k0={},FE;function $L(){if(FE)return k0;FE=1;var t=cv().Pattern,e={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function n(r,i){t.call(this,r,i),this.__template_pattern=null,this._disabled=Object.assign({},e),this._excluded=Object.assign({},e),i&&(this.__template_pattern=this._input.get_regexp(i.__template_pattern),this._excluded=Object.assign(this._excluded,i._excluded),this._disabled=Object.assign(this._disabled,i._disabled));var o=new t(r);this.__patterns={handlebars_comment:o.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:o.starting_with(/{{{/).until_after(/}}}/),handlebars:o.starting_with(/{{/).until_after(/}}/),php:o.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:o.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:o.starting_with(/{%/).until_after(/%}/),django_value:o.starting_with(/{{/).until_after(/}}/),django_comment:o.starting_with(/{#/).until_after(/#}/),smarty:o.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:o.starting_with(/{\*/).until_after(/\*}/),smarty_literal:o.starting_with(/{literal}/).until_after(/{\/literal}/)}}return n.prototype=new t,n.prototype._create=function(){return new n(this._input,this)},n.prototype._update=function(){this.__set_templated_pattern()},n.prototype.disable=function(r){var i=this._create();return i._disabled[r]=!0,i._update(),i},n.prototype.read_options=function(r){var i=this._create();for(var o in e)i._disabled[o]=r.templating.indexOf(o)===-1;return i._update(),i},n.prototype.exclude=function(r){var i=this._create();return i._excluded[r]=!0,i._update(),i},n.prototype.read=function(){var r="";this._match_pattern?r=this._input.read(this._starting_pattern):r=this._input.read(this._starting_pattern,this.__template_pattern);for(var i=this._read_template();i;)this._match_pattern?i+=this._input.read(this._match_pattern):i+=this._input.readUntil(this.__template_pattern),r+=i,i=this._read_template();return this._until_after&&(r+=this._input.readUntilAfter(this._until_pattern)),r},n.prototype.__set_templated_pattern=function(){var r=[];this._disabled.php||r.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||r.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||r.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(r.push(this.__patterns.django._starting_pattern.source),r.push(this.__patterns.django_value._starting_pattern.source),r.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||r.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&r.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+r.join("|")+")")},n.prototype._read_template=function(){var r="",i=this._input.peek();if(i==="<"){var o=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&o==="?"&&(r=r||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&o==="%"&&(r=r||this.__patterns.erb.read())}else i==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(r=r||this.__patterns.handlebars_comment.read(),r=r||this.__patterns.handlebars_unescaped.read(),r=r||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(r=r||this.__patterns.django_value.read()),this._excluded.django||(r=r||this.__patterns.django_comment.read(),r=r||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(r=r||this.__patterns.smarty_comment.read(),r=r||this.__patterns.smarty_literal.read(),r=r||this.__patterns.smarty.read()));return r},k0.TemplatablePattern=n,k0}var VE;function gp(){if(VE)return ou;VE=1;var t=qw().InputScanner,e=rg().Tokenizer,n=rg().TOKEN,r=Kw().Directives,i=zL(),o=cv().Pattern,s=$L().TemplatablePattern;function l(I,q){return q.indexOf(I)!==-1}var u={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:n.START,RAW:n.RAW,EOF:n.EOF},f=new r(/\/\*/,/\*\//),d=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,m=/[0-9]/,v=/[^\d\.]/,y=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),_=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";_=_.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),_="\\?\\.(?!\\d) "+_,_=_.replace(/ /g,"|");var C=new RegExp(_),x="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),k=x.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),A=new RegExp("^(?:"+k.join("|")+")$"),L,E=function(I,q){e.call(this,I,q),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var P=new o(this._input),z=new s(this._input).read_options(this._options);this.__patterns={template:z,identifier:z.starting_with(i.identifier).matching(i.identifierMatch),number:P.matching(d),punct:P.matching(C),comment:P.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:P.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:P.matching(/<!--/),html_comment_end:P.matching(/-->/),include:P.starting_with(/#include/).until_after(i.lineBreak),shebang:P.starting_with(/#!/).until_after(i.lineBreak),xml:P.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:z.until(/['\\\n\r\u2028\u2029]/),double_quote:z.until(/["\\\n\r\u2028\u2029]/),template_text:z.until(/[`\\$]/),template_expression:z.until(/[`}\\]/)}};E.prototype=new e,E.prototype._is_comment=function(I){return I.type===u.COMMENT||I.type===u.BLOCK_COMMENT||I.type===u.UNKNOWN},E.prototype._is_opening=function(I){return I.type===u.START_BLOCK||I.type===u.START_EXPR},E.prototype._is_closing=function(I,q){return(I.type===u.END_BLOCK||I.type===u.END_EXPR)&&q&&(I.text==="]"&&q.text==="["||I.text===")"&&q.text==="("||I.text==="}"&&q.text==="{")},E.prototype._reset=function(){L=!1},E.prototype._get_next_token=function(I,q){var P=null;this._readWhitespace();var z=this._input.peek();return z===null?this._create_token(u.EOF,""):(P=P||this._read_non_javascript(z),P=P||this._read_string(z),P=P||this._read_word(I),P=P||this._read_singles(z),P=P||this._read_comment(z),P=P||this._read_regexp(z,I),P=P||this._read_xml(z,I),P=P||this._read_punctuation(),P=P||this._create_token(u.UNKNOWN,this._input.next()),P)},E.prototype._read_word=function(I){var q;if(q=this.__patterns.identifier.read(),q!=="")return q=q.replace(i.allLineBreaks,`
>>>>>>>> origin/craft-4:src/web/assets/field/dist/assets/vizy-91fcee7d.js
`),!(I.type===u.DOT||I.type===u.RESERVED&&(I.text==="set"||I.text==="get"))&&A.test(q)?(q==="in"||q==="of")&&(I.type===u.WORD||I.type===u.STRING)?this._create_token(u.OPERATOR,q):this._create_token(u.RESERVED,q):this._create_token(u.WORD,q);if(q=this.__patterns.number.read(),q!=="")return this._create_token(u.WORD,q)},E.prototype._read_singles=function(I){var q=null;return I==="("||I==="["?q=this._create_token(u.START_EXPR,I):I===")"||I==="]"?q=this._create_token(u.END_EXPR,I):I==="{"?q=this._create_token(u.START_BLOCK,I):I==="}"?q=this._create_token(u.END_BLOCK,I):I===";"?q=this._create_token(u.SEMICOLON,I):I==="."&&v.test(this._input.peek(1))?q=this._create_token(u.DOT,I):I===","&&(q=this._create_token(u.COMMA,I)),q&&this._input.next(),q},E.prototype._read_punctuation=function(){var I=this.__patterns.punct.read();if(I!=="")return I==="="?this._create_token(u.EQUALS,I):I==="?."?this._create_token(u.DOT,I):this._create_token(u.OPERATOR,I)},E.prototype._read_non_javascript=function(I){var q="";if(I==="#"){if(this._is_first_token()&&(q=this.__patterns.shebang.read(),q))return this._create_token(u.UNKNOWN,q.trim()+`
`);if(q=this.__patterns.include.read(),q)return this._create_token(u.UNKNOWN,q.trim()+`
`);I=this._input.next();var P="#";if(this._input.hasNext()&&this._input.testChar(m)){do I=this._input.next(),P+=I;while(this._input.hasNext()&&I!=="#"&&I!=="=");return I==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(P+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(P+="{}",this._input.next(),this._input.next())),this._create_token(u.WORD,P)}this._input.back()}else if(I==="<"&&this._is_first_token()){if(q=this.__patterns.html_comment_start.read(),q){for(;this._input.hasNext()&&!this._input.testChar(i.newline);)q+=this._input.next();return N=!0,this._create_token(u.COMMENT,q)}}else if(N&&I==="-"&&(q=this.__patterns.html_comment_end.read(),q))return N=!1,this._create_token(u.COMMENT,q);return null},E.prototype._read_comment=function(I){var q=null;if(I==="/"){var P="";if(this._input.peek(1)==="*"){P=this.__patterns.block_comment.read();var z=f.get_directives(P);z&&z.ignore==="start"&&(P+=f.readIgnored(this._input)),P=P.replace(i.allLineBreaks,`
`),q=this._create_token(u.BLOCK_COMMENT,P),q.directives=z}else this._input.peek(1)==="/"&&(P=this.__patterns.comment.read(),q=this._create_token(u.COMMENT,P))}return q},E.prototype._read_string=function(I){if(I==="`"||I==="'"||I==='"'){var q=this._input.next();return this.has_char_escapes=!1,I==="`"?q+=this._read_string_recursive("`",!0,"${"):q+=this._read_string_recursive(I),this.has_char_escapes&&this._options.unescape_strings&&(q=H(q)),this._input.peek()===I&&(q+=this._input.next()),q=q.replace(i.allLineBreaks,`
`),this._create_token(u.STRING,q)}return null},E.prototype._allow_regexp_or_xml=function(I){return I.type===u.RESERVED&&l(I.text,["return","case","throw","else","do","typeof","yield"])||I.type===u.END_EXPR&&I.text===")"&&I.opened.previous.type===u.RESERVED&&l(I.opened.previous.text,["if","while","for"])||l(I.type,[u.COMMENT,u.START_EXPR,u.START_BLOCK,u.START,u.END_BLOCK,u.OPERATOR,u.EQUALS,u.EOF,u.SEMICOLON,u.COMMA])},E.prototype._read_regexp=function(I,q){if(I==="/"&&this._allow_regexp_or_xml(q)){for(var P=this._input.next(),z=!1,w=!1;this._input.hasNext()&&(z||w||this._input.peek()!==I)&&!this._input.testChar(i.newline);)P+=this._input.peek(),z?z=!1:(z=this._input.peek()==="\\",this._input.peek()==="["?w=!0:this._input.peek()==="]"&&(w=!1)),this._input.next();return this._input.peek()===I&&(P+=this._input.next(),P+=this._input.read(i.identifier)),this._create_token(u.STRING,P)}return null},E.prototype._read_xml=function(I,q){if(this._options.e4x&&I==="<"&&this._allow_regexp_or_xml(q)){var P="",z=this.__patterns.xml.read_match();if(z){for(var w=z[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),R=w.indexOf("{")===0,U=0;z;){var K=!!z[1],oe=z[2],D=!!z[z.length-1]||oe.slice(0,8)==="![CDATA[";if(!D&&(oe===w||R&&oe.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(K?--U:++U),P+=z[0],U<=0)break;z=this.__patterns.xml.read_match()}return z||(P+=this._input.match(/[\s\S]*/g)[0]),P=P.replace(i.allLineBreaks,`
`),this._create_token(u.STRING,P)}}return null};function H(I){for(var q="",P=0,z=new t(I),w=null;z.hasNext();)if(w=z.match(/([\s]|[^\\]|\\\\)+/g),w&&(q+=w[0]),z.peek()==="\\"){if(z.next(),z.peek()==="x")w=z.match(/x([0-9A-Fa-f]{2})/g);else if(z.peek()==="u")w=z.match(/u([0-9A-Fa-f]{4})/g);else{q+="\\",z.hasNext()&&(q+=z.next());continue}if(!w||(P=parseInt(w[1],16),P>126&&P<=255&&w[0].indexOf("x")===0))return I;if(P>=0&&P<32){q+="\\"+w[0];continue}else P===34||P===39||P===92?q+="\\"+String.fromCharCode(P):q+=String.fromCharCode(P)}return q}return E.prototype._read_string_recursive=function(I,q,P){var z,w;I==="'"?w=this.__patterns.single_quote:I==='"'?w=this.__patterns.double_quote:I==="`"?w=this.__patterns.template_text:I==="}"&&(w=this.__patterns.template_expression);for(var R=w.read(),U="";this._input.hasNext();){if(U=this._input.next(),U===I||!q&&i.newline.test(U)){this._input.back();break}else U==="\\"&&this._input.hasNext()?(z=this._input.peek(),z==="x"||z==="u"?this.has_char_escapes=!0:z==="\r"&&this._input.peek(1)===`
<<<<<<<< HEAD:src/web/assets/field/dist/assets/vizy-1d31d33d.js
`&&this._input.next(),U+=this._input.next()):P&&(P==="${"&&U==="$"&&this._input.peek()==="{"&&(U+=this._input.next()),P===U&&(I==="`"?U+=this._read_string_recursive("}",q,"`"):U+=this._read_string_recursive("`",q,"${"),this._input.hasNext()&&(U+=this._input.next())));U+=w.read(),R+=U}return R},ou.Tokenizer=E,ou.TOKEN=u,ou.positionable_operators=y.slice(),ou.line_starters=x.slice(),ou}var jE;function xse(){if(jE)return fy;jE=1;var t=Ww().Output,e=DN().Token,n=RN(),r=zN().Options,i=mp().Tokenizer,o=mp().line_starters,s=mp().positionable_operators,l=mp().TOKEN;function u(w,R){return R.indexOf(w)!==-1}function f(w){return w.replace(/^\s+/g,"")}function d(w){for(var R={},U=0;U<w.length;U++)R[w[U].replace(/-/g,"_")]=w[U];return R}function m(w,R){return w&&w.type===l.RESERVED&&w.text===R}function v(w,R){return w&&w.type===l.RESERVED&&u(w.text,R)}var y=["case","return","do","if","throw","else","await","break","continue","async"],_=["before-newline","after-newline","preserve-newline"],C=d(_),x=[C.before_newline,C.preserve_newline],k={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function A(w,R){R.multiline_frame||R.mode===k.ForInitializer||R.mode===k.Conditional||w.remove_indent(R.start_line_index)}function N(w){w=w.replace(n.allLineBreaks,`
`);for(var R=[],U=w.indexOf(`
`);U!==-1;)R.push(w.substring(0,U)),w=w.substring(U+1),U=w.indexOf(`
`);return w.length&&R.push(w),R}function E(w){return w===k.ArrayLiteral}function H(w){return u(w,[k.Expression,k.ForInitializer,k.Conditional])}function I(w,R){for(var U=0;U<w.length;U++){var K=w[U].trim();if(K.charAt(0)!==R)return!1}return!0}function q(w,R){for(var U=0,K=w.length,oe;U<K;U++)if(oe=w[U],oe&&oe.indexOf(R)!==0)return!1;return!0}function P(w,R){R=R||{},this._source_text=w||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new r(R)}P.prototype.create_flags=function(w,R){var U=0;w&&(U=w.indentation_level,!this._output.just_added_newline()&&w.line_indent_level>U&&(U=w.line_indent_level));var K={mode:R,parent:w,last_token:w?w.last_token:new e(l.START_BLOCK,""),last_word:w?w.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:U,alignment:0,line_indent_level:w?w.line_indent_level:U,start_line_index:this._output.get_line_number(),ternary_depth:0};return K},P.prototype._reset=function(w){var R=w.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new t(this._options,R),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(k.BlockStatement);var U=new i(w,this._options);return this._tokens=U.tokenize(),w},P.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var w,R=this._reset(this._source_text),U=this._options.eol;this._options.eol==="auto"&&(U=`
`,R&&n.lineBreak.test(R||"")&&(U=R.match(n.lineBreak)[0]));for(var K=this._tokens.next();K;)this.handle_token(K),this._last_last_text=this._flags.last_token.text,this._flags.last_token=K,K=this._tokens.next();return w=this._output.get_code(U),w},P.prototype.handle_token=function(w,R){w.type===l.START_EXPR?this.handle_start_expr(w):w.type===l.END_EXPR?this.handle_end_expr(w):w.type===l.START_BLOCK?this.handle_start_block(w):w.type===l.END_BLOCK?this.handle_end_block(w):w.type===l.WORD?this.handle_word(w):w.type===l.RESERVED?this.handle_word(w):w.type===l.SEMICOLON?this.handle_semicolon(w):w.type===l.STRING?this.handle_string(w):w.type===l.EQUALS?this.handle_equals(w):w.type===l.OPERATOR?this.handle_operator(w):w.type===l.COMMA?this.handle_comma(w):w.type===l.BLOCK_COMMENT?this.handle_block_comment(w,R):w.type===l.COMMENT?this.handle_comment(w,R):w.type===l.DOT?this.handle_dot(w):w.type===l.EOF?this.handle_eof(w):w.type===l.UNKNOWN?this.handle_unknown(w,R):this.handle_unknown(w,R)},P.prototype.handle_whitespace_and_comments=function(w,R){var U=w.newlines,K=this._options.keep_array_indentation&&E(this._flags.mode);if(w.comments_before)for(var oe=w.comments_before.next();oe;)this.handle_whitespace_and_comments(oe,R),this.handle_token(oe,R),oe=w.comments_before.next();if(K)for(var D=0;D<U;D+=1)this.print_newline(D>0,R);else if(this._options.max_preserve_newlines&&U>this._options.max_preserve_newlines&&(U=this._options.max_preserve_newlines),this._options.preserve_newlines&&U>1){this.print_newline(!1,R);for(var ae=1;ae<U;ae+=1)this.print_newline(!0,R)}};var z=["async","break","continue","return","throw","yield"];return P.prototype.allow_wrap_or_preserved_newline=function(w,R){if(R=R===void 0?!1:R,!this._output.just_added_newline()){var U=this._options.preserve_newlines&&w.newlines||R,K=u(this._flags.last_token.text,s)||u(w.text,s);if(K){var oe=u(this._flags.last_token.text,s)&&u(this._options.operator_position,x)||u(w.text,s);U=U&&oe}if(U)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(v(this._flags.last_token,z))return;this._output.set_wrap_point()}}},P.prototype.print_newline=function(w,R){if(!R&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var U=this._tokens.peek();this._flags.mode===k.Statement&&!(this._flags.if_block&&m(U,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(w)&&(this._flags.multiline_frame=!0)},P.prototype.print_token_line_indentation=function(w){this._output.just_added_newline()&&(this._options.keep_array_indentation&&w.newlines&&(w.text==="["||E(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(w.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},P.prototype.print_token=function(w){if(this._output.raw){this._output.add_raw_token(w);return}if(this._options.comma_first&&w.previous&&w.previous.type===l.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var R=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(R),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(w),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(w),this._output.non_breaking_space=!0,this._output.add_token(w.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},P.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},P.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},P.prototype.set_mode=function(w){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,w),this._flags=this.create_flags(this._previous_flags,w),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},P.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===k.Statement&&A(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},P.prototype.start_of_object_property=function(){return this._flags.parent.mode===k.ObjectLiteral&&this._flags.mode===k.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||v(this._flags.last_token,["get","set"]))},P.prototype.start_of_statement=function(w){var R=!1;return R=R||v(this._flags.last_token,["var","let","const"])&&w.type===l.WORD,R=R||m(this._flags.last_token,"do"),R=R||!(this._flags.parent.mode===k.ObjectLiteral&&this._flags.mode===k.Statement)&&v(this._flags.last_token,z)&&!w.newlines,R=R||m(this._flags.last_token,"else")&&!(m(w,"if")&&!w.comments_before),R=R||this._flags.last_token.type===l.END_EXPR&&(this._previous_flags.mode===k.ForInitializer||this._previous_flags.mode===k.Conditional),R=R||this._flags.last_token.type===l.WORD&&this._flags.mode===k.BlockStatement&&!this._flags.in_case&&!(w.text==="--"||w.text==="++")&&this._last_last_text!=="function"&&w.type!==l.WORD&&w.type!==l.RESERVED,R=R||this._flags.mode===k.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||v(this._flags.last_token,["get","set"])),R?(this.set_mode(k.Statement),this.indent(),this.handle_whitespace_and_comments(w,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(w,v(w,["do","for","if","while"])),!0):!1},P.prototype.handle_start_expr=function(w){this.start_of_statement(w)||this.handle_whitespace_and_comments(w);var R=k.Expression;if(w.text==="["){if(this._flags.last_token.type===l.WORD||this._flags.last_token.text===")"){v(this._flags.last_token,o)&&(this._output.space_before_token=!0),this.print_token(w),this.set_mode(R),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}R=k.ArrayLiteral,E(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),u(this._flags.last_token.type,[l.START_EXPR,l.END_EXPR,l.WORD,l.OPERATOR,l.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===l.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,R=k.ForInitializer):u(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,R=k.Conditional):u(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&w.whitespace_before===""?this._output.space_before_token=!1:(u(this._flags.last_token.text,o)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(w);else if(this._flags.last_token.type===l.WORD){this._output.space_before_token=!1;var U=this._tokens.peek(-3);if(this._options.space_after_named_function&&U){var K=this._tokens.peek(-4);v(U,["async","function"])||U.text==="*"&&v(K,["async","function"])?this._output.space_before_token=!0:this._flags.mode===k.ObjectLiteral?(U.text==="{"||U.text===","||U.text==="*"&&(K.text==="{"||K.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(w);(this._flags.last_token.type===l.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(u(this._last_last_text,["function","yield"])||this._flags.mode===k.ObjectLiteral&&u(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===l.START_BLOCK?this.print_newline():(this._flags.last_token.type===l.END_EXPR||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===l.COMMA)&&this.allow_wrap_or_preserved_newline(w,w.newlines),this.print_token(w),this.set_mode(R),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},P.prototype.handle_end_expr=function(w){for(;this._flags.mode===k.Statement;)this.restore_mode();this.handle_whitespace_and_comments(w),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(w,w.text==="]"&&E(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===l.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(w),this.restore_mode(),A(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===k.Conditional&&(this._previous_flags.mode=k.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},P.prototype.handle_start_block=function(w){this.handle_whitespace_and_comments(w);var R=this._tokens.peek(),U=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===l.END_EXPR?(this.set_mode(k.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(k.BlockStatement):U&&(u(U.text,[":",","])&&u(R.type,[l.STRING,l.WORD,l.RESERVED])||u(R.text,["get","set","..."])&&u(U.type,[l.WORD,l.RESERVED]))?u(this._last_last_text,["class","interface"])&&!u(U.text,[":",","])?this.set_mode(k.BlockStatement):this.set_mode(k.ObjectLiteral):this._flags.last_token.type===l.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(k.BlockStatement):u(this._flags.last_token.type,[l.EQUALS,l.START_EXPR,l.COMMA,l.OPERATOR])||v(this._flags.last_token,["return","throw","import","default"])?this.set_mode(k.ObjectLiteral):this.set_mode(k.BlockStatement),this._flags.last_token&&v(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var K=!R.comments_before&&R.text==="}",oe=K&&this._flags.last_word==="function"&&this._flags.last_token.type===l.END_EXPR;if(this._options.brace_preserve_inline){var D=0,ae=null;this._flags.inline_frame=!0;do if(D+=1,ae=this._tokens.peek(D-1),ae.newlines){this._flags.inline_frame=!1;break}while(ae.type!==l.EOF&&!(ae.type===l.END_BLOCK&&ae.opened===w))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&w.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==l.OPERATOR&&(oe||this._flags.last_token.type===l.EQUALS||v(this._flags.last_token,y)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(E(this._previous_flags.mode)&&(this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.COMMA)&&((this._flags.last_token.type===l.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(w),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==l.OPERATOR&&this._flags.last_token.type!==l.START_EXPR&&(this._flags.last_token.type===l.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(w),this.indent(),!K&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},P.prototype.handle_end_block=function(w){for(this.handle_whitespace_and_comments(w);this._flags.mode===k.Statement;)this.restore_mode();var R=this._flags.last_token.type===l.START_BLOCK;this._flags.inline_frame&&!R?this._output.space_before_token=!0:this._options.brace_style==="expand"?R||this.print_newline():R||(E(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(w)},P.prototype.handle_word=function(w){if(w.type===l.RESERVED){if(u(w.text,["set","get"])&&this._flags.mode!==k.ObjectLiteral)w.type=l.WORD;else if(w.text==="import"&&u(this._tokens.peek().text,["(","."]))w.type=l.WORD;else if(u(w.text,["as","from"])&&!this._flags.import_block)w.type=l.WORD;else if(this._flags.mode===k.ObjectLiteral){var R=this._tokens.peek();R.text===":"&&(w.type=l.WORD)}}if(this.start_of_statement(w)?v(this._flags.last_token,["var","let","const"])&&w.type===l.WORD&&(this._flags.declaration_statement=!0):w.newlines&&!H(this._flags.mode)&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==l.EQUALS&&(this._options.preserve_newlines||!v(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(w),this.print_newline()):this.handle_whitespace_and_comments(w),this._flags.do_block&&!this._flags.do_while)if(m(w,"while")){this._output.space_before_token=!0,this.print_token(w),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&m(w,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===k.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&v(w,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(w),this._flags.in_case=!0;return}if((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(w)),m(w,"function")){(u(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(u(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===l.OPERATOR))&&!this._output.just_added_blankline()&&!w.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD?v(this._flags.last_token,["get","set","new","export"])||v(this._flags.last_token,z)?this._output.space_before_token=!0:m(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===l.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(H(this._flags.mode)||E(this._flags.mode))||this.print_newline(),this.print_token(w),this._flags.last_word=w.text;return}var U="NONE";if(this._flags.last_token.type===l.END_BLOCK?this._previous_flags.inline_frame?U="SPACE":v(w,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&w.newlines?U="NEWLINE":(U="SPACE",this._output.space_before_token=!0):U="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&this._flags.mode===k.BlockStatement?U="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&H(this._flags.mode)?U="SPACE":this._flags.last_token.type===l.STRING?U="NEWLINE":this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.last_token.text==="*"&&(u(this._last_last_text,["function","yield"])||this._flags.mode===k.ObjectLiteral&&u(this._last_last_text,["{",","]))?U="SPACE":this._flags.last_token.type===l.START_BLOCK?this._flags.inline_frame?U="SPACE":U="NEWLINE":this._flags.last_token.type===l.END_EXPR&&(this._output.space_before_token=!0,U="NEWLINE"),v(w,o)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?U="SPACE":U="NEWLINE"),v(w,["else","catch","finally"]))if((!(this._flags.last_token.type===l.END_BLOCK&&this._previous_flags.mode===k.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&w.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var K=this._output.current_line;K.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else U==="NEWLINE"?v(this._flags.last_token,y)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&v(w,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==l.END_EXPR?(this._flags.last_token.type!==l.START_EXPR||!v(w,["var","let","const"]))&&this._flags.last_token.text!==":"&&(m(w,"if")&&m(w.previous,"else")?this._output.space_before_token=!0:this.print_newline()):v(w,o)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&E(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():U==="SPACE"&&(this._output.space_before_token=!0);w.previous&&(w.previous.type===l.WORD||w.previous.type===l.RESERVED)&&(this._output.space_before_token=!0),this.print_token(w),this._flags.last_word=w.text,w.type===l.RESERVED&&(w.text==="do"?this._flags.do_block=!0:w.text==="if"?this._flags.if_block=!0:w.text==="import"?this._flags.import_block=!0:this._flags.import_block&&m(w,"from")&&(this._flags.import_block=!1))},P.prototype.handle_semicolon=function(w){this.start_of_statement(w)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(w);for(var R=this._tokens.peek();this._flags.mode===k.Statement&&!(this._flags.if_block&&m(R,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(w)},P.prototype.handle_string=function(w){w.text.startsWith("`")&&w.newlines===0&&w.whitespace_before===""&&(w.previous.text===")"||this._flags.last_token.type===l.WORD)||(this.start_of_statement(w)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(w),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(w):w.text.startsWith("`")&&this._flags.last_token.type===l.END_EXPR&&(w.previous.text==="]"||w.previous.text===")")&&w.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(w)},P.prototype.handle_equals=function(w){this.start_of_statement(w)||this.handle_whitespace_and_comments(w),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(w),this._output.space_before_token=!0},P.prototype.handle_comma=function(w){this.handle_whitespace_and_comments(w,!0),this.print_token(w),this._output.space_before_token=!0,this._flags.declaration_statement?(H(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(w)):this._flags.mode===k.ObjectLiteral||this._flags.mode===k.Statement&&this._flags.parent.mode===k.ObjectLiteral?(this._flags.mode===k.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(w)},P.prototype.handle_operator=function(w){var R=w.text==="*"&&(v(this._flags.last_token,["function","yield"])||u(this._flags.last_token.type,[l.START_BLOCK,l.COMMA,l.END_BLOCK,l.SEMICOLON])),U=u(w.text,["-","+"])&&(u(this._flags.last_token.type,[l.START_BLOCK,l.START_EXPR,l.EQUALS,l.OPERATOR])||u(this._flags.last_token.text,o)||this._flags.last_token.text===",");if(!this.start_of_statement(w)){var K=!R;this.handle_whitespace_and_comments(w,K)}if(w.text==="*"&&this._flags.last_token.type===l.DOT){this.print_token(w);return}if(w.text==="::"){this.print_token(w);return}if(this._flags.last_token.type===l.OPERATOR&&u(this._options.operator_position,x)&&this.allow_wrap_or_preserved_newline(w),w.text===":"&&this._flags.in_case){this.print_token(w),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==l.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var oe=!0,D=!0,ae=!1;if(w.text===":"?this._flags.ternary_depth===0?oe=!1:(this._flags.ternary_depth-=1,ae=!0):w.text==="?"&&(this._flags.ternary_depth+=1),!U&&!R&&this._options.preserve_newlines&&u(w.text,s)){var ce=w.text===":",ve=ce&&ae,ze=ce&&!ae;switch(this._options.operator_position){case C.before_newline:this._output.space_before_token=!ze,this.print_token(w),(!ce||ve)&&this.allow_wrap_or_preserved_newline(w),this._output.space_before_token=!0;return;case C.after_newline:this._output.space_before_token=!0,!ce||ve?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(w):this._output.space_before_token=!1,this.print_token(w),this._output.space_before_token=!0;return;case C.preserve_newline:ze||this.allow_wrap_or_preserved_newline(w),oe=!(this._output.just_added_newline()||ze),this._output.space_before_token=oe,this.print_token(w),this._output.space_before_token=!0;return}}if(R){this.allow_wrap_or_preserved_newline(w),oe=!1;var qe=this._tokens.peek();D=qe&&u(qe.type,[l.WORD,l.RESERVED])}else if(w.text==="...")this.allow_wrap_or_preserved_newline(w),oe=this._flags.last_token.type===l.START_BLOCK,D=!1;else if(u(w.text,["--","++","!","~"])||U){if((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR)&&this.allow_wrap_or_preserved_newline(w),oe=!1,D=!1,w.newlines&&(w.text==="--"||w.text==="++"||w.text==="~")){var vt=v(this._flags.last_token,y)&&w.newlines;vt&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(vt,!0)}this._flags.last_token.text===";"&&H(this._flags.mode)&&(oe=!0),this._flags.last_token.type===l.RESERVED?oe=!0:this._flags.last_token.type===l.END_EXPR?oe=!(this._flags.last_token.text==="]"&&(w.text==="--"||w.text==="++")):this._flags.last_token.type===l.OPERATOR&&(oe=u(w.text,["--","-","++","+"])&&u(this._flags.last_token.text,["--","-","++","+"]),u(w.text,["+","-"])&&u(this._flags.last_token.text,["--","++"])&&(D=!0)),(this._flags.mode===k.BlockStatement&&!this._flags.inline_frame||this._flags.mode===k.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||oe,this.print_token(w),this._output.space_before_token=D},P.prototype.handle_block_comment=function(w,R){if(this._output.raw){this._output.add_raw_token(w),w.directives&&w.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(w.directives){this.print_newline(!1,R),this.print_token(w),w.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!n.newline.test(w.text)&&!w.newlines){this._output.space_before_token=!0,this.print_token(w),this._output.space_before_token=!0;return}else this.print_block_commment(w,R)},P.prototype.print_block_commment=function(w,R){var U=N(w.text),K,oe=!1,D=!1,ae=w.whitespace_before,ce=ae.length;if(this.print_newline(!1,R),this.print_token_line_indentation(w),this._output.add_token(U[0]),this.print_newline(!1,R),U.length>1){for(U=U.slice(1),oe=I(U,"*"),D=q(U,ae),oe&&(this._flags.alignment=1),K=0;K<U.length;K++)oe?(this.print_token_line_indentation(w),this._output.add_token(f(U[K]))):D&&U[K]?(this.print_token_line_indentation(w),this._output.add_token(U[K].substring(ce))):(this._output.current_line.set_indent(-1),this._output.add_token(U[K])),this.print_newline(!1,R);this._flags.alignment=0}},P.prototype.handle_comment=function(w,R){w.newlines?this.print_newline(!1,R):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(w),this.print_newline(!1,R)},P.prototype.handle_dot=function(w){this.start_of_statement(w)||this.handle_whitespace_and_comments(w,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),v(this._flags.last_token,y)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(w,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(w)},P.prototype.handle_unknown=function(w,R){this.print_token(w),w.text[w.text.length-1]===`
`&&this.print_newline(!1,R)},P.prototype.handle_eof=function(w){for(;this._flags.mode===k.Statement;)this.restore_mode();this.handle_whitespace_and_comments(w)},fy.Beautifier=P,fy}var WE;function Sse(){if(WE)return Pf;WE=1;var t=xse().Beautifier,e=zN().Options;function n(r,i){var o=new t(r,i);return o.beautify()}return _se.exports=n,Pf.defaultOptions=function(){return new e},Pf}var Df={},Cse={get exports(){return Df},set exports(t){Df=t}},ky={},xy={},UE;function $N(){if(UE)return xy;UE=1;var t=Uw().Options;function e(n){t.call(this,n,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var r=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||r;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var o=0;o<i.length;o++)i[o]!=="expand"?this.brace_style="collapse":this.brace_style=i[o]}return e.prototype=new t,xy.Options=e,xy}var qE;function Tse(){if(qE)return ky;qE=1;var t=$N().Options,e=Ww().Output,n=qw().InputScanner,r=Kw().Directives,i=new r(/\/\*/,/\*\//),o=/\r\n|[\r\n]/,s=/\r\n|[\r\n]/g,l=/\s/,u=/(?:\s|\n)+/g,f=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,d=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function m(v,y){this._source_text=v||"",this._options=new t(y),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}return m.prototype.eatString=function(v){var y="";for(this._ch=this._input.next();this._ch;){if(y+=this._ch,this._ch==="\\")y+=this._input.next();else if(v.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return y},m.prototype.eatWhitespace=function(v){for(var y=l.test(this._input.peek()),_=0;l.test(this._input.peek());)this._ch=this._input.next(),v&&this._ch===`
`&&(_===0||_<this._options.max_preserve_newlines)&&(_++,this._output.add_new_line(!0));return y},m.prototype.foundNestedPseudoClass=function(){for(var v=0,y=1,_=this._input.peek(y);_;){if(_==="{")return!0;if(_==="(")v+=1;else if(_===")"){if(v===0)return!1;v-=1}else if(_===";"||_==="}")return!1;y++,_=this._input.peek(y)}return!1},m.prototype.print_string=function(v){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(v)},m.prototype.preserveSingleSpace=function(v){v&&(this._output.space_before_token=!0)},m.prototype.indent=function(){this._indentLevel++},m.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},m.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var v=this._source_text,y=this._options.eol;y==="auto"&&(y=`
`,v&&o.test(v||"")&&(y=v.match(o)[0])),v=v.replace(s,`
`);var _=v.match(/^[\t ]*/)[0];this._output=new e(this._options,_),this._input=new n(v),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var C=0,x=!1,k=!1,A=!1,N=!1,E=!1,H=!1,I=this._ch,q=!1,P,z,w;P=this._input.read(u),z=P!=="",w=I,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),I=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var R=this._input.read(f),U=i.get_directives(R);U&&U.ignore==="start"&&(R+=i.readIgnored(this._input)),this.print_string(R),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(d)),this.eatWhitespace(!0);else if(this._ch==="@"||this._ch==="$")if(this.preserveSingleSpace(z),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var K=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);K.match(/[ :]$/)&&(K=this.eatString(": ").replace(/\s$/,""),this.print_string(K),this._output.space_before_token=!0),K=K.replace(/\s$/,""),K==="extend"?N=!0:K==="import"&&(E=!0),K in this.NESTED_AT_RULE?(this._nestedLevel+=1,K in this.CONDITIONAL_GROUP_RULE&&(A=!0)):!x&&C===0&&K.indexOf(":")!==-1&&(k=!0,this.indent())}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(z),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")k&&(k=!1,this.outdent()),A?(A=!1,x=this._indentLevel>=this._nestedLevel):x=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&x&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(w==="("?this._output.space_before_token=!1:w!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),w==="{"&&this._output.trim(!0),E=!1,N=!1,k&&(this.outdent(),k=!1),this.print_string(this._ch),x=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var oe=0;oe<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;oe++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[oe])){q=!0;break}(x||A)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!N&&C===0?(this.print_string(":"),k||(k=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var D=w==='"'||w==="'";this.preserveSingleSpace(D||z),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")q=!1,C===0?(k&&(this.outdent(),k=!1),N=!1,E=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),C++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),C&&(C--,this.outdent()));else{var ae=!1;this._input.lookBack("with")&&(ae=!0),this.preserveSingleSpace(z||ae),this.print_string(this._ch),k&&w==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),H=!0):(this.eatWhitespace(),C++,this.indent())}else if(this._ch===")")C&&(C--,this.outdent()),H&&this._input.peek()===";"&&this._options.selector_separator_newline&&(H=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!k||H)&&C===0&&!E&&!N?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!k&&C===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&l.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(z),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),l.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var ce=w==='"'||w==="'";this.preserveSingleSpace(ce||z),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&q&&this._output.add_new_line()}var ve=this._output.get_code(y);return ve},ky.Beautifier=m,ky}var KE;function Ese(){if(KE)return Df;KE=1;var t=Tse().Beautifier,e=$N().Options;function n(r,i){var o=new t(r,i);return o.beautify()}return Cse.exports=n,Df.defaultOptions=function(){return new e},Df}var Rf={},Ase={get exports(){return Rf},set exports(t){Rf=t}},Sy={},Cy={},GE;function HN(){if(GE)return Cy;GE=1;var t=Uw().Options;function e(n){t.call(this,n,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return e.prototype=new t,Cy.Options=e,Cy}var gp={},YE;function JE(){if(YE)return gp;YE=1;var t=ng().Tokenizer,e=ng().TOKEN,n=Kw().Directives,r=BN().TemplatablePattern,i=uv().Pattern,o={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:e.START,RAW:e.RAW,EOF:e.EOF},s=new n(/<\!--/,/-->/),l=function(u,f){t.call(this,u,f),this._current_tag_name="";var d=new r(this._input).read_options(this._options),m=new i(this._input);if(this.__patterns={word:d.until(/[\n\r\t <]/),single_quote:d.until_after(/'/),double_quote:d.until_after(/"/),attribute:d.until(/[\n\r\t =>]|\/>/),element_name:d.until(/[\n\r\t >\/]/),handlebars_comment:m.starting_with(/{{!--/).until_after(/--}}/),handlebars:m.starting_with(/{{/).until_after(/}}/),handlebars_open:m.until(/[\n\r\t }]/),handlebars_raw_close:m.until(/}}/),comment:m.starting_with(/<!--/).until_after(/-->/),cdata:m.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:m.starting_with(/<!\[/).until_after(/]>/),processing:m.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var v=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=m.matching(v).until_after(v)}};return l.prototype=new t,l.prototype._is_comment=function(u){return!1},l.prototype._is_opening=function(u){return u.type===o.TAG_OPEN},l.prototype._is_closing=function(u,f){return u.type===o.TAG_CLOSE&&f&&((u.text===">"||u.text==="/>")&&f.text[0]==="<"||u.text==="}}"&&f.text[0]==="{"&&f.text[1]==="{")},l.prototype._reset=function(){this._current_tag_name=""},l.prototype._get_next_token=function(u,f){var d=null;this._readWhitespace();var m=this._input.peek();return m===null?this._create_token(o.EOF,""):(d=d||this._read_open_handlebars(m,f),d=d||this._read_attribute(m,u,f),d=d||this._read_close(m,f),d=d||this._read_raw_content(m,u,f),d=d||this._read_content_word(m),d=d||this._read_comment_or_cdata(m),d=d||this._read_processing(m),d=d||this._read_open(m,f),d=d||this._create_token(o.UNKNOWN,this._input.next()),d)},l.prototype._read_comment_or_cdata=function(u){var f=null,d=null,m=null;if(u==="<"){var v=this._input.peek(1);v==="!"&&(d=this.__patterns.comment.read(),d?(m=s.get_directives(d),m&&m.ignore==="start"&&(d+=s.readIgnored(this._input))):d=this.__patterns.cdata.read()),d&&(f=this._create_token(o.COMMENT,d),f.directives=m)}return f},l.prototype._read_processing=function(u){var f=null,d=null,m=null;if(u==="<"){var v=this._input.peek(1);(v==="!"||v==="?")&&(d=this.__patterns.conditional_comment.read(),d=d||this.__patterns.processing.read()),d&&(f=this._create_token(o.COMMENT,d),f.directives=m)}return f},l.prototype._read_open=function(u,f){var d=null,m=null;return f||u==="<"&&(d=this._input.next(),this._input.peek()==="/"&&(d+=this._input.next()),d+=this.__patterns.element_name.read(),m=this._create_token(o.TAG_OPEN,d)),m},l.prototype._read_open_handlebars=function(u,f){var d=null,m=null;return f||this._options.indent_handlebars&&u==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(d=this.__patterns.handlebars_comment.read(),d=d||this.__patterns.handlebars.read(),m=this._create_token(o.COMMENT,d)):(d=this.__patterns.handlebars_open.read(),m=this._create_token(o.TAG_OPEN,d))),m},l.prototype._read_close=function(u,f){var d=null,m=null;return f&&(f.text[0]==="<"&&(u===">"||u==="/"&&this._input.peek(1)===">")?(d=this._input.next(),u==="/"&&(d+=this._input.next()),m=this._create_token(o.TAG_CLOSE,d)):f.text[0]==="{"&&u==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),m=this._create_token(o.TAG_CLOSE,"}}"))),m},l.prototype._read_attribute=function(u,f,d){var m=null,v="";if(d&&d.text[0]==="<")if(u==="=")m=this._create_token(o.EQUALS,this._input.next());else if(u==='"'||u==="'"){var y=this._input.next();u==='"'?y+=this.__patterns.double_quote.read():y+=this.__patterns.single_quote.read(),m=this._create_token(o.VALUE,y)}else v=this.__patterns.attribute.read(),v&&(f.type===o.EQUALS?m=this._create_token(o.VALUE,v):m=this._create_token(o.ATTRIBUTE,v));return m},l.prototype._is_content_unformatted=function(u){return this._options.void_elements.indexOf(u)===-1&&(this._options.content_unformatted.indexOf(u)!==-1||this._options.unformatted.indexOf(u)!==-1)},l.prototype._read_raw_content=function(u,f,d){var m="";if(d&&d.text[0]==="{")m=this.__patterns.handlebars_raw_close.read();else if(f.type===o.TAG_CLOSE&&f.opened.text[0]==="<"&&f.text[0]!=="/"){var v=f.opened.text.substr(1).toLowerCase();if(v==="script"||v==="style"){var y=this._read_comment_or_cdata(u);if(y)return y.type=o.TEXT,y;m=this._input.readUntil(new RegExp("</"+v+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(v)&&(m=this._input.readUntil(new RegExp("</"+v+"[\\n\\r\\t ]*?>","ig")))}return m?this._create_token(o.TEXT,m):null},l.prototype._read_content_word=function(u){var f="";if(this._options.unformatted_content_delimiter&&u===this._options.unformatted_content_delimiter[0]&&(f=this.__patterns.unformatted_content_delimiter.read()),f||(f=this.__patterns.word.read()),f)return this._create_token(o.TEXT,f)},gp.Tokenizer=l,gp.TOKEN=o,gp}var XE;function Ose(){if(XE)return Sy;XE=1;var t=HN().Options,e=Ww().Output,n=JE().Tokenizer,r=JE().TOKEN,i=/\r\n|[\r\n]/,o=/\r\n|[\r\n]/g,s=function(x,k){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=x.max_preserve_newlines,this.preserve_newlines=x.preserve_newlines,this._output=new e(x,k)};s.prototype.current_line_has_match=function(x){return this._output.current_line.has_match(x)},s.prototype.set_space_before_token=function(x,k){this._output.space_before_token=x,this._output.non_breaking_space=k},s.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},s.prototype.add_raw_token=function(x){this._output.add_raw_token(x)},s.prototype.print_preserved_newlines=function(x){var k=0;x.type!==r.TEXT&&x.previous.type!==r.TEXT&&(k=x.newlines?1:0),this.preserve_newlines&&(k=x.newlines<this.max_preserve_newlines+1?x.newlines:this.max_preserve_newlines+1);for(var A=0;A<k;A++)this.print_newline(A>0);return k!==0},s.prototype.traverse_whitespace=function(x){return x.whitespace_before||x.newlines?(this.print_preserved_newlines(x)||(this._output.space_before_token=!0),!0):!1},s.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},s.prototype.print_newline=function(x){this._output.add_new_line(x)},s.prototype.print_token=function(x){x.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(x.text))},s.prototype.indent=function(){this.indent_level++},s.prototype.get_full_indent=function(x){return x=this.indent_level+(x||0),x<1?"":this._output.get_indent_string(x)};var l=function(x){for(var k=null,A=x.next;A.type!==r.EOF&&x.closed!==A;){if(A.type===r.ATTRIBUTE&&A.text==="type"){A.next&&A.next.type===r.EQUALS&&A.next.next&&A.next.next.type===r.VALUE&&(k=A.next.next.text);break}A=A.next}return k},u=function(x,k){var A=null,N=null;return k.closed?(x==="script"?A="text/javascript":x==="style"&&(A="text/css"),A=l(k)||A,A.search("text/css")>-1?N="css":A.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?N="javascript":A.search(/(text|application|dojo)\/(x-)?(html)/)>-1?N="html":A.search(/test\/null/)>-1&&(N="null"),N):null};function f(x,k){return k.indexOf(x)!==-1}function d(x,k,A){this.parent=x||null,this.tag=k?k.tag_name:"",this.indent_level=A||0,this.parser_token=k||null}function m(x){this._printer=x,this._current_frame=null}m.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},m.prototype.record_tag=function(x){var k=new d(this._current_frame,x,this._printer.indent_level);this._current_frame=k},m.prototype._try_pop_frame=function(x){var k=null;return x&&(k=x.parser_token,this._printer.indent_level=x.indent_level,this._current_frame=x.parent),k},m.prototype._get_frame=function(x,k){for(var A=this._current_frame;A&&x.indexOf(A.tag)===-1;){if(k&&k.indexOf(A.tag)!==-1){A=null;break}A=A.parent}return A},m.prototype.try_pop=function(x,k){var A=this._get_frame([x],k);return this._try_pop_frame(A)},m.prototype.indent_to_tag=function(x){var k=this._get_frame(x);k&&(this._printer.indent_level=k.indent_level)};function v(x,k,A,N){this._source_text=x||"",k=k||{},this._js_beautify=A,this._css_beautify=N,this._tag_stack=null;var E=new t(k,"html");this._options=E,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}v.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var x=this._source_text,k=this._options.eol;this._options.eol==="auto"&&(k=`
========
`&&this._input.next(),U+=this._input.next()):P&&(P==="${"&&U==="$"&&this._input.peek()==="{"&&(U+=this._input.next()),P===U&&(I==="`"?U+=this._read_string_recursive("}",q,"`"):U+=this._read_string_recursive("`",q,"${"),this._input.hasNext()&&(U+=this._input.next())));U+=w.read(),R+=U}return R},ou.Tokenizer=E,ou.TOKEN=u,ou.positionable_operators=y.slice(),ou.line_starters=x.slice(),ou}var jE;function pse(){if(jE)return d0;jE=1;var t=Ww().Output,e=RL().Token,n=zL(),r=BL().Options,i=gp().Tokenizer,o=gp().line_starters,s=gp().positionable_operators,l=gp().TOKEN;function u(w,R){return R.indexOf(w)!==-1}function f(w){return w.replace(/^\s+/g,"")}function d(w){for(var R={},U=0;U<w.length;U++)R[w[U].replace(/-/g,"_")]=w[U];return R}function m(w,R){return w&&w.type===l.RESERVED&&w.text===R}function v(w,R){return w&&w.type===l.RESERVED&&u(w.text,R)}var y=["case","return","do","if","throw","else","await","break","continue","async"],_=["before-newline","after-newline","preserve-newline"],C=d(_),x=[C.before_newline,C.preserve_newline],k={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function A(w,R){R.multiline_frame||R.mode===k.ForInitializer||R.mode===k.Conditional||w.remove_indent(R.start_line_index)}function L(w){w=w.replace(n.allLineBreaks,`
`);for(var R=[],U=w.indexOf(`
`);U!==-1;)R.push(w.substring(0,U)),w=w.substring(U+1),U=w.indexOf(`
`);return w.length&&R.push(w),R}function E(w){return w===k.ArrayLiteral}function H(w){return u(w,[k.Expression,k.ForInitializer,k.Conditional])}function I(w,R){for(var U=0;U<w.length;U++){var K=w[U].trim();if(K.charAt(0)!==R)return!1}return!0}function q(w,R){for(var U=0,K=w.length,oe;U<K;U++)if(oe=w[U],oe&&oe.indexOf(R)!==0)return!1;return!0}function P(w,R){R=R||{},this._source_text=w||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new r(R)}P.prototype.create_flags=function(w,R){var U=0;w&&(U=w.indentation_level,!this._output.just_added_newline()&&w.line_indent_level>U&&(U=w.line_indent_level));var K={mode:R,parent:w,last_token:w?w.last_token:new e(l.START_BLOCK,""),last_word:w?w.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:U,alignment:0,line_indent_level:w?w.line_indent_level:U,start_line_index:this._output.get_line_number(),ternary_depth:0};return K},P.prototype._reset=function(w){var R=w.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new t(this._options,R),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(k.BlockStatement);var U=new i(w,this._options);return this._tokens=U.tokenize(),w},P.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var w,R=this._reset(this._source_text),U=this._options.eol;this._options.eol==="auto"&&(U=`
`,R&&n.lineBreak.test(R||"")&&(U=R.match(n.lineBreak)[0]));for(var K=this._tokens.next();K;)this.handle_token(K),this._last_last_text=this._flags.last_token.text,this._flags.last_token=K,K=this._tokens.next();return w=this._output.get_code(U),w},P.prototype.handle_token=function(w,R){w.type===l.START_EXPR?this.handle_start_expr(w):w.type===l.END_EXPR?this.handle_end_expr(w):w.type===l.START_BLOCK?this.handle_start_block(w):w.type===l.END_BLOCK?this.handle_end_block(w):w.type===l.WORD?this.handle_word(w):w.type===l.RESERVED?this.handle_word(w):w.type===l.SEMICOLON?this.handle_semicolon(w):w.type===l.STRING?this.handle_string(w):w.type===l.EQUALS?this.handle_equals(w):w.type===l.OPERATOR?this.handle_operator(w):w.type===l.COMMA?this.handle_comma(w):w.type===l.BLOCK_COMMENT?this.handle_block_comment(w,R):w.type===l.COMMENT?this.handle_comment(w,R):w.type===l.DOT?this.handle_dot(w):w.type===l.EOF?this.handle_eof(w):w.type===l.UNKNOWN?this.handle_unknown(w,R):this.handle_unknown(w,R)},P.prototype.handle_whitespace_and_comments=function(w,R){var U=w.newlines,K=this._options.keep_array_indentation&&E(this._flags.mode);if(w.comments_before)for(var oe=w.comments_before.next();oe;)this.handle_whitespace_and_comments(oe,R),this.handle_token(oe,R),oe=w.comments_before.next();if(K)for(var D=0;D<U;D+=1)this.print_newline(D>0,R);else if(this._options.max_preserve_newlines&&U>this._options.max_preserve_newlines&&(U=this._options.max_preserve_newlines),this._options.preserve_newlines&&U>1){this.print_newline(!1,R);for(var ae=1;ae<U;ae+=1)this.print_newline(!0,R)}};var z=["async","break","continue","return","throw","yield"];return P.prototype.allow_wrap_or_preserved_newline=function(w,R){if(R=R===void 0?!1:R,!this._output.just_added_newline()){var U=this._options.preserve_newlines&&w.newlines||R,K=u(this._flags.last_token.text,s)||u(w.text,s);if(K){var oe=u(this._flags.last_token.text,s)&&u(this._options.operator_position,x)||u(w.text,s);U=U&&oe}if(U)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(v(this._flags.last_token,z))return;this._output.set_wrap_point()}}},P.prototype.print_newline=function(w,R){if(!R&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var U=this._tokens.peek();this._flags.mode===k.Statement&&!(this._flags.if_block&&m(U,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(w)&&(this._flags.multiline_frame=!0)},P.prototype.print_token_line_indentation=function(w){this._output.just_added_newline()&&(this._options.keep_array_indentation&&w.newlines&&(w.text==="["||E(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(w.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},P.prototype.print_token=function(w){if(this._output.raw){this._output.add_raw_token(w);return}if(this._options.comma_first&&w.previous&&w.previous.type===l.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var R=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(R),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(w),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(w),this._output.non_breaking_space=!0,this._output.add_token(w.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},P.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},P.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},P.prototype.set_mode=function(w){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,w),this._flags=this.create_flags(this._previous_flags,w),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},P.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===k.Statement&&A(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},P.prototype.start_of_object_property=function(){return this._flags.parent.mode===k.ObjectLiteral&&this._flags.mode===k.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||v(this._flags.last_token,["get","set"]))},P.prototype.start_of_statement=function(w){var R=!1;return R=R||v(this._flags.last_token,["var","let","const"])&&w.type===l.WORD,R=R||m(this._flags.last_token,"do"),R=R||!(this._flags.parent.mode===k.ObjectLiteral&&this._flags.mode===k.Statement)&&v(this._flags.last_token,z)&&!w.newlines,R=R||m(this._flags.last_token,"else")&&!(m(w,"if")&&!w.comments_before),R=R||this._flags.last_token.type===l.END_EXPR&&(this._previous_flags.mode===k.ForInitializer||this._previous_flags.mode===k.Conditional),R=R||this._flags.last_token.type===l.WORD&&this._flags.mode===k.BlockStatement&&!this._flags.in_case&&!(w.text==="--"||w.text==="++")&&this._last_last_text!=="function"&&w.type!==l.WORD&&w.type!==l.RESERVED,R=R||this._flags.mode===k.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||v(this._flags.last_token,["get","set"])),R?(this.set_mode(k.Statement),this.indent(),this.handle_whitespace_and_comments(w,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(w,v(w,["do","for","if","while"])),!0):!1},P.prototype.handle_start_expr=function(w){this.start_of_statement(w)||this.handle_whitespace_and_comments(w);var R=k.Expression;if(w.text==="["){if(this._flags.last_token.type===l.WORD||this._flags.last_token.text===")"){v(this._flags.last_token,o)&&(this._output.space_before_token=!0),this.print_token(w),this.set_mode(R),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}R=k.ArrayLiteral,E(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),u(this._flags.last_token.type,[l.START_EXPR,l.END_EXPR,l.WORD,l.OPERATOR,l.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===l.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,R=k.ForInitializer):u(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,R=k.Conditional):u(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&w.whitespace_before===""?this._output.space_before_token=!1:(u(this._flags.last_token.text,o)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(w);else if(this._flags.last_token.type===l.WORD){this._output.space_before_token=!1;var U=this._tokens.peek(-3);if(this._options.space_after_named_function&&U){var K=this._tokens.peek(-4);v(U,["async","function"])||U.text==="*"&&v(K,["async","function"])?this._output.space_before_token=!0:this._flags.mode===k.ObjectLiteral?(U.text==="{"||U.text===","||U.text==="*"&&(K.text==="{"||K.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(w);(this._flags.last_token.type===l.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(u(this._last_last_text,["function","yield"])||this._flags.mode===k.ObjectLiteral&&u(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===l.START_BLOCK?this.print_newline():(this._flags.last_token.type===l.END_EXPR||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===l.COMMA)&&this.allow_wrap_or_preserved_newline(w,w.newlines),this.print_token(w),this.set_mode(R),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},P.prototype.handle_end_expr=function(w){for(;this._flags.mode===k.Statement;)this.restore_mode();this.handle_whitespace_and_comments(w),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(w,w.text==="]"&&E(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===l.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(w),this.restore_mode(),A(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===k.Conditional&&(this._previous_flags.mode=k.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},P.prototype.handle_start_block=function(w){this.handle_whitespace_and_comments(w);var R=this._tokens.peek(),U=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===l.END_EXPR?(this.set_mode(k.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(k.BlockStatement):U&&(u(U.text,[":",","])&&u(R.type,[l.STRING,l.WORD,l.RESERVED])||u(R.text,["get","set","..."])&&u(U.type,[l.WORD,l.RESERVED]))?u(this._last_last_text,["class","interface"])&&!u(U.text,[":",","])?this.set_mode(k.BlockStatement):this.set_mode(k.ObjectLiteral):this._flags.last_token.type===l.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(k.BlockStatement):u(this._flags.last_token.type,[l.EQUALS,l.START_EXPR,l.COMMA,l.OPERATOR])||v(this._flags.last_token,["return","throw","import","default"])?this.set_mode(k.ObjectLiteral):this.set_mode(k.BlockStatement),this._flags.last_token&&v(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var K=!R.comments_before&&R.text==="}",oe=K&&this._flags.last_word==="function"&&this._flags.last_token.type===l.END_EXPR;if(this._options.brace_preserve_inline){var D=0,ae=null;this._flags.inline_frame=!0;do if(D+=1,ae=this._tokens.peek(D-1),ae.newlines){this._flags.inline_frame=!1;break}while(ae.type!==l.EOF&&!(ae.type===l.END_BLOCK&&ae.opened===w))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&w.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==l.OPERATOR&&(oe||this._flags.last_token.type===l.EQUALS||v(this._flags.last_token,y)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(E(this._previous_flags.mode)&&(this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.COMMA)&&((this._flags.last_token.type===l.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(w),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==l.OPERATOR&&this._flags.last_token.type!==l.START_EXPR&&(this._flags.last_token.type===l.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(w),this.indent(),!K&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},P.prototype.handle_end_block=function(w){for(this.handle_whitespace_and_comments(w);this._flags.mode===k.Statement;)this.restore_mode();var R=this._flags.last_token.type===l.START_BLOCK;this._flags.inline_frame&&!R?this._output.space_before_token=!0:this._options.brace_style==="expand"?R||this.print_newline():R||(E(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(w)},P.prototype.handle_word=function(w){if(w.type===l.RESERVED){if(u(w.text,["set","get"])&&this._flags.mode!==k.ObjectLiteral)w.type=l.WORD;else if(w.text==="import"&&u(this._tokens.peek().text,["(","."]))w.type=l.WORD;else if(u(w.text,["as","from"])&&!this._flags.import_block)w.type=l.WORD;else if(this._flags.mode===k.ObjectLiteral){var R=this._tokens.peek();R.text===":"&&(w.type=l.WORD)}}if(this.start_of_statement(w)?v(this._flags.last_token,["var","let","const"])&&w.type===l.WORD&&(this._flags.declaration_statement=!0):w.newlines&&!H(this._flags.mode)&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==l.EQUALS&&(this._options.preserve_newlines||!v(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(w),this.print_newline()):this.handle_whitespace_and_comments(w),this._flags.do_block&&!this._flags.do_while)if(m(w,"while")){this._output.space_before_token=!0,this.print_token(w),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&m(w,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===k.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&v(w,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(w),this._flags.in_case=!0;return}if((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(w)),m(w,"function")){(u(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(u(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===l.OPERATOR))&&!this._output.just_added_blankline()&&!w.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD?v(this._flags.last_token,["get","set","new","export"])||v(this._flags.last_token,z)?this._output.space_before_token=!0:m(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===l.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(H(this._flags.mode)||E(this._flags.mode))||this.print_newline(),this.print_token(w),this._flags.last_word=w.text;return}var U="NONE";if(this._flags.last_token.type===l.END_BLOCK?this._previous_flags.inline_frame?U="SPACE":v(w,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&w.newlines?U="NEWLINE":(U="SPACE",this._output.space_before_token=!0):U="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&this._flags.mode===k.BlockStatement?U="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&H(this._flags.mode)?U="SPACE":this._flags.last_token.type===l.STRING?U="NEWLINE":this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.last_token.text==="*"&&(u(this._last_last_text,["function","yield"])||this._flags.mode===k.ObjectLiteral&&u(this._last_last_text,["{",","]))?U="SPACE":this._flags.last_token.type===l.START_BLOCK?this._flags.inline_frame?U="SPACE":U="NEWLINE":this._flags.last_token.type===l.END_EXPR&&(this._output.space_before_token=!0,U="NEWLINE"),v(w,o)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?U="SPACE":U="NEWLINE"),v(w,["else","catch","finally"]))if((!(this._flags.last_token.type===l.END_BLOCK&&this._previous_flags.mode===k.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&w.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var K=this._output.current_line;K.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else U==="NEWLINE"?v(this._flags.last_token,y)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&v(w,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==l.END_EXPR?(this._flags.last_token.type!==l.START_EXPR||!v(w,["var","let","const"]))&&this._flags.last_token.text!==":"&&(m(w,"if")&&m(w.previous,"else")?this._output.space_before_token=!0:this.print_newline()):v(w,o)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&E(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():U==="SPACE"&&(this._output.space_before_token=!0);w.previous&&(w.previous.type===l.WORD||w.previous.type===l.RESERVED)&&(this._output.space_before_token=!0),this.print_token(w),this._flags.last_word=w.text,w.type===l.RESERVED&&(w.text==="do"?this._flags.do_block=!0:w.text==="if"?this._flags.if_block=!0:w.text==="import"?this._flags.import_block=!0:this._flags.import_block&&m(w,"from")&&(this._flags.import_block=!1))},P.prototype.handle_semicolon=function(w){this.start_of_statement(w)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(w);for(var R=this._tokens.peek();this._flags.mode===k.Statement&&!(this._flags.if_block&&m(R,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(w)},P.prototype.handle_string=function(w){w.text.startsWith("`")&&w.newlines===0&&w.whitespace_before===""&&(w.previous.text===")"||this._flags.last_token.type===l.WORD)||(this.start_of_statement(w)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(w),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(w):w.text.startsWith("`")&&this._flags.last_token.type===l.END_EXPR&&(w.previous.text==="]"||w.previous.text===")")&&w.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(w)},P.prototype.handle_equals=function(w){this.start_of_statement(w)||this.handle_whitespace_and_comments(w),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(w),this._output.space_before_token=!0},P.prototype.handle_comma=function(w){this.handle_whitespace_and_comments(w,!0),this.print_token(w),this._output.space_before_token=!0,this._flags.declaration_statement?(H(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(w)):this._flags.mode===k.ObjectLiteral||this._flags.mode===k.Statement&&this._flags.parent.mode===k.ObjectLiteral?(this._flags.mode===k.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(w)},P.prototype.handle_operator=function(w){var R=w.text==="*"&&(v(this._flags.last_token,["function","yield"])||u(this._flags.last_token.type,[l.START_BLOCK,l.COMMA,l.END_BLOCK,l.SEMICOLON])),U=u(w.text,["-","+"])&&(u(this._flags.last_token.type,[l.START_BLOCK,l.START_EXPR,l.EQUALS,l.OPERATOR])||u(this._flags.last_token.text,o)||this._flags.last_token.text===",");if(!this.start_of_statement(w)){var K=!R;this.handle_whitespace_and_comments(w,K)}if(w.text==="*"&&this._flags.last_token.type===l.DOT){this.print_token(w);return}if(w.text==="::"){this.print_token(w);return}if(this._flags.last_token.type===l.OPERATOR&&u(this._options.operator_position,x)&&this.allow_wrap_or_preserved_newline(w),w.text===":"&&this._flags.in_case){this.print_token(w),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==l.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var oe=!0,D=!0,ae=!1;if(w.text===":"?this._flags.ternary_depth===0?oe=!1:(this._flags.ternary_depth-=1,ae=!0):w.text==="?"&&(this._flags.ternary_depth+=1),!U&&!R&&this._options.preserve_newlines&&u(w.text,s)){var ce=w.text===":",ve=ce&&ae,ze=ce&&!ae;switch(this._options.operator_position){case C.before_newline:this._output.space_before_token=!ze,this.print_token(w),(!ce||ve)&&this.allow_wrap_or_preserved_newline(w),this._output.space_before_token=!0;return;case C.after_newline:this._output.space_before_token=!0,!ce||ve?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(w):this._output.space_before_token=!1,this.print_token(w),this._output.space_before_token=!0;return;case C.preserve_newline:ze||this.allow_wrap_or_preserved_newline(w),oe=!(this._output.just_added_newline()||ze),this._output.space_before_token=oe,this.print_token(w),this._output.space_before_token=!0;return}}if(R){this.allow_wrap_or_preserved_newline(w),oe=!1;var qe=this._tokens.peek();D=qe&&u(qe.type,[l.WORD,l.RESERVED])}else if(w.text==="...")this.allow_wrap_or_preserved_newline(w),oe=this._flags.last_token.type===l.START_BLOCK,D=!1;else if(u(w.text,["--","++","!","~"])||U){if((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR)&&this.allow_wrap_or_preserved_newline(w),oe=!1,D=!1,w.newlines&&(w.text==="--"||w.text==="++"||w.text==="~")){var yt=v(this._flags.last_token,y)&&w.newlines;yt&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(yt,!0)}this._flags.last_token.text===";"&&H(this._flags.mode)&&(oe=!0),this._flags.last_token.type===l.RESERVED?oe=!0:this._flags.last_token.type===l.END_EXPR?oe=!(this._flags.last_token.text==="]"&&(w.text==="--"||w.text==="++")):this._flags.last_token.type===l.OPERATOR&&(oe=u(w.text,["--","-","++","+"])&&u(this._flags.last_token.text,["--","-","++","+"]),u(w.text,["+","-"])&&u(this._flags.last_token.text,["--","++"])&&(D=!0)),(this._flags.mode===k.BlockStatement&&!this._flags.inline_frame||this._flags.mode===k.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||oe,this.print_token(w),this._output.space_before_token=D},P.prototype.handle_block_comment=function(w,R){if(this._output.raw){this._output.add_raw_token(w),w.directives&&w.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(w.directives){this.print_newline(!1,R),this.print_token(w),w.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!n.newline.test(w.text)&&!w.newlines){this._output.space_before_token=!0,this.print_token(w),this._output.space_before_token=!0;return}else this.print_block_commment(w,R)},P.prototype.print_block_commment=function(w,R){var U=L(w.text),K,oe=!1,D=!1,ae=w.whitespace_before,ce=ae.length;if(this.print_newline(!1,R),this.print_token_line_indentation(w),this._output.add_token(U[0]),this.print_newline(!1,R),U.length>1){for(U=U.slice(1),oe=I(U,"*"),D=q(U,ae),oe&&(this._flags.alignment=1),K=0;K<U.length;K++)oe?(this.print_token_line_indentation(w),this._output.add_token(f(U[K]))):D&&U[K]?(this.print_token_line_indentation(w),this._output.add_token(U[K].substring(ce))):(this._output.current_line.set_indent(-1),this._output.add_token(U[K])),this.print_newline(!1,R);this._flags.alignment=0}},P.prototype.handle_comment=function(w,R){w.newlines?this.print_newline(!1,R):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(w),this.print_newline(!1,R)},P.prototype.handle_dot=function(w){this.start_of_statement(w)||this.handle_whitespace_and_comments(w,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),v(this._flags.last_token,y)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(w,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(w)},P.prototype.handle_unknown=function(w,R){this.print_token(w),w.text[w.text.length-1]===`
`&&this.print_newline(!1,R)},P.prototype.handle_eof=function(w){for(;this._flags.mode===k.Statement;)this.restore_mode();this.handle_whitespace_and_comments(w)},d0.Beautifier=P,d0}var WE;function mse(){if(WE)return Pf;WE=1;var t=pse().Beautifier,e=BL().Options;function n(r,i){var o=new t(r,i);return o.beautify()}return fse.exports=n,Pf.defaultOptions=function(){return new e},Pf}var Df={},gse={get exports(){return Df},set exports(t){Df=t}},x0={},S0={},UE;function HL(){if(UE)return S0;UE=1;var t=Uw().Options;function e(n){t.call(this,n,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var r=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||r;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var o=0;o<i.length;o++)i[o]!=="expand"?this.brace_style="collapse":this.brace_style=i[o]}return e.prototype=new t,S0.Options=e,S0}var qE;function vse(){if(qE)return x0;qE=1;var t=HL().Options,e=Ww().Output,n=qw().InputScanner,r=Kw().Directives,i=new r(/\/\*/,/\*\//),o=/\r\n|[\r\n]/,s=/\r\n|[\r\n]/g,l=/\s/,u=/(?:\s|\n)+/g,f=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,d=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function m(v,y){this._source_text=v||"",this._options=new t(y),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}return m.prototype.eatString=function(v){var y="";for(this._ch=this._input.next();this._ch;){if(y+=this._ch,this._ch==="\\")y+=this._input.next();else if(v.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return y},m.prototype.eatWhitespace=function(v){for(var y=l.test(this._input.peek()),_=0;l.test(this._input.peek());)this._ch=this._input.next(),v&&this._ch===`
`&&(_===0||_<this._options.max_preserve_newlines)&&(_++,this._output.add_new_line(!0));return y},m.prototype.foundNestedPseudoClass=function(){for(var v=0,y=1,_=this._input.peek(y);_;){if(_==="{")return!0;if(_==="(")v+=1;else if(_===")"){if(v===0)return!1;v-=1}else if(_===";"||_==="}")return!1;y++,_=this._input.peek(y)}return!1},m.prototype.print_string=function(v){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(v)},m.prototype.preserveSingleSpace=function(v){v&&(this._output.space_before_token=!0)},m.prototype.indent=function(){this._indentLevel++},m.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},m.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var v=this._source_text,y=this._options.eol;y==="auto"&&(y=`
`,v&&o.test(v||"")&&(y=v.match(o)[0])),v=v.replace(s,`
`);var _=v.match(/^[\t ]*/)[0];this._output=new e(this._options,_),this._input=new n(v),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var C=0,x=!1,k=!1,A=!1,L=!1,E=!1,H=!1,I=this._ch,q=!1,P,z,w;P=this._input.read(u),z=P!=="",w=I,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),I=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var R=this._input.read(f),U=i.get_directives(R);U&&U.ignore==="start"&&(R+=i.readIgnored(this._input)),this.print_string(R),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(d)),this.eatWhitespace(!0);else if(this._ch==="@"||this._ch==="$")if(this.preserveSingleSpace(z),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var K=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);K.match(/[ :]$/)&&(K=this.eatString(": ").replace(/\s$/,""),this.print_string(K),this._output.space_before_token=!0),K=K.replace(/\s$/,""),K==="extend"?L=!0:K==="import"&&(E=!0),K in this.NESTED_AT_RULE?(this._nestedLevel+=1,K in this.CONDITIONAL_GROUP_RULE&&(A=!0)):!x&&C===0&&K.indexOf(":")!==-1&&(k=!0,this.indent())}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(z),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")k&&(k=!1,this.outdent()),A?(A=!1,x=this._indentLevel>=this._nestedLevel):x=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&x&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(w==="("?this._output.space_before_token=!1:w!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),w==="{"&&this._output.trim(!0),E=!1,L=!1,k&&(this.outdent(),k=!1),this.print_string(this._ch),x=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var oe=0;oe<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;oe++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[oe])){q=!0;break}(x||A)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!L&&C===0?(this.print_string(":"),k||(k=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var D=w==='"'||w==="'";this.preserveSingleSpace(D||z),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")q=!1,C===0?(k&&(this.outdent(),k=!1),L=!1,E=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),C++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),C&&(C--,this.outdent()));else{var ae=!1;this._input.lookBack("with")&&(ae=!0),this.preserveSingleSpace(z||ae),this.print_string(this._ch),k&&w==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),H=!0):(this.eatWhitespace(),C++,this.indent())}else if(this._ch===")")C&&(C--,this.outdent()),H&&this._input.peek()===";"&&this._options.selector_separator_newline&&(H=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!k||H)&&C===0&&!E&&!L?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!k&&C===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&l.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(z),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),l.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var ce=w==='"'||w==="'";this.preserveSingleSpace(ce||z),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&q&&this._output.add_new_line()}var ve=this._output.get_code(y);return ve},x0.Beautifier=m,x0}var KE;function yse(){if(KE)return Df;KE=1;var t=vse().Beautifier,e=HL().Options;function n(r,i){var o=new t(r,i);return o.beautify()}return gse.exports=n,Df.defaultOptions=function(){return new e},Df}var Rf={},bse={get exports(){return Rf},set exports(t){Rf=t}},C0={},T0={},GE;function FL(){if(GE)return T0;GE=1;var t=Uw().Options;function e(n){t.call(this,n,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return e.prototype=new t,T0.Options=e,T0}var vp={},YE;function JE(){if(YE)return vp;YE=1;var t=rg().Tokenizer,e=rg().TOKEN,n=Kw().Directives,r=$L().TemplatablePattern,i=cv().Pattern,o={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:e.START,RAW:e.RAW,EOF:e.EOF},s=new n(/<\!--/,/-->/),l=function(u,f){t.call(this,u,f),this._current_tag_name="";var d=new r(this._input).read_options(this._options),m=new i(this._input);if(this.__patterns={word:d.until(/[\n\r\t <]/),single_quote:d.until_after(/'/),double_quote:d.until_after(/"/),attribute:d.until(/[\n\r\t =>]|\/>/),element_name:d.until(/[\n\r\t >\/]/),handlebars_comment:m.starting_with(/{{!--/).until_after(/--}}/),handlebars:m.starting_with(/{{/).until_after(/}}/),handlebars_open:m.until(/[\n\r\t }]/),handlebars_raw_close:m.until(/}}/),comment:m.starting_with(/<!--/).until_after(/-->/),cdata:m.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:m.starting_with(/<!\[/).until_after(/]>/),processing:m.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var v=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=m.matching(v).until_after(v)}};return l.prototype=new t,l.prototype._is_comment=function(u){return!1},l.prototype._is_opening=function(u){return u.type===o.TAG_OPEN},l.prototype._is_closing=function(u,f){return u.type===o.TAG_CLOSE&&f&&((u.text===">"||u.text==="/>")&&f.text[0]==="<"||u.text==="}}"&&f.text[0]==="{"&&f.text[1]==="{")},l.prototype._reset=function(){this._current_tag_name=""},l.prototype._get_next_token=function(u,f){var d=null;this._readWhitespace();var m=this._input.peek();return m===null?this._create_token(o.EOF,""):(d=d||this._read_open_handlebars(m,f),d=d||this._read_attribute(m,u,f),d=d||this._read_close(m,f),d=d||this._read_raw_content(m,u,f),d=d||this._read_content_word(m),d=d||this._read_comment_or_cdata(m),d=d||this._read_processing(m),d=d||this._read_open(m,f),d=d||this._create_token(o.UNKNOWN,this._input.next()),d)},l.prototype._read_comment_or_cdata=function(u){var f=null,d=null,m=null;if(u==="<"){var v=this._input.peek(1);v==="!"&&(d=this.__patterns.comment.read(),d?(m=s.get_directives(d),m&&m.ignore==="start"&&(d+=s.readIgnored(this._input))):d=this.__patterns.cdata.read()),d&&(f=this._create_token(o.COMMENT,d),f.directives=m)}return f},l.prototype._read_processing=function(u){var f=null,d=null,m=null;if(u==="<"){var v=this._input.peek(1);(v==="!"||v==="?")&&(d=this.__patterns.conditional_comment.read(),d=d||this.__patterns.processing.read()),d&&(f=this._create_token(o.COMMENT,d),f.directives=m)}return f},l.prototype._read_open=function(u,f){var d=null,m=null;return f||u==="<"&&(d=this._input.next(),this._input.peek()==="/"&&(d+=this._input.next()),d+=this.__patterns.element_name.read(),m=this._create_token(o.TAG_OPEN,d)),m},l.prototype._read_open_handlebars=function(u,f){var d=null,m=null;return f||this._options.indent_handlebars&&u==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(d=this.__patterns.handlebars_comment.read(),d=d||this.__patterns.handlebars.read(),m=this._create_token(o.COMMENT,d)):(d=this.__patterns.handlebars_open.read(),m=this._create_token(o.TAG_OPEN,d))),m},l.prototype._read_close=function(u,f){var d=null,m=null;return f&&(f.text[0]==="<"&&(u===">"||u==="/"&&this._input.peek(1)===">")?(d=this._input.next(),u==="/"&&(d+=this._input.next()),m=this._create_token(o.TAG_CLOSE,d)):f.text[0]==="{"&&u==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),m=this._create_token(o.TAG_CLOSE,"}}"))),m},l.prototype._read_attribute=function(u,f,d){var m=null,v="";if(d&&d.text[0]==="<")if(u==="=")m=this._create_token(o.EQUALS,this._input.next());else if(u==='"'||u==="'"){var y=this._input.next();u==='"'?y+=this.__patterns.double_quote.read():y+=this.__patterns.single_quote.read(),m=this._create_token(o.VALUE,y)}else v=this.__patterns.attribute.read(),v&&(f.type===o.EQUALS?m=this._create_token(o.VALUE,v):m=this._create_token(o.ATTRIBUTE,v));return m},l.prototype._is_content_unformatted=function(u){return this._options.void_elements.indexOf(u)===-1&&(this._options.content_unformatted.indexOf(u)!==-1||this._options.unformatted.indexOf(u)!==-1)},l.prototype._read_raw_content=function(u,f,d){var m="";if(d&&d.text[0]==="{")m=this.__patterns.handlebars_raw_close.read();else if(f.type===o.TAG_CLOSE&&f.opened.text[0]==="<"&&f.text[0]!=="/"){var v=f.opened.text.substr(1).toLowerCase();if(v==="script"||v==="style"){var y=this._read_comment_or_cdata(u);if(y)return y.type=o.TEXT,y;m=this._input.readUntil(new RegExp("</"+v+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(v)&&(m=this._input.readUntil(new RegExp("</"+v+"[\\n\\r\\t ]*?>","ig")))}return m?this._create_token(o.TEXT,m):null},l.prototype._read_content_word=function(u){var f="";if(this._options.unformatted_content_delimiter&&u===this._options.unformatted_content_delimiter[0]&&(f=this.__patterns.unformatted_content_delimiter.read()),f||(f=this.__patterns.word.read()),f)return this._create_token(o.TEXT,f)},vp.Tokenizer=l,vp.TOKEN=o,vp}var XE;function _se(){if(XE)return C0;XE=1;var t=FL().Options,e=Ww().Output,n=JE().Tokenizer,r=JE().TOKEN,i=/\r\n|[\r\n]/,o=/\r\n|[\r\n]/g,s=function(x,k){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=x.max_preserve_newlines,this.preserve_newlines=x.preserve_newlines,this._output=new e(x,k)};s.prototype.current_line_has_match=function(x){return this._output.current_line.has_match(x)},s.prototype.set_space_before_token=function(x,k){this._output.space_before_token=x,this._output.non_breaking_space=k},s.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},s.prototype.add_raw_token=function(x){this._output.add_raw_token(x)},s.prototype.print_preserved_newlines=function(x){var k=0;x.type!==r.TEXT&&x.previous.type!==r.TEXT&&(k=x.newlines?1:0),this.preserve_newlines&&(k=x.newlines<this.max_preserve_newlines+1?x.newlines:this.max_preserve_newlines+1);for(var A=0;A<k;A++)this.print_newline(A>0);return k!==0},s.prototype.traverse_whitespace=function(x){return x.whitespace_before||x.newlines?(this.print_preserved_newlines(x)||(this._output.space_before_token=!0),!0):!1},s.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},s.prototype.print_newline=function(x){this._output.add_new_line(x)},s.prototype.print_token=function(x){x.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(x.text))},s.prototype.indent=function(){this.indent_level++},s.prototype.get_full_indent=function(x){return x=this.indent_level+(x||0),x<1?"":this._output.get_indent_string(x)};var l=function(x){for(var k=null,A=x.next;A.type!==r.EOF&&x.closed!==A;){if(A.type===r.ATTRIBUTE&&A.text==="type"){A.next&&A.next.type===r.EQUALS&&A.next.next&&A.next.next.type===r.VALUE&&(k=A.next.next.text);break}A=A.next}return k},u=function(x,k){var A=null,L=null;return k.closed?(x==="script"?A="text/javascript":x==="style"&&(A="text/css"),A=l(k)||A,A.search("text/css")>-1?L="css":A.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?L="javascript":A.search(/(text|application|dojo)\/(x-)?(html)/)>-1?L="html":A.search(/test\/null/)>-1&&(L="null"),L):null};function f(x,k){return k.indexOf(x)!==-1}function d(x,k,A){this.parent=x||null,this.tag=k?k.tag_name:"",this.indent_level=A||0,this.parser_token=k||null}function m(x){this._printer=x,this._current_frame=null}m.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},m.prototype.record_tag=function(x){var k=new d(this._current_frame,x,this._printer.indent_level);this._current_frame=k},m.prototype._try_pop_frame=function(x){var k=null;return x&&(k=x.parser_token,this._printer.indent_level=x.indent_level,this._current_frame=x.parent),k},m.prototype._get_frame=function(x,k){for(var A=this._current_frame;A&&x.indexOf(A.tag)===-1;){if(k&&k.indexOf(A.tag)!==-1){A=null;break}A=A.parent}return A},m.prototype.try_pop=function(x,k){var A=this._get_frame([x],k);return this._try_pop_frame(A)},m.prototype.indent_to_tag=function(x){var k=this._get_frame(x);k&&(this._printer.indent_level=k.indent_level)};function v(x,k,A,L){this._source_text=x||"",k=k||{},this._js_beautify=A,this._css_beautify=L,this._tag_stack=null;var E=new t(k,"html");this._options=E,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}v.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var x=this._source_text,k=this._options.eol;this._options.eol==="auto"&&(k=`
>>>>>>>> origin/craft-4:src/web/assets/field/dist/assets/vizy-91fcee7d.js
`,x&&i.test(x)&&(k=x.match(i)[0])),x=x.replace(o,`
`);var A=x.match(/^[\t ]*/)[0],N={text:"",type:""},E=new y,H=new s(this._options,A),I=new n(x,this._options).tokenize();this._tag_stack=new m(H);for(var q=null,P=I.next();P.type!==r.EOF;)P.type===r.TAG_OPEN||P.type===r.COMMENT?(q=this._handle_tag_open(H,P,E,N),E=q):P.type===r.ATTRIBUTE||P.type===r.EQUALS||P.type===r.VALUE||P.type===r.TEXT&&!E.tag_complete?q=this._handle_inside_tag(H,P,E,I):P.type===r.TAG_CLOSE?q=this._handle_tag_close(H,P,E):P.type===r.TEXT?q=this._handle_text(H,P,E):H.add_raw_token(P),N=q,P=I.next();var z=H._output.get_code(k);return z},v.prototype._handle_tag_close=function(x,k,A){var N={text:k.text,type:k.type};return x.alignment_size=0,A.tag_complete=!0,x.set_space_before_token(k.newlines||k.whitespace_before!=="",!0),A.is_unformatted?x.add_raw_token(k):(A.tag_start_char==="<"&&(x.set_space_before_token(k.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&A.has_wrapped_attrs&&x.print_newline(!1)),x.print_token(k)),A.indent_content&&!(A.is_unformatted||A.is_content_unformatted)&&(x.indent(),A.indent_content=!1),!A.is_inline_element&&!(A.is_unformatted||A.is_content_unformatted)&&x.set_wrap_point(),N},v.prototype._handle_inside_tag=function(x,k,A,N){var E=A.has_wrapped_attrs,H={text:k.text,type:k.type};if(x.set_space_before_token(k.newlines||k.whitespace_before!=="",!0),A.is_unformatted)x.add_raw_token(k);else if(A.tag_start_char==="{"&&k.type===r.TEXT)x.print_preserved_newlines(k)?(k.newlines=0,x.add_raw_token(k)):x.print_token(k);else{if(k.type===r.ATTRIBUTE?(x.set_space_before_token(!0),A.attr_count+=1):(k.type===r.EQUALS||k.type===r.VALUE&&k.previous.type===r.EQUALS)&&x.set_space_before_token(!1),k.type===r.ATTRIBUTE&&A.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(x.traverse_whitespace(k),E=E||k.newlines!==0),this._is_wrap_attributes_force)){var I=A.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&A.attr_count===1){var q=!0,P=0,z;do{if(z=N.peek(P),z.type===r.ATTRIBUTE){q=!1;break}P+=1}while(P<4&&z.type!==r.EOF&&z.type!==r.TAG_CLOSE);I=!q}I&&(x.print_newline(!1),E=!0)}x.print_token(k),E=E||x.previous_token_wrapped(),A.has_wrapped_attrs=E}return H},v.prototype._handle_text=function(x,k,A){var N={text:k.text,type:"TK_CONTENT"};return A.custom_beautifier_name?this._print_custom_beatifier_text(x,k,A):A.is_unformatted||A.is_content_unformatted?x.add_raw_token(k):(x.traverse_whitespace(k),x.print_token(k)),N},v.prototype._print_custom_beatifier_text=function(x,k,A){var N=this;if(k.text!==""){var E=k.text,H,I=1,q="",P="";A.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?H=this._js_beautify:A.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?H=this._css_beautify:A.custom_beautifier_name==="html"&&(H=function(oe,D){var ae=new v(oe,D,N._js_beautify,N._css_beautify);return ae.beautify()}),this._options.indent_scripts==="keep"?I=0:this._options.indent_scripts==="separate"&&(I=-x.indent_level);var z=x.get_full_indent(I);if(E=E.replace(/\n[ \t]*$/,""),A.custom_beautifier_name!=="html"&&E[0]==="<"&&E.match(/^(<!--|<!\[CDATA\[)/)){var w=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(E);if(!w){x.add_raw_token(k);return}q=z+w[1]+`
`,E=w[4],w[5]&&(P=z+w[5]),E=E.replace(/\n[ \t]*$/,""),(w[2]||w[3].indexOf(`
`)!==-1)&&(w=w[3].match(/[ \t]+$/),w&&(k.whitespace_before=w[0]))}if(E)if(H){var R=function(){this.eol=`
`};R.prototype=this._options.raw_options;var U=new R;E=H(z+E,U)}else{var K=k.whitespace_before;K&&(E=E.replace(new RegExp(`
(`+K+")?","g"),`
`)),E=z+E.replace(/\n/g,`
`+z)}q&&(E?E=q+E+`
<<<<<<<< HEAD:src/web/assets/field/dist/assets/vizy-1d31d33d.js
`+P:E=q+P),x.print_newline(!1),E&&(k.text=E,k.whitespace_before="",k.newlines=0,x.add_raw_token(k),x.print_newline(!0))}},v.prototype._handle_tag_open=function(x,k,A,N){var E=this._get_tag_open_token(k);return(A.is_unformatted||A.is_content_unformatted)&&!A.is_empty_element&&k.type===r.TAG_OPEN&&k.text.indexOf("</")===0?(x.add_raw_token(k),E.start_tag_token=this._tag_stack.try_pop(E.tag_name)):(x.traverse_whitespace(k),this._set_tag_position(x,k,E,A,N),E.is_inline_element||x.set_wrap_point(),x.print_token(k)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(E.alignment_size=k.text.length+1),!E.tag_complete&&!E.is_unformatted&&(x.alignment_size=E.alignment_size),E};var y=function(x,k){if(this.parent=x||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!k)this.tag_complete=!0;else{var A;this.tag_start_char=k.text[0],this.text=k.text,this.tag_start_char==="<"?(A=k.text.match(/^<([^\s>]*)/),this.tag_check=A?A[1]:""):(A=k.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=A?A[1]:"",(k.text.startsWith("{{#>")||k.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&k.next!==null?this.tag_check=k.next.text.split(" ")[0]:this.tag_check=k.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),k.type===r.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||k.closed&&k.closed.text==="/>";var N=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(N=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(N)))}};v.prototype._get_tag_open_token=function(x){var k=new y(this._tag_stack.get_parser_token(),x);return k.alignment_size=this._options.wrap_attributes_indent_size,k.is_end_tag=k.is_end_tag||f(k.tag_check,this._options.void_elements),k.is_empty_element=k.tag_complete||k.is_start_tag&&k.is_end_tag,k.is_unformatted=!k.tag_complete&&f(k.tag_check,this._options.unformatted),k.is_content_unformatted=!k.is_empty_element&&f(k.tag_check,this._options.content_unformatted),k.is_inline_element=f(k.tag_name,this._options.inline)||k.tag_name.includes("-")||k.tag_start_char==="{",k},v.prototype._set_tag_position=function(x,k,A,N,E){if(A.is_empty_element||(A.is_end_tag?A.start_tag_token=this._tag_stack.try_pop(A.tag_name):(this._do_optional_end_element(A)&&(A.is_inline_element||x.print_newline(!1)),this._tag_stack.record_tag(A),(A.tag_name==="script"||A.tag_name==="style")&&!(A.is_unformatted||A.is_content_unformatted)&&(A.custom_beautifier_name=u(A.tag_check,k)))),f(A.tag_check,this._options.extra_liners)&&(x.print_newline(!1),x._output.just_added_blankline()||x.print_newline(!0)),A.is_empty_element){if(A.tag_start_char==="{"&&A.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),A.indent_content=!0;var H=x.current_line_has_match(/{{#if/);H||x.print_newline(!1)}A.tag_name==="!--"&&E.type===r.TAG_CLOSE&&N.is_end_tag&&A.text.indexOf(`
`)===-1||(A.is_inline_element||A.is_unformatted||x.print_newline(!1),this._calcluate_parent_multiline(x,A))}else if(A.is_end_tag){var I=!1;I=A.start_tag_token&&A.start_tag_token.multiline_content,I=I||!A.is_inline_element&&!(N.is_inline_element||N.is_unformatted)&&!(E.type===r.TAG_CLOSE&&A.start_tag_token===N)&&E.type!=="TK_CONTENT",(A.is_content_unformatted||A.is_unformatted)&&(I=!1),I&&x.print_newline(!1)}else A.indent_content=!A.custom_beautifier_name,A.tag_start_char==="<"&&(A.tag_name==="html"?A.indent_content=this._options.indent_inner_html:A.tag_name==="head"?A.indent_content=this._options.indent_head_inner_html:A.tag_name==="body"&&(A.indent_content=this._options.indent_body_inner_html)),!(A.is_inline_element||A.is_unformatted)&&(E.type!=="TK_CONTENT"||A.is_content_unformatted)&&x.print_newline(!1),this._calcluate_parent_multiline(x,A)},v.prototype._calcluate_parent_multiline=function(x,k){k.parent&&x._output.just_added_newline()&&!((k.is_inline_element||k.is_unformatted)&&k.parent.is_inline_element)&&(k.parent.multiline_content=!0)};var _=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],C=["a","audio","del","ins","map","noscript","video"];return v.prototype._do_optional_end_element=function(x){var k=null;if(!(x.is_empty_element||!x.is_start_tag||!x.parent)){if(x.tag_name==="body")k=k||this._tag_stack.try_pop("head");else if(x.tag_name==="li")k=k||this._tag_stack.try_pop("li",["ol","ul"]);else if(x.tag_name==="dd"||x.tag_name==="dt")k=k||this._tag_stack.try_pop("dt",["dl"]),k=k||this._tag_stack.try_pop("dd",["dl"]);else if(x.parent.tag_name==="p"&&_.indexOf(x.tag_name)!==-1){var A=x.parent.parent;(!A||C.indexOf(A.tag_name)===-1)&&(k=k||this._tag_stack.try_pop("p"))}else x.tag_name==="rp"||x.tag_name==="rt"?(k=k||this._tag_stack.try_pop("rt",["ruby","rtc"]),k=k||this._tag_stack.try_pop("rp",["ruby","rtc"])):x.tag_name==="optgroup"?k=k||this._tag_stack.try_pop("optgroup",["select"]):x.tag_name==="option"?k=k||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):x.tag_name==="colgroup"?k=k||this._tag_stack.try_pop("caption",["table"]):x.tag_name==="thead"?(k=k||this._tag_stack.try_pop("caption",["table"]),k=k||this._tag_stack.try_pop("colgroup",["table"])):x.tag_name==="tbody"||x.tag_name==="tfoot"?(k=k||this._tag_stack.try_pop("caption",["table"]),k=k||this._tag_stack.try_pop("colgroup",["table"]),k=k||this._tag_stack.try_pop("thead",["table"]),k=k||this._tag_stack.try_pop("tbody",["table"])):x.tag_name==="tr"?(k=k||this._tag_stack.try_pop("caption",["table"]),k=k||this._tag_stack.try_pop("colgroup",["table"]),k=k||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(x.tag_name==="th"||x.tag_name==="td")&&(k=k||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),k=k||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return x.parent=this._tag_stack.get_parser_token(),k}},Sy.Beautifier=v,Sy}var ZE;function Mse(){if(ZE)return Rf;ZE=1;var t=Ose().Beautifier,e=HN().Options;function n(r,i,o,s){var l=new t(r,i,o,s);return l.beautify()}return Ase.exports=n,Rf.defaultOptions=function(){return new e},Rf}var QE;function Lse(){if(QE)return Jc;QE=1;var t=Sse(),e=Ese(),n=Mse();function r(i,o,s,l){return s=s||t,l=l||e,n(i,o,s,l)}return r.defaultOptions=n.defaultOptions,Jc.js=t,Jc.css=e,Jc.html=r,Jc}(function(t){function e(n,r,i){var o=function(s,l){return n.js_beautify(s,l)};return o.js=n.js_beautify,o.css=r.css_beautify,o.html=i.html_beautify,o.js_beautify=n.js_beautify,o.css_beautify=r.css_beautify,o.html_beautify=i.html_beautify,o}(function(n){var r=Lse();r.js_beautify=r.js,r.css_beautify=r.css,r.html_beautify=r.html,n.exports=e(r,r,r)})(t)})(bse);const Nse=v1;var eA={},tA;function Ise(){return tA||(tA=1,function(t,e){(function(n){n(Or())})(function(n){n.overlayMode=function(r,i,o){return{startState:function(){return{base:n.startState(r),overlay:n.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(s){return{base:n.copyState(r,s.base),overlay:n.copyState(i,s.overlay),basePos:s.basePos,baseCur:null,overlayPos:s.overlayPos,overlayCur:null}},token:function(s,l){return(s!=l.streamSeen||Math.min(l.basePos,l.overlayPos)<s.start)&&(l.streamSeen=s,l.basePos=l.overlayPos=s.start),s.start==l.basePos&&(l.baseCur=r.token(s,l.base),l.basePos=s.pos),s.start==l.overlayPos&&(s.pos=s.start,l.overlayCur=i.token(s,l.overlay),l.overlayPos=s.pos),s.pos=Math.min(l.basePos,l.overlayPos),l.overlayCur==null?l.baseCur:l.baseCur!=null&&l.overlay.combineTokens||o&&l.overlay.combineTokens==null?l.baseCur+" "+l.overlayCur:l.overlayCur},indent:r.indent&&function(s,l,u){return r.indent(s.base,l,u)},electricChars:r.electricChars,innerMode:function(s){return{state:s.base,mode:r}},blankLine:function(s){var l,u;return r.blankLine&&(l=r.blankLine(s.base)),i.blankLine&&(u=i.blankLine(s.overlay)),u==null?l:o&&l!=null?l+" "+u:u}}}})}()),eA}var nA={},rA;function FN(){return rA||(rA=1,function(t,e){(function(n){n(Or())})(function(n){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(o,s){var l=o.indentUnit,u={},f=s.htmlMode?r:i;for(var d in f)u[d]=f[d];for(var d in s)u[d]=s[d];var m,v;function y(D,ae){function ce(qe){return ae.tokenize=qe,qe(D,ae)}var ve=D.next();if(ve=="<")return D.eat("!")?D.eat("[")?D.match("CDATA[")?ce(x("atom","]]>")):null:D.match("--")?ce(x("comment","-->")):D.match("DOCTYPE",!0,!0)?(D.eatWhile(/[\w\._\-]/),ce(k(1))):null:D.eat("?")?(D.eatWhile(/[\w\._\-]/),ae.tokenize=x("meta","?>"),"meta"):(m=D.eat("/")?"closeTag":"openTag",ae.tokenize=_,"tag bracket");if(ve=="&"){var ze;return D.eat("#")?D.eat("x")?ze=D.eatWhile(/[a-fA-F\d]/)&&D.eat(";"):ze=D.eatWhile(/[\d]/)&&D.eat(";"):ze=D.eatWhile(/[\w\.\-:]/)&&D.eat(";"),ze?"atom":"error"}else return D.eatWhile(/[^&<]/),null}y.isInText=!0;function _(D,ae){var ce=D.next();if(ce==">"||ce=="/"&&D.eat(">"))return ae.tokenize=y,m=ce==">"?"endTag":"selfcloseTag","tag bracket";if(ce=="=")return m="equals",null;if(ce=="<"){ae.tokenize=y,ae.state=I,ae.tagName=ae.tagStart=null;var ve=ae.tokenize(D,ae);return ve?ve+" tag error":"tag error"}else return/[\'\"]/.test(ce)?(ae.tokenize=C(ce),ae.stringStartCol=D.column(),ae.tokenize(D,ae)):(D.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function C(D){var ae=function(ce,ve){for(;!ce.eol();)if(ce.next()==D){ve.tokenize=_;break}return"string"};return ae.isInAttribute=!0,ae}function x(D,ae){return function(ce,ve){for(;!ce.eol();){if(ce.match(ae)){ve.tokenize=y;break}ce.next()}return D}}function k(D){return function(ae,ce){for(var ve;(ve=ae.next())!=null;){if(ve=="<")return ce.tokenize=k(D+1),ce.tokenize(ae,ce);if(ve==">")if(D==1){ce.tokenize=y;break}else return ce.tokenize=k(D-1),ce.tokenize(ae,ce)}return"meta"}}function A(D){return D&&D.toLowerCase()}function N(D,ae,ce){this.prev=D.context,this.tagName=ae||"",this.indent=D.indented,this.startOfLine=ce,(u.doNotIndent.hasOwnProperty(ae)||D.context&&D.context.noIndent)&&(this.noIndent=!0)}function E(D){D.context&&(D.context=D.context.prev)}function H(D,ae){for(var ce;;){if(!D.context||(ce=D.context.tagName,!u.contextGrabbers.hasOwnProperty(A(ce))||!u.contextGrabbers[A(ce)].hasOwnProperty(A(ae))))return;E(D)}}function I(D,ae,ce){return D=="openTag"?(ce.tagStart=ae.column(),q):D=="closeTag"?P:I}function q(D,ae,ce){return D=="word"?(ce.tagName=ae.current(),v="tag",R):u.allowMissingTagName&&D=="endTag"?(v="tag bracket",R(D,ae,ce)):(v="error",q)}function P(D,ae,ce){if(D=="word"){var ve=ae.current();return ce.context&&ce.context.tagName!=ve&&u.implicitlyClosed.hasOwnProperty(A(ce.context.tagName))&&E(ce),ce.context&&ce.context.tagName==ve||u.matchClosing===!1?(v="tag",z):(v="tag error",w)}else return u.allowMissingTagName&&D=="endTag"?(v="tag bracket",z(D,ae,ce)):(v="error",w)}function z(D,ae,ce){return D!="endTag"?(v="error",z):(E(ce),I)}function w(D,ae,ce){return v="error",z(D,ae,ce)}function R(D,ae,ce){if(D=="word")return v="attribute",U;if(D=="endTag"||D=="selfcloseTag"){var ve=ce.tagName,ze=ce.tagStart;return ce.tagName=ce.tagStart=null,D=="selfcloseTag"||u.autoSelfClosers.hasOwnProperty(A(ve))?H(ce,ve):(H(ce,ve),ce.context=new N(ce,ve,ze==ce.indented)),I}return v="error",R}function U(D,ae,ce){return D=="equals"?K:(u.allowMissing||(v="error"),R(D,ae,ce))}function K(D,ae,ce){return D=="string"?oe:D=="word"&&u.allowUnquoted?(v="string",R):(v="error",R(D,ae,ce))}function oe(D,ae,ce){return D=="string"?oe:R(D,ae,ce)}return{startState:function(D){var ae={tokenize:y,state:I,indented:D||0,tagName:null,tagStart:null,context:null};return D!=null&&(ae.baseIndent=D),ae},token:function(D,ae){if(!ae.tagName&&D.sol()&&(ae.indented=D.indentation()),D.eatSpace())return null;m=null;var ce=ae.tokenize(D,ae);return(ce||m)&&ce!="comment"&&(v=null,ae.state=ae.state(m||ce,D,ae),v&&(ce=v=="error"?ce+" error":v)),ce},indent:function(D,ae,ce){var ve=D.context;if(D.tokenize.isInAttribute)return D.tagStart==D.indented?D.stringStartCol+1:D.indented+l;if(ve&&ve.noIndent)return n.Pass;if(D.tokenize!=_&&D.tokenize!=y)return ce?ce.match(/^(\s*)/)[0].length:0;if(D.tagName)return u.multilineTagIndentPastTag!==!1?D.tagStart+D.tagName.length+2:D.tagStart+l*(u.multilineTagIndentFactor||1);if(u.alignCDATA&&/<!\[CDATA\[/.test(ae))return 0;var ze=ae&&/^<(\/)?([\w_:\.-]*)/.exec(ae);if(ze&&ze[1])for(;ve;)if(ve.tagName==ze[2]){ve=ve.prev;break}else if(u.implicitlyClosed.hasOwnProperty(A(ve.tagName)))ve=ve.prev;else break;else if(ze)for(;ve;){var qe=u.contextGrabbers[A(ve.tagName)];if(qe&&qe.hasOwnProperty(A(ze[2])))ve=ve.prev;else break}for(;ve&&ve.prev&&!ve.startOfLine;)ve=ve.prev;return ve?ve.indent+l:D.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:u.htmlMode?"html":"xml",helperType:u.htmlMode?"html":"xml",skipAttribute:function(D){D.state==K&&(D.state=R)},xmlCurrentTag:function(D){return D.tagName?{name:D.tagName,close:D.type=="closeTag"}:null},xmlCurrentContext:function(D){for(var ae=[],ce=D.context;ce;ce=ce.prev)ae.push(ce.tagName);return ae.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),nA}var iA={},oA;function Gw(){return oA||(oA=1,function(t,e){(function(n){n(Or())})(function(n){n.defineMode("javascript",function(r,i){var o=r.indentUnit,s=i.statementIndent,l=i.jsonld,u=i.json||l,f=i.trackScope!==!1,d=i.typescript,m=i.wordCharacters||/[\w$\xa1-\uffff]/,v=function(){function V(Cn){return{type:Cn,style:"keyword"}}var re=V("keyword a"),se=V("keyword b"),we=V("keyword c"),ft=V("keyword d"),At=V("operator"),It={type:"atom",style:"atom"};return{if:V("if"),while:re,with:re,else:se,do:se,try:se,finally:se,return:ft,break:ft,continue:ft,new:V("new"),delete:we,void:we,throw:we,debugger:V("debugger"),var:V("var"),const:V("var"),let:V("var"),function:V("function"),catch:V("catch"),for:V("for"),switch:V("switch"),case:V("case"),default:V("default"),in:At,typeof:At,instanceof:At,true:It,false:It,null:It,undefined:It,NaN:It,Infinity:It,this:V("this"),class:V("class"),super:V("atom"),yield:we,export:V("export"),import:V("import"),extends:we,await:we}}(),y=/[+\-*&%=<>!?|~^@]/,_=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function C(V){for(var re=!1,se,we=!1;(se=V.next())!=null;){if(!re){if(se=="/"&&!we)return;se=="["?we=!0:we&&se=="]"&&(we=!1)}re=!re&&se=="\\"}}var x,k;function A(V,re,se){return x=V,k=se,re}function N(V,re){var se=V.next();if(se=='"'||se=="'")return re.tokenize=E(se),re.tokenize(V,re);if(se=="."&&V.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return A("number","number");if(se=="."&&V.match(".."))return A("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(se))return A(se);if(se=="="&&V.eat(">"))return A("=>","operator");if(se=="0"&&V.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return A("number","number");if(/\d/.test(se))return V.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),A("number","number");if(se=="/")return V.eat("*")?(re.tokenize=H,H(V,re)):V.eat("/")?(V.skipToEnd(),A("comment","comment")):Xi(V,re,1)?(C(V),V.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),A("regexp","string-2")):(V.eat("="),A("operator","operator",V.current()));if(se=="`")return re.tokenize=I,I(V,re);if(se=="#"&&V.peek()=="!")return V.skipToEnd(),A("meta","meta");if(se=="#"&&V.eatWhile(m))return A("variable","property");if(se=="<"&&V.match("!--")||se=="-"&&V.match("->")&&!/\S/.test(V.string.slice(0,V.start)))return V.skipToEnd(),A("comment","comment");if(y.test(se))return(se!=">"||!re.lexical||re.lexical.type!=">")&&(V.eat("=")?(se=="!"||se=="=")&&V.eat("="):/[<>*+\-|&?]/.test(se)&&(V.eat(se),se==">"&&V.eat(se))),se=="?"&&V.eat(".")?A("."):A("operator","operator",V.current());if(m.test(se)){V.eatWhile(m);var we=V.current();if(re.lastType!="."){if(v.propertyIsEnumerable(we)){var ft=v[we];return A(ft.type,ft.style,we)}if(we=="async"&&V.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return A("async","keyword",we)}return A("variable","variable",we)}}function E(V){return function(re,se){var we=!1,ft;if(l&&re.peek()=="@"&&re.match(_))return se.tokenize=N,A("jsonld-keyword","meta");for(;(ft=re.next())!=null&&!(ft==V&&!we);)we=!we&&ft=="\\";return we||(se.tokenize=N),A("string","string")}}function H(V,re){for(var se=!1,we;we=V.next();){if(we=="/"&&se){re.tokenize=N;break}se=we=="*"}return A("comment","comment")}function I(V,re){for(var se=!1,we;(we=V.next())!=null;){if(!se&&(we=="`"||we=="$"&&V.eat("{"))){re.tokenize=N;break}se=!se&&we=="\\"}return A("quasi","string-2",V.current())}var q="([{}])";function P(V,re){re.fatArrowAt&&(re.fatArrowAt=null);var se=V.string.indexOf("=>",V.start);if(!(se<0)){if(d){var we=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(V.string.slice(V.start,se));we&&(se=we.index)}for(var ft=0,At=!1,It=se-1;It>=0;--It){var Cn=V.string.charAt(It),Jr=q.indexOf(Cn);if(Jr>=0&&Jr<3){if(!ft){++It;break}if(--ft==0){Cn=="("&&(At=!0);break}}else if(Jr>=3&&Jr<6)++ft;else if(m.test(Cn))At=!0;else if(/["'\/`]/.test(Cn))for(;;--It){if(It==0)return;var dt=V.string.charAt(It-1);if(dt==Cn&&V.string.charAt(It-2)!="\\"){It--;break}}else if(At&&!ft){++It;break}}At&&!ft&&(re.fatArrowAt=It)}}var z={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function w(V,re,se,we,ft,At){this.indented=V,this.column=re,this.type=se,this.prev=ft,this.info=At,we!=null&&(this.align=we)}function R(V,re){if(!f)return!1;for(var se=V.localVars;se;se=se.next)if(se.name==re)return!0;for(var we=V.context;we;we=we.prev)for(var se=we.vars;se;se=se.next)if(se.name==re)return!0}function U(V,re,se,we,ft){var At=V.cc;for(K.state=V,K.stream=ft,K.marked=null,K.cc=At,K.style=re,V.lexical.hasOwnProperty("align")||(V.lexical.align=!0);;){var It=At.length?At.pop():u?Fe:Ze;if(It(se,we)){for(;At.length&&At[At.length-1].lex;)At.pop()();return K.marked?K.marked:se=="variable"&&R(V,we)?"variable-2":re}}}var K={state:null,column:null,marked:null,cc:null};function oe(){for(var V=arguments.length-1;V>=0;V--)K.cc.push(arguments[V])}function D(){return oe.apply(null,arguments),!0}function ae(V,re){for(var se=re;se;se=se.next)if(se.name==V)return!0;return!1}function ce(V){var re=K.state;if(K.marked="def",!!f){if(re.context){if(re.lexical.info=="var"&&re.context&&re.context.block){var se=ve(V,re.context);if(se!=null){re.context=se;return}}else if(!ae(V,re.localVars)){re.localVars=new vt(V,re.localVars);return}}i.globalVars&&!ae(V,re.globalVars)&&(re.globalVars=new vt(V,re.globalVars))}}function ve(V,re){if(re)if(re.block){var se=ve(V,re.prev);return se?se==re.prev?re:new qe(se,re.vars,!0):null}else return ae(V,re.vars)?re:new qe(re.prev,new vt(V,re.vars),!1);else return null}function ze(V){return V=="public"||V=="private"||V=="protected"||V=="abstract"||V=="readonly"}function qe(V,re,se){this.prev=V,this.vars=re,this.block=se}function vt(V,re){this.name=V,this.next=re}var mt=new vt("this",new vt("arguments",null));function bt(){K.state.context=new qe(K.state.context,K.state.localVars,!1),K.state.localVars=mt}function yt(){K.state.context=new qe(K.state.context,K.state.localVars,!0),K.state.localVars=null}bt.lex=yt.lex=!0;function Xe(){K.state.localVars=K.state.context.vars,K.state.context=K.state.context.prev}Xe.lex=!0;function Ie(V,re){var se=function(){var we=K.state,ft=we.indented;if(we.lexical.type=="stat")ft=we.lexical.indented;else for(var At=we.lexical;At&&At.type==")"&&At.align;At=At.prev)ft=At.indented;we.lexical=new w(ft,K.stream.column(),V,null,we.lexical,re)};return se.lex=!0,se}function Be(){var V=K.state;V.lexical.prev&&(V.lexical.type==")"&&(V.indented=V.lexical.indented),V.lexical=V.lexical.prev)}Be.lex=!0;function Ee(V){function re(se){return se==V?D():V==";"||se=="}"||se==")"||se=="]"?oe():D(re)}return re}function Ze(V,re){return V=="var"?D(Ie("vardef",re),Yr,Ee(";"),Be):V=="keyword a"?D(Ie("form"),ie,Ze,Be):V=="keyword b"?D(Ie("form"),Ze,Be):V=="keyword d"?K.stream.match(/^\s*$/,!1)?D():D(Ie("stat"),be,Ee(";"),Be):V=="debugger"?D(Ee(";")):V=="{"?D(Ie("}"),yt,Te,Be,Xe):V==";"?D():V=="if"?(K.state.lexical.info=="else"&&K.state.cc[K.state.cc.length-1]==Be&&K.state.cc.pop()(),D(Ie("form"),ie,Ze,Be,Pl)):V=="function"?D(Yi):V=="for"?D(Ie("form"),yt,Wd,Ze,Xe,Be):V=="class"||d&&re=="interface"?(K.marked="keyword",D(Ie("form",V=="class"?V:re),qd,Be)):V=="variable"?d&&re=="declare"?(K.marked="keyword",D(Ze)):d&&(re=="module"||re=="enum"||re=="type")&&K.stream.match(/^\s*\w/,!1)?(K.marked="keyword",re=="enum"?D(Rl):re=="type"?D(Ud,Ee("operator"),me,Ee(";")):D(Ie("form"),Sn,Ee("{"),Ie("}"),Te,Be,Be)):d&&re=="namespace"?(K.marked="keyword",D(Ie("form"),Fe,Ze,Be)):d&&re=="abstract"?(K.marked="keyword",D(Ze)):D(Ie("stat"),Q):V=="switch"?D(Ie("form"),ie,Ee("{"),Ie("}","switch"),yt,Te,Be,Be,Xe):V=="case"?D(Fe,Ee(":")):V=="default"?D(Ee(":")):V=="catch"?D(Ie("form"),bt,Ke,Ze,Be,Xe):V=="export"?D(Ie("stat"),fs,Be):V=="import"?D(Ie("stat"),So,Be):V=="async"?D(Ze):re=="@"?D(Fe,Ze):oe(Ie("stat"),Fe,Ee(";"),Be)}function Ke(V){if(V=="(")return D(Ci,Ee(")"))}function Fe(V,re){return ne(V,re,!1)}function at(V,re){return ne(V,re,!0)}function ie(V){return V!="("?oe():D(Ie(")"),be,Ee(")"),Be)}function ne(V,re,se){if(K.state.fatArrowAt==K.stream.start){var we=se?W:L;if(V=="(")return D(bt,Ie(")"),X(Ci,")"),Be,Ee("=>"),we,Xe);if(V=="variable")return oe(bt,Sn,Ee("=>"),we,Xe)}var ft=se?xe:_e;return z.hasOwnProperty(V)?D(ft):V=="function"?D(Yi,ft):V=="class"||d&&re=="interface"?(K.marked="keyword",D(Ie("form"),cs,Be)):V=="keyword c"||V=="async"?D(se?at:Fe):V=="("?D(Ie(")"),be,Ee(")"),Be,ft):V=="operator"||V=="spread"?D(se?at:Fe):V=="["?D(Ie("]"),Co,Be,ft):V=="{"?de(pe,"}",null,ft):V=="quasi"?oe(G,ft):V=="new"?D(O(se)):D()}function be(V){return V.match(/[;\}\)\],]/)?oe():oe(Fe)}function _e(V,re){return V==","?D(be):xe(V,re,!1)}function xe(V,re,se){var we=se==!1?_e:xe,ft=se==!1?Fe:at;if(V=="=>")return D(bt,se?W:L,Xe);if(V=="operator")return/\+\+|--/.test(re)||d&&re=="!"?D(we):d&&re=="<"&&K.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?D(Ie(">"),X(me,">"),Be,we):re=="?"?D(Fe,Ee(":"),ft):D(ft);if(V=="quasi")return oe(G,we);if(V!=";"){if(V=="(")return de(at,")","call",we);if(V==".")return D(le,we);if(V=="[")return D(Ie("]"),be,Ee("]"),Be,we);if(d&&re=="as")return K.marked="keyword",D(me,we);if(V=="regexp")return K.state.lastType=K.marked="operator",K.stream.backUp(K.stream.pos-K.stream.start-1),D(ft)}}function G(V,re){return V!="quasi"?oe():re.slice(re.length-2)!="${"?D(G):D(be,Z)}function Z(V){if(V=="}")return K.marked="string-2",K.state.tokenize=I,D(G)}function L(V){return P(K.stream,K.state),oe(V=="{"?Ze:Fe)}function W(V){return P(K.stream,K.state),oe(V=="{"?Ze:at)}function O(V){return function(re){return re=="."?D(V?F:j):re=="variable"&&d?D(Gt,V?xe:_e):oe(V?at:Fe)}}function j(V,re){if(re=="target")return K.marked="keyword",D(_e)}function F(V,re){if(re=="target")return K.marked="keyword",D(xe)}function Q(V){return V==":"?D(Be,Ze):oe(_e,Ee(";"),Be)}function le(V){if(V=="variable")return K.marked="property",D()}function pe(V,re){if(V=="async")return K.marked="property",D(pe);if(V=="variable"||K.style=="keyword"){if(K.marked="property",re=="get"||re=="set")return D(ye);var se;return d&&K.state.fatArrowAt==K.stream.start&&(se=K.stream.match(/^\s*:\s*/,!1))&&(K.state.fatArrowAt=K.stream.pos+se[0].length),D(Y)}else{if(V=="number"||V=="string")return K.marked=l?"property":K.style+" property",D(Y);if(V=="jsonld-keyword")return D(Y);if(d&&ze(re))return K.marked="keyword",D(pe);if(V=="[")return D(Fe,je,Ee("]"),Y);if(V=="spread")return D(at,Y);if(re=="*")return K.marked="keyword",D(pe);if(V==":")return oe(Y)}}function ye(V){return V!="variable"?oe(Y):(K.marked="property",D(Yi))}function Y(V){if(V==":")return D(at);if(V=="(")return oe(Yi)}function X(V,re,se){function we(ft,At){if(se?se.indexOf(ft)>-1:ft==","){var It=K.state.lexical;return It.info=="call"&&(It.pos=(It.pos||0)+1),D(function(Cn,Jr){return Cn==re||Jr==re?oe():oe(V)},we)}return ft==re||At==re?D():se&&se.indexOf(";")>-1?oe(V):D(Ee(re))}return function(ft,At){return ft==re||At==re?D():oe(V,we)}}function de(V,re,se){for(var we=3;we<arguments.length;we++)K.cc.push(arguments[we]);return D(Ie(re,se),X(V,re),Be)}function Te(V){return V=="}"?D():oe(Ze,Te)}function je(V,re){if(d){if(V==":")return D(me);if(re=="?")return D(je)}}function he(V,re){if(d&&(V==":"||re=="in"))return D(me)}function Ae(V){if(d&&V==":")return K.stream.match(/^\s*\w+\s+is\b/,!1)?D(Fe,Le,me):D(me)}function Le(V,re){if(re=="is")return K.marked="keyword",D()}function me(V,re){if(re=="keyof"||re=="typeof"||re=="infer"||re=="readonly")return K.marked="keyword",D(re=="typeof"?at:me);if(V=="variable"||re=="void")return K.marked="type",D(Xt);if(re=="|"||re=="&")return D(me);if(V=="string"||V=="number"||V=="atom")return D(Xt);if(V=="[")return D(Ie("]"),X(me,"]",","),Be,Xt);if(V=="{")return D(Ie("}"),ct,Be,Xt);if(V=="(")return D(X(Kt,")"),Je,Xt);if(V=="<")return D(X(me,">"),me);if(V=="quasi")return oe(Ct,Xt)}function Je(V){if(V=="=>")return D(me)}function ct(V){return V.match(/[\}\)\]]/)?D():V==","||V==";"?D(ct):oe(ot,ct)}function ot(V,re){if(V=="variable"||K.style=="keyword")return K.marked="property",D(ot);if(re=="?"||V=="number"||V=="string")return D(ot);if(V==":")return D(me);if(V=="[")return D(Ee("variable"),he,Ee("]"),ot);if(V=="(")return oe(Ji,ot);if(!V.match(/[;\}\)\],]/))return D()}function Ct(V,re){return V!="quasi"?oe():re.slice(re.length-2)!="${"?D(Ct):D(me,yr)}function yr(V){if(V=="}")return K.marked="string-2",K.state.tokenize=I,D(Ct)}function Kt(V,re){return V=="variable"&&K.stream.match(/^\s*[?:]/,!1)||re=="?"?D(Kt):V==":"?D(me):V=="spread"?D(Kt):oe(me)}function Xt(V,re){if(re=="<")return D(Ie(">"),X(me,">"),Be,Xt);if(re=="|"||V=="."||re=="&")return D(me);if(V=="[")return D(me,Ee("]"),Xt);if(re=="extends"||re=="implements")return K.marked="keyword",D(me);if(re=="?")return D(me,Ee(":"),me)}function Gt(V,re){if(re=="<")return D(Ie(">"),X(me,">"),Be,Xt)}function Kn(){return oe(me,Gr)}function Gr(V,re){if(re=="=")return D(me)}function Yr(V,re){return re=="enum"?(K.marked="keyword",D(Rl)):oe(Sn,je,ci,dv)}function Sn(V,re){if(d&&ze(re))return K.marked="keyword",D(Sn);if(V=="variable")return ce(re),D();if(V=="spread")return D(Sn);if(V=="[")return de(fv,"]");if(V=="{")return de(pc,"}")}function pc(V,re){return V=="variable"&&!K.stream.match(/^\s*:/,!1)?(ce(re),D(ci)):(V=="variable"&&(K.marked="property"),V=="spread"?D(Sn):V=="}"?oe():V=="["?D(Fe,Ee("]"),Ee(":"),pc):D(Ee(":"),Sn,ci))}function fv(){return oe(Sn,ci)}function ci(V,re){if(re=="=")return D(at)}function dv(V){if(V==",")return D(Yr)}function Pl(V,re){if(V=="keyword b"&&re=="else")return D(Ie("form","else"),Ze,Be)}function Wd(V,re){if(re=="await")return D(Wd);if(V=="(")return D(Ie(")"),mc,Be)}function mc(V){return V=="var"?D(Yr,us):V=="variable"?D(us):oe(us)}function us(V,re){return V==")"?D():V==";"?D(us):re=="in"||re=="of"?(K.marked="keyword",D(Fe,us)):oe(Fe,us)}function Yi(V,re){if(re=="*")return K.marked="keyword",D(Yi);if(V=="variable")return ce(re),D(Yi);if(V=="(")return D(bt,Ie(")"),X(Ci,")"),Be,Ae,Ze,Xe);if(d&&re=="<")return D(Ie(">"),X(Kn,">"),Be,Yi)}function Ji(V,re){if(re=="*")return K.marked="keyword",D(Ji);if(V=="variable")return ce(re),D(Ji);if(V=="(")return D(bt,Ie(")"),X(Ci,")"),Be,Ae,Xe);if(d&&re=="<")return D(Ie(">"),X(Kn,">"),Be,Ji)}function Ud(V,re){if(V=="keyword"||V=="variable")return K.marked="type",D(Ud);if(re=="<")return D(Ie(">"),X(Kn,">"),Be)}function Ci(V,re){return re=="@"&&D(Fe,Ci),V=="spread"?D(Ci):d&&ze(re)?(K.marked="keyword",D(Ci)):d&&V=="this"?D(je,ci):oe(Sn,je,ci)}function cs(V,re){return V=="variable"?qd(V,re):Dl(V,re)}function qd(V,re){if(V=="variable")return ce(re),D(Dl)}function Dl(V,re){if(re=="<")return D(Ie(">"),X(Kn,">"),Be,Dl);if(re=="extends"||re=="implements"||d&&V==",")return re=="implements"&&(K.marked="keyword"),D(d?me:Fe,Dl);if(V=="{")return D(Ie("}"),Mr,Be)}function Mr(V,re){if(V=="async"||V=="variable"&&(re=="static"||re=="get"||re=="set"||d&&ze(re))&&K.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return K.marked="keyword",D(Mr);if(V=="variable"||K.style=="keyword")return K.marked="property",D(xo,Mr);if(V=="number"||V=="string")return D(xo,Mr);if(V=="[")return D(Fe,je,Ee("]"),xo,Mr);if(re=="*")return K.marked="keyword",D(Mr);if(d&&V=="(")return oe(Ji,Mr);if(V==";"||V==",")return D(Mr);if(V=="}")return D();if(re=="@")return D(Fe,Mr)}function xo(V,re){if(re=="!"||re=="?")return D(xo);if(V==":")return D(me,ci);if(re=="=")return D(at);var se=K.state.lexical.prev,we=se&&se.info=="interface";return oe(we?Ji:Yi)}function fs(V,re){return re=="*"?(K.marked="keyword",D(Ge,Ee(";"))):re=="default"?(K.marked="keyword",D(Fe,Ee(";"))):V=="{"?D(X(Kd,"}"),Ge,Ee(";")):oe(Ze)}function Kd(V,re){if(re=="as")return K.marked="keyword",D(Ee("variable"));if(V=="variable")return oe(at,Kd)}function So(V){return V=="string"?D():V=="("?oe(Fe):V=="."?oe(_e):oe(ds,gc,Ge)}function ds(V,re){return V=="{"?de(ds,"}"):(V=="variable"&&ce(re),re=="*"&&(K.marked="keyword"),D(ln))}function gc(V){if(V==",")return D(ds,gc)}function ln(V,re){if(re=="as")return K.marked="keyword",D(ds)}function Ge(V,re){if(re=="from")return K.marked="keyword",D(Fe)}function Co(V){return V=="]"?D():oe(X(at,"]"))}function Rl(){return oe(Ie("form"),Sn,Ee("{"),Ie("}"),X(fi,"}"),Be,Be)}function fi(){return oe(Sn,ci)}function $t(V,re){return V.lastType=="operator"||V.lastType==","||y.test(re.charAt(0))||/[,.]/.test(re.charAt(0))}function Xi(V,re,se){return re.tokenize==N&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(re.lastType)||re.lastType=="quasi"&&/\{\s*$/.test(V.string.slice(0,V.pos-(se||0)))}return{startState:function(V){var re={tokenize:N,lastType:"sof",cc:[],lexical:new w((V||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new qe(null,null,!1),indented:V||0};return i.globalVars&&typeof i.globalVars=="object"&&(re.globalVars=i.globalVars),re},token:function(V,re){if(V.sol()&&(re.lexical.hasOwnProperty("align")||(re.lexical.align=!1),re.indented=V.indentation(),P(V,re)),re.tokenize!=H&&V.eatSpace())return null;var se=re.tokenize(V,re);return x=="comment"?se:(re.lastType=x=="operator"&&(k=="++"||k=="--")?"incdec":x,U(re,se,x,k,V))},indent:function(V,re){if(V.tokenize==H||V.tokenize==I)return n.Pass;if(V.tokenize!=N)return 0;var se=re&&re.charAt(0),we=V.lexical,ft;if(!/^\s*else\b/.test(re))for(var At=V.cc.length-1;At>=0;--At){var It=V.cc[At];if(It==Be)we=we.prev;else if(It!=Pl&&It!=Xe)break}for(;(we.type=="stat"||we.type=="form")&&(se=="}"||(ft=V.cc[V.cc.length-1])&&(ft==_e||ft==xe)&&!/^[,\.=+\-*:?[\(]/.test(re));)we=we.prev;s&&we.type==")"&&we.prev.type=="stat"&&(we=we.prev);var Cn=we.type,Jr=se==Cn;return Cn=="vardef"?we.indented+(V.lastType=="operator"||V.lastType==","?we.info.length+1:0):Cn=="form"&&se=="{"?we.indented:Cn=="form"?we.indented+o:Cn=="stat"?we.indented+($t(V,re)?s||o:0):we.info=="switch"&&!Jr&&i.doubleIndentSwitch!=!1?we.indented+(/^(?:case|default)\b/.test(re)?o:2*o):we.align?we.column+(Jr?0:1):we.indented+(Jr?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:l,jsonMode:u,expressionAllowed:Xi,skipExpression:function(V){U(V,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),iA}var sA={},aA;function Pse(){return aA||(aA=1,function(t,e){(function(n){n(Or())})(function(n){n.defineMode("coffeescript",function(r,i){var o="error";function s(w){return new RegExp("^(("+w.join(")|(")+"))\\b")}var l=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,u=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,f=/^[_A-Za-z$][_A-Za-z$0-9]*/,d=/^@[_A-Za-z$][_A-Za-z$0-9]*/,m=s(["and","or","not","is","isnt","in","instanceof","typeof"]),v=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],y=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],_=s(v.concat(y));v=s(v);var C=/^('{3}|\"{3}|['\"])/,x=/^(\/{3}|\/)/,k=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],A=s(k);function N(w,R){if(w.sol()){R.scope.align===null&&(R.scope.align=!1);var U=R.scope.offset;if(w.eatSpace()){var K=w.indentation();return K>U&&R.scope.type=="coffee"?"indent":K<U?"dedent":null}else U>0&&q(w,R)}if(w.eatSpace())return null;var oe=w.peek();if(w.match("####"))return w.skipToEnd(),"comment";if(w.match("###"))return R.tokenize=H,R.tokenize(w,R);if(oe==="#")return w.skipToEnd(),"comment";if(w.match(/^-?[0-9\.]/,!1)){var D=!1;if(w.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(D=!0),w.match(/^-?\d+\.\d*/)&&(D=!0),w.match(/^-?\.\d+/)&&(D=!0),D)return w.peek()=="."&&w.backUp(1),"number";var ae=!1;if(w.match(/^-?0x[0-9a-f]+/i)&&(ae=!0),w.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(ae=!0),w.match(/^-?0(?![\dx])/i)&&(ae=!0),ae)return"number"}if(w.match(C))return R.tokenize=E(w.current(),!1,"string"),R.tokenize(w,R);if(w.match(x)){if(w.current()!="/"||w.match(/^.*\//,!1))return R.tokenize=E(w.current(),!0,"string-2"),R.tokenize(w,R);w.backUp(1)}return w.match(l)||w.match(m)?"operator":w.match(u)?"punctuation":w.match(A)?"atom":w.match(d)||R.prop&&w.match(f)?"property":w.match(_)?"keyword":w.match(f)?"variable":(w.next(),o)}function E(w,R,U){return function(K,oe){for(;!K.eol();)if(K.eatWhile(/[^'"\/\\]/),K.eat("\\")){if(K.next(),R&&K.eol())return U}else{if(K.match(w))return oe.tokenize=N,U;K.eat(/['"\/]/)}return R&&(i.singleLineStringErrors?U=o:oe.tokenize=N),U}}function H(w,R){for(;!w.eol();){if(w.eatWhile(/[^#]/),w.match("###")){R.tokenize=N;break}w.eatWhile("#")}return"comment"}function I(w,R,U){U=U||"coffee";for(var K=0,oe=!1,D=null,ae=R.scope;ae;ae=ae.prev)if(ae.type==="coffee"||ae.type=="}"){K=ae.offset+r.indentUnit;break}U!=="coffee"?(oe=null,D=w.column()+w.current().length):R.scope.align&&(R.scope.align=!1),R.scope={offset:K,type:U,prev:R.scope,align:oe,alignOffset:D}}function q(w,R){if(R.scope.prev)if(R.scope.type==="coffee"){for(var U=w.indentation(),K=!1,oe=R.scope;oe;oe=oe.prev)if(U===oe.offset){K=!0;break}if(!K)return!0;for(;R.scope.prev&&R.scope.offset!==U;)R.scope=R.scope.prev;return!1}else return R.scope=R.scope.prev,!1}function P(w,R){var U=R.tokenize(w,R),K=w.current();K==="return"&&(R.dedent=!0),((K==="->"||K==="=>")&&w.eol()||U==="indent")&&I(w,R);var oe="[({".indexOf(K);if(oe!==-1&&I(w,R,"])}".slice(oe,oe+1)),v.exec(K)&&I(w,R),K=="then"&&q(w,R),U==="dedent"&&q(w,R))return o;if(oe="])}".indexOf(K),oe!==-1){for(;R.scope.type=="coffee"&&R.scope.prev;)R.scope=R.scope.prev;R.scope.type==K&&(R.scope=R.scope.prev)}return R.dedent&&w.eol()&&(R.scope.type=="coffee"&&R.scope.prev&&(R.scope=R.scope.prev),R.dedent=!1),U}var z={startState:function(w){return{tokenize:N,scope:{offset:w||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(w,R){var U=R.scope.align===null&&R.scope;U&&w.sol()&&(U.align=!1);var K=P(w,R);return K&&K!="comment"&&(U&&(U.align=!0),R.prop=K=="punctuation"&&w.current()=="."),K},indent:function(w,R){if(w.tokenize!=N)return 0;var U=w.scope,K=R&&"])}".indexOf(R.charAt(0))>-1;if(K)for(;U.type=="coffee"&&U.prev;)U=U.prev;var oe=K&&U.type===R.charAt(0);return U.align?U.alignOffset-(oe?1:0):(oe?U.prev:U).offset},lineComment:"#",fold:"indent"};return z}),n.defineMIME("application/vnd.coffeescript","coffeescript"),n.defineMIME("text/x-coffeescript","coffeescript"),n.defineMIME("text/coffeescript","coffeescript")})}()),sA}var lA={},uA;function cv(){return uA||(uA=1,function(t,e){(function(n){n(Or())})(function(n){n.defineMode("css",function(w,R){var U=R.inline;R.propertyKeywords||(R=n.resolveMode("text/css"));var K=w.indentUnit,oe=R.tokenHooks,D=R.documentTypes||{},ae=R.mediaTypes||{},ce=R.mediaFeatures||{},ve=R.mediaValueKeywords||{},ze=R.propertyKeywords||{},qe=R.nonStandardPropertyKeywords||{},vt=R.fontProperties||{},mt=R.counterDescriptors||{},bt=R.colorKeywords||{},yt=R.valueKeywords||{},Xe=R.allowNested,Ie=R.lineComment,Be=R.supportsAtComponent===!0,Ee=w.highlightNonStandardPropertyKeywords!==!1,Ze,Ke;function Fe(O,j){return Ze=j,O}function at(O,j){var F=O.next();if(oe[F]){var Q=oe[F](O,j);if(Q!==!1)return Q}if(F=="@")return O.eatWhile(/[\w\\\-]/),Fe("def",O.current());if(F=="="||(F=="~"||F=="|")&&O.eat("="))return Fe(null,"compare");if(F=='"'||F=="'")return j.tokenize=ie(F),j.tokenize(O,j);if(F=="#")return O.eatWhile(/[\w\\\-]/),Fe("atom","hash");if(F=="!")return O.match(/^\s*\w*/),Fe("keyword","important");if(/\d/.test(F)||F=="."&&O.eat(/\d/))return O.eatWhile(/[\w.%]/),Fe("number","unit");if(F==="-"){if(/[\d.]/.test(O.peek()))return O.eatWhile(/[\w.%]/),Fe("number","unit");if(O.match(/^-[\w\\\-]*/))return O.eatWhile(/[\w\\\-]/),O.match(/^\s*:/,!1)?Fe("variable-2","variable-definition"):Fe("variable-2","variable");if(O.match(/^\w+-/))return Fe("meta","meta")}else return/[,+>*\/]/.test(F)?Fe(null,"select-op"):F=="."&&O.match(/^-?[_a-z][_a-z0-9-]*/i)?Fe("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(F)?Fe(null,F):O.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(O.current())&&(j.tokenize=ne),Fe("variable callee","variable")):/[\w\\\-]/.test(F)?(O.eatWhile(/[\w\\\-]/),Fe("property","word")):Fe(null,null)}function ie(O){return function(j,F){for(var Q=!1,le;(le=j.next())!=null;){if(le==O&&!Q){O==")"&&j.backUp(1);break}Q=!Q&&le=="\\"}return(le==O||!Q&&O!=")")&&(F.tokenize=null),Fe("string","string")}}function ne(O,j){return O.next(),O.match(/^\s*[\"\')]/,!1)?j.tokenize=null:j.tokenize=ie(")"),Fe(null,"(")}function be(O,j,F){this.type=O,this.indent=j,this.prev=F}function _e(O,j,F,Q){return O.context=new be(F,j.indentation()+(Q===!1?0:K),O.context),F}function xe(O){return O.context.prev&&(O.context=O.context.prev),O.context.type}function G(O,j,F){return W[F.context.type](O,j,F)}function Z(O,j,F,Q){for(var le=Q||1;le>0;le--)F.context=F.context.prev;return G(O,j,F)}function L(O){var j=O.current().toLowerCase();yt.hasOwnProperty(j)?Ke="atom":bt.hasOwnProperty(j)?Ke="keyword":Ke="variable"}var W={};return W.top=function(O,j,F){if(O=="{")return _e(F,j,"block");if(O=="}"&&F.context.prev)return xe(F);if(Be&&/@component/i.test(O))return _e(F,j,"atComponentBlock");if(/^@(-moz-)?document$/i.test(O))return _e(F,j,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(O))return _e(F,j,"atBlock");if(/^@(font-face|counter-style)/i.test(O))return F.stateArg=O,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(O))return"keyframes";if(O&&O.charAt(0)=="@")return _e(F,j,"at");if(O=="hash")Ke="builtin";else if(O=="word")Ke="tag";else{if(O=="variable-definition")return"maybeprop";if(O=="interpolation")return _e(F,j,"interpolation");if(O==":")return"pseudo";if(Xe&&O=="(")return _e(F,j,"parens")}return F.context.type},W.block=function(O,j,F){if(O=="word"){var Q=j.current().toLowerCase();return ze.hasOwnProperty(Q)?(Ke="property","maybeprop"):qe.hasOwnProperty(Q)?(Ke=Ee?"string-2":"property","maybeprop"):Xe?(Ke=j.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ke+=" error","maybeprop")}else return O=="meta"?"block":!Xe&&(O=="hash"||O=="qualifier")?(Ke="error","block"):W.top(O,j,F)},W.maybeprop=function(O,j,F){return O==":"?_e(F,j,"prop"):G(O,j,F)},W.prop=function(O,j,F){if(O==";")return xe(F);if(O=="{"&&Xe)return _e(F,j,"propBlock");if(O=="}"||O=="{")return Z(O,j,F);if(O=="(")return _e(F,j,"parens");if(O=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(j.current()))Ke+=" error";else if(O=="word")L(j);else if(O=="interpolation")return _e(F,j,"interpolation");return"prop"},W.propBlock=function(O,j,F){return O=="}"?xe(F):O=="word"?(Ke="property","maybeprop"):F.context.type},W.parens=function(O,j,F){return O=="{"||O=="}"?Z(O,j,F):O==")"?xe(F):O=="("?_e(F,j,"parens"):O=="interpolation"?_e(F,j,"interpolation"):(O=="word"&&L(j),"parens")},W.pseudo=function(O,j,F){return O=="meta"?"pseudo":O=="word"?(Ke="variable-3",F.context.type):G(O,j,F)},W.documentTypes=function(O,j,F){return O=="word"&&D.hasOwnProperty(j.current())?(Ke="tag",F.context.type):W.atBlock(O,j,F)},W.atBlock=function(O,j,F){if(O=="(")return _e(F,j,"atBlock_parens");if(O=="}"||O==";")return Z(O,j,F);if(O=="{")return xe(F)&&_e(F,j,Xe?"block":"top");if(O=="interpolation")return _e(F,j,"interpolation");if(O=="word"){var Q=j.current().toLowerCase();Q=="only"||Q=="not"||Q=="and"||Q=="or"?Ke="keyword":ae.hasOwnProperty(Q)?Ke="attribute":ce.hasOwnProperty(Q)?Ke="property":ve.hasOwnProperty(Q)?Ke="keyword":ze.hasOwnProperty(Q)?Ke="property":qe.hasOwnProperty(Q)?Ke=Ee?"string-2":"property":yt.hasOwnProperty(Q)?Ke="atom":bt.hasOwnProperty(Q)?Ke="keyword":Ke="error"}return F.context.type},W.atComponentBlock=function(O,j,F){return O=="}"?Z(O,j,F):O=="{"?xe(F)&&_e(F,j,Xe?"block":"top",!1):(O=="word"&&(Ke="error"),F.context.type)},W.atBlock_parens=function(O,j,F){return O==")"?xe(F):O=="{"||O=="}"?Z(O,j,F,2):W.atBlock(O,j,F)},W.restricted_atBlock_before=function(O,j,F){return O=="{"?_e(F,j,"restricted_atBlock"):O=="word"&&F.stateArg=="@counter-style"?(Ke="variable","restricted_atBlock_before"):G(O,j,F)},W.restricted_atBlock=function(O,j,F){return O=="}"?(F.stateArg=null,xe(F)):O=="word"?(F.stateArg=="@font-face"&&!vt.hasOwnProperty(j.current().toLowerCase())||F.stateArg=="@counter-style"&&!mt.hasOwnProperty(j.current().toLowerCase())?Ke="error":Ke="property","maybeprop"):"restricted_atBlock"},W.keyframes=function(O,j,F){return O=="word"?(Ke="variable","keyframes"):O=="{"?_e(F,j,"top"):G(O,j,F)},W.at=function(O,j,F){return O==";"?xe(F):O=="{"||O=="}"?Z(O,j,F):(O=="word"?Ke="tag":O=="hash"&&(Ke="builtin"),"at")},W.interpolation=function(O,j,F){return O=="}"?xe(F):O=="{"||O==";"?Z(O,j,F):(O=="word"?Ke="variable":O!="variable"&&O!="("&&O!=")"&&(Ke="error"),"interpolation")},{startState:function(O){return{tokenize:null,state:U?"block":"top",stateArg:null,context:new be(U?"block":"top",O||0,null)}},token:function(O,j){if(!j.tokenize&&O.eatSpace())return null;var F=(j.tokenize||at)(O,j);return F&&typeof F=="object"&&(Ze=F[1],F=F[0]),Ke=F,Ze!="comment"&&(j.state=W[j.state](Ze,O,j)),Ke},indent:function(O,j){var F=O.context,Q=j&&j.charAt(0),le=F.indent;return F.type=="prop"&&(Q=="}"||Q==")")&&(F=F.prev),F.prev&&(Q=="}"&&(F.type=="block"||F.type=="top"||F.type=="interpolation"||F.type=="restricted_atBlock")?(F=F.prev,le=F.indent):(Q==")"&&(F.type=="parens"||F.type=="atBlock_parens")||Q=="{"&&(F.type=="at"||F.type=="atBlock"))&&(le=Math.max(0,F.indent-K))),le},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Ie,fold:"brace"}});function r(w){for(var R={},U=0;U<w.length;++U)R[w[U].toLowerCase()]=!0;return R}var i=["domain","regexp","url","url-prefix"],o=r(i),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],l=r(s),u=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],f=r(u),d=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],m=r(d),v=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],y=r(v),_=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],C=r(_),x=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],k=r(x),A=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],N=r(A),E=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],H=r(E),I=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],q=r(I),P=i.concat(s).concat(u).concat(d).concat(v).concat(_).concat(E).concat(I);n.registerHelper("hintWords","css",P);function z(w,R){for(var U=!1,K;(K=w.next())!=null;){if(U&&K=="/"){R.tokenize=null;break}U=K=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:o,mediaTypes:l,mediaFeatures:f,mediaValueKeywords:m,propertyKeywords:y,nonStandardPropertyKeywords:C,fontProperties:k,counterDescriptors:N,colorKeywords:H,valueKeywords:q,tokenHooks:{"/":function(w,R){return w.eat("*")?(R.tokenize=z,z(w,R)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:l,mediaFeatures:f,mediaValueKeywords:m,propertyKeywords:y,nonStandardPropertyKeywords:C,colorKeywords:H,valueKeywords:q,fontProperties:k,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(w,R){return w.eat("/")?(w.skipToEnd(),["comment","comment"]):w.eat("*")?(R.tokenize=z,z(w,R)):["operator","operator"]},":":function(w){return w.match(/^\s*\{/,!1)?[null,null]:!1},$:function(w){return w.match(/^[\w-]+/),w.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(w){return w.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:l,mediaFeatures:f,mediaValueKeywords:m,propertyKeywords:y,nonStandardPropertyKeywords:C,colorKeywords:H,valueKeywords:q,fontProperties:k,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(w,R){return w.eat("/")?(w.skipToEnd(),["comment","comment"]):w.eat("*")?(R.tokenize=z,z(w,R)):["operator","operator"]},"@":function(w){return w.eat("{")?[null,"interpolation"]:w.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(w.eatWhile(/[\w\\\-]/),w.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:o,mediaTypes:l,mediaFeatures:f,propertyKeywords:y,nonStandardPropertyKeywords:C,fontProperties:k,counterDescriptors:N,colorKeywords:H,valueKeywords:q,supportsAtComponent:!0,tokenHooks:{"/":function(w,R){return w.eat("*")?(R.tokenize=z,z(w,R)):!1}},name:"css",helperType:"gss"})})}()),lA}var cA={},fA;function Dse(){return fA||(fA=1,function(t,e){(function(n){n(Or(),cv())})(function(n){n.defineMode("sass",function(r){var i=n.mimeModes["text/css"],o=i.propertyKeywords||{},s=i.colorKeywords||{},l=i.valueKeywords||{},u=i.fontProperties||{};function f(z){return new RegExp("^"+z.join("|"))}var d=["true","false","null","auto"],m=new RegExp("^"+d.join("|")),v=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],y=f(v),_=/^::?[a-zA-Z_][\w\-]*/,C;function x(z){return!z.peek()||z.match(/\s+$/,!1)}function k(z,w){var R=z.peek();return R===")"?(z.next(),w.tokenizer=q,"operator"):R==="("?(z.next(),z.eatSpace(),"operator"):R==="'"||R==='"'?(w.tokenizer=N(z.next()),"string"):(w.tokenizer=N(")",!1),"string")}function A(z,w){return function(R,U){return R.sol()&&R.indentation()<=z?(U.tokenizer=q,q(R,U)):(w&&R.skipTo("*/")?(R.next(),R.next(),U.tokenizer=q):R.skipToEnd(),"comment")}}function N(z,w){w==null&&(w=!0);function R(U,K){var oe=U.next(),D=U.peek(),ae=U.string.charAt(U.pos-2),ce=oe!=="\\"&&D===z||oe===z&&ae!=="\\";return ce?(oe!==z&&w&&U.next(),x(U)&&(K.cursorHalf=0),K.tokenizer=q,"string"):oe==="#"&&D==="{"?(K.tokenizer=E(R),U.next(),"operator"):"string"}return R}function E(z){return function(w,R){return w.peek()==="}"?(w.next(),R.tokenizer=z,"operator"):q(w,R)}}function H(z){if(z.indentCount==0){z.indentCount++;var w=z.scopes[0].offset,R=w+r.indentUnit;z.scopes.unshift({offset:R})}}function I(z){z.scopes.length!=1&&z.scopes.shift()}function q(z,w){var R=z.peek();if(z.match("/*"))return w.tokenizer=A(z.indentation(),!0),w.tokenizer(z,w);if(z.match("//"))return w.tokenizer=A(z.indentation(),!1),w.tokenizer(z,w);if(z.match("#{"))return w.tokenizer=E(q),"operator";if(R==='"'||R==="'")return z.next(),w.tokenizer=N(R),"string";if(w.cursorHalf){if(R==="#"&&(z.next(),z.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))||z.match(/^-?[0-9\.]+/))return x(z)&&(w.cursorHalf=0),"number";if(z.match(/^(px|em|in)\b/))return x(z)&&(w.cursorHalf=0),"unit";if(z.match(m))return x(z)&&(w.cursorHalf=0),"keyword";if(z.match(/^url/)&&z.peek()==="(")return w.tokenizer=k,x(z)&&(w.cursorHalf=0),"atom";if(R==="$")return z.next(),z.eatWhile(/[\w-]/),x(z)&&(w.cursorHalf=0),"variable-2";if(R==="!")return z.next(),w.cursorHalf=0,z.match(/^[\w]+/)?"keyword":"operator";if(z.match(y))return x(z)&&(w.cursorHalf=0),"operator";if(z.eatWhile(/[\w-]/))return x(z)&&(w.cursorHalf=0),C=z.current().toLowerCase(),l.hasOwnProperty(C)?"atom":s.hasOwnProperty(C)?"keyword":o.hasOwnProperty(C)?(w.prevProp=z.current().toLowerCase(),"property"):"tag";if(x(z))return w.cursorHalf=0,null}else{if(R==="-"&&z.match(/^-\w+-/))return"meta";if(R==="."){if(z.next(),z.match(/^[\w-]+/))return H(w),"qualifier";if(z.peek()==="#")return H(w),"tag"}if(R==="#"){if(z.next(),z.match(/^[\w-]+/))return H(w),"builtin";if(z.peek()==="#")return H(w),"tag"}if(R==="$")return z.next(),z.eatWhile(/[\w-]/),"variable-2";if(z.match(/^-?[0-9\.]+/))return"number";if(z.match(/^(px|em|in)\b/))return"unit";if(z.match(m))return"keyword";if(z.match(/^url/)&&z.peek()==="(")return w.tokenizer=k,"atom";if(R==="="&&z.match(/^=[\w-]+/))return H(w),"meta";if(R==="+"&&z.match(/^\+[\w-]+/))return"variable-3";if(R==="@"&&z.match("@extend")&&(z.match(/\s*[\w]/)||I(w)),z.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return H(w),"def";if(R==="@")return z.next(),z.eatWhile(/[\w-]/),"def";if(z.eatWhile(/[\w-]/))if(z.match(/ *: *[\w-\+\$#!\("']/,!1)){C=z.current().toLowerCase();var U=w.prevProp+"-"+C;return o.hasOwnProperty(U)?"property":o.hasOwnProperty(C)?(w.prevProp=C,"property"):u.hasOwnProperty(C)?"property":"tag"}else return z.match(/ *:/,!1)?(H(w),w.cursorHalf=1,w.prevProp=z.current().toLowerCase(),"property"):(z.match(/ *,/,!1)||H(w),"tag");if(R===":")return z.match(_)?"variable-3":(z.next(),w.cursorHalf=1,"operator")}return z.match(y)?"operator":(z.next(),null)}function P(z,w){z.sol()&&(w.indentCount=0);var R=w.tokenizer(z,w),U=z.current();if((U==="@return"||U==="}")&&I(w),R!==null){for(var K=z.pos-U.length,oe=K+r.indentUnit*w.indentCount,D=[],ae=0;ae<w.scopes.length;ae++){var ce=w.scopes[ae];ce.offset<=oe&&D.push(ce)}w.scopes=D}return R}return{startState:function(){return{tokenizer:q,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(z,w){var R=P(z,w);return w.lastToken={style:R,content:z.current()},R},indent:function(z){return z.scopes[0].offset},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"indent"}},"css"),n.defineMIME("text/x-sass","sass")})}()),cA}var dA={},hA;function Rse(){return hA||(hA=1,function(t,e){(function(n){n(Or())})(function(n){n.defineMode("stylus",function(E){for(var H=E.indentUnit,I="",q=A(r),P=/^(a|b|i|s|col|em)$/i,z=A(l),w=A(u),R=A(m),U=A(d),K=A(i),oe=k(i),D=A(s),ae=A(o),ce=A(f),ve=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,ze=k(v),qe=A(y),vt=new RegExp(/^\-(moz|ms|o|webkit)-/i),mt=A(_),bt="",yt={},Xe,Ie,Be,Ee;I.length<H;)I+=" ";function Ze(Y,X){if(bt=Y.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),X.context.line.firstWord=bt?bt[0].replace(/^\s*/,""):"",X.context.line.indent=Y.indentation(),Xe=Y.peek(),Y.match("//"))return Y.skipToEnd(),["comment","comment"];if(Y.match("/*"))return X.tokenize=Ke,Ke(Y,X);if(Xe=='"'||Xe=="'")return Y.next(),X.tokenize=Fe(Xe),X.tokenize(Y,X);if(Xe=="@")return Y.next(),Y.eatWhile(/[\w\\-]/),["def",Y.current()];if(Xe=="#"){if(Y.next(),Y.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(Y.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return Y.match(vt)?["meta","vendor-prefixes"]:Y.match(/^-?[0-9]?\.?[0-9]/)?(Y.eatWhile(/[a-z%]/i),["number","unit"]):Xe=="!"?(Y.next(),[Y.match(/^(important|optional)/i)?"keyword":"operator","important"]):Xe=="."&&Y.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:Y.match(oe)?(Y.peek()=="("&&(X.tokenize=at),["property","word"]):Y.match(/^[a-z][\w-]*\(/i)?(Y.backUp(1),["keyword","mixin"]):Y.match(/^(\+|-)[a-z][\w-]*\(/i)?(Y.backUp(1),["keyword","block-mixin"]):Y.string.match(/^\s*&/)&&Y.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:Y.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(Y.backUp(1),["variable-3","reference"]):Y.match(/^&{1}\s*$/)?["variable-3","reference"]:Y.match(ze)?["operator","operator"]:Y.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?Y.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!G(Y.current())?(Y.match("."),["variable-2","variable-name"]):["variable-2","word"]:Y.match(ve)?["operator",Y.current()]:/[:;,{}\[\]\(\)]/.test(Xe)?(Y.next(),[null,Xe]):(Y.next(),[null,null])}function Ke(Y,X){for(var de=!1,Te;(Te=Y.next())!=null;){if(de&&Te=="/"){X.tokenize=null;break}de=Te=="*"}return["comment","comment"]}function Fe(Y){return function(X,de){for(var Te=!1,je;(je=X.next())!=null;){if(je==Y&&!Te){Y==")"&&X.backUp(1);break}Te=!Te&&je=="\\"}return(je==Y||!Te&&Y!=")")&&(de.tokenize=null),["string","string"]}}function at(Y,X){return Y.next(),Y.match(/\s*[\"\')]/,!1)?X.tokenize=null:X.tokenize=Fe(")"),[null,"("]}function ie(Y,X,de,Te){this.type=Y,this.indent=X,this.prev=de,this.line=Te||{firstWord:"",indent:0}}function ne(Y,X,de,Te){return Te=Te>=0?Te:H,Y.context=new ie(de,X.indentation()+Te,Y.context),de}function be(Y,X){var de=Y.context.indent-H;return X=X||!1,Y.context=Y.context.prev,X&&(Y.context.indent=de),Y.context.type}function _e(Y,X,de){return yt[de.context.type](Y,X,de)}function xe(Y,X,de,Te){for(var je=Te||1;je>0;je--)de.context=de.context.prev;return _e(Y,X,de)}function G(Y){return Y.toLowerCase()in q}function Z(Y){return Y=Y.toLowerCase(),Y in z||Y in ce}function L(Y){return Y.toLowerCase()in qe}function W(Y){return Y.toLowerCase().match(vt)}function O(Y){var X=Y.toLowerCase(),de="variable-2";return G(Y)?de="tag":L(Y)?de="block-keyword":Z(Y)?de="property":X in R||X in mt?de="atom":X=="return"||X in U?de="keyword":Y.match(/^[A-Z]/)&&(de="string"),de}function j(Y,X){return pe(X)&&(Y=="{"||Y=="]"||Y=="hash"||Y=="qualifier")||Y=="block-mixin"}function F(Y,X){return Y=="{"&&X.match(/^\s*\$?[\w-]+/i,!1)}function Q(Y,X){return Y==":"&&X.match(/^[a-z-]+/,!1)}function le(Y){return Y.sol()||Y.string.match(new RegExp("^\\s*"+N(Y.current())))}function pe(Y){return Y.eol()||Y.match(/^\s*$/,!1)}function ye(Y){var X=/^\s*[-_]*[a-z0-9]+[\w-]*/i,de=typeof Y=="string"?Y.match(X):Y.string.match(X);return de?de[0].replace(/^\s*/,""):""}return yt.block=function(Y,X,de){if(Y=="comment"&&le(X)||Y==","&&pe(X)||Y=="mixin")return ne(de,X,"block",0);if(F(Y,X))return ne(de,X,"interpolation");if(pe(X)&&Y=="]"&&!/^\s*(\.|#|:|\[|\*|&)/.test(X.string)&&!G(ye(X)))return ne(de,X,"block",0);if(j(Y,X))return ne(de,X,"block");if(Y=="}"&&pe(X))return ne(de,X,"block",0);if(Y=="variable-name")return X.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||L(ye(X))?ne(de,X,"variableName"):ne(de,X,"variableName",0);if(Y=="=")return!pe(X)&&!L(ye(X))?ne(de,X,"block",0):ne(de,X,"block");if(Y=="*"&&(pe(X)||X.match(/\s*(,|\.|#|\[|:|{)/,!1)))return Ee="tag",ne(de,X,"block");if(Q(Y,X))return ne(de,X,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(Y))return ne(de,X,pe(X)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(Y))return ne(de,X,"keyframes");if(/@extends?/.test(Y))return ne(de,X,"extend",0);if(Y&&Y.charAt(0)=="@")return X.indentation()>0&&Z(X.current().slice(1))?(Ee="variable-2","block"):/(@import|@require|@charset)/.test(Y)?ne(de,X,"block",0):ne(de,X,"block");if(Y=="reference"&&pe(X))return ne(de,X,"block");if(Y=="(")return ne(de,X,"parens");if(Y=="vendor-prefixes")return ne(de,X,"vendorPrefixes");if(Y=="word"){var Te=X.current();if(Ee=O(Te),Ee=="property")return le(X)?ne(de,X,"block",0):(Ee="atom","block");if(Ee=="tag"){if(/embed|menu|pre|progress|sub|table/.test(Te)&&Z(ye(X))||X.string.match(new RegExp("\\[\\s*"+Te+"|"+Te+"\\s*\\]")))return Ee="atom","block";if(P.test(Te)&&(le(X)&&X.string.match(/=/)||!le(X)&&!X.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!G(ye(X))))return Ee="variable-2",L(ye(X))?"block":ne(de,X,"block",0);if(pe(X))return ne(de,X,"block")}if(Ee=="block-keyword")return Ee="keyword",X.current(/(if|unless)/)&&!le(X)?"block":ne(de,X,"block");if(Te=="return")return ne(de,X,"block",0);if(Ee=="variable-2"&&X.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return ne(de,X,"block")}return de.context.type},yt.parens=function(Y,X,de){if(Y=="(")return ne(de,X,"parens");if(Y==")")return de.context.prev.type=="parens"?be(de):X.string.match(/^[a-z][\w-]*\(/i)&&pe(X)||L(ye(X))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(ye(X))||!X.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&G(ye(X))?ne(de,X,"block"):X.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||X.string.match(/^\s*(\(|\)|[0-9])/)||X.string.match(/^\s+[a-z][\w-]*\(/i)||X.string.match(/^\s+[\$-]?[a-z]/i)?ne(de,X,"block",0):pe(X)?ne(de,X,"block"):ne(de,X,"block",0);if(Y&&Y.charAt(0)=="@"&&Z(X.current().slice(1))&&(Ee="variable-2"),Y=="word"){var Te=X.current();Ee=O(Te),Ee=="tag"&&P.test(Te)&&(Ee="variable-2"),(Ee=="property"||Te=="to")&&(Ee="atom")}return Y=="variable-name"?ne(de,X,"variableName"):Q(Y,X)?ne(de,X,"pseudo"):de.context.type},yt.vendorPrefixes=function(Y,X,de){return Y=="word"?(Ee="property",ne(de,X,"block",0)):be(de)},yt.pseudo=function(Y,X,de){return Z(ye(X.string))?xe(Y,X,de):(X.match(/^[a-z-]+/),Ee="variable-3",pe(X)?ne(de,X,"block"):be(de))},yt.atBlock=function(Y,X,de){if(Y=="(")return ne(de,X,"atBlock_parens");if(j(Y,X))return ne(de,X,"block");if(F(Y,X))return ne(de,X,"interpolation");if(Y=="word"){var Te=X.current().toLowerCase();if(/^(only|not|and|or)$/.test(Te)?Ee="keyword":K.hasOwnProperty(Te)?Ee="tag":ae.hasOwnProperty(Te)?Ee="attribute":D.hasOwnProperty(Te)?Ee="property":w.hasOwnProperty(Te)?Ee="string-2":Ee=O(X.current()),Ee=="tag"&&pe(X))return ne(de,X,"block")}return Y=="operator"&&/^(not|and|or)$/.test(X.current())&&(Ee="keyword"),de.context.type},yt.atBlock_parens=function(Y,X,de){if(Y=="{"||Y=="}")return de.context.type;if(Y==")")return pe(X)?ne(de,X,"block"):ne(de,X,"atBlock");if(Y=="word"){var Te=X.current().toLowerCase();return Ee=O(Te),/^(max|min)/.test(Te)&&(Ee="property"),Ee=="tag"&&(P.test(Te)?Ee="variable-2":Ee="atom"),de.context.type}return yt.atBlock(Y,X,de)},yt.keyframes=function(Y,X,de){return X.indentation()=="0"&&(Y=="}"&&le(X)||Y=="]"||Y=="hash"||Y=="qualifier"||G(X.current()))?xe(Y,X,de):Y=="{"?ne(de,X,"keyframes"):Y=="}"?le(X)?be(de,!0):ne(de,X,"keyframes"):Y=="unit"&&/^[0-9]+\%$/.test(X.current())?ne(de,X,"keyframes"):Y=="word"&&(Ee=O(X.current()),Ee=="block-keyword")?(Ee="keyword",ne(de,X,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(Y)?ne(de,X,pe(X)?"block":"atBlock"):Y=="mixin"?ne(de,X,"block",0):de.context.type},yt.interpolation=function(Y,X,de){return Y=="{"&&be(de)&&ne(de,X,"block"),Y=="}"?X.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||X.string.match(/^\s*[a-z]/i)&&G(ye(X))?ne(de,X,"block"):!X.string.match(/^(\{|\s*\&)/)||X.match(/\s*[\w-]/,!1)?ne(de,X,"block",0):ne(de,X,"block"):Y=="variable-name"?ne(de,X,"variableName",0):(Y=="word"&&(Ee=O(X.current()),Ee=="tag"&&(Ee="atom")),de.context.type)},yt.extend=function(Y,X,de){return Y=="["||Y=="="?"extend":Y=="]"?be(de):Y=="word"?(Ee=O(X.current()),"extend"):be(de)},yt.variableName=function(Y,X,de){return Y=="string"||Y=="["||Y=="]"||X.current().match(/^(\.|\$)/)?(X.current().match(/^\.[\w-]+/i)&&(Ee="variable-2"),"variableName"):xe(Y,X,de)},{startState:function(Y){return{tokenize:null,state:"block",context:new ie("block",Y||0,null)}},token:function(Y,X){return!X.tokenize&&Y.eatSpace()?null:(Ie=(X.tokenize||Ze)(Y,X),Ie&&typeof Ie=="object"&&(Be=Ie[1],Ie=Ie[0]),Ee=Ie,X.state=yt[X.state](Be,Y,X),Ee)},indent:function(Y,X,de){var Te=Y.context,je=X&&X.charAt(0),he=Te.indent,Ae=ye(X),Le=de.match(/^\s*/)[0].replace(/\t/g,I).length,me=Y.context.prev?Y.context.prev.line.firstWord:"",Je=Y.context.prev?Y.context.prev.line.indent:Le;return Te.prev&&(je=="}"&&(Te.type=="block"||Te.type=="atBlock"||Te.type=="keyframes")||je==")"&&(Te.type=="parens"||Te.type=="atBlock_parens")||je=="{"&&Te.type=="at")?he=Te.indent-H:/(\})/.test(je)||(/@|\$|\d/.test(je)||/^\{/.test(X)||/^\s*\/(\/|\*)/.test(X)||/^\s*\/\*/.test(me)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(X)||/^(\+|-)?[a-z][\w-]*\(/i.test(X)||/^return/.test(X)||L(Ae)?he=Le:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(je)||G(Ae)?/\,\s*$/.test(me)?he=Je:/^\s+/.test(de)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(me)||G(me))?he=Le<=Je?Je:Je+H:he=Le:!/,\s*$/.test(de)&&(W(Ae)||Z(Ae))&&(L(me)?he=Le<=Je?Je:Je+H:/^\{/.test(me)?he=Le<=Je?Le:Je+H:W(me)||Z(me)?he=Le>=Je?Je:Le:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(me)||/=\s*$/.test(me)||G(me)||/^\$[\w-\.\[\]\'\"]/.test(me)?he=Je+H:he=Le)),he},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"indent"}});var r=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],i=["domain","regexp","url-prefix","url"],o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","dynamic-range","video-dynamic-range"],l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],u=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],d=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],m=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","high","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","standard","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],v=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],y=["for","if","else","unless","from","to"],_=["null","true","false","href","title","type","not-allowed","readonly","disabled"],C=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],x=r.concat(i,o,s,l,u,d,m,f,v,y,_,C);function k(E){return E=E.sort(function(H,I){return I>H}),new RegExp("^(("+E.join(")|(")+"))\\b")}function A(E){for(var H={},I=0;I<E.length;++I)H[E[I]]=!0;return H}function N(E){return E.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}n.registerHelper("hintWords","stylus",x),n.defineMIME("text/x-styl","stylus")})}()),dA}var pA={},mA={},gA;function zse(){return gA||(gA=1,function(t,e){(function(n){n(Or(),FN(),Gw(),cv())})(function(n){var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(m,v,y){var _=m.current(),C=_.search(v);return C>-1?m.backUp(_.length-C):_.match(/<\/?$/)&&(m.backUp(_.length),m.match(v,!1)||m.match(_)),y}var o={};function s(m){var v=o[m];return v||(o[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function l(m,v){var y=m.match(s(v));return y?/^\s*(.*?)\s*$/.exec(y[2])[1]:""}function u(m,v){return new RegExp((v?"^":"")+"</\\s*"+m+"\\s*>","i")}function f(m,v){for(var y in m)for(var _=v[y]||(v[y]=[]),C=m[y],x=C.length-1;x>=0;x--)_.unshift(C[x])}function d(m,v){for(var y=0;y<m.length;y++){var _=m[y];if(!_[0]||_[1].test(l(v,_[0])))return _[2]}}n.defineMode("htmlmixed",function(m,v){var y=n.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:v.multilineTagIndentFactor,multilineTagIndentPastTag:v.multilineTagIndentPastTag,allowMissingTagName:v.allowMissingTagName}),_={},C=v&&v.tags,x=v&&v.scriptTypes;if(f(r,_),C&&f(C,_),x)for(var k=x.length-1;k>=0;k--)_.script.unshift(["type",x[k].matches,x[k].mode]);function A(N,E){var H=y.token(N,E.htmlState),I=/\btag\b/.test(H),q;if(I&&!/[<>\s\/]/.test(N.current())&&(q=E.htmlState.tagName&&E.htmlState.tagName.toLowerCase())&&_.hasOwnProperty(q))E.inTag=q+" ";else if(E.inTag&&I&&/>$/.test(N.current())){var P=/^([\S]+) (.*)/.exec(E.inTag);E.inTag=null;var z=N.current()==">"&&d(_[P[1]],P[2]),w=n.getMode(m,z),R=u(P[1],!0),U=u(P[1],!1);E.token=function(K,oe){return K.match(R,!1)?(oe.token=A,oe.localState=oe.localMode=null,null):i(K,U,oe.localMode.token(K,oe.localState))},E.localMode=w,E.localState=n.startState(w,y.indent(E.htmlState,"",""))}else E.inTag&&(E.inTag+=N.current(),N.eol()&&(E.inTag+=" "));return H}return{startState:function(){var N=n.startState(y);return{token:A,inTag:null,localMode:null,localState:null,htmlState:N}},copyState:function(N){var E;return N.localState&&(E=n.copyState(N.localMode,N.localState)),{token:N.token,inTag:N.inTag,localMode:N.localMode,localState:E,htmlState:n.copyState(y,N.htmlState)}},token:function(N,E){return E.token(N,E)},indent:function(N,E,H){return!N.localMode||/^\s*<\//.test(E)?y.indent(N.htmlState,E,H):N.localMode.indent?N.localMode.indent(N.localState,E,H):n.Pass},innerMode:function(N){return{state:N.localState||N.htmlState,mode:N.localMode||y}}}},"xml","javascript","css"),n.defineMIME("text/html","htmlmixed")})}()),mA}var vA;function Bse(){return vA||(vA=1,function(t,e){(function(n){n(Or(),Gw(),cv(),zse())})(function(n){n.defineMode("pug",function(r){var i="keyword",o="meta",s="builtin",l="qualifier",u={"{":"}","(":")","[":"]"},f=n.getMode(r,"javascript");function d(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=n.startState(f),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}d.prototype.copy=function(){var G=new d;return G.javaScriptLine=this.javaScriptLine,G.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,G.javaScriptArguments=this.javaScriptArguments,G.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,G.isInterpolating=this.isInterpolating,G.interpolationNesting=this.interpolationNesting,G.jsState=n.copyState(f,this.jsState),G.innerMode=this.innerMode,this.innerMode&&this.innerState&&(G.innerState=n.copyState(this.innerMode,this.innerState)),G.restOfLine=this.restOfLine,G.isIncludeFiltered=this.isIncludeFiltered,G.isEach=this.isEach,G.lastTag=this.lastTag,G.scriptType=this.scriptType,G.isAttrs=this.isAttrs,G.attrsNest=this.attrsNest.slice(),G.inAttributeName=this.inAttributeName,G.attributeIsType=this.attributeIsType,G.attrValue=this.attrValue,G.indentOf=this.indentOf,G.indentToken=this.indentToken,G.innerModeForLine=this.innerModeForLine,G};function m(G,Z){if(G.sol()&&(Z.javaScriptLine=!1,Z.javaScriptLineExcludesColon=!1),Z.javaScriptLine){if(Z.javaScriptLineExcludesColon&&G.peek()===":"){Z.javaScriptLine=!1,Z.javaScriptLineExcludesColon=!1;return}var L=f.token(G,Z.jsState);return G.eol()&&(Z.javaScriptLine=!1),L||!0}}function v(G,Z){if(Z.javaScriptArguments){if(Z.javaScriptArgumentsDepth===0&&G.peek()!=="("){Z.javaScriptArguments=!1;return}if(G.peek()==="("?Z.javaScriptArgumentsDepth++:G.peek()===")"&&Z.javaScriptArgumentsDepth--,Z.javaScriptArgumentsDepth===0){Z.javaScriptArguments=!1;return}var L=f.token(G,Z.jsState);return L||!0}}function y(G){if(G.match(/^yield\b/))return"keyword"}function _(G){if(G.match(/^(?:doctype) *([^\n]+)?/))return o}function C(G,Z){if(G.match("#{"))return Z.isInterpolating=!0,Z.interpolationNesting=0,"punctuation"}function x(G,Z){if(Z.isInterpolating){if(G.peek()==="}"){if(Z.interpolationNesting--,Z.interpolationNesting<0)return G.next(),Z.isInterpolating=!1,"punctuation"}else G.peek()==="{"&&Z.interpolationNesting++;return f.token(G,Z.jsState)||!0}}function k(G,Z){if(G.match(/^case\b/))return Z.javaScriptLine=!0,i}function A(G,Z){if(G.match(/^when\b/))return Z.javaScriptLine=!0,Z.javaScriptLineExcludesColon=!0,i}function N(G){if(G.match(/^default\b/))return i}function E(G,Z){if(G.match(/^extends?\b/))return Z.restOfLine="string",i}function H(G,Z){if(G.match(/^append\b/))return Z.restOfLine="variable",i}function I(G,Z){if(G.match(/^prepend\b/))return Z.restOfLine="variable",i}function q(G,Z){if(G.match(/^block\b *(?:(prepend|append)\b)?/))return Z.restOfLine="variable",i}function P(G,Z){if(G.match(/^include\b/))return Z.restOfLine="string",i}function z(G,Z){if(G.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&G.match("include"))return Z.isIncludeFiltered=!0,i}function w(G,Z){if(Z.isIncludeFiltered){var L=ze(G,Z);return Z.isIncludeFiltered=!1,Z.restOfLine="string",L}}function R(G,Z){if(G.match(/^mixin\b/))return Z.javaScriptLine=!0,i}function U(G,Z){if(G.match(/^\+([-\w]+)/))return G.match(/^\( *[-\w]+ *=/,!1)||(Z.javaScriptArguments=!0,Z.javaScriptArgumentsDepth=0),"variable";if(G.match("+#{",!1))return G.next(),Z.mixinCallAfter=!0,C(G,Z)}function K(G,Z){if(Z.mixinCallAfter)return Z.mixinCallAfter=!1,G.match(/^\( *[-\w]+ *=/,!1)||(Z.javaScriptArguments=!0,Z.javaScriptArgumentsDepth=0),!0}function oe(G,Z){if(G.match(/^(if|unless|else if|else)\b/))return Z.javaScriptLine=!0,i}function D(G,Z){if(G.match(/^(- *)?(each|for)\b/))return Z.isEach=!0,i}function ae(G,Z){if(Z.isEach){if(G.match(/^ in\b/))return Z.javaScriptLine=!0,Z.isEach=!1,i;if(G.sol()||G.eol())Z.isEach=!1;else if(G.next()){for(;!G.match(/^ in\b/,!1)&&G.next(););return"variable"}}}function ce(G,Z){if(G.match(/^while\b/))return Z.javaScriptLine=!0,i}function ve(G,Z){var L;if(L=G.match(/^(\w(?:[-:\w]*\w)?)\/?/))return Z.lastTag=L[1].toLowerCase(),Z.lastTag==="script"&&(Z.scriptType="application/javascript"),"tag"}function ze(G,Z){if(G.match(/^:([\w\-]+)/)){var L;return r&&r.innerModes&&(L=r.innerModes(G.current().substring(1))),L||(L=G.current().substring(1)),typeof L=="string"&&(L=n.getMode(r,L)),at(G,Z,L),"atom"}}function qe(G,Z){if(G.match(/^(!?=|-)/))return Z.javaScriptLine=!0,"punctuation"}function vt(G){if(G.match(/^#([\w-]+)/))return s}function mt(G){if(G.match(/^\.([\w-]+)/))return l}function bt(G,Z){if(G.peek()=="(")return G.next(),Z.isAttrs=!0,Z.attrsNest=[],Z.inAttributeName=!0,Z.attrValue="",Z.attributeIsType=!1,"punctuation"}function yt(G,Z){if(Z.isAttrs){if(u[G.peek()]&&Z.attrsNest.push(u[G.peek()]),Z.attrsNest[Z.attrsNest.length-1]===G.peek())Z.attrsNest.pop();else if(G.eat(")"))return Z.isAttrs=!1,"punctuation";if(Z.inAttributeName&&G.match(/^[^=,\)!]+/))return(G.peek()==="="||G.peek()==="!")&&(Z.inAttributeName=!1,Z.jsState=n.startState(f),Z.lastTag==="script"&&G.current().trim().toLowerCase()==="type"?Z.attributeIsType=!0:Z.attributeIsType=!1),"attribute";var L=f.token(G,Z.jsState);if(Z.attributeIsType&&L==="string"&&(Z.scriptType=G.current().toString()),Z.attrsNest.length===0&&(L==="string"||L==="variable"||L==="keyword"))try{return Function("","var x "+Z.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),Z.inAttributeName=!0,Z.attrValue="",G.backUp(G.current().length),yt(G,Z)}catch{}return Z.attrValue+=G.current(),L||!0}}function Xe(G,Z){if(G.match(/^&attributes\b/))return Z.javaScriptArguments=!0,Z.javaScriptArgumentsDepth=0,"keyword"}function Ie(G){if(G.sol()&&G.eatSpace())return"indent"}function Be(G,Z){if(G.match(/^ *\/\/(-)?([^\n]*)/))return Z.indentOf=G.indentation(),Z.indentToken="comment","comment"}function Ee(G){if(G.match(/^: */))return"colon"}function Ze(G,Z){if(G.match(/^(?:\| ?| )([^\n]+)/))return"string";if(G.match(/^(<[^\n]*)/,!1))return at(G,Z,"htmlmixed"),Z.innerModeForLine=!0,ie(G,Z,!0)}function Ke(G,Z){if(G.eat(".")){var L=null;return Z.lastTag==="script"&&Z.scriptType.toLowerCase().indexOf("javascript")!=-1?L=Z.scriptType.toLowerCase().replace(/"|'/g,""):Z.lastTag==="style"&&(L="css"),at(G,Z,L),"dot"}}function Fe(G){return G.next(),null}function at(G,Z,L){L=n.mimeModes[L]||L,L=r.innerModes&&r.innerModes(L)||L,L=n.mimeModes[L]||L,L=n.getMode(r,L),Z.indentOf=G.indentation(),L&&L.name!=="null"?Z.innerMode=L:Z.indentToken="string"}function ie(G,Z,L){if(G.indentation()>Z.indentOf||Z.innerModeForLine&&!G.sol()||L)return Z.innerMode?(Z.innerState||(Z.innerState=Z.innerMode.startState?n.startState(Z.innerMode,G.indentation()):{}),G.hideFirstChars(Z.indentOf+2,function(){return Z.innerMode.token(G,Z.innerState)||!0})):(G.skipToEnd(),Z.indentToken);G.sol()&&(Z.indentOf=1/0,Z.indentToken=null,Z.innerMode=null,Z.innerState=null)}function ne(G,Z){if(G.sol()&&(Z.restOfLine=""),Z.restOfLine){G.skipToEnd();var L=Z.restOfLine;return Z.restOfLine="",L}}function be(){return new d}function _e(G){return G.copy()}function xe(G,Z){var L=ie(G,Z)||ne(G,Z)||x(G,Z)||w(G,Z)||ae(G,Z)||yt(G,Z)||m(G,Z)||v(G,Z)||K(G,Z)||y(G)||_(G)||C(G,Z)||k(G,Z)||A(G,Z)||N(G)||E(G,Z)||H(G,Z)||I(G,Z)||q(G,Z)||P(G,Z)||z(G,Z)||R(G,Z)||U(G,Z)||oe(G,Z)||D(G,Z)||ce(G,Z)||ve(G,Z)||ze(G,Z)||qe(G,Z)||vt(G)||mt(G)||bt(G,Z)||Xe(G,Z)||Ie(G)||Ze(G,Z)||Be(G,Z)||Ee(G)||Ke(G,Z)||Fe(G);return L===!0?null:L}return{startState:be,copyState:_e,token:xe}},"javascript","css","htmlmixed"),n.defineMIME("text/x-pug","pug"),n.defineMIME("text/x-jade","pug")})}()),pA}var yA={},bA={},_A;function $se(){return _A||(_A=1,function(t,e){(function(n){n(Or())})(function(n){n.multiplexingMode=function(r){var i=Array.prototype.slice.call(arguments,1);function o(s,l,u,f){if(typeof l=="string"){var d=s.indexOf(l,u);return f&&d>-1?d+l.length:d}var m=l.exec(u?s.slice(u):s);return m?m.index+u+(f?m[0].length:0):-1}return{startState:function(){return{outer:n.startState(r),innerActive:null,inner:null,startingInner:!1}},copyState:function(s){return{outer:n.copyState(r,s.outer),innerActive:s.innerActive,inner:s.innerActive&&n.copyState(s.innerActive.mode,s.inner),startingInner:s.startingInner}},token:function(s,l){if(l.innerActive){var x=l.innerActive,f=s.string;if(!x.close&&s.sol())return l.innerActive=l.inner=null,this.token(s,l);var v=x.close&&!l.startingInner?o(f,x.close,s.pos,x.parseDelimiters):-1;if(v==s.pos&&!x.parseDelimiters)return s.match(x.close),l.innerActive=l.inner=null,x.delimStyle&&x.delimStyle+" "+x.delimStyle+"-close";v>-1&&(s.string=f.slice(0,v));var k=x.mode.token(s,l.inner);return v>-1?s.string=f:s.pos>s.start&&(l.startingInner=!1),v==s.pos&&x.parseDelimiters&&(l.innerActive=l.inner=null),x.innerStyle&&(k?k=k+" "+x.innerStyle:k=x.innerStyle),k}else{for(var u=1/0,f=s.string,d=0;d<i.length;++d){var m=i[d],v=o(f,m.open,s.pos);if(v==s.pos){m.parseDelimiters||s.match(m.open),l.startingInner=!!m.parseDelimiters,l.innerActive=m;var y=0;if(r.indent){var _=r.indent(l.outer,"","");_!==n.Pass&&(y=_)}return l.inner=n.startState(m.mode,y),m.delimStyle&&m.delimStyle+" "+m.delimStyle+"-open"}else v!=-1&&v<u&&(u=v)}u!=1/0&&(s.string=f.slice(0,u));var C=r.token(s,l.outer);return u!=1/0&&(s.string=f),C}},indent:function(s,l,u){var f=s.innerActive?s.innerActive.mode:r;return f.indent?f.indent(s.innerActive?s.inner:s.outer,l,u):n.Pass},blankLine:function(s){var l=s.innerActive?s.innerActive.mode:r;if(l.blankLine&&l.blankLine(s.innerActive?s.inner:s.outer),s.innerActive)s.innerActive.close===`
`&&(s.innerActive=s.inner=null);else for(var u=0;u<i.length;++u){var f=i[u];f.open===`
`&&(s.innerActive=f,s.inner=n.startState(f.mode,l.indent?l.indent(s.outer,"",""):0))}},electricChars:r.electricChars,innerMode:function(s){return s.inner?{state:s.inner,mode:s.innerActive.mode}:{state:s.outer,mode:r}}}}})}()),bA}var wA;function Hse(){return wA||(wA=1,function(t,e){(function(n){n(Or(),Xoe,$se())})(function(n){n.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),n.defineMode("handlebars",function(r,i){var o=n.getMode(r,"handlebars-tags");return!i||!i.base?o:n.multiplexingMode(n.getMode(r,i.base),{open:"{{",close:/\}\}\}?/,mode:o,parseDelimiters:!0})}),n.defineMIME("text/x-handlebars-template","handlebars")})}()),yA}(function(t,e){(function(n){n(Or(),Ise(),FN(),Gw(),Pse(),cv(),Dse(),Rse(),Bse(),Hse())})(function(n){var r={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]};n.defineMode("vue-template",function(i,o){var s={token:function(l){if(l.match(/^\{\{.*?\}\}/))return"meta mustache";for(;l.next()&&!l.match("{{",!1););return null}};return n.overlayMode(n.getMode(i,o.backdrop||"text/html"),s)}),n.defineMode("vue",function(i){return n.getMode(i,{name:"htmlmixed",tags:r})},"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),n.defineMIME("script/x-vue","vue"),n.defineMIME("text/x-vue","vue")})})();const Fse={name:"CodeEditor",components:{Codemirror:vse},props:{field:{type:Object,default:null},editor:{type:Object,default:null},visible:{type:Boolean,default:!1},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{proxyValue:"",options:{theme:"material",mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0,indentUnit:4}}},watch:{visible(t){t&&(this.proxyValue=Nse.html(this.modelValue,{indent_size:4})),this.resizeHandler()},proxyValue(t){this.$emit("update:modelValue",t)}},created(){this.editor.on("resize",this.resizeHandler.bind(this))},methods:{resizeHandler(){this.visible&&this.$nextTick(()=>{const{width:t,height:e}=this.editor.view.dom.getBoundingClientRect();this.$el.style.width=`${t}px`,this.$el.style.height=`${e}px`})}}};function Vse(t,e,n,r,i,o){const s=ut("Codemirror");return n.visible?(ge(),Et(s,{key:0,value:i.proxyValue,"onUpdate:value":e[0]||(e[0]=l=>i.proxyValue=l),class:"vui-code-editor",options:i.options},null,8,["value","options"])):_t("",!0)}const jse=Bt(Fse,[["render",Vse]]),Wse={name:"VizyInput",components:{EditorContent:AQ,MenuBar:Soe,BlockPicker:Woe,CodeEditor:jse},props:{name:{type:String,required:!0,default:""},settings:{type:Object,default:()=>{}},value:{type:[String,Array],required:!0,default:""}},data(){return{isLivePreview:!1,mounted:!1,buttons:["bold","italic"],showCodeEditor:!1,codeEditorHtml:"",editor:null,json:null,html:null,parentToolbarOffset:0,cachedFieldHtml:{},cachedFieldJs:{},renderedJsCache:{},selectedBlockType:null,currentNodeHoverPosition:null,listenForChanges:!1}},computed:{jsonContent(){return this.contentToValue(this.json)},toolbarFixed(){return this.settings.vizyConfig.toolbarFixed},isRoot(){return this.settings.isRoot},supportedBlockTypes(){const t=[];return this.settings.blockGroups.forEach(e=>{e.blockTypes.forEach(n=>{t.push(n.id)})}),t},blocksEnabled(){return this.settings.editorMode!=="richText"},richTextEnabled(){return this.settings.editorMode!=="blocks"}},watch:{codeEditorHtml(t){this.editor.chain().setContent(t,!0).run()}},mounted(){this.editor=new EQ({extensions:this.getExtensions(),content:this.valueToContent(this.clone(this.value)),autofocus:!1,onUpdate:()=>{this.json=this.editor.getJSON().content,this.html=this.editor.getHTML()},editorProps:{transformPastedHTML:t=>{if(this.settings.pasteAsPlainText){const e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""}return t},handleDrop:(t,e,n,r)=>!this.selectedBlockType,handleKeyDown:(t,e)=>{if(!this.richTextEnabled)return!["/","Backspace","Delete","Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)},handlePaste:(t,e)=>{if(!this.richTextEnabled)return!0}}}),this.editor.vizyField=this,this.json=this.editor.getJSON().content,this.html=this.editor.getHTML(),this.json.forEach(t=>{if(t.type==="vizyBlock"){const{id:e}=t.attrs,n=gb(this.settings.blocks,{id:e});n&&(this.setCachedFieldHtml(e,n.fieldsHtml),this.setCachedFieldJs(e,n.footHtml))}}),this.$nextTick(()=>{if(this.mounted=!0,this.toolbarFixed){window.addEventListener("scroll",this.updateFixedToolbar),window.addEventListener("resize",this.updateFixedToolbar);const t=document.querySelector(".slideout[data-element-editor].so-visible .so-body");t&&(t.addEventListener("scroll",this.updateFixedToolbarEditor),t.addEventListener("resize",this.updateFixedToolbarEditor)),Garnish.on(Craft.Preview,"open",this.openLivePreviewCallback),Garnish.on(Craft.LivePreview,"enter",this.openLivePreviewCallback),Garnish.on(Craft.Preview,"close",this.closeLivePreviewCallback),Garnish.on(Craft.LivePreview,"exit",this.closeLivePreviewCallback)}this.editor.on("vui:code-editor-toggle",this.setCodeEditor)}),this.getParentInputs(this.$el).forEach(t=>{t.$refs.toolbar&&(this.parentToolbarOffset+=t.$refs.toolbar.$el.offsetHeight)}),this.refreshUnloadData()},created(){this.settings.vizyConfig.buttons&&(this.buttons=this.settings.vizyConfig.buttons)},beforeUnmount(){this.editor.destroy()},methods:{getExtensions(){let t=[WY,sX.configure({color:"#3778eb",width:3}),pX,UY,rX,lee,XY,rte.configure({suggestion:vre})];const e=Craft.Vizy.Config.getExtensions(),n=[Qee];return this.richTextEnabled&&(t=t.concat(e)),this.blocksEnabled&&(t=t.concat(n)),t=t.concat(yre(this)),t},setCodeEditor(){this.showCodeEditor?this.editor.chain().setContent(this.codeEditorHtml,!0).run():this.codeEditorHtml=this.editor.getHTML(),this.showCodeEditor=!this.showCodeEditor},valueToContent(t){if(!t)return null;if(!Array.isArray(t))try{t=JSON.parse(t)}catch(e){console.log(e)}return t=this.decodeHtml(t),t.length?{type:"doc",content:t}:null},decodeHtml(t){Array.isArray(t)&&(t=JSON.stringify(t));const e=document.createElement("textarea");return e.innerHTML=t,JSON.parse(e.value)},contentToValue(t){return t&&Array.isArray(t)&&t.length===1&&t[0].type==="paragraph"&&!t[0].content?null:JSON.stringify(t)},getParsedBlockHtml(t,e){return typeof t=="string"?t.replace(new RegExp(`__VIZY_BLOCK_${this.settings.placeholderKey}__`,"g"),e):""},getCachedFieldHtml(t){let e=this.cachedFieldHtml[t];return typeof e=="string"&&(e=e.replace(/&#(\d+);/g,(n,r)=>String.fromCharCode(r))),this.getParsedBlockHtml(e,t)},setCachedFieldHtml(t,e){this.cachedFieldHtml[t]=e},getCachedFieldJs(t){let e=this.cachedFieldJs[t];typeof e=="string"&&(e=e.replace(/&#(\d+);/g,(r,i)=>String.fromCharCode(i)));let n=this.getParsedBlockHtml(e,t);return this.renderedJsCache[t]&&(n=n.replace(/(superTableInput.addRow.*?;)/g,"null")),this.renderedJsCache[t]=n,n},setCachedFieldJs(t,e){this.cachedFieldJs[t]=e},getBlockSettings(t){return gb(this.settings.blocks,{id:t})||{}},openLivePreviewCallback(){this.isLivePreview=!0;const t=document.querySelector(".lp-editor-container .lp-editor");t&&(t.addEventListener("scroll",this.updateFixedToolbar),t.addEventListener("resize",this.updateFixedToolbar))},closeLivePreviewCallback(){this.isLivePreview=!1},updateFixedToolbar(t){let e=document.querySelector("body.fixed-header #header")?document.querySelector("body.fixed-header #header").offsetHeight:0;this.isLivePreview&&(e=document.querySelector(".lp-editor-container header.flex")?document.querySelector(".lp-editor-container header.flex").offsetHeight-parseFloat(window.getComputedStyle(document.querySelector(".lp-editor-container .lp-editor"),null).getPropertyValue("padding-top")):0),e=e+this.parentToolbarOffset,this.$refs.toolbar&&(this.$refs.toolbar.$el.style.position="sticky",this.$refs.toolbar.$el.style.top=`${this.$el.scrollTop+e}px`)},updateFixedToolbarEditor(t){let e=-24;e=e+this.parentToolbarOffset,this.$refs.toolbar&&(this.$refs.toolbar.$el.style.position="sticky",this.$refs.toolbar.$el.style.top=`${this.$el.scrollTop+e}px`)},getParentInputs(){const t=[];let e=this;for(;e;)e.$options.name==="VizyInput"&&t.push(e),e=e.$parent;return t},refreshUnloadData(){setTimeout(()=>{if(Qn(this.editor,"storage.vizyBlock.isNew"))return;const t=$("form#main-form");if(t.length){const e=t.data("elementEditor");if(e){const n=e.serializeForm(!0);e.lastSerializedValue=n,t.data("initialSerializedValue",n)}}},500)},isFocused(){return this.editor.isFocused&&!this.editor.isActive("vizyBlock")}}},Use={key:1,class:"input text",style:{"margin-top":"20px"}},qse=["name","value"];function Kse(t,e,n,r,i,o){const s=ut("menu-bar"),l=ut("code-editor"),u=ut("editor-content"),f=ut("block-picker");return ge(),Se("div",{onClick:e[1]||(e[1]=d=>i.listenForChanges=!0)},[i.editor?(ge(),Se("div",{key:0,class:gt(["vui-rich-text",{"has-focus":o.isFocused()}]),style:oi({"--rows":n.settings.initialRows})},[i.buttons.length&&o.richTextEnabled?(ge(),Et(s,{key:0,ref:"toolbar",buttons:i.buttons,editor:i.editor,field:this},null,8,["buttons","editor"])):_t("",!0),o.richTextEnabled?(ge(),Et(l,{key:1,modelValue:i.codeEditorHtml,"onUpdate:modelValue":e[0]||(e[0]=d=>i.codeEditorHtml=d),visible:i.showCodeEditor,editor:i.editor,field:this},null,8,["modelValue","visible","editor"])):_t("",!0),Qe(u,{class:gt([{"code-view":i.showCodeEditor},"vui-editor"]),editor:i.editor},null,8,["class","editor"]),o.blocksEnabled?(ge(),Et(f,{key:2,editor:i.editor,field:this,"block-groups":n.settings.blockGroups},null,8,["editor","block-groups"])):_t("",!0)],6)):_t("",!0),t.$isDebug?(ge(),Se("div",Use,Ne(o.jsonContent),1)):_t("",!0),ee("input",{type:"hidden",name:n.name,value:o.jsonContent},null,8,qse)])}const kA=Bt(Wse,[["render",Kse]]),y1={data:void 0},Yw=t=>t.reduce((e,n)=>(e[n]=n)&&e,{}),Fo=Yw(["drag","dragend","dragenter","dragleave","dragstart","dragover","drop"]),Gse=Yw(["copy","move","link","none"]),Yse=Yw(["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"]),Jse={props:{draggable:{type:Boolean,default:!0},transferData:{},dropEffect:{validator:t=>t in Gse},effectAllowed:{validator:t=>t in Yse},image:String,imageXOffset:{type:Number,default:0},imageYOffset:{type:Number,default:0},hideImageHtml:{type:Boolean,default:!0},tag:{type:String,default:"div"}},data(){return{dragging:!1}},computed:{events:()=>Fo,scopedData(){return this.dragging&&this.transferData},hideImageStyle:()=>({position:"fixed",top:"-1000px"})},methods:{emitEvent(t,e){const n=e.dataTransfer;if([Fo.dragenter,Fo.dragover].includes(t)&&this.dropEffect&&(n.dropEffect=this.dropEffect),t===Fo.dragstart){if(this.effectAllowed&&(n.effectAllowed=this.effectAllowed),this.image||this.$slots.image||this.$refs.image){let r;this.image?(r=new Image,r.src=this.image):this.$refs.image?r=this.$refs.image:this.$slots.image&&(r=this.$slots.image[0].elm),n.setDragImage&&n.setDragImage(r,this.imageXOffset,this.imageYOffset)}this.transferData!==void 0&&(y1.data=this.transferData,e.dataTransfer.setData("text","")),this.dragging=!0}this.$emit(t,this.transferData,e),t===Fo.dragend&&(y1.data=void 0,this.dragging=!1)}}};function Xse(t,e,n,r,i,o){return ge(),Et(Qs(n.tag),{draggable:n.draggable,onDrag:e[0]||(e[0]=s=>o.emitEvent(o.events.drag,s)),onDragstart:e[1]||(e[1]=s=>o.emitEvent(o.events.dragstart,s)),onDragenter:e[2]||(e[2]=s=>o.emitEvent(o.events.dragenter,s)),onDragleave:e[3]||(e[3]=s=>o.emitEvent(o.events.dragleave,s)),onDragend:e[4]||(e[4]=s=>o.emitEvent(o.events.dragend,s))},{default:Vt(()=>[pn(t.$slots,"default",{transferData:o.scopedData}),n.hideImageHtml?(ge(),Se("div",{key:0,ref:"image",style:oi(o.hideImageStyle)},[pn(t.$slots,"image",{transferData:o.scopedData})],4)):pn(t.$slots,"image",{key:1,transferData:o.scopedData})]),_:3},40,["draggable"])}const Zse=Bt(Jse,[["render",Xse]]),Zc=new Set,Qse={data(){return{transferData:void 0,isDraggingOver:!1}},props:{tag:{type:String,default:"div"}},computed:{events:()=>Fo,scopedData(){return this.isDraggingOver&&this.transferData}},methods:{emitEvent(t,e){this.transferData=y1.data,this.$emit(t,this.transferData,e),t===Fo.dragenter&&(Zc.size||e.target===this.$el)&&Zc.add(e.target),t===Fo.dragleave&&Zc.delete(e.target),t===Fo.drop&&Zc.clear(),this.isDraggingOver=!!Zc.size}}};function eae(t,e,n,r,i,o){return ge(),Et(Qs(n.tag),{onDragenter:e[0]||(e[0]=s=>o.emitEvent(o.events.dragenter,s)),onDragleave:e[1]||(e[1]=s=>o.emitEvent(o.events.dragleave,s)),onDragover:e[2]||(e[2]=lt(s=>o.emitEvent(o.events.dragover,s),["prevent"])),onDrop:e[3]||(e[3]=lt(s=>o.emitEvent(o.events.drop,s),["prevent"]))},{default:Vt(()=>[pn(t.$slots,"default",{transferData:o.scopedData})]),_:3},32)}const tae=Bt(Qse,[["render",eae]]),nae={name:"VizyIconPicker",props:{inputClasses:{type:Object,default:()=>{}},modelValue:{type:Object,default:()=>{}}},emits:["update:modelValue"],data(){return{tippy:null,id:`icon-picker-${Craft.randomString(10)}`,icons:[],search:"",selected:null,isFetching:!1,tippyVisible:!1}},computed:{iconsFiltered(){return Mi(this.icons)?[]:this.icons.reduce((t,e)=>{const n=e.icons.filter(r=>r.label.toLowerCase().includes(this.search.toLowerCase()));return n.length?t.concat({...e,icons:n}):t},[])}},watch:{selected(t){this.$emit("update:modelValue",t)}},created(){this.modelValue&&(this.selected=this.modelValue)},mounted(){const t=this,e=this.$el.querySelector(".js-vui-tippy-template");e.style.display="block",this.tippy=Kr(`#${this.id}`,{content:e,trigger:"focus",allowHTML:!0,arrow:!0,interactive:!0,placement:"bottom-start",theme:"light-border icon-picker",maxWidth:"none",duration:200,zIndex:10,hideOnClick:!1,onCreate(n){t.isFetching=!1,n.popper.style.width="100%"},onShow(n){t.tippyVisible=!0,!(t.isFetching||t.icons.length)&&(t.isFetching=!0,fetch(Craft.getActionUrl("vizy/icons")).then(r=>r.json()).then(r=>{t.icons=r}).catch(r=>{n.setContent(`Request failed. ${r}`)}).finally(()=>{t.isFetching=!1}))},onHide(n){t.isFetching=!1,t.tippyVisible=!1},onHidden(n){t.search=""}})},methods:{select(t){this.selected=t,this.tippy[0].hide()},deleteIcon(){this.selected=null}}},rae={key:0,class:"vui-icon-input-item"},iae=["innerHTML"],oae={class:"vui-icon-input-label"},sae=["id"],aae=ee("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fal","data-icon":"times",class:"svg-inline--fa fa-times fa-w-10",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[ee("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})],-1),lae=[aae],uae={class:"vui-icons-pane js-vui-tippy-template",style:{display:"none"}},cae={key:0,class:"vui-no-icons"},fae=ee("span",{class:"vui-loading"},null,-1),dae=[fae],hae={key:1,class:"vui-icons-groups"},pae={class:"vui-icons-group-name"},mae={class:"vui-icons"},gae=["title","onClick"],vae=["innerHTML"],yae={class:"vui-icon-label"},bae={key:2,class:"vui-no-icons"};function _ae(t,e,n,r,i,o){return ge(),Se("div",null,[ee("div",{class:gt(["vui-icon-input",{"tippy-visible":i.tippyVisible}])},[i.selected&&!i.tippyVisible?(ge(),Se("div",rae,[ee("div",{class:"vui-icon-input-svg",innerHTML:i.selected.svg},null,8,iae),ee("span",oae,Ne(i.selected.label),1)])):_t("",!0),Ut(ee("input",{id:i.id,"onUpdate:modelValue":e[0]||(e[0]=s=>i.search=s),type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",class:gt(n.inputClasses)},null,10,sae),[[Mn,i.search]]),i.selected?(ge(),Se("button",{key:1,type:"button",class:"vui-icon-input-delete",onClick:e[1]||(e[1]=lt((...s)=>o.deleteIcon&&o.deleteIcon(...s),["prevent"]))},lae)):_t("",!0)],2),ee("div",uae,[i.isFetching?(ge(),Se("div",cae,dae)):Object.keys(o.iconsFiltered).length?(ge(),Se("div",hae,[(ge(!0),Se(kt,null,Zt(o.iconsFiltered,(s,l)=>(ge(),Se("div",{key:l,class:"vui-icons-group"},[ee("span",pae,Ne(s.name),1),ee("div",mae,[(ge(!0),Se(kt,null,Zt(s.icons,(u,f)=>(ge(),Se("div",{key:f,class:"vui-icon-wrap",title:`${u.label} (${s.name})`,onClick:lt(d=>o.select(u),["prevent"])},[ee("div",{class:"vui-icon-svg",innerHTML:u.svg},null,8,vae),ee("span",yae,Ne(u.label),1)],8,gae))),128))])]))),128))])):(ge(),Se("div",bae,Ne(t.t("vizy","No icons match your query.")),1))])])}const wae=Bt(nae,[["render",_ae]]),kae={name:"FieldLayoutDesigner",props:{layoutUid:{type:String,default:null},fieldId:{type:[String,Number],default:null},blockTypeId:{type:[String,Number],default:null},modelValue:{type:[Object,Array,String],default:()=>{}}},emits:["update:modelValue"],data(){return{error:!1,errorMessage:"",loading:!1,mounted:!1,proxyValue:{}}},watch:{proxyValue(t){this.$emit("update:modelValue",t)}},created(){this.proxyValue=this.modelValue},mounted(){this.loading=!0;const t=[];this.fieldId&&t.push(this.fieldId);const n=/fields\/edit\/(\d*)$/g.exec(window.location.href);n&&n[1]&&t.push(n[1]);const r={fieldIds:t,layoutUid:this.layoutUid,blockTypeId:this.blockTypeId,layout:this.proxyValue};Craft.sendActionRequest("POST","vizy/field/layout-designer",{data:r}).then(i=>{if(i.data.html)this.$el.innerHTML=i.data.html,Craft.appendBodyHtml(i.data.footHtml),this.watchForChanges(),this.mounted=!0;else throw new Error(i.data)}).catch(i=>{this.error=!0,this.errorMessage=i,this.loading=!1})},methods:{watchForChanges(){const t=this.$el.querySelector('input[name="fieldLayout"]');new MutationObserver((n,r)=>{for(const i of n)i.type==="attributes"&&i.attributeName==="value"&&(this.proxyValue=i.target.value)}).observe(t,{attributes:!0,attributeFilter:["value"]})}}},xae={ref:"fld-container",class:"vui-block-editor-layout"},Sae={class:"vui-workspace"},Cae={key:0,class:"vui-loading-pane"},Tae=ee("div",{class:"vui-loading fui-loading-lg"},null,-1),Eae=[Tae],Aae={key:1,class:"vui-error-pane error"},Oae={class:"vui-error-content"},Mae=ee("span",{"data-icon":"alert"},null,-1),Lae=["innerHTML"];function Nae(t,e,n,r,i,o){return ge(),Se("div",xae,[ee("div",Sae,[i.loading?(ge(),Se("div",Cae,Eae)):_t("",!0),i.error?(ge(),Se("div",Aae,[ee("div",Oae,[Mae,ee("span",{class:"error",innerHTML:i.errorMessage},null,8,Lae)])])):_t("",!0)])],512)}const Iae=Bt(kae,[["render",Nae]]),Pae=Vn({name:"default-section",props:{section:{type:Object,required:!0},currentIndex:{type:[Number,String],required:!1,default:1/0},renderSuggestion:{type:Function,required:!1},normalizeItemFunction:{type:Function,required:!0},componentAttrPrefix:{type:String,required:!0},componentAttrIdAutosuggest:{type:String,required:!0}},data:function(){return{_currentIndex:this.currentIndex}},computed:{list:function(){let{limit:t,data:e}=this.section;return e.length<t&&(t=e.length),e.slice(0,t)}},methods:{getItemIndex(t){return this.section.start_index+t},getItemByIndex(t){return this.section.data[t]},onMouseEnter(t){const e=parseInt(t.currentTarget.getAttribute("data-suggestion-index"));this._currentIndex=e,this.$emit("updateCurrentIndex",e)},onMouseLeave(){this.$emit("updateCurrentIndex",null)}},render(){const t=this.componentAttrPrefix,e={beforeSection:this.$slots[`before-section-${this.section.name}`],afterSectionDefault:this.$slots["after-section"],afterSectionNamed:this.$slots[`after-section-${this.section.name}`]},n=`${t}__results-before ${t}__results-before--${this.section.name}`,r=e.beforeSection&&e.beforeSection({section:this.section,className:n}).filter(i=>i.type!==kt&&i.children.length===0)||[];return Hr("ul",{role:"listbox",class:this.section.ulClass,"aria-labelledby":this.section.label&&`${this.componentAttrIdAutosuggest}-${this.section.label}`},[r[0]&&r[0]||this.section.label&&Hr("li",{class:n,id:`${this.componentAttrIdAutosuggest}-${this.section.label}`},[this.section.label])||"",this.list.map((i,o)=>{const s=this.normalizeItemFunction(this.section.name,this.section.type,this.section.label,this.section.liClass,i),l=this.getItemIndex(o),u=this._currentIndex===l||parseInt(this.currentIndex)===l;return Hr("li",{role:"option","data-suggestion-index":l,"data-section-name":s.name,id:`${t}__results-item--${l}`,...s.liAttributes,key:l,class:{[`${t}__results-item--highlighted`]:u,[`${t}__results-item`]:!0,...s.liClass},onMouseenter:this.onMouseEnter,onMouseleave:this.onMouseLeave},[this.renderSuggestion?this.renderSuggestion(s):this.$slots.default&&this.$slots.default({_key:o,suggestion:s})])}),e.afterSectionDefault&&e.afterSectionDefault({section:this.section,className:`${t}__results-after ${t}__results-after--${this.section.name}`}),e.afterSectionNamed&&e.afterSectionNamed({section:this.section,className:`${t}__results_after ${t}__results-after--${this.section.name}`})])}});function Dae(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Rae(t,e){Dae(t,e)||(t.className+=" "+e)}function zae(t,e){t.classList&&t.classList.remove(e)}const xA=-1,SA={name:"default",type:"default-section"},Bae={name:"Autosuggest",components:{DefaultSection:Pae},inheritAttrs:!1,props:{modelValue:{type:String,default:null},inputProps:{type:Object,required:!0},limit:{type:Number,required:!1,default:1/0},suggestions:{type:Array,required:!0},renderSuggestion:{type:Function,required:!1,default:null},getSuggestionValue:{type:Function,required:!1,default:t=>{const e=t.item;return typeof e=="object"&&e.hasOwnProperty("name")?e.name:e}},shouldRenderSuggestions:{type:Function,required:!1,default:(t,e)=>t>0&&!e},sectionConfigs:{type:Object,required:!1,default:()=>({default:{onSelected:null}})},onSelected:{type:Function,required:!1,default:null},componentAttrIdAutosuggest:{type:String,required:!1,default:"autosuggest"},componentAttrClassAutosuggestResultsContainer:{type:String,required:!1,default:null},componentAttrClassAutosuggestResults:{type:String,required:!1,default:null},componentAttrPrefix:{type:String,required:!1,default:"autosuggest"},class:null,style:null},data(){return{internalValue:null,searchInputOriginal:null,currentIndex:null,currentItem:null,loading:!1,didSelectFromOptions:!1,defaultInputProps:{type:"text",autocomplete:"off"},clientXMouseDownInitial:null}},computed:{internal_inputProps(){return{...this.defaultInputProps,...this.inputProps,...this.listeners}},listeners(){return{onInput:t=>{},onClick:()=>{this.loading=!1,this.$attrs.click&&this.$attrs.click(this.currentItem),this.$nextTick(()=>{this.ensureItemVisible(this.currentItem,this.currentIndex)})},onSelected:()=>{this.currentItem&&this.sectionConfigs[this.currentItem.name]&&this.sectionConfigs[this.currentItem.name].onSelected?this.sectionConfigs[this.currentItem.name].onSelected(this.currentItem,this.searchInputOriginal):this.sectionConfigs.default.onSelected?this.sectionConfigs.default.onSelected(null,this.searchInputOriginal):this.onSelected&&this.$emit("selected",this.currentItem,this.currentIndex),this.setChangeItem(null)}}},isOpen(){return this.shouldRenderSuggestions(this.totalResults,this.loading)},computedSections(){let t=0;return this.suggestions.map(e=>{if(!e.data)return;const n=e.name?e.name:SA.name;let r,i,o,s,l=null;this.sectionConfigs[n]&&(r=this.sectionConfigs[n].limit,o=this.sectionConfigs[n].type,i=this.sectionConfigs[n].label,s=this.sectionConfigs[n].ulClass,l=this.sectionConfigs[n].liClass),o=o||SA.type,r=r||this.limit,r=r||1/0,r=e.data.length<r?e.data.length:r,i=i||e.label;const u={name:n,label:i,type:o,limit:r,data:e.data,start_index:t,end_index:t+r-1,ulClass:s,liClass:l};return t+=r,u})},totalResults(){return this.computedSections.reduce((t,e)=>{if(!e)return t;const{limit:n,data:r}=e;return t+(r.length>=n?n:r.length)},0)},_componentAttrClassAutosuggestResultsContainer(){return this.componentAttrClassAutosuggestResultsContainer||`${this.componentAttrPrefix}__results-container`},_componentAttrClassAutosuggestResults(){return this.componentAttrClassAutosuggestResults||`${this.componentAttrPrefix}__results`}},watch:{modelValue:{handler(t){this.internalValue=t},immediate:!0},isOpen:{handler(t,e){t!==e&&this.$emit(t?"opened":"closed")},immediate:!0}},created(){this.loading=!0},mounted(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("mousedown",this.onDocumentMouseDown)},beforeUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousedown",this.onDocumentMouseDown)},methods:{afterSlot(t){return`after-section-${t.name||t.label}`},beforeSlot(t){return`before-section-${t.name||t.label}`},inputHandler(t){const e=t.target.value;this.$emit("update:modelValue",e),this.internalValue=e,this.didSelectFromOptions||(this.searchInputOriginal=e,this.currentIndex=null)},getSectionRef(t){return"computed_section_"+t},getItemByIndex(t){let e=!1;if(t===null)return e;for(var n=0;n<this.computedSections.length;n++)if(t>=this.computedSections[n].start_index&&t<=this.computedSections[n].end_index){let r=t-this.computedSections[n].start_index;this.computedSections[n].name;let i=this.computedSections[n].data[r];if(i){e=this.normalizeItem(this.computedSections[n].name,this.computedSections[n].type,i.name,"",i);break}}return e},handleKeyStroke(t){const{keyCode:e}=t;if([16,9,17,18,91,93].indexOf(e)>-1)return;const r=!this.isOpen;if(this.loading=!1,this.didSelectFromOptions=!1,this.isOpen)switch(e){case 40:case 38:if(t.preventDefault(),e===38&&this.currentIndex===null)break;const i=e===40?1:-1,o=Math.max((parseInt(this.currentIndex)||0)+(r?0:i),xA);this.setCurrentIndex(o,this.totalResults),this.didSelectFromOptions=!0,this.totalResults>0&&this.currentIndex>=0?(this.setChangeItem(this.getItemByIndex(this.currentIndex)),this.didSelectFromOptions=!0):this.currentIndex===xA&&(this.setChangeItem(null),this.internalValue=this.searchInputOriginal,t.preventDefault()),this.$nextTick(()=>{this.ensureItemVisible(this.currentItem,this.currentIndex)});break;case 13:t.preventDefault(),this.totalResults>0&&this.currentIndex>=0&&(this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.didSelectFromOptions=!0),this.loading=!0,this.listeners.onSelected(this.didSelectFromOptions);break;case 27:this.loading=!0,this.currentIndex=null,this.internalValue=this.searchInputOriginal,this.$emit("input",this.searchInputOriginal),t.preventDefault();break}},setChangeItem(t,e=!1){if(this.currentIndex===null||!t)this.currentItem=null,this.$emit("item-changed",null,null);else if(t){this.currentItem=t,this.$emit("item-changed",t,this.currentIndex);const n=this.getSuggestionValue(t);this.internalValue=n,e&&(this.searchInputOriginal=n),this.ensureItemVisible(t,this.currentIndex)}},normalizeItem(t,e,n,r,i){return{name:t,type:e,label:n,liClass:i.liClass||r,item:i}},ensureItemVisible(t,e,n){const r=this.$el.querySelector(n||`.${this._componentAttrClassAutosuggestResults}`);if(!r)return;const i=r.querySelector(`#${this.componentAttrPrefix}__results-item--${e}`);if(!i)return;const o=r.clientHeight,s=r.scrollTop,l=i.clientHeight,u=i.offsetTop;l+u>=s+o?r.scrollTop=l+u-o:u<s&&s>0&&(r.scrollTop=u)},updateCurrentIndex(t){this.setCurrentIndex(t,-1,!0)},clickedOnScrollbar(t,e){const n=this.$el.querySelector(`.${this._componentAttrClassAutosuggestResults}`),r=n&&n.clientWidth<=e+17&&e+17<=n.clientWidth+34;return t.target.tagName==="DIV"&&n&&r||!1},onDocumentMouseDown(t){var e=t.target.getBoundingClientRect?t.target.getBoundingClientRect():0;this.clientXMouseDownInitial=t.clientX-e.left},onDocumentMouseUp(t){if(!this.$el.contains(t.target)){this.loading=!0,this.currentIndex=null;return}t.target.tagName==="INPUT"||this.clickedOnScrollbar(t,this.clientXMouseDownInitial)||(this.loading=!0,this.didSelectFromOptions=!0,this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.listeners.onSelected(!0))},setCurrentIndex(t,e=-1,n=!1){let r=t;if(!n){const s=this.currentIndex===null,l=t>=e;(s||l)&&(r=0)}this.currentIndex=r;const i=this.$el.querySelector(`#${this.componentAttrPrefix}__results-item--${this.currentIndex}`),o=`${this.componentAttrPrefix}__results-item--highlighted`;this.$el.querySelector(`.${o}`)&&zae(this.$el.querySelector(`.${o}`),o),i&&Rae(i,o)}}},$ae=["id"],Hae=["aria-expanded","aria-owns"],Fae=["type","value","autocomplete","aria-activedescendant","aria-controls"],Vae=["id"],jae=["aria-labelledby"];function Wae(t,e,n,r,i,o){return ge(),Se("div",{id:n.componentAttrIdAutosuggest,class:gt(t.$props.class),style:oi(t.$props.style)},[pn(t.$slots,"before-input"),ee("div",{role:"combobox","aria-expanded":o.isOpen?"true":"false","aria-haspopup":"listbox","aria-owns":`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`},[ee("input",wi({type:o.internal_inputProps.type,value:i.internalValue,autocomplete:o.internal_inputProps.autocomplete,class:[o.isOpen?`${n.componentAttrPrefix}__input--open`:"",o.internal_inputProps.class]},o.internal_inputProps,{"aria-autocomplete":"list","aria-activedescendant":o.isOpen&&i.currentIndex!==null?`${n.componentAttrPrefix}__results-item--${i.currentIndex}`:"","aria-controls":`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`,onInput:e[0]||(e[0]=(...s)=>o.inputHandler&&o.inputHandler(...s)),onKeydown:e[1]||(e[1]=(...s)=>o.handleKeyStroke&&o.handleKeyStroke(...s))}),null,16,Fae)],8,Hae),pn(t.$slots,"after-input"),ee("div",{id:`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`,class:gt(o._componentAttrClassAutosuggestResultsContainer)},[o.isOpen?(ge(),Se("div",{key:0,class:gt(o._componentAttrClassAutosuggestResults),"aria-labelledby":n.componentAttrIdAutosuggest},[pn(t.$slots,"before-suggestions"),(ge(!0),Se(kt,null,Zt(o.computedSections,(s,l)=>(ge(),Et(Qs(s.type),{ref_for:!0,ref:o.getSectionRef(`${s.name}${l}`),key:o.getSectionRef(`${s.name}${l}`),"current-index":i.currentIndex,"normalize-item-function":o.normalizeItem,"render-suggestion":n.renderSuggestion,section:s,"component-attr-prefix":n.componentAttrPrefix,"component-attr-id-autosuggest":n.componentAttrIdAutosuggest,onUpdateCurrentIndex:o.updateCurrentIndex},{[o.beforeSlot(s)]:Vt(({section:u,className:f})=>[pn(t.$slots,o.beforeSlot(s),{section:u,className:f})]),default:Vt(({suggestion:u,_key:f})=>[pn(t.$slots,"default",{suggestion:u,index:f},()=>[Ui(Ne(u.item),1)])]),[o.afterSlot(s)]:Vt(({section:u})=>[pn(t.$slots,`after-section-${s.name||s.label}`,{section:u})]),"after-section":Vt(({section:u})=>[pn(t.$slots,"after-section",{section:u})]),_:2},1064,["current-index","normalize-item-function","render-suggestion","section","component-attr-prefix","component-attr-id-autosuggest","onUpdateCurrentIndex"]))),128)),pn(t.$slots,"after-suggestions")],10,jae)):_t("",!0),pn(t.$slots,"after-suggestions-container")],10,Vae)],14,$ae)}const Uae=Bt(Bae,[["render",Wae]]),qae={name:"AutoSuggest",components:{VueAutosuggest:Uae},props:{id:{type:String,default:""},suggestions:{type:[Object,Array],default:()=>[]},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{query:"",selected:"",filteredOptions:[],inputProps:{class:"text fullwidth",initialValue:this.modelValue,style:"",id:this.id,name:this.id,maxlength:"",autofocus:!1,disabled:!1,title:"",placeholder:""},limit:5}},methods:{onInputChange(t){this.query=(t||"").toLowerCase(),this.updateFilteredOptions(),t||this.$emit("update:modelValue","")},updateFilteredOptions(){if(this.query===""){this.filteredOptions=this.suggestions;return}const t=[];let e,n,r,i;for(e=0;e<this.suggestions.length;e++){for(r=[],n=0;n<this.suggestions[e].data.length;n++)i=this.suggestions[e].data[n],((i.name||i).toLowerCase().indexOf(this.query)!==-1||i.hint&&i.hint.toLowerCase().indexOf(this.query)!==-1)&&r.push(i.name?i:{name:i});r.length&&(r.sort((o,s)=>{const l=this.scoreItem(o,this.query),u=this.scoreItem(s,this.query);return l===u?0:l<u?1:-1}),t.push({label:this.suggestions[e].label||null,data:r.slice(0,this.limit)}))}this.filteredOptions=t},scoreItem(t){let e=0;return t.name.toLowerCase().indexOf(this.query)!==-1&&(e+=100+this.query.length/t.name.length),t.hint&&t.hint.toLowerCase().indexOf(this.query)!==-1&&(e+=this.query.length/t.hint.length),e},onSelected(t){if(this.selected=t.item,this.$emit("update:modelValue",t.item.name),t.item.name[0]=="@"){const e=this.$el.querySelector("input");e.focus(),e.selectionStart=e.selectionEnd=e.value.length}},getSuggestionValue(t){return t.item.name||t.item},onBlur(t){t.relatedTarget&&(this.filteredOptions=[])}}},Kae={key:0,class:"light"};function Gae(t,e,n,r,i,o){const s=ut("vue-autosuggest");return ge(),Et(s,{modelValue:i.inputProps.initialValue,"onUpdate:modelValue":[e[0]||(e[0]=l=>i.inputProps.initialValue=l),o.onInputChange],suggestions:i.filteredOptions,"get-suggestion-value":o.getSuggestionValue,"input-props":i.inputProps,limit:i.limit,"component-attr-id-autosuggest":n.id,onSelected:o.onSelected,onFocus:o.updateFilteredOptions,onBlur:o.onBlur},{default:Vt(({suggestion:l})=>[Ui(Ne(l.item.name||l.item)+" ",1),l.item.hint?(ge(),Se("span",Kae,"– "+Ne(l.item.hint),1)):_t("",!0)]),_:1},8,["modelValue","suggestions","get-suggestion-value","input-props","limit","component-attr-id-autosuggest","onSelected","onFocus","onBlur","onUpdate:modelValue"])}const Yae=Bt(qae,[["render",Gae]]),Jae={name:"HandleInput",props:{id:{type:String,default:""},sourceValue:{type:String,default:""},collection:{type:Array,default:()=>[]},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{savedValue:"",proxyValue:""}},watch:{sourceValue(t){this.savedValue===""&&this.generateHandle()},proxyValue(t){this.$emit("update:modelValue",t)}},created(){this.savedValue=this.modelValue,this.proxyValue=this.modelValue},methods:{generateHandle(t){let e=ite(this.sourceValue);this.collection.length&&(e=XL(this.collection,e,0)),this.proxyValue=e}}};function Xae(t,e,n,r,i,o){return Ut((ge(),Se("input",{id:"id","onUpdate:modelValue":e[0]||(e[0]=s=>i.proxyValue=s),type:"text",class:"text fullwidth code",autocomplete:"off",autocorrect:"off",autocapitalize:"off"},null,512)),[[Mn,i.proxyValue]])}const Zae=Bt(Jae,[["render",Xae]]),Qae=function(){return window.safari!==void 0},ele={name:"VizySettings",components:{VizyIconPicker:wae,LightswitchField:JL,FieldLayoutDesigner:Iae,AutoSuggest:Yae,HandleInput:Zae,Drag:Zse,Drop:tae},props:{fieldName:{type:String,required:!0},errors:{type:[Object,Array],default:()=>{}}},data(){return{selectedBlockType:null,isSafari:Qae(),emptySvg:'<svg height="100" viewBox="0 0 50 50" width="100"></svg>',fieldData:[],settings:{}}},computed:{handleCollection(){const t=[];return Array.isArray(this.fieldData)&&this.fieldData.forEach(e=>{e.blockTypes.forEach(n=>{n!==this.selectedBlockType&&t.push(n.handle)})}),t}},created(){this.fieldData=this.$root.fieldData,this.settings=this.$root.settings},mounted(){},methods:{updateSelectedBlockType(t,e=!1){this.selectedBlockType=null,this.$nextTick(()=>{this.selectedBlockType=t,this.$nextTick(()=>{this.$refs["name-field"].value||this.$refs["name-field"].focus()})})},selectBlockType(t){this.selectedBlockType===t?this.selectedBlockType=null:this.updateSelectedBlockType(t)},getErrors(t,e=""){let n=[];const r=`${t.id}:${e}`;return this.errors&&(n=Object.keys(this.errors).filter(i=>i.includes(r)).map(i=>this.errors[i][0])),n},hasErrors(t,e=""){return this.getErrors(t,e).length},addBlockType(t){t.blockTypes||(t.blockTypes=[]),t.blockTypes.push({id:Jm("type-"),enabled:!0}),this.updateSelectedBlockType(t.blockTypes[t.blockTypes.length-1],!0)},addGroup(){const t=prompt(Craft.t("vizy","Give your group a name."));t&&this.fieldData.push({id:Jm("group-"),name:t,blockTypes:[]})},deleteBlockType(){const t=Craft.t("vizy","Are you sure you want to delete “{name}”? This will permanently delete all content created with this block type.",{name:this.selectedBlockType.name});if(confirm(t))for(let e=0;this.fieldData.length;e++){const n=this.fieldData[e].blockTypes.indexOf(this.selectedBlockType);if(n!==-1){this.fieldData[e].blockTypes.splice(n,1),this.selectedBlockType=null;break}}},deleteGroup(t){const e=Craft.t("vizy","Are you sure you want to delete “{name}”? This will permanently delete all content created with any of these block types.",{name:t.name});if(confirm(e)){const n=this.fieldData.indexOf(t);n!==-1&&(this.fieldData.splice(n,1),this.selectedBlockType=null)}},moveGroupUp(t){const e=this.fieldData.indexOf(t),n=e-1,[r]=this.fieldData.splice(e,1);this.fieldData.splice(n,0,r)},moveGroupDown(t){const e=this.fieldData.indexOf(t),n=e+1,[r]=this.fieldData.splice(e,1);this.fieldData.splice(n,0,r)},dragEnter(t,e){e&&e.target.parentNode.classList.add("is-active")},dragLeave(t,e){e&&e.target.parentNode.classList.remove("is-active")},dragDrop(t,e){if(!e)return;e.target.parentNode.classList.remove("is-active");const n=parseInt(t.groupIndex),r=parseInt(t.blockTypeIndex),i=parseInt(e.target.getAttribute("data-group"));let o=parseInt(e.target.getAttribute("data-block"));if(n===i&&r===o||n===i&&r===o-1)return;n===i&&r<o&&(o=o-1);const[s]=this.fieldData[n].blockTypes.splice(r,1);this.fieldData[i].blockTypes||(this.fieldData[i].blockTypes=[]),this.fieldData[i].blockTypes.splice(o,0,s)}}},tle={class:"vui-workspace"},nle=["name","value"],rle={class:"vui-popover"},ile={class:"vui-popover-inner"},ole={key:0},sle={class:"vui-block-items-header"},ale=["onBlur","innerHTML"],lle={class:"vui-block-items-header-actions"},ule=["onClick"],cle=ee("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-up",class:"svg-inline--fa fa-arrow-up fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[ee("path",{fill:"currentColor",d:"M6.101 261.899L25.9 281.698c4.686 4.686 12.284 4.686 16.971 0L198 126.568V468c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12V126.568l155.13 155.13c4.686 4.686 12.284 4.686 16.971 0l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L232.485 35.515c-4.686-4.686-12.284-4.686-16.971 0L6.101 244.929c-4.687 4.686-4.687 12.284 0 16.97z"})],-1),fle=[cle],dle=["onClick"],hle=ee("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-down",class:"svg-inline--fa fa-arrow-down fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[ee("path",{fill:"currentColor",d:"M441.9 250.1l-19.8-19.8c-4.7-4.7-12.3-4.7-17 0L250 385.4V44c0-6.6-5.4-12-12-12h-28c-6.6 0-12 5.4-12 12v341.4L42.9 230.3c-4.7-4.7-12.3-4.7-17 0L6.1 250.1c-4.7 4.7-4.7 12.3 0 17l209.4 209.4c4.7 4.7 12.3 4.7 17 0l209.4-209.4c4.7-4.7 4.7-12.3 0-17z"})],-1),ple=[hle],mle=["onClick"],gle={class:"vui-block-items"},vle=["onClick"],yle={class:"dropzone-vertical-left"},ble=ee("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),_le=["innerHTML"],wle={class:"vui-block-item-heading"},kle={class:"vui-block-item",style:{width:"90px",height:"62px",background:"white"}},xle=["innerHTML"],Sle={class:"vui-block-item-heading"},Cle={key:0,class:"dropzone-vertical-right"},Tle=ee("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),Ele=["onClick"],Ale={key:0},Ole={class:"dropzone-vertical-left"},Mle=ee("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),Lle=ee("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-plus fa-w-12"},[ee("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),Nle={class:"vui-block-item-heading"},Ile={key:0},Ple=ee("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-plus fa-w-12"},[ee("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),Dle={class:"vui-block-item-heading"},Rle={key:0,class:"vui-block-editor"},zle={class:"vui-block-titlebar"},Ble={class:"blocktype"},$le={class:"vui-block-titlebar-actions"},Hle={key:0,class:"errors"},Fle={class:"field"},Vle={class:"heading"},jle={id:"name-field-label",class:"required",for:"name"},Wle={id:"name-field-instructions",class:"instructions"},Ule={class:"input ltr"},qle={key:0,class:"errors"},Kle={class:"field"},Gle={class:"heading"},Yle={id:"handle-field-label",class:"required",for:"handle"},Jle={id:"handle-field-instructions",class:"instructions"},Xle={class:"input ltr"},Zle={key:0,class:"errors"},Qle={class:"field"},eue={class:"heading"},tue={id:"icon-field-label",class:"required",for:"icon"},nue={id:"icon-field-instructions",class:"instructions"},rue={class:"input ltr"},iue={key:0,class:"errors"},oue={class:"field"},sue={class:"heading"},aue={id:"layout-field-label",class:"required",for:"layout"},lue={id:"layout-field-instructions",class:"instructions"},uue={class:"input ltr"},cue={class:"field"},fue={class:"heading"},due={id:"template-field-label",for:"template"},hue={id:"template-field-instructions",class:"instructions"},pue={class:"input ltr"},mue={key:0,class:"errors"},gue={class:"field"},vue={class:"heading"},yue={id:"minBlocks-field-label",for:"minBlocks"},bue={id:"minBlocks-field-instructions",class:"instructions"},_ue={class:"input ltr"},wue={key:0,class:"errors"},kue={class:"field"},xue={class:"heading"},Sue={id:"maxBlocks-field-label",for:"maxBlocks"},Cue={id:"maxBlocks-field-instructions",class:"instructions"},Tue={class:"input ltr"},Eue={key:0,class:"errors"},Aue={key:1,class:"vui-block-editor-empty"},Oue={key:0},Mue={key:1},Lue=ee("svg",{xmlns:"http://www.w3.org/2000/svg",width:"68px",height:"32.9px",viewBox:"0 0 68 32.9"},[ee("path",{fill:"currentColor",d:"M8.2,32.9c-0.3,0-0.6-0.2-0.7-0.5c-0.7-2.2-2.3-3.6-3.9-5.1c-1.3-1.2-2.6-2.5-3.6-4.1c-0.1-0.2-0.1-0.5,0-0.7s0.3-0.4,0.6-0.4c2.1-0.2,9.2-1,11.8-3.2c0.3-0.3,0.8-0.2,1.1,0.1c0.3,0.3,0.2,0.8-0.1,1.1c-2.5,2.1-8.1,3-11.4,3.4c0.8,1,1.7,1.9,2.6,2.8C6.4,27.8,8.1,29.4,9,32c0.1,0.4-0.1,0.8-0.5,0.9C8.4,32.9,8.3,32.9,8.2,32.9z M30,30.8c-8.1,0-16.5-1.8-24-5.4c-0.4-0.2-0.5-0.6-0.4-1s0.6-0.5,1-0.4c14.3,6.9,32.1,7,44.2,0.4c9-4.9,14.4-13.1,15.7-23.8C66.6,0.2,67,0,67.4,0c0.4,0.1,0.7,0.4,0.7,0.8C66.7,12,61,20.6,51.5,25.7C45.4,29.1,37.8,30.8,30,30.8z"})],-1);function Nue(t,e,n,r,i,o){const s=ut("drop"),l=ut("drag"),u=ut("lightswitch-field"),f=ut("handle-input"),d=ut("vizy-icon-picker"),m=ut("field-layout-designer"),v=ut("auto-suggest");return ge(),Se("div",tle,[ee("div",null,[ee("textarea",{class:"hidden fullwidth",rows:"20",name:n.fieldName,value:JSON.stringify(i.fieldData)},null,8,nle)]),ee("div",rle,[ee("div",ile,[(ge(!0),Se(kt,null,Zt(i.fieldData,(y,_)=>(ge(),Se("div",{key:_,class:"vui-block-group"},[_>0?(ge(),Se("hr",ole)):_t("",!0),ee("div",sle,[ee("span",{class:"vui-block-items-header-text",contenteditable:"true",onBlur:C=>y.name=C.target.innerText,innerHTML:y.name},null,40,ale),ee("div",lle,[_>0?(ge(),Se("button",{key:0,class:"vui-block-items-header-move",onClick:lt(C=>o.moveGroupUp(y),["prevent"])},fle,8,ule)):_t("",!0),_<i.fieldData.length-1?(ge(),Se("button",{key:1,class:"vui-block-items-header-move",onClick:lt(C=>o.moveGroupDown(y),["prevent"])},ple,8,dle)):_t("",!0),ee("button",{class:"vui-block-items-header-delete",onClick:lt(C=>o.deleteGroup(y),["prevent"])},Ne(t.t("site","Delete")),9,mle)])]),ee("div",gle,[(ge(!0),Se(kt,null,Zt(y.blockTypes,(C,x)=>(ge(),Se("div",{key:x,class:gt(["vui-block-item",{active:i.selectedBlockType===C,"has-error":o.hasErrors(C)}]),onClick:lt(k=>o.selectBlockType(C),["prevent"])},[ee("div",yle,[Qe(s,{"data-group":_,"data-block":x,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","data-block","onDrop","onDragenter","onDragleave"]),ble]),Qe(l,{"transfer-data":{groupIndex:_,blockTypeIndex:x}},W1({default:Vt(()=>[ee("div",{innerHTML:C.icon?C.icon.svg:i.emptySvg},null,8,_le),ee("span",wle,Ne(C.name),1),ee("span",{class:gt(["vui-block-item-status",{on:C.enabled}])},null,2)]),_:2},[i.isSafari?void 0:{name:"image",fn:Vt(()=>[ee("div",kle,[ee("div",{innerHTML:C.icon?C.icon.svg:i.emptySvg},null,8,xle),ee("span",Sle,Ne(C.name),1),ee("span",{class:gt(["vui-block-item-status",{on:C.enabled}])},null,2)])]),key:"0"}]),1032,["transfer-data"]),x==y.blockTypes.length-1?(ge(),Se("div",Cle,[Qe(s,{"data-group":_,"data-block":x+1,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","data-block","onDrop","onDragenter","onDragleave"]),Tle])):_t("",!0)],10,vle))),128)),ee("div",{class:"vui-block-item vui-block-new-item",onClick:lt(C=>o.addBlockType(y),["prevent"])},[!y.blockTypes||!y.blockTypes.length?(ge(),Se("div",Ale,[ee("div",Ole,[Qe(s,{"data-group":_,"data-block":0,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","onDrop","onDragenter","onDragleave"]),Mle])])):_t("",!0),Lle,ee("span",Nle,Ne(t.t("vizy","Add Block")),1)],8,Ele)])]))),128)),i.fieldData.length?(ge(),Se("hr",Ile)):_t("",!0),ee("div",{class:"vui-block-item vui-block-new-item vui-block-new-group",onClick:e[0]||(e[0]=lt((...y)=>o.addGroup&&o.addGroup(...y),["prevent"]))},[Ple,ee("span",Dle,Ne(t.t("vizy","Add Group")),1)])])]),i.selectedBlockType?(ge(),Se("div",Rle,[ee("div",zle,[ee("div",Ble,Ne(i.selectedBlockType.name),1),ee("div",$le,[ee("button",{class:"vui-block-titlebar-delete",onClick:e[1]||(e[1]=lt((...y)=>o.deleteBlockType&&o.deleteBlockType(...y),["prevent"]))},Ne(t.t("vizy","Delete")),1),Qe(u,{modelValue:i.selectedBlockType.enabled,"onUpdate:modelValue":e[2]||(e[2]=y=>i.selectedBlockType.enabled=y),small:!0},null,8,["modelValue"])])]),o.getErrors(i.selectedBlockType,"general")?(ge(),Se("ul",Hle,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"general"),(y,_)=>(ge(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0),ee("div",Fle,[ee("div",Vle,[ee("label",jle,Ne(t.t("vizy","Name")),1)]),ee("div",Wle,[ee("p",null,Ne(t.t("vizy","What this block type will be called in the control panel.")),1)]),ee("div",Ule,[Ut(ee("input",{id:"name",ref:"name-field","onUpdate:modelValue":e[3]||(e[3]=y=>i.selectedBlockType.name=y),type:"text",class:gt(["text fullwidth",{error:o.hasErrors(i.selectedBlockType,"name")}]),autocomplete:"off",autocorrect:"off",autocapitalize:"off"},null,2),[[Mn,i.selectedBlockType.name]])]),o.getErrors(i.selectedBlockType,"name")?(ge(),Se("ul",qle,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"name"),(y,_)=>(ge(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)]),ee("div",Kle,[ee("div",Gle,[ee("label",Yle,Ne(t.t("vizy","Handle")),1)]),ee("div",Jle,[ee("p",null,Ne(t.t("vizy","How you’ll refer to this block type in the templates.")),1)]),ee("div",Xle,[Qe(f,{id:"handle",ref:"handle-field",modelValue:i.selectedBlockType.handle,"onUpdate:modelValue":e[4]||(e[4]=y=>i.selectedBlockType.handle=y),"source-value":i.selectedBlockType.name,collection:o.handleCollection,class:gt({error:o.hasErrors(i.selectedBlockType,"handle")})},null,8,["modelValue","source-value","collection","class"])]),o.getErrors(i.selectedBlockType,"handle")?(ge(),Se("ul",Zle,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"handle"),(y,_)=>(ge(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)]),ee("div",Qle,[ee("div",eue,[ee("label",tue,Ne(t.t("vizy","Icon")),1)]),ee("div",nue,[ee("p",null,Ne(t.t("vizy","Select an appropriate icon for the block type. Start typing to search via keywords.")),1)]),ee("div",rue,[Qe(d,{modelValue:i.selectedBlockType.icon,"onUpdate:modelValue":e[5]||(e[5]=y=>i.selectedBlockType.icon=y),"input-classes":{error:o.hasErrors(i.selectedBlockType,"icon")}},null,8,["modelValue","input-classes"])]),o.getErrors(i.selectedBlockType,"icon")?(ge(),Se("ul",iue,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"icon"),(y,_)=>(ge(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)]),ee("div",oue,[ee("div",sue,[ee("label",aue,Ne(t.t("vizy","Layout")),1)]),ee("div",lue,[ee("p",null,Ne(t.t("vizy","Define the field layout for this block type. Empty tabs are not allowed, and you must provide at least one element.")),1)]),ee("div",uue,[Qe(m,{modelValue:i.selectedBlockType.layout,"onUpdate:modelValue":e[6]||(e[6]=y=>i.selectedBlockType.layout=y),"layout-uid":i.selectedBlockType.layoutUid,"field-id":i.settings.fieldId,"block-type-id":i.selectedBlockType.id},null,8,["modelValue","layout-uid","field-id","block-type-id"])])]),ee("div",cue,[ee("div",fue,[ee("label",due,Ne(t.t("vizy","Template")),1)]),ee("div",hue,[ee("p",null,Ne(t.t("vizy","Provide the path for a template partial for rendering this block type.")),1)]),ee("div",pue,[Qe(v,{id:"template",modelValue:i.selectedBlockType.template,"onUpdate:modelValue":e[7]||(e[7]=y=>i.selectedBlockType.template=y),suggestions:i.settings.suggestions},null,8,["modelValue","suggestions"])]),o.getErrors(i.selectedBlockType,"template")?(ge(),Se("ul",mue,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"template"),(y,_)=>(ge(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)]),ee("div",gue,[ee("div",vue,[ee("label",yue,Ne(t.t("vizy","Min Blocks")),1)]),ee("div",bue,[ee("p",null,Ne(t.t("vizy","The minimum number of blocks of this type the field is allowed to have.")),1)]),ee("div",_ue,[Ut(ee("input",{id:"minBlocks",ref:"minBlocks-field","onUpdate:modelValue":e[8]||(e[8]=y=>i.selectedBlockType.minBlocks=y),type:"text",class:gt(["text",{error:o.hasErrors(i.selectedBlockType,"minBlocks")}]),autocomplete:"off",autocorrect:"off",autocapitalize:"off",size:"2"},null,2),[[Mn,i.selectedBlockType.minBlocks]])]),o.getErrors(i.selectedBlockType,"minBlocks")?(ge(),Se("ul",wue,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"minBlocks"),(y,_)=>(ge(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)]),ee("div",kue,[ee("div",xue,[ee("label",Sue,Ne(t.t("vizy","Max Blocks")),1)]),ee("div",Cue,[ee("p",null,Ne(t.t("vizy","The maximum number of blocks of this type the field is allowed to have.")),1)]),ee("div",Tue,[Ut(ee("input",{id:"maxBlocks",ref:"maxBlocks-field","onUpdate:modelValue":e[9]||(e[9]=y=>i.selectedBlockType.maxBlocks=y),type:"text",class:gt(["text",{error:o.hasErrors(i.selectedBlockType,"maxBlocks")}]),autocomplete:"off",autocorrect:"off",autocapitalize:"off",size:"2"},null,2),[[Mn,i.selectedBlockType.maxBlocks]])]),o.getErrors(i.selectedBlockType,"maxBlocks")?(ge(),Se("ul",Eue,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"maxBlocks"),(y,_)=>(ge(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)])])):(ge(),Se("div",Aue,[i.fieldData.length?(ge(),Se("p",Oue,Ne(t.t("vizy","Select a block to edit.")),1)):(ge(),Se("p",Mue,Ne(t.t("vizy","Add a new group to begin.")),1)),Lue]))])}const Iue=Bt(ele,[["render",Nue]]);typeof Craft.Vizy>"u"&&(Craft.Vizy={});Craft.Vizy.Config=new aee;document.dispatchEvent(new CustomEvent("onVizyConfigReady",{bubbles:!0}));Craft.Vizy.Input=Garnish.Base.extend({init(t){const e=`#${t}-field .input`,n=A6({components:{VizyInput:kA}});n.component("VizyInput",kA),!document.querySelector(e).__vueInit&&n.mount(e)}});Craft.Vizy.Settings=Garnish.Base.extend({init(t,e,n){this.inputNamePrefix=t,this.inputIdPrefix=Craft.formatInputId(this.inputNamePrefix),A6({components:{VizySettings:Iue},data(){return{fieldData:e,settings:n}}}).mount(`.${this.inputIdPrefix}-vizy-configurator`)}});$(document).ready(()=>{Craft.VizyReady=!0,document.dispatchEvent(new CustomEvent("vizy-loaded"))})});export default Pue();
//# sourceMappingURL=vizy-1d31d33d.js.map
========
`+P:E=q+P),x.print_newline(!1),E&&(k.text=E,k.whitespace_before="",k.newlines=0,x.add_raw_token(k),x.print_newline(!0))}},v.prototype._handle_tag_open=function(x,k,A,L){var E=this._get_tag_open_token(k);return(A.is_unformatted||A.is_content_unformatted)&&!A.is_empty_element&&k.type===r.TAG_OPEN&&k.text.indexOf("</")===0?(x.add_raw_token(k),E.start_tag_token=this._tag_stack.try_pop(E.tag_name)):(x.traverse_whitespace(k),this._set_tag_position(x,k,E,A,L),E.is_inline_element||x.set_wrap_point(),x.print_token(k)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(E.alignment_size=k.text.length+1),!E.tag_complete&&!E.is_unformatted&&(x.alignment_size=E.alignment_size),E};var y=function(x,k){if(this.parent=x||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!k)this.tag_complete=!0;else{var A;this.tag_start_char=k.text[0],this.text=k.text,this.tag_start_char==="<"?(A=k.text.match(/^<([^\s>]*)/),this.tag_check=A?A[1]:""):(A=k.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=A?A[1]:"",(k.text.startsWith("{{#>")||k.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&k.next!==null?this.tag_check=k.next.text.split(" ")[0]:this.tag_check=k.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),k.type===r.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||k.closed&&k.closed.text==="/>";var L=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(L=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(L)))}};v.prototype._get_tag_open_token=function(x){var k=new y(this._tag_stack.get_parser_token(),x);return k.alignment_size=this._options.wrap_attributes_indent_size,k.is_end_tag=k.is_end_tag||f(k.tag_check,this._options.void_elements),k.is_empty_element=k.tag_complete||k.is_start_tag&&k.is_end_tag,k.is_unformatted=!k.tag_complete&&f(k.tag_check,this._options.unformatted),k.is_content_unformatted=!k.is_empty_element&&f(k.tag_check,this._options.content_unformatted),k.is_inline_element=f(k.tag_name,this._options.inline)||k.tag_name.includes("-")||k.tag_start_char==="{",k},v.prototype._set_tag_position=function(x,k,A,L,E){if(A.is_empty_element||(A.is_end_tag?A.start_tag_token=this._tag_stack.try_pop(A.tag_name):(this._do_optional_end_element(A)&&(A.is_inline_element||x.print_newline(!1)),this._tag_stack.record_tag(A),(A.tag_name==="script"||A.tag_name==="style")&&!(A.is_unformatted||A.is_content_unformatted)&&(A.custom_beautifier_name=u(A.tag_check,k)))),f(A.tag_check,this._options.extra_liners)&&(x.print_newline(!1),x._output.just_added_blankline()||x.print_newline(!0)),A.is_empty_element){if(A.tag_start_char==="{"&&A.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),A.indent_content=!0;var H=x.current_line_has_match(/{{#if/);H||x.print_newline(!1)}A.tag_name==="!--"&&E.type===r.TAG_CLOSE&&L.is_end_tag&&A.text.indexOf(`
`)===-1||(A.is_inline_element||A.is_unformatted||x.print_newline(!1),this._calcluate_parent_multiline(x,A))}else if(A.is_end_tag){var I=!1;I=A.start_tag_token&&A.start_tag_token.multiline_content,I=I||!A.is_inline_element&&!(L.is_inline_element||L.is_unformatted)&&!(E.type===r.TAG_CLOSE&&A.start_tag_token===L)&&E.type!=="TK_CONTENT",(A.is_content_unformatted||A.is_unformatted)&&(I=!1),I&&x.print_newline(!1)}else A.indent_content=!A.custom_beautifier_name,A.tag_start_char==="<"&&(A.tag_name==="html"?A.indent_content=this._options.indent_inner_html:A.tag_name==="head"?A.indent_content=this._options.indent_head_inner_html:A.tag_name==="body"&&(A.indent_content=this._options.indent_body_inner_html)),!(A.is_inline_element||A.is_unformatted)&&(E.type!=="TK_CONTENT"||A.is_content_unformatted)&&x.print_newline(!1),this._calcluate_parent_multiline(x,A)},v.prototype._calcluate_parent_multiline=function(x,k){k.parent&&x._output.just_added_newline()&&!((k.is_inline_element||k.is_unformatted)&&k.parent.is_inline_element)&&(k.parent.multiline_content=!0)};var _=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],C=["a","audio","del","ins","map","noscript","video"];return v.prototype._do_optional_end_element=function(x){var k=null;if(!(x.is_empty_element||!x.is_start_tag||!x.parent)){if(x.tag_name==="body")k=k||this._tag_stack.try_pop("head");else if(x.tag_name==="li")k=k||this._tag_stack.try_pop("li",["ol","ul"]);else if(x.tag_name==="dd"||x.tag_name==="dt")k=k||this._tag_stack.try_pop("dt",["dl"]),k=k||this._tag_stack.try_pop("dd",["dl"]);else if(x.parent.tag_name==="p"&&_.indexOf(x.tag_name)!==-1){var A=x.parent.parent;(!A||C.indexOf(A.tag_name)===-1)&&(k=k||this._tag_stack.try_pop("p"))}else x.tag_name==="rp"||x.tag_name==="rt"?(k=k||this._tag_stack.try_pop("rt",["ruby","rtc"]),k=k||this._tag_stack.try_pop("rp",["ruby","rtc"])):x.tag_name==="optgroup"?k=k||this._tag_stack.try_pop("optgroup",["select"]):x.tag_name==="option"?k=k||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):x.tag_name==="colgroup"?k=k||this._tag_stack.try_pop("caption",["table"]):x.tag_name==="thead"?(k=k||this._tag_stack.try_pop("caption",["table"]),k=k||this._tag_stack.try_pop("colgroup",["table"])):x.tag_name==="tbody"||x.tag_name==="tfoot"?(k=k||this._tag_stack.try_pop("caption",["table"]),k=k||this._tag_stack.try_pop("colgroup",["table"]),k=k||this._tag_stack.try_pop("thead",["table"]),k=k||this._tag_stack.try_pop("tbody",["table"])):x.tag_name==="tr"?(k=k||this._tag_stack.try_pop("caption",["table"]),k=k||this._tag_stack.try_pop("colgroup",["table"]),k=k||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(x.tag_name==="th"||x.tag_name==="td")&&(k=k||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),k=k||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return x.parent=this._tag_stack.get_parser_token(),k}},C0.Beautifier=v,C0}var ZE;function wse(){if(ZE)return Rf;ZE=1;var t=_se().Beautifier,e=FL().Options;function n(r,i,o,s){var l=new t(r,i,o,s);return l.beautify()}return bse.exports=n,Rf.defaultOptions=function(){return new e},Rf}var QE;function kse(){if(QE)return Jc;QE=1;var t=mse(),e=yse(),n=wse();function r(i,o,s,l){return s=s||t,l=l||e,n(i,o,s,l)}return r.defaultOptions=n.defaultOptions,Jc.js=t,Jc.css=e,Jc.html=r,Jc}(function(t){function e(n,r,i){var o=function(s,l){return n.js_beautify(s,l)};return o.js=n.js_beautify,o.css=r.css_beautify,o.html=i.html_beautify,o.js_beautify=n.js_beautify,o.css_beautify=r.css_beautify,o.html_beautify=i.html_beautify,o}(function(n){var r=kse();r.js_beautify=r.js,r.css_beautify=r.css,r.html_beautify=r.html,n.exports=e(r,r,r)})(t)})(cse);const xse=v1;var eA={},tA;function Sse(){return tA||(tA=1,function(t,e){(function(n){n(Mr())})(function(n){n.overlayMode=function(r,i,o){return{startState:function(){return{base:n.startState(r),overlay:n.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(s){return{base:n.copyState(r,s.base),overlay:n.copyState(i,s.overlay),basePos:s.basePos,baseCur:null,overlayPos:s.overlayPos,overlayCur:null}},token:function(s,l){return(s!=l.streamSeen||Math.min(l.basePos,l.overlayPos)<s.start)&&(l.streamSeen=s,l.basePos=l.overlayPos=s.start),s.start==l.basePos&&(l.baseCur=r.token(s,l.base),l.basePos=s.pos),s.start==l.overlayPos&&(s.pos=s.start,l.overlayCur=i.token(s,l.overlay),l.overlayPos=s.pos),s.pos=Math.min(l.basePos,l.overlayPos),l.overlayCur==null?l.baseCur:l.baseCur!=null&&l.overlay.combineTokens||o&&l.overlay.combineTokens==null?l.baseCur+" "+l.overlayCur:l.overlayCur},indent:r.indent&&function(s,l,u){return r.indent(s.base,l,u)},electricChars:r.electricChars,innerMode:function(s){return{state:s.base,mode:r}},blankLine:function(s){var l,u;return r.blankLine&&(l=r.blankLine(s.base)),i.blankLine&&(u=i.blankLine(s.overlay)),u==null?l:o&&l!=null?l+" "+u:u}}}})}()),eA}var nA={},rA;function VL(){return rA||(rA=1,function(t,e){(function(n){n(Mr())})(function(n){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(o,s){var l=o.indentUnit,u={},f=s.htmlMode?r:i;for(var d in f)u[d]=f[d];for(var d in s)u[d]=s[d];var m,v;function y(D,ae){function ce(qe){return ae.tokenize=qe,qe(D,ae)}var ve=D.next();if(ve=="<")return D.eat("!")?D.eat("[")?D.match("CDATA[")?ce(x("atom","]]>")):null:D.match("--")?ce(x("comment","-->")):D.match("DOCTYPE",!0,!0)?(D.eatWhile(/[\w\._\-]/),ce(k(1))):null:D.eat("?")?(D.eatWhile(/[\w\._\-]/),ae.tokenize=x("meta","?>"),"meta"):(m=D.eat("/")?"closeTag":"openTag",ae.tokenize=_,"tag bracket");if(ve=="&"){var ze;return D.eat("#")?D.eat("x")?ze=D.eatWhile(/[a-fA-F\d]/)&&D.eat(";"):ze=D.eatWhile(/[\d]/)&&D.eat(";"):ze=D.eatWhile(/[\w\.\-:]/)&&D.eat(";"),ze?"atom":"error"}else return D.eatWhile(/[^&<]/),null}y.isInText=!0;function _(D,ae){var ce=D.next();if(ce==">"||ce=="/"&&D.eat(">"))return ae.tokenize=y,m=ce==">"?"endTag":"selfcloseTag","tag bracket";if(ce=="=")return m="equals",null;if(ce=="<"){ae.tokenize=y,ae.state=I,ae.tagName=ae.tagStart=null;var ve=ae.tokenize(D,ae);return ve?ve+" tag error":"tag error"}else return/[\'\"]/.test(ce)?(ae.tokenize=C(ce),ae.stringStartCol=D.column(),ae.tokenize(D,ae)):(D.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function C(D){var ae=function(ce,ve){for(;!ce.eol();)if(ce.next()==D){ve.tokenize=_;break}return"string"};return ae.isInAttribute=!0,ae}function x(D,ae){return function(ce,ve){for(;!ce.eol();){if(ce.match(ae)){ve.tokenize=y;break}ce.next()}return D}}function k(D){return function(ae,ce){for(var ve;(ve=ae.next())!=null;){if(ve=="<")return ce.tokenize=k(D+1),ce.tokenize(ae,ce);if(ve==">")if(D==1){ce.tokenize=y;break}else return ce.tokenize=k(D-1),ce.tokenize(ae,ce)}return"meta"}}function A(D){return D&&D.toLowerCase()}function L(D,ae,ce){this.prev=D.context,this.tagName=ae||"",this.indent=D.indented,this.startOfLine=ce,(u.doNotIndent.hasOwnProperty(ae)||D.context&&D.context.noIndent)&&(this.noIndent=!0)}function E(D){D.context&&(D.context=D.context.prev)}function H(D,ae){for(var ce;;){if(!D.context||(ce=D.context.tagName,!u.contextGrabbers.hasOwnProperty(A(ce))||!u.contextGrabbers[A(ce)].hasOwnProperty(A(ae))))return;E(D)}}function I(D,ae,ce){return D=="openTag"?(ce.tagStart=ae.column(),q):D=="closeTag"?P:I}function q(D,ae,ce){return D=="word"?(ce.tagName=ae.current(),v="tag",R):u.allowMissingTagName&&D=="endTag"?(v="tag bracket",R(D,ae,ce)):(v="error",q)}function P(D,ae,ce){if(D=="word"){var ve=ae.current();return ce.context&&ce.context.tagName!=ve&&u.implicitlyClosed.hasOwnProperty(A(ce.context.tagName))&&E(ce),ce.context&&ce.context.tagName==ve||u.matchClosing===!1?(v="tag",z):(v="tag error",w)}else return u.allowMissingTagName&&D=="endTag"?(v="tag bracket",z(D,ae,ce)):(v="error",w)}function z(D,ae,ce){return D!="endTag"?(v="error",z):(E(ce),I)}function w(D,ae,ce){return v="error",z(D,ae,ce)}function R(D,ae,ce){if(D=="word")return v="attribute",U;if(D=="endTag"||D=="selfcloseTag"){var ve=ce.tagName,ze=ce.tagStart;return ce.tagName=ce.tagStart=null,D=="selfcloseTag"||u.autoSelfClosers.hasOwnProperty(A(ve))?H(ce,ve):(H(ce,ve),ce.context=new L(ce,ve,ze==ce.indented)),I}return v="error",R}function U(D,ae,ce){return D=="equals"?K:(u.allowMissing||(v="error"),R(D,ae,ce))}function K(D,ae,ce){return D=="string"?oe:D=="word"&&u.allowUnquoted?(v="string",R):(v="error",R(D,ae,ce))}function oe(D,ae,ce){return D=="string"?oe:R(D,ae,ce)}return{startState:function(D){var ae={tokenize:y,state:I,indented:D||0,tagName:null,tagStart:null,context:null};return D!=null&&(ae.baseIndent=D),ae},token:function(D,ae){if(!ae.tagName&&D.sol()&&(ae.indented=D.indentation()),D.eatSpace())return null;m=null;var ce=ae.tokenize(D,ae);return(ce||m)&&ce!="comment"&&(v=null,ae.state=ae.state(m||ce,D,ae),v&&(ce=v=="error"?ce+" error":v)),ce},indent:function(D,ae,ce){var ve=D.context;if(D.tokenize.isInAttribute)return D.tagStart==D.indented?D.stringStartCol+1:D.indented+l;if(ve&&ve.noIndent)return n.Pass;if(D.tokenize!=_&&D.tokenize!=y)return ce?ce.match(/^(\s*)/)[0].length:0;if(D.tagName)return u.multilineTagIndentPastTag!==!1?D.tagStart+D.tagName.length+2:D.tagStart+l*(u.multilineTagIndentFactor||1);if(u.alignCDATA&&/<!\[CDATA\[/.test(ae))return 0;var ze=ae&&/^<(\/)?([\w_:\.-]*)/.exec(ae);if(ze&&ze[1])for(;ve;)if(ve.tagName==ze[2]){ve=ve.prev;break}else if(u.implicitlyClosed.hasOwnProperty(A(ve.tagName)))ve=ve.prev;else break;else if(ze)for(;ve;){var qe=u.contextGrabbers[A(ve.tagName)];if(qe&&qe.hasOwnProperty(A(ze[2])))ve=ve.prev;else break}for(;ve&&ve.prev&&!ve.startOfLine;)ve=ve.prev;return ve?ve.indent+l:D.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:u.htmlMode?"html":"xml",helperType:u.htmlMode?"html":"xml",skipAttribute:function(D){D.state==K&&(D.state=R)},xmlCurrentTag:function(D){return D.tagName?{name:D.tagName,close:D.type=="closeTag"}:null},xmlCurrentContext:function(D){for(var ae=[],ce=D.context;ce;ce=ce.prev)ae.push(ce.tagName);return ae.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),nA}var iA={},oA;function Gw(){return oA||(oA=1,function(t,e){(function(n){n(Mr())})(function(n){n.defineMode("javascript",function(r,i){var o=r.indentUnit,s=i.statementIndent,l=i.jsonld,u=i.json||l,f=i.trackScope!==!1,d=i.typescript,m=i.wordCharacters||/[\w$\xa1-\uffff]/,v=function(){function V(Cn){return{type:Cn,style:"keyword"}}var ne=V("keyword a"),se=V("keyword b"),we=V("keyword c"),ft=V("keyword d"),At=V("operator"),It={type:"atom",style:"atom"};return{if:V("if"),while:ne,with:ne,else:se,do:se,try:se,finally:se,return:ft,break:ft,continue:ft,new:V("new"),delete:we,void:we,throw:we,debugger:V("debugger"),var:V("var"),const:V("var"),let:V("var"),function:V("function"),catch:V("catch"),for:V("for"),switch:V("switch"),case:V("case"),default:V("default"),in:At,typeof:At,instanceof:At,true:It,false:It,null:It,undefined:It,NaN:It,Infinity:It,this:V("this"),class:V("class"),super:V("atom"),yield:we,export:V("export"),import:V("import"),extends:we,await:we}}(),y=/[+\-*&%=<>!?|~^@]/,_=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function C(V){for(var ne=!1,se,we=!1;(se=V.next())!=null;){if(!ne){if(se=="/"&&!we)return;se=="["?we=!0:we&&se=="]"&&(we=!1)}ne=!ne&&se=="\\"}}var x,k;function A(V,ne,se){return x=V,k=se,ne}function L(V,ne){var se=V.next();if(se=='"'||se=="'")return ne.tokenize=E(se),ne.tokenize(V,ne);if(se=="."&&V.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return A("number","number");if(se=="."&&V.match(".."))return A("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(se))return A(se);if(se=="="&&V.eat(">"))return A("=>","operator");if(se=="0"&&V.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return A("number","number");if(/\d/.test(se))return V.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),A("number","number");if(se=="/")return V.eat("*")?(ne.tokenize=H,H(V,ne)):V.eat("/")?(V.skipToEnd(),A("comment","comment")):Xi(V,ne,1)?(C(V),V.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),A("regexp","string-2")):(V.eat("="),A("operator","operator",V.current()));if(se=="`")return ne.tokenize=I,I(V,ne);if(se=="#"&&V.peek()=="!")return V.skipToEnd(),A("meta","meta");if(se=="#"&&V.eatWhile(m))return A("variable","property");if(se=="<"&&V.match("!--")||se=="-"&&V.match("->")&&!/\S/.test(V.string.slice(0,V.start)))return V.skipToEnd(),A("comment","comment");if(y.test(se))return(se!=">"||!ne.lexical||ne.lexical.type!=">")&&(V.eat("=")?(se=="!"||se=="=")&&V.eat("="):/[<>*+\-|&?]/.test(se)&&(V.eat(se),se==">"&&V.eat(se))),se=="?"&&V.eat(".")?A("."):A("operator","operator",V.current());if(m.test(se)){V.eatWhile(m);var we=V.current();if(ne.lastType!="."){if(v.propertyIsEnumerable(we)){var ft=v[we];return A(ft.type,ft.style,we)}if(we=="async"&&V.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return A("async","keyword",we)}return A("variable","variable",we)}}function E(V){return function(ne,se){var we=!1,ft;if(l&&ne.peek()=="@"&&ne.match(_))return se.tokenize=L,A("jsonld-keyword","meta");for(;(ft=ne.next())!=null&&!(ft==V&&!we);)we=!we&&ft=="\\";return we||(se.tokenize=L),A("string","string")}}function H(V,ne){for(var se=!1,we;we=V.next();){if(we=="/"&&se){ne.tokenize=L;break}se=we=="*"}return A("comment","comment")}function I(V,ne){for(var se=!1,we;(we=V.next())!=null;){if(!se&&(we=="`"||we=="$"&&V.eat("{"))){ne.tokenize=L;break}se=!se&&we=="\\"}return A("quasi","string-2",V.current())}var q="([{}])";function P(V,ne){ne.fatArrowAt&&(ne.fatArrowAt=null);var se=V.string.indexOf("=>",V.start);if(!(se<0)){if(d){var we=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(V.string.slice(V.start,se));we&&(se=we.index)}for(var ft=0,At=!1,It=se-1;It>=0;--It){var Cn=V.string.charAt(It),Jr=q.indexOf(Cn);if(Jr>=0&&Jr<3){if(!ft){++It;break}if(--ft==0){Cn=="("&&(At=!0);break}}else if(Jr>=3&&Jr<6)++ft;else if(m.test(Cn))At=!0;else if(/["'\/`]/.test(Cn))for(;;--It){if(It==0)return;var dt=V.string.charAt(It-1);if(dt==Cn&&V.string.charAt(It-2)!="\\"){It--;break}}else if(At&&!ft){++It;break}}At&&!ft&&(ne.fatArrowAt=It)}}var z={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function w(V,ne,se,we,ft,At){this.indented=V,this.column=ne,this.type=se,this.prev=ft,this.info=At,we!=null&&(this.align=we)}function R(V,ne){if(!f)return!1;for(var se=V.localVars;se;se=se.next)if(se.name==ne)return!0;for(var we=V.context;we;we=we.prev)for(var se=we.vars;se;se=se.next)if(se.name==ne)return!0}function U(V,ne,se,we,ft){var At=V.cc;for(K.state=V,K.stream=ft,K.marked=null,K.cc=At,K.style=ne,V.lexical.hasOwnProperty("align")||(V.lexical.align=!0);;){var It=At.length?At.pop():u?Fe:Ze;if(It(se,we)){for(;At.length&&At[At.length-1].lex;)At.pop()();return K.marked?K.marked:se=="variable"&&R(V,we)?"variable-2":ne}}}var K={state:null,column:null,marked:null,cc:null};function oe(){for(var V=arguments.length-1;V>=0;V--)K.cc.push(arguments[V])}function D(){return oe.apply(null,arguments),!0}function ae(V,ne){for(var se=ne;se;se=se.next)if(se.name==V)return!0;return!1}function ce(V){var ne=K.state;if(K.marked="def",!!f){if(ne.context){if(ne.lexical.info=="var"&&ne.context&&ne.context.block){var se=ve(V,ne.context);if(se!=null){ne.context=se;return}}else if(!ae(V,ne.localVars)){ne.localVars=new yt(V,ne.localVars);return}}i.globalVars&&!ae(V,ne.globalVars)&&(ne.globalVars=new yt(V,ne.globalVars))}}function ve(V,ne){if(ne)if(ne.block){var se=ve(V,ne.prev);return se?se==ne.prev?ne:new qe(se,ne.vars,!0):null}else return ae(V,ne.vars)?ne:new qe(ne.prev,new yt(V,ne.vars),!1);else return null}function ze(V){return V=="public"||V=="private"||V=="protected"||V=="abstract"||V=="readonly"}function qe(V,ne,se){this.prev=V,this.vars=ne,this.block=se}function yt(V,ne){this.name=V,this.next=ne}var mt=new yt("this",new yt("arguments",null));function _t(){K.state.context=new qe(K.state.context,K.state.localVars,!1),K.state.localVars=mt}function bt(){K.state.context=new qe(K.state.context,K.state.localVars,!0),K.state.localVars=null}_t.lex=bt.lex=!0;function Xe(){K.state.localVars=K.state.context.vars,K.state.context=K.state.context.prev}Xe.lex=!0;function Ie(V,ne){var se=function(){var we=K.state,ft=we.indented;if(we.lexical.type=="stat")ft=we.lexical.indented;else for(var At=we.lexical;At&&At.type==")"&&At.align;At=At.prev)ft=At.indented;we.lexical=new w(ft,K.stream.column(),V,null,we.lexical,ne)};return se.lex=!0,se}function Be(){var V=K.state;V.lexical.prev&&(V.lexical.type==")"&&(V.indented=V.lexical.indented),V.lexical=V.lexical.prev)}Be.lex=!0;function Ee(V){function ne(se){return se==V?D():V==";"||se=="}"||se==")"||se=="]"?oe():D(ne)}return ne}function Ze(V,ne){return V=="var"?D(Ie("vardef",ne),Yr,Ee(";"),Be):V=="keyword a"?D(Ie("form"),ie,Ze,Be):V=="keyword b"?D(Ie("form"),Ze,Be):V=="keyword d"?K.stream.match(/^\s*$/,!1)?D():D(Ie("stat"),be,Ee(";"),Be):V=="debugger"?D(Ee(";")):V=="{"?D(Ie("}"),bt,Te,Be,Xe):V==";"?D():V=="if"?(K.state.lexical.info=="else"&&K.state.cc[K.state.cc.length-1]==Be&&K.state.cc.pop()(),D(Ie("form"),ie,Ze,Be,Pl)):V=="function"?D(Yi):V=="for"?D(Ie("form"),bt,Ud,Ze,Xe,Be):V=="class"||d&&ne=="interface"?(K.marked="keyword",D(Ie("form",V=="class"?V:ne),Kd,Be)):V=="variable"?d&&ne=="declare"?(K.marked="keyword",D(Ze)):d&&(ne=="module"||ne=="enum"||ne=="type")&&K.stream.match(/^\s*\w/,!1)?(K.marked="keyword",ne=="enum"?D(Rl):ne=="type"?D(qd,Ee("operator"),me,Ee(";")):D(Ie("form"),Sn,Ee("{"),Ie("}"),Te,Be,Be)):d&&ne=="namespace"?(K.marked="keyword",D(Ie("form"),Fe,Ze,Be)):d&&ne=="abstract"?(K.marked="keyword",D(Ze)):D(Ie("stat"),Q):V=="switch"?D(Ie("form"),ie,Ee("{"),Ie("}","switch"),bt,Te,Be,Be,Xe):V=="case"?D(Fe,Ee(":")):V=="default"?D(Ee(":")):V=="catch"?D(Ie("form"),_t,Ke,Ze,Be,Xe):V=="export"?D(Ie("stat"),fs,Be):V=="import"?D(Ie("stat"),So,Be):V=="async"?D(Ze):ne=="@"?D(Fe,Ze):oe(Ie("stat"),Fe,Ee(";"),Be)}function Ke(V){if(V=="(")return D(Ci,Ee(")"))}function Fe(V,ne){return te(V,ne,!1)}function at(V,ne){return te(V,ne,!0)}function ie(V){return V!="("?oe():D(Ie(")"),be,Ee(")"),Be)}function te(V,ne,se){if(K.state.fatArrowAt==K.stream.start){var we=se?W:N;if(V=="(")return D(_t,Ie(")"),X(Ci,")"),Be,Ee("=>"),we,Xe);if(V=="variable")return oe(_t,Sn,Ee("=>"),we,Xe)}var ft=se?xe:_e;return z.hasOwnProperty(V)?D(ft):V=="function"?D(Yi,ft):V=="class"||d&&ne=="interface"?(K.marked="keyword",D(Ie("form"),cs,Be)):V=="keyword c"||V=="async"?D(se?at:Fe):V=="("?D(Ie(")"),be,Ee(")"),Be,ft):V=="operator"||V=="spread"?D(se?at:Fe):V=="["?D(Ie("]"),Co,Be,ft):V=="{"?de(pe,"}",null,ft):V=="quasi"?oe(G,ft):V=="new"?D(O(se)):D()}function be(V){return V.match(/[;\}\)\],]/)?oe():oe(Fe)}function _e(V,ne){return V==","?D(be):xe(V,ne,!1)}function xe(V,ne,se){var we=se==!1?_e:xe,ft=se==!1?Fe:at;if(V=="=>")return D(_t,se?W:N,Xe);if(V=="operator")return/\+\+|--/.test(ne)||d&&ne=="!"?D(we):d&&ne=="<"&&K.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?D(Ie(">"),X(me,">"),Be,we):ne=="?"?D(Fe,Ee(":"),ft):D(ft);if(V=="quasi")return oe(G,we);if(V!=";"){if(V=="(")return de(at,")","call",we);if(V==".")return D(le,we);if(V=="[")return D(Ie("]"),be,Ee("]"),Be,we);if(d&&ne=="as")return K.marked="keyword",D(me,we);if(V=="regexp")return K.state.lastType=K.marked="operator",K.stream.backUp(K.stream.pos-K.stream.start-1),D(ft)}}function G(V,ne){return V!="quasi"?oe():ne.slice(ne.length-2)!="${"?D(G):D(be,Z)}function Z(V){if(V=="}")return K.marked="string-2",K.state.tokenize=I,D(G)}function N(V){return P(K.stream,K.state),oe(V=="{"?Ze:Fe)}function W(V){return P(K.stream,K.state),oe(V=="{"?Ze:at)}function O(V){return function(ne){return ne=="."?D(V?F:j):ne=="variable"&&d?D(Gt,V?xe:_e):oe(V?at:Fe)}}function j(V,ne){if(ne=="target")return K.marked="keyword",D(_e)}function F(V,ne){if(ne=="target")return K.marked="keyword",D(xe)}function Q(V){return V==":"?D(Be,Ze):oe(_e,Ee(";"),Be)}function le(V){if(V=="variable")return K.marked="property",D()}function pe(V,ne){if(V=="async")return K.marked="property",D(pe);if(V=="variable"||K.style=="keyword"){if(K.marked="property",ne=="get"||ne=="set")return D(ye);var se;return d&&K.state.fatArrowAt==K.stream.start&&(se=K.stream.match(/^\s*:\s*/,!1))&&(K.state.fatArrowAt=K.stream.pos+se[0].length),D(Y)}else{if(V=="number"||V=="string")return K.marked=l?"property":K.style+" property",D(Y);if(V=="jsonld-keyword")return D(Y);if(d&&ze(ne))return K.marked="keyword",D(pe);if(V=="[")return D(Fe,je,Ee("]"),Y);if(V=="spread")return D(at,Y);if(ne=="*")return K.marked="keyword",D(pe);if(V==":")return oe(Y)}}function ye(V){return V!="variable"?oe(Y):(K.marked="property",D(Yi))}function Y(V){if(V==":")return D(at);if(V=="(")return oe(Yi)}function X(V,ne,se){function we(ft,At){if(se?se.indexOf(ft)>-1:ft==","){var It=K.state.lexical;return It.info=="call"&&(It.pos=(It.pos||0)+1),D(function(Cn,Jr){return Cn==ne||Jr==ne?oe():oe(V)},we)}return ft==ne||At==ne?D():se&&se.indexOf(";")>-1?oe(V):D(Ee(ne))}return function(ft,At){return ft==ne||At==ne?D():oe(V,we)}}function de(V,ne,se){for(var we=3;we<arguments.length;we++)K.cc.push(arguments[we]);return D(Ie(ne,se),X(V,ne),Be)}function Te(V){return V=="}"?D():oe(Ze,Te)}function je(V,ne){if(d){if(V==":")return D(me);if(ne=="?")return D(je)}}function he(V,ne){if(d&&(V==":"||ne=="in"))return D(me)}function Ae(V){if(d&&V==":")return K.stream.match(/^\s*\w+\s+is\b/,!1)?D(Fe,Ne,me):D(me)}function Ne(V,ne){if(ne=="is")return K.marked="keyword",D()}function me(V,ne){if(ne=="keyof"||ne=="typeof"||ne=="infer"||ne=="readonly")return K.marked="keyword",D(ne=="typeof"?at:me);if(V=="variable"||ne=="void")return K.marked="type",D(Xt);if(ne=="|"||ne=="&")return D(me);if(V=="string"||V=="number"||V=="atom")return D(Xt);if(V=="[")return D(Ie("]"),X(me,"]",","),Be,Xt);if(V=="{")return D(Ie("}"),ct,Be,Xt);if(V=="(")return D(X(Kt,")"),Je,Xt);if(V=="<")return D(X(me,">"),me);if(V=="quasi")return oe(Tt,Xt)}function Je(V){if(V=="=>")return D(me)}function ct(V){return V.match(/[\}\)\]]/)?D():V==","||V==";"?D(ct):oe(ot,ct)}function ot(V,ne){if(V=="variable"||K.style=="keyword")return K.marked="property",D(ot);if(ne=="?"||V=="number"||V=="string")return D(ot);if(V==":")return D(me);if(V=="[")return D(Ee("variable"),he,Ee("]"),ot);if(V=="(")return oe(Ji,ot);if(!V.match(/[;\}\)\],]/))return D()}function Tt(V,ne){return V!="quasi"?oe():ne.slice(ne.length-2)!="${"?D(Tt):D(me,br)}function br(V){if(V=="}")return K.marked="string-2",K.state.tokenize=I,D(Tt)}function Kt(V,ne){return V=="variable"&&K.stream.match(/^\s*[?:]/,!1)||ne=="?"?D(Kt):V==":"?D(me):V=="spread"?D(Kt):oe(me)}function Xt(V,ne){if(ne=="<")return D(Ie(">"),X(me,">"),Be,Xt);if(ne=="|"||V=="."||ne=="&")return D(me);if(V=="[")return D(me,Ee("]"),Xt);if(ne=="extends"||ne=="implements")return K.marked="keyword",D(me);if(ne=="?")return D(me,Ee(":"),me)}function Gt(V,ne){if(ne=="<")return D(Ie(">"),X(me,">"),Be,Xt)}function Kn(){return oe(me,Gr)}function Gr(V,ne){if(ne=="=")return D(me)}function Yr(V,ne){return ne=="enum"?(K.marked="keyword",D(Rl)):oe(Sn,je,ci,hv)}function Sn(V,ne){if(d&&ze(ne))return K.marked="keyword",D(Sn);if(V=="variable")return ce(ne),D();if(V=="spread")return D(Sn);if(V=="[")return de(dv,"]");if(V=="{")return de(pc,"}")}function pc(V,ne){return V=="variable"&&!K.stream.match(/^\s*:/,!1)?(ce(ne),D(ci)):(V=="variable"&&(K.marked="property"),V=="spread"?D(Sn):V=="}"?oe():V=="["?D(Fe,Ee("]"),Ee(":"),pc):D(Ee(":"),Sn,ci))}function dv(){return oe(Sn,ci)}function ci(V,ne){if(ne=="=")return D(at)}function hv(V){if(V==",")return D(Yr)}function Pl(V,ne){if(V=="keyword b"&&ne=="else")return D(Ie("form","else"),Ze,Be)}function Ud(V,ne){if(ne=="await")return D(Ud);if(V=="(")return D(Ie(")"),mc,Be)}function mc(V){return V=="var"?D(Yr,us):V=="variable"?D(us):oe(us)}function us(V,ne){return V==")"?D():V==";"?D(us):ne=="in"||ne=="of"?(K.marked="keyword",D(Fe,us)):oe(Fe,us)}function Yi(V,ne){if(ne=="*")return K.marked="keyword",D(Yi);if(V=="variable")return ce(ne),D(Yi);if(V=="(")return D(_t,Ie(")"),X(Ci,")"),Be,Ae,Ze,Xe);if(d&&ne=="<")return D(Ie(">"),X(Kn,">"),Be,Yi)}function Ji(V,ne){if(ne=="*")return K.marked="keyword",D(Ji);if(V=="variable")return ce(ne),D(Ji);if(V=="(")return D(_t,Ie(")"),X(Ci,")"),Be,Ae,Xe);if(d&&ne=="<")return D(Ie(">"),X(Kn,">"),Be,Ji)}function qd(V,ne){if(V=="keyword"||V=="variable")return K.marked="type",D(qd);if(ne=="<")return D(Ie(">"),X(Kn,">"),Be)}function Ci(V,ne){return ne=="@"&&D(Fe,Ci),V=="spread"?D(Ci):d&&ze(ne)?(K.marked="keyword",D(Ci)):d&&V=="this"?D(je,ci):oe(Sn,je,ci)}function cs(V,ne){return V=="variable"?Kd(V,ne):Dl(V,ne)}function Kd(V,ne){if(V=="variable")return ce(ne),D(Dl)}function Dl(V,ne){if(ne=="<")return D(Ie(">"),X(Kn,">"),Be,Dl);if(ne=="extends"||ne=="implements"||d&&V==",")return ne=="implements"&&(K.marked="keyword"),D(d?me:Fe,Dl);if(V=="{")return D(Ie("}"),Nr,Be)}function Nr(V,ne){if(V=="async"||V=="variable"&&(ne=="static"||ne=="get"||ne=="set"||d&&ze(ne))&&K.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return K.marked="keyword",D(Nr);if(V=="variable"||K.style=="keyword")return K.marked="property",D(xo,Nr);if(V=="number"||V=="string")return D(xo,Nr);if(V=="[")return D(Fe,je,Ee("]"),xo,Nr);if(ne=="*")return K.marked="keyword",D(Nr);if(d&&V=="(")return oe(Ji,Nr);if(V==";"||V==",")return D(Nr);if(V=="}")return D();if(ne=="@")return D(Fe,Nr)}function xo(V,ne){if(ne=="!"||ne=="?")return D(xo);if(V==":")return D(me,ci);if(ne=="=")return D(at);var se=K.state.lexical.prev,we=se&&se.info=="interface";return oe(we?Ji:Yi)}function fs(V,ne){return ne=="*"?(K.marked="keyword",D(Ge,Ee(";"))):ne=="default"?(K.marked="keyword",D(Fe,Ee(";"))):V=="{"?D(X(Gd,"}"),Ge,Ee(";")):oe(Ze)}function Gd(V,ne){if(ne=="as")return K.marked="keyword",D(Ee("variable"));if(V=="variable")return oe(at,Gd)}function So(V){return V=="string"?D():V=="("?oe(Fe):V=="."?oe(_e):oe(ds,gc,Ge)}function ds(V,ne){return V=="{"?de(ds,"}"):(V=="variable"&&ce(ne),ne=="*"&&(K.marked="keyword"),D(ln))}function gc(V){if(V==",")return D(ds,gc)}function ln(V,ne){if(ne=="as")return K.marked="keyword",D(ds)}function Ge(V,ne){if(ne=="from")return K.marked="keyword",D(Fe)}function Co(V){return V=="]"?D():oe(X(at,"]"))}function Rl(){return oe(Ie("form"),Sn,Ee("{"),Ie("}"),X(fi,"}"),Be,Be)}function fi(){return oe(Sn,ci)}function $t(V,ne){return V.lastType=="operator"||V.lastType==","||y.test(ne.charAt(0))||/[,.]/.test(ne.charAt(0))}function Xi(V,ne,se){return ne.tokenize==L&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(ne.lastType)||ne.lastType=="quasi"&&/\{\s*$/.test(V.string.slice(0,V.pos-(se||0)))}return{startState:function(V){var ne={tokenize:L,lastType:"sof",cc:[],lexical:new w((V||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new qe(null,null,!1),indented:V||0};return i.globalVars&&typeof i.globalVars=="object"&&(ne.globalVars=i.globalVars),ne},token:function(V,ne){if(V.sol()&&(ne.lexical.hasOwnProperty("align")||(ne.lexical.align=!1),ne.indented=V.indentation(),P(V,ne)),ne.tokenize!=H&&V.eatSpace())return null;var se=ne.tokenize(V,ne);return x=="comment"?se:(ne.lastType=x=="operator"&&(k=="++"||k=="--")?"incdec":x,U(ne,se,x,k,V))},indent:function(V,ne){if(V.tokenize==H||V.tokenize==I)return n.Pass;if(V.tokenize!=L)return 0;var se=ne&&ne.charAt(0),we=V.lexical,ft;if(!/^\s*else\b/.test(ne))for(var At=V.cc.length-1;At>=0;--At){var It=V.cc[At];if(It==Be)we=we.prev;else if(It!=Pl&&It!=Xe)break}for(;(we.type=="stat"||we.type=="form")&&(se=="}"||(ft=V.cc[V.cc.length-1])&&(ft==_e||ft==xe)&&!/^[,\.=+\-*:?[\(]/.test(ne));)we=we.prev;s&&we.type==")"&&we.prev.type=="stat"&&(we=we.prev);var Cn=we.type,Jr=se==Cn;return Cn=="vardef"?we.indented+(V.lastType=="operator"||V.lastType==","?we.info.length+1:0):Cn=="form"&&se=="{"?we.indented:Cn=="form"?we.indented+o:Cn=="stat"?we.indented+($t(V,ne)?s||o:0):we.info=="switch"&&!Jr&&i.doubleIndentSwitch!=!1?we.indented+(/^(?:case|default)\b/.test(ne)?o:2*o):we.align?we.column+(Jr?0:1):we.indented+(Jr?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:l,jsonMode:u,expressionAllowed:Xi,skipExpression:function(V){U(V,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),iA}var sA={},aA;function Cse(){return aA||(aA=1,function(t,e){(function(n){n(Mr())})(function(n){n.defineMode("coffeescript",function(r,i){var o="error";function s(w){return new RegExp("^(("+w.join(")|(")+"))\\b")}var l=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,u=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,f=/^[_A-Za-z$][_A-Za-z$0-9]*/,d=/^@[_A-Za-z$][_A-Za-z$0-9]*/,m=s(["and","or","not","is","isnt","in","instanceof","typeof"]),v=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],y=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],_=s(v.concat(y));v=s(v);var C=/^('{3}|\"{3}|['\"])/,x=/^(\/{3}|\/)/,k=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],A=s(k);function L(w,R){if(w.sol()){R.scope.align===null&&(R.scope.align=!1);var U=R.scope.offset;if(w.eatSpace()){var K=w.indentation();return K>U&&R.scope.type=="coffee"?"indent":K<U?"dedent":null}else U>0&&q(w,R)}if(w.eatSpace())return null;var oe=w.peek();if(w.match("####"))return w.skipToEnd(),"comment";if(w.match("###"))return R.tokenize=H,R.tokenize(w,R);if(oe==="#")return w.skipToEnd(),"comment";if(w.match(/^-?[0-9\.]/,!1)){var D=!1;if(w.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(D=!0),w.match(/^-?\d+\.\d*/)&&(D=!0),w.match(/^-?\.\d+/)&&(D=!0),D)return w.peek()=="."&&w.backUp(1),"number";var ae=!1;if(w.match(/^-?0x[0-9a-f]+/i)&&(ae=!0),w.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(ae=!0),w.match(/^-?0(?![\dx])/i)&&(ae=!0),ae)return"number"}if(w.match(C))return R.tokenize=E(w.current(),!1,"string"),R.tokenize(w,R);if(w.match(x)){if(w.current()!="/"||w.match(/^.*\//,!1))return R.tokenize=E(w.current(),!0,"string-2"),R.tokenize(w,R);w.backUp(1)}return w.match(l)||w.match(m)?"operator":w.match(u)?"punctuation":w.match(A)?"atom":w.match(d)||R.prop&&w.match(f)?"property":w.match(_)?"keyword":w.match(f)?"variable":(w.next(),o)}function E(w,R,U){return function(K,oe){for(;!K.eol();)if(K.eatWhile(/[^'"\/\\]/),K.eat("\\")){if(K.next(),R&&K.eol())return U}else{if(K.match(w))return oe.tokenize=L,U;K.eat(/['"\/]/)}return R&&(i.singleLineStringErrors?U=o:oe.tokenize=L),U}}function H(w,R){for(;!w.eol();){if(w.eatWhile(/[^#]/),w.match("###")){R.tokenize=L;break}w.eatWhile("#")}return"comment"}function I(w,R,U){U=U||"coffee";for(var K=0,oe=!1,D=null,ae=R.scope;ae;ae=ae.prev)if(ae.type==="coffee"||ae.type=="}"){K=ae.offset+r.indentUnit;break}U!=="coffee"?(oe=null,D=w.column()+w.current().length):R.scope.align&&(R.scope.align=!1),R.scope={offset:K,type:U,prev:R.scope,align:oe,alignOffset:D}}function q(w,R){if(R.scope.prev)if(R.scope.type==="coffee"){for(var U=w.indentation(),K=!1,oe=R.scope;oe;oe=oe.prev)if(U===oe.offset){K=!0;break}if(!K)return!0;for(;R.scope.prev&&R.scope.offset!==U;)R.scope=R.scope.prev;return!1}else return R.scope=R.scope.prev,!1}function P(w,R){var U=R.tokenize(w,R),K=w.current();K==="return"&&(R.dedent=!0),((K==="->"||K==="=>")&&w.eol()||U==="indent")&&I(w,R);var oe="[({".indexOf(K);if(oe!==-1&&I(w,R,"])}".slice(oe,oe+1)),v.exec(K)&&I(w,R),K=="then"&&q(w,R),U==="dedent"&&q(w,R))return o;if(oe="])}".indexOf(K),oe!==-1){for(;R.scope.type=="coffee"&&R.scope.prev;)R.scope=R.scope.prev;R.scope.type==K&&(R.scope=R.scope.prev)}return R.dedent&&w.eol()&&(R.scope.type=="coffee"&&R.scope.prev&&(R.scope=R.scope.prev),R.dedent=!1),U}var z={startState:function(w){return{tokenize:L,scope:{offset:w||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(w,R){var U=R.scope.align===null&&R.scope;U&&w.sol()&&(U.align=!1);var K=P(w,R);return K&&K!="comment"&&(U&&(U.align=!0),R.prop=K=="punctuation"&&w.current()=="."),K},indent:function(w,R){if(w.tokenize!=L)return 0;var U=w.scope,K=R&&"])}".indexOf(R.charAt(0))>-1;if(K)for(;U.type=="coffee"&&U.prev;)U=U.prev;var oe=K&&U.type===R.charAt(0);return U.align?U.alignOffset-(oe?1:0):(oe?U.prev:U).offset},lineComment:"#",fold:"indent"};return z}),n.defineMIME("application/vnd.coffeescript","coffeescript"),n.defineMIME("text/x-coffeescript","coffeescript"),n.defineMIME("text/coffeescript","coffeescript")})}()),sA}var lA={},uA;function fv(){return uA||(uA=1,function(t,e){(function(n){n(Mr())})(function(n){n.defineMode("css",function(w,R){var U=R.inline;R.propertyKeywords||(R=n.resolveMode("text/css"));var K=w.indentUnit,oe=R.tokenHooks,D=R.documentTypes||{},ae=R.mediaTypes||{},ce=R.mediaFeatures||{},ve=R.mediaValueKeywords||{},ze=R.propertyKeywords||{},qe=R.nonStandardPropertyKeywords||{},yt=R.fontProperties||{},mt=R.counterDescriptors||{},_t=R.colorKeywords||{},bt=R.valueKeywords||{},Xe=R.allowNested,Ie=R.lineComment,Be=R.supportsAtComponent===!0,Ee=w.highlightNonStandardPropertyKeywords!==!1,Ze,Ke;function Fe(O,j){return Ze=j,O}function at(O,j){var F=O.next();if(oe[F]){var Q=oe[F](O,j);if(Q!==!1)return Q}if(F=="@")return O.eatWhile(/[\w\\\-]/),Fe("def",O.current());if(F=="="||(F=="~"||F=="|")&&O.eat("="))return Fe(null,"compare");if(F=='"'||F=="'")return j.tokenize=ie(F),j.tokenize(O,j);if(F=="#")return O.eatWhile(/[\w\\\-]/),Fe("atom","hash");if(F=="!")return O.match(/^\s*\w*/),Fe("keyword","important");if(/\d/.test(F)||F=="."&&O.eat(/\d/))return O.eatWhile(/[\w.%]/),Fe("number","unit");if(F==="-"){if(/[\d.]/.test(O.peek()))return O.eatWhile(/[\w.%]/),Fe("number","unit");if(O.match(/^-[\w\\\-]*/))return O.eatWhile(/[\w\\\-]/),O.match(/^\s*:/,!1)?Fe("variable-2","variable-definition"):Fe("variable-2","variable");if(O.match(/^\w+-/))return Fe("meta","meta")}else return/[,+>*\/]/.test(F)?Fe(null,"select-op"):F=="."&&O.match(/^-?[_a-z][_a-z0-9-]*/i)?Fe("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(F)?Fe(null,F):O.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(O.current())&&(j.tokenize=te),Fe("variable callee","variable")):/[\w\\\-]/.test(F)?(O.eatWhile(/[\w\\\-]/),Fe("property","word")):Fe(null,null)}function ie(O){return function(j,F){for(var Q=!1,le;(le=j.next())!=null;){if(le==O&&!Q){O==")"&&j.backUp(1);break}Q=!Q&&le=="\\"}return(le==O||!Q&&O!=")")&&(F.tokenize=null),Fe("string","string")}}function te(O,j){return O.next(),O.match(/^\s*[\"\')]/,!1)?j.tokenize=null:j.tokenize=ie(")"),Fe(null,"(")}function be(O,j,F){this.type=O,this.indent=j,this.prev=F}function _e(O,j,F,Q){return O.context=new be(F,j.indentation()+(Q===!1?0:K),O.context),F}function xe(O){return O.context.prev&&(O.context=O.context.prev),O.context.type}function G(O,j,F){return W[F.context.type](O,j,F)}function Z(O,j,F,Q){for(var le=Q||1;le>0;le--)F.context=F.context.prev;return G(O,j,F)}function N(O){var j=O.current().toLowerCase();bt.hasOwnProperty(j)?Ke="atom":_t.hasOwnProperty(j)?Ke="keyword":Ke="variable"}var W={};return W.top=function(O,j,F){if(O=="{")return _e(F,j,"block");if(O=="}"&&F.context.prev)return xe(F);if(Be&&/@component/i.test(O))return _e(F,j,"atComponentBlock");if(/^@(-moz-)?document$/i.test(O))return _e(F,j,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(O))return _e(F,j,"atBlock");if(/^@(font-face|counter-style)/i.test(O))return F.stateArg=O,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(O))return"keyframes";if(O&&O.charAt(0)=="@")return _e(F,j,"at");if(O=="hash")Ke="builtin";else if(O=="word")Ke="tag";else{if(O=="variable-definition")return"maybeprop";if(O=="interpolation")return _e(F,j,"interpolation");if(O==":")return"pseudo";if(Xe&&O=="(")return _e(F,j,"parens")}return F.context.type},W.block=function(O,j,F){if(O=="word"){var Q=j.current().toLowerCase();return ze.hasOwnProperty(Q)?(Ke="property","maybeprop"):qe.hasOwnProperty(Q)?(Ke=Ee?"string-2":"property","maybeprop"):Xe?(Ke=j.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ke+=" error","maybeprop")}else return O=="meta"?"block":!Xe&&(O=="hash"||O=="qualifier")?(Ke="error","block"):W.top(O,j,F)},W.maybeprop=function(O,j,F){return O==":"?_e(F,j,"prop"):G(O,j,F)},W.prop=function(O,j,F){if(O==";")return xe(F);if(O=="{"&&Xe)return _e(F,j,"propBlock");if(O=="}"||O=="{")return Z(O,j,F);if(O=="(")return _e(F,j,"parens");if(O=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(j.current()))Ke+=" error";else if(O=="word")N(j);else if(O=="interpolation")return _e(F,j,"interpolation");return"prop"},W.propBlock=function(O,j,F){return O=="}"?xe(F):O=="word"?(Ke="property","maybeprop"):F.context.type},W.parens=function(O,j,F){return O=="{"||O=="}"?Z(O,j,F):O==")"?xe(F):O=="("?_e(F,j,"parens"):O=="interpolation"?_e(F,j,"interpolation"):(O=="word"&&N(j),"parens")},W.pseudo=function(O,j,F){return O=="meta"?"pseudo":O=="word"?(Ke="variable-3",F.context.type):G(O,j,F)},W.documentTypes=function(O,j,F){return O=="word"&&D.hasOwnProperty(j.current())?(Ke="tag",F.context.type):W.atBlock(O,j,F)},W.atBlock=function(O,j,F){if(O=="(")return _e(F,j,"atBlock_parens");if(O=="}"||O==";")return Z(O,j,F);if(O=="{")return xe(F)&&_e(F,j,Xe?"block":"top");if(O=="interpolation")return _e(F,j,"interpolation");if(O=="word"){var Q=j.current().toLowerCase();Q=="only"||Q=="not"||Q=="and"||Q=="or"?Ke="keyword":ae.hasOwnProperty(Q)?Ke="attribute":ce.hasOwnProperty(Q)?Ke="property":ve.hasOwnProperty(Q)?Ke="keyword":ze.hasOwnProperty(Q)?Ke="property":qe.hasOwnProperty(Q)?Ke=Ee?"string-2":"property":bt.hasOwnProperty(Q)?Ke="atom":_t.hasOwnProperty(Q)?Ke="keyword":Ke="error"}return F.context.type},W.atComponentBlock=function(O,j,F){return O=="}"?Z(O,j,F):O=="{"?xe(F)&&_e(F,j,Xe?"block":"top",!1):(O=="word"&&(Ke="error"),F.context.type)},W.atBlock_parens=function(O,j,F){return O==")"?xe(F):O=="{"||O=="}"?Z(O,j,F,2):W.atBlock(O,j,F)},W.restricted_atBlock_before=function(O,j,F){return O=="{"?_e(F,j,"restricted_atBlock"):O=="word"&&F.stateArg=="@counter-style"?(Ke="variable","restricted_atBlock_before"):G(O,j,F)},W.restricted_atBlock=function(O,j,F){return O=="}"?(F.stateArg=null,xe(F)):O=="word"?(F.stateArg=="@font-face"&&!yt.hasOwnProperty(j.current().toLowerCase())||F.stateArg=="@counter-style"&&!mt.hasOwnProperty(j.current().toLowerCase())?Ke="error":Ke="property","maybeprop"):"restricted_atBlock"},W.keyframes=function(O,j,F){return O=="word"?(Ke="variable","keyframes"):O=="{"?_e(F,j,"top"):G(O,j,F)},W.at=function(O,j,F){return O==";"?xe(F):O=="{"||O=="}"?Z(O,j,F):(O=="word"?Ke="tag":O=="hash"&&(Ke="builtin"),"at")},W.interpolation=function(O,j,F){return O=="}"?xe(F):O=="{"||O==";"?Z(O,j,F):(O=="word"?Ke="variable":O!="variable"&&O!="("&&O!=")"&&(Ke="error"),"interpolation")},{startState:function(O){return{tokenize:null,state:U?"block":"top",stateArg:null,context:new be(U?"block":"top",O||0,null)}},token:function(O,j){if(!j.tokenize&&O.eatSpace())return null;var F=(j.tokenize||at)(O,j);return F&&typeof F=="object"&&(Ze=F[1],F=F[0]),Ke=F,Ze!="comment"&&(j.state=W[j.state](Ze,O,j)),Ke},indent:function(O,j){var F=O.context,Q=j&&j.charAt(0),le=F.indent;return F.type=="prop"&&(Q=="}"||Q==")")&&(F=F.prev),F.prev&&(Q=="}"&&(F.type=="block"||F.type=="top"||F.type=="interpolation"||F.type=="restricted_atBlock")?(F=F.prev,le=F.indent):(Q==")"&&(F.type=="parens"||F.type=="atBlock_parens")||Q=="{"&&(F.type=="at"||F.type=="atBlock"))&&(le=Math.max(0,F.indent-K))),le},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Ie,fold:"brace"}});function r(w){for(var R={},U=0;U<w.length;++U)R[w[U].toLowerCase()]=!0;return R}var i=["domain","regexp","url","url-prefix"],o=r(i),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],l=r(s),u=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],f=r(u),d=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],m=r(d),v=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],y=r(v),_=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],C=r(_),x=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],k=r(x),A=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],L=r(A),E=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],H=r(E),I=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],q=r(I),P=i.concat(s).concat(u).concat(d).concat(v).concat(_).concat(E).concat(I);n.registerHelper("hintWords","css",P);function z(w,R){for(var U=!1,K;(K=w.next())!=null;){if(U&&K=="/"){R.tokenize=null;break}U=K=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:o,mediaTypes:l,mediaFeatures:f,mediaValueKeywords:m,propertyKeywords:y,nonStandardPropertyKeywords:C,fontProperties:k,counterDescriptors:L,colorKeywords:H,valueKeywords:q,tokenHooks:{"/":function(w,R){return w.eat("*")?(R.tokenize=z,z(w,R)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:l,mediaFeatures:f,mediaValueKeywords:m,propertyKeywords:y,nonStandardPropertyKeywords:C,colorKeywords:H,valueKeywords:q,fontProperties:k,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(w,R){return w.eat("/")?(w.skipToEnd(),["comment","comment"]):w.eat("*")?(R.tokenize=z,z(w,R)):["operator","operator"]},":":function(w){return w.match(/^\s*\{/,!1)?[null,null]:!1},$:function(w){return w.match(/^[\w-]+/),w.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(w){return w.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:l,mediaFeatures:f,mediaValueKeywords:m,propertyKeywords:y,nonStandardPropertyKeywords:C,colorKeywords:H,valueKeywords:q,fontProperties:k,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(w,R){return w.eat("/")?(w.skipToEnd(),["comment","comment"]):w.eat("*")?(R.tokenize=z,z(w,R)):["operator","operator"]},"@":function(w){return w.eat("{")?[null,"interpolation"]:w.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(w.eatWhile(/[\w\\\-]/),w.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:o,mediaTypes:l,mediaFeatures:f,propertyKeywords:y,nonStandardPropertyKeywords:C,fontProperties:k,counterDescriptors:L,colorKeywords:H,valueKeywords:q,supportsAtComponent:!0,tokenHooks:{"/":function(w,R){return w.eat("*")?(R.tokenize=z,z(w,R)):!1}},name:"css",helperType:"gss"})})}()),lA}var cA={},fA;function Tse(){return fA||(fA=1,function(t,e){(function(n){n(Mr(),fv())})(function(n){n.defineMode("sass",function(r){var i=n.mimeModes["text/css"],o=i.propertyKeywords||{},s=i.colorKeywords||{},l=i.valueKeywords||{},u=i.fontProperties||{};function f(z){return new RegExp("^"+z.join("|"))}var d=["true","false","null","auto"],m=new RegExp("^"+d.join("|")),v=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],y=f(v),_=/^::?[a-zA-Z_][\w\-]*/,C;function x(z){return!z.peek()||z.match(/\s+$/,!1)}function k(z,w){var R=z.peek();return R===")"?(z.next(),w.tokenizer=q,"operator"):R==="("?(z.next(),z.eatSpace(),"operator"):R==="'"||R==='"'?(w.tokenizer=L(z.next()),"string"):(w.tokenizer=L(")",!1),"string")}function A(z,w){return function(R,U){return R.sol()&&R.indentation()<=z?(U.tokenizer=q,q(R,U)):(w&&R.skipTo("*/")?(R.next(),R.next(),U.tokenizer=q):R.skipToEnd(),"comment")}}function L(z,w){w==null&&(w=!0);function R(U,K){var oe=U.next(),D=U.peek(),ae=U.string.charAt(U.pos-2),ce=oe!=="\\"&&D===z||oe===z&&ae!=="\\";return ce?(oe!==z&&w&&U.next(),x(U)&&(K.cursorHalf=0),K.tokenizer=q,"string"):oe==="#"&&D==="{"?(K.tokenizer=E(R),U.next(),"operator"):"string"}return R}function E(z){return function(w,R){return w.peek()==="}"?(w.next(),R.tokenizer=z,"operator"):q(w,R)}}function H(z){if(z.indentCount==0){z.indentCount++;var w=z.scopes[0].offset,R=w+r.indentUnit;z.scopes.unshift({offset:R})}}function I(z){z.scopes.length!=1&&z.scopes.shift()}function q(z,w){var R=z.peek();if(z.match("/*"))return w.tokenizer=A(z.indentation(),!0),w.tokenizer(z,w);if(z.match("//"))return w.tokenizer=A(z.indentation(),!1),w.tokenizer(z,w);if(z.match("#{"))return w.tokenizer=E(q),"operator";if(R==='"'||R==="'")return z.next(),w.tokenizer=L(R),"string";if(w.cursorHalf){if(R==="#"&&(z.next(),z.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))||z.match(/^-?[0-9\.]+/))return x(z)&&(w.cursorHalf=0),"number";if(z.match(/^(px|em|in)\b/))return x(z)&&(w.cursorHalf=0),"unit";if(z.match(m))return x(z)&&(w.cursorHalf=0),"keyword";if(z.match(/^url/)&&z.peek()==="(")return w.tokenizer=k,x(z)&&(w.cursorHalf=0),"atom";if(R==="$")return z.next(),z.eatWhile(/[\w-]/),x(z)&&(w.cursorHalf=0),"variable-2";if(R==="!")return z.next(),w.cursorHalf=0,z.match(/^[\w]+/)?"keyword":"operator";if(z.match(y))return x(z)&&(w.cursorHalf=0),"operator";if(z.eatWhile(/[\w-]/))return x(z)&&(w.cursorHalf=0),C=z.current().toLowerCase(),l.hasOwnProperty(C)?"atom":s.hasOwnProperty(C)?"keyword":o.hasOwnProperty(C)?(w.prevProp=z.current().toLowerCase(),"property"):"tag";if(x(z))return w.cursorHalf=0,null}else{if(R==="-"&&z.match(/^-\w+-/))return"meta";if(R==="."){if(z.next(),z.match(/^[\w-]+/))return H(w),"qualifier";if(z.peek()==="#")return H(w),"tag"}if(R==="#"){if(z.next(),z.match(/^[\w-]+/))return H(w),"builtin";if(z.peek()==="#")return H(w),"tag"}if(R==="$")return z.next(),z.eatWhile(/[\w-]/),"variable-2";if(z.match(/^-?[0-9\.]+/))return"number";if(z.match(/^(px|em|in)\b/))return"unit";if(z.match(m))return"keyword";if(z.match(/^url/)&&z.peek()==="(")return w.tokenizer=k,"atom";if(R==="="&&z.match(/^=[\w-]+/))return H(w),"meta";if(R==="+"&&z.match(/^\+[\w-]+/))return"variable-3";if(R==="@"&&z.match("@extend")&&(z.match(/\s*[\w]/)||I(w)),z.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return H(w),"def";if(R==="@")return z.next(),z.eatWhile(/[\w-]/),"def";if(z.eatWhile(/[\w-]/))if(z.match(/ *: *[\w-\+\$#!\("']/,!1)){C=z.current().toLowerCase();var U=w.prevProp+"-"+C;return o.hasOwnProperty(U)?"property":o.hasOwnProperty(C)?(w.prevProp=C,"property"):u.hasOwnProperty(C)?"property":"tag"}else return z.match(/ *:/,!1)?(H(w),w.cursorHalf=1,w.prevProp=z.current().toLowerCase(),"property"):(z.match(/ *,/,!1)||H(w),"tag");if(R===":")return z.match(_)?"variable-3":(z.next(),w.cursorHalf=1,"operator")}return z.match(y)?"operator":(z.next(),null)}function P(z,w){z.sol()&&(w.indentCount=0);var R=w.tokenizer(z,w),U=z.current();if((U==="@return"||U==="}")&&I(w),R!==null){for(var K=z.pos-U.length,oe=K+r.indentUnit*w.indentCount,D=[],ae=0;ae<w.scopes.length;ae++){var ce=w.scopes[ae];ce.offset<=oe&&D.push(ce)}w.scopes=D}return R}return{startState:function(){return{tokenizer:q,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(z,w){var R=P(z,w);return w.lastToken={style:R,content:z.current()},R},indent:function(z){return z.scopes[0].offset},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"indent"}},"css"),n.defineMIME("text/x-sass","sass")})}()),cA}var dA={},hA;function Ese(){return hA||(hA=1,function(t,e){(function(n){n(Mr())})(function(n){n.defineMode("stylus",function(E){for(var H=E.indentUnit,I="",q=A(r),P=/^(a|b|i|s|col|em)$/i,z=A(l),w=A(u),R=A(m),U=A(d),K=A(i),oe=k(i),D=A(s),ae=A(o),ce=A(f),ve=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,ze=k(v),qe=A(y),yt=new RegExp(/^\-(moz|ms|o|webkit)-/i),mt=A(_),_t="",bt={},Xe,Ie,Be,Ee;I.length<H;)I+=" ";function Ze(Y,X){if(_t=Y.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),X.context.line.firstWord=_t?_t[0].replace(/^\s*/,""):"",X.context.line.indent=Y.indentation(),Xe=Y.peek(),Y.match("//"))return Y.skipToEnd(),["comment","comment"];if(Y.match("/*"))return X.tokenize=Ke,Ke(Y,X);if(Xe=='"'||Xe=="'")return Y.next(),X.tokenize=Fe(Xe),X.tokenize(Y,X);if(Xe=="@")return Y.next(),Y.eatWhile(/[\w\\-]/),["def",Y.current()];if(Xe=="#"){if(Y.next(),Y.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(Y.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return Y.match(yt)?["meta","vendor-prefixes"]:Y.match(/^-?[0-9]?\.?[0-9]/)?(Y.eatWhile(/[a-z%]/i),["number","unit"]):Xe=="!"?(Y.next(),[Y.match(/^(important|optional)/i)?"keyword":"operator","important"]):Xe=="."&&Y.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:Y.match(oe)?(Y.peek()=="("&&(X.tokenize=at),["property","word"]):Y.match(/^[a-z][\w-]*\(/i)?(Y.backUp(1),["keyword","mixin"]):Y.match(/^(\+|-)[a-z][\w-]*\(/i)?(Y.backUp(1),["keyword","block-mixin"]):Y.string.match(/^\s*&/)&&Y.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:Y.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(Y.backUp(1),["variable-3","reference"]):Y.match(/^&{1}\s*$/)?["variable-3","reference"]:Y.match(ze)?["operator","operator"]:Y.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?Y.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!G(Y.current())?(Y.match("."),["variable-2","variable-name"]):["variable-2","word"]:Y.match(ve)?["operator",Y.current()]:/[:;,{}\[\]\(\)]/.test(Xe)?(Y.next(),[null,Xe]):(Y.next(),[null,null])}function Ke(Y,X){for(var de=!1,Te;(Te=Y.next())!=null;){if(de&&Te=="/"){X.tokenize=null;break}de=Te=="*"}return["comment","comment"]}function Fe(Y){return function(X,de){for(var Te=!1,je;(je=X.next())!=null;){if(je==Y&&!Te){Y==")"&&X.backUp(1);break}Te=!Te&&je=="\\"}return(je==Y||!Te&&Y!=")")&&(de.tokenize=null),["string","string"]}}function at(Y,X){return Y.next(),Y.match(/\s*[\"\')]/,!1)?X.tokenize=null:X.tokenize=Fe(")"),[null,"("]}function ie(Y,X,de,Te){this.type=Y,this.indent=X,this.prev=de,this.line=Te||{firstWord:"",indent:0}}function te(Y,X,de,Te){return Te=Te>=0?Te:H,Y.context=new ie(de,X.indentation()+Te,Y.context),de}function be(Y,X){var de=Y.context.indent-H;return X=X||!1,Y.context=Y.context.prev,X&&(Y.context.indent=de),Y.context.type}function _e(Y,X,de){return bt[de.context.type](Y,X,de)}function xe(Y,X,de,Te){for(var je=Te||1;je>0;je--)de.context=de.context.prev;return _e(Y,X,de)}function G(Y){return Y.toLowerCase()in q}function Z(Y){return Y=Y.toLowerCase(),Y in z||Y in ce}function N(Y){return Y.toLowerCase()in qe}function W(Y){return Y.toLowerCase().match(yt)}function O(Y){var X=Y.toLowerCase(),de="variable-2";return G(Y)?de="tag":N(Y)?de="block-keyword":Z(Y)?de="property":X in R||X in mt?de="atom":X=="return"||X in U?de="keyword":Y.match(/^[A-Z]/)&&(de="string"),de}function j(Y,X){return pe(X)&&(Y=="{"||Y=="]"||Y=="hash"||Y=="qualifier")||Y=="block-mixin"}function F(Y,X){return Y=="{"&&X.match(/^\s*\$?[\w-]+/i,!1)}function Q(Y,X){return Y==":"&&X.match(/^[a-z-]+/,!1)}function le(Y){return Y.sol()||Y.string.match(new RegExp("^\\s*"+L(Y.current())))}function pe(Y){return Y.eol()||Y.match(/^\s*$/,!1)}function ye(Y){var X=/^\s*[-_]*[a-z0-9]+[\w-]*/i,de=typeof Y=="string"?Y.match(X):Y.string.match(X);return de?de[0].replace(/^\s*/,""):""}return bt.block=function(Y,X,de){if(Y=="comment"&&le(X)||Y==","&&pe(X)||Y=="mixin")return te(de,X,"block",0);if(F(Y,X))return te(de,X,"interpolation");if(pe(X)&&Y=="]"&&!/^\s*(\.|#|:|\[|\*|&)/.test(X.string)&&!G(ye(X)))return te(de,X,"block",0);if(j(Y,X))return te(de,X,"block");if(Y=="}"&&pe(X))return te(de,X,"block",0);if(Y=="variable-name")return X.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||N(ye(X))?te(de,X,"variableName"):te(de,X,"variableName",0);if(Y=="=")return!pe(X)&&!N(ye(X))?te(de,X,"block",0):te(de,X,"block");if(Y=="*"&&(pe(X)||X.match(/\s*(,|\.|#|\[|:|{)/,!1)))return Ee="tag",te(de,X,"block");if(Q(Y,X))return te(de,X,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(Y))return te(de,X,pe(X)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(Y))return te(de,X,"keyframes");if(/@extends?/.test(Y))return te(de,X,"extend",0);if(Y&&Y.charAt(0)=="@")return X.indentation()>0&&Z(X.current().slice(1))?(Ee="variable-2","block"):/(@import|@require|@charset)/.test(Y)?te(de,X,"block",0):te(de,X,"block");if(Y=="reference"&&pe(X))return te(de,X,"block");if(Y=="(")return te(de,X,"parens");if(Y=="vendor-prefixes")return te(de,X,"vendorPrefixes");if(Y=="word"){var Te=X.current();if(Ee=O(Te),Ee=="property")return le(X)?te(de,X,"block",0):(Ee="atom","block");if(Ee=="tag"){if(/embed|menu|pre|progress|sub|table/.test(Te)&&Z(ye(X))||X.string.match(new RegExp("\\[\\s*"+Te+"|"+Te+"\\s*\\]")))return Ee="atom","block";if(P.test(Te)&&(le(X)&&X.string.match(/=/)||!le(X)&&!X.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!G(ye(X))))return Ee="variable-2",N(ye(X))?"block":te(de,X,"block",0);if(pe(X))return te(de,X,"block")}if(Ee=="block-keyword")return Ee="keyword",X.current(/(if|unless)/)&&!le(X)?"block":te(de,X,"block");if(Te=="return")return te(de,X,"block",0);if(Ee=="variable-2"&&X.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return te(de,X,"block")}return de.context.type},bt.parens=function(Y,X,de){if(Y=="(")return te(de,X,"parens");if(Y==")")return de.context.prev.type=="parens"?be(de):X.string.match(/^[a-z][\w-]*\(/i)&&pe(X)||N(ye(X))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(ye(X))||!X.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&G(ye(X))?te(de,X,"block"):X.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||X.string.match(/^\s*(\(|\)|[0-9])/)||X.string.match(/^\s+[a-z][\w-]*\(/i)||X.string.match(/^\s+[\$-]?[a-z]/i)?te(de,X,"block",0):pe(X)?te(de,X,"block"):te(de,X,"block",0);if(Y&&Y.charAt(0)=="@"&&Z(X.current().slice(1))&&(Ee="variable-2"),Y=="word"){var Te=X.current();Ee=O(Te),Ee=="tag"&&P.test(Te)&&(Ee="variable-2"),(Ee=="property"||Te=="to")&&(Ee="atom")}return Y=="variable-name"?te(de,X,"variableName"):Q(Y,X)?te(de,X,"pseudo"):de.context.type},bt.vendorPrefixes=function(Y,X,de){return Y=="word"?(Ee="property",te(de,X,"block",0)):be(de)},bt.pseudo=function(Y,X,de){return Z(ye(X.string))?xe(Y,X,de):(X.match(/^[a-z-]+/),Ee="variable-3",pe(X)?te(de,X,"block"):be(de))},bt.atBlock=function(Y,X,de){if(Y=="(")return te(de,X,"atBlock_parens");if(j(Y,X))return te(de,X,"block");if(F(Y,X))return te(de,X,"interpolation");if(Y=="word"){var Te=X.current().toLowerCase();if(/^(only|not|and|or)$/.test(Te)?Ee="keyword":K.hasOwnProperty(Te)?Ee="tag":ae.hasOwnProperty(Te)?Ee="attribute":D.hasOwnProperty(Te)?Ee="property":w.hasOwnProperty(Te)?Ee="string-2":Ee=O(X.current()),Ee=="tag"&&pe(X))return te(de,X,"block")}return Y=="operator"&&/^(not|and|or)$/.test(X.current())&&(Ee="keyword"),de.context.type},bt.atBlock_parens=function(Y,X,de){if(Y=="{"||Y=="}")return de.context.type;if(Y==")")return pe(X)?te(de,X,"block"):te(de,X,"atBlock");if(Y=="word"){var Te=X.current().toLowerCase();return Ee=O(Te),/^(max|min)/.test(Te)&&(Ee="property"),Ee=="tag"&&(P.test(Te)?Ee="variable-2":Ee="atom"),de.context.type}return bt.atBlock(Y,X,de)},bt.keyframes=function(Y,X,de){return X.indentation()=="0"&&(Y=="}"&&le(X)||Y=="]"||Y=="hash"||Y=="qualifier"||G(X.current()))?xe(Y,X,de):Y=="{"?te(de,X,"keyframes"):Y=="}"?le(X)?be(de,!0):te(de,X,"keyframes"):Y=="unit"&&/^[0-9]+\%$/.test(X.current())?te(de,X,"keyframes"):Y=="word"&&(Ee=O(X.current()),Ee=="block-keyword")?(Ee="keyword",te(de,X,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(Y)?te(de,X,pe(X)?"block":"atBlock"):Y=="mixin"?te(de,X,"block",0):de.context.type},bt.interpolation=function(Y,X,de){return Y=="{"&&be(de)&&te(de,X,"block"),Y=="}"?X.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||X.string.match(/^\s*[a-z]/i)&&G(ye(X))?te(de,X,"block"):!X.string.match(/^(\{|\s*\&)/)||X.match(/\s*[\w-]/,!1)?te(de,X,"block",0):te(de,X,"block"):Y=="variable-name"?te(de,X,"variableName",0):(Y=="word"&&(Ee=O(X.current()),Ee=="tag"&&(Ee="atom")),de.context.type)},bt.extend=function(Y,X,de){return Y=="["||Y=="="?"extend":Y=="]"?be(de):Y=="word"?(Ee=O(X.current()),"extend"):be(de)},bt.variableName=function(Y,X,de){return Y=="string"||Y=="["||Y=="]"||X.current().match(/^(\.|\$)/)?(X.current().match(/^\.[\w-]+/i)&&(Ee="variable-2"),"variableName"):xe(Y,X,de)},{startState:function(Y){return{tokenize:null,state:"block",context:new ie("block",Y||0,null)}},token:function(Y,X){return!X.tokenize&&Y.eatSpace()?null:(Ie=(X.tokenize||Ze)(Y,X),Ie&&typeof Ie=="object"&&(Be=Ie[1],Ie=Ie[0]),Ee=Ie,X.state=bt[X.state](Be,Y,X),Ee)},indent:function(Y,X,de){var Te=Y.context,je=X&&X.charAt(0),he=Te.indent,Ae=ye(X),Ne=de.match(/^\s*/)[0].replace(/\t/g,I).length,me=Y.context.prev?Y.context.prev.line.firstWord:"",Je=Y.context.prev?Y.context.prev.line.indent:Ne;return Te.prev&&(je=="}"&&(Te.type=="block"||Te.type=="atBlock"||Te.type=="keyframes")||je==")"&&(Te.type=="parens"||Te.type=="atBlock_parens")||je=="{"&&Te.type=="at")?he=Te.indent-H:/(\})/.test(je)||(/@|\$|\d/.test(je)||/^\{/.test(X)||/^\s*\/(\/|\*)/.test(X)||/^\s*\/\*/.test(me)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(X)||/^(\+|-)?[a-z][\w-]*\(/i.test(X)||/^return/.test(X)||N(Ae)?he=Ne:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(je)||G(Ae)?/\,\s*$/.test(me)?he=Je:/^\s+/.test(de)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(me)||G(me))?he=Ne<=Je?Je:Je+H:he=Ne:!/,\s*$/.test(de)&&(W(Ae)||Z(Ae))&&(N(me)?he=Ne<=Je?Je:Je+H:/^\{/.test(me)?he=Ne<=Je?Ne:Je+H:W(me)||Z(me)?he=Ne>=Je?Je:Ne:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(me)||/=\s*$/.test(me)||G(me)||/^\$[\w-\.\[\]\'\"]/.test(me)?he=Je+H:he=Ne)),he},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"indent"}});var r=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],i=["domain","regexp","url-prefix","url"],o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","dynamic-range","video-dynamic-range"],l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],u=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],d=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],m=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","high","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","standard","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],v=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],y=["for","if","else","unless","from","to"],_=["null","true","false","href","title","type","not-allowed","readonly","disabled"],C=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],x=r.concat(i,o,s,l,u,d,m,f,v,y,_,C);function k(E){return E=E.sort(function(H,I){return I>H}),new RegExp("^(("+E.join(")|(")+"))\\b")}function A(E){for(var H={},I=0;I<E.length;++I)H[E[I]]=!0;return H}function L(E){return E.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}n.registerHelper("hintWords","stylus",x),n.defineMIME("text/x-styl","stylus")})}()),dA}var pA={},mA={},gA;function Ase(){return gA||(gA=1,function(t,e){(function(n){n(Mr(),VL(),Gw(),fv())})(function(n){var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(m,v,y){var _=m.current(),C=_.search(v);return C>-1?m.backUp(_.length-C):_.match(/<\/?$/)&&(m.backUp(_.length),m.match(v,!1)||m.match(_)),y}var o={};function s(m){var v=o[m];return v||(o[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function l(m,v){var y=m.match(s(v));return y?/^\s*(.*?)\s*$/.exec(y[2])[1]:""}function u(m,v){return new RegExp((v?"^":"")+"</\\s*"+m+"\\s*>","i")}function f(m,v){for(var y in m)for(var _=v[y]||(v[y]=[]),C=m[y],x=C.length-1;x>=0;x--)_.unshift(C[x])}function d(m,v){for(var y=0;y<m.length;y++){var _=m[y];if(!_[0]||_[1].test(l(v,_[0])))return _[2]}}n.defineMode("htmlmixed",function(m,v){var y=n.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:v.multilineTagIndentFactor,multilineTagIndentPastTag:v.multilineTagIndentPastTag,allowMissingTagName:v.allowMissingTagName}),_={},C=v&&v.tags,x=v&&v.scriptTypes;if(f(r,_),C&&f(C,_),x)for(var k=x.length-1;k>=0;k--)_.script.unshift(["type",x[k].matches,x[k].mode]);function A(L,E){var H=y.token(L,E.htmlState),I=/\btag\b/.test(H),q;if(I&&!/[<>\s\/]/.test(L.current())&&(q=E.htmlState.tagName&&E.htmlState.tagName.toLowerCase())&&_.hasOwnProperty(q))E.inTag=q+" ";else if(E.inTag&&I&&/>$/.test(L.current())){var P=/^([\S]+) (.*)/.exec(E.inTag);E.inTag=null;var z=L.current()==">"&&d(_[P[1]],P[2]),w=n.getMode(m,z),R=u(P[1],!0),U=u(P[1],!1);E.token=function(K,oe){return K.match(R,!1)?(oe.token=A,oe.localState=oe.localMode=null,null):i(K,U,oe.localMode.token(K,oe.localState))},E.localMode=w,E.localState=n.startState(w,y.indent(E.htmlState,"",""))}else E.inTag&&(E.inTag+=L.current(),L.eol()&&(E.inTag+=" "));return H}return{startState:function(){var L=n.startState(y);return{token:A,inTag:null,localMode:null,localState:null,htmlState:L}},copyState:function(L){var E;return L.localState&&(E=n.copyState(L.localMode,L.localState)),{token:L.token,inTag:L.inTag,localMode:L.localMode,localState:E,htmlState:n.copyState(y,L.htmlState)}},token:function(L,E){return E.token(L,E)},indent:function(L,E,H){return!L.localMode||/^\s*<\//.test(E)?y.indent(L.htmlState,E,H):L.localMode.indent?L.localMode.indent(L.localState,E,H):n.Pass},innerMode:function(L){return{state:L.localState||L.htmlState,mode:L.localMode||y}}}},"xml","javascript","css"),n.defineMIME("text/html","htmlmixed")})}()),mA}var vA;function Ose(){return vA||(vA=1,function(t,e){(function(n){n(Mr(),Gw(),fv(),Ase())})(function(n){n.defineMode("pug",function(r){var i="keyword",o="meta",s="builtin",l="qualifier",u={"{":"}","(":")","[":"]"},f=n.getMode(r,"javascript");function d(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=n.startState(f),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}d.prototype.copy=function(){var G=new d;return G.javaScriptLine=this.javaScriptLine,G.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,G.javaScriptArguments=this.javaScriptArguments,G.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,G.isInterpolating=this.isInterpolating,G.interpolationNesting=this.interpolationNesting,G.jsState=n.copyState(f,this.jsState),G.innerMode=this.innerMode,this.innerMode&&this.innerState&&(G.innerState=n.copyState(this.innerMode,this.innerState)),G.restOfLine=this.restOfLine,G.isIncludeFiltered=this.isIncludeFiltered,G.isEach=this.isEach,G.lastTag=this.lastTag,G.scriptType=this.scriptType,G.isAttrs=this.isAttrs,G.attrsNest=this.attrsNest.slice(),G.inAttributeName=this.inAttributeName,G.attributeIsType=this.attributeIsType,G.attrValue=this.attrValue,G.indentOf=this.indentOf,G.indentToken=this.indentToken,G.innerModeForLine=this.innerModeForLine,G};function m(G,Z){if(G.sol()&&(Z.javaScriptLine=!1,Z.javaScriptLineExcludesColon=!1),Z.javaScriptLine){if(Z.javaScriptLineExcludesColon&&G.peek()===":"){Z.javaScriptLine=!1,Z.javaScriptLineExcludesColon=!1;return}var N=f.token(G,Z.jsState);return G.eol()&&(Z.javaScriptLine=!1),N||!0}}function v(G,Z){if(Z.javaScriptArguments){if(Z.javaScriptArgumentsDepth===0&&G.peek()!=="("){Z.javaScriptArguments=!1;return}if(G.peek()==="("?Z.javaScriptArgumentsDepth++:G.peek()===")"&&Z.javaScriptArgumentsDepth--,Z.javaScriptArgumentsDepth===0){Z.javaScriptArguments=!1;return}var N=f.token(G,Z.jsState);return N||!0}}function y(G){if(G.match(/^yield\b/))return"keyword"}function _(G){if(G.match(/^(?:doctype) *([^\n]+)?/))return o}function C(G,Z){if(G.match("#{"))return Z.isInterpolating=!0,Z.interpolationNesting=0,"punctuation"}function x(G,Z){if(Z.isInterpolating){if(G.peek()==="}"){if(Z.interpolationNesting--,Z.interpolationNesting<0)return G.next(),Z.isInterpolating=!1,"punctuation"}else G.peek()==="{"&&Z.interpolationNesting++;return f.token(G,Z.jsState)||!0}}function k(G,Z){if(G.match(/^case\b/))return Z.javaScriptLine=!0,i}function A(G,Z){if(G.match(/^when\b/))return Z.javaScriptLine=!0,Z.javaScriptLineExcludesColon=!0,i}function L(G){if(G.match(/^default\b/))return i}function E(G,Z){if(G.match(/^extends?\b/))return Z.restOfLine="string",i}function H(G,Z){if(G.match(/^append\b/))return Z.restOfLine="variable",i}function I(G,Z){if(G.match(/^prepend\b/))return Z.restOfLine="variable",i}function q(G,Z){if(G.match(/^block\b *(?:(prepend|append)\b)?/))return Z.restOfLine="variable",i}function P(G,Z){if(G.match(/^include\b/))return Z.restOfLine="string",i}function z(G,Z){if(G.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&G.match("include"))return Z.isIncludeFiltered=!0,i}function w(G,Z){if(Z.isIncludeFiltered){var N=ze(G,Z);return Z.isIncludeFiltered=!1,Z.restOfLine="string",N}}function R(G,Z){if(G.match(/^mixin\b/))return Z.javaScriptLine=!0,i}function U(G,Z){if(G.match(/^\+([-\w]+)/))return G.match(/^\( *[-\w]+ *=/,!1)||(Z.javaScriptArguments=!0,Z.javaScriptArgumentsDepth=0),"variable";if(G.match("+#{",!1))return G.next(),Z.mixinCallAfter=!0,C(G,Z)}function K(G,Z){if(Z.mixinCallAfter)return Z.mixinCallAfter=!1,G.match(/^\( *[-\w]+ *=/,!1)||(Z.javaScriptArguments=!0,Z.javaScriptArgumentsDepth=0),!0}function oe(G,Z){if(G.match(/^(if|unless|else if|else)\b/))return Z.javaScriptLine=!0,i}function D(G,Z){if(G.match(/^(- *)?(each|for)\b/))return Z.isEach=!0,i}function ae(G,Z){if(Z.isEach){if(G.match(/^ in\b/))return Z.javaScriptLine=!0,Z.isEach=!1,i;if(G.sol()||G.eol())Z.isEach=!1;else if(G.next()){for(;!G.match(/^ in\b/,!1)&&G.next(););return"variable"}}}function ce(G,Z){if(G.match(/^while\b/))return Z.javaScriptLine=!0,i}function ve(G,Z){var N;if(N=G.match(/^(\w(?:[-:\w]*\w)?)\/?/))return Z.lastTag=N[1].toLowerCase(),Z.lastTag==="script"&&(Z.scriptType="application/javascript"),"tag"}function ze(G,Z){if(G.match(/^:([\w\-]+)/)){var N;return r&&r.innerModes&&(N=r.innerModes(G.current().substring(1))),N||(N=G.current().substring(1)),typeof N=="string"&&(N=n.getMode(r,N)),at(G,Z,N),"atom"}}function qe(G,Z){if(G.match(/^(!?=|-)/))return Z.javaScriptLine=!0,"punctuation"}function yt(G){if(G.match(/^#([\w-]+)/))return s}function mt(G){if(G.match(/^\.([\w-]+)/))return l}function _t(G,Z){if(G.peek()=="(")return G.next(),Z.isAttrs=!0,Z.attrsNest=[],Z.inAttributeName=!0,Z.attrValue="",Z.attributeIsType=!1,"punctuation"}function bt(G,Z){if(Z.isAttrs){if(u[G.peek()]&&Z.attrsNest.push(u[G.peek()]),Z.attrsNest[Z.attrsNest.length-1]===G.peek())Z.attrsNest.pop();else if(G.eat(")"))return Z.isAttrs=!1,"punctuation";if(Z.inAttributeName&&G.match(/^[^=,\)!]+/))return(G.peek()==="="||G.peek()==="!")&&(Z.inAttributeName=!1,Z.jsState=n.startState(f),Z.lastTag==="script"&&G.current().trim().toLowerCase()==="type"?Z.attributeIsType=!0:Z.attributeIsType=!1),"attribute";var N=f.token(G,Z.jsState);if(Z.attributeIsType&&N==="string"&&(Z.scriptType=G.current().toString()),Z.attrsNest.length===0&&(N==="string"||N==="variable"||N==="keyword"))try{return Function("","var x "+Z.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),Z.inAttributeName=!0,Z.attrValue="",G.backUp(G.current().length),bt(G,Z)}catch{}return Z.attrValue+=G.current(),N||!0}}function Xe(G,Z){if(G.match(/^&attributes\b/))return Z.javaScriptArguments=!0,Z.javaScriptArgumentsDepth=0,"keyword"}function Ie(G){if(G.sol()&&G.eatSpace())return"indent"}function Be(G,Z){if(G.match(/^ *\/\/(-)?([^\n]*)/))return Z.indentOf=G.indentation(),Z.indentToken="comment","comment"}function Ee(G){if(G.match(/^: */))return"colon"}function Ze(G,Z){if(G.match(/^(?:\| ?| )([^\n]+)/))return"string";if(G.match(/^(<[^\n]*)/,!1))return at(G,Z,"htmlmixed"),Z.innerModeForLine=!0,ie(G,Z,!0)}function Ke(G,Z){if(G.eat(".")){var N=null;return Z.lastTag==="script"&&Z.scriptType.toLowerCase().indexOf("javascript")!=-1?N=Z.scriptType.toLowerCase().replace(/"|'/g,""):Z.lastTag==="style"&&(N="css"),at(G,Z,N),"dot"}}function Fe(G){return G.next(),null}function at(G,Z,N){N=n.mimeModes[N]||N,N=r.innerModes&&r.innerModes(N)||N,N=n.mimeModes[N]||N,N=n.getMode(r,N),Z.indentOf=G.indentation(),N&&N.name!=="null"?Z.innerMode=N:Z.indentToken="string"}function ie(G,Z,N){if(G.indentation()>Z.indentOf||Z.innerModeForLine&&!G.sol()||N)return Z.innerMode?(Z.innerState||(Z.innerState=Z.innerMode.startState?n.startState(Z.innerMode,G.indentation()):{}),G.hideFirstChars(Z.indentOf+2,function(){return Z.innerMode.token(G,Z.innerState)||!0})):(G.skipToEnd(),Z.indentToken);G.sol()&&(Z.indentOf=1/0,Z.indentToken=null,Z.innerMode=null,Z.innerState=null)}function te(G,Z){if(G.sol()&&(Z.restOfLine=""),Z.restOfLine){G.skipToEnd();var N=Z.restOfLine;return Z.restOfLine="",N}}function be(){return new d}function _e(G){return G.copy()}function xe(G,Z){var N=ie(G,Z)||te(G,Z)||x(G,Z)||w(G,Z)||ae(G,Z)||bt(G,Z)||m(G,Z)||v(G,Z)||K(G,Z)||y(G)||_(G)||C(G,Z)||k(G,Z)||A(G,Z)||L(G)||E(G,Z)||H(G,Z)||I(G,Z)||q(G,Z)||P(G,Z)||z(G,Z)||R(G,Z)||U(G,Z)||oe(G,Z)||D(G,Z)||ce(G,Z)||ve(G,Z)||ze(G,Z)||qe(G,Z)||yt(G)||mt(G)||_t(G,Z)||Xe(G,Z)||Ie(G)||Ze(G,Z)||Be(G,Z)||Ee(G)||Ke(G,Z)||Fe(G);return N===!0?null:N}return{startState:be,copyState:_e,token:xe}},"javascript","css","htmlmixed"),n.defineMIME("text/x-pug","pug"),n.defineMIME("text/x-jade","pug")})}()),pA}var yA={},bA={},_A;function Mse(){return _A||(_A=1,function(t,e){(function(n){n(Mr())})(function(n){n.multiplexingMode=function(r){var i=Array.prototype.slice.call(arguments,1);function o(s,l,u,f){if(typeof l=="string"){var d=s.indexOf(l,u);return f&&d>-1?d+l.length:d}var m=l.exec(u?s.slice(u):s);return m?m.index+u+(f?m[0].length:0):-1}return{startState:function(){return{outer:n.startState(r),innerActive:null,inner:null,startingInner:!1}},copyState:function(s){return{outer:n.copyState(r,s.outer),innerActive:s.innerActive,inner:s.innerActive&&n.copyState(s.innerActive.mode,s.inner),startingInner:s.startingInner}},token:function(s,l){if(l.innerActive){var x=l.innerActive,f=s.string;if(!x.close&&s.sol())return l.innerActive=l.inner=null,this.token(s,l);var v=x.close&&!l.startingInner?o(f,x.close,s.pos,x.parseDelimiters):-1;if(v==s.pos&&!x.parseDelimiters)return s.match(x.close),l.innerActive=l.inner=null,x.delimStyle&&x.delimStyle+" "+x.delimStyle+"-close";v>-1&&(s.string=f.slice(0,v));var k=x.mode.token(s,l.inner);return v>-1?s.string=f:s.pos>s.start&&(l.startingInner=!1),v==s.pos&&x.parseDelimiters&&(l.innerActive=l.inner=null),x.innerStyle&&(k?k=k+" "+x.innerStyle:k=x.innerStyle),k}else{for(var u=1/0,f=s.string,d=0;d<i.length;++d){var m=i[d],v=o(f,m.open,s.pos);if(v==s.pos){m.parseDelimiters||s.match(m.open),l.startingInner=!!m.parseDelimiters,l.innerActive=m;var y=0;if(r.indent){var _=r.indent(l.outer,"","");_!==n.Pass&&(y=_)}return l.inner=n.startState(m.mode,y),m.delimStyle&&m.delimStyle+" "+m.delimStyle+"-open"}else v!=-1&&v<u&&(u=v)}u!=1/0&&(s.string=f.slice(0,u));var C=r.token(s,l.outer);return u!=1/0&&(s.string=f),C}},indent:function(s,l,u){var f=s.innerActive?s.innerActive.mode:r;return f.indent?f.indent(s.innerActive?s.inner:s.outer,l,u):n.Pass},blankLine:function(s){var l=s.innerActive?s.innerActive.mode:r;if(l.blankLine&&l.blankLine(s.innerActive?s.inner:s.outer),s.innerActive)s.innerActive.close===`
`&&(s.innerActive=s.inner=null);else for(var u=0;u<i.length;++u){var f=i[u];f.open===`
`&&(s.innerActive=f,s.inner=n.startState(f.mode,l.indent?l.indent(s.outer,"",""):0))}},electricChars:r.electricChars,innerMode:function(s){return s.inner?{state:s.inner,mode:s.innerActive.mode}:{state:s.outer,mode:r}}}}})}()),bA}var wA;function Nse(){return wA||(wA=1,function(t,e){(function(n){n(Mr(),Voe,Mse())})(function(n){n.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),n.defineMode("handlebars",function(r,i){var o=n.getMode(r,"handlebars-tags");return!i||!i.base?o:n.multiplexingMode(n.getMode(r,i.base),{open:"{{",close:/\}\}\}?/,mode:o,parseDelimiters:!0})}),n.defineMIME("text/x-handlebars-template","handlebars")})}()),yA}(function(t,e){(function(n){n(Mr(),Sse(),VL(),Gw(),Cse(),fv(),Tse(),Ese(),Ose(),Nse())})(function(n){var r={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]};n.defineMode("vue-template",function(i,o){var s={token:function(l){if(l.match(/^\{\{.*?\}\}/))return"meta mustache";for(;l.next()&&!l.match("{{",!1););return null}};return n.overlayMode(n.getMode(i,o.backdrop||"text/html"),s)}),n.defineMode("vue",function(i){return n.getMode(i,{name:"htmlmixed",tags:r})},"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),n.defineMIME("script/x-vue","vue"),n.defineMIME("text/x-vue","vue")})})();const Lse={name:"CodeEditor",components:{Codemirror:lse},props:{field:{type:Object,default:null},editor:{type:Object,default:null},visible:{type:Boolean,default:!1},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{proxyValue:"",options:{theme:"material",mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0,indentUnit:4}}},watch:{visible(t){t&&(this.proxyValue=xse.html(this.modelValue,{indent_size:4})),this.resizeHandler()},proxyValue(t){this.$emit("update:modelValue",t)}},created(){this.editor.on("resize",this.resizeHandler.bind(this))},methods:{resizeHandler(){this.visible&&this.$nextTick(()=>{const{width:t,height:e}=this.editor.view.dom.getBoundingClientRect();this.$el.style.width=`${t}px`,this.$el.style.height=`${e}px`})}}};function Ise(t,e,n,r,i,o){const s=ut("Codemirror");return n.visible?(ge(),Ct(s,{key:0,value:i.proxyValue,"onUpdate:value":e[0]||(e[0]=l=>i.proxyValue=l),class:"vui-code-editor",options:i.options},null,8,["value","options"])):gt("",!0)}const Pse=Bt(Lse,[["render",Ise]]),Dse={name:"VizyUserTemplate",props:{template:{type:String,default:""},vizyField:{type:Object,default:()=>{}}},render(){try{return mr(Zf(`<div>${this.template}</div>`),{editor:this.vizyField.editor,vizyField:this.vizyField})}catch(t){console.error(t),console.log("Vue template compile error: %o",{template:this.template});const e=this.t("vizy","Unable to parse custom template.");return mr(Zf(`<div class="vizyblock-invalid"><p class="error">${e}</p></div>`))}}},Rse={name:"VizyInput",components:{EditorContent:AQ,MenuBar:moe,BlockPicker:Doe,CodeEditor:Pse,VizyUserTemplate:Dse},props:{name:{type:String,required:!0,default:""},settings:{type:Object,default:()=>{}},value:{type:[String,Array],required:!0,default:""}},data(){return{isLivePreview:!1,mounted:!1,buttons:["bold","italic"],showCodeEditor:!1,codeEditorHtml:"",editor:null,json:null,html:null,parentToolbarOffset:0,cachedFieldHtml:{},cachedFieldJs:{},renderedJsCache:{},selectedBlockType:null,currentNodeHoverPosition:null}},computed:{jsonContent(){return this.contentToValue(this.json)},toolbarFixed(){return this.settings.vizyConfig.toolbarFixed},isRoot(){return this.settings.isRoot},supportedBlockTypes(){const t=[];return this.settings.blockGroups.forEach(e=>{e.blockTypes.forEach(n=>{t.push(n.id)})}),t},blocksEnabled(){return this.settings.editorMode!=="richText"},richTextEnabled(){return this.settings.editorMode!=="blocks"}},watch:{codeEditorHtml(t){this.editor.chain().setContent(t,!0).run()}},mounted(){this.editor=new EQ({extensions:this.getExtensions(),content:this.valueToContent(this.clone(this.value)),autofocus:!1,onUpdate:()=>{this.json=this.editor.getJSON().content,this.html=this.editor.getHTML()},editorProps:{transformPastedHTML:t=>{if(this.settings.pasteAsPlainText){const e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""}return t},handleDrop:(t,e,n,r)=>!this.selectedBlockType,handleKeyDown:(t,e)=>{if(!this.richTextEnabled)return!["/","Backspace","Delete","Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)},handlePaste:(t,e)=>{if(!this.richTextEnabled)return!0}}}),this.editor.vizyField=this,this.json=this.editor.getJSON().content,this.html=this.editor.getHTML(),this.json.forEach(t=>{if(t.type==="vizyBlock"){const{id:e}=t.attrs,n=gb(this.settings.blocks,{id:e});n&&(this.setCachedFieldHtml(e,n.fieldsHtml),this.setCachedFieldJs(e,n.footHtml))}}),this.$nextTick(()=>{if(this.mounted=!0,this.toolbarFixed){window.addEventListener("scroll",this.updateFixedToolbar),window.addEventListener("resize",this.updateFixedToolbar);const t=document.querySelector(".slideout[data-element-editor].so-visible .so-body");t&&(t.addEventListener("scroll",this.updateFixedToolbarEditor),t.addEventListener("resize",this.updateFixedToolbarEditor)),Garnish.on(Craft.Preview,"open",this.openLivePreviewCallback),Garnish.on(Craft.LivePreview,"enter",this.openLivePreviewCallback),Garnish.on(Craft.Preview,"close",this.closeLivePreviewCallback),Garnish.on(Craft.LivePreview,"exit",this.closeLivePreviewCallback)}this.editor.on("vui:code-editor-toggle",this.setCodeEditor)}),this.getParentInputs(this.$el).forEach(t=>{t.$refs.toolbar&&(this.parentToolbarOffset+=t.$refs.toolbar.$el.offsetHeight)}),this.refreshUnloadData()},created(){this.settings.vizyConfig.buttons&&(this.buttons=this.settings.vizyConfig.buttons)},beforeUnmount(){this.editor.destroy()},methods:{getExtensions(){let t=[WY,sX.configure({color:"#3778eb",width:3}),pX,UY,rX,lee,XY,Gee.configure({suggestion:lre})];const e=Craft.Vizy.Config.getExtensions(),n=[Wee];return this.richTextEnabled&&(t=t.concat(e)),this.blocksEnabled&&(t=t.concat(n)),t=t.concat(ure(this)),t},setCodeEditor(){this.showCodeEditor?this.editor.chain().setContent(this.codeEditorHtml,!0).run():this.codeEditorHtml=this.editor.getHTML(),this.showCodeEditor=!this.showCodeEditor},valueToContent(t){if(!t)return null;if(!Array.isArray(t))try{t=JSON.parse(t)}catch(e){console.log(e)}return t=this.decodeHtml(t),t.length?{type:"doc",content:t}:null},decodeHtml(t){Array.isArray(t)&&(t=JSON.stringify(t));const e=document.createElement("textarea");return e.innerHTML=t,JSON.parse(e.value)},getUserTemplates(t){const e=Craft.Vizy.Config.getTemplates();return Array.isArray(e)?e.map(n=>n.position===t?n.template:"").join(""):!1},contentToValue(t){return t&&Array.isArray(t)&&t.length===1&&t[0].type==="paragraph"&&!t[0].content?null:JSON.stringify(t)},getParsedBlockHtml(t,e){return typeof t=="string"?t.replace(new RegExp(`__VIZY_BLOCK_${this.settings.placeholderKey}__`,"g"),e):""},getCachedFieldHtml(t){let e=this.cachedFieldHtml[t];return typeof e=="string"&&(e=e.replace(/&#(\d+);/g,(n,r)=>String.fromCharCode(r))),this.getParsedBlockHtml(e,t)},setCachedFieldHtml(t,e){this.cachedFieldHtml[t]=e},getCachedFieldJs(t){let e=this.cachedFieldJs[t];typeof e=="string"&&(e=e.replace(/&#(\d+);/g,(r,i)=>String.fromCharCode(i)));let n=this.getParsedBlockHtml(e,t);return this.renderedJsCache[t]&&(n=n.replace(/(superTableInput.addRow.*?;)/g,"null")),this.renderedJsCache[t]=n,n},setCachedFieldJs(t,e){this.cachedFieldJs[t]=e},getBlockSettings(t){return gb(this.settings.blocks,{id:t})||{}},openLivePreviewCallback(){this.isLivePreview=!0;const t=document.querySelector(".lp-editor-container .lp-editor");t&&(t.addEventListener("scroll",this.updateFixedToolbar),t.addEventListener("resize",this.updateFixedToolbar))},closeLivePreviewCallback(){this.isLivePreview=!1},updateFixedToolbar(t){let e=document.querySelector("body.fixed-header #header")?document.querySelector("body.fixed-header #header").offsetHeight:0;this.isLivePreview&&(e=document.querySelector(".lp-editor-container header.flex")?document.querySelector(".lp-editor-container header.flex").offsetHeight-parseFloat(window.getComputedStyle(document.querySelector(".lp-editor-container .lp-editor"),null).getPropertyValue("padding-top")):0),e=e+this.parentToolbarOffset,this.$refs.toolbar&&(this.$refs.toolbar.$el.style.position="sticky",this.$refs.toolbar.$el.style.top=`${this.$el.scrollTop+e}px`)},updateFixedToolbarEditor(t){let e=-24;e=e+this.parentToolbarOffset,this.$refs.toolbar&&(this.$refs.toolbar.$el.style.position="sticky",this.$refs.toolbar.$el.style.top=`${this.$el.scrollTop+e}px`)},getParentInputs(){const t=[];let e=this;for(;e;)e.$options.name==="VizyInput"&&t.push(e),e=e.$parent;return t},refreshUnloadData(){setTimeout(()=>{if(Qn(this.editor,"storage.vizyBlock.isNew"))return;const t=$("form#main-form");if(t.length){const e=t.data("elementEditor");if(e){const n=e.serializeForm(!0);e.lastSerializedValue=n,t.data("initialSerializedValue",n)}}},500)},isFocused(){return this.editor.isFocused&&!this.editor.isActive("vizyBlock")}}},zse={key:1,class:"input text",style:{"margin-top":"20px"}},Bse=["name","value"];function $se(t,e,n,r,i,o){const s=ut("vizy-user-template"),l=ut("menu-bar"),u=ut("code-editor"),f=ut("editor-content"),d=ut("block-picker");return ge(),Se("div",null,[i.editor?(ge(),Se("div",{key:0,class:vt(["vui-rich-text",{"has-focus":o.isFocused()}]),style:oi({"--rows":n.settings.initialRows})},[o.getUserTemplates("beforeMenuBar")?(ge(),Ct(s,{key:0,template:o.getUserTemplates("beforeMenuBar"),"vizy-field":this},null,8,["template"])):gt("",!0),i.buttons.length&&o.richTextEnabled?(ge(),Ct(l,{key:1,ref:"toolbar",buttons:i.buttons,editor:i.editor,field:this},null,8,["buttons","editor"])):gt("",!0),o.getUserTemplates("beforeEditor")?(ge(),Ct(s,{key:2,template:o.getUserTemplates("beforeEditor"),"vizy-field":this},null,8,["template"])):gt("",!0),o.richTextEnabled?(ge(),Ct(u,{key:3,modelValue:i.codeEditorHtml,"onUpdate:modelValue":e[0]||(e[0]=m=>i.codeEditorHtml=m),visible:i.showCodeEditor,editor:i.editor,field:this},null,8,["modelValue","visible","editor"])):gt("",!0),Qe(f,{class:vt([{"code-view":i.showCodeEditor},"vui-editor"]),editor:i.editor},null,8,["class","editor"]),o.blocksEnabled?(ge(),Ct(d,{key:4,editor:i.editor,field:this,"block-groups":n.settings.blockGroups},null,8,["editor","block-groups"])):gt("",!0),o.getUserTemplates("afterEditor")?(ge(),Ct(s,{key:5,template:o.getUserTemplates("afterEditor"),"vizy-field":this},null,8,["template"])):gt("",!0)],6)):gt("",!0),t.$isDebug?(ge(),Se("div",zse,Le(o.jsonContent),1)):gt("",!0),re("input",{type:"hidden",name:n.name,value:o.jsonContent},null,8,Bse)])}const kA=Bt(Rse,[["render",$se]]),y1={data:void 0},Yw=t=>t.reduce((e,n)=>(e[n]=n)&&e,{}),Fo=Yw(["drag","dragend","dragenter","dragleave","dragstart","dragover","drop"]),Hse=Yw(["copy","move","link","none"]),Fse=Yw(["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"]),Vse={props:{draggable:{type:Boolean,default:!0},transferData:{},dropEffect:{validator:t=>t in Hse},effectAllowed:{validator:t=>t in Fse},image:String,imageXOffset:{type:Number,default:0},imageYOffset:{type:Number,default:0},hideImageHtml:{type:Boolean,default:!0},tag:{type:String,default:"div"}},data(){return{dragging:!1}},computed:{events:()=>Fo,scopedData(){return this.dragging&&this.transferData},hideImageStyle:()=>({position:"fixed",top:"-1000px"})},methods:{emitEvent(t,e){const n=e.dataTransfer;if([Fo.dragenter,Fo.dragover].includes(t)&&this.dropEffect&&(n.dropEffect=this.dropEffect),t===Fo.dragstart){if(this.effectAllowed&&(n.effectAllowed=this.effectAllowed),this.image||this.$slots.image||this.$refs.image){let r;this.image?(r=new Image,r.src=this.image):this.$refs.image?r=this.$refs.image:this.$slots.image&&(r=this.$slots.image[0].elm),n.setDragImage&&n.setDragImage(r,this.imageXOffset,this.imageYOffset)}this.transferData!==void 0&&(y1.data=this.transferData,e.dataTransfer.setData("text","")),this.dragging=!0}this.$emit(t,this.transferData,e),t===Fo.dragend&&(y1.data=void 0,this.dragging=!1)}}};function jse(t,e,n,r,i,o){return ge(),Ct(Qs(n.tag),{draggable:n.draggable,onDrag:e[0]||(e[0]=s=>o.emitEvent(o.events.drag,s)),onDragstart:e[1]||(e[1]=s=>o.emitEvent(o.events.dragstart,s)),onDragenter:e[2]||(e[2]=s=>o.emitEvent(o.events.dragenter,s)),onDragleave:e[3]||(e[3]=s=>o.emitEvent(o.events.dragleave,s)),onDragend:e[4]||(e[4]=s=>o.emitEvent(o.events.dragend,s))},{default:Vt(()=>[pn(t.$slots,"default",{transferData:o.scopedData}),n.hideImageHtml?(ge(),Se("div",{key:0,ref:"image",style:oi(o.hideImageStyle)},[pn(t.$slots,"image",{transferData:o.scopedData})],4)):pn(t.$slots,"image",{key:1,transferData:o.scopedData})]),_:3},40,["draggable"])}const Wse=Bt(Vse,[["render",jse]]),Zc=new Set,Use={data(){return{transferData:void 0,isDraggingOver:!1}},props:{tag:{type:String,default:"div"}},computed:{events:()=>Fo,scopedData(){return this.isDraggingOver&&this.transferData}},methods:{emitEvent(t,e){this.transferData=y1.data,this.$emit(t,this.transferData,e),t===Fo.dragenter&&(Zc.size||e.target===this.$el)&&Zc.add(e.target),t===Fo.dragleave&&Zc.delete(e.target),t===Fo.drop&&Zc.clear(),this.isDraggingOver=!!Zc.size}}};function qse(t,e,n,r,i,o){return ge(),Ct(Qs(n.tag),{onDragenter:e[0]||(e[0]=s=>o.emitEvent(o.events.dragenter,s)),onDragleave:e[1]||(e[1]=s=>o.emitEvent(o.events.dragleave,s)),onDragover:e[2]||(e[2]=lt(s=>o.emitEvent(o.events.dragover,s),["prevent"])),onDrop:e[3]||(e[3]=lt(s=>o.emitEvent(o.events.drop,s),["prevent"]))},{default:Vt(()=>[pn(t.$slots,"default",{transferData:o.scopedData})]),_:3},32)}const Kse=Bt(Use,[["render",qse]]),Gse={name:"VizyIconPicker",props:{inputClasses:{type:Object,default:()=>{}},modelValue:{type:Object,default:()=>{}}},emits:["update:modelValue"],data(){return{tippy:null,id:`icon-picker-${Craft.randomString(10)}`,icons:[],search:"",selected:null,isFetching:!1,tippyVisible:!1}},computed:{iconsFiltered(){return Mi(this.icons)?[]:this.icons.reduce((t,e)=>{const n=e.icons.filter(r=>r.label.toLowerCase().includes(this.search.toLowerCase()));return n.length?t.concat({...e,icons:n}):t},[])}},watch:{selected(t){this.$emit("update:modelValue",t)}},created(){this.modelValue&&(this.selected=this.modelValue)},mounted(){const t=this,e=this.$el.querySelector(".js-vui-tippy-template");e.style.display="block",this.tippy=Kr(`#${this.id}`,{content:e,trigger:"focus",allowHTML:!0,arrow:!0,interactive:!0,placement:"bottom-start",theme:"light-border icon-picker",maxWidth:"none",duration:200,zIndex:10,hideOnClick:!1,onCreate(n){t.isFetching=!1,n.popper.style.width="100%"},onShow(n){t.tippyVisible=!0,!(t.isFetching||t.icons.length)&&(t.isFetching=!0,fetch(Craft.getActionUrl("vizy/icons")).then(r=>r.json()).then(r=>{t.icons=r}).catch(r=>{n.setContent(`Request failed. ${r}`)}).finally(()=>{t.isFetching=!1}))},onHide(n){t.isFetching=!1,t.tippyVisible=!1},onHidden(n){t.search=""}})},methods:{select(t){this.selected=t,this.tippy[0].hide()},deleteIcon(){this.selected=null}}},Yse={key:0,class:"vui-icon-input-item"},Jse=["innerHTML"],Xse={class:"vui-icon-input-label"},Zse=["id"],Qse=re("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fal","data-icon":"times",class:"svg-inline--fa fa-times fa-w-10",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[re("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})],-1),eae=[Qse],tae={class:"vui-icons-pane js-vui-tippy-template",style:{display:"none"}},nae={key:0,class:"vui-no-icons"},rae=re("span",{class:"vui-loading"},null,-1),iae=[rae],oae={key:1,class:"vui-icons-groups"},sae={class:"vui-icons-group-name"},aae={class:"vui-icons"},lae=["title","onClick"],uae=["innerHTML"],cae={class:"vui-icon-label"},fae={key:2,class:"vui-no-icons"};function dae(t,e,n,r,i,o){return ge(),Se("div",null,[re("div",{class:vt(["vui-icon-input",{"tippy-visible":i.tippyVisible}])},[i.selected&&!i.tippyVisible?(ge(),Se("div",Yse,[re("div",{class:"vui-icon-input-svg",innerHTML:i.selected.svg},null,8,Jse),re("span",Xse,Le(i.selected.label),1)])):gt("",!0),Ut(re("input",{id:i.id,"onUpdate:modelValue":e[0]||(e[0]=s=>i.search=s),type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",class:vt(n.inputClasses)},null,10,Zse),[[Mn,i.search]]),i.selected?(ge(),Se("button",{key:1,type:"button",class:"vui-icon-input-delete",onClick:e[1]||(e[1]=lt((...s)=>o.deleteIcon&&o.deleteIcon(...s),["prevent"]))},eae)):gt("",!0)],2),re("div",tae,[i.isFetching?(ge(),Se("div",nae,iae)):Object.keys(o.iconsFiltered).length?(ge(),Se("div",oae,[(ge(!0),Se(kt,null,Zt(o.iconsFiltered,(s,l)=>(ge(),Se("div",{key:l,class:"vui-icons-group"},[re("span",sae,Le(s.name),1),re("div",aae,[(ge(!0),Se(kt,null,Zt(s.icons,(u,f)=>(ge(),Se("div",{key:f,class:"vui-icon-wrap",title:`${u.label} (${s.name})`,onClick:lt(d=>o.select(u),["prevent"])},[re("div",{class:"vui-icon-svg",innerHTML:u.svg},null,8,uae),re("span",cae,Le(u.label),1)],8,lae))),128))])]))),128))])):(ge(),Se("div",fae,Le(t.t("vizy","No icons match your query.")),1))])])}const hae=Bt(Gse,[["render",dae]]),pae={name:"FieldLayoutDesigner",props:{layoutUid:{type:String,default:null},fieldId:{type:String,default:null},blockTypeId:{type:String,default:null},modelValue:{type:[Object,Array,String],default:()=>{}}},emits:["update:modelValue"],data(){return{error:!1,errorMessage:"",loading:!1,mounted:!1,proxyValue:{}}},watch:{proxyValue(t){this.$emit("update:modelValue",t)}},created(){this.proxyValue=this.modelValue},mounted(){this.loading=!0;const t=[];this.fieldId&&t.push(this.fieldId);const n=/fields\/edit\/(\d*)$/g.exec(window.location.href);n&&n[1]&&t.push(n[1]);const r={fieldIds:t,layoutUid:this.layoutUid,blockTypeId:this.blockTypeId,layout:this.proxyValue};Craft.sendActionRequest("POST","vizy/field/layout-designer",{data:r}).then(i=>{if(i.data.html)this.$el.innerHTML=i.data.html,Craft.appendBodyHtml(i.data.footHtml),this.watchForChanges(),this.mounted=!0;else throw new Error(i.data)}).catch(i=>{this.error=!0,this.errorMessage=i,this.loading=!1})},methods:{watchForChanges(){const t=y6(this.serializeLayout,150);new MutationObserver(n=>{t()}).observe(this.$el,{childList:!0,attributes:!0,subtree:!0,characterData:!0})},serializeLayout(){this.mounted&&(this.proxyValue=this.$el.querySelector('input[name="fieldLayout"]').value,setTimeout(()=>{this.proxyValue=this.$el.querySelector('input[name="fieldLayout"]').value},400))}}},mae={ref:"fld-container",class:"vui-block-editor-layout"},gae={class:"vui-workspace"},vae={key:0,class:"vui-loading-pane"},yae=re("div",{class:"vui-loading fui-loading-lg"},null,-1),bae=[yae],_ae={key:1,class:"vui-error-pane error"},wae={class:"vui-error-content"},kae=re("span",{"data-icon":"alert"},null,-1),xae=["innerHTML"];function Sae(t,e,n,r,i,o){return ge(),Se("div",mae,[re("div",gae,[i.loading?(ge(),Se("div",vae,bae)):gt("",!0),i.error?(ge(),Se("div",_ae,[re("div",wae,[kae,re("span",{class:"error",innerHTML:i.errorMessage},null,8,xae)])])):gt("",!0)])],512)}const Cae=Bt(pae,[["render",Sae]]),Tae=Vn({name:"default-section",props:{section:{type:Object,required:!0},currentIndex:{type:[Number,String],required:!1,default:1/0},renderSuggestion:{type:Function,required:!1},normalizeItemFunction:{type:Function,required:!0},componentAttrPrefix:{type:String,required:!0},componentAttrIdAutosuggest:{type:String,required:!0}},data:function(){return{_currentIndex:this.currentIndex}},computed:{list:function(){let{limit:t,data:e}=this.section;return e.length<t&&(t=e.length),e.slice(0,t)}},methods:{getItemIndex(t){return this.section.start_index+t},getItemByIndex(t){return this.section.data[t]},onMouseEnter(t){const e=parseInt(t.currentTarget.getAttribute("data-suggestion-index"));this._currentIndex=e,this.$emit("updateCurrentIndex",e)},onMouseLeave(){this.$emit("updateCurrentIndex",null)}},render(){const t=this.componentAttrPrefix,e={beforeSection:this.$slots[`before-section-${this.section.name}`],afterSectionDefault:this.$slots["after-section"],afterSectionNamed:this.$slots[`after-section-${this.section.name}`]},n=`${t}__results-before ${t}__results-before--${this.section.name}`,r=e.beforeSection&&e.beforeSection({section:this.section,className:n}).filter(i=>i.type!==kt&&i.children.length===0)||[];return mr("ul",{role:"listbox",class:this.section.ulClass,"aria-labelledby":this.section.label&&`${this.componentAttrIdAutosuggest}-${this.section.label}`},[r[0]&&r[0]||this.section.label&&mr("li",{class:n,id:`${this.componentAttrIdAutosuggest}-${this.section.label}`},[this.section.label])||"",this.list.map((i,o)=>{const s=this.normalizeItemFunction(this.section.name,this.section.type,this.section.label,this.section.liClass,i),l=this.getItemIndex(o),u=this._currentIndex===l||parseInt(this.currentIndex)===l;return mr("li",{role:"option","data-suggestion-index":l,"data-section-name":s.name,id:`${t}__results-item--${l}`,...s.liAttributes,key:l,class:{[`${t}__results-item--highlighted`]:u,[`${t}__results-item`]:!0,...s.liClass},onMouseenter:this.onMouseEnter,onMouseleave:this.onMouseLeave},[this.renderSuggestion?this.renderSuggestion(s):this.$slots.default&&this.$slots.default({_key:o,suggestion:s})])}),e.afterSectionDefault&&e.afterSectionDefault({section:this.section,className:`${t}__results-after ${t}__results-after--${this.section.name}`}),e.afterSectionNamed&&e.afterSectionNamed({section:this.section,className:`${t}__results_after ${t}__results-after--${this.section.name}`})])}});function Eae(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Aae(t,e){Eae(t,e)||(t.className+=" "+e)}function Oae(t,e){t.classList&&t.classList.remove(e)}const xA=-1,SA={name:"default",type:"default-section"},Mae={name:"Autosuggest",components:{DefaultSection:Tae},inheritAttrs:!1,props:{modelValue:{type:String,default:null},inputProps:{type:Object,required:!0},limit:{type:Number,required:!1,default:1/0},suggestions:{type:Array,required:!0},renderSuggestion:{type:Function,required:!1,default:null},getSuggestionValue:{type:Function,required:!1,default:t=>{const e=t.item;return typeof e=="object"&&e.hasOwnProperty("name")?e.name:e}},shouldRenderSuggestions:{type:Function,required:!1,default:(t,e)=>t>0&&!e},sectionConfigs:{type:Object,required:!1,default:()=>({default:{onSelected:null}})},onSelected:{type:Function,required:!1,default:null},componentAttrIdAutosuggest:{type:String,required:!1,default:"autosuggest"},componentAttrClassAutosuggestResultsContainer:{type:String,required:!1,default:null},componentAttrClassAutosuggestResults:{type:String,required:!1,default:null},componentAttrPrefix:{type:String,required:!1,default:"autosuggest"},class:null,style:null},data(){return{internalValue:null,searchInputOriginal:null,currentIndex:null,currentItem:null,loading:!1,didSelectFromOptions:!1,defaultInputProps:{type:"text",autocomplete:"off"},clientXMouseDownInitial:null}},computed:{internal_inputProps(){return{...this.defaultInputProps,...this.inputProps,...this.listeners}},listeners(){return{onInput:t=>{},onClick:()=>{this.loading=!1,this.$attrs.click&&this.$attrs.click(this.currentItem),this.$nextTick(()=>{this.ensureItemVisible(this.currentItem,this.currentIndex)})},onSelected:()=>{this.currentItem&&this.sectionConfigs[this.currentItem.name]&&this.sectionConfigs[this.currentItem.name].onSelected?this.sectionConfigs[this.currentItem.name].onSelected(this.currentItem,this.searchInputOriginal):this.sectionConfigs.default.onSelected?this.sectionConfigs.default.onSelected(null,this.searchInputOriginal):this.onSelected&&this.$emit("selected",this.currentItem,this.currentIndex),this.setChangeItem(null)}}},isOpen(){return this.shouldRenderSuggestions(this.totalResults,this.loading)},computedSections(){let t=0;return this.suggestions.map(e=>{if(!e.data)return;const n=e.name?e.name:SA.name;let r,i,o,s,l=null;this.sectionConfigs[n]&&(r=this.sectionConfigs[n].limit,o=this.sectionConfigs[n].type,i=this.sectionConfigs[n].label,s=this.sectionConfigs[n].ulClass,l=this.sectionConfigs[n].liClass),o=o||SA.type,r=r||this.limit,r=r||1/0,r=e.data.length<r?e.data.length:r,i=i||e.label;const u={name:n,label:i,type:o,limit:r,data:e.data,start_index:t,end_index:t+r-1,ulClass:s,liClass:l};return t+=r,u})},totalResults(){return this.computedSections.reduce((t,e)=>{if(!e)return t;const{limit:n,data:r}=e;return t+(r.length>=n?n:r.length)},0)},_componentAttrClassAutosuggestResultsContainer(){return this.componentAttrClassAutosuggestResultsContainer||`${this.componentAttrPrefix}__results-container`},_componentAttrClassAutosuggestResults(){return this.componentAttrClassAutosuggestResults||`${this.componentAttrPrefix}__results`}},watch:{modelValue:{handler(t){this.internalValue=t},immediate:!0},isOpen:{handler(t,e){t!==e&&this.$emit(t?"opened":"closed")},immediate:!0}},created(){this.loading=!0},mounted(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("mousedown",this.onDocumentMouseDown)},beforeUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousedown",this.onDocumentMouseDown)},methods:{afterSlot(t){return`after-section-${t.name||t.label}`},beforeSlot(t){return`before-section-${t.name||t.label}`},inputHandler(t){const e=t.target.value;this.$emit("update:modelValue",e),this.internalValue=e,this.didSelectFromOptions||(this.searchInputOriginal=e,this.currentIndex=null)},getSectionRef(t){return"computed_section_"+t},getItemByIndex(t){let e=!1;if(t===null)return e;for(var n=0;n<this.computedSections.length;n++)if(t>=this.computedSections[n].start_index&&t<=this.computedSections[n].end_index){let r=t-this.computedSections[n].start_index;this.computedSections[n].name;let i=this.computedSections[n].data[r];if(i){e=this.normalizeItem(this.computedSections[n].name,this.computedSections[n].type,i.name,"",i);break}}return e},handleKeyStroke(t){const{keyCode:e}=t;if([16,9,17,18,91,93].indexOf(e)>-1)return;const r=!this.isOpen;if(this.loading=!1,this.didSelectFromOptions=!1,this.isOpen)switch(e){case 40:case 38:if(t.preventDefault(),e===38&&this.currentIndex===null)break;const i=e===40?1:-1,o=Math.max((parseInt(this.currentIndex)||0)+(r?0:i),xA);this.setCurrentIndex(o,this.totalResults),this.didSelectFromOptions=!0,this.totalResults>0&&this.currentIndex>=0?(this.setChangeItem(this.getItemByIndex(this.currentIndex)),this.didSelectFromOptions=!0):this.currentIndex===xA&&(this.setChangeItem(null),this.internalValue=this.searchInputOriginal,t.preventDefault()),this.$nextTick(()=>{this.ensureItemVisible(this.currentItem,this.currentIndex)});break;case 13:t.preventDefault(),this.totalResults>0&&this.currentIndex>=0&&(this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.didSelectFromOptions=!0),this.loading=!0,this.listeners.onSelected(this.didSelectFromOptions);break;case 27:this.loading=!0,this.currentIndex=null,this.internalValue=this.searchInputOriginal,this.$emit("input",this.searchInputOriginal),t.preventDefault();break}},setChangeItem(t,e=!1){if(this.currentIndex===null||!t)this.currentItem=null,this.$emit("item-changed",null,null);else if(t){this.currentItem=t,this.$emit("item-changed",t,this.currentIndex);const n=this.getSuggestionValue(t);this.internalValue=n,e&&(this.searchInputOriginal=n),this.ensureItemVisible(t,this.currentIndex)}},normalizeItem(t,e,n,r,i){return{name:t,type:e,label:n,liClass:i.liClass||r,item:i}},ensureItemVisible(t,e,n){const r=this.$el.querySelector(n||`.${this._componentAttrClassAutosuggestResults}`);if(!r)return;const i=r.querySelector(`#${this.componentAttrPrefix}__results-item--${e}`);if(!i)return;const o=r.clientHeight,s=r.scrollTop,l=i.clientHeight,u=i.offsetTop;l+u>=s+o?r.scrollTop=l+u-o:u<s&&s>0&&(r.scrollTop=u)},updateCurrentIndex(t){this.setCurrentIndex(t,-1,!0)},clickedOnScrollbar(t,e){const n=this.$el.querySelector(`.${this._componentAttrClassAutosuggestResults}`),r=n&&n.clientWidth<=e+17&&e+17<=n.clientWidth+34;return t.target.tagName==="DIV"&&n&&r||!1},onDocumentMouseDown(t){var e=t.target.getBoundingClientRect?t.target.getBoundingClientRect():0;this.clientXMouseDownInitial=t.clientX-e.left},onDocumentMouseUp(t){if(!this.$el.contains(t.target)){this.loading=!0,this.currentIndex=null;return}t.target.tagName==="INPUT"||this.clickedOnScrollbar(t,this.clientXMouseDownInitial)||(this.loading=!0,this.didSelectFromOptions=!0,this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.listeners.onSelected(!0))},setCurrentIndex(t,e=-1,n=!1){let r=t;if(!n){const s=this.currentIndex===null,l=t>=e;(s||l)&&(r=0)}this.currentIndex=r;const i=this.$el.querySelector(`#${this.componentAttrPrefix}__results-item--${this.currentIndex}`),o=`${this.componentAttrPrefix}__results-item--highlighted`;this.$el.querySelector(`.${o}`)&&Oae(this.$el.querySelector(`.${o}`),o),i&&Aae(i,o)}}},Nae=["id"],Lae=["aria-expanded","aria-owns"],Iae=["type","value","autocomplete","aria-activedescendant","aria-controls"],Pae=["id"],Dae=["aria-labelledby"];function Rae(t,e,n,r,i,o){return ge(),Se("div",{id:n.componentAttrIdAutosuggest,class:vt(t.$props.class),style:oi(t.$props.style)},[pn(t.$slots,"before-input"),re("div",{role:"combobox","aria-expanded":o.isOpen?"true":"false","aria-haspopup":"listbox","aria-owns":`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`},[re("input",wi({type:o.internal_inputProps.type,value:i.internalValue,autocomplete:o.internal_inputProps.autocomplete,class:[o.isOpen?`${n.componentAttrPrefix}__input--open`:"",o.internal_inputProps.class]},o.internal_inputProps,{"aria-autocomplete":"list","aria-activedescendant":o.isOpen&&i.currentIndex!==null?`${n.componentAttrPrefix}__results-item--${i.currentIndex}`:"","aria-controls":`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`,onInput:e[0]||(e[0]=(...s)=>o.inputHandler&&o.inputHandler(...s)),onKeydown:e[1]||(e[1]=(...s)=>o.handleKeyStroke&&o.handleKeyStroke(...s))}),null,16,Iae)],8,Lae),pn(t.$slots,"after-input"),re("div",{id:`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`,class:vt(o._componentAttrClassAutosuggestResultsContainer)},[o.isOpen?(ge(),Se("div",{key:0,class:vt(o._componentAttrClassAutosuggestResults),"aria-labelledby":n.componentAttrIdAutosuggest},[pn(t.$slots,"before-suggestions"),(ge(!0),Se(kt,null,Zt(o.computedSections,(s,l)=>(ge(),Ct(Qs(s.type),{ref_for:!0,ref:o.getSectionRef(`${s.name}${l}`),key:o.getSectionRef(`${s.name}${l}`),"current-index":i.currentIndex,"normalize-item-function":o.normalizeItem,"render-suggestion":n.renderSuggestion,section:s,"component-attr-prefix":n.componentAttrPrefix,"component-attr-id-autosuggest":n.componentAttrIdAutosuggest,onUpdateCurrentIndex:o.updateCurrentIndex},{[o.beforeSlot(s)]:Vt(({section:u,className:f})=>[pn(t.$slots,o.beforeSlot(s),{section:u,className:f})]),default:Vt(({suggestion:u,_key:f})=>[pn(t.$slots,"default",{suggestion:u,index:f},()=>[Ui(Le(u.item),1)])]),[o.afterSlot(s)]:Vt(({section:u})=>[pn(t.$slots,`after-section-${s.name||s.label}`,{section:u})]),"after-section":Vt(({section:u})=>[pn(t.$slots,"after-section",{section:u})]),_:2},1064,["current-index","normalize-item-function","render-suggestion","section","component-attr-prefix","component-attr-id-autosuggest","onUpdateCurrentIndex"]))),128)),pn(t.$slots,"after-suggestions")],10,Dae)):gt("",!0),pn(t.$slots,"after-suggestions-container")],10,Pae)],14,Nae)}const zae=Bt(Mae,[["render",Rae]]),Bae={name:"AutoSuggest",components:{VueAutosuggest:zae},props:{id:{type:String,default:""},suggestions:{type:[Object,Array],default:()=>[]},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{query:"",selected:"",filteredOptions:[],inputProps:{class:"text fullwidth",initialValue:this.modelValue,style:"",id:this.id,name:this.id,maxlength:"",autofocus:!1,disabled:!1,title:"",placeholder:""},limit:5}},methods:{onInputChange(t){this.query=(t||"").toLowerCase(),this.updateFilteredOptions(),t||this.$emit("update:modelValue","")},updateFilteredOptions(){if(this.query===""){this.filteredOptions=this.suggestions;return}const t=[];let e,n,r,i;for(e=0;e<this.suggestions.length;e++){for(r=[],n=0;n<this.suggestions[e].data.length;n++)i=this.suggestions[e].data[n],((i.name||i).toLowerCase().indexOf(this.query)!==-1||i.hint&&i.hint.toLowerCase().indexOf(this.query)!==-1)&&r.push(i.name?i:{name:i});r.length&&(r.sort((o,s)=>{const l=this.scoreItem(o,this.query),u=this.scoreItem(s,this.query);return l===u?0:l<u?1:-1}),t.push({label:this.suggestions[e].label||null,data:r.slice(0,this.limit)}))}this.filteredOptions=t},scoreItem(t){let e=0;return t.name.toLowerCase().indexOf(this.query)!==-1&&(e+=100+this.query.length/t.name.length),t.hint&&t.hint.toLowerCase().indexOf(this.query)!==-1&&(e+=this.query.length/t.hint.length),e},onSelected(t){if(this.selected=t.item,this.$emit("update:modelValue",t.item.name),t.item.name[0]=="@"){const e=this.$el.querySelector("input");e.focus(),e.selectionStart=e.selectionEnd=e.value.length}},getSuggestionValue(t){return t.item.name||t.item},onBlur(t){t.relatedTarget&&(this.filteredOptions=[])}}},$ae={key:0,class:"light"};function Hae(t,e,n,r,i,o){const s=ut("vue-autosuggest");return ge(),Ct(s,{modelValue:i.inputProps.initialValue,"onUpdate:modelValue":[e[0]||(e[0]=l=>i.inputProps.initialValue=l),o.onInputChange],suggestions:i.filteredOptions,"get-suggestion-value":o.getSuggestionValue,"input-props":i.inputProps,limit:i.limit,"component-attr-id-autosuggest":n.id,onSelected:o.onSelected,onFocus:o.updateFilteredOptions,onBlur:o.onBlur},{default:Vt(({suggestion:l})=>[Ui(Le(l.item.name||l.item)+" ",1),l.item.hint?(ge(),Se("span",$ae,"– "+Le(l.item.hint),1)):gt("",!0)]),_:1},8,["modelValue","suggestions","get-suggestion-value","input-props","limit","component-attr-id-autosuggest","onSelected","onFocus","onBlur","onUpdate:modelValue"])}const Fae=Bt(Bae,[["render",Hae]]),Vae={name:"HandleInput",props:{id:{type:String,default:""},sourceValue:{type:String,default:""},collection:{type:Array,default:()=>[]},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{savedValue:"",proxyValue:""}},watch:{sourceValue(t){this.savedValue===""&&this.generateHandle()},proxyValue(t){this.$emit("update:modelValue",t)}},created(){this.savedValue=this.modelValue,this.proxyValue=this.modelValue},methods:{generateHandle(t){let e=Yee(this.sourceValue);this.collection.length&&(e=ZN(this.collection,e,0)),this.proxyValue=e}}};function jae(t,e,n,r,i,o){return Ut((ge(),Se("input",{id:"id","onUpdate:modelValue":e[0]||(e[0]=s=>i.proxyValue=s),type:"text",class:"text fullwidth code",autocomplete:"off",autocorrect:"off",autocapitalize:"off"},null,512)),[[Mn,i.proxyValue]])}const Wae=Bt(Vae,[["render",jae]]),Uae=function(){return window.safari!==void 0},qae={name:"VizySettings",components:{VizyIconPicker:hae,LightswitchField:XN,FieldLayoutDesigner:Cae,AutoSuggest:Fae,HandleInput:Wae,Drag:Wse,Drop:Kse},props:{fieldName:{type:String,required:!0},errors:{type:[Object,Array],default:()=>{}}},data(){return{selectedBlockType:null,isSafari:Uae(),emptySvg:'<svg height="100" viewBox="0 0 50 50" width="100"></svg>',fieldData:[],settings:{}}},computed:{handleCollection(){const t=[];return Array.isArray(this.fieldData)&&this.fieldData.forEach(e=>{e.blockTypes.forEach(n=>{n!==this.selectedBlockType&&t.push(n.handle)})}),t}},created(){this.fieldData=this.$root.fieldData,this.settings=this.$root.settings},mounted(){},methods:{updateSelectedBlockType(t,e=!1){this.selectedBlockType=null,this.$nextTick(()=>{this.selectedBlockType=t,this.$nextTick(()=>{this.$refs["name-field"].value||this.$refs["name-field"].focus()})})},selectBlockType(t){this.selectedBlockType===t?this.selectedBlockType=null:this.updateSelectedBlockType(t)},getErrors(t,e=""){let n=[];const r=`${t.id}:${e}`;return this.errors&&(n=Object.keys(this.errors).filter(i=>i.includes(r)).map(i=>this.errors[i][0])),n},hasErrors(t,e=""){return this.getErrors(t,e).length},addBlockType(t){t.blockTypes||(t.blockTypes=[]),t.blockTypes.push({id:Xm("type-"),enabled:!0}),this.updateSelectedBlockType(t.blockTypes[t.blockTypes.length-1],!0)},addGroup(){const t=prompt(Craft.t("vizy","Give your group a name."));t&&this.fieldData.push({id:Xm("group-"),name:t,blockTypes:[]})},deleteBlockType(){const t=Craft.t("vizy","Are you sure you want to delete “{name}”? This will permanently delete all content created with this block type.",{name:this.selectedBlockType.name});if(confirm(t))for(let e=0;this.fieldData.length;e++){const n=this.fieldData[e].blockTypes.indexOf(this.selectedBlockType);if(n!==-1){this.fieldData[e].blockTypes.splice(n,1),this.selectedBlockType=null;break}}},deleteGroup(t){const e=Craft.t("vizy","Are you sure you want to delete “{name}”? This will permanently delete all content created with any of these block types.",{name:t.name});if(confirm(e)){const n=this.fieldData.indexOf(t);n!==-1&&(this.fieldData.splice(n,1),this.selectedBlockType=null)}},moveGroupUp(t){const e=this.fieldData.indexOf(t),n=e-1,[r]=this.fieldData.splice(e,1);this.fieldData.splice(n,0,r)},moveGroupDown(t){const e=this.fieldData.indexOf(t),n=e+1,[r]=this.fieldData.splice(e,1);this.fieldData.splice(n,0,r)},dragEnter(t,e){e&&e.target.parentNode.classList.add("is-active")},dragLeave(t,e){e&&e.target.parentNode.classList.remove("is-active")},dragDrop(t,e){if(!e)return;e.target.parentNode.classList.remove("is-active");const n=parseInt(t.groupIndex),r=parseInt(t.blockTypeIndex),i=parseInt(e.target.getAttribute("data-group"));let o=parseInt(e.target.getAttribute("data-block"));if(n===i&&r===o||n===i&&r===o-1)return;n===i&&r<o&&(o=o-1);const[s]=this.fieldData[n].blockTypes.splice(r,1);this.fieldData[i].blockTypes||(this.fieldData[i].blockTypes=[]),this.fieldData[i].blockTypes.splice(o,0,s)}}},Kae={class:"vui-workspace"},Gae=["name","value"],Yae={class:"vui-popover"},Jae={class:"vui-popover-inner"},Xae={key:0},Zae={class:"vui-block-items-header"},Qae=["onBlur","innerHTML"],ele={class:"vui-block-items-header-actions"},tle=["onClick"],nle=re("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-up",class:"svg-inline--fa fa-arrow-up fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[re("path",{fill:"currentColor",d:"M6.101 261.899L25.9 281.698c4.686 4.686 12.284 4.686 16.971 0L198 126.568V468c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12V126.568l155.13 155.13c4.686 4.686 12.284 4.686 16.971 0l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L232.485 35.515c-4.686-4.686-12.284-4.686-16.971 0L6.101 244.929c-4.687 4.686-4.687 12.284 0 16.97z"})],-1),rle=[nle],ile=["onClick"],ole=re("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-down",class:"svg-inline--fa fa-arrow-down fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[re("path",{fill:"currentColor",d:"M441.9 250.1l-19.8-19.8c-4.7-4.7-12.3-4.7-17 0L250 385.4V44c0-6.6-5.4-12-12-12h-28c-6.6 0-12 5.4-12 12v341.4L42.9 230.3c-4.7-4.7-12.3-4.7-17 0L6.1 250.1c-4.7 4.7-4.7 12.3 0 17l209.4 209.4c4.7 4.7 12.3 4.7 17 0l209.4-209.4c4.7-4.7 4.7-12.3 0-17z"})],-1),sle=[ole],ale=["onClick"],lle={class:"vui-block-items"},ule=["onClick"],cle={class:"dropzone-vertical-left"},fle=re("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),dle=["innerHTML"],hle={class:"vui-block-item-heading"},ple={class:"vui-block-item",style:{width:"90px",height:"62px",background:"white"}},mle=["innerHTML"],gle={class:"vui-block-item-heading"},vle={key:0,class:"dropzone-vertical-right"},yle=re("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),ble=["onClick"],_le={key:0},wle={class:"dropzone-vertical-left"},kle=re("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),xle=re("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-plus fa-w-12"},[re("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),Sle={class:"vui-block-item-heading"},Cle={key:0},Tle=re("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-plus fa-w-12"},[re("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),Ele={class:"vui-block-item-heading"},Ale={key:0,class:"vui-block-editor"},Ole={class:"vui-block-titlebar"},Mle={class:"blocktype"},Nle={class:"vui-block-titlebar-actions"},Lle={key:0,class:"errors"},Ile={class:"field"},Ple={class:"heading"},Dle={id:"name-field-label",class:"required",for:"name"},Rle={id:"name-field-instructions",class:"instructions"},zle={class:"input ltr"},Ble={key:0,class:"errors"},$le={class:"field"},Hle={class:"heading"},Fle={id:"handle-field-label",class:"required",for:"handle"},Vle={id:"handle-field-instructions",class:"instructions"},jle={class:"input ltr"},Wle={key:0,class:"errors"},Ule={class:"field"},qle={class:"heading"},Kle={id:"icon-field-label",class:"required",for:"icon"},Gle={id:"icon-field-instructions",class:"instructions"},Yle={class:"input ltr"},Jle={key:0,class:"errors"},Xle={class:"field"},Zle={class:"heading"},Qle={id:"layout-field-label",class:"required",for:"layout"},eue={id:"layout-field-instructions",class:"instructions"},tue={class:"input ltr"},nue={class:"field"},rue={class:"heading"},iue={id:"template-field-label",for:"template"},oue={id:"template-field-instructions",class:"instructions"},sue={class:"input ltr"},aue={key:0,class:"errors"},lue={class:"field"},uue={class:"heading"},cue={id:"minBlocks-field-label",for:"minBlocks"},fue={id:"minBlocks-field-instructions",class:"instructions"},due={class:"input ltr"},hue={key:0,class:"errors"},pue={class:"field"},mue={class:"heading"},gue={id:"maxBlocks-field-label",for:"maxBlocks"},vue={id:"maxBlocks-field-instructions",class:"instructions"},yue={class:"input ltr"},bue={key:0,class:"errors"},_ue={key:1,class:"vui-block-editor-empty"},wue={key:0},kue={key:1},xue=re("svg",{xmlns:"http://www.w3.org/2000/svg",width:"68px",height:"32.9px",viewBox:"0 0 68 32.9"},[re("path",{fill:"currentColor",d:"M8.2,32.9c-0.3,0-0.6-0.2-0.7-0.5c-0.7-2.2-2.3-3.6-3.9-5.1c-1.3-1.2-2.6-2.5-3.6-4.1c-0.1-0.2-0.1-0.5,0-0.7s0.3-0.4,0.6-0.4c2.1-0.2,9.2-1,11.8-3.2c0.3-0.3,0.8-0.2,1.1,0.1c0.3,0.3,0.2,0.8-0.1,1.1c-2.5,2.1-8.1,3-11.4,3.4c0.8,1,1.7,1.9,2.6,2.8C6.4,27.8,8.1,29.4,9,32c0.1,0.4-0.1,0.8-0.5,0.9C8.4,32.9,8.3,32.9,8.2,32.9z M30,30.8c-8.1,0-16.5-1.8-24-5.4c-0.4-0.2-0.5-0.6-0.4-1s0.6-0.5,1-0.4c14.3,6.9,32.1,7,44.2,0.4c9-4.9,14.4-13.1,15.7-23.8C66.6,0.2,67,0,67.4,0c0.4,0.1,0.7,0.4,0.7,0.8C66.7,12,61,20.6,51.5,25.7C45.4,29.1,37.8,30.8,30,30.8z"})],-1);function Sue(t,e,n,r,i,o){const s=ut("drop"),l=ut("drag"),u=ut("lightswitch-field"),f=ut("handle-input"),d=ut("vizy-icon-picker"),m=ut("field-layout-designer"),v=ut("auto-suggest");return ge(),Se("div",Kae,[re("div",null,[re("textarea",{class:"hidden fullwidth",rows:"20",name:n.fieldName,value:JSON.stringify(i.fieldData)},null,8,Gae)]),re("div",Yae,[re("div",Jae,[(ge(!0),Se(kt,null,Zt(i.fieldData,(y,_)=>(ge(),Se("div",{key:_,class:"vui-block-group"},[_>0?(ge(),Se("hr",Xae)):gt("",!0),re("div",Zae,[re("span",{class:"vui-block-items-header-text",contenteditable:"true",onBlur:C=>y.name=C.target.innerText,innerHTML:y.name},null,40,Qae),re("div",ele,[_>0?(ge(),Se("button",{key:0,class:"vui-block-items-header-move",onClick:lt(C=>o.moveGroupUp(y),["prevent"])},rle,8,tle)):gt("",!0),_<i.fieldData.length-1?(ge(),Se("button",{key:1,class:"vui-block-items-header-move",onClick:lt(C=>o.moveGroupDown(y),["prevent"])},sle,8,ile)):gt("",!0),re("button",{class:"vui-block-items-header-delete",onClick:lt(C=>o.deleteGroup(y),["prevent"])},Le(t.t("site","Delete")),9,ale)])]),re("div",lle,[(ge(!0),Se(kt,null,Zt(y.blockTypes,(C,x)=>(ge(),Se("div",{key:x,class:vt(["vui-block-item",{active:i.selectedBlockType===C,"has-error":o.hasErrors(C)}]),onClick:lt(k=>o.selectBlockType(C),["prevent"])},[re("div",cle,[Qe(s,{"data-group":_,"data-block":x,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","data-block","onDrop","onDragenter","onDragleave"]),fle]),Qe(l,{"transfer-data":{groupIndex:_,blockTypeIndex:x}},W1({default:Vt(()=>[re("div",{innerHTML:C.icon?C.icon.svg:i.emptySvg},null,8,dle),re("span",hle,Le(C.name),1),re("span",{class:vt(["vui-block-item-status",{on:C.enabled}])},null,2)]),_:2},[i.isSafari?void 0:{name:"image",fn:Vt(()=>[re("div",ple,[re("div",{innerHTML:C.icon?C.icon.svg:i.emptySvg},null,8,mle),re("span",gle,Le(C.name),1),re("span",{class:vt(["vui-block-item-status",{on:C.enabled}])},null,2)])]),key:"0"}]),1032,["transfer-data"]),x==y.blockTypes.length-1?(ge(),Se("div",vle,[Qe(s,{"data-group":_,"data-block":x+1,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","data-block","onDrop","onDragenter","onDragleave"]),yle])):gt("",!0)],10,ule))),128)),re("div",{class:"vui-block-item vui-block-new-item",onClick:lt(C=>o.addBlockType(y),["prevent"])},[!y.blockTypes||!y.blockTypes.length?(ge(),Se("div",_le,[re("div",wle,[Qe(s,{"data-group":_,"data-block":0,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","onDrop","onDragenter","onDragleave"]),kle])])):gt("",!0),xle,re("span",Sle,Le(t.t("vizy","Add Block")),1)],8,ble)])]))),128)),i.fieldData.length?(ge(),Se("hr",Cle)):gt("",!0),re("div",{class:"vui-block-item vui-block-new-item vui-block-new-group",onClick:e[0]||(e[0]=lt((...y)=>o.addGroup&&o.addGroup(...y),["prevent"]))},[Tle,re("span",Ele,Le(t.t("vizy","Add Group")),1)])])]),i.selectedBlockType?(ge(),Se("div",Ale,[re("div",Ole,[re("div",Mle,Le(i.selectedBlockType.name),1),re("div",Nle,[re("button",{class:"vui-block-titlebar-delete",onClick:e[1]||(e[1]=lt((...y)=>o.deleteBlockType&&o.deleteBlockType(...y),["prevent"]))},Le(t.t("vizy","Delete")),1),Qe(u,{modelValue:i.selectedBlockType.enabled,"onUpdate:modelValue":e[2]||(e[2]=y=>i.selectedBlockType.enabled=y),small:!0},null,8,["modelValue"])])]),o.getErrors(i.selectedBlockType,"general")?(ge(),Se("ul",Lle,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"general"),(y,_)=>(ge(),Se("li",{key:_},Le(y),1))),128))])):gt("",!0),re("div",Ile,[re("div",Ple,[re("label",Dle,Le(t.t("vizy","Name")),1)]),re("div",Rle,[re("p",null,Le(t.t("vizy","What this block type will be called in the control panel.")),1)]),re("div",zle,[Ut(re("input",{id:"name",ref:"name-field","onUpdate:modelValue":e[3]||(e[3]=y=>i.selectedBlockType.name=y),type:"text",class:vt(["text fullwidth",{error:o.hasErrors(i.selectedBlockType,"name")}]),autocomplete:"off",autocorrect:"off",autocapitalize:"off"},null,2),[[Mn,i.selectedBlockType.name]])]),o.getErrors(i.selectedBlockType,"name")?(ge(),Se("ul",Ble,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"name"),(y,_)=>(ge(),Se("li",{key:_},Le(y),1))),128))])):gt("",!0)]),re("div",$le,[re("div",Hle,[re("label",Fle,Le(t.t("vizy","Handle")),1)]),re("div",Vle,[re("p",null,Le(t.t("vizy","How you’ll refer to this block type in the templates.")),1)]),re("div",jle,[Qe(f,{id:"handle",ref:"handle-field",modelValue:i.selectedBlockType.handle,"onUpdate:modelValue":e[4]||(e[4]=y=>i.selectedBlockType.handle=y),"source-value":i.selectedBlockType.name,collection:o.handleCollection,class:vt({error:o.hasErrors(i.selectedBlockType,"handle")})},null,8,["modelValue","source-value","collection","class"])]),o.getErrors(i.selectedBlockType,"handle")?(ge(),Se("ul",Wle,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"handle"),(y,_)=>(ge(),Se("li",{key:_},Le(y),1))),128))])):gt("",!0)]),re("div",Ule,[re("div",qle,[re("label",Kle,Le(t.t("vizy","Icon")),1)]),re("div",Gle,[re("p",null,Le(t.t("vizy","Select an appropriate icon for the block type. Start typing to search via keywords.")),1)]),re("div",Yle,[Qe(d,{modelValue:i.selectedBlockType.icon,"onUpdate:modelValue":e[5]||(e[5]=y=>i.selectedBlockType.icon=y),"input-classes":{error:o.hasErrors(i.selectedBlockType,"icon")}},null,8,["modelValue","input-classes"])]),o.getErrors(i.selectedBlockType,"icon")?(ge(),Se("ul",Jle,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"icon"),(y,_)=>(ge(),Se("li",{key:_},Le(y),1))),128))])):gt("",!0)]),re("div",Xle,[re("div",Zle,[re("label",Qle,Le(t.t("vizy","Layout")),1)]),re("div",eue,[re("p",null,Le(t.t("vizy","Define the field layout for this block type. Empty tabs are not allowed, and you must provide at least one element.")),1)]),re("div",tue,[Qe(m,{modelValue:i.selectedBlockType.layout,"onUpdate:modelValue":e[6]||(e[6]=y=>i.selectedBlockType.layout=y),"layout-uid":i.selectedBlockType.layoutUid,"field-id":i.settings.fieldId,"block-type-id":i.selectedBlockType.id},null,8,["modelValue","layout-uid","field-id","block-type-id"])])]),re("div",nue,[re("div",rue,[re("label",iue,Le(t.t("vizy","Template")),1)]),re("div",oue,[re("p",null,Le(t.t("vizy","Provide the path for a template partial for rendering this block type.")),1)]),re("div",sue,[Qe(v,{id:"template",modelValue:i.selectedBlockType.template,"onUpdate:modelValue":e[7]||(e[7]=y=>i.selectedBlockType.template=y),suggestions:i.settings.suggestions},null,8,["modelValue","suggestions"])]),o.getErrors(i.selectedBlockType,"template")?(ge(),Se("ul",aue,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"template"),(y,_)=>(ge(),Se("li",{key:_},Le(y),1))),128))])):gt("",!0)]),re("div",lue,[re("div",uue,[re("label",cue,Le(t.t("vizy","Min Blocks")),1)]),re("div",fue,[re("p",null,Le(t.t("vizy","The minimum number of blocks of this type the field is allowed to have.")),1)]),re("div",due,[Ut(re("input",{id:"minBlocks",ref:"minBlocks-field","onUpdate:modelValue":e[8]||(e[8]=y=>i.selectedBlockType.minBlocks=y),type:"text",class:vt(["text",{error:o.hasErrors(i.selectedBlockType,"minBlocks")}]),autocomplete:"off",autocorrect:"off",autocapitalize:"off",size:"2"},null,2),[[Mn,i.selectedBlockType.minBlocks]])]),o.getErrors(i.selectedBlockType,"minBlocks")?(ge(),Se("ul",hue,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"minBlocks"),(y,_)=>(ge(),Se("li",{key:_},Le(y),1))),128))])):gt("",!0)]),re("div",pue,[re("div",mue,[re("label",gue,Le(t.t("vizy","Max Blocks")),1)]),re("div",vue,[re("p",null,Le(t.t("vizy","The maximum number of blocks of this type the field is allowed to have.")),1)]),re("div",yue,[Ut(re("input",{id:"maxBlocks",ref:"maxBlocks-field","onUpdate:modelValue":e[9]||(e[9]=y=>i.selectedBlockType.maxBlocks=y),type:"text",class:vt(["text",{error:o.hasErrors(i.selectedBlockType,"maxBlocks")}]),autocomplete:"off",autocorrect:"off",autocapitalize:"off",size:"2"},null,2),[[Mn,i.selectedBlockType.maxBlocks]])]),o.getErrors(i.selectedBlockType,"maxBlocks")?(ge(),Se("ul",bue,[(ge(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"maxBlocks"),(y,_)=>(ge(),Se("li",{key:_},Le(y),1))),128))])):gt("",!0)])])):(ge(),Se("div",_ue,[i.fieldData.length?(ge(),Se("p",wue,Le(t.t("vizy","Select a block to edit.")),1)):(ge(),Se("p",kue,Le(t.t("vizy","Add a new group to begin.")),1)),xue]))])}const Cue=Bt(qae,[["render",Sue]]);typeof Craft.Vizy>"u"&&(Craft.Vizy={});Craft.Vizy.Config=new aee;document.dispatchEvent(new CustomEvent("onVizyConfigReady",{bubbles:!0}));Craft.Vizy.Input=Garnish.Base.extend({init(t){const e=`#${t}-field .input`,n=O6({components:{VizyInput:kA}});n.component("VizyInput",kA),!document.querySelector(e).__vueInit&&n.mount(e)}});Craft.Vizy.Settings=Garnish.Base.extend({init(t,e,n){this.inputNamePrefix=t,this.inputIdPrefix=Craft.formatInputId(this.inputNamePrefix),O6({components:{VizySettings:Cue},data(){return{fieldData:e,settings:n}}}).mount(`.${this.inputIdPrefix}-vizy-configurator`)}});$(document).ready(()=>{Craft.VizyReady=!0,document.dispatchEvent(new CustomEvent("vizy-loaded"))})});export default Tue();
//# sourceMappingURL=vizy-91fcee7d.js.map
>>>>>>>> origin/craft-4:src/web/assets/field/dist/assets/vizy-91fcee7d.js
