var sI=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var xle=sI((Xr,Zr)=>{function Fr(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const aI="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",lI=Fr(aI);function Qr(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=St(r)?XE(r):Qr(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(St(e))return e;if(Jt(e))return e}}const uI=/;(?![^(]*\))/g,cI=/:([^]+)/,fI=/\/\*.*?\*\//gs;function XE(e){const t={};return e.replace(fI,"").split(uI).forEach(n=>{if(n){const r=n.split(cI);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function mt(e){let t="";if(St(e))t=e;else if(Ke(e))for(let n=0;n<e.length;n++){const r=mt(e[n]);r&&(t+=r+" ")}else if(Jt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function ZE(e){if(!e)return null;let{class:t,style:n}=e;return t&&!St(t)&&(e.class=mt(t)),n&&(e.style=Qr(n)),e}const dI="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",hI="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",pI="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",mI=Fr(dI),gI=Fr(hI),vI=Fr(pI),yI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bI=Fr(yI);function QE(e){return!!e||e===""}function _I(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Hs(e[r],t[r]);return n}function Hs(e,t){if(e===t)return!0;let n=xx(e),r=xx(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Fs(e),r=Fs(t),n||r)return e===t;if(n=Ke(e),r=Ke(t),n||r)return n&&r?_I(e,t):!1;if(n=Jt(e),r=Jt(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const s in e){const l=e.hasOwnProperty(s),u=t.hasOwnProperty(s);if(l&&!u||!l&&u||!Hs(e[s],t[s]))return!1}}return String(e)===String(t)}function $m(e,t){return e.findIndex(n=>Hs(n,t))}const Ne=e=>St(e)?e:e==null?"":Ke(e)||Jt(e)&&(e.toString===tA||!vt(e.toString))?JSON.stringify(e,eA,2):String(e),eA=(e,t)=>t&&t.__v_isRef?eA(e,t.value):su(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:dl(t)?{[`Set(${t.size})`]:[...t.values()]}:Jt(t)&&!Ke(t)&&!nA(t)?String(t):t,jt={},ou=[],kr=()=>{},np=()=>!1,wI=/^on[^a-z]/,fl=e=>wI.test(e),Yb=e=>e.startsWith("onUpdate:"),Ht=Object.assign,Xb=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},kI=Object.prototype.hasOwnProperty,It=(e,t)=>kI.call(e,t),Ke=Array.isArray,su=e=>Wu(e)==="[object Map]",dl=e=>Wu(e)==="[object Set]",xx=e=>Wu(e)==="[object Date]",xI=e=>Wu(e)==="[object RegExp]",vt=e=>typeof e=="function",St=e=>typeof e=="string",Fs=e=>typeof e=="symbol",Jt=e=>e!==null&&typeof e=="object",Zb=e=>Jt(e)&&vt(e.then)&&vt(e.catch),tA=Object.prototype.toString,Wu=e=>tA.call(e),SI=e=>Wu(e).slice(8,-1),nA=e=>Wu(e)==="[object Object]",Qb=e=>St(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,za=Fr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),CI=Fr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Hm=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},TI=/-(\w)/g,Vn=Hm(e=>e.replace(TI,(t,n)=>n?n.toUpperCase():"")),EI=/\B([A-Z])/g,Yr=Hm(e=>e.replace(EI,"-$1").toLowerCase()),hl=Hm(e=>e.charAt(0).toUpperCase()+e.slice(1)),au=Hm(e=>e?`on${hl(e)}`:""),bu=(e,t)=>!Object.is(e,t),lu=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},_p=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},wp=e=>{const t=parseFloat(e);return isNaN(t)?e:t},kp=e=>{const t=St(e)?Number(e):NaN;return isNaN(t)?e:t};let Sx;const AI=()=>Sx||(Sx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let qr;class e1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=qr,!t&&qr&&(this.index=(qr.scopes||(qr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=qr;try{return qr=this,t()}finally{qr=n}}}on(){qr=this}off(){qr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function OI(e){return new e1(e)}function rA(e,t=qr){t&&t.active&&t.effects.push(e)}function iA(){return qr}function MI(e){qr&&qr.cleanups.push(e)}const t1=e=>{const t=new Set(e);return t.w=0,t.n=0,t},oA=e=>(e.w&Vs)>0,sA=e=>(e.n&Vs)>0,LI=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Vs},NI=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];oA(i)&&!sA(i)?i.delete(e):t[n++]=i,i.w&=~Vs,i.n&=~Vs}t.length=n}},xp=new WeakMap;let Hc=0,Vs=1;const o0=30;let Ei;const Ba=Symbol(""),s0=Symbol("");class od{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,rA(this,r)}run(){if(!this.active)return this.fn();let t=Ei,n=Ds;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ei,Ei=this,Ds=!0,Vs=1<<++Hc,Hc<=o0?LI(this):Cx(this),this.fn()}finally{Hc<=o0&&NI(this),Vs=1<<--Hc,Ei=this.parent,Ds=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ei===this?this.deferStop=!0:this.active&&(Cx(this),this.onStop&&this.onStop(),this.active=!1)}}function Cx(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function PI(e,t){e.effect&&(e=e.effect.fn);const n=new od(e);t&&(Ht(n,t),t.scope&&rA(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function II(e){e.effect.stop()}let Ds=!0;const aA=[];function Uu(){aA.push(Ds),Ds=!1}function Ku(){const e=aA.pop();Ds=e===void 0?!0:e}function $r(e,t,n){if(Ds&&Ei){let r=xp.get(e);r||xp.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=t1()),lA(i)}}function lA(e,t){let n=!1;Hc<=o0?sA(e)||(e.n|=Vs,n=!oA(e)):n=!e.has(Ei),n&&(e.add(Ei),Ei.deps.push(e))}function $o(e,t,n,r,i,o){const s=xp.get(e);if(!s)return;let l=[];if(t==="clear")l=[...s.values()];else if(n==="length"&&Ke(e)){const u=Number(r);s.forEach((f,d)=>{(d==="length"||d>=u)&&l.push(f)})}else switch(n!==void 0&&l.push(s.get(n)),t){case"add":Ke(e)?Qb(n)&&l.push(s.get("length")):(l.push(s.get(Ba)),su(e)&&l.push(s.get(s0)));break;case"delete":Ke(e)||(l.push(s.get(Ba)),su(e)&&l.push(s.get(s0)));break;case"set":su(e)&&l.push(s.get(Ba));break}if(l.length===1)l[0]&&a0(l[0]);else{const u=[];for(const f of l)f&&u.push(...f);a0(t1(u))}}function a0(e,t){const n=Ke(e)?e:[...e];for(const r of n)r.computed&&Tx(r);for(const r of n)r.computed||Tx(r)}function Tx(e,t){(e!==Ei||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function DI(e,t){var n;return(n=xp.get(e))===null||n===void 0?void 0:n.get(t)}const RI=Fr("__proto__,__v_isRef,__isVue"),uA=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fs)),zI=Fm(),BI=Fm(!1,!0),$I=Fm(!0),HI=Fm(!0,!0),Ex=FI();function FI(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Mt(this);for(let o=0,s=this.length;o<s;o++)$r(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Mt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Uu();const r=Mt(this)[t].apply(this,n);return Ku(),r}}),e}function VI(e){const t=Mt(this);return $r(t,"has",e),t.hasOwnProperty(e)}function Fm(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?gA:mA:t?pA:hA).get(r))return r;const s=Ke(r);if(!e){if(s&&It(Ex,i))return Reflect.get(Ex,i,o);if(i==="hasOwnProperty")return VI}const l=Reflect.get(r,i,o);return(Fs(i)?uA.has(i):RI(i))||(e||$r(r,"get",i),t)?l:Fn(l)?s&&Qb(i)?l:l.value:Jt(l)?e?r1(l):pl(l):l}}const jI=cA(),WI=cA(!0);function cA(e=!1){return function(n,r,i,o){let s=n[r];if(Ga(s)&&Fn(s)&&!Fn(i))return!1;if(!e&&(!Cf(i)&&!Ga(i)&&(s=Mt(s),i=Mt(i)),!Ke(n)&&Fn(s)&&!Fn(i)))return s.value=i,!0;const l=Ke(n)&&Qb(r)?Number(r)<n.length:It(n,r),u=Reflect.set(n,r,i,o);return n===Mt(o)&&(l?bu(i,s)&&$o(n,"set",r,i):$o(n,"add",r,i)),u}}function UI(e,t){const n=It(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&$o(e,"delete",t,void 0),r}function KI(e,t){const n=Reflect.has(e,t);return(!Fs(t)||!uA.has(t))&&$r(e,"has",t),n}function qI(e){return $r(e,"iterate",Ke(e)?"length":Ba),Reflect.ownKeys(e)}const fA={get:zI,set:jI,deleteProperty:UI,has:KI,ownKeys:qI},dA={get:$I,set(e,t){return!0},deleteProperty(e,t){return!0}},GI=Ht({},fA,{get:BI,set:WI}),JI=Ht({},dA,{get:HI}),n1=e=>e,Vm=e=>Reflect.getPrototypeOf(e);function uh(e,t,n=!1,r=!1){e=e.__v_raw;const i=Mt(e),o=Mt(t);n||(t!==o&&$r(i,"get",t),$r(i,"get",o));const{has:s}=Vm(i),l=r?n1:n?o1:Tf;if(s.call(i,t))return l(e.get(t));if(s.call(i,o))return l(e.get(o));e!==i&&e.get(t)}function ch(e,t=!1){const n=this.__v_raw,r=Mt(n),i=Mt(e);return t||(e!==i&&$r(r,"has",e),$r(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function fh(e,t=!1){return e=e.__v_raw,!t&&$r(Mt(e),"iterate",Ba),Reflect.get(e,"size",e)}function Ax(e){e=Mt(e);const t=Mt(this);return Vm(t).has.call(t,e)||(t.add(e),$o(t,"add",e,e)),this}function Ox(e,t){t=Mt(t);const n=Mt(this),{has:r,get:i}=Vm(n);let o=r.call(n,e);o||(e=Mt(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?bu(t,s)&&$o(n,"set",e,t):$o(n,"add",e,t),this}function Mx(e){const t=Mt(this),{has:n,get:r}=Vm(t);let i=n.call(t,e);i||(e=Mt(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&$o(t,"delete",e,void 0),o}function Lx(){const e=Mt(this),t=e.size!==0,n=e.clear();return t&&$o(e,"clear",void 0,void 0),n}function dh(e,t){return function(r,i){const o=this,s=o.__v_raw,l=Mt(s),u=t?n1:e?o1:Tf;return!e&&$r(l,"iterate",Ba),s.forEach((f,d)=>r.call(i,u(f),u(d),o))}}function hh(e,t,n){return function(...r){const i=this.__v_raw,o=Mt(i),s=su(o),l=e==="entries"||e===Symbol.iterator&&s,u=e==="keys"&&s,f=i[e](...r),d=n?n1:t?o1:Tf;return!t&&$r(o,"iterate",u?s0:Ba),{next(){const{value:m,done:v}=f.next();return v?{value:m,done:v}:{value:l?[d(m[0]),d(m[1])]:d(m),done:v}},[Symbol.iterator](){return this}}}}function ms(e){return function(...t){return e==="delete"?!1:this}}function YI(){const e={get(o){return uh(this,o)},get size(){return fh(this)},has:ch,add:Ax,set:Ox,delete:Mx,clear:Lx,forEach:dh(!1,!1)},t={get(o){return uh(this,o,!1,!0)},get size(){return fh(this)},has:ch,add:Ax,set:Ox,delete:Mx,clear:Lx,forEach:dh(!1,!0)},n={get(o){return uh(this,o,!0)},get size(){return fh(this,!0)},has(o){return ch.call(this,o,!0)},add:ms("add"),set:ms("set"),delete:ms("delete"),clear:ms("clear"),forEach:dh(!0,!1)},r={get(o){return uh(this,o,!0,!0)},get size(){return fh(this,!0)},has(o){return ch.call(this,o,!0)},add:ms("add"),set:ms("set"),delete:ms("delete"),clear:ms("clear"),forEach:dh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=hh(o,!1,!1),n[o]=hh(o,!0,!1),t[o]=hh(o,!1,!0),r[o]=hh(o,!0,!0)}),[e,n,t,r]}const[XI,ZI,QI,eD]=YI();function jm(e,t){const n=t?e?eD:QI:e?ZI:XI;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(It(n,i)&&i in r?n:r,i,o)}const tD={get:jm(!1,!1)},nD={get:jm(!1,!0)},rD={get:jm(!0,!1)},iD={get:jm(!0,!0)},hA=new WeakMap,pA=new WeakMap,mA=new WeakMap,gA=new WeakMap;function oD(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sD(e){return e.__v_skip||!Object.isExtensible(e)?0:oD(SI(e))}function pl(e){return Ga(e)?e:Wm(e,!1,fA,tD,hA)}function Sp(e){return Wm(e,!1,GI,nD,pA)}function r1(e){return Wm(e,!0,dA,rD,mA)}function aD(e){return Wm(e,!0,JI,iD,gA)}function Wm(e,t,n,r,i){if(!Jt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=sD(e);if(s===0)return e;const l=new Proxy(e,s===2?r:n);return i.set(e,l),l}function $a(e){return Ga(e)?$a(e.__v_raw):!!(e&&e.__v_isReactive)}function Ga(e){return!!(e&&e.__v_isReadonly)}function Cf(e){return!!(e&&e.__v_isShallow)}function i1(e){return $a(e)||Ga(e)}function Mt(e){const t=e&&e.__v_raw;return t?Mt(t):e}function ea(e){return _p(e,"__v_skip",!0),e}const Tf=e=>Jt(e)?pl(e):e,o1=e=>Jt(e)?r1(e):e;function s1(e){Ds&&Ei&&(e=Mt(e),lA(e.dep||(e.dep=t1())))}function Um(e,t){e=Mt(e);const n=e.dep;n&&a0(n)}function Fn(e){return!!(e&&e.__v_isRef===!0)}function At(e){return yA(e,!1)}function vA(e){return yA(e,!0)}function yA(e,t){return Fn(e)?e:new lD(e,t)}class lD{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Mt(t),this._value=n?t:Tf(t)}get value(){return s1(this),this._value}set value(t){const n=this.__v_isShallow||Cf(t)||Ga(t);t=n?t:Mt(t),bu(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Tf(t),Um(this))}}function uD(e){Um(e)}function _r(e){return Fn(e)?e.value:e}const cD={get:(e,t,n)=>_r(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Fn(i)&&!Fn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function a1(e){return $a(e)?e:new Proxy(e,cD)}class fD{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>s1(this),()=>Um(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function bA(e){return new fD(e)}function dD(e){const t=Ke(e)?new Array(e.length):{};for(const n in e)t[n]=_A(e,n);return t}class hD{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return DI(Mt(this._object),this._key)}}function _A(e,t,n){const r=e[t];return Fn(r)?r:new hD(e,t,n)}var wA;class pD{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[wA]=!1,this._dirty=!0,this.effect=new od(t,()=>{this._dirty||(this._dirty=!0,Um(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Mt(this);return s1(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}wA="__v_isReadonly";function mD(e,t,n=!1){let r,i;const o=vt(e);return o?(r=e,i=kr):(r=e.get,i=e.set),new pD(r,i,o||!i,n)}function gD(e,...t){}function vD(e,t){}function Io(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){ml(o,t,n)}return i}function ei(e,t,n,r){if(vt(e)){const o=Io(e,t,n,r);return o&&Zb(o)&&o.catch(s=>{ml(s,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(ei(e[o],t,n,r));return i}function ml(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,l=n;for(;o;){const f=o.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,s,l)===!1)return}o=o.parent}const u=t.appContext.config.errorHandler;if(u){Io(u,null,10,[e,s,l]);return}}yD(e,n,i,r)}function yD(e,t,n,r=!0){console.error(e)}let Ef=!1,l0=!1;const or=[];let to=0;const uu=[];let Ao=null,Sa=0;const kA=Promise.resolve();let l1=null;function ro(e){const t=l1||kA;return e?t.then(this?e.bind(this):e):t}function bD(e){let t=to+1,n=or.length;for(;t<n;){const r=t+n>>>1;Af(or[r])<e?t=r+1:n=r}return t}function Km(e){(!or.length||!or.includes(e,Ef&&e.allowRecurse?to+1:to))&&(e.id==null?or.push(e):or.splice(bD(e.id),0,e),xA())}function xA(){!Ef&&!l0&&(l0=!0,l1=kA.then(SA))}function _D(e){const t=or.indexOf(e);t>to&&or.splice(t,1)}function u1(e){Ke(e)?uu.push(...e):(!Ao||!Ao.includes(e,e.allowRecurse?Sa+1:Sa))&&uu.push(e),xA()}function Nx(e,t=Ef?to+1:0){for(;t<or.length;t++){const n=or[t];n&&n.pre&&(or.splice(t,1),t--,n())}}function Cp(e){if(uu.length){const t=[...new Set(uu)];if(uu.length=0,Ao){Ao.push(...t);return}for(Ao=t,Ao.sort((n,r)=>Af(n)-Af(r)),Sa=0;Sa<Ao.length;Sa++)Ao[Sa]();Ao=null,Sa=0}}const Af=e=>e.id==null?1/0:e.id,wD=(e,t)=>{const n=Af(e)-Af(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function SA(e){l0=!1,Ef=!0,or.sort(wD);const t=kr;try{for(to=0;to<or.length;to++){const n=or[to];n&&n.active!==!1&&Io(n,null,14)}}finally{to=0,or.length=0,Cp(),Ef=!1,l1=null,(or.length||uu.length)&&SA()}}let Ul,ph=[];function CA(e,t){var n,r;Ul=e,Ul?(Ul.enabled=!0,ph.forEach(({event:i,args:o})=>Ul.emit(i,...o)),ph=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{CA(o,t)}),setTimeout(()=>{Ul||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ph=[])},3e3)):ph=[]}function kD(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||jt;let i=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:m,trim:v}=r[d]||jt;v&&(i=n.map(y=>St(y)?y.trim():y)),m&&(i=n.map(wp))}let l,u=r[l=au(t)]||r[l=au(Vn(t))];!u&&o&&(u=r[l=au(Yr(t))]),u&&ei(u,e,6,i);const f=r[l+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ei(f,e,6,i)}}function TA(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},l=!1;if(!vt(e)){const u=f=>{const d=TA(f,t,!0);d&&(l=!0,Ht(s,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!l?(Jt(e)&&r.set(e,null),null):(Ke(o)?o.forEach(u=>s[u]=null):Ht(s,o),Jt(e)&&r.set(e,s),s)}function qm(e,t){return!e||!fl(t)?!1:(t=t.slice(2).replace(/Once$/,""),It(e,t[0].toLowerCase()+t.slice(1))||It(e,Yr(t))||It(e,t))}let Zn=null,Gm=null;function Of(e){const t=Zn;return Zn=e,Gm=e&&e.type.__scopeId||null,t}function c1(e){Gm=e}function f1(){Gm=null}const d1=e=>Bt;function Bt(e,t=Zn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&g0(-1);const o=Of(t);let s;try{s=e(...i)}finally{Of(o),r._d&&g0(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function rp(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:l,attrs:u,emit:f,render:d,renderCache:m,data:v,setupState:y,ctx:_,inheritAttrs:T}=e;let C,w;const S=Of(e);try{if(n.shapeFlag&4){const A=i||r;C=Gr(d.call(A,A,m,o,y,v,_)),w=u}else{const A=t;C=Gr(A.length>1?A(o,{attrs:u,slots:l,emit:f}):A(o,null)),w=t.props?u:SD(u)}}catch(A){Jc.length=0,ml(A,e,1),C=Qe(lr)}let P=C;if(w&&T!==!1){const A=Object.keys(w),{shapeFlag:U}=P;A.length&&U&7&&(s&&A.some(Yb)&&(w=CD(w,s)),P=co(P,w))}return n.dirs&&(P=co(P),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&(P.transition=n.transition),C=P,Of(S),C}function xD(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(Ws(r)){if(r.type!==lr||r.children==="v-if"){if(t)return;t=r}}else return}return t}const SD=e=>{let t;for(const n in e)(n==="class"||n==="style"||fl(n))&&((t||(t={}))[n]=e[n]);return t},CD=(e,t)=>{const n={};for(const r in e)(!Yb(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function TD(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:l,patchFlag:u}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Px(r,s,f):!!s;if(u&8){const d=t.dynamicProps;for(let m=0;m<d.length;m++){const v=d[m];if(s[v]!==r[v]&&!qm(f,v))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?Px(r,s,f):!0:!!s;return!1}function Px(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!qm(n,o))return!0}return!1}function h1({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const EA=e=>e.__isSuspense,ED={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,o,s,l,u,f){e==null?OD(t,n,r,i,o,s,l,u,f):MD(e,t,n,r,i,s,l,u,f)},hydrate:LD,create:p1,normalize:ND},AD=ED;function Mf(e,t){const n=e.props&&e.props[t];vt(n)&&n()}function OD(e,t,n,r,i,o,s,l,u){const{p:f,o:{createElement:d}}=u,m=d("div"),v=e.suspense=p1(e,i,r,t,m,n,o,s,l,u);f(null,v.pendingBranch=e.ssContent,m,null,r,v,o,s),v.deps>0?(Mf(e,"onPending"),Mf(e,"onFallback"),f(null,e.ssFallback,t,n,r,null,o,s),cu(v,e.ssFallback)):v.resolve()}function MD(e,t,n,r,i,o,s,l,{p:u,um:f,o:{createElement:d}}){const m=t.suspense=e.suspense;m.vnode=t,t.el=e.el;const v=t.ssContent,y=t.ssFallback,{activeBranch:_,pendingBranch:T,isInFallback:C,isHydrating:w}=m;if(T)m.pendingBranch=v,Ai(v,T)?(u(T,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0?m.resolve():C&&(u(_,y,n,r,i,null,o,s,l),cu(m,y))):(m.pendingId++,w?(m.isHydrating=!1,m.activeBranch=T):f(T,i,m),m.deps=0,m.effects.length=0,m.hiddenContainer=d("div"),C?(u(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0?m.resolve():(u(_,y,n,r,i,null,o,s,l),cu(m,y))):_&&Ai(v,_)?(u(_,v,n,r,i,m,o,s,l),m.resolve(!0)):(u(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0&&m.resolve()));else if(_&&Ai(v,_))u(_,v,n,r,i,m,o,s,l),cu(m,v);else if(Mf(t,"onPending"),m.pendingBranch=v,m.pendingId++,u(null,v,m.hiddenContainer,null,i,m,o,s,l),m.deps<=0)m.resolve();else{const{timeout:S,pendingId:P}=m;S>0?setTimeout(()=>{m.pendingId===P&&m.fallback(y)},S):S===0&&m.fallback(y)}}function p1(e,t,n,r,i,o,s,l,u,f,d=!1){const{p:m,m:v,um:y,n:_,o:{parentNode:T,remove:C}}=f,w=e.props?kp(e.props.timeout):void 0,S={vnode:e,parent:t,parentComponent:n,isSVG:s,container:r,hiddenContainer:i,anchor:o,deps:0,pendingId:0,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:d,isUnmounted:!1,effects:[],resolve(P=!1){const{vnode:A,activeBranch:U,pendingBranch:z,pendingId:j,effects:L,parentComponent:B,container:k}=S;if(S.isHydrating)S.isHydrating=!1;else if(!P){const q=U&&z.transition&&z.transition.mode==="out-in";q&&(U.transition.afterLeave=()=>{j===S.pendingId&&v(z,k,Q,0)});let{anchor:Q}=S;U&&(Q=_(U),y(U,B,S,!0)),q||v(z,k,Q,0)}cu(S,z),S.pendingBranch=null,S.isInFallback=!1;let D=S.parent,K=!1;for(;D;){if(D.pendingBranch){D.effects.push(...L),K=!0;break}D=D.parent}K||u1(L),S.effects=[],Mf(A,"onResolve")},fallback(P){if(!S.pendingBranch)return;const{vnode:A,activeBranch:U,parentComponent:z,container:j,isSVG:L}=S;Mf(A,"onFallback");const B=_(U),k=()=>{S.isInFallback&&(m(null,P,j,B,z,null,L,l,u),cu(S,P))},D=P.transition&&P.transition.mode==="out-in";D&&(U.transition.afterLeave=k),S.isInFallback=!0,y(U,z,null,!0),D||k()},move(P,A,U){S.activeBranch&&v(S.activeBranch,P,A,U),S.container=P},next(){return S.activeBranch&&_(S.activeBranch)},registerDep(P,A){const U=!!S.pendingBranch;U&&S.deps++;const z=P.vnode.el;P.asyncDep.catch(j=>{ml(j,P,0)}).then(j=>{if(P.isUnmounted||S.isUnmounted||S.pendingId!==P.suspenseId)return;P.asyncResolved=!0;const{vnode:L}=P;v0(P,j,!1),z&&(L.el=z);const B=!z&&P.subTree.el;A(P,L,T(z||P.subTree.el),z?null:_(P.subTree),S,s,u),B&&C(B),h1(P,L.el),U&&--S.deps===0&&S.resolve()})},unmount(P,A){S.isUnmounted=!0,S.activeBranch&&y(S.activeBranch,n,P,A),S.pendingBranch&&y(S.pendingBranch,n,P,A)}};return S}function LD(e,t,n,r,i,o,s,l,u){const f=t.suspense=p1(t,r,n,e.parentNode,document.createElement("div"),null,i,o,s,l,!0),d=u(e,f.pendingBranch=t.ssContent,n,f,o,s);return f.deps===0&&f.resolve(),d}function ND(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=Ix(r?n.default:n),e.ssFallback=r?Ix(n.fallback):Qe(lr)}function Ix(e){let t;if(vt(e)){const n=Xa&&e._c;n&&(e._d=!1,me()),e=e(),n&&(e._d=!0,t=Ir,nO())}return Ke(e)&&(e=xD(e)),e=Gr(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function AA(e,t){t&&t.pendingBranch?Ke(e)?t.effects.push(...e):t.effects.push(e):u1(e)}function cu(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,h1(r,i))}function Tp(e,t){if(yn){let n=yn.provides;const r=yn.parent&&yn.parent.provides;r===n&&(n=yn.provides=Object.create(r)),n[e]=t}}function Kc(e,t,n=!1){const r=yn||Zn;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&vt(t)?t.call(r.proxy):t}}function OA(e,t){return sd(e,null,t)}function MA(e,t){return sd(e,null,{flush:"post"})}function PD(e,t){return sd(e,null,{flush:"sync"})}const mh={};function Tn(e,t,n){return sd(e,t,n)}function sd(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=jt){const l=iA()===(yn==null?void 0:yn.scope)?yn:null;let u,f=!1,d=!1;if(Fn(e)?(u=()=>e.value,f=Cf(e)):$a(e)?(u=()=>e,r=!0):Ke(e)?(d=!0,f=e.some(P=>$a(P)||Cf(P)),u=()=>e.map(P=>{if(Fn(P))return P.value;if($a(P))return Ma(P);if(vt(P))return Io(P,l,2)})):vt(e)?t?u=()=>Io(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return m&&m(),ei(e,l,3,[v])}:u=kr,t&&r){const P=u;u=()=>Ma(P())}let m,v=P=>{m=w.onStop=()=>{Io(P,l,4)}},y;if(wu)if(v=kr,t?n&&ei(t,l,3,[u(),d?[]:void 0,v]):u(),i==="sync"){const P=hO();y=P.__watcherHandles||(P.__watcherHandles=[])}else return kr;let _=d?new Array(e.length).fill(mh):mh;const T=()=>{if(w.active)if(t){const P=w.run();(r||f||(d?P.some((A,U)=>bu(A,_[U])):bu(P,_)))&&(m&&m(),ei(t,l,3,[P,_===mh?void 0:d&&_[0]===mh?[]:_,v]),_=P)}else w.run()};T.allowRecurse=!!t;let C;i==="sync"?C=T:i==="post"?C=()=>Jn(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),C=()=>Km(T));const w=new od(u,C);t?n?T():_=w.run():i==="post"?Jn(w.run.bind(w),l&&l.suspense):w.run();const S=()=>{w.stop(),l&&l.scope&&Xb(l.scope.effects,w)};return y&&y.push(S),S}function ID(e,t,n){const r=this.proxy,i=St(e)?e.includes(".")?LA(r,e):()=>r[e]:e.bind(r,r);let o;vt(t)?o=t:(o=t.handler,n=t);const s=yn;Us(this);const l=sd(i,o.bind(r),n);return s?Us(s):Rs(),l}function LA(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ma(e,t){if(!Jt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Fn(e))Ma(e.value,t);else if(Ke(e))for(let n=0;n<e.length;n++)Ma(e[n],t);else if(dl(e)||su(e))e.forEach(n=>{Ma(n,t)});else if(nA(e))for(const n in e)Ma(e[n],t);return e}function m1(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Bi(()=>{e.isMounted=!0}),Go(()=>{e.isUnmounting=!0}),e}const si=[Function,Array],DD={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:si,onEnter:si,onAfterEnter:si,onEnterCancelled:si,onBeforeLeave:si,onLeave:si,onAfterLeave:si,onLeaveCancelled:si,onBeforeAppear:si,onAppear:si,onAfterAppear:si,onAppearCancelled:si},setup(e,{slots:t}){const n=mo(),r=m1();let i;return()=>{const o=t.default&&Jm(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const T of o)if(T.type!==lr){s=T;break}}const l=Mt(e),{mode:u}=l;if(r.isLeaving)return Vv(s);const f=Dx(s);if(!f)return Vv(s);const d=_u(f,l,r,n);Ja(f,d);const m=n.subTree,v=m&&Dx(m);let y=!1;const{getTransitionKey:_}=f.type;if(_){const T=_();i===void 0?i=T:T!==i&&(i=T,y=!0)}if(v&&v.type!==lr&&(!Ai(f,v)||y)){const T=_u(v,l,r,n);if(Ja(v,T),u==="out-in")return r.isLeaving=!0,T.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Vv(s);u==="in-out"&&f.type!==lr&&(T.delayLeave=(C,w,S)=>{const P=NA(r,v);P[String(v.key)]=v,C._leaveCb=()=>{w(),C._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=S})}return s}}},g1=DD;function NA(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function _u(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:m,onLeave:v,onAfterLeave:y,onLeaveCancelled:_,onBeforeAppear:T,onAppear:C,onAfterAppear:w,onAppearCancelled:S}=t,P=String(e.key),A=NA(n,e),U=(L,B)=>{L&&ei(L,r,9,B)},z=(L,B)=>{const k=B[1];U(L,B),Ke(L)?L.every(D=>D.length<=1)&&k():L.length<=1&&k()},j={mode:o,persisted:s,beforeEnter(L){let B=l;if(!n.isMounted)if(i)B=T||l;else return;L._leaveCb&&L._leaveCb(!0);const k=A[P];k&&Ai(e,k)&&k.el._leaveCb&&k.el._leaveCb(),U(B,[L])},enter(L){let B=u,k=f,D=d;if(!n.isMounted)if(i)B=C||u,k=w||f,D=S||d;else return;let K=!1;const q=L._enterCb=Q=>{K||(K=!0,Q?U(D,[L]):U(k,[L]),j.delayedLeave&&j.delayedLeave(),L._enterCb=void 0)};B?z(B,[L,q]):q()},leave(L,B){const k=String(e.key);if(L._enterCb&&L._enterCb(!0),n.isUnmounting)return B();U(m,[L]);let D=!1;const K=L._leaveCb=q=>{D||(D=!0,B(),q?U(_,[L]):U(y,[L]),L._leaveCb=void 0,A[k]===e&&delete A[k])};A[k]=e,v?z(v,[L,K]):K()},clone(L){return _u(L,t,n,r)}};return j}function Vv(e){if(ad(e))return e=co(e),e.children=null,e}function Dx(e){return ad(e)?e.children?e.children[0]:void 0:e}function Ja(e,t){e.shapeFlag&6&&e.component?Ja(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Jm(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===kt?(s.patchFlag&128&&i++,r=r.concat(Jm(s.children,t,l))):(t||s.type!==lr)&&r.push(l!=null?co(s,{key:l}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function an(e){return vt(e)?{setup:e,name:e.name}:e}const Ha=e=>!!e.type.__asyncLoader;function RD(e){vt(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:o,suspensible:s=!0,onError:l}=e;let u=null,f,d=0;const m=()=>(d++,u=null,v()),v=()=>{let y;return u||(y=u=t().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((T,C)=>{l(_,()=>T(m()),()=>C(_),d+1)});throw _}).then(_=>y!==u&&u?u:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),f=_,_)))};return an({name:"AsyncComponentWrapper",__asyncLoader:v,get __asyncResolved(){return f},setup(){const y=yn;if(f)return()=>jv(f,y);const _=S=>{u=null,ml(S,y,13,!r)};if(s&&y.suspense||wu)return v().then(S=>()=>jv(S,y)).catch(S=>(_(S),()=>r?Qe(r,{error:S}):null));const T=At(!1),C=At(),w=At(!!i);return i&&setTimeout(()=>{w.value=!1},i),o!=null&&setTimeout(()=>{if(!T.value&&!C.value){const S=new Error(`Async component timed out after ${o}ms.`);_(S),C.value=S}},o),v().then(()=>{T.value=!0,y.parent&&ad(y.parent.vnode)&&Km(y.parent.update)}).catch(S=>{_(S),C.value=S}),()=>{if(T.value&&f)return jv(f,y);if(C.value&&r)return Qe(r,{error:C.value});if(n&&!w.value)return Qe(n)}}})}function jv(e,t){const{ref:n,props:r,children:i,ce:o}=t.vnode,s=Qe(e,r,i);return s.ref=n,s.ce=o,delete t.vnode.ce,s}const ad=e=>e.type.__isKeepAlive,zD={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=mo(),r=n.ctx;if(!r.renderer)return()=>{const S=t.default&&t.default();return S&&S.length===1?S[0]:S};const i=new Map,o=new Set;let s=null;const l=n.suspense,{renderer:{p:u,m:f,um:d,o:{createElement:m}}}=r,v=m("div");r.activate=(S,P,A,U,z)=>{const j=S.component;f(S,P,A,0,l),u(j.vnode,S,P,A,j,l,U,S.slotScopeIds,z),Jn(()=>{j.isDeactivated=!1,j.a&&lu(j.a);const L=S.props&&S.props.onVnodeMounted;L&&Nr(L,j.parent,S)},l)},r.deactivate=S=>{const P=S.component;f(S,v,null,1,l),Jn(()=>{P.da&&lu(P.da);const A=S.props&&S.props.onVnodeUnmounted;A&&Nr(A,P.parent,S),P.isDeactivated=!0},l)};function y(S){Wv(S),d(S,n,l,!0)}function _(S){i.forEach((P,A)=>{const U=b0(P.type);U&&(!S||!S(U))&&T(A)})}function T(S){const P=i.get(S);!s||!Ai(P,s)?y(P):s&&Wv(s),i.delete(S),o.delete(S)}Tn(()=>[e.include,e.exclude],([S,P])=>{S&&_(A=>Fc(S,A)),P&&_(A=>!Fc(P,A))},{flush:"post",deep:!0});let C=null;const w=()=>{C!=null&&i.set(C,Uv(n.subTree))};return Bi(w),Xm(w),Go(()=>{i.forEach(S=>{const{subTree:P,suspense:A}=n,U=Uv(P);if(S.type===U.type&&S.key===U.key){Wv(U);const z=U.component.da;z&&Jn(z,A);return}y(S)})}),()=>{if(C=null,!t.default)return null;const S=t.default(),P=S[0];if(S.length>1)return s=null,S;if(!Ws(P)||!(P.shapeFlag&4)&&!(P.shapeFlag&128))return s=null,P;let A=Uv(P);const U=A.type,z=b0(Ha(A)?A.type.__asyncResolved||{}:U),{include:j,exclude:L,max:B}=e;if(j&&(!z||!Fc(j,z))||L&&z&&Fc(L,z))return s=A,P;const k=A.key==null?U:A.key,D=i.get(k);return A.el&&(A=co(A),P.shapeFlag&128&&(P.ssContent=A)),C=k,D?(A.el=D.el,A.component=D.component,A.transition&&Ja(A,A.transition),A.shapeFlag|=512,o.delete(k),o.add(k)):(o.add(k),B&&o.size>parseInt(B,10)&&T(o.values().next().value)),A.shapeFlag|=256,s=A,EA(P.type)?P:A}}},BD=zD;function Fc(e,t){return Ke(e)?e.some(n=>Fc(n,t)):St(e)?e.split(",").includes(t):xI(e)?e.test(t):!1}function PA(e,t){DA(e,"a",t)}function IA(e,t){DA(e,"da",t)}function DA(e,t,n=yn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ym(t,r,n),n){let i=n.parent;for(;i&&i.parent;)ad(i.parent.vnode)&&$D(r,t,n,i),i=i.parent}}function $D(e,t,n,r){const i=Ym(t,e,r,!0);Zm(()=>{Xb(r[t],i)},n)}function Wv(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Uv(e){return e.shapeFlag&128?e.ssContent:e}function Ym(e,t,n=yn,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;Uu(),Us(n);const l=ei(t,n,e,s);return Rs(),Ku(),l});return r?i.unshift(o):i.push(o),o}}const qo=e=>(t,n=yn)=>(!wu||e==="sp")&&Ym(e,(...r)=>t(...r),n),RA=qo("bm"),Bi=qo("m"),zA=qo("bu"),Xm=qo("u"),Go=qo("bum"),Zm=qo("um"),BA=qo("sp"),$A=qo("rtg"),HA=qo("rtc");function FA(e,t=yn){Ym("ec",e,t)}function Wt(e,t){const n=Zn;if(n===null)return e;const r=eg(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,l,u,f=jt]=t[o];s&&(vt(s)&&(s={mounted:s,updated:s}),s.deep&&Ma(l),i.push({dir:s,instance:r,value:l,oldValue:void 0,arg:u,modifiers:f}))}return e}function Qi(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const l=i[s];o&&(l.oldValue=o[s].value);let u=l.dir[r];u&&(Uu(),ei(u,n,8,[e.el,l,e,t]),Ku())}}const v1="components",HD="directives";function lt(e,t){return y1(v1,e,!0,t)||e}const VA=Symbol();function js(e){return St(e)?y1(v1,e,!1)||e:e||VA}function qu(e){return y1(HD,e)}function y1(e,t,n=!0,r=!1){const i=Zn||yn;if(i){const o=i.type;if(e===v1){const l=b0(o,!1);if(l&&(l===t||l===Vn(t)||l===hl(Vn(t))))return o}const s=Rx(i[e]||o[e],t)||Rx(i.appContext[e],t);return!s&&r?o:s}}function Rx(e,t){return e&&(e[t]||e[Vn(t)]||e[hl(Vn(t))])}function Zt(e,t,n,r){let i;const o=n&&n[r];if(Ke(e)||St(e)){i=new Array(e.length);for(let s=0,l=e.length;s<l;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(Jt(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,o&&o[l]));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const f=s[l];i[l]=t(e[f],f,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}function b1(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Ke(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return e}function pn(e,t,n={},r,i){if(Zn.isCE||Zn.parent&&Ha(Zn.parent)&&Zn.parent.isCE)return t!=="default"&&(n.name=t),Qe("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),me();const s=o&&jA(o(n)),l=Et(kt,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function jA(e){return e.some(t=>Ws(t)?!(t.type===lr||t.type===kt&&!jA(t.children)):!0)?e:null}function u0(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:au(r)]=e[r];return n}const c0=e=>e?sO(e)?eg(e)||e.proxy:c0(e.parent):null,qc=Ht(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>c0(e.parent),$root:e=>c0(e.root),$emit:e=>e.emit,$options:e=>_1(e),$forceUpdate:e=>e.f||(e.f=()=>Km(e.update)),$nextTick:e=>e.n||(e.n=ro.bind(e.proxy)),$watch:e=>ID.bind(e)}),Kv=(e,t)=>e!==jt&&!e.__isScriptSetup&&It(e,t),f0={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:l,appContext:u}=e;let f;if(t[0]!=="$"){const y=s[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(Kv(r,t))return s[t]=1,r[t];if(i!==jt&&It(i,t))return s[t]=2,i[t];if((f=e.propsOptions[0])&&It(f,t))return s[t]=3,o[t];if(n!==jt&&It(n,t))return s[t]=4,n[t];d0&&(s[t]=0)}}const d=qc[t];let m,v;if(d)return t==="$attrs"&&$r(e,"get",t),d(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==jt&&It(n,t))return s[t]=4,n[t];if(v=u.config.globalProperties,It(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return Kv(i,t)?(i[t]=n,!0):r!==jt&&It(r,t)?(r[t]=n,!0):It(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let l;return!!n[s]||e!==jt&&It(e,s)||Kv(t,s)||(l=o[0])&&It(l,s)||It(r,s)||It(qc,s)||It(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:It(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},FD=Ht({},f0,{get(e,t){if(t!==Symbol.unscopables)return f0.get(e,t,e)},has(e,t){return t[0]!=="_"&&!lI(t)}});let d0=!0;function VD(e){const t=_1(e),n=e.proxy,r=e.ctx;d0=!1,t.beforeCreate&&zx(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:l,provide:u,inject:f,created:d,beforeMount:m,mounted:v,beforeUpdate:y,updated:_,activated:T,deactivated:C,beforeDestroy:w,beforeUnmount:S,destroyed:P,unmounted:A,render:U,renderTracked:z,renderTriggered:j,errorCaptured:L,serverPrefetch:B,expose:k,inheritAttrs:D,components:K,directives:q,filters:Q}=t;if(f&&jD(f,r,null,e.appContext.config.unwrapInjectedRef),s)for(const de in s){const xe=s[de];vt(xe)&&(r[de]=xe.bind(n))}if(i){const de=i.call(n,n);Jt(de)&&(e.data=pl(de))}if(d0=!0,o)for(const de in o){const xe=o[de],Be=vt(xe)?xe.bind(n,n):vt(xe.get)?xe.get.bind(n,n):kr,rt=!vt(xe)&&vt(xe.set)?xe.set.bind(n):kr,pt=gn({get:Be,set:rt});Object.defineProperty(r,de,{enumerable:!0,configurable:!0,get:()=>pt.value,set:yt=>pt.value=yt})}if(l)for(const de in l)WA(l[de],r,n,de);if(u){const de=vt(u)?u.call(n):u;Reflect.ownKeys(de).forEach(xe=>{Tp(xe,de[xe])})}d&&zx(d,e,"c");function ce(de,xe){Ke(xe)?xe.forEach(Be=>de(Be.bind(n))):xe&&de(xe.bind(n))}if(ce(RA,m),ce(Bi,v),ce(zA,y),ce(Xm,_),ce(PA,T),ce(IA,C),ce(FA,L),ce(HA,z),ce($A,j),ce(Go,S),ce(Zm,A),ce(BA,B),Ke(k))if(k.length){const de=e.exposed||(e.exposed={});k.forEach(xe=>{Object.defineProperty(de,xe,{get:()=>n[xe],set:Be=>n[xe]=Be})})}else e.exposed||(e.exposed={});U&&e.render===kr&&(e.render=U),D!=null&&(e.inheritAttrs=D),K&&(e.components=K),q&&(e.directives=q)}function jD(e,t,n=kr,r=!1){Ke(e)&&(e=h0(e));for(const i in e){const o=e[i];let s;Jt(o)?"default"in o?s=Kc(o.from||i,o.default,!0):s=Kc(o.from||i):s=Kc(o),Fn(s)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):t[i]=s}}function zx(e,t,n){ei(Ke(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function WA(e,t,n,r){const i=r.includes(".")?LA(n,r):()=>n[r];if(St(e)){const o=t[e];vt(o)&&Tn(i,o)}else if(vt(e))Tn(i,e.bind(n));else if(Jt(e))if(Ke(e))e.forEach(o=>WA(o,t,n,r));else{const o=vt(e.handler)?e.handler.bind(n):t[e.handler];vt(o)&&Tn(i,o,e)}}function _1(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,l=o.get(t);let u;return l?u=l:!i.length&&!n&&!r?u=t:(u={},i.length&&i.forEach(f=>Ep(u,f,s,!0)),Ep(u,t,s)),Jt(t)&&o.set(t,u),u}function Ep(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Ep(e,o,n,!0),i&&i.forEach(s=>Ep(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const l=WD[s]||n&&n[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const WD={data:Bx,props:_a,emits:_a,methods:_a,computed:_a,beforeCreate:br,created:br,beforeMount:br,mounted:br,beforeUpdate:br,updated:br,beforeDestroy:br,beforeUnmount:br,destroyed:br,unmounted:br,activated:br,deactivated:br,errorCaptured:br,serverPrefetch:br,components:_a,directives:_a,watch:KD,provide:Bx,inject:UD};function Bx(e,t){return t?e?function(){return Ht(vt(e)?e.call(this,this):e,vt(t)?t.call(this,this):t)}:t:e}function UD(e,t){return _a(h0(e),h0(t))}function h0(e){if(Ke(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function br(e,t){return e?[...new Set([].concat(e,t))]:t}function _a(e,t){return e?Ht(Ht(Object.create(null),e),t):t}function KD(e,t){if(!e)return t;if(!t)return e;const n=Ht(Object.create(null),e);for(const r in t)n[r]=br(e[r],t[r]);return n}function qD(e,t,n,r=!1){const i={},o={};_p(o,Qm,1),e.propsDefaults=Object.create(null),UA(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:Sp(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function GD(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,l=Mt(i),[u]=e.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const d=e.vnode.dynamicProps;for(let m=0;m<d.length;m++){let v=d[m];if(qm(e.emitsOptions,v))continue;const y=t[v];if(u)if(It(o,v))y!==o[v]&&(o[v]=y,f=!0);else{const _=Vn(v);i[_]=p0(u,l,_,y,e,!1)}else y!==o[v]&&(o[v]=y,f=!0)}}}else{UA(e,t,i,o)&&(f=!0);let d;for(const m in l)(!t||!It(t,m)&&((d=Yr(m))===m||!It(t,d)))&&(u?n&&(n[m]!==void 0||n[d]!==void 0)&&(i[m]=p0(u,l,m,void 0,e,!0)):delete i[m]);if(o!==l)for(const m in o)(!t||!It(t,m))&&(delete o[m],f=!0)}f&&$o(e,"set","$attrs")}function UA(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,l;if(t)for(let u in t){if(za(u))continue;const f=t[u];let d;i&&It(i,d=Vn(u))?!o||!o.includes(d)?n[d]=f:(l||(l={}))[d]=f:qm(e.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,s=!0)}if(o){const u=Mt(n),f=l||jt;for(let d=0;d<o.length;d++){const m=o[d];n[m]=p0(i,u,m,f[m],e,!It(f,m))}}return s}function p0(e,t,n,r,i,o){const s=e[n];if(s!=null){const l=It(s,"default");if(l&&r===void 0){const u=s.default;if(s.type!==Function&&vt(u)){const{propsDefaults:f}=i;n in f?r=f[n]:(Us(i),r=f[n]=u.call(null,t),Rs())}else r=u}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===Yr(n))&&(r=!0))}return r}function KA(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},l=[];let u=!1;if(!vt(e)){const d=m=>{u=!0;const[v,y]=KA(m,t,!0);Ht(s,v),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!u)return Jt(e)&&r.set(e,ou),ou;if(Ke(o))for(let d=0;d<o.length;d++){const m=Vn(o[d]);$x(m)&&(s[m]=jt)}else if(o)for(const d in o){const m=Vn(d);if($x(m)){const v=o[d],y=s[m]=Ke(v)||vt(v)?{type:v}:Object.assign({},v);if(y){const _=Vx(Boolean,y.type),T=Vx(String,y.type);y[0]=_>-1,y[1]=T<0||_<T,(_>-1||It(y,"default"))&&l.push(m)}}}const f=[s,l];return Jt(e)&&r.set(e,f),f}function $x(e){return e[0]!=="$"}function Hx(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Fx(e,t){return Hx(e)===Hx(t)}function Vx(e,t){return Ke(t)?t.findIndex(n=>Fx(n,e)):vt(t)&&Fx(t,e)?0:-1}const qA=e=>e[0]==="_"||e==="$stable",w1=e=>Ke(e)?e.map(Gr):[Gr(e)],JD=(e,t,n)=>{if(t._n)return t;const r=Bt((...i)=>w1(t(...i)),n);return r._c=!1,r},GA=(e,t,n)=>{const r=e._ctx;for(const i in e){if(qA(i))continue;const o=e[i];if(vt(o))t[i]=JD(i,o,r);else if(o!=null){const s=w1(o);t[i]=()=>s}}},JA=(e,t)=>{const n=w1(t);e.slots.default=()=>n},YD=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Mt(t),_p(t,"_",n)):GA(t,e.slots={})}else e.slots={},t&&JA(e,t);_p(e.slots,Qm,1)},XD=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=jt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(Ht(i,t),!n&&l===1&&delete i._):(o=!t.$stable,GA(t,i)),s=t}else t&&(JA(e,t),s={default:1});if(o)for(const l in i)!qA(l)&&!(l in s)&&delete i[l]};function YA(){return{app:null,config:{isNativeTag:np,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ZD=0;function QD(e,t){return function(r,i=null){vt(r)||(r=Object.assign({},r)),i!=null&&!Jt(i)&&(i=null);const o=YA(),s=new Set;let l=!1;const u=o.app={_uid:ZD++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:mO,get config(){return o.config},set config(f){},use(f,...d){return s.has(f)||(f&&vt(f.install)?(s.add(f),f.install(u,...d)):vt(f)&&(s.add(f),f(u,...d))),u},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),u},component(f,d){return d?(o.components[f]=d,u):o.components[f]},directive(f,d){return d?(o.directives[f]=d,u):o.directives[f]},mount(f,d,m){if(!l){const v=Qe(r,i);return v.appContext=o,d&&t?t(v,f):e(v,f,m),l=!0,u._container=f,f.__vue_app__=u,eg(v.component)||v.component.proxy}},unmount(){l&&(e(null,u._container),delete u._container.__vue_app__)},provide(f,d){return o.provides[f]=d,u}};return u}}function Ap(e,t,n,r,i=!1){if(Ke(e)){e.forEach((v,y)=>Ap(v,t&&(Ke(t)?t[y]:t),n,r,i));return}if(Ha(r)&&!i)return;const o=r.shapeFlag&4?eg(r.component)||r.component.proxy:r.el,s=i?null:o,{i:l,r:u}=e,f=t&&t.r,d=l.refs===jt?l.refs={}:l.refs,m=l.setupState;if(f!=null&&f!==u&&(St(f)?(d[f]=null,It(m,f)&&(m[f]=null)):Fn(f)&&(f.value=null)),vt(u))Io(u,l,12,[s,d]);else{const v=St(u),y=Fn(u);if(v||y){const _=()=>{if(e.f){const T=v?It(m,u)?m[u]:d[u]:u.value;i?Ke(T)&&Xb(T,o):Ke(T)?T.includes(o)||T.push(o):v?(d[u]=[o],It(m,u)&&(m[u]=d[u])):(u.value=[o],e.k&&(d[e.k]=u.value))}else v?(d[u]=s,It(m,u)&&(m[u]=s)):y&&(u.value=s,e.k&&(d[e.k]=s))};s?(_.id=-1,Jn(_,n)):_()}}}let gs=!1;const gh=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",vh=e=>e.nodeType===8;function e5(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:s,remove:l,insert:u,createComment:f}}=e,d=(w,S)=>{if(!S.hasChildNodes()){n(null,w,S),Cp(),S._vnode=w;return}gs=!1,m(S.firstChild,w,null,null,null),Cp(),S._vnode=w,gs&&console.error("Hydration completed but contains mismatches.")},m=(w,S,P,A,U,z=!1)=>{const j=vh(w)&&w.data==="[",L=()=>T(w,S,P,A,U,j),{type:B,ref:k,shapeFlag:D,patchFlag:K}=S;let q=w.nodeType;S.el=w,K===-2&&(z=!1,S.dynamicChildren=null);let Q=null;switch(B){case Ya:q!==3?S.children===""?(u(S.el=i(""),s(w),w),Q=w):Q=L():(w.data!==S.children&&(gs=!0,w.data=S.children),Q=o(w));break;case lr:q!==8||j?Q=L():Q=o(w);break;case Fa:if(j&&(w=o(w),q=w.nodeType),q===1||q===3){Q=w;const I=!S.children.length;for(let ce=0;ce<S.staticCount;ce++)I&&(S.children+=Q.nodeType===1?Q.outerHTML:Q.data),ce===S.staticCount-1&&(S.anchor=Q),Q=o(Q);return j?o(Q):Q}else L();break;case kt:j?Q=_(w,S,P,A,U,z):Q=L();break;default:if(D&1)q!==1||S.type.toLowerCase()!==w.tagName.toLowerCase()?Q=L():Q=v(w,S,P,A,U,z);else if(D&6){S.slotScopeIds=U;const I=s(w);if(t(S,I,null,P,A,gh(I),z),Q=j?C(w):o(w),Q&&vh(Q)&&Q.data==="teleport end"&&(Q=o(Q)),Ha(S)){let ce;j?(ce=Qe(kt),ce.anchor=Q?Q.previousSibling:I.lastChild):ce=w.nodeType===3?$i(""):Qe("div"),ce.el=w,S.component.subTree=ce}}else D&64?q!==8?Q=L():Q=S.type.hydrate(w,S,P,A,U,z,e,y):D&128&&(Q=S.type.hydrate(w,S,P,A,gh(s(w)),U,z,e,m))}return k!=null&&Ap(k,null,A,S),Q},v=(w,S,P,A,U,z)=>{z=z||!!S.dynamicChildren;const{type:j,props:L,patchFlag:B,shapeFlag:k,dirs:D}=S,K=j==="input"&&D||j==="option";if(K||B!==-1){if(D&&Qi(S,null,P,"created"),L)if(K||!z||B&48)for(const Q in L)(K&&Q.endsWith("value")||fl(Q)&&!za(Q))&&r(w,Q,null,L[Q],!1,void 0,P);else L.onClick&&r(w,"onClick",null,L.onClick,!1,void 0,P);let q;if((q=L&&L.onVnodeBeforeMount)&&Nr(q,P,S),D&&Qi(S,null,P,"beforeMount"),((q=L&&L.onVnodeMounted)||D)&&AA(()=>{q&&Nr(q,P,S),D&&Qi(S,null,P,"mounted")},A),k&16&&!(L&&(L.innerHTML||L.textContent))){let Q=y(w.firstChild,S,w,P,A,U,z);for(;Q;){gs=!0;const I=Q;Q=Q.nextSibling,l(I)}}else k&8&&w.textContent!==S.children&&(gs=!0,w.textContent=S.children)}return w.nextSibling},y=(w,S,P,A,U,z,j)=>{j=j||!!S.dynamicChildren;const L=S.children,B=L.length;for(let k=0;k<B;k++){const D=j?L[k]:L[k]=Gr(L[k]);if(w)w=m(w,D,A,U,z,j);else{if(D.type===Ya&&!D.children)continue;gs=!0,n(null,D,P,null,A,U,gh(P),z)}}return w},_=(w,S,P,A,U,z)=>{const{slotScopeIds:j}=S;j&&(U=U?U.concat(j):j);const L=s(w),B=y(o(w),S,L,P,A,U,z);return B&&vh(B)&&B.data==="]"?o(S.anchor=B):(gs=!0,u(S.anchor=f("]"),L,B),B)},T=(w,S,P,A,U,z)=>{if(gs=!0,S.el=null,z){const B=C(w);for(;;){const k=o(w);if(k&&k!==B)l(k);else break}}const j=o(w),L=s(w);return l(w),n(null,S,L,j,P,A,gh(L),U),j},C=w=>{let S=0;for(;w;)if(w=o(w),w&&vh(w)&&(w.data==="["&&S++,w.data==="]")){if(S===0)return o(w);S--}return w};return[d,m]}const Jn=AA;function XA(e){return QA(e)}function ZA(e){return QA(e,e5)}function QA(e,t){const n=AI();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:l,createComment:u,setText:f,setElementText:d,parentNode:m,nextSibling:v,setScopeId:y=kr,insertStaticContent:_}=e,T=(te,se,le,ke=null,be=null,Ce=null,G=!1,J=null,M=!!se.dynamicChildren)=>{if(te===se)return;te&&!Ai(te,se)&&(ke=$e(te),yt(te,be,Ce,!0),te=null),se.patchFlag===-2&&(M=!1,se.dynamicChildren=null);const{type:V,ref:N,shapeFlag:W}=se;switch(V){case Ya:C(te,se,le,ke);break;case lr:w(te,se,le,ke);break;case Fa:te==null&&S(se,le,ke,G);break;case kt:K(te,se,le,ke,be,Ce,G,J,M);break;default:W&1?U(te,se,le,ke,be,Ce,G,J,M):W&6?q(te,se,le,ke,be,Ce,G,J,M):(W&64||W&128)&&V.process(te,se,le,ke,be,Ce,G,J,M,qe)}N!=null&&be&&Ap(N,te&&te.ref,Ce,se||te,!se)},C=(te,se,le,ke)=>{if(te==null)r(se.el=l(se.children),le,ke);else{const be=se.el=te.el;se.children!==te.children&&f(be,se.children)}},w=(te,se,le,ke)=>{te==null?r(se.el=u(se.children||""),le,ke):se.el=te.el},S=(te,se,le,ke)=>{[te.el,te.anchor]=_(te.children,se,le,ke,te.el,te.anchor)},P=({el:te,anchor:se},le,ke)=>{let be;for(;te&&te!==se;)be=v(te),r(te,le,ke),te=be;r(se,le,ke)},A=({el:te,anchor:se})=>{let le;for(;te&&te!==se;)le=v(te),i(te),te=le;i(se)},U=(te,se,le,ke,be,Ce,G,J,M)=>{G=G||se.type==="svg",te==null?z(se,le,ke,be,Ce,G,J,M):B(te,se,be,Ce,G,J,M)},z=(te,se,le,ke,be,Ce,G,J)=>{let M,V;const{type:N,props:W,shapeFlag:H,transition:ee,dirs:ue}=te;if(M=te.el=s(te.type,Ce,W&&W.is,W),H&8?d(M,te.children):H&16&&L(te.children,M,null,ke,be,Ce&&N!=="foreignObject",G,J),ue&&Qi(te,null,ke,"created"),j(M,te,te.scopeId,G,ke),W){for(const ye in W)ye!=="value"&&!za(ye)&&o(M,ye,null,W[ye],Ce,te.children,ke,be,Ie);"value"in W&&o(M,"value",null,W.value),(V=W.onVnodeBeforeMount)&&Nr(V,ke,te)}ue&&Qi(te,null,ke,"beforeMount");const ge=(!be||be&&!be.pendingBranch)&&ee&&!ee.persisted;ge&&ee.beforeEnter(M),r(M,se,le),((V=W&&W.onVnodeMounted)||ge||ue)&&Jn(()=>{V&&Nr(V,ke,te),ge&&ee.enter(M),ue&&Qi(te,null,ke,"mounted")},be)},j=(te,se,le,ke,be)=>{if(le&&y(te,le),ke)for(let Ce=0;Ce<ke.length;Ce++)y(te,ke[Ce]);if(be){let Ce=be.subTree;if(se===Ce){const G=be.vnode;j(te,G,G.scopeId,G.slotScopeIds,be.parent)}}},L=(te,se,le,ke,be,Ce,G,J,M=0)=>{for(let V=M;V<te.length;V++){const N=te[V]=J?Cs(te[V]):Gr(te[V]);T(null,N,se,le,ke,be,Ce,G,J)}},B=(te,se,le,ke,be,Ce,G)=>{const J=se.el=te.el;let{patchFlag:M,dynamicChildren:V,dirs:N}=se;M|=te.patchFlag&16;const W=te.props||jt,H=se.props||jt;let ee;le&&ga(le,!1),(ee=H.onVnodeBeforeUpdate)&&Nr(ee,le,se,te),N&&Qi(se,te,le,"beforeUpdate"),le&&ga(le,!0);const ue=be&&se.type!=="foreignObject";if(V?k(te.dynamicChildren,V,J,le,ke,ue,Ce):G||xe(te,se,J,null,le,ke,ue,Ce,!1),M>0){if(M&16)D(J,se,W,H,le,ke,be);else if(M&2&&W.class!==H.class&&o(J,"class",null,H.class,be),M&4&&o(J,"style",W.style,H.style,be),M&8){const ge=se.dynamicProps;for(let ye=0;ye<ge.length;ye++){const X=ge[ye],Z=W[X],pe=H[X];(pe!==Z||X==="value")&&o(J,X,Z,pe,be,te.children,le,ke,Ie)}}M&1&&te.children!==se.children&&d(J,se.children)}else!G&&V==null&&D(J,se,W,H,le,ke,be);((ee=H.onVnodeUpdated)||N)&&Jn(()=>{ee&&Nr(ee,le,se,te),N&&Qi(se,te,le,"updated")},ke)},k=(te,se,le,ke,be,Ce,G)=>{for(let J=0;J<se.length;J++){const M=te[J],V=se[J],N=M.el&&(M.type===kt||!Ai(M,V)||M.shapeFlag&70)?m(M.el):le;T(M,V,N,null,ke,be,Ce,G,!0)}},D=(te,se,le,ke,be,Ce,G)=>{if(le!==ke){if(le!==jt)for(const J in le)!za(J)&&!(J in ke)&&o(te,J,le[J],null,G,se.children,be,Ce,Ie);for(const J in ke){if(za(J))continue;const M=ke[J],V=le[J];M!==V&&J!=="value"&&o(te,J,V,M,G,se.children,be,Ce,Ie)}"value"in ke&&o(te,"value",le.value,ke.value)}},K=(te,se,le,ke,be,Ce,G,J,M)=>{const V=se.el=te?te.el:l(""),N=se.anchor=te?te.anchor:l("");let{patchFlag:W,dynamicChildren:H,slotScopeIds:ee}=se;ee&&(J=J?J.concat(ee):ee),te==null?(r(V,le,ke),r(N,le,ke),L(se.children,le,N,be,Ce,G,J,M)):W>0&&W&64&&H&&te.dynamicChildren?(k(te.dynamicChildren,H,le,be,Ce,G,J),(se.key!=null||be&&se===be.subTree)&&k1(te,se,!0)):xe(te,se,le,N,be,Ce,G,J,M)},q=(te,se,le,ke,be,Ce,G,J,M)=>{se.slotScopeIds=J,te==null?se.shapeFlag&512?be.ctx.activate(se,le,ke,G,M):Q(se,le,ke,be,Ce,G,M):I(te,se,M)},Q=(te,se,le,ke,be,Ce,G)=>{const J=te.component=oO(te,ke,be);if(ad(te)&&(J.ctx.renderer=qe),aO(J),J.asyncDep){if(be&&be.registerDep(J,ce),!te.el){const M=J.subTree=Qe(lr);w(null,M,se,le)}return}ce(J,te,se,le,be,Ce,G)},I=(te,se,le)=>{const ke=se.component=te.component;if(TD(te,se,le))if(ke.asyncDep&&!ke.asyncResolved){de(ke,se,le);return}else ke.next=se,_D(ke.update),ke.update();else se.el=te.el,ke.vnode=se},ce=(te,se,le,ke,be,Ce,G)=>{const J=()=>{if(te.isMounted){let{next:N,bu:W,u:H,parent:ee,vnode:ue}=te,ge=N,ye;ga(te,!1),N?(N.el=ue.el,de(te,N,G)):N=ue,W&&lu(W),(ye=N.props&&N.props.onVnodeBeforeUpdate)&&Nr(ye,ee,N,ue),ga(te,!0);const X=rp(te),Z=te.subTree;te.subTree=X,T(Z,X,m(Z.el),$e(Z),te,be,Ce),N.el=X.el,ge===null&&h1(te,X.el),H&&Jn(H,be),(ye=N.props&&N.props.onVnodeUpdated)&&Jn(()=>Nr(ye,ee,N,ue),be)}else{let N;const{el:W,props:H}=se,{bm:ee,m:ue,parent:ge}=te,ye=Ha(se);if(ga(te,!1),ee&&lu(ee),!ye&&(N=H&&H.onVnodeBeforeMount)&&Nr(N,ge,se),ga(te,!0),W&&je){const X=()=>{te.subTree=rp(te),je(W,te.subTree,te,be,null)};ye?se.type.__asyncLoader().then(()=>!te.isUnmounted&&X()):X()}else{const X=te.subTree=rp(te);T(null,X,le,ke,te,be,Ce),se.el=X.el}if(ue&&Jn(ue,be),!ye&&(N=H&&H.onVnodeMounted)){const X=se;Jn(()=>Nr(N,ge,X),be)}(se.shapeFlag&256||ge&&Ha(ge.vnode)&&ge.vnode.shapeFlag&256)&&te.a&&Jn(te.a,be),te.isMounted=!0,se=le=ke=null}},M=te.effect=new od(J,()=>Km(V),te.scope),V=te.update=()=>M.run();V.id=te.uid,ga(te,!0),V()},de=(te,se,le)=>{se.component=te;const ke=te.vnode.props;te.vnode=se,te.next=null,GD(te,se.props,ke,le),XD(te,se.children,le),Uu(),Nx(),Ku()},xe=(te,se,le,ke,be,Ce,G,J,M=!1)=>{const V=te&&te.children,N=te?te.shapeFlag:0,W=se.children,{patchFlag:H,shapeFlag:ee}=se;if(H>0){if(H&128){rt(V,W,le,ke,be,Ce,G,J,M);return}else if(H&256){Be(V,W,le,ke,be,Ce,G,J,M);return}}ee&8?(N&16&&Ie(V,be,Ce),W!==V&&d(le,W)):N&16?ee&16?rt(V,W,le,ke,be,Ce,G,J,M):Ie(V,be,Ce,!0):(N&8&&d(le,""),ee&16&&L(W,le,ke,be,Ce,G,J,M))},Be=(te,se,le,ke,be,Ce,G,J,M)=>{te=te||ou,se=se||ou;const V=te.length,N=se.length,W=Math.min(V,N);let H;for(H=0;H<W;H++){const ee=se[H]=M?Cs(se[H]):Gr(se[H]);T(te[H],ee,le,null,be,Ce,G,J,M)}V>N?Ie(te,be,Ce,!0,!1,W):L(se,le,ke,be,Ce,G,J,M,W)},rt=(te,se,le,ke,be,Ce,G,J,M)=>{let V=0;const N=se.length;let W=te.length-1,H=N-1;for(;V<=W&&V<=H;){const ee=te[V],ue=se[V]=M?Cs(se[V]):Gr(se[V]);if(Ai(ee,ue))T(ee,ue,le,null,be,Ce,G,J,M);else break;V++}for(;V<=W&&V<=H;){const ee=te[W],ue=se[H]=M?Cs(se[H]):Gr(se[H]);if(Ai(ee,ue))T(ee,ue,le,null,be,Ce,G,J,M);else break;W--,H--}if(V>W){if(V<=H){const ee=H+1,ue=ee<N?se[ee].el:ke;for(;V<=H;)T(null,se[V]=M?Cs(se[V]):Gr(se[V]),le,ue,be,Ce,G,J,M),V++}}else if(V>H)for(;V<=W;)yt(te[V],be,Ce,!0),V++;else{const ee=V,ue=V,ge=new Map;for(V=ue;V<=H;V++){const Ee=se[V]=M?Cs(se[V]):Gr(se[V]);Ee.key!=null&&ge.set(Ee.key,V)}let ye,X=0;const Z=H-ue+1;let pe=!1,Oe=0;const Ve=new Array(Z);for(V=0;V<Z;V++)Ve[V]=0;for(V=ee;V<=W;V++){const Ee=te[V];if(X>=Z){yt(Ee,be,Ce,!0);continue}let Pe;if(Ee.key!=null)Pe=ge.get(Ee.key);else for(ye=ue;ye<=H;ye++)if(Ve[ye-ue]===0&&Ai(Ee,se[ye])){Pe=ye;break}Pe===void 0?yt(Ee,be,Ce,!0):(Ve[Pe-ue]=V+1,Pe>=Oe?Oe=Pe:pe=!0,T(Ee,se[Pe],le,null,be,Ce,G,J,M),X++)}const he=pe?t5(Ve):ou;for(ye=he.length-1,V=Z-1;V>=0;V--){const Ee=ue+V,Pe=se[Ee],ve=Ee+1<N?se[Ee+1].el:ke;Ve[V]===0?T(null,Pe,le,ve,be,Ce,G,J,M):pe&&(ye<0||V!==he[ye]?pt(Pe,le,ve,2):ye--)}}},pt=(te,se,le,ke,be=null)=>{const{el:Ce,type:G,transition:J,children:M,shapeFlag:V}=te;if(V&6){pt(te.component.subTree,se,le,ke);return}if(V&128){te.suspense.move(se,le,ke);return}if(V&64){G.move(te,se,le,qe);return}if(G===kt){r(Ce,se,le);for(let W=0;W<M.length;W++)pt(M[W],se,le,ke);r(te.anchor,se,le);return}if(G===Fa){P(te,se,le);return}if(ke!==2&&V&1&&J)if(ke===0)J.beforeEnter(Ce),r(Ce,se,le),Jn(()=>J.enter(Ce),be);else{const{leave:W,delayLeave:H,afterLeave:ee}=J,ue=()=>r(Ce,se,le),ge=()=>{W(Ce,()=>{ue(),ee&&ee()})};H?H(Ce,ue,ge):ge()}else r(Ce,se,le)},yt=(te,se,le,ke=!1,be=!1)=>{const{type:Ce,props:G,ref:J,children:M,dynamicChildren:V,shapeFlag:N,patchFlag:W,dirs:H}=te;if(J!=null&&Ap(J,null,le,te,!0),N&256){se.ctx.deactivate(te);return}const ee=N&1&&H,ue=!Ha(te);let ge;if(ue&&(ge=G&&G.onVnodeBeforeUnmount)&&Nr(ge,se,te),N&6)Ye(te.component,le,ke);else{if(N&128){te.suspense.unmount(le,ke);return}ee&&Qi(te,null,se,"beforeUnmount"),N&64?te.type.remove(te,se,le,be,qe,ke):V&&(Ce!==kt||W>0&&W&64)?Ie(V,se,le,!1,!0):(Ce===kt&&W&384||!be&&N&16)&&Ie(M,se,le),ke&&bt(te)}(ue&&(ge=G&&G.onVnodeUnmounted)||ee)&&Jn(()=>{ge&&Nr(ge,se,te),ee&&Qi(te,null,se,"unmounted")},le)},bt=te=>{const{type:se,el:le,anchor:ke,transition:be}=te;if(se===kt){gt(le,ke);return}if(se===Fa){A(te);return}const Ce=()=>{i(le),be&&!be.persisted&&be.afterLeave&&be.afterLeave()};if(te.shapeFlag&1&&be&&!be.persisted){const{leave:G,delayLeave:J}=be,M=()=>G(le,Ce);J?J(te.el,Ce,M):M()}else Ce()},gt=(te,se)=>{let le;for(;te!==se;)le=v(te),i(te),te=le;i(se)},Ye=(te,se,le)=>{const{bum:ke,scope:be,update:Ce,subTree:G,um:J}=te;ke&&lu(ke),be.stop(),Ce&&(Ce.active=!1,yt(G,te,se,le)),J&&Jn(J,se),Jn(()=>{te.isUnmounted=!0},se),se&&se.pendingBranch&&!se.isUnmounted&&te.asyncDep&&!te.asyncResolved&&te.suspenseId===se.pendingId&&(se.deps--,se.deps===0&&se.resolve())},Ie=(te,se,le,ke=!1,be=!1,Ce=0)=>{for(let G=Ce;G<te.length;G++)yt(te[G],se,le,ke,be)},$e=te=>te.shapeFlag&6?$e(te.component.subTree):te.shapeFlag&128?te.suspense.next():v(te.anchor||te.el),Ae=(te,se,le)=>{te==null?se._vnode&&yt(se._vnode,null,null,!0):T(se._vnode||null,te,se,null,null,null,le),Nx(),Cp(),se._vnode=te},qe={p:T,um:yt,m:pt,r:bt,mt:Q,mc:L,pc:xe,pbc:k,n:$e,o:e};let Xe,je;return t&&([Xe,je]=t(qe)),{render:Ae,hydrate:Xe,createApp:QD(Ae,Xe)}}function ga({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function k1(e,t,n=!1){const r=e.children,i=t.children;if(Ke(r)&&Ke(i))for(let o=0;o<r.length;o++){const s=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=Cs(i[o]),l.el=s.el),n||k1(s,l)),l.type===Ya&&(l.el=s.el)}}function t5(e){const t=e.slice(),n=[0];let r,i,o,s,l;const u=e.length;for(r=0;r<u;r++){const f=e[r];if(f!==0){if(i=n[n.length-1],e[i]<f){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,e[n[l]]<f?o=l+1:s=l;f<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}const n5=e=>e.__isTeleport,Gc=e=>e&&(e.disabled||e.disabled===""),jx=e=>typeof SVGElement<"u"&&e instanceof SVGElement,m0=(e,t)=>{const n=e&&e.to;return St(n)?t?t(n):null:n},r5={__isTeleport:!0,process(e,t,n,r,i,o,s,l,u,f){const{mc:d,pc:m,pbc:v,o:{insert:y,querySelector:_,createText:T,createComment:C}}=f,w=Gc(t.props);let{shapeFlag:S,children:P,dynamicChildren:A}=t;if(e==null){const U=t.el=T(""),z=t.anchor=T("");y(U,n,r),y(z,n,r);const j=t.target=m0(t.props,_),L=t.targetAnchor=T("");j&&(y(L,j),s=s||jx(j));const B=(k,D)=>{S&16&&d(P,k,D,i,o,s,l,u)};w?B(n,z):j&&B(j,L)}else{t.el=e.el;const U=t.anchor=e.anchor,z=t.target=e.target,j=t.targetAnchor=e.targetAnchor,L=Gc(e.props),B=L?n:z,k=L?U:j;if(s=s||jx(z),A?(v(e.dynamicChildren,A,B,i,o,s,l),k1(e,t,!0)):u||m(e,t,B,k,i,o,s,l,!1),w)L||yh(t,n,U,f,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const D=t.target=m0(t.props,_);D&&yh(t,D,null,f,0)}else L&&yh(t,z,j,f,1)}tO(t)},remove(e,t,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:l,children:u,anchor:f,targetAnchor:d,target:m,props:v}=e;if(m&&o(d),(s||!Gc(v))&&(o(f),l&16))for(let y=0;y<u.length;y++){const _=u[y];i(_,t,n,!0,!!_.dynamicChildren)}},move:yh,hydrate:i5};function yh(e,t,n,{o:{insert:r},m:i},o=2){o===0&&r(e.targetAnchor,t,n);const{el:s,anchor:l,shapeFlag:u,children:f,props:d}=e,m=o===2;if(m&&r(s,t,n),(!m||Gc(d))&&u&16)for(let v=0;v<f.length;v++)i(f[v],t,n,2);m&&r(l,t,n)}function i5(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:l,querySelector:u}},f){const d=t.target=m0(t.props,u);if(d){const m=d._lpa||d.firstChild;if(t.shapeFlag&16)if(Gc(t.props))t.anchor=f(s(e),t,l(e),n,r,i,o),t.targetAnchor=m;else{t.anchor=s(e);let v=m;for(;v;)if(v=s(v),v&&v.nodeType===8&&v.data==="teleport anchor"){t.targetAnchor=v,d._lpa=t.targetAnchor&&s(t.targetAnchor);break}f(m,t,d,n,r,i,o)}tO(t)}return t.anchor&&s(t.anchor)}const eO=r5;function tO(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const kt=Symbol(void 0),Ya=Symbol(void 0),lr=Symbol(void 0),Fa=Symbol(void 0),Jc=[];let Ir=null;function me(e=!1){Jc.push(Ir=e?null:[])}function nO(){Jc.pop(),Ir=Jc[Jc.length-1]||null}let Xa=1;function g0(e){Xa+=e}function rO(e){return e.dynamicChildren=Xa>0?Ir||ou:null,nO(),Xa>0&&Ir&&Ir.push(e),e}function Se(e,t,n,r,i,o){return rO(ie(e,t,n,r,i,o,!0))}function Et(e,t,n,r,i){return rO(Qe(e,t,n,r,i,!0))}function Ws(e){return e?e.__v_isVNode===!0:!1}function Ai(e,t){return e.type===t.type&&e.key===t.key}function o5(e){}const Qm="__vInternal",iO=({key:e})=>e??null,ip=({ref:e,ref_key:t,ref_for:n})=>e!=null?St(e)||Fn(e)||vt(e)?{i:Zn,r:e,k:t,f:!!n}:e:null;function ie(e,t=null,n=null,r=0,i=null,o=e===kt?0:1,s=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&iO(t),ref:t&&ip(t),scopeId:Gm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Zn};return l?(S1(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=St(n)?8:16),Xa>0&&!s&&Ir&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&Ir.push(u),u}const Qe=s5;function s5(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===VA)&&(e=lr),Ws(e)){const l=co(e,t,!0);return n&&S1(l,n),Xa>0&&!o&&Ir&&(l.shapeFlag&6?Ir[Ir.indexOf(e)]=l:Ir.push(l)),l.patchFlag|=-2,l}if(h5(e)&&(e=e.__vccOpts),t){t=x1(t);let{class:l,style:u}=t;l&&!St(l)&&(t.class=mt(l)),Jt(u)&&(i1(u)&&!Ke(u)&&(u=Ht({},u)),t.style=Qr(u))}const s=St(e)?1:EA(e)?128:n5(e)?64:Jt(e)?4:vt(e)?2:0;return ie(e,t,n,r,i,s,o,!0)}function x1(e){return e?i1(e)||Qm in e?Ht({},e):e:null}function co(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=e,l=t?mi(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&iO(l),ref:t&&t.ref?n&&i?Ke(i)?i.concat(ip(t)):[i,ip(t)]:ip(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==kt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&co(e.ssContent),ssFallback:e.ssFallback&&co(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function $i(e=" ",t=0){return Qe(Ya,null,e,t)}function a5(e,t){const n=Qe(Fa,null,e);return n.staticCount=t,n}function _t(e="",t=!1){return t?(me(),Et(lr,null,e)):Qe(lr,null,e)}function Gr(e){return e==null||typeof e=="boolean"?Qe(lr):Ke(e)?Qe(kt,null,e.slice()):typeof e=="object"?Cs(e):Qe(Ya,null,String(e))}function Cs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:co(e)}function S1(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ke(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),S1(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Qm in t)?t._ctx=Zn:i===3&&Zn&&(Zn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else vt(t)?(t={default:t,_ctx:Zn},n=32):(t=String(t),r&64?(n=16,t=[$i(t)]):n=8);e.children=t,e.shapeFlag|=n}function mi(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=mt([t.class,r.class]));else if(i==="style")t.style=Qr([t.style,r.style]);else if(fl(i)){const o=t[i],s=r[i];s&&o!==s&&!(Ke(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function Nr(e,t,n,r=null){ei(e,t,7,[n,r])}const l5=YA();let u5=0;function oO(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||l5,o={uid:u5++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new e1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:KA(r,i),emitsOptions:TA(r,i),emit:null,emitted:null,propsDefaults:jt,inheritAttrs:r.inheritAttrs,ctx:jt,data:jt,props:jt,attrs:jt,slots:jt,refs:jt,setupState:jt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=kD.bind(null,o),e.ce&&e.ce(o),o}let yn=null;const mo=()=>yn||Zn,Us=e=>{yn=e,e.scope.on()},Rs=()=>{yn&&yn.scope.off(),yn=null};function sO(e){return e.vnode.shapeFlag&4}let wu=!1;function aO(e,t=!1){wu=t;const{props:n,children:r}=e.vnode,i=sO(e);qD(e,n,i,t),YD(e,r);const o=i?c5(e,t):void 0;return wu=!1,o}function c5(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ea(new Proxy(e.ctx,f0));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?cO(e):null;Us(e),Uu();const o=Io(r,e,0,[e.props,i]);if(Ku(),Rs(),Zb(o)){if(o.then(Rs,Rs),t)return o.then(s=>{v0(e,s,t)}).catch(s=>{ml(s,e,0)});e.asyncDep=o}else v0(e,o,t)}else uO(e,t)}function v0(e,t,n){vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Jt(t)&&(e.setupState=a1(t)),uO(e,n)}let Op,y0;function lO(e){Op=e,y0=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,FD))}}const f5=()=>!Op;function uO(e,t,n){const r=e.type;if(!e.render){if(!t&&Op&&!r.render){const i=r.template||_1(e).template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:l,compilerOptions:u}=r,f=Ht(Ht({isCustomElement:o,delimiters:l},s),u);r.render=Op(i,f)}}e.render=r.render||kr,y0&&y0(e)}Us(e),Uu(),VD(e),Ku(),Rs()}function d5(e){return new Proxy(e.attrs,{get(t,n){return $r(e,"get","$attrs"),t[n]}})}function cO(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=d5(e))},slots:e.slots,emit:e.emit,expose:t}}function eg(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(a1(ea(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in qc)return qc[n](e)},has(t,n){return n in t||n in qc}}))}function b0(e,t=!0){return vt(e)?e.displayName||e.name:e.name||t&&e.__name}function h5(e){return vt(e)&&"__vccOpts"in e}const gn=(e,t)=>mD(e,t,wu);function p5(){return null}function m5(){return null}function g5(e){}function v5(e,t){return null}function y5(){return fO().slots}function b5(){return fO().attrs}function fO(){const e=mo();return e.setupContext||(e.setupContext=cO(e))}function _5(e,t){const n=Ke(e)?e.reduce((r,i)=>(r[i]={},r),{}):e;for(const r in t){const i=n[r];i?Ke(i)||vt(i)?n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(n[r]={default:t[r]})}return n}function w5(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function k5(e){const t=mo();let n=e();return Rs(),Zb(n)&&(n=n.catch(r=>{throw Us(t),r})),[n,()=>Us(t)]}function jn(e,t,n){const r=arguments.length;return r===2?Jt(t)&&!Ke(t)?Ws(t)?Qe(e,null,[t]):Qe(e,t):Qe(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ws(n)&&(n=[n]),Qe(e,t,n))}const dO=Symbol(""),hO=()=>Kc(dO);function x5(){}function S5(e,t,n,r){const i=n[r];if(i&&pO(i,e))return i;const o=t();return o.memo=e.slice(),n[r]=o}function pO(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(bu(n[r],t[r]))return!1;return Xa>0&&Ir&&Ir.push(e),!0}const mO="3.2.47",C5={createComponentInstance:oO,setupComponent:aO,renderComponentRoot:rp,setCurrentRenderingInstance:Of,isVNode:Ws,normalizeVNode:Gr},T5=C5,E5=null,A5=null,O5="http://www.w3.org/2000/svg",Ca=typeof document<"u"?document:null,Wx=Ca&&Ca.createElement("template"),M5={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Ca.createElementNS(O5,e):Ca.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ca.createTextNode(e),createComment:e=>Ca.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ca.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Wx.innerHTML=r?`<svg>${e}</svg>`:e;const l=Wx.content;if(r){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function L5(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function N5(e,t,n){const r=e.style,i=St(n);if(n&&!i){if(t&&!St(t))for(const o in t)n[o]==null&&_0(r,o,"");for(const o in n)_0(r,o,n[o])}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const Ux=/\s*!important$/;function _0(e,t,n){if(Ke(n))n.forEach(r=>_0(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=P5(e,t);Ux.test(n)?e.setProperty(Yr(r),n.replace(Ux,""),"important"):e[r]=n}}const Kx=["Webkit","Moz","ms"],qv={};function P5(e,t){const n=qv[t];if(n)return n;let r=Vn(t);if(r!=="filter"&&r in e)return qv[t]=r;r=hl(r);for(let i=0;i<Kx.length;i++){const o=Kx[i]+r;if(o in e)return qv[t]=o}return t}const qx="http://www.w3.org/1999/xlink";function I5(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(qx,t.slice(6,t.length)):e.setAttributeNS(qx,t,n);else{const o=bI(t);n==null||o&&!QE(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function D5(e,t,n,r,i,o,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,o),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n??"";(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=QE(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Lo(e,t,n,r){e.addEventListener(t,n,r)}function R5(e,t,n,r){e.removeEventListener(t,n,r)}function z5(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[l,u]=B5(t);if(r){const f=o[t]=F5(r,i);Lo(e,l,f,u)}else s&&(R5(e,l,s,u),o[t]=void 0)}}const Gx=/(?:Once|Passive|Capture)$/;function B5(e){let t;if(Gx.test(e)){t={};let r;for(;r=e.match(Gx);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yr(e.slice(2)),t]}let Gv=0;const $5=Promise.resolve(),H5=()=>Gv||($5.then(()=>Gv=0),Gv=Date.now());function F5(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ei(V5(r,n.value),t,5,[r])};return n.value=e,n.attached=H5(),n}function V5(e,t){if(Ke(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Jx=/^on[a-z]/,j5=(e,t,n,r,i=!1,o,s,l,u)=>{t==="class"?L5(e,r,i):t==="style"?N5(e,n,r):fl(t)?Yb(t)||z5(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):W5(e,t,r,i))?D5(e,t,r,o,s,l,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),I5(e,t,r,i))};function W5(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&Jx.test(t)&&vt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Jx.test(t)&&St(n)?!1:t in e}function gO(e,t){const n=an(e);class r extends tg{constructor(o){super(n,o,t)}}return r.def=n,r}const U5=e=>gO(e,MO),K5=typeof HTMLElement<"u"?HTMLElement:class{};class tg extends K5{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,ro(()=>{this._connected||(x0(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=(r,i=!1)=>{const{props:o,styles:s}=r;let l;if(o&&!Ke(o))for(const u in o){const f=o[u];(f===Number||f&&f.type===Number)&&(u in this._props&&(this._props[u]=kp(this._props[u])),(l||(l=Object.create(null)))[Vn(u)]=!0)}this._numberProps=l,i&&this._resolveProps(r),this._applyStyles(s),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=Ke(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Vn))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o)}})}_setAttr(t){let n=this.getAttribute(t);const r=Vn(t);this._numberProps&&this._numberProps[r]&&(n=kp(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Yr(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Yr(t),n+""):n||this.removeAttribute(Yr(t))))}_update(){x0(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Qe(this._def,Ht({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(o,s)=>{this.dispatchEvent(new CustomEvent(o,{detail:s}))};n.emit=(o,...s)=>{r(o,s),Yr(o)!==o&&r(Yr(o),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof tg){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function q5(e="$style"){{const t=mo();if(!t)return jt;const n=t.type.__cssModules;if(!n)return jt;const r=n[e];return r||jt}}function G5(e){const t=mo();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>k0(o,i))},r=()=>{const i=e(t.proxy);w0(t.subTree,i),n(i)};MA(r),Bi(()=>{const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),Zm(()=>i.disconnect())})}function w0(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{w0(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)k0(e.el,t);else if(e.type===kt)e.children.forEach(n=>w0(n,t));else if(e.type===Fa){let{el:n,anchor:r}=e;for(;n&&(k0(n,t),n!==r);)n=n.nextSibling}}function k0(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const vs="transition",Lc="animation",ku=(e,{slots:t})=>jn(g1,yO(e),t);ku.displayName="Transition";const vO={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},J5=ku.props=Ht({},g1.props,vO),va=(e,t=[])=>{Ke(e)?e.forEach(n=>n(...t)):e&&e(...t)},Yx=e=>e?Ke(e)?e.some(t=>t.length>1):e.length>1:!1;function yO(e){const t={};for(const K in e)K in vO||(t[K]=e[K]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:f=s,appearToClass:d=l,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,_=Y5(i),T=_&&_[0],C=_&&_[1],{onBeforeEnter:w,onEnter:S,onEnterCancelled:P,onLeave:A,onLeaveCancelled:U,onBeforeAppear:z=w,onAppear:j=S,onAppearCancelled:L=P}=t,B=(K,q,Q)=>{ws(K,q?d:l),ws(K,q?f:s),Q&&Q()},k=(K,q)=>{K._isLeaving=!1,ws(K,m),ws(K,y),ws(K,v),q&&q()},D=K=>(q,Q)=>{const I=K?j:S,ce=()=>B(q,K,Q);va(I,[q,ce]),Xx(()=>{ws(q,K?u:o),To(q,K?d:l),Yx(I)||Zx(q,r,T,ce)})};return Ht(t,{onBeforeEnter(K){va(w,[K]),To(K,o),To(K,s)},onBeforeAppear(K){va(z,[K]),To(K,u),To(K,f)},onEnter:D(!1),onAppear:D(!0),onLeave(K,q){K._isLeaving=!0;const Q=()=>k(K,q);To(K,m),_O(),To(K,v),Xx(()=>{K._isLeaving&&(ws(K,m),To(K,y),Yx(A)||Zx(K,r,C,Q))}),va(A,[K,Q])},onEnterCancelled(K){B(K,!1),va(P,[K])},onAppearCancelled(K){B(K,!0),va(L,[K])},onLeaveCancelled(K){k(K),va(U,[K])}})}function Y5(e){if(e==null)return null;if(Jt(e))return[Jv(e.enter),Jv(e.leave)];{const t=Jv(e);return[t,t]}}function Jv(e){return kp(e)}function To(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function ws(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Xx(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let X5=0;function Zx(e,t,n,r){const i=e._endId=++X5,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:l,propCount:u}=bO(e,t);if(!s)return r();const f=s+"end";let d=0;const m=()=>{e.removeEventListener(f,v),o()},v=y=>{y.target===e&&++d>=u&&m()};setTimeout(()=>{d<u&&m()},l+1),e.addEventListener(f,v)}function bO(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),i=r(`${vs}Delay`),o=r(`${vs}Duration`),s=Qx(i,o),l=r(`${Lc}Delay`),u=r(`${Lc}Duration`),f=Qx(l,u);let d=null,m=0,v=0;t===vs?s>0&&(d=vs,m=s,v=o.length):t===Lc?f>0&&(d=Lc,m=f,v=u.length):(m=Math.max(s,f),d=m>0?s>f?vs:Lc:null,v=d?d===vs?o.length:u.length:0);const y=d===vs&&/\b(transform|all)(,|$)/.test(r(`${vs}Property`).toString());return{type:d,timeout:m,propCount:v,hasTransform:y}}function Qx(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>e2(n)+e2(e[r])))}function e2(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function _O(){return document.body.offsetHeight}const wO=new WeakMap,kO=new WeakMap,xO={name:"TransitionGroup",props:Ht({},J5,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=mo(),r=m1();let i,o;return Xm(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!rR(i[0].el,n.vnode.el,s))return;i.forEach(eR),i.forEach(tR);const l=i.filter(nR);_O(),l.forEach(u=>{const f=u.el,d=f.style;To(f,s),d.transform=d.webkitTransform=d.transitionDuration="";const m=f._moveCb=v=>{v&&v.target!==f||(!v||/transform$/.test(v.propertyName))&&(f.removeEventListener("transitionend",m),f._moveCb=null,ws(f,s))};f.addEventListener("transitionend",m)})}),()=>{const s=Mt(e),l=yO(s);let u=s.tag||kt;i=o,o=t.default?Jm(t.default()):[];for(let f=0;f<o.length;f++){const d=o[f];d.key!=null&&Ja(d,_u(d,l,r,n))}if(i)for(let f=0;f<i.length;f++){const d=i[f];Ja(d,_u(d,l,r,n)),wO.set(d,d.el.getBoundingClientRect())}return Qe(u,null,o)}}},Z5=e=>delete e.mode;xO.props;const Q5=xO;function eR(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function tR(e){kO.set(e,e.el.getBoundingClientRect())}function nR(e){const t=wO.get(e),n=kO.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",e}}function rR(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=bO(r);return i.removeChild(r),o}const Ks=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ke(t)?n=>lu(t,n):t};function iR(e){e.target.composing=!0}function t2(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const An={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=Ks(i);const o=r||i.props&&i.props.type==="number";Lo(e,t?"change":"input",s=>{if(s.target.composing)return;let l=e.value;n&&(l=l.trim()),o&&(l=wp(l)),e._assign(l)}),n&&Lo(e,"change",()=>{e.value=e.value.trim()}),t||(Lo(e,"compositionstart",iR),Lo(e,"compositionend",t2),Lo(e,"change",t2))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e._assign=Ks(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&wp(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},ld={deep:!0,created(e,t,n){e._assign=Ks(n),Lo(e,"change",()=>{const r=e._modelValue,i=xu(e),o=e.checked,s=e._assign;if(Ke(r)){const l=$m(r,i),u=l!==-1;if(o&&!u)s(r.concat(i));else if(!o&&u){const f=[...r];f.splice(l,1),s(f)}}else if(dl(r)){const l=new Set(r);o?l.add(i):l.delete(i),s(l)}else s(SO(e,o))})},mounted:n2,beforeUpdate(e,t,n){e._assign=Ks(n),n2(e,t,n)}};function n2(e,{value:t,oldValue:n},r){e._modelValue=t,Ke(t)?e.checked=$m(t,r.props.value)>-1:dl(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Hs(t,SO(e,!0)))}const C1={created(e,{value:t},n){e.checked=Hs(t,n.props.value),e._assign=Ks(n),Lo(e,"change",()=>{e._assign(xu(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=Ks(r),t!==n&&(e.checked=Hs(t,r.props.value))}},T1={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=dl(t);Lo(e,"change",()=>{const o=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?wp(xu(s)):xu(s));e._assign(e.multiple?i?new Set(o):o:o[0])}),e._assign=Ks(r)},mounted(e,{value:t}){r2(e,t)},beforeUpdate(e,t,n){e._assign=Ks(n)},updated(e,{value:t}){r2(e,t)}};function r2(e,t){const n=e.multiple;if(!(n&&!Ke(t)&&!dl(t))){for(let r=0,i=e.options.length;r<i;r++){const o=e.options[r],s=xu(o);if(n)Ke(t)?o.selected=$m(t,s)>-1:o.selected=t.has(s);else if(Hs(xu(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function xu(e){return"_value"in e?e._value:e.value}function SO(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const CO={created(e,t,n){bh(e,t,n,null,"created")},mounted(e,t,n){bh(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){bh(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){bh(e,t,n,r,"updated")}};function TO(e,t){switch(e){case"SELECT":return T1;case"TEXTAREA":return An;default:switch(t){case"checkbox":return ld;case"radio":return C1;default:return An}}}function bh(e,t,n,r,i){const s=TO(e.tagName,n.props&&n.props.type)[i];s&&s(e,t,n,r)}function oR(){An.getSSRProps=({value:e})=>({value:e}),C1.getSSRProps=({value:e},t)=>{if(t.props&&Hs(t.props.value,e))return{checked:!0}},ld.getSSRProps=({value:e},t)=>{if(Ke(e)){if(t.props&&$m(e,t.props.value)>-1)return{checked:!0}}else if(dl(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},CO.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=TO(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const sR=["ctrl","shift","alt","meta"],aR={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>sR.some(n=>e[`${n}Key`]&&!t.includes(n))},at=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const o=aR[t[i]];if(o&&o(n,t))return}return e(n,...r)},lR={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},fu=(e,t)=>n=>{if(!("key"in n))return;const r=Yr(n.key);if(t.some(i=>i===r||lR[i]===r))return e(n)},Su={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Nc(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Nc(e,!0),r.enter(e)):r.leave(e,()=>{Nc(e,!1)}):Nc(e,t))},beforeUnmount(e,{value:t}){Nc(e,t)}};function Nc(e,t){e.style.display=t?e._vod:"none"}function uR(){Su.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const EO=Ht({patchProp:j5},M5);let Yc,i2=!1;function AO(){return Yc||(Yc=XA(EO))}function OO(){return Yc=i2?Yc:ZA(EO),i2=!0,Yc}const x0=(...e)=>{AO().render(...e)},MO=(...e)=>{OO().hydrate(...e)},E1=(...e)=>{const t=AO().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=LO(r);if(!i)return;const o=t._component;!vt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t},cR=(...e)=>{const t=OO().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=LO(r);if(i)return n(i,!0,i instanceof SVGElement)},t};function LO(e){return St(e)?document.querySelector(e):e}let o2=!1;const fR=()=>{o2||(o2=!0,oR(),uR())},dR=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:g1,Comment:lr,EffectScope:e1,Fragment:kt,KeepAlive:BD,ReactiveEffect:od,Static:Fa,Suspense:AD,Teleport:eO,Text:Ya,Transition:ku,TransitionGroup:Q5,VueElement:tg,assertNumber:vD,callWithAsyncErrorHandling:ei,callWithErrorHandling:Io,camelize:Vn,capitalize:hl,cloneVNode:co,compatUtils:A5,computed:gn,createApp:E1,createBlock:Et,createCommentVNode:_t,createElementBlock:Se,createElementVNode:ie,createHydrationRenderer:ZA,createPropsRestProxy:w5,createRenderer:XA,createSSRApp:cR,createSlots:b1,createStaticVNode:a5,createTextVNode:$i,createVNode:Qe,customRef:bA,defineAsyncComponent:RD,defineComponent:an,defineCustomElement:gO,defineEmits:m5,defineExpose:g5,defineProps:p5,defineSSRCustomElement:U5,get devtools(){return Ul},effect:PI,effectScope:OI,getCurrentInstance:mo,getCurrentScope:iA,getTransitionRawChildren:Jm,guardReactiveProps:x1,h:jn,handleError:ml,hydrate:MO,initCustomFormatter:x5,initDirectivesForSSR:fR,inject:Kc,isMemoSame:pO,isProxy:i1,isReactive:$a,isReadonly:Ga,isRef:Fn,isRuntimeOnly:f5,isShallow:Cf,isVNode:Ws,markRaw:ea,mergeDefaults:_5,mergeProps:mi,nextTick:ro,normalizeClass:mt,normalizeProps:ZE,normalizeStyle:Qr,onActivated:PA,onBeforeMount:RA,onBeforeUnmount:Go,onBeforeUpdate:zA,onDeactivated:IA,onErrorCaptured:FA,onMounted:Bi,onRenderTracked:HA,onRenderTriggered:$A,onScopeDispose:MI,onServerPrefetch:BA,onUnmounted:Zm,onUpdated:Xm,openBlock:me,popScopeId:f1,provide:Tp,proxyRefs:a1,pushScopeId:c1,queuePostFlushCb:u1,reactive:pl,readonly:r1,ref:At,registerRuntimeCompiler:lO,render:x0,renderList:Zt,renderSlot:pn,resolveComponent:lt,resolveDirective:qu,resolveDynamicComponent:js,resolveFilter:E5,resolveTransitionHooks:_u,setBlockTracking:g0,setDevtoolsHook:CA,setTransitionHooks:Ja,shallowReactive:Sp,shallowReadonly:aD,shallowRef:vA,ssrContextKey:dO,ssrUtils:T5,stop:II,toDisplayString:Ne,toHandlerKey:au,toHandlers:u0,toRaw:Mt,toRef:_A,toRefs:dD,transformVNodeArgs:o5,triggerRef:uD,unref:_r,useAttrs:b5,useCssModule:q5,useCssVars:G5,useSSRContext:hO,useSlots:y5,useTransitionState:m1,vModelCheckbox:ld,vModelDynamic:CO,vModelRadio:C1,vModelSelect:T1,vModelText:An,vShow:Su,version:mO,warn:gD,watch:Tn,watchEffect:OA,watchPostEffect:MA,watchSyncEffect:PD,withAsyncContext:k5,withCtx:Bt,withDefaults:v5,withDirectives:Wt,withKeys:fu,withMemo:S5,withModifiers:at,withScopeId:d1},Symbol.toStringTag,{value:"Module"}));function A1(e){throw e}function NO(e){}function sn(e,t,n,r){const i=e,o=new SyntaxError(String(i));return o.code=e,o.loc=t,o}const Lf=Symbol(""),Xc=Symbol(""),O1=Symbol(""),Mp=Symbol(""),PO=Symbol(""),Za=Symbol(""),IO=Symbol(""),DO=Symbol(""),M1=Symbol(""),L1=Symbol(""),ud=Symbol(""),N1=Symbol(""),RO=Symbol(""),P1=Symbol(""),Lp=Symbol(""),I1=Symbol(""),D1=Symbol(""),R1=Symbol(""),z1=Symbol(""),zO=Symbol(""),BO=Symbol(""),ng=Symbol(""),Np=Symbol(""),B1=Symbol(""),$1=Symbol(""),Nf=Symbol(""),cd=Symbol(""),H1=Symbol(""),S0=Symbol(""),hR=Symbol(""),C0=Symbol(""),Pp=Symbol(""),pR=Symbol(""),mR=Symbol(""),F1=Symbol(""),gR=Symbol(""),vR=Symbol(""),V1=Symbol(""),$O=Symbol(""),Cu={[Lf]:"Fragment",[Xc]:"Teleport",[O1]:"Suspense",[Mp]:"KeepAlive",[PO]:"BaseTransition",[Za]:"openBlock",[IO]:"createBlock",[DO]:"createElementBlock",[M1]:"createVNode",[L1]:"createElementVNode",[ud]:"createCommentVNode",[N1]:"createTextVNode",[RO]:"createStaticVNode",[P1]:"resolveComponent",[Lp]:"resolveDynamicComponent",[I1]:"resolveDirective",[D1]:"resolveFilter",[R1]:"withDirectives",[z1]:"renderList",[zO]:"renderSlot",[BO]:"createSlots",[ng]:"toDisplayString",[Np]:"mergeProps",[B1]:"normalizeClass",[$1]:"normalizeStyle",[Nf]:"normalizeProps",[cd]:"guardReactiveProps",[H1]:"toHandlers",[S0]:"camelize",[hR]:"capitalize",[C0]:"toHandlerKey",[Pp]:"setBlockTracking",[pR]:"pushScopeId",[mR]:"popScopeId",[F1]:"withCtx",[gR]:"unref",[vR]:"isRef",[V1]:"withMemo",[$O]:"isMemoSame"};function yR(e){Object.getOwnPropertySymbols(e).forEach(t=>{Cu[t]=e[t]})}const ni={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function bR(e,t=ni){return{type:0,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function Pf(e,t,n,r,i,o,s,l=!1,u=!1,f=!1,d=ni){return e&&(l?(e.helper(Za),e.helper(Au(e.inSSR,f))):e.helper(Eu(e.inSSR,f)),s&&e.helper(R1)),{type:13,tag:t,props:n,children:r,patchFlag:i,dynamicProps:o,directives:s,isBlock:l,disableTracking:u,isComponent:f,loc:d}}function fd(e,t=ni){return{type:17,loc:t,elements:e}}function di(e,t=ni){return{type:15,loc:t,properties:e}}function bn(e,t){return{type:16,loc:ni,key:St(e)?Tt(e,!0):e,value:t}}function Tt(e,t=!1,n=ni,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function Ii(e,t=ni){return{type:8,loc:t,children:e}}function En(e,t=[],n=ni){return{type:14,loc:n,callee:e,arguments:t}}function Tu(e,t=void 0,n=!1,r=!1,i=ni){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:i}}function T0(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:ni}}function _R(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:ni}}function wR(e){return{type:21,body:e,loc:ni}}const Dr=e=>e.type===4&&e.isStatic,Xl=(e,t)=>e===t||e===Yr(t);function HO(e){if(Xl(e,"Teleport"))return Xc;if(Xl(e,"Suspense"))return O1;if(Xl(e,"KeepAlive"))return Mp;if(Xl(e,"BaseTransition"))return PO}const kR=/^\d|[^\$\w]/,j1=e=>!kR.test(e),xR=/[A-Za-z_$\xA0-\uFFFF]/,SR=/[\.\?\w$\xA0-\uFFFF]/,CR=/\s+[.[]\s*|\s*[.[]\s+/g,TR=e=>{e=e.trim().replace(CR,s=>s.trim());let t=0,n=[],r=0,i=0,o=null;for(let s=0;s<e.length;s++){const l=e.charAt(s);switch(t){case 0:if(l==="[")n.push(t),t=1,r++;else if(l==="(")n.push(t),t=2,i++;else if(!(s===0?xR:SR).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(n.push(t),t=3,o=l):l==="["?r++:l==="]"&&(--r||(t=n.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")n.push(t),t=3,o=l;else if(l==="(")i++;else if(l===")"){if(s===e.length-1)return!1;--i||(t=n.pop())}break;case 3:l===o&&(t=n.pop(),o=null);break}}return!r&&!i},FO=TR;function VO(e,t,n){const i={source:e.source.slice(t,t+n),start:Ip(e.start,e.source,t),end:e.end};return n!=null&&(i.end=Ip(e.start,e.source,t+n)),i}function Ip(e,t,n=t.length){return Dp(Ht({},e),t,n)}function Dp(e,t,n=t.length){let r=0,i=-1;for(let o=0;o<n;o++)t.charCodeAt(o)===10&&(r++,i=o);return e.offset+=n,e.line+=r,e.column=i===-1?e.column+n:n-i,e}function ui(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(i.type===7&&(n||i.exp)&&(St(t)?i.name===t:t.test(i.name)))return i}}function rg(e,t,n=!1,r=!1){for(let i=0;i<e.props.length;i++){const o=e.props[i];if(o.type===6){if(n)continue;if(o.name===t&&(o.value||r))return o}else if(o.name==="bind"&&(o.exp||r)&&La(o.arg,t))return o}}function La(e,t){return!!(e&&Dr(e)&&e.content===t)}function ER(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Yv(e){return e.type===5||e.type===2}function AR(e){return e.type===7&&e.name==="slot"}function Rp(e){return e.type===1&&e.tagType===3}function zp(e){return e.type===1&&e.tagType===2}function Eu(e,t){return e||t?M1:L1}function Au(e,t){return e||t?IO:DO}const OR=new Set([Nf,cd]);function jO(e,t=[]){if(e&&!St(e)&&e.type===14){const n=e.callee;if(!St(n)&&OR.has(n))return jO(e.arguments[0],t.concat(e))}return[e,t]}function Bp(e,t,n){let r,i=e.type===13?e.props:e.arguments[2],o=[],s;if(i&&!St(i)&&i.type===14){const l=jO(i);i=l[0],o=l[1],s=o[o.length-1]}if(i==null||St(i))r=di([t]);else if(i.type===14){const l=i.arguments[0];!St(l)&&l.type===15?s2(t,l)||l.properties.unshift(t):i.callee===H1?r=En(n.helper(Np),[di([t]),i]):i.arguments.unshift(di([t])),!r&&(r=i)}else i.type===15?(s2(t,i)||i.properties.unshift(t),r=i):(r=En(n.helper(Np),[di([t]),i]),s&&s.callee===cd&&(s=o[o.length-2]));e.type===13?s?s.arguments[0]=r:e.props=r:s?s.arguments[0]=r:e.arguments[2]=r}function s2(e,t){let n=!1;if(e.key.type===4){const r=e.key.content;n=t.properties.some(i=>i.key.type===4&&i.key.content===r)}return n}function If(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,r)=>n==="-"?"_":e.charCodeAt(r).toString())}`}function MR(e){return e.type===14&&e.callee===V1?e.arguments[1].returns:e}function W1(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(Eu(r,e.isComponent)),t(Za),t(Au(r,e.isComponent)))}function a2(e,t){const n=t.options?t.options.compatConfig:t.compatConfig,r=n&&n[e];return e==="MODE"?r||3:r}function Va(e,t){const n=a2("MODE",t),r=a2(e,t);return n===3?r===!0:r!==!1}function Df(e,t,n,...r){return Va(e,t)}const LR=/&(gt|lt|amp|apos|quot);/g,NR={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},l2={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:np,isPreTag:np,isCustomElement:np,decodeEntities:e=>e.replace(LR,(t,n)=>NR[n]),onError:A1,onWarn:NO,comments:!1};function PR(e,t={}){const n=IR(e,t),r=ti(n);return bR(U1(n,0,[]),gi(n,r))}function IR(e,t){const n=Ht({},l2);let r;for(r in t)n[r]=t[r]===void 0?l2[r]:t[r];return{options:n,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:n.onWarn}}function U1(e,t,n){const r=ig(n),i=r?r.ns:0,o=[];for(;!jR(e,t,n);){const l=e.source;let u;if(t===0||t===1){if(!e.inVPre&&sr(l,e.options.delimiters[0]))u=FR(e,t);else if(t===0&&l[0]==="<")if(l.length===1)Vt(e,5,1);else if(l[1]==="!")sr(l,"<!--")?u=RR(e):sr(l,"<!DOCTYPE")?u=Pc(e):sr(l,"<![CDATA[")?i!==0?u=DR(e,n):(Vt(e,1),u=Pc(e)):(Vt(e,11),u=Pc(e));else if(l[1]==="/")if(l.length===2)Vt(e,5,2);else if(l[2]===">"){Vt(e,14,2),Dn(e,3);continue}else if(/[a-z]/i.test(l[2])){Vt(e,23),E0(e,1,r);continue}else Vt(e,12,2),u=Pc(e);else/[a-z]/i.test(l[1])?(u=zR(e,n),Va("COMPILER_NATIVE_TEMPLATE",e)&&u&&u.tag==="template"&&!u.props.some(f=>f.type===7&&WO(f.name))&&(u=u.children)):l[1]==="?"?(Vt(e,21,1),u=Pc(e)):Vt(e,12,1)}if(u||(u=VR(e,t)),Ke(u))for(let f=0;f<u.length;f++)u2(o,u[f]);else u2(o,u)}let s=!1;if(t!==2&&t!==1){const l=e.options.whitespace!=="preserve";for(let u=0;u<o.length;u++){const f=o[u];if(f.type===2)if(e.inPre)f.content=f.content.replace(/\r\n/g,`
`);else if(/[^\t\r\n\f ]/.test(f.content))l&&(f.content=f.content.replace(/[\t\r\n\f ]+/g," "));else{const d=o[u-1],m=o[u+1];!d||!m||l&&(d.type===3&&m.type===3||d.type===3&&m.type===1||d.type===1&&m.type===3||d.type===1&&m.type===1&&/[\r\n]/.test(f.content))?(s=!0,o[u]=null):f.content=" "}else f.type===3&&!e.options.comments&&(s=!0,o[u]=null)}if(e.inPre&&r&&e.options.isPreTag(r.tag)){const u=o[0];u&&u.type===2&&(u.content=u.content.replace(/^\r?\n/,""))}}return s?o.filter(Boolean):o}function u2(e,t){if(t.type===2){const n=ig(e);if(n&&n.type===2&&n.loc.end.offset===t.loc.start.offset){n.content+=t.content,n.loc.end=t.loc.end,n.loc.source+=t.loc.source;return}}e.push(t)}function DR(e,t){Dn(e,9);const n=U1(e,3,t);return e.source.length===0?Vt(e,6):Dn(e,3),n}function RR(e){const t=ti(e);let n;const r=/--(\!)?>/.exec(e.source);if(!r)n=e.source.slice(4),Dn(e,e.source.length),Vt(e,7);else{r.index<=3&&Vt(e,0),r[1]&&Vt(e,10),n=e.source.slice(4,r.index);const i=e.source.slice(0,r.index);let o=1,s=0;for(;(s=i.indexOf("<!--",o))!==-1;)Dn(e,s-o+1),s+4<i.length&&Vt(e,16),o=s+1;Dn(e,r.index+r[0].length-o+1)}return{type:3,content:n,loc:gi(e,t)}}function Pc(e){const t=ti(e),n=e.source[1]==="?"?1:2;let r;const i=e.source.indexOf(">");return i===-1?(r=e.source.slice(n),Dn(e,e.source.length)):(r=e.source.slice(n,i),Dn(e,i+1)),{type:3,content:r,loc:gi(e,t)}}function zR(e,t){const n=e.inPre,r=e.inVPre,i=ig(t),o=E0(e,0,i),s=e.inPre&&!n,l=e.inVPre&&!r;if(o.isSelfClosing||e.options.isVoidTag(o.tag))return s&&(e.inPre=!1),l&&(e.inVPre=!1),o;t.push(o);const u=e.options.getTextMode(o,i),f=U1(e,u,t);t.pop();{const d=o.props.find(m=>m.type===6&&m.name==="inline-template");if(d&&Df("COMPILER_INLINE_TEMPLATE",e,d.loc)){const m=gi(e,o.loc.end);d.value={type:2,content:m.source,loc:m}}}if(o.children=f,A0(e.source,o.tag))E0(e,1,i);else if(Vt(e,24,0,o.loc.start),e.source.length===0&&o.tag.toLowerCase()==="script"){const d=f[0];d&&sr(d.loc.source,"<!--")&&Vt(e,8)}return o.loc=gi(e,o.loc.start),s&&(e.inPre=!1),l&&(e.inVPre=!1),o}const WO=Fr("if,else,else-if,for,slot");function E0(e,t,n){const r=ti(e),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),o=i[1],s=e.options.getNamespace(o,n);Dn(e,i[0].length),Rf(e);const l=ti(e),u=e.source;e.options.isPreTag(o)&&(e.inPre=!0);let f=c2(e,t);t===0&&!e.inVPre&&f.some(v=>v.type===7&&v.name==="pre")&&(e.inVPre=!0,Ht(e,l),e.source=u,f=c2(e,t).filter(v=>v.name!=="v-pre"));let d=!1;if(e.source.length===0?Vt(e,9):(d=sr(e.source,"/>"),t===1&&d&&Vt(e,4),Dn(e,d?2:1)),t===1)return;let m=0;return e.inVPre||(o==="slot"?m=2:o==="template"?f.some(v=>v.type===7&&WO(v.name))&&(m=3):BR(o,f,e)&&(m=1)),{type:1,ns:s,tag:o,tagType:m,props:f,isSelfClosing:d,children:[],loc:gi(e,r),codegenNode:void 0}}function BR(e,t,n){const r=n.options;if(r.isCustomElement(e))return!1;if(e==="component"||/^[A-Z]/.test(e)||HO(e)||r.isBuiltInComponent&&r.isBuiltInComponent(e)||r.isNativeTag&&!r.isNativeTag(e))return!0;for(let i=0;i<t.length;i++){const o=t[i];if(o.type===6){if(o.name==="is"&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(Df("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}else{if(o.name==="is")return!0;if(o.name==="bind"&&La(o.arg,"is")&&Df("COMPILER_IS_ON_ELEMENT",n,o.loc))return!0}}}function c2(e,t){const n=[],r=new Set;for(;e.source.length>0&&!sr(e.source,">")&&!sr(e.source,"/>");){if(sr(e.source,"/")){Vt(e,22),Dn(e,1),Rf(e);continue}t===1&&Vt(e,3);const i=$R(e,r);i.type===6&&i.value&&i.name==="class"&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),t===0&&n.push(i),/^[^\t\r\n\f />]/.test(e.source)&&Vt(e,15),Rf(e)}return n}function $R(e,t){const n=ti(e),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(i)&&Vt(e,2),t.add(i),i[0]==="="&&Vt(e,19);{const l=/["'<]/g;let u;for(;u=l.exec(i);)Vt(e,17,u.index)}Dn(e,i.length);let o;/^[\t\r\n\f ]*=/.test(e.source)&&(Rf(e),Dn(e,1),Rf(e),o=HR(e),o||Vt(e,13));const s=gi(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const l=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let u=sr(i,"."),f=l[1]||(u||sr(i,":")?"bind":sr(i,"@")?"on":"slot"),d;if(l[2]){const v=f==="slot",y=i.lastIndexOf(l[2]),_=gi(e,f2(e,n,y),f2(e,n,y+l[2].length+(v&&l[3]||"").length));let T=l[2],C=!0;T.startsWith("[")?(C=!1,T.endsWith("]")?T=T.slice(1,T.length-1):(Vt(e,27),T=T.slice(1))):v&&(T+=l[3]||""),d={type:4,content:T,isStatic:C,constType:C?3:0,loc:_}}if(o&&o.isQuoted){const v=o.loc;v.start.offset++,v.start.column++,v.end=Ip(v.start,o.content),v.source=v.source.slice(1,-1)}const m=l[3]?l[3].slice(1).split("."):[];return u&&m.push("prop"),f==="bind"&&d&&m.includes("sync")&&Df("COMPILER_V_BIND_SYNC",e,s,d.loc.source)&&(f="model",m.splice(m.indexOf("sync"),1)),{type:7,name:f,exp:o&&{type:4,content:o.content,isStatic:!1,constType:0,loc:o.loc},arg:d,modifiers:m,loc:s}}return!e.inVPre&&sr(i,"v-")&&Vt(e,26),{type:6,name:i,value:o&&{type:2,content:o.content,loc:o.loc},loc:s}}function HR(e){const t=ti(e);let n;const r=e.source[0],i=r==='"'||r==="'";if(i){Dn(e,1);const o=e.source.indexOf(r);o===-1?n=Zc(e,e.source.length,4):(n=Zc(e,o,4),Dn(e,1))}else{const o=/^[^\t\r\n\f >]+/.exec(e.source);if(!o)return;const s=/["'<=`]/g;let l;for(;l=s.exec(o[0]);)Vt(e,18,l.index);n=Zc(e,o[0].length,4)}return{content:n,isQuoted:i,loc:gi(e,t)}}function FR(e,t){const[n,r]=e.options.delimiters,i=e.source.indexOf(r,n.length);if(i===-1){Vt(e,25);return}const o=ti(e);Dn(e,n.length);const s=ti(e),l=ti(e),u=i-n.length,f=e.source.slice(0,u),d=Zc(e,u,t),m=d.trim(),v=d.indexOf(m);v>0&&Dp(s,f,v);const y=u-(d.length-m.length-v);return Dp(l,f,y),Dn(e,r.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:m,loc:gi(e,s,l)},loc:gi(e,o)}}function VR(e,t){const n=t===3?["]]>"]:["<",e.options.delimiters[0]];let r=e.source.length;for(let s=0;s<n.length;s++){const l=e.source.indexOf(n[s],1);l!==-1&&r>l&&(r=l)}const i=ti(e);return{type:2,content:Zc(e,r,t),loc:gi(e,i)}}function Zc(e,t,n){const r=e.source.slice(0,t);return Dn(e,t),n===2||n===3||!r.includes("&")?r:e.options.decodeEntities(r,n===4)}function ti(e){const{column:t,line:n,offset:r}=e;return{column:t,line:n,offset:r}}function gi(e,t,n){return n=n||ti(e),{start:t,end:n,source:e.originalSource.slice(t.offset,n.offset)}}function ig(e){return e[e.length-1]}function sr(e,t){return e.startsWith(t)}function Dn(e,t){const{source:n}=e;Dp(e,n,t),e.source=n.slice(t)}function Rf(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&Dn(e,t[0].length)}function f2(e,t,n){return Ip(t,e.originalSource.slice(t.offset,n),n)}function Vt(e,t,n,r=ti(e)){n&&(r.offset+=n,r.column+=n),e.options.onError(sn(t,{start:r,end:r,source:""}))}function jR(e,t,n){const r=e.source;switch(t){case 0:if(sr(r,"</")){for(let i=n.length-1;i>=0;--i)if(A0(r,n[i].tag))return!0}break;case 1:case 2:{const i=ig(n);if(i&&A0(r,i.tag))return!0;break}case 3:if(sr(r,"]]>"))return!0;break}return!r}function A0(e,t){return sr(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function WR(e,t){op(e,t,UO(e,e.children[0]))}function UO(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!zp(t)}function op(e,t,n=!1){const{children:r}=e,i=r.length;let o=0;for(let s=0;s<r.length;s++){const l=r[s];if(l.type===1&&l.tagType===0){const u=n?0:hi(l,t);if(u>0){if(u>=2){l.codegenNode.patchFlag="-1",l.codegenNode=t.hoist(l.codegenNode),o++;continue}}else{const f=l.codegenNode;if(f.type===13){const d=JO(f);if((!d||d===512||d===1)&&qO(l,t)>=2){const m=GO(l);m&&(f.props=t.hoist(m))}f.dynamicProps&&(f.dynamicProps=t.hoist(f.dynamicProps))}}}if(l.type===1){const u=l.tagType===1;u&&t.scopes.vSlot++,op(l,t),u&&t.scopes.vSlot--}else if(l.type===11)op(l,t,l.children.length===1);else if(l.type===9)for(let u=0;u<l.branches.length;u++)op(l.branches[u],t,l.branches[u].children.length===1)}o&&t.transformHoist&&t.transformHoist(r,t,e),o&&o===i&&e.type===1&&e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Ke(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(fd(e.codegenNode.children)))}function hi(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const r=n.get(e);if(r!==void 0)return r;const i=e.codegenNode;if(i.type!==13||i.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject")return 0;if(JO(i))return n.set(e,0),0;{let l=3;const u=qO(e,t);if(u===0)return n.set(e,0),0;u<l&&(l=u);for(let f=0;f<e.children.length;f++){const d=hi(e.children[f],t);if(d===0)return n.set(e,0),0;d<l&&(l=d)}if(l>1)for(let f=0;f<e.props.length;f++){const d=e.props[f];if(d.type===7&&d.name==="bind"&&d.exp){const m=hi(d.exp,t);if(m===0)return n.set(e,0),0;m<l&&(l=m)}}if(i.isBlock){for(let f=0;f<e.props.length;f++)if(e.props[f].type===7)return n.set(e,0),0;t.removeHelper(Za),t.removeHelper(Au(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(Eu(t.inSSR,i.isComponent))}return n.set(e,l),l}case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return hi(e.content,t);case 4:return e.constType;case 8:let s=3;for(let l=0;l<e.children.length;l++){const u=e.children[l];if(St(u)||Fs(u))continue;const f=hi(u,t);if(f===0)return 0;f<s&&(s=f)}return s;default:return 0}}const UR=new Set([B1,$1,Nf,cd]);function KO(e,t){if(e.type===14&&!St(e.callee)&&UR.has(e.callee)){const n=e.arguments[0];if(n.type===4)return hi(n,t);if(n.type===14)return KO(n,t)}return 0}function qO(e,t){let n=3;const r=GO(e);if(r&&r.type===15){const{properties:i}=r;for(let o=0;o<i.length;o++){const{key:s,value:l}=i[o],u=hi(s,t);if(u===0)return u;u<n&&(n=u);let f;if(l.type===4?f=hi(l,t):l.type===14?f=KO(l,t):f=0,f===0)return f;f<n&&(n=f)}}return n}function GO(e){const t=e.codegenNode;if(t.type===13)return t.props}function JO(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function KR(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:r=!1,cacheHandlers:i=!1,nodeTransforms:o=[],directiveTransforms:s={},transformHoist:l=null,isBuiltInComponent:u=kr,isCustomElement:f=kr,expressionPlugins:d=[],scopeId:m=null,slotted:v=!0,ssr:y=!1,inSSR:_=!1,ssrCssVars:T="",bindingMetadata:C=jt,inline:w=!1,isTS:S=!1,onError:P=A1,onWarn:A=NO,compatConfig:U}){const z=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),j={selfName:z&&hl(Vn(z[1])),prefixIdentifiers:n,hoistStatic:r,cacheHandlers:i,nodeTransforms:o,directiveTransforms:s,transformHoist:l,isBuiltInComponent:u,isCustomElement:f,expressionPlugins:d,scopeId:m,slotted:v,ssr:y,inSSR:_,ssrCssVars:T,bindingMetadata:C,inline:w,isTS:S,onError:P,onWarn:A,compatConfig:U,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(L){const B=j.helpers.get(L)||0;return j.helpers.set(L,B+1),L},removeHelper(L){const B=j.helpers.get(L);if(B){const k=B-1;k?j.helpers.set(L,k):j.helpers.delete(L)}},helperString(L){return`_${Cu[j.helper(L)]}`},replaceNode(L){j.parent.children[j.childIndex]=j.currentNode=L},removeNode(L){const B=j.parent.children,k=L?B.indexOf(L):j.currentNode?j.childIndex:-1;!L||L===j.currentNode?(j.currentNode=null,j.onNodeRemoved()):j.childIndex>k&&(j.childIndex--,j.onNodeRemoved()),j.parent.children.splice(k,1)},onNodeRemoved:()=>{},addIdentifiers(L){},removeIdentifiers(L){},hoist(L){St(L)&&(L=Tt(L)),j.hoists.push(L);const B=Tt(`_hoisted_${j.hoists.length}`,!1,L.loc,2);return B.hoisted=L,B},cache(L,B=!1){return _R(j.cached++,L,B)}};return j.filters=new Set,j}function qR(e,t){const n=KR(e,t);og(e,n),t.hoistStatic&&WR(e,n),t.ssr||GR(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function GR(e,t){const{helper:n}=t,{children:r}=e;if(r.length===1){const i=r[0];if(UO(e,i)&&i.codegenNode){const o=i.codegenNode;o.type===13&&W1(o,t),e.codegenNode=o}else e.codegenNode=i}else if(r.length>1){let i=64;e.codegenNode=Pf(t,n(Lf),void 0,e.children,i+"",void 0,void 0,!0,void 0,!1)}}function JR(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];St(i)||(t.parent=e,t.childIndex=n,t.onNodeRemoved=r,og(i,t))}}function og(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let o=0;o<n.length;o++){const s=n[o](e,t);if(s&&(Ke(s)?r.push(...s):r.push(s)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(ud);break;case 5:t.ssr||t.helper(ng);break;case 9:for(let o=0;o<e.branches.length;o++)og(e.branches[o],t);break;case 10:case 11:case 1:case 0:JR(e,t);break}t.currentNode=e;let i=r.length;for(;i--;)r[i]()}function YO(e,t){const n=St(e)?r=>r===e:r=>e.test(r);return(r,i)=>{if(r.type===1){const{props:o}=r;if(r.tagType===3&&o.some(AR))return;const s=[];for(let l=0;l<o.length;l++){const u=o[l];if(u.type===7&&n(u.name)){o.splice(l,1),l--;const f=t(r,u,i);f&&s.push(f)}}return s}}}const sg="/*#__PURE__*/",XO=e=>`${Cu[e]}: _${Cu[e]}`;function d2(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:o=null,optimizeImports:s=!1,runtimeGlobalName:l="Vue",runtimeModuleName:u="vue",ssrRuntimeModuleName:f="vue/server-renderer",ssr:d=!1,isTS:m=!1,inSSR:v=!1}){const y={mode:t,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:o,optimizeImports:s,runtimeGlobalName:l,runtimeModuleName:u,ssrRuntimeModuleName:f,ssr:d,isTS:m,inSSR:v,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(T){return`_${Cu[T]}`},push(T,C){y.code+=T},indent(){_(++y.indentLevel)},deindent(T=!1){T?--y.indentLevel:_(--y.indentLevel)},newline(){_(y.indentLevel)}};function _(T){y.push(`
`+"  ".repeat(T))}return y}function YR(e,t={}){const n=d2(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:o,indent:s,deindent:l,newline:u,scopeId:f,ssr:d}=n,m=Array.from(e.helpers),v=m.length>0,y=!o&&r!=="module",_=!1,T=_?d2(e,t):n;XR(e,T);const C=d?"ssrRender":"render",S=(d?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${C}(${S}) {`),s(),y&&(i("with (_ctx) {"),s(),v&&(i(`const { ${m.map(XO).join(", ")} } = _Vue`),i(`
`),u())),e.components.length&&(Xv(e.components,"component",n),(e.directives.length||e.temps>0)&&u()),e.directives.length&&(Xv(e.directives,"directive",n),e.temps>0&&u()),e.filters&&e.filters.length&&(u(),Xv(e.filters,"filter",n),u()),e.temps>0){i("let ");for(let P=0;P<e.temps;P++)i(`${P>0?", ":""}_temp${P}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`),u()),d||i("return "),e.codegenNode?ur(e.codegenNode,n):i("null"),y&&(l(),i("}")),l(),i("}"),{ast:e,code:n.code,preamble:_?T.code:"",map:n.map?n.map.toJSON():void 0}}function XR(e,t){const{ssr:n,prefixIdentifiers:r,push:i,newline:o,runtimeModuleName:s,runtimeGlobalName:l,ssrRuntimeModuleName:u}=t,f=l,d=Array.from(e.helpers);if(d.length>0&&(i(`const _Vue = ${f}
`),e.hoists.length)){const m=[M1,L1,ud,N1,RO].filter(v=>d.includes(v)).map(XO).join(", ");i(`const { ${m} } = _Vue
`)}ZR(e.hoists,t),o(),i("return ")}function Xv(e,t,{helper:n,push:r,newline:i,isTS:o}){const s=n(t==="filter"?D1:t==="component"?P1:I1);for(let l=0;l<e.length;l++){let u=e[l];const f=u.endsWith("__self");f&&(u=u.slice(0,-6)),r(`const ${If(u,t)} = ${s}(${JSON.stringify(u)}${f?", true":""})${o?"!":""}`),l<e.length-1&&i()}}function ZR(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r,helper:i,scopeId:o,mode:s}=t;r();for(let l=0;l<e.length;l++){const u=e[l];u&&(n(`const _hoisted_${l+1} = `),ur(u,t),r())}t.pure=!1}function K1(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),dd(e,t,n),n&&t.deindent(),t.push("]")}function dd(e,t,n=!1,r=!0){const{push:i,newline:o}=t;for(let s=0;s<e.length;s++){const l=e[s];St(l)?i(l):Ke(l)?K1(l,t):ur(l,t),s<e.length-1&&(n?(r&&i(","),o()):r&&i(", "))}}function ur(e,t){if(St(e)){t.push(e);return}if(Fs(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:ur(e.codegenNode,t);break;case 2:QR(e,t);break;case 4:ZO(e,t);break;case 5:e8(e,t);break;case 12:ur(e.codegenNode,t);break;case 8:QO(e,t);break;case 3:n8(e,t);break;case 13:r8(e,t);break;case 14:o8(e,t);break;case 15:s8(e,t);break;case 17:a8(e,t);break;case 18:l8(e,t);break;case 19:u8(e,t);break;case 20:c8(e,t);break;case 21:dd(e.body,t,!0,!1);break}}function QR(e,t){t.push(JSON.stringify(e.content),e)}function ZO(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,e)}function e8(e,t){const{push:n,helper:r,pure:i}=t;i&&n(sg),n(`${r(ng)}(`),ur(e.content,t),n(")")}function QO(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];St(r)?t.push(r):ur(r,t)}}function t8(e,t){const{push:n}=t;if(e.type===8)n("["),QO(e,t),n("]");else if(e.isStatic){const r=j1(e.content)?e.content:JSON.stringify(e.content);n(r,e)}else n(`[${e.content}]`,e)}function n8(e,t){const{push:n,helper:r,pure:i}=t;i&&n(sg),n(`${r(ud)}(${JSON.stringify(e.content)})`,e)}function r8(e,t){const{push:n,helper:r,pure:i}=t,{tag:o,props:s,children:l,patchFlag:u,dynamicProps:f,directives:d,isBlock:m,disableTracking:v,isComponent:y}=e;d&&n(r(R1)+"("),m&&n(`(${r(Za)}(${v?"true":""}), `),i&&n(sg);const _=m?Au(t.inSSR,y):Eu(t.inSSR,y);n(r(_)+"(",e),dd(i8([o,s,l,u,f]),t),n(")"),m&&n(")"),d&&(n(", "),ur(d,t),n(")"))}function i8(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function o8(e,t){const{push:n,helper:r,pure:i}=t,o=St(e.callee)?e.callee:r(e.callee);i&&n(sg),n(o+"(",e),dd(e.arguments,t),n(")")}function s8(e,t){const{push:n,indent:r,deindent:i,newline:o}=t,{properties:s}=e;if(!s.length){n("{}",e);return}const l=s.length>1||!1;n(l?"{":"{ "),l&&r();for(let u=0;u<s.length;u++){const{key:f,value:d}=s[u];t8(f,t),n(": "),ur(d,t),u<s.length-1&&(n(","),o())}l&&i(),n(l?"}":" }")}function a8(e,t){K1(e.elements,t)}function l8(e,t){const{push:n,indent:r,deindent:i}=t,{params:o,returns:s,body:l,newline:u,isSlot:f}=e;f&&n(`_${Cu[F1]}(`),n("(",e),Ke(o)?dd(o,t):o&&ur(o,t),n(") => "),(u||l)&&(n("{"),r()),s?(u&&n("return "),Ke(s)?K1(s,t):ur(s,t)):l&&ur(l,t),(u||l)&&(i(),n("}")),f&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function u8(e,t){const{test:n,consequent:r,alternate:i,newline:o}=e,{push:s,indent:l,deindent:u,newline:f}=t;if(n.type===4){const m=!j1(n.content);m&&s("("),ZO(n,t),m&&s(")")}else s("("),ur(n,t),s(")");o&&l(),t.indentLevel++,o||s(" "),s("? "),ur(r,t),t.indentLevel--,o&&f(),o||s(" "),s(": ");const d=i.type===19;d||t.indentLevel++,ur(i,t),d||t.indentLevel--,o&&u(!0)}function c8(e,t){const{push:n,helper:r,indent:i,deindent:o,newline:s}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(i(),n(`${r(Pp)}(-1),`),s()),n(`_cache[${e.index}] = `),ur(e.value,t),e.isVNode&&(n(","),s(),n(`${r(Pp)}(1),`),s(),n(`_cache[${e.index}]`),o()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const f8=YO(/^(if|else|else-if)$/,(e,t,n)=>d8(e,t,n,(r,i,o)=>{const s=n.parent.children;let l=s.indexOf(r),u=0;for(;l-->=0;){const f=s[l];f&&f.type===9&&(u+=f.branches.length)}return()=>{if(o)r.codegenNode=p2(i,u,n);else{const f=h8(r.codegenNode);f.alternate=p2(i,u+r.branches.length-1,n)}}}));function d8(e,t,n,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(sn(28,t.loc)),t.exp=Tt("true",!1,i)}if(t.name==="if"){const i=h2(e,t),o={type:9,loc:e.loc,branches:[i]};if(n.replaceNode(o),r)return r(o,i,!0)}else{const i=n.parent.children;let o=i.indexOf(e);for(;o-->=-1;){const s=i[o];if(s&&s.type===3){n.removeNode(s);continue}if(s&&s.type===2&&!s.content.trim().length){n.removeNode(s);continue}if(s&&s.type===9){t.name==="else-if"&&s.branches[s.branches.length-1].condition===void 0&&n.onError(sn(30,e.loc)),n.removeNode();const l=h2(e,t);s.branches.push(l);const u=r&&r(s,l,!1);og(l,n),u&&u(),n.currentNode=null}else n.onError(sn(30,e.loc));break}}}function h2(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!ui(e,"for")?e.children:[e],userKey:rg(e,"key"),isTemplateIf:n}}function p2(e,t,n){return e.condition?T0(e.condition,m2(e,t,n),En(n.helper(ud),['""',"true"])):m2(e,t,n)}function m2(e,t,n){const{helper:r}=n,i=bn("key",Tt(`${t}`,!1,ni,2)),{children:o}=e,s=o[0];if(o.length!==1||s.type!==1)if(o.length===1&&s.type===11){const u=s.codegenNode;return Bp(u,i,n),u}else{let u=64;return Pf(n,r(Lf),di([i]),o,u+"",void 0,void 0,!0,!1,!1,e.loc)}else{const u=s.codegenNode,f=MR(u);return f.type===13&&W1(f,n),Bp(f,i,n),u}}function h8(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const p8=YO("for",(e,t,n)=>{const{helper:r,removeHelper:i}=n;return m8(e,t,n,o=>{const s=En(r(z1),[o.source]),l=Rp(e),u=ui(e,"memo"),f=rg(e,"key"),d=f&&(f.type===6?Tt(f.value.content,!0):f.exp),m=f?bn("key",d):null,v=o.source.type===4&&o.source.constType>0,y=v?64:f?128:256;return o.codegenNode=Pf(n,r(Lf),void 0,s,y+"",void 0,void 0,!0,!v,!1,e.loc),()=>{let _;const{children:T}=o,C=T.length!==1||T[0].type!==1,w=zp(e)?e:l&&e.children.length===1&&zp(e.children[0])?e.children[0]:null;if(w?(_=w.codegenNode,l&&m&&Bp(_,m,n)):C?_=Pf(n,r(Lf),m?di([m]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(_=T[0].codegenNode,l&&m&&Bp(_,m,n),_.isBlock!==!v&&(_.isBlock?(i(Za),i(Au(n.inSSR,_.isComponent))):i(Eu(n.inSSR,_.isComponent))),_.isBlock=!v,_.isBlock?(r(Za),r(Au(n.inSSR,_.isComponent))):r(Eu(n.inSSR,_.isComponent))),u){const S=Tu(O0(o.parseResult,[Tt("_cached")]));S.body=wR([Ii(["const _memo = (",u.exp,")"]),Ii(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${n.helperString($O)}(_cached, _memo)) return _cached`]),Ii(["const _item = ",_]),Tt("_item.memo = _memo"),Tt("return _item")]),s.arguments.push(S,Tt("_cache"),Tt(String(n.cached++)))}else s.arguments.push(Tu(O0(o.parseResult),_,!0))}})});function m8(e,t,n,r){if(!t.exp){n.onError(sn(31,t.loc));return}const i=eM(t.exp);if(!i){n.onError(sn(32,t.loc));return}const{addIdentifiers:o,removeIdentifiers:s,scopes:l}=n,{source:u,value:f,key:d,index:m}=i,v={type:11,loc:t.loc,source:u,valueAlias:f,keyAlias:d,objectIndexAlias:m,parseResult:i,children:Rp(e)?e.children:[e]};n.replaceNode(v),l.vFor++;const y=r&&r(v);return()=>{l.vFor--,y&&y()}}const g8=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,g2=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,v8=/^\(|\)$/g;function eM(e,t){const n=e.loc,r=e.content,i=r.match(g8);if(!i)return;const[,o,s]=i,l={source:_h(n,s.trim(),r.indexOf(s,o.length)),value:void 0,key:void 0,index:void 0};let u=o.trim().replace(v8,"").trim();const f=o.indexOf(u),d=u.match(g2);if(d){u=u.replace(g2,"").trim();const m=d[1].trim();let v;if(m&&(v=r.indexOf(m,f+u.length),l.key=_h(n,m,v)),d[2]){const y=d[2].trim();y&&(l.index=_h(n,y,r.indexOf(y,l.key?v+m.length:f+u.length)))}}return u&&(l.value=_h(n,u,f)),l}function _h(e,t,n){return Tt(t,!1,VO(e,n,t.length))}function O0({value:e,key:t,index:n},r=[]){return y8([e,t,n,...r])}function y8(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,r)=>n||Tt("_".repeat(r+1),!1))}const v2=Tt("undefined",!1),b8=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=ui(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},_8=(e,t,n)=>Tu(e,t,!1,!0,t.length?t[0].loc:n);function w8(e,t,n=_8){t.helper(F1);const{children:r,loc:i}=e,o=[],s=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const u=ui(e,"slot",!0);if(u){const{arg:C,exp:w}=u;C&&!Dr(C)&&(l=!0),o.push(bn(C||Tt("default",!0),n(w,r,i)))}let f=!1,d=!1;const m=[],v=new Set;let y=0;for(let C=0;C<r.length;C++){const w=r[C];let S;if(!Rp(w)||!(S=ui(w,"slot",!0))){w.type!==3&&m.push(w);continue}if(u){t.onError(sn(37,S.loc));break}f=!0;const{children:P,loc:A}=w,{arg:U=Tt("default",!0),exp:z,loc:j}=S;let L;Dr(U)?L=U?U.content:"default":l=!0;const B=n(z,P,A);let k,D,K;if(k=ui(w,"if"))l=!0,s.push(T0(k.exp,wh(U,B,y++),v2));else if(D=ui(w,/^else(-if)?$/,!0)){let q=C,Q;for(;q--&&(Q=r[q],Q.type===3););if(Q&&Rp(Q)&&ui(Q,"if")){r.splice(C,1),C--;let I=s[s.length-1];for(;I.alternate.type===19;)I=I.alternate;I.alternate=D.exp?T0(D.exp,wh(U,B,y++),v2):wh(U,B,y++)}else t.onError(sn(30,D.loc))}else if(K=ui(w,"for")){l=!0;const q=K.parseResult||eM(K.exp);q?s.push(En(t.helper(z1),[q.source,Tu(O0(q),wh(U,B),!0)])):t.onError(sn(32,K.loc))}else{if(L){if(v.has(L)){t.onError(sn(38,j));continue}v.add(L),L==="default"&&(d=!0)}o.push(bn(U,B))}}if(!u){const C=(w,S)=>{const P=n(w,S,i);return t.compatConfig&&(P.isNonScopedSlot=!0),bn("default",P)};f?m.length&&m.some(w=>tM(w))&&(d?t.onError(sn(39,m[0].loc)):o.push(C(void 0,m))):o.push(C(void 0,r))}const _=l?2:sp(e.children)?3:1;let T=di(o.concat(bn("_",Tt(_+"",!1))),i);return s.length&&(T=En(t.helper(BO),[T,fd(s)])),{slots:T,hasDynamicSlots:l}}function wh(e,t,n){const r=[bn("name",e),bn("fn",t)];return n!=null&&r.push(bn("key",Tt(String(n),!0))),di(r)}function sp(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||sp(n.children))return!0;break;case 9:if(sp(n.branches))return!0;break;case 10:case 11:if(sp(n.children))return!0;break}}return!1}function tM(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():tM(e.content)}const nM=new WeakMap,k8=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:r,props:i}=e,o=e.tagType===1;let s=o?x8(e,t):`"${r}"`;const l=Jt(s)&&s.callee===Lp;let u,f,d,m=0,v,y,_,T=l||s===Xc||s===O1||!o&&(r==="svg"||r==="foreignObject");if(i.length>0){const C=rM(e,t,void 0,o,l);u=C.props,m=C.patchFlag,y=C.dynamicPropNames;const w=C.directives;_=w&&w.length?fd(w.map(S=>C8(S,t))):void 0,C.shouldUseBlock&&(T=!0)}if(e.children.length>0)if(s===Mp&&(T=!0,m|=1024),o&&s!==Xc&&s!==Mp){const{slots:w,hasDynamicSlots:S}=w8(e,t);f=w,S&&(m|=1024)}else if(e.children.length===1&&s!==Xc){const w=e.children[0],S=w.type,P=S===5||S===8;P&&hi(w,t)===0&&(m|=1),P||S===2?f=w:f=e.children}else f=e.children;m!==0&&(d=String(m),y&&y.length&&(v=T8(y))),e.codegenNode=Pf(t,s,u,f,d,v,_,!!T,!1,o,e.loc)};function x8(e,t,n=!1){let{tag:r}=e;const i=M0(r),o=rg(e,"is");if(o)if(i||Va("COMPILER_IS_ON_ELEMENT",t)){const u=o.type===6?o.value&&Tt(o.value.content,!0):o.exp;if(u)return En(t.helper(Lp),[u])}else o.type===6&&o.value.content.startsWith("vue:")&&(r=o.value.content.slice(4));const s=!i&&ui(e,"is");if(s&&s.exp)return En(t.helper(Lp),[s.exp]);const l=HO(r)||t.isBuiltInComponent(r);return l?(n||t.helper(l),l):(t.helper(P1),t.components.add(r),If(r,"component"))}function rM(e,t,n=e.props,r,i,o=!1){const{tag:s,loc:l,children:u}=e;let f=[];const d=[],m=[],v=u.length>0;let y=!1,_=0,T=!1,C=!1,w=!1,S=!1,P=!1,A=!1;const U=[],z=B=>{f.length&&(d.push(di(y2(f),l)),f=[]),B&&d.push(B)},j=({key:B,value:k})=>{if(Dr(B)){const D=B.content,K=fl(D);if(K&&(!r||i)&&D.toLowerCase()!=="onclick"&&D!=="onUpdate:modelValue"&&!za(D)&&(S=!0),K&&za(D)&&(A=!0),k.type===20||(k.type===4||k.type===8)&&hi(k,t)>0)return;D==="ref"?T=!0:D==="class"?C=!0:D==="style"?w=!0:D!=="key"&&!U.includes(D)&&U.push(D),r&&(D==="class"||D==="style")&&!U.includes(D)&&U.push(D)}else P=!0};for(let B=0;B<n.length;B++){const k=n[B];if(k.type===6){const{loc:D,name:K,value:q}=k;let Q=!0;if(K==="ref"&&(T=!0,t.scopes.vFor>0&&f.push(bn(Tt("ref_for",!0),Tt("true")))),K==="is"&&(M0(s)||q&&q.content.startsWith("vue:")||Va("COMPILER_IS_ON_ELEMENT",t)))continue;f.push(bn(Tt(K,!0,VO(D,0,K.length)),Tt(q?q.content:"",Q,q?q.loc:D)))}else{const{name:D,arg:K,exp:q,loc:Q}=k,I=D==="bind",ce=D==="on";if(D==="slot"){r||t.onError(sn(40,Q));continue}if(D==="once"||D==="memo"||D==="is"||I&&La(K,"is")&&(M0(s)||Va("COMPILER_IS_ON_ELEMENT",t))||ce&&o)continue;if((I&&La(K,"key")||ce&&v&&La(K,"vue:before-update"))&&(y=!0),I&&La(K,"ref")&&t.scopes.vFor>0&&f.push(bn(Tt("ref_for",!0),Tt("true"))),!K&&(I||ce)){if(P=!0,q)if(I){if(z(),Va("COMPILER_V_BIND_OBJECT_ORDER",t)){d.unshift(q);continue}d.push(q)}else z({type:14,loc:Q,callee:t.helper(H1),arguments:r?[q]:[q,"true"]});else t.onError(sn(I?34:35,Q));continue}const de=t.directiveTransforms[D];if(de){const{props:xe,needRuntime:Be}=de(k,e,t);!o&&xe.forEach(j),ce&&K&&!Dr(K)?z(di(xe,l)):f.push(...xe),Be&&(m.push(k),Fs(Be)&&nM.set(k,Be))}else CI(D)||(m.push(k),v&&(y=!0))}}let L;if(d.length?(z(),d.length>1?L=En(t.helper(Np),d,l):L=d[0]):f.length&&(L=di(y2(f),l)),P?_|=16:(C&&!r&&(_|=2),w&&!r&&(_|=4),U.length&&(_|=8),S&&(_|=32)),!y&&(_===0||_===32)&&(T||A||m.length>0)&&(_|=512),!t.inSSR&&L)switch(L.type){case 15:let B=-1,k=-1,D=!1;for(let Q=0;Q<L.properties.length;Q++){const I=L.properties[Q].key;Dr(I)?I.content==="class"?B=Q:I.content==="style"&&(k=Q):I.isHandlerKey||(D=!0)}const K=L.properties[B],q=L.properties[k];D?L=En(t.helper(Nf),[L]):(K&&!Dr(K.value)&&(K.value=En(t.helper(B1),[K.value])),q&&(w||q.value.type===4&&q.value.content.trim()[0]==="["||q.value.type===17)&&(q.value=En(t.helper($1),[q.value])));break;case 14:break;default:L=En(t.helper(Nf),[En(t.helper(cd),[L])]);break}return{props:L,directives:m,patchFlag:_,dynamicPropNames:U,shouldUseBlock:y}}function y2(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const o=i.key.content,s=t.get(o);s?(o==="style"||o==="class"||fl(o))&&S8(s,i):(t.set(o,i),n.push(i))}return n}function S8(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=fd([e.value,t.value],e.loc)}function C8(e,t){const n=[],r=nM.get(e);r?n.push(t.helperString(r)):(t.helper(I1),t.directives.add(e.name),n.push(If(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const o=Tt("true",!1,i);n.push(di(e.modifiers.map(s=>bn(s,o)),i))}return fd(n,e.loc)}function T8(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}function M0(e){return e==="component"||e==="Component"}const E8=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},A8=/-(\w)/g,b2=E8(e=>e.replace(A8,(t,n)=>n?n.toUpperCase():"")),O8=(e,t)=>{if(zp(e)){const{children:n,loc:r}=e,{slotName:i,slotProps:o}=M8(e,t),s=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let l=2;o&&(s[2]=o,l=3),n.length&&(s[3]=Tu([],n,!1,!1,r),l=4),t.scopeId&&!t.slotted&&(l=5),s.splice(l),e.codegenNode=En(t.helper(zO),s,r)}};function M8(e,t){let n='"default"',r;const i=[];for(let o=0;o<e.props.length;o++){const s=e.props[o];s.type===6?s.value&&(s.name==="name"?n=JSON.stringify(s.value.content):(s.name=b2(s.name),i.push(s))):s.name==="bind"&&La(s.arg,"name")?s.exp&&(n=s.exp):(s.name==="bind"&&s.arg&&Dr(s.arg)&&(s.arg.content=b2(s.arg.content)),i.push(s))}if(i.length>0){const{props:o,directives:s}=rM(e,t,i,!1,!1);r=o,s.length&&t.onError(sn(36,s[0].loc))}return{slotName:n,slotProps:r}}const L8=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,iM=(e,t,n,r)=>{const{loc:i,modifiers:o,arg:s}=e;!e.exp&&!o.length&&n.onError(sn(35,i));let l;if(s.type===4)if(s.isStatic){let m=s.content;m.startsWith("vue:")&&(m=`vnode-${m.slice(4)}`);const v=t.tagType!==0||m.startsWith("vnode")||!/[A-Z]/.test(m)?au(Vn(m)):`on:${m}`;l=Tt(v,!0,s.loc)}else l=Ii([`${n.helperString(C0)}(`,s,")"]);else l=s,l.children.unshift(`${n.helperString(C0)}(`),l.children.push(")");let u=e.exp;u&&!u.content.trim()&&(u=void 0);let f=n.cacheHandlers&&!u&&!n.inVOnce;if(u){const m=FO(u.content),v=!(m||L8.test(u.content)),y=u.content.includes(";");(v||f&&m)&&(u=Ii([`${v?"$event":"(...args)"} => ${y?"{":"("}`,u,y?"}":")"]))}let d={props:[bn(l,u||Tt("() => {}",!1,i))]};return r&&(d=r(d)),f&&(d.props[0].value=n.cache(d.props[0].value)),d.props.forEach(m=>m.key.isHandlerKey=!0),d},N8=(e,t,n)=>{const{exp:r,modifiers:i,loc:o}=e,s=e.arg;return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.includes("camel")&&(s.type===4?s.isStatic?s.content=Vn(s.content):s.content=`${n.helperString(S0)}(${s.content})`:(s.children.unshift(`${n.helperString(S0)}(`),s.children.push(")"))),n.inSSR||(i.includes("prop")&&_2(s,"."),i.includes("attr")&&_2(s,"^")),!r||r.type===4&&!r.content.trim()?(n.onError(sn(34,o)),{props:[bn(s,Tt("",!0,o))]}):{props:[bn(s,r)]}},_2=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},P8=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let r,i=!1;for(let o=0;o<n.length;o++){const s=n[o];if(Yv(s)){i=!0;for(let l=o+1;l<n.length;l++){const u=n[l];if(Yv(u))r||(r=n[o]=Ii([s],s.loc)),r.children.push(" + ",u),n.splice(l,1),l--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(o=>o.type===7&&!t.directiveTransforms[o.name])&&e.tag!=="template")))for(let o=0;o<n.length;o++){const s=n[o];if(Yv(s)||s.type===8){const l=[];(s.type!==2||s.content!==" ")&&l.push(s),!t.ssr&&hi(s,t)===0&&l.push("1"),n[o]={type:12,content:s,loc:s.loc,codegenNode:En(t.helper(N1),l)}}}}},w2=new WeakSet,I8=(e,t)=>{if(e.type===1&&ui(e,"once",!0))return w2.has(e)||t.inVOnce?void 0:(w2.add(e),t.inVOnce=!0,t.helper(Pp),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0))})},oM=(e,t,n)=>{const{exp:r,arg:i}=e;if(!r)return n.onError(sn(41,e.loc)),kh();const o=r.loc.source,s=r.type===4?r.content:o,l=n.bindingMetadata[o];if(l==="props"||l==="props-aliased")return n.onError(sn(44,r.loc)),kh();const u=!1;if(!s.trim()||!FO(s)&&!u)return n.onError(sn(42,r.loc)),kh();const f=i||Tt("modelValue",!0),d=i?Dr(i)?`onUpdate:${Vn(i.content)}`:Ii(['"onUpdate:" + ',i]):"onUpdate:modelValue";let m;const v=n.isTS?"($event: any)":"$event";m=Ii([`${v} => ((`,r,") = $event)"]);const y=[bn(f,e.exp),bn(d,m)];if(e.modifiers.length&&t.tagType===1){const _=e.modifiers.map(C=>(j1(C)?C:JSON.stringify(C))+": true").join(", "),T=i?Dr(i)?`${i.content}Modifiers`:Ii([i,' + "Modifiers"']):"modelModifiers";y.push(bn(T,Tt(`{ ${_} }`,!1,e.loc,2)))}return kh(y)};function kh(e=[]){return{props:e}}const D8=/[\w).+\-_$\]]/,R8=(e,t)=>{Va("COMPILER_FILTER",t)&&(e.type===5&&$p(e.content,t),e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&$p(n.exp,t)}))};function $p(e,t){if(e.type===4)k2(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];typeof r=="object"&&(r.type===4?k2(r,t):r.type===8?$p(e,t):r.type===5&&$p(r.content,t))}}function k2(e,t){const n=e.content;let r=!1,i=!1,o=!1,s=!1,l=0,u=0,f=0,d=0,m,v,y,_,T=[];for(y=0;y<n.length;y++)if(v=m,m=n.charCodeAt(y),r)m===39&&v!==92&&(r=!1);else if(i)m===34&&v!==92&&(i=!1);else if(o)m===96&&v!==92&&(o=!1);else if(s)m===47&&v!==92&&(s=!1);else if(m===124&&n.charCodeAt(y+1)!==124&&n.charCodeAt(y-1)!==124&&!l&&!u&&!f)_===void 0?(d=y+1,_=n.slice(0,y).trim()):C();else{switch(m){case 34:i=!0;break;case 39:r=!0;break;case 96:o=!0;break;case 40:f++;break;case 41:f--;break;case 91:u++;break;case 93:u--;break;case 123:l++;break;case 125:l--;break}if(m===47){let w=y-1,S;for(;w>=0&&(S=n.charAt(w),S===" ");w--);(!S||!D8.test(S))&&(s=!0)}}_===void 0?_=n.slice(0,y).trim():d!==0&&C();function C(){T.push(n.slice(d,y).trim()),d=y+1}if(T.length){for(y=0;y<T.length;y++)_=z8(_,T[y],t);e.content=_}}function z8(e,t,n){n.helper(D1);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${If(t,"filter")}(${e})`;{const i=t.slice(0,r),o=t.slice(r+1);return n.filters.add(i),`${If(i,"filter")}(${e}${o!==")"?","+o:o}`}}const x2=new WeakSet,B8=(e,t)=>{if(e.type===1){const n=ui(e,"memo");return!n||x2.has(e)?void 0:(x2.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(e.tagType!==1&&W1(r,t),e.codegenNode=En(t.helper(V1),[n.exp,Tu(void 0,r),"_cache",String(t.cached++)]))})}};function $8(e){return[[I8,f8,B8,p8,R8,O8,k8,b8,P8],{on:iM,bind:N8,model:oM}]}function H8(e,t={}){const n=t.onError||A1,r=t.mode==="module";t.prefixIdentifiers===!0?n(sn(47)):r&&n(sn(48));const i=!1;t.cacheHandlers&&n(sn(49)),t.scopeId&&!r&&n(sn(50));const o=St(e)?PR(e,t):e,[s,l]=$8();return qR(o,Ht({},t,{prefixIdentifiers:i,nodeTransforms:[...s,...t.nodeTransforms||[]],directiveTransforms:Ht({},l,t.directiveTransforms||{})})),YR(o,Ht({},t,{prefixIdentifiers:i}))}const F8=()=>({props:[]}),sM=Symbol(""),aM=Symbol(""),lM=Symbol(""),uM=Symbol(""),L0=Symbol(""),cM=Symbol(""),fM=Symbol(""),dM=Symbol(""),hM=Symbol(""),pM=Symbol("");yR({[sM]:"vModelRadio",[aM]:"vModelCheckbox",[lM]:"vModelText",[uM]:"vModelSelect",[L0]:"vModelDynamic",[cM]:"withModifiers",[fM]:"withKeys",[dM]:"vShow",[hM]:"Transition",[pM]:"TransitionGroup"});let Fl;function V8(e,t=!1){return Fl||(Fl=document.createElement("div")),t?(Fl.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Fl.children[0].getAttribute("foo")):(Fl.innerHTML=e,Fl.textContent)}const j8=Fr("style,iframe,script,noscript",!0),W8={isVoidTag:vI,isNativeTag:e=>mI(e)||gI(e),isPreTag:e=>e==="pre",decodeEntities:V8,isBuiltInComponent:e=>{if(Xl(e,"Transition"))return hM;if(Xl(e,"TransitionGroup"))return pM},getNamespace(e,t){let n=t?t.ns:0;if(t&&n===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(n=0);else t&&n===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(n=0);if(n===0){if(e==="svg")return 1;if(e==="math")return 2}return n},getTextMode({tag:e,ns:t}){if(t===0){if(e==="textarea"||e==="title")return 1;if(j8(e))return 2}return 0}},U8=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:Tt("style",!0,t.loc),exp:K8(t.value.content,t.loc),modifiers:[],loc:t.loc})})},K8=(e,t)=>{const n=XE(e);return Tt(JSON.stringify(n),!1,t,3)};function Do(e,t){return sn(e,t)}const q8=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Do(51,i)),t.children.length&&(n.onError(Do(52,i)),t.children.length=0),{props:[bn(Tt("innerHTML",!0,i),r||Tt("",!0))]}},G8=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Do(53,i)),t.children.length&&(n.onError(Do(54,i)),t.children.length=0),{props:[bn(Tt("textContent",!0),r?hi(r,n)>0?r:En(n.helperString(ng),[r],i):Tt("",!0))]}},J8=(e,t,n)=>{const r=oM(e,t,n);if(!r.props.length||t.tagType===1)return r;e.arg&&n.onError(Do(56,e.arg.loc));const{tag:i}=t,o=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||o){let s=lM,l=!1;if(i==="input"||o){const u=rg(t,"type");if(u){if(u.type===7)s=L0;else if(u.value)switch(u.value.content){case"radio":s=sM;break;case"checkbox":s=aM;break;case"file":l=!0,n.onError(Do(57,e.loc));break}}else ER(t)&&(s=L0)}else i==="select"&&(s=uM);l||(r.needRuntime=n.helper(s))}else n.onError(Do(55,e.loc));return r.props=r.props.filter(s=>!(s.key.type===4&&s.key.content==="modelValue")),r},Y8=Fr("passive,once,capture"),X8=Fr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Z8=Fr("left,right"),mM=Fr("onkeyup,onkeydown,onkeypress",!0),Q8=(e,t,n,r)=>{const i=[],o=[],s=[];for(let l=0;l<t.length;l++){const u=t[l];u==="native"&&Df("COMPILER_V_ON_NATIVE",n)||Y8(u)?s.push(u):Z8(u)?Dr(e)?mM(e.content)?i.push(u):o.push(u):(i.push(u),o.push(u)):X8(u)?o.push(u):i.push(u)}return{keyModifiers:i,nonKeyModifiers:o,eventOptionModifiers:s}},S2=(e,t)=>Dr(e)&&e.content.toLowerCase()==="onclick"?Tt(t,!0):e.type!==4?Ii(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,ez=(e,t,n)=>iM(e,t,n,r=>{const{modifiers:i}=e;if(!i.length)return r;let{key:o,value:s}=r.props[0];const{keyModifiers:l,nonKeyModifiers:u,eventOptionModifiers:f}=Q8(o,i,n,e.loc);if(u.includes("right")&&(o=S2(o,"onContextmenu")),u.includes("middle")&&(o=S2(o,"onMouseup")),u.length&&(s=En(n.helper(cM),[s,JSON.stringify(u)])),l.length&&(!Dr(o)||mM(o.content))&&(s=En(n.helper(fM),[s,JSON.stringify(l)])),f.length){const d=f.map(hl).join("");o=Dr(o)?Tt(`${o.content}${d}`,!0):Ii(["(",o,`) + "${d}"`])}return{props:[bn(o,s)]}}),tz=(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(Do(59,i)),{props:[],needRuntime:n.helper(dM)}},nz=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&(t.onError(Do(61,e.loc)),t.removeNode())},rz=[U8],iz={cloak:F8,html:q8,text:G8,model:J8,on:ez,show:tz};function oz(e,t={}){return H8(e,Ht({},W8,t,{nodeTransforms:[nz,...rz,...t.nodeTransforms||[]],directiveTransforms:Ht({},iz,t.directiveTransforms||{}),transformHoist:null}))}const C2=Object.create(null);function N0(e,t){if(!St(e))if(e.nodeType)e=e.innerHTML;else return kr;const n=e,r=C2[n];if(r)return r;if(e[0]==="#"){const l=document.querySelector(e);e=l?l.innerHTML:""}const i=Ht({hoistStatic:!0,onError:void 0,onWarn:kr},t);!i.isCustomElement&&typeof customElements<"u"&&(i.isCustomElement=l=>!!customElements.get(l));const{code:o}=oz(e,i),s=new Function("Vue",o)(dR);return s._rc=!0,C2[n]=s}lO(N0);function sz(e){return e=e||Object.create(null),{on:function(n,r){(e[n]||(e[n]=[])).push(r)},off:function(n,r){e[n]&&e[n].splice(e[n].indexOf(r)>>>0,1)},emit:function(n,r){(e[n]||[]).slice().map(function(i){i(r)}),(e["*"]||[]).slice().map(function(i){i(n,r)})}}}function Jo(e){return e.split("-")[0]}function du(e){return e.split("-")[1]}function hd(e){return["top","bottom"].includes(Jo(e))?"x":"y"}function q1(e){return e==="y"?"height":"width"}function T2(e){let{reference:t,floating:n,placement:r}=e;const i=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2;let s;switch(Jo(r)){case"top":s={x:i,y:t.y-n.height};break;case"bottom":s={x:i,y:t.y+t.height};break;case"right":s={x:t.x+t.width,y:o};break;case"left":s={x:t.x-n.width,y:o};break;default:s={x:t.x,y:t.y}}const l=hd(r),u=q1(l);switch(du(r)){case"start":s[l]=s[l]-(t[u]/2-n[u]/2);break;case"end":s[l]=s[l]+(t[u]/2-n[u]/2);break}return s}const az=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n;let l=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=T2({...l,placement:r}),d=r,m={};for(let v=0;v<o.length;v++){const{name:y,fn:_}=o[v],{x:T,y:C,data:w,reset:S}=await _({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:m,rects:l,platform:s,elements:{reference:e,floating:t}});if(u=T??u,f=C??f,m={...m,[y]:w??{}},S){typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(l=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:u,y:f}=T2({...l,placement:d})),v=-1;continue}}return{x:u,y:f,placement:d,strategy:i,middlewareData:m}};function lz(e){return{top:0,right:0,bottom:0,left:0,...e}}function gM(e){return typeof e!="number"?lz(e):{top:e,right:e,bottom:e,left:e}}function P0(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function ag(e,t){t===void 0&&(t={});const{x:n,y:r,platform:i,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingParents",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:m=!1,padding:v=0}=t,y=gM(v),T=s[m?d==="floating"?"reference":"floating":d],C=await i.getClippingClientRect({element:await i.isElement(T)?T:T.contextElement||await i.getDocumentElement({element:s.floating}),boundary:u,rootBoundary:f}),w=P0(await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:d==="floating"?{...o.floating,x:n,y:r}:o.reference,offsetParent:await i.getOffsetParent({element:s.floating}),strategy:l}));return{top:C.top-w.top+y.top,bottom:w.bottom-C.bottom+y.bottom,left:C.left-w.left+y.left,right:w.right-C.right+y.right}}const uz=Math.min,wa=Math.max;function I0(e,t,n){return wa(e,uz(t,n))}const cz=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:i,y:o,placement:s,rects:l,platform:u}=t;if(n==null)return{};const f=gM(r),d={x:i,y:o},m=Jo(s),v=hd(m),y=q1(v),_=await u.getDimensions({element:n}),T=v==="y"?"top":"left",C=v==="y"?"bottom":"right",w=l.reference[y]+l.reference[v]-d[v]-l.floating[y],S=d[v]-l.reference[v],P=await u.getOffsetParent({element:n}),A=P?v==="y"?P.clientHeight||0:P.clientWidth||0:0,U=w/2-S/2,z=f[T],j=A-_[y]-f[C],L=A/2-_[y]/2+U,B=I0(z,L,j);return{data:{[v]:B,centerOffset:L-B}}}}),fz={left:"right",right:"left",bottom:"top",top:"bottom"};function Hp(e){return e.replace(/left|right|bottom|top/g,t=>fz[t])}function vM(e,t){const n=du(e)==="start",r=hd(e),i=q1(r);let o=r==="x"?n?"right":"left":n?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Hp(o)),{main:o,cross:Hp(o)}}const dz={start:"end",end:"start"};function D0(e){return e.replace(/start|end/g,t=>dz[t])}const hz=["top","right","bottom","left"],pz=hz.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function mz(e,t,n){return(e?[...n.filter(i=>du(i)===e),...n.filter(i=>du(i)!==e)]:n.filter(i=>Jo(i)===i)).filter(i=>e?du(i)===e||(t?D0(i)!==i:!1):!0)}const gz=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,i,o,s,l;const{x:u,y:f,rects:d,middlewareData:m,placement:v}=t,{alignment:y=null,allowedPlacements:_=pz,autoAlignment:T=!0,...C}=e;if((n=m.autoPlacement)!=null&&n.skip)return{};const w=mz(y,T,_),S=await ag(t,C),P=(r=(i=m.autoPlacement)==null?void 0:i.index)!=null?r:0,A=w[P],{main:U,cross:z}=vM(A,d);if(v!==A)return{x:u,y:f,reset:{placement:w[0]}};const j=[S[Jo(A)],S[U],S[z]],L=[...(o=(s=m.autoPlacement)==null?void 0:s.overflows)!=null?o:[],{placement:A,overflows:j}],B=w[P+1];if(B)return{data:{index:P+1,overflows:L},reset:{placement:B}};const k=L.slice().sort((K,q)=>K.overflows[0]-q.overflows[0]),D=(l=k.find(K=>{let{overflows:q}=K;return q.every(Q=>Q<=0)}))==null?void 0:l.placement;return{data:{skip:!0},reset:{placement:D??k[0].placement}}}}};function vz(e){const t=Hp(e);return[D0(e),t,D0(t)]}const yz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:l}=t;if((n=o.flip)!=null&&n.skip)return{};const{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",flipAlignment:v=!0,...y}=e,_=Jo(i),C=d||(_===l||!v?[Hp(l)]:vz(l)),w=[l,...C],S=await ag(t,y),P=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&P.push(S[_]),f){const{main:L,cross:B}=vM(i,s);P.push(S[L],S[B])}if(A=[...A,{placement:i,overflows:P}],!P.every(L=>L<=0)){var U,z;const L=((U=(z=o.flip)==null?void 0:z.index)!=null?U:0)+1,B=w[L];if(B)return{data:{index:L,overflows:A},reset:{placement:B}};let k="bottom";switch(m){case"bestFit":{var j;const D=(j=A.slice().sort((K,q)=>K.overflows.filter(Q=>Q>0).reduce((Q,I)=>Q+I,0)-q.overflows.filter(Q=>Q>0).reduce((Q,I)=>Q+I,0))[0])==null?void 0:j.placement;D&&(k=D);break}case"initialPlacement":k=l;break}return{data:{skip:!0},reset:{placement:k}}}return{}}}};function bz(e){let{placement:t,rects:n,value:r}=e;const i=Jo(t),o=["left","top"].includes(i)?-1:1,s=typeof r=="function"?r({...n,placement:t}):r,{mainAxis:l,crossAxis:u}=typeof s=="number"?{mainAxis:s,crossAxis:0}:{mainAxis:0,crossAxis:0,...s};return hd(i)==="x"?{x:u,y:l*o}:{x:l*o,y:u}}const _z=function(e){return e===void 0&&(e=0),{name:"offset",options:e,fn(t){const{x:n,y:r,placement:i,rects:o}=t,s=bz({placement:i,rects:o,value:e});return{x:n+s.x,y:r+s.y,data:s}}}};function wz(e){return e==="x"?"y":"x"}const kz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:l={fn:C=>{let{x:w,y:S}=C;return{x:w,y:S}}},...u}=e,f={x:n,y:r},d=await ag(t,u),m=hd(Jo(i)),v=wz(m);let y=f[m],_=f[v];if(o){const C=m==="y"?"top":"left",w=m==="y"?"bottom":"right",S=y+d[C],P=y-d[w];y=I0(S,y,P)}if(s){const C=v==="y"?"top":"left",w=v==="y"?"bottom":"right",S=_+d[C],P=_-d[w];_=I0(S,_,P)}const T=l.fn({...t,[m]:y,[v]:_});return{...T,data:{x:T.x-n,y:T.y-r}}}}},xz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n;const{placement:r,rects:i,middlewareData:o}=t,{apply:s,...l}=e;if((n=o.size)!=null&&n.skip)return{};const u=await ag(t,l),f=Jo(r),d=du(r)==="end";let m,v;f==="top"||f==="bottom"?(m=f,v=d?"left":"right"):(v=f,m=d?"top":"bottom");const y=wa(u.left,0),_=wa(u.right,0),T=wa(u.top,0),C=wa(u.bottom,0),w={height:i.floating.height-(["left","right"].includes(r)?2*(T!==0||C!==0?T+C:wa(u.top,u.bottom)):u[m]),width:i.floating.width-(["top","bottom"].includes(r)?2*(y!==0||_!==0?y+_:wa(u.left,u.right)):u[v])};return s==null||s({...w,...i}),{data:{skip:!0},reset:{rects:!0}}}}};function G1(e){return(e==null?void 0:e.toString())==="[object Window]"}function ta(e){if(e==null)return window;if(!G1(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function lg(e){return ta(e).getComputedStyle(e)}function Ho(e){return G1(e)?"":e?(e.nodeName||"").toLowerCase():""}function Fo(e){return e instanceof ta(e).HTMLElement}function Fp(e){return e instanceof ta(e).Element}function Sz(e){return e instanceof ta(e).Node}function yM(e){const t=ta(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ug(e){const{overflow:t,overflowX:n,overflowY:r}=lg(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function Cz(e){return["table","td","th"].includes(Ho(e))}function bM(e){const t=navigator.userAgent.toLowerCase().includes("firefox"),n=lg(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&(n.filter?n.filter!=="none":!1)}const E2=Math.min,Qc=Math.max,Vp=Math.round;function Ou(e,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect();let r=1,i=1;return t&&Fo(e)&&(r=e.offsetWidth>0&&Vp(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Vp(n.height)/e.offsetHeight||1),{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function na(e){return((Sz(e)?e.ownerDocument:e.document)||window.document).documentElement}function cg(e){return G1(e)?{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}:{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function _M(e){return Ou(na(e)).left+cg(e).scrollLeft}function Tz(e){const t=Ou(e);return Vp(t.width)!==e.offsetWidth||Vp(t.height)!==e.offsetHeight}function Ez(e,t,n){const r=Fo(t),i=na(t),o=Ou(e,r&&Tz(t));let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&n!=="fixed")if((Ho(t)!=="body"||ug(i))&&(s=cg(t)),Fo(t)){const u=Ou(t,!0);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else i&&(l.x=_M(i));return{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function fg(e){return Ho(e)==="html"?e:e.assignedSlot||e.parentNode||(yM(e)?e.host:null)||na(e)}function A2(e){return!Fo(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function Az(e){let t=fg(e);for(;Fo(t)&&!["html","body"].includes(Ho(t));){if(bM(t))return t;t=t.parentNode}return null}function R0(e){const t=ta(e);let n=A2(e);for(;n&&Cz(n)&&getComputedStyle(n).position==="static";)n=A2(n);return n&&(Ho(n)==="html"||Ho(n)==="body"&&getComputedStyle(n).position==="static"&&!bM(n))?t:n||Az(e)||t}function O2(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Oz(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Fo(n),o=na(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if((i||!i&&r!=="fixed")&&((Ho(n)!=="body"||ug(o))&&(s=cg(n)),Fo(n))){const u=Ou(n,!0);l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+l.x,y:t.y-s.scrollTop+l.y}}function Mz(e){const t=ta(e),n=na(e),r=t.visualViewport;let i=n.clientWidth,o=n.clientHeight,s=0,l=0;return r&&(i=r.width,o=r.height,Math.abs(t.innerWidth/r.scale-r.width)<.01&&(s=r.offsetLeft,l=r.offsetTop)),{width:i,height:o,x:s,y:l}}function Lz(e){var t;const n=na(e),r=cg(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Qc(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Qc(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let l=-r.scrollLeft+_M(e);const u=-r.scrollTop;return lg(i||n).direction==="rtl"&&(l+=Qc(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function wM(e){return["html","body","#document"].includes(Ho(e))?e.ownerDocument.body:Fo(e)&&ug(e)?e:wM(fg(e))}function jp(e,t){var n;t===void 0&&(t=[]);const r=wM(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=ta(r),s=i?[o].concat(o.visualViewport||[],ug(r)?r:[]):r,l=t.concat(s);return i?l:l.concat(jp(fg(s)))}function Nz(e,t){const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&yM(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function Pz(e){const t=Ou(e),n=t.top+e.clientTop,r=t.left+e.clientLeft;return{top:n,left:r,x:r,y:n,right:r+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function M2(e,t){return t==="viewport"?P0(Mz(e)):Fp(t)?Pz(t):P0(Lz(na(e)))}function Iz(e){const t=jp(fg(e)),r=["absolute","fixed"].includes(lg(e).position)&&Fo(e)?R0(e):e;return Fp(r)?t.filter(i=>Fp(i)&&Nz(i,r)&&Ho(i)!=="body"):[]}function Dz(e){let{element:t,boundary:n,rootBoundary:r}=e;const o=[...n==="clippingParents"?Iz(t):[].concat(n),r],s=o[0],l=o.reduce((u,f)=>{const d=M2(t,f);return u.top=Qc(d.top,u.top),u.right=E2(d.right,u.right),u.bottom=E2(d.bottom,u.bottom),u.left=Qc(d.left,u.left),u},M2(t,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}const Rz={getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:Ez(t,R0(n),r),floating:{...O2(n),x:0,y:0}}},convertOffsetParentRelativeRectToViewportRelativeRect:e=>Oz(e),getOffsetParent:e=>{let{element:t}=e;return R0(t)},isElement:e=>Fp(e),getDocumentElement:e=>{let{element:t}=e;return na(t)},getClippingClientRect:e=>Dz(e),getDimensions:e=>{let{element:t}=e;return O2(t)},getClientRects:e=>{let{element:t}=e;return t.getClientRects()}},zz=(e,t,n)=>az(e,t,{platform:Rz,...n});var Bz=Object.defineProperty,$z=Object.defineProperties,Hz=Object.getOwnPropertyDescriptors,L2=Object.getOwnPropertySymbols,Fz=Object.prototype.hasOwnProperty,Vz=Object.prototype.propertyIsEnumerable,N2=(e,t,n)=>t in e?Bz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,No=(e,t)=>{for(var n in t||(t={}))Fz.call(t,n)&&N2(e,n,t[n]);if(L2)for(var n of L2(t))Vz.call(t,n)&&N2(e,n,t[n]);return e},pd=(e,t)=>$z(e,Hz(t));function kM(e,t){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(typeof t[n]=="object"&&e[n]?kM(e[n],t[n]):e[n]=t[n])}const Ro={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:5e3,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:e=>[...e,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function Mu(e,t){let n=Ro.themes[e]||{},r;do r=n[t],typeof r>"u"?n.$extend?n=Ro.themes[n.$extend]||{}:(n=null,r=Ro[t]):n=null;while(n);return r}function jz(e){const t=[e];let n=Ro.themes[e]||{};do n.$extend&&!n.$resetCss?(t.push(n.$extend),n=Ro.themes[n.$extend]||{}):n=null;while(n);return t.map(r=>`v-popper--theme-${r}`)}function P2(e){const t=[e];let n=Ro.themes[e]||{};do n.$extend?(t.push(n.$extend),n=Ro.themes[n.$extend]||{}):n=null;while(n);return t}let Qa=!1;if(typeof window<"u"){Qa=!1;try{const e=Object.defineProperty({},"passive",{get(){Qa=!0}});window.addEventListener("test",null,e)}catch{}}let xM=!1;typeof window<"u"&&typeof navigator<"u"&&(xM=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const SM=["auto","top","bottom","left","right"].reduce((e,t)=>e.concat([t,`${t}-start`,`${t}-end`]),[]),I2={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart"},D2={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend"};function R2(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1)}function Zv(){return new Promise(e=>requestAnimationFrame(()=>{requestAnimationFrame(e)}))}const Oi=[];let ya=null;const z2={};function B2(e){let t=z2[e];return t||(t=z2[e]=[]),t}let z0=function(){};typeof window<"u"&&(z0=window.Element);function Pt(e){return function(t){return Mu(t.theme,e)}}const Qv="__floating-vue__popper";var CM=()=>an({name:"VPopper",provide(){return{[Qv]:{parentPopper:this}}},inject:{[Qv]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:Pt("disabled")},positioningDisabled:{type:Boolean,default:Pt("positioningDisabled")},placement:{type:String,default:Pt("placement"),validator:e=>SM.includes(e)},delay:{type:[String,Number,Object],default:Pt("delay")},distance:{type:[Number,String],default:Pt("distance")},skidding:{type:[Number,String],default:Pt("skidding")},triggers:{type:Array,default:Pt("triggers")},showTriggers:{type:[Array,Function],default:Pt("showTriggers")},hideTriggers:{type:[Array,Function],default:Pt("hideTriggers")},popperTriggers:{type:Array,default:Pt("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:Pt("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:Pt("popperHideTriggers")},container:{type:[String,Object,z0,Boolean],default:Pt("container")},boundary:{type:[String,z0],default:Pt("boundary")},strategy:{type:String,validator:e=>["absolute","fixed"].includes(e),default:Pt("strategy")},autoHide:{type:[Boolean,Function],default:Pt("autoHide")},handleResize:{type:Boolean,default:Pt("handleResize")},instantMove:{type:Boolean,default:Pt("instantMove")},eagerMount:{type:Boolean,default:Pt("eagerMount")},popperClass:{type:[String,Array,Object],default:Pt("popperClass")},computeTransformOrigin:{type:Boolean,default:Pt("computeTransformOrigin")},autoMinSize:{type:Boolean,default:Pt("autoMinSize")},autoSize:{type:[Boolean,String],default:Pt("autoSize")},autoMaxSize:{type:Boolean,default:Pt("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:Pt("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:Pt("preventOverflow")},overflowPadding:{type:[Number,String],default:Pt("overflowPadding")},arrowPadding:{type:[Number,String],default:Pt("arrowPadding")},arrowOverflow:{type:Boolean,default:Pt("arrowOverflow")},flip:{type:Boolean,default:Pt("flip")},shift:{type:Boolean,default:Pt("shift")},shiftCrossAxis:{type:Boolean,default:Pt("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:Pt("noAutoFocus")}},emits:["show","hide","update:shown","apply-show","apply-hide","close-group","close-directive","auto-hide","resize","dispose"],data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:pd(No({},this.classes),{popperClass:this.popperClass}),result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var e;return(e=this[Qv])==null?void 0:e.parentPopper},hasPopperShowTriggerHover(){var e,t;return((e=this.popperTriggers)==null?void 0:e.includes("hover"))||((t=this.popperShowTriggers)==null?void 0:t.includes("hover"))}},watch:No(No({shown:"$_autoShowHide",disabled(e){e?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())}},["triggers","positioningDisabled"].reduce((e,t)=>(e[t]="$_refreshListeners",e),{})),["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((e,t)=>(e[t]="$_computePosition",e),{})),created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map(e=>e.toString(36).substring(2,10)).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:e=null,skipDelay:t=!1,force:n=!1}={}){var r,i;(r=this.parentPopper)!=null&&r.lockedChild&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(n||!this.disabled)&&(((i=this.parentPopper)==null?void 0:i.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(e,t),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:e=null,skipDelay:t=!1}={}){var n;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:t}),this.parentPopper.lockedChild=null)},1e3));return}((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(e,t),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var e,t;this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=(t=(e=this.referenceNode)==null?void 0:e.call(this))!=null?t:this.$el,this.$_targetNodes=this.targetNodes().filter(n=>n.nodeType===n.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"),this.$emit("dispose"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){var e;if(this.$_isDisposed||this.positioningDisabled)return;const t={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&t.middleware.push(_z({mainAxis:this.distance,crossAxis:this.skidding}));const n=this.placement.startsWith("auto");if(n?t.middleware.push(gz({alignment:(e=this.placement.split("-")[1])!=null?e:""})):t.placement=this.placement,this.preventOverflow&&(this.shift&&t.middleware.push(kz({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!n&&this.flip&&t.middleware.push(yz({padding:this.overflowPadding,boundary:this.boundary}))),t.middleware.push(cz({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&t.middleware.push({name:"arrowOverflow",fn:({placement:i,rects:o,middlewareData:s})=>{let l;const{centerOffset:u}=s.arrow;return i.startsWith("top")||i.startsWith("bottom")?l=Math.abs(u)>o.reference.width/2:l=Math.abs(u)>o.reference.height/2,{data:{overflow:l}}}}),this.autoMinSize||this.autoSize){const i=this.autoSize?this.autoSize:this.autoMinSize?"min":null;t.middleware.push({name:"autoSize",fn:({rects:o,placement:s,middlewareData:l})=>{var u;if((u=l.autoSize)!=null&&u.skip)return{};let f,d;return s.startsWith("top")||s.startsWith("bottom")?f=o.reference.width:d=o.reference.height,this.$_innerNode.style[i==="min"?"minWidth":i==="max"?"maxWidth":"width"]=f!=null?`${f}px`:null,this.$_innerNode.style[i==="min"?"minHeight":i==="max"?"maxHeight":"height"]=d!=null?`${d}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,t.middleware.push(xz({boundary:this.boundary,padding:this.overflowPadding,apply:({width:i,height:o})=>{this.$_innerNode.style.maxWidth=i!=null?`${i}px`:null,this.$_innerNode.style.maxHeight=o!=null?`${o}px`:null}})));const r=await zz(this.$_referenceNode,this.$_popperNode,t);Object.assign(this.result,{x:r.x,y:r.y,placement:r.placement,strategy:r.strategy,arrow:No(No({},r.middlewareData.arrow),r.middlewareData.arrowOverflow)})},$_scheduleShow(e=null,t=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),ya&&this.instantMove&&ya.instantMove&&ya!==this.parentPopper){ya.$_applyHide(!0),this.$_applyShow(!0);return}t?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(e=null,t=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(ya=this),t?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(e){const t=this.delay;return parseInt(t&&t[e]||t||0)},async $_applyShow(e=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=e,!this.isShown&&(this.$_ensureTeleport(),await Zv(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...jp(this.$_referenceNode),...jp(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const t=this.$_referenceNode.getBoundingClientRect(),n=this.$_popperNode.querySelector(".v-popper__wrapper"),r=n.parentNode.getBoundingClientRect(),i=t.x+t.width/2-(r.left+n.offsetLeft),o=t.y+t.height/2-(r.top+n.offsetTop);this.result.transformOrigin=`${i}px ${o}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const e=this.showGroup;if(e){let t;for(let n=0;n<Oi.length;n++)t=Oi[n],t.showGroup!==e&&(t.hide(),t.$emit("close-group"))}Oi.push(this),document.body.classList.add("v-popper--some-open");for(const t of P2(this.theme))B2(t).push(this),document.body.classList.add(`v-popper--some-open--${t}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await Zv(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(e=!1){if(this.shownChildren.size>0){this.$_pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=e,R2(Oi,this),Oi.length===0&&document.body.classList.remove("v-popper--some-open");for(const n of P2(this.theme)){const r=B2(n);R2(r,this),r.length===0&&document.body.classList.remove(`v-popper--some-open--${n}`)}ya===this&&(ya=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const t=Mu(this.theme,"disposeTimeout");t!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},t)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await Zv(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let e=this.container;if(typeof e=="string"?e=window.document.querySelector(e):e===!1&&(e=this.$_targetNodes[0].parentNode),!e)throw new Error("No container for popover: "+this.container);e.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const e=n=>{this.isShown&&!this.$_hideInProgress||(n.usedByTooltip=!0,!this.$_preventShow&&this.show({event:n}))};this.$_registerTriggerListeners(this.$_targetNodes,I2,this.triggers,this.showTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],I2,this.popperTriggers,this.popperShowTriggers,e);const t=n=>{n.usedByTooltip||this.hide({event:n})};this.$_registerTriggerListeners(this.$_targetNodes,D2,this.triggers,this.hideTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],D2,this.popperTriggers,this.popperHideTriggers,t)},$_registerEventListeners(e,t,n){this.$_events.push({targetNodes:e,eventType:t,handler:n}),e.forEach(r=>r.addEventListener(t,n,Qa?{passive:!0}:void 0))},$_registerTriggerListeners(e,t,n,r,i){let o=n;r!=null&&(o=typeof r=="function"?r(o):r),o.forEach(s=>{const l=t[s];l&&this.$_registerEventListeners(e,l,i)})},$_removeEventListeners(e){const t=[];this.$_events.forEach(n=>{const{targetNodes:r,eventType:i,handler:o}=n;!e||e===i?r.forEach(s=>s.removeEventListener(i,o)):t.push(n)}),this.$_events=t},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(e,t=!1){this.$_showFrameLocked||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),t&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(e,t){for(const n of this.$_targetNodes){const r=n.getAttribute(e);r&&(n.removeAttribute(e),n.setAttribute(t,r))}},$_applyAttrsToTarget(e){for(const t of this.$_targetNodes)for(const n in e){const r=e[n];r==null?t.removeAttribute(n):t.setAttribute(n,r)}},$_updateParentShownChildren(e){let t=this.parentPopper;for(;t;)e?t.shownChildren.add(this.randomId):(t.shownChildren.delete(this.randomId),t.$_pendingHide&&t.hide()),t=t.parentPopper},$_isAimingPopper(){const e=this.$_referenceNode.getBoundingClientRect();if(ef>=e.left&&ef<=e.right&&tf>=e.top&&tf<=e.bottom){const t=this.$_popperNode.getBoundingClientRect(),n=ef-ks,r=tf-xs,o=t.left+t.width/2-ks+(t.top+t.height/2)-xs+t.width+t.height,s=ks+n*o,l=xs+r*o;return xh(ks,xs,s,l,t.left,t.top,t.left,t.bottom)||xh(ks,xs,s,l,t.left,t.top,t.right,t.top)||xh(ks,xs,s,l,t.right,t.top,t.right,t.bottom)||xh(ks,xs,s,l,t.left,t.bottom,t.right,t.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});typeof document<"u"&&typeof window<"u"&&(xM?(document.addEventListener("touchstart",$2,Qa?{passive:!0,capture:!0}:!0),document.addEventListener("touchend",Uz,Qa?{passive:!0,capture:!0}:!0)):(window.addEventListener("mousedown",$2,!0),window.addEventListener("click",Wz,!0)),window.addEventListener("resize",Gz));function $2(e){for(let t=0;t<Oi.length;t++){const n=Oi[t];try{const r=n.popperNode();n.$_mouseDownContains=r.contains(e.target)}catch{}}}function Wz(e){TM(e)}function Uz(e){TM(e,!0)}function TM(e,t=!1){const n={};for(let r=Oi.length-1;r>=0;r--){const i=Oi[r];try{const o=i.$_containsGlobalTarget=Kz(i,e);i.$_pendingHide=!1,requestAnimationFrame(()=>{if(i.$_pendingHide=!1,!n[i.randomId]&&H2(i,o,e)){if(i.$_handleGlobalClose(e,t),!e.closeAllPopover&&e.closePopover&&o){let l=i.parentPopper;for(;l;)n[l.randomId]=!0,l=l.parentPopper;return}let s=i.parentPopper;for(;s&&H2(s,s.$_containsGlobalTarget,e);){s.$_handleGlobalClose(e,t);s=s.parentPopper}}})}catch{}}}function Kz(e,t){const n=e.popperNode();return e.$_mouseDownContains||n.contains(t.target)}function H2(e,t,n){return n.closeAllPopover||n.closePopover&&t||qz(e,n)&&!t}function qz(e,t){if(typeof e.autoHide=="function"){const n=e.autoHide(t);return e.lastAutoHide=n,n}return e.autoHide}function Gz(e){for(let t=0;t<Oi.length;t++)Oi[t].$_computePosition(e)}let ks=0,xs=0,ef=0,tf=0;typeof window<"u"&&window.addEventListener("mousemove",e=>{ks=ef,xs=tf,ef=e.clientX,tf=e.clientY},Qa?{passive:!0}:void 0);function xh(e,t,n,r,i,o,s,l){const u=((s-i)*(t-o)-(l-o)*(e-i))/((l-o)*(n-e)-(s-i)*(r-t)),f=((n-e)*(t-o)-(r-t)*(e-i))/((l-o)*(n-e)-(s-i)*(r-t));return u>=0&&u<=1&&f>=0&&f<=1}var dg=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const Jz={extends:CM()};function Yz(e,t,n,r,i,o){return me(),Se("div",{ref:"reference",class:mt(["v-popper",{"v-popper--shown":e.slotData.isShown}])},[pn(e.$slots,"default",ZE(x1(e.slotData)))],2)}var Xz=dg(Jz,[["render",Yz]]);function Zz(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var n=e.indexOf("Trident/");if(n>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}let ap;function B0(){B0.init||(B0.init=!0,ap=Zz()!==-1)}var hg={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){B0(),ro(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",ap&&this.$el.appendChild(e),e.data="about:blank",ap||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!ap&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const Qz=d1();c1("data-v-b329ee4c");const e7={class:"resize-observer",tabindex:"-1"};f1();const t7=Qz((e,t,n,r,i,o)=>(me(),Et("div",e7)));hg.render=t7;hg.__scopeId="data-v-b329ee4c";hg.__file="src/components/ResizeObserver.vue";var EM=(e="theme")=>({computed:{themeClass(){return jz(this[e])}}});const n7=an({name:"VPopperContent",components:{ResizeObserver:hg},mixins:[EM()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(e){return e!=null&&!isNaN(e)?`${e}px`:null}}}),r7=["id","aria-hidden","tabindex","data-popper-placement"],i7={ref:"inner",class:"v-popper__inner"},o7=ie("div",{class:"v-popper__arrow-outer"},null,-1),s7=ie("div",{class:"v-popper__arrow-inner"},null,-1),a7=[o7,s7];function l7(e,t,n,r,i,o){const s=lt("ResizeObserver");return me(),Se("div",{id:e.popperId,ref:"popover",class:mt(["v-popper__popper",[e.themeClass,e.classes.popperClass,{"v-popper__popper--shown":e.shown,"v-popper__popper--hidden":!e.shown,"v-popper__popper--show-from":e.classes.showFrom,"v-popper__popper--show-to":e.classes.showTo,"v-popper__popper--hide-from":e.classes.hideFrom,"v-popper__popper--hide-to":e.classes.hideTo,"v-popper__popper--skip-transition":e.skipTransition,"v-popper__popper--arrow-overflow":e.result&&e.result.arrow.overflow,"v-popper__popper--no-positioning":!e.result}]]),style:Qr(e.result?{position:e.result.strategy,transform:`translate3d(${Math.round(e.result.x)}px,${Math.round(e.result.y)}px,0)`}:void 0),"aria-hidden":e.shown?"false":"true",tabindex:e.autoHide?0:void 0,"data-popper-placement":e.result?e.result.placement:void 0,onKeyup:t[2]||(t[2]=fu(l=>e.autoHide&&e.$emit("hide"),["esc"]))},[ie("div",{class:"v-popper__backdrop",onClick:t[0]||(t[0]=l=>e.autoHide&&e.$emit("hide"))}),ie("div",{class:"v-popper__wrapper",style:Qr(e.result?{transformOrigin:e.result.transformOrigin}:void 0)},[ie("div",i7,[e.mounted?(me(),Se(kt,{key:0},[ie("div",null,[pn(e.$slots,"default")]),e.handleResize?(me(),Et(s,{key:0,onNotify:t[1]||(t[1]=l=>e.$emit("resize",l))})):_t("",!0)],64)):_t("",!0)],512),ie("div",{ref:"arrow",class:"v-popper__arrow-container",style:Qr(e.result?{left:e.toPx(e.result.arrow.x),top:e.toPx(e.result.arrow.y)}:void 0)},a7,4)],4)],46,r7)}var AM=dg(n7,[["render",l7]]),OM={methods:{show(...e){return this.$refs.popper.show(...e)},hide(...e){return this.$refs.popper.hide(...e)},dispose(...e){return this.$refs.popper.dispose(...e)},onResize(...e){return this.$refs.popper.onResize(...e)}}};const u7=an({name:"VPopperWrapper",components:{Popper:Xz,PopperContent:AM},mixins:[OM,EM("finalTheme")],props:{theme:{type:String,default:null}},computed:{finalTheme(){var e;return(e=this.theme)!=null?e:this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(e=>e!==this.$refs.popperContent.$el)}}});function c7(e,t,n,r,i,o){const s=lt("PopperContent"),l=lt("Popper");return me(),Et(l,{ref:"popper",theme:e.finalTheme,"target-nodes":e.getTargetNodes,"popper-node":()=>e.$refs.popperContent.$el,class:mt([e.themeClass])},{default:Bt(({popperId:u,isShown:f,shouldMountContent:d,skipTransition:m,autoHide:v,show:y,hide:_,handleResize:T,onResize:C,classes:w,result:S})=>[pn(e.$slots,"default",{shown:f,show:y,hide:_}),Qe(s,{ref:"popperContent","popper-id":u,theme:e.finalTheme,shown:f,mounted:d,"skip-transition":m,"auto-hide":v,"handle-resize":T,classes:w,result:S,onHide:_,onResize:C},{default:Bt(()=>[pn(e.$slots,"popper",{shown:f,hide:_})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},8,["theme","target-nodes","popper-node","class"])}var J1=dg(u7,[["render",c7]]);const f7=an(pd(No({},J1),{name:"VDropdown",vPopperTheme:"dropdown"})),d7=an(pd(No({},J1),{name:"VMenu",vPopperTheme:"menu"})),h7=an(pd(No({},J1),{name:"VTooltip",vPopperTheme:"tooltip"})),p7=an({name:"VTooltipDirective",components:{Popper:CM(),PopperContent:AM},mixins:[OM],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:e=>Mu(e.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:e=>Mu(e.theme,"loadingContent")}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(e){if(typeof this.content=="function"&&this.$_isShown&&(e||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const t=++this.$_fetchId,n=this.content(this);n.then?n.then(r=>this.onResult(t,r)):this.onResult(t,n)}},onResult(e,t){e===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=t)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),m7=["innerHTML"],g7=["textContent"];function v7(e,t,n,r,i,o){const s=lt("PopperContent"),l=lt("Popper");return me(),Et(l,mi({ref:"popper"},e.$attrs,{theme:e.theme,"popper-node":()=>e.$refs.popperContent.$el,onApplyShow:e.onShow,onApplyHide:e.onHide}),{default:Bt(({popperId:u,isShown:f,shouldMountContent:d,skipTransition:m,autoHide:v,hide:y,handleResize:_,onResize:T,classes:C,result:w})=>[Qe(s,{ref:"popperContent",class:mt({"v-popper--tooltip-loading":e.loading}),"popper-id":u,theme:e.theme,shown:f,mounted:d,"skip-transition":m,"auto-hide":v,"handle-resize":_,classes:C,result:w,onHide:y,onResize:T},{default:Bt(()=>[e.html?(me(),Se("div",{key:0,innerHTML:e.finalContent},null,8,m7)):(me(),Se("div",{key:1,textContent:Ne(e.finalContent)},null,8,g7))]),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:1},16,["theme","popper-node","onApplyShow","onApplyHide"])}var y7=dg(p7,[["render",v7]]);const MM="v-popper--has-tooltip";function b7(e,t){let n=e.placement;if(!n&&t)for(const r of SM)t[r]&&(n=r);return n||(n=Mu(e.theme||"tooltip","placement")),n}function LM(e,t,n){let r;const i=typeof t;return i==="string"?r={content:t}:t&&i==="object"?r=t:r={content:!1},r.placement=b7(r,n),r.targetNodes=()=>[e],r.referenceNode=()=>e,r}let ey,zf,_7=0;function w7(){if(ey)return;zf=At([]),ey=E1({name:"VTooltipDirectiveApp",setup(){return{directives:zf}},render(){return this.directives.map(t=>jn(y7,pd(No({},t.options),{shown:t.shown||t.options.shown,key:t.id})))},devtools:{hide:!0}});const e=document.createElement("div");document.body.appendChild(e),ey.mount(e)}function k7(e,t,n){w7();const r=At(LM(e,t,n)),i=At(!1),o={id:_7++,options:r,shown:i};return zf.value.push(o),e.classList&&e.classList.add(MM),e.$_popper={options:r,item:o,show(){i.value=!0},hide(){i.value=!1}}}function NM(e){if(e.$_popper){const t=zf.value.indexOf(e.$_popper.item);t!==-1&&zf.value.splice(t,1),delete e.$_popper,delete e.$_popperOldShown,delete e.$_popperMountTarget}e.classList&&e.classList.remove(MM)}function F2(e,{value:t,modifiers:n}){const r=LM(e,t,n);if(!r.content||Mu(r.theme||"tooltip","disabled"))NM(e);else{let i;e.$_popper?(i=e.$_popper,i.options.value=r):i=k7(e,t,n),typeof t.shown<"u"&&t.shown!==e.$_popperOldShown&&(e.$_popperOldShown=t.shown,t.shown?i.show():i.hide())}}var x7={beforeMount:F2,updated:F2,beforeUnmount(e){NM(e)}};function V2(e){e.addEventListener("click",PM),e.addEventListener("touchstart",IM,Qa?{passive:!0}:!1)}function j2(e){e.removeEventListener("click",PM),e.removeEventListener("touchstart",IM),e.removeEventListener("touchend",DM),e.removeEventListener("touchcancel",RM)}function PM(e){const t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function IM(e){if(e.changedTouches.length===1){const t=e.currentTarget;t.$_vclosepopover_touch=!0;const n=e.changedTouches[0];t.$_vclosepopover_touchPoint=n,t.addEventListener("touchend",DM),t.addEventListener("touchcancel",RM)}}function DM(e){const t=e.currentTarget;if(t.$_vclosepopover_touch=!1,e.changedTouches.length===1){const n=e.changedTouches[0],r=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(n.screenY-r.screenY)<20&&Math.abs(n.screenX-r.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function RM(e){const t=e.currentTarget;t.$_vclosepopover_touch=!1}var S7={beforeMount(e,{value:t,modifiers:n}){e.$_closePopoverModifiers=n,(typeof t>"u"||t)&&V2(e)},updated(e,{value:t,oldValue:n,modifiers:r}){e.$_closePopoverModifiers=r,t!==n&&(typeof t>"u"||t?V2(e):j2(e))},beforeUnmount(e){j2(e)}};function C7(e,t={}){e.$_vTooltipInstalled||(e.$_vTooltipInstalled=!0,kM(Ro,t),e.directive("tooltip",x7),e.directive("close-popper",S7),e.component("VTooltip",h7),e.component("VDropdown",f7),e.component("VMenu",d7))}const T7={version:"2.0.0-beta.20",install:C7,options:Ro};function nf(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nf=function(t){return typeof t}:nf=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function W2(e,t,n,r,i,o,s){try{var l=e[o](s),u=l.value}catch(f){n(f);return}l.done?t(u):Promise.resolve(u).then(r,i)}function E7(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(u){W2(o,r,i,s,l,"next",u)}function l(u){W2(o,r,i,s,l,"throw",u)}s(void 0)})}}function A7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O7(e,t,n){return t&&U2(e.prototype,t),n&&U2(e,n),e}function hu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(n),!0).forEach(function(r){hu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function el(e){return M7(e)||L7(e)||N7(e)||P7()}function M7(e){if(Array.isArray(e))return $0(e)}function L7(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function N7(e,t){if(e){if(typeof e=="string")return $0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $0(e,t)}}function $0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I7='button:not([disabled]), select:not([disabled]), a[href]:not([disabled]), area[href]:not([disabled]), [contentEditable=""]:not([disabled]), [contentEditable="true"]:not([disabled]), [contentEditable="TRUE"]:not([disabled]), textarea:not([disabled]), iframe:not([disabled]), input:not([disabled]), summary:not([disabled]), [tabindex]:not([tabindex="-1"])',D7=function(t){return t.key==="Tab"||t.keyCode===9},R7=function(t,n){return el(t.querySelectorAll(n)||[])},z7=function(t){return R7(t,I7)},q2=function(t){return t==document.activeElement},B7=function(){return!document.activeElement},$7=function(){function e(){A7(this,e),this.root=null,this.elements=[],this.onKeyDown=this.onKeyDown.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.firstElement=this.firstElement.bind(this),this.lastElement=this.lastElement.bind(this)}return O7(e,[{key:"lastElement",value:function(){return this.elements[this.elements.length-1]||null}},{key:"firstElement",value:function(){return this.elements[0]||null}},{key:"onKeyDown",value:function(n){if(D7(n)){if(n.shiftKey){q2(this.firstElement())&&(this.lastElement().focus(),n.preventDefault());return}if(B7()||q2(this.lastElement())){this.firstElement().focus(),n.preventDefault();return}}}},{key:"enabled",value:function(){return!!this.root}},{key:"enable",value:function(n){n&&(this.root=n,this.elements=z7(this.root),this.root.addEventListener("keydown",this.onKeyDown))}},{key:"disable",value:function(){this.root.removeEventListener("keydown",this.onKeyDown),this.root=null}}]),e}(),H7=function(t,n,r){var i=t.style[n];return t.style[n]=r,function(){t.style[n]=i}},G2=function(t){var n=t.targetTouches?t.targetTouches[0]:t,r=n.clientX,i=n.clientY;return{x:r,y:i}},F7=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Sh=function(t,n,r){return typeof t!="number"&&(t=Math.min(n,r)||n),typeof r!="number"&&(r=Math.max(n,t)),Math.min(Math.max(n,t),r)},J2=function(t){return t&&Number(t.replace(/px$/,""))||0},V7=function(t,n,r){if(r==="")return!0;var i=el(n.querySelectorAll(r));return i.includes(t.target)},Wp={down:{pc:"mousedown",m:"touchstart"},move:{pc:"mousemove",m:"touchmove"},up:{pc:"mouseup",m:"touchend"}},Ch=function(t,n,r){n&&n.addEventListener(Wp[t].pc,r),n&&n.addEventListener(Wp[t].m,r,{passive:!1})},Th=function(t,n,r){n&&n.removeEventListener(Wp[t].pc,r),n&&n.removeEventListener(Wp[t].m,r)},Y1=!1;if(typeof window<"u"){var Y2={get passive(){Y1=!0}};window.addEventListener("testPassive",null,Y2),window.removeEventListener("testPassive",null,Y2)}var zM=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Ls=[],Up=!1,lp=0,BM=-1,rf,of,j7=function(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(t);return["auto","scroll"].includes(n.overflowY)&&t.scrollHeight>t.clientHeight},W7=function(t,n){return!(t.scrollTop===0&&n<0||t.scrollTop+t.clientHeight+n>=t.scrollHeight&&n>0)},U7=function(t){for(var n=[];t;){if(n.push(t),t.classList.contains("vfm"))return n;t=t.parentElement}return n},K7=function(t,n){var r=!1,i=U7(t);return i.forEach(function(o){j7(o)&&W7(o,n)&&(r=!0)}),r},$M=function(t){return Ls.some(function(){return K7(t,-lp)})},Kp=function(t){var n=t||window.event;return $M(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},q7=function(t){if(of===void 0){var n=!!t&&t.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(n&&r>0){var i=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);of=document.body.style.paddingRight,document.body.style.paddingRight="".concat(i+r,"px")}}rf===void 0&&(rf=document.body.style.overflow,document.body.style.overflow="hidden")},G7=function(){of!==void 0&&(document.body.style.paddingRight=of,of=void 0),rf!==void 0&&(document.body.style.overflow=rf,rf=void 0)},J7=function(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1},Y7=function(t,n){return lp=t.targetTouches[0].clientY-BM,$M(t.target)?!1:n&&n.scrollTop===0&&lp>0||J7(n)&&lp<0?Kp(t):(t.stopPropagation(),!0)},X7=function(t,n){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Ls.some(function(i){return i.targetElement===t})){var r={targetElement:t,options:n||{}};Ls=[].concat(el(Ls),[r]),zM?(t.ontouchstart=function(i){i.targetTouches.length===1&&(BM=i.targetTouches[0].clientY)},t.ontouchmove=function(i){i.targetTouches.length===1&&Y7(i,t)},Up||(document.addEventListener("touchmove",Kp,Y1?{passive:!1}:void 0),Up=!0)):q7(n)}},ty=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Ls=Ls.filter(function(n){return n.targetElement!==t}),zM?(t.ontouchstart=null,t.ontouchmove=null,Up&&Ls.length===0&&(document.removeEventListener("touchmove",Kp,Y1?{passive:!1}:void 0),Up=!1)):Ls.length||G7()},Eh=function(){},Ji={Enter:"enter",Entering:"entering",Leave:"leave",Leaving:"leavng"},Z7={t:"ns-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize",b:"ns-resize",bl:"nesw-resize",l:"ew-resize",tl:"nwse-resize"},pg={props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},ssr:{type:Boolean,default:!0},classes:{type:[String,Object,Array],default:""},overlayClass:{type:[String,Object,Array],default:""},contentClass:{type:[String,Object,Array],default:""},styles:{type:[Object,Array],default:function(){return{}}},overlayStyle:{type:[Object,Array],default:function(){return{}}},contentStyle:{type:[Object,Array],default:function(){return{}}},lockScroll:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!1},preventClick:{type:Boolean,default:!1},attach:{type:null,default:!1,validator:function(t){var n=nf(t);return n==="boolean"||n==="string"?!0:t.nodeType===Node.ELEMENT_NODE}},transition:{type:[String,Object],default:"vfm"},overlayTransition:{type:[String,Object],default:"vfm"},keepOverlay:{type:Boolean,default:!1},zIndexAuto:{type:Boolean,default:!0},zIndexBase:{type:[String,Number],default:1e3},zIndex:{type:[Boolean,String,Number],default:!1},focusRetain:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!0},drag:{type:Boolean,default:!1},dragSelector:{type:String,default:""},keepChangedStyle:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},resizeDirections:{type:Array,default:function(){return["t","tr","r","br","b","bl","l","tl"]},validator:function(t){return["t","tr","r","br","b","bl","l","tl"].filter(function(n){return t.indexOf(n)!==-1}).length===t.length}},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0}},emits:["update:modelValue","click-outside","before-open","opened","before-close","closed","_before-open","_opened","_closed","drag:start","drag:move","drag:end","resize:start","resize:move","resize:end"],setup:function(t,n){var r=n.emit,i=Symbol("vfm"),o=At(null),s=At(null),l=At(null),u=At(null),f=At(null),d=At(null),m=At(null),v=new $7,y=At(!1),_=pl({modal:!1,overlay:!1,resize:!1}),T=At(null),C=At(null),w=At(!1),S=At({}),P=At({}),A=At(null),U=At(null),z=Eh,j=Eh,L=gn(function(){return typeof t.overlayTransition=="string"?{name:t.overlayTransition}:Lr({},t.overlayTransition)}),B=gn(function(){return typeof t.transition=="string"?{name:t.transition}:Lr({},t.transition)}),k=gn(function(){return(t.hideOverlay||T.value===Ji.Leave)&&C.value===Ji.Leave}),D=gn(function(){return t.zIndex===!1?t.zIndexAuto?+t.zIndexBase+2*(m.value||0):!1:t.zIndex}),K=gn(function(){return Lr({},D.value!==!1&&{zIndex:D.value})}),q=gn(function(){var N=[P.value];return Array.isArray(t.contentStyle)?N.push.apply(N,el(t.contentStyle)):N.push(t.contentStyle),N});Tn(function(){return t.modelValue},function(N){if(w.value){w.value=!1;return}if(I(),!N){if(se("before-close",!0)){j("hide");return}ce()}}),Tn(function(){return t.lockScroll},de),Tn(function(){return t.hideOverlay},function(N){t.modelValue&&!N&&(_.overlay=!0)}),Tn(function(){return t.attach},I),Tn(k,function(N){N&&(y.value=!1,s.value.style.display="none")},{flush:"post"}),Tn(function(){return t.drag},function(N){y.value&&(N?Ce():G())}),Tn(function(){return t.resize},function(N){y.value&&(N?J():M())}),Tn(function(){return t.keepChangedStyle},function(N){N||(P.value={})}),Bi(function(){t.api.modals.push(Q()),I()}),Go(function(){var N;ce(),t.lockScroll&&s.value&&ty(s.value),o==null||(N=o.value)===null||N===void 0||N.remove();var W=t.api.modals.findIndex(function(H){return H.uid===i});t.api.modals.splice(W,1)});function Q(){return{uid:i,props:t,emit:r,vfmContainer:s,vfmContent:l,vfmResize:u,vfmOverlayTransition:f,vfmTransition:d,getAttachElement:xe,modalStackIndex:m,visibility:_,handleLockScroll:de,$focusTrap:v,toggle:ke,params:S}}function I(){if(t.modelValue){if(r("_before-open",te({type:"_before-open"})),se("before-open",!1)){j("show");return}var N=xe();if(N||t.attach===!1){if(t.attach!==!1)if(o.value)N.appendChild(o.value);else{y.value=!0,ro(function(){I()});return}var W=t.api.openedModals.findIndex(function(H){return H.uid===i});W!==-1&&t.api.openedModals.splice(W,1),t.api.openedModals.push(Q()),m.value=t.api.openedModals.length-1,de(),t.api.openedModals.filter(function(H){return H.uid!==i}).forEach(function(H,ee){H.getAttachElement()===N&&(H.modalStackIndex.value=ee,!H.props.keepOverlay&&(H.visibility.overlay=!1))}),y.value=!0,Be()}else N!==!1&&console.warn("Unable to locate target ".concat(t.attach))}}function ce(){var N=t.api.openedModals.findIndex(function(H){return H.uid===i});if(N!==-1&&t.api.openedModals.splice(N,1),t.api.openedModals.length>0){var W=t.api.openedModals[t.api.openedModals.length-1];W.props.focusTrap&&W.$focusTrap.firstElement().focus(),(W.props.focusRetain||W.props.focusTrap)&&W.vfmContainer.value.focus(),!W.props.hideOverlay&&(W.visibility.overlay=!0)}t.drag&&G(),t.resize&&M(),A.value=null,rt()}function de(){t.modelValue&&ro(function(){t.lockScroll?X7(s.value,{reserveScrollBarGap:!0}):ty(s.value)})}function xe(){var N;return t.attach===!1?N=!1:typeof t.attach=="string"?window?N=window.document.querySelector(t.attach):N=!1:N=t.attach,N}function Be(){_.overlay=!0,_.modal=!0}function rt(){_.overlay=!1,_.modal=!1}function pt(){T.value=Ji.Entering}function yt(){T.value=Ji.Enter}function bt(){T.value=Ji.Leaving}function gt(){T.value=Ji.Leave}function Ye(){C.value=Ji.Entering}function Ie(){C.value=Ji.Enter,(t.focusRetain||t.focusTrap)&&s.value.focus(),t.focusTrap&&v.enable(s.value),t.drag&&Ce(),t.resize&&J(),r("_opened"),r("opened",te({type:"opened"})),z("show")}function $e(){C.value=Ji.Leaving,v.enabled()&&v.disable()}function Ae(){C.value=Ji.Leave,m.value=null,t.lockScroll&&ty(s.value),t.keepChangedStyle||(P.value={});var N=!1,W=te({type:"closed",stop:function(){N=!0}});r("_closed"),r("closed",W),z("hide"),!N&&(S.value={})}function qe(N){U.value=N==null?void 0:N.target}function Xe(){U.value===s.value&&A.value!=="resize:move"&&(r("click-outside",te({type:"click-outside"})),t.clickToClose&&r("update:modelValue",!1))}function je(){y.value&&t.escToClose&&r("update:modelValue",!1)}function te(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Lr({ref:Q()},N)}function se(N,W){var H=!1,ee=te({type:N,stop:function(){H=!0}});return r(N,ee),H?(w.value=!0,ro(function(){r("update:modelValue",W)}),!0):!1}function le(N,W,H){A.value="".concat(W,":").concat(H),r(A.value,N)}function ke(N,W){var H=arguments;return new Promise(function(ee,ue){z=function(X){ee(X),z=Eh},j=function(X){ue(X),j=Eh};var ge=typeof N=="boolean"?N:!t.modelValue;ge&&H.length===2&&(S.value=W),r("update:modelValue",ge)})}function be(N){N.stopPropagation();var W="resize",H="drag",ee=N.target.getAttribute("direction"),ue;if(ee)ue=W;else if(V7(N,l.value,t.dragSelector))ue=H;else return;le(N,ue,"start");var ge=G2(N),ye=s.value.getBoundingClientRect(),X=l.value.getBoundingClientRect(),Z=window.getComputedStyle(l.value).position==="absolute",pe={top:J2(P.value.top),left:J2(P.value.left)},Oe=function(){if(t.fitParent){var Pe={absolute:function(){return{minTop:0,minLeft:0,maxTop:ye.height-X.height,maxLeft:ye.width-X.width}},relative:function(){return{minTop:pe.top+ye.top-X.top,minLeft:pe.left+ye.left-X.left,maxTop:pe.top+ye.bottom-X.bottom,maxLeft:pe.left+ye.right-X.right}}};return Z?Pe.absolute():Pe.relative()}else return{}}(),Ve=ue===W&&H7(document.body,"cursor",Z7[ee]),he=function(ve){ve.stopPropagation(),le(ve,ue,"move");var Ze=G2(ve),ct={x:Ze.x-ge.x,y:Ze.y-ge.y};ue===W&&(ct=V(ee,ct,ye,X,Z));var st,Ct;Z?(st=X.top-ye.top+ct.y,Ct=X.left-ye.left+ct.x):(st=pe.top+ct.y,Ct=pe.left+ct.x),ue===H&&t.fitParent&&(st=Sh(Oe.minTop,st,Oe.maxTop),Ct=Sh(Oe.minLeft,Ct,Oe.maxLeft));var hr=Lr(Lr(Lr({position:"relative",top:st+"px",left:Ct+"px",margin:"unset",touchAction:"none"},Z&&{position:"absolute",transform:"unset",width:X.width+"px",height:X.height+"px"}),ct.width&&{width:ct.width+"px"}),ct.height&&{height:ct.height+"px"});P.value=Lr(Lr({},P.value),hr)},Ee=function Pe(ve){ve.stopPropagation(),ue===W&&Ve&&Ve(),setTimeout(function(){le(ve,ue,"end")}),Th("move",document,he),Th("up",document,Pe)};Ch("move",document,he),Ch("up",document,Ee)}function Ce(){Ch("down",l.value,be),P.value.touchAction="none"}function G(){Th("down",l.value,be)}function J(){_.resize=!0,ro(function(){Ch("down",u.value,be)})}function M(){Th("down",u.value,be),_.resize=!1}function V(N,W,H,ee,ue){var ge=function(Oe){var Ve,he=W[Oe.axis];he=t.fitParent?Sh(Oe.min,he,Oe.max):he;var Ee=Sh(Oe.minEdge,Oe.getEdge(he),Oe.maxEdge);return he=Oe.getOffsetAxis(Ee,ue),Ve={},hu(Ve,Oe.edgeName,Ee),hu(Ve,Oe.axis,he),Ve},ye=function(Oe,Ve,he,Ee){var Pe=ee[Ve],ve=H[Oe]-ee[Oe],Ze=F7(Ve);return{axis:he,edgeName:Ve,min:Ee?ve:-Pe,max:Ee?Pe:ve,minEdge:t["min".concat(Ze)],maxEdge:t["max".concat(Ze)],getEdge:function(st){return ee[Ve]-st*(Ee?1:-1)},getOffsetAxis:function(st,Ct){var hr=ee[Ve]-st;return Ct?Ee?hr:0:(Ee?1:-1)*hr/2}}},X={t:["top","height","y",!0],b:["bottom","height","y",!1],l:["left","width","x",!0],r:["right","width","x",!1]},Z={x:0,y:0};return N.split("").forEach(function(pe){var Oe=ye.apply(void 0,el(X[pe]));Z=Lr(Lr({},Z),ge(Oe))}),Z}return{root:o,vfmContainer:s,vfmContent:l,vfmResize:u,vfmOverlayTransition:f,vfmTransition:d,computedOverlayTransition:L,computedTransition:B,visible:y,visibility:_,params:S,calculateZIndex:D,bindStyle:K,bindContentStyle:q,beforeOverlayEnter:pt,afterOverlayEnter:yt,beforeOverlayLeave:bt,afterOverlayLeave:gt,beforeModalEnter:Ye,afterModalEnter:Ie,beforeModalLeave:$e,afterModalLeave:Ae,onMousedown:qe,onMouseupContainer:Xe,onEsc:je}}},ny=d1();c1("data-v-2836fdb5");var Q7={key:0,ref:"vfmResize",class:"vfm__resize vfm--absolute vfm--inset vfm--prevent-none vfm--select-none vfm--touch-none"};f1();var eB=ny(function(e,t,n,r,i,o){return n.ssr||r.visible?Wt((me(),Et("div",{key:0,ref:"root",style:r.bindStyle,class:["vfm vfm--inset",[n.attach===!1?"vfm--fixed":"vfm--absolute",{"vfm--prevent-none":n.preventClick}]],onKeydown:t[4]||(t[4]=fu(function(){return r.onEsc&&r.onEsc.apply(r,arguments)},["esc"]))},[Qe(ku,mi(r.computedOverlayTransition,{onBeforeEnter:r.beforeOverlayEnter,onAfterEnter:r.afterOverlayEnter,onBeforeLeave:r.beforeOverlayLeave,onAfterLeave:r.afterOverlayLeave}),{default:ny(function(){return[!n.hideOverlay&&r.visibility.overlay?(me(),Et("div",{key:0,class:["vfm__overlay vfm--overlay vfm--absolute vfm--inset",n.overlayClass],style:n.overlayStyle},null,6)):_t("v-if",!0)]}),_:1},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),Qe(ku,mi(r.computedTransition,{onBeforeEnter:r.beforeModalEnter,onAfterEnter:r.afterModalEnter,onBeforeLeave:r.beforeModalLeave,onAfterLeave:r.afterModalLeave}),{default:ny(function(){return[Wt(Qe("div",{ref:"vfmContainer",class:["vfm__container vfm--absolute vfm--inset vfm--outline-none",n.classes],style:n.styles,"aria-expanded":r.visibility.modal.toString(),role:"dialog","aria-modal":"true",tabindex:"-1",onMouseup:t[2]||(t[2]=at(function(){return r.onMouseupContainer&&r.onMouseupContainer.apply(r,arguments)},["self"])),onMousedown:t[3]||(t[3]=at(function(){return r.onMousedown&&r.onMousedown.apply(r,arguments)},["self"]))},[Qe("div",{ref:"vfmContent",class:["vfm__content",[n.contentClass,{"vfm--prevent-auto":n.preventClick}]],style:r.bindContentStyle,onMousedown:t[1]||(t[1]=function(s){return r.onMousedown(null)})},[pn(e.$slots,"default",{params:r.params,close:function(){return e.$emit("update:modelValue",!1)}}),r.visibility.resize&&r.visibility.modal?(me(),Et("div",Q7,[(me(!0),Et(kt,null,Zt(n.resizeDirections,function(s){return me(),Et("div",{key:s,direction:s,class:["vfm--resize-".concat(s),"vfm--absolute vfm--prevent-auto"]},null,10,["direction"])}),128))],512)):_t("v-if",!0)],38)],46,["aria-expanded"]),[[Su,r.visibility.modal]])]}),_:3},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],38)),[[Su,!n.ssr||r.visible]]):_t("v-if",!0)});function tB(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var nB=`
.vfm--fixed[data-v-2836fdb5] {
  position: fixed;
}
.vfm--absolute[data-v-2836fdb5] {
  position: absolute;
}
.vfm--inset[data-v-2836fdb5] {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.vfm--overlay[data-v-2836fdb5] {
  background-color: rgba(0, 0, 0, 0.5);
}
.vfm--prevent-none[data-v-2836fdb5] {
  pointer-events: none;
}
.vfm--prevent-auto[data-v-2836fdb5] {
  pointer-events: auto;
}
.vfm--outline-none[data-v-2836fdb5]:focus {
  outline: none;
}
.vfm-enter-active[data-v-2836fdb5],
.vfm-leave-active[data-v-2836fdb5] {
  transition: opacity 0.2s;
}
.vfm-enter-from[data-v-2836fdb5],
.vfm-leave-to[data-v-2836fdb5] {
  opacity: 0;
}
.vfm--touch-none[data-v-2836fdb5] {
  touch-action: none;
}
.vfm--select-none[data-v-2836fdb5] {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.vfm--resize-tr[data-v-2836fdb5],
.vfm--resize-br[data-v-2836fdb5],
.vfm--resize-bl[data-v-2836fdb5],
.vfm--resize-tl[data-v-2836fdb5] {
  width: 12px;
  height: 12px;
  z-index: 10;
}
.vfm--resize-t[data-v-2836fdb5] {
  top: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-tr[data-v-2836fdb5] {
  top: -6px;
  right: -6px;
  cursor: nesw-resize;
}
.vfm--resize-r[data-v-2836fdb5] {
  top: 0;
  right: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-br[data-v-2836fdb5] {
  bottom: -6px;
  right: -6px;
  cursor: nwse-resize;
}
.vfm--resize-b[data-v-2836fdb5] {
  bottom: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-bl[data-v-2836fdb5] {
  bottom: -6px;
  left: -6px;
  cursor: nesw-resize;
}
.vfm--resize-l[data-v-2836fdb5] {
  top: 0;
  left: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-tl[data-v-2836fdb5] {
  top: -6px;
  left: -6px;
  cursor: nwse-resize;
}
`;tB(nB);pg.render=eB;pg.__scopeId="data-v-2836fdb5";pg.__file="lib/VueFinalModal.vue";var X1={props:{},methods:{slice:function(t){this.api.dynamicModals.splice(t,1)},beforeOpen:function(t,n,r){var i=this;return E7(function*(){t.ref.params.value=n.params,yield i.$nextTick(),yield i.$nextTick(),n.value||(i.slice(r),n.reject("show"))})()},isString:function(t){return typeof t=="string"}}},rB={class:"modals-container"};function iB(e,t,n,r,i,o){return me(),Et("div",rB,[(me(!0),Et(kt,null,Zt(e.api.dynamicModals,function(s,l){return me(),Et(js(s.component),mi({key:s.id},s.bind,{modelValue:s.value,"onUpdate:modelValue":function(f){return s.value=f}},u0(s.on),{on_closed:function(f){return o.slice(l)},on_beforeOpen:function(f){return o.beforeOpen(f,s)},on_opened:s.opened}),b1({_:2},[Zt(s.slots,function(u,f){return{name:f,fn:Bt(function(){return[_t(" eslint-disable vue/no-v-html "),o.isString(u)?(me(),Et("div",{key:0,innerHTML:u},null,8,["innerHTML"])):(me(),Et(js(u.component),mi({key:1},u.bind,u0(u.on||{})),null,16))]})}})]),1040,["modelValue","onUpdate:modelValue","on_closed","on_beforeOpen","on_opened"])}),128))])}X1.render=iB;X1.__file="lib/ModalsContainer.vue";function oB(){var e=null;return{show:function(n){for(var r=this,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];switch(nf(n)){case"string":return this.toggle.apply(this,[n,!0].concat(o));case"object":return Promise.allSettled([new Promise(function(l,u){var f={value:!0,id:Symbol("dynamicModal"),component:e,bind:{},slots:{},on:{},params:o[0],reject:u,opened:function(){l("show")}};r.dynamicModals.push(Sp(Object.assign(f,n)))})])}},hide:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.toggle(r,!1)},hideAll:function(){return this.hide.apply(this,el(this.openedModals.map(function(n){return n.props.name})))},toggle:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var s=Array.isArray(n)?this.get.apply(this,el(n)):this.get(n);return Promise.allSettled(s.map(function(l){return l.toggle.apply(l,i)}))},get:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.modals.filter(function(o){return r.includes(o.props.name)})},dynamicModals:Sp([]),openedModals:[],modals:[],_setDefaultModal:function(n){e=n}}}function HM(e,t){var n=Lr(Lr({},e),{},{props:Lr({},e.props)});return Object.assign(n.props,{api:{type:Object,default:function(){return t}}}),n}function sB(e){var t=HM(pg,e);return e._setDefaultModal(t),t}function aB(e){return HM(X1,e)}var X2=0,FM="$vfm",VM="VueFinalModal",jM="ModalsContainer",WM=function(){var t,n=oB();return t={},hu(t,FM,n),hu(t,VM,sB(n)),hu(t,jM,aB(n)),t},mg=WM();mg.$vfm;mg.VueFinalModal;mg.ModalsContainer;var UM=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=X2===0?mg:WM(),i=r.$vfm,o=r.VueFinalModal,s=r.ModalsContainer;X2+=1;var l=n.key||FM,u=n.componentName||VM,f=n.dynamicContainerName||jM;Object.defineProperty(t.config.globalProperties,l,{get:function(){return i}}),t.provide(l,i),t.component(u,o),t.component(f,s)},KM=function(t){return{install:function(r,i){var o=Object.assign({},t,i);UM(r,o)}}};KM.install=UM;const Z2={$idFactory(e){return function(n=""){return`${this[e]}-${n}`}},$idRef(e){return`#${this.$id(e)}`}},Q2={uidProperty:"uid",uidPrefix:"uid-"};function lB(e,t={}){const n=t.uidProperty||Q2.uidProperty,r=t.uidPrefix||Q2.uidPrefix;let i=0;e.mixin({beforeCreate(){i+=1;const s=r+i;Object.defineProperties(this,{[n]:{get(){return s}}})}});const o=e.version.slice(0,2)==="3."?e.config.globalProperties:e.prototype;o.$id=Z2.$idFactory(n),o.$idRef=Z2.$idRef}const uB=function(e){if(e!==void 0)return JSON.parse(JSON.stringify(e))};var cB=typeof global=="object"&&global&&global.Object===Object&&global;const qM=cB;var fB=typeof self=="object"&&self&&self.Object===Object&&self,dB=qM||fB||Function("return this")();const Hi=dB;var hB=Hi.Symbol;const qs=hB;var GM=Object.prototype,pB=GM.hasOwnProperty,mB=GM.toString,Ic=qs?qs.toStringTag:void 0;function gB(e){var t=pB.call(e,Ic),n=e[Ic];try{e[Ic]=void 0;var r=!0}catch{}var i=mB.call(e);return r&&(t?e[Ic]=n:delete e[Ic]),i}var vB=Object.prototype,yB=vB.toString;function bB(e){return yB.call(e)}var _B="[object Null]",wB="[object Undefined]",eS=qs?qs.toStringTag:void 0;function Yo(e){return e==null?e===void 0?wB:_B:eS&&eS in Object(e)?gB(e):bB(e)}function fo(e){return e!=null&&typeof e=="object"}var kB="[object Symbol]";function gg(e){return typeof e=="symbol"||fo(e)&&Yo(e)==kB}function JM(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var xB=Array.isArray;const Hr=xB;var SB=1/0,tS=qs?qs.prototype:void 0,nS=tS?tS.toString:void 0;function YM(e){if(typeof e=="string")return e;if(Hr(e))return JM(e,YM)+"";if(gg(e))return nS?nS.call(e):"";var t=e+"";return t=="0"&&1/e==-SB?"-0":t}var CB=/\s/;function TB(e){for(var t=e.length;t--&&CB.test(e.charAt(t)););return t}var EB=/^\s+/;function AB(e){return e&&e.slice(0,TB(e)+1).replace(EB,"")}function cr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var rS=0/0,OB=/^[-+]0x[0-9a-f]+$/i,MB=/^0b[01]+$/i,LB=/^0o[0-7]+$/i,NB=parseInt;function H0(e){if(typeof e=="number")return e;if(gg(e))return rS;if(cr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=cr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=AB(e);var n=MB.test(e);return n||LB.test(e)?NB(e.slice(2),n?2:8):OB.test(e)?rS:+e}var iS=1/0,PB=17976931348623157e292;function IB(e){if(!e)return e===0?e:0;if(e=H0(e),e===iS||e===-iS){var t=e<0?-1:1;return t*PB}return e===e?e:0}function DB(e){var t=IB(e),n=t%1;return t===t?n?t-n:t:0}function Z1(e){return e}var RB="[object AsyncFunction]",zB="[object Function]",BB="[object GeneratorFunction]",$B="[object Proxy]";function Q1(e){if(!cr(e))return!1;var t=Yo(e);return t==zB||t==BB||t==RB||t==$B}var HB=Hi["__core-js_shared__"];const ry=HB;var oS=function(){var e=/[^.]+$/.exec(ry&&ry.keys&&ry.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function FB(e){return!!oS&&oS in e}var VB=Function.prototype,jB=VB.toString;function gl(e){if(e!=null){try{return jB.call(e)}catch{}try{return e+""}catch{}}return""}var WB=/[\\^$.*+?()[\]{}|]/g,UB=/^\[object .+?Constructor\]$/,KB=Function.prototype,qB=Object.prototype,GB=KB.toString,JB=qB.hasOwnProperty,YB=RegExp("^"+GB.call(JB).replace(WB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function XB(e){if(!cr(e)||FB(e))return!1;var t=Q1(e)?YB:UB;return t.test(gl(e))}function ZB(e,t){return e==null?void 0:e[t]}function vl(e,t){var n=ZB(e,t);return XB(n)?n:void 0}var QB=vl(Hi,"WeakMap");const F0=QB;var sS=Object.create,e$=function(){function e(){}return function(t){if(!cr(t))return{};if(sS)return sS(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const t$=e$;function XM(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function n$(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var r$=800,i$=16,o$=Date.now;function s$(e){var t=0,n=0;return function(){var r=o$(),i=i$-(r-n);if(n=r,i>0){if(++t>=r$)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function a$(e){return function(){return e}}var l$=function(){try{var e=vl(Object,"defineProperty");return e({},"",{}),e}catch{}}();const qp=l$;var u$=qp?function(e,t){return qp(e,"toString",{configurable:!0,enumerable:!1,value:a$(t),writable:!0})}:Z1;const c$=u$;var f$=s$(c$);const d$=f$;function h$(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var p$=9007199254740991,m$=/^(?:0|[1-9]\d*)$/;function e_(e,t){var n=typeof e;return t=t??p$,!!t&&(n=="number"||n!="symbol"&&m$.test(e))&&e>-1&&e%1==0&&e<t}function t_(e,t,n){t=="__proto__"&&qp?qp(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Gu(e,t){return e===t||e!==e&&t!==t}var g$=Object.prototype,v$=g$.hasOwnProperty;function y$(e,t,n){var r=e[t];(!(v$.call(e,t)&&Gu(r,n))||n===void 0&&!(t in e))&&t_(e,t,n)}function ZM(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],u=r?r(n[l],e[l],l,n,e):void 0;u===void 0&&(u=e[l]),i?t_(n,l,u):y$(n,l,u)}return n}var aS=Math.max;function b$(e,t,n){return t=aS(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=aS(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(s),XM(e,this,l)}}function QM(e,t){return d$(b$(e,t,Z1),e+"")}var _$=9007199254740991;function n_(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_$}function yl(e){return e!=null&&n_(e.length)&&!Q1(e)}function e3(e,t,n){if(!cr(n))return!1;var r=typeof t;return(r=="number"?yl(n)&&e_(t,n.length):r=="string"&&t in n)?Gu(n[t],e):!1}function t3(e){return QM(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&e3(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,o)}return t})}var w$=Object.prototype;function vg(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||w$;return e===n}function k$(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var x$="[object Arguments]";function lS(e){return fo(e)&&Yo(e)==x$}var n3=Object.prototype,S$=n3.hasOwnProperty,C$=n3.propertyIsEnumerable,T$=lS(function(){return arguments}())?lS:function(e){return fo(e)&&S$.call(e,"callee")&&!C$.call(e,"callee")};const Bf=T$;function E$(){return!1}var r3=typeof Xr=="object"&&Xr&&!Xr.nodeType&&Xr,uS=r3&&typeof Zr=="object"&&Zr&&!Zr.nodeType&&Zr,A$=uS&&uS.exports===r3,cS=A$?Hi.Buffer:void 0,O$=cS?cS.isBuffer:void 0,M$=O$||E$;const $f=M$;var L$="[object Arguments]",N$="[object Array]",P$="[object Boolean]",I$="[object Date]",D$="[object Error]",R$="[object Function]",z$="[object Map]",B$="[object Number]",$$="[object Object]",H$="[object RegExp]",F$="[object Set]",V$="[object String]",j$="[object WeakMap]",W$="[object ArrayBuffer]",U$="[object DataView]",K$="[object Float32Array]",q$="[object Float64Array]",G$="[object Int8Array]",J$="[object Int16Array]",Y$="[object Int32Array]",X$="[object Uint8Array]",Z$="[object Uint8ClampedArray]",Q$="[object Uint16Array]",eH="[object Uint32Array]",en={};en[K$]=en[q$]=en[G$]=en[J$]=en[Y$]=en[X$]=en[Z$]=en[Q$]=en[eH]=!0;en[L$]=en[N$]=en[W$]=en[P$]=en[U$]=en[I$]=en[D$]=en[R$]=en[z$]=en[B$]=en[$$]=en[H$]=en[F$]=en[V$]=en[j$]=!1;function tH(e){return fo(e)&&n_(e.length)&&!!en[Yo(e)]}function nH(e){return function(t){return e(t)}}var i3=typeof Xr=="object"&&Xr&&!Xr.nodeType&&Xr,sf=i3&&typeof Zr=="object"&&Zr&&!Zr.nodeType&&Zr,rH=sf&&sf.exports===i3,iy=rH&&qM.process,iH=function(){try{var e=sf&&sf.require&&sf.require("util").types;return e||iy&&iy.binding&&iy.binding("util")}catch{}}();const fS=iH;var dS=fS&&fS.isTypedArray,oH=dS?nH(dS):tH;const yg=oH;var sH=Object.prototype,aH=sH.hasOwnProperty;function o3(e,t){var n=Hr(e),r=!n&&Bf(e),i=!n&&!r&&$f(e),o=!n&&!r&&!i&&yg(e),s=n||r||i||o,l=s?k$(e.length,String):[],u=l.length;for(var f in e)(t||aH.call(e,f))&&!(s&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||e_(f,u)))&&l.push(f);return l}function s3(e,t){return function(n){return e(t(n))}}var lH=s3(Object.keys,Object);const uH=lH;var cH=Object.prototype,fH=cH.hasOwnProperty;function r_(e){if(!vg(e))return uH(e);var t=[];for(var n in Object(e))fH.call(e,n)&&n!="constructor"&&t.push(n);return t}function bg(e){return yl(e)?o3(e):r_(e)}function dH(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var hH=Object.prototype,pH=hH.hasOwnProperty;function mH(e){if(!cr(e))return dH(e);var t=vg(e),n=[];for(var r in e)r=="constructor"&&(t||!pH.call(e,r))||n.push(r);return n}function i_(e){return yl(e)?o3(e,!0):mH(e)}var gH=t3(function(e,t,n,r){ZM(t,i_(t),e,r)});const hS=gH;var vH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yH=/^\w*$/;function o_(e,t){if(Hr(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||gg(e)?!0:yH.test(e)||!vH.test(e)||t!=null&&e in Object(t)}var bH=vl(Object,"create");const Hf=bH;function _H(){this.__data__=Hf?Hf(null):{},this.size=0}function wH(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var kH="__lodash_hash_undefined__",xH=Object.prototype,SH=xH.hasOwnProperty;function CH(e){var t=this.__data__;if(Hf){var n=t[e];return n===kH?void 0:n}return SH.call(t,e)?t[e]:void 0}var TH=Object.prototype,EH=TH.hasOwnProperty;function AH(e){var t=this.__data__;return Hf?t[e]!==void 0:EH.call(t,e)}var OH="__lodash_hash_undefined__";function MH(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Hf&&t===void 0?OH:t,this}function tl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tl.prototype.clear=_H;tl.prototype.delete=wH;tl.prototype.get=CH;tl.prototype.has=AH;tl.prototype.set=MH;function LH(){this.__data__=[],this.size=0}function _g(e,t){for(var n=e.length;n--;)if(Gu(e[n][0],t))return n;return-1}var NH=Array.prototype,PH=NH.splice;function IH(e){var t=this.__data__,n=_g(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():PH.call(t,n,1),--this.size,!0}function DH(e){var t=this.__data__,n=_g(t,e);return n<0?void 0:t[n][1]}function RH(e){return _g(this.__data__,e)>-1}function zH(e,t){var n=this.__data__,r=_g(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Xo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Xo.prototype.clear=LH;Xo.prototype.delete=IH;Xo.prototype.get=DH;Xo.prototype.has=RH;Xo.prototype.set=zH;var BH=vl(Hi,"Map");const Ff=BH;function $H(){this.size=0,this.__data__={hash:new tl,map:new(Ff||Xo),string:new tl}}function HH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function wg(e,t){var n=e.__data__;return HH(t)?n[typeof t=="string"?"string":"hash"]:n.map}function FH(e){var t=wg(this,e).delete(e);return this.size-=t?1:0,t}function VH(e){return wg(this,e).get(e)}function jH(e){return wg(this,e).has(e)}function WH(e,t){var n=wg(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Zo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zo.prototype.clear=$H;Zo.prototype.delete=FH;Zo.prototype.get=VH;Zo.prototype.has=jH;Zo.prototype.set=WH;var UH="Expected a function";function s_(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(UH);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(s_.Cache||Zo),n}s_.Cache=Zo;var KH=500;function qH(e){var t=s_(e,function(r){return n.size===KH&&n.clear(),r}),n=t.cache;return t}var GH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JH=/\\(\\)?/g,YH=qH(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(GH,function(n,r,i,o){t.push(i?o.replace(JH,"$1"):r||n)}),t});const XH=YH;function md(e){return e==null?"":YM(e)}function a3(e,t){return Hr(e)?e:o_(e,t)?[e]:XH(md(e))}var ZH=1/0;function kg(e){if(typeof e=="string"||gg(e))return e;var t=e+"";return t=="0"&&1/e==-ZH?"-0":t}function l3(e,t){t=a3(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[kg(t[n++])];return n&&n==r?e:void 0}function Yn(e,t,n){var r=e==null?void 0:l3(e,t);return r===void 0?n:r}function QH(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var eF=s3(Object.getPrototypeOf,Object);const u3=eF;var tF="[object Object]",nF=Function.prototype,rF=Object.prototype,c3=nF.toString,iF=rF.hasOwnProperty,oF=c3.call(Object);function f3(e){if(!fo(e)||Yo(e)!=tF)return!1;var t=u3(e);if(t===null)return!0;var n=iF.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&c3.call(n)==oF}var sF="[object DOMException]",aF="[object Error]";function d3(e){if(!fo(e))return!1;var t=Yo(e);return t==aF||t==sF||typeof e.message=="string"&&typeof e.name=="string"&&!f3(e)}var lF=QM(function(e,t){try{return XM(e,void 0,t)}catch(n){return d3(n)?n:new Error(n)}});const uF=lF;var cF="\\ud800-\\udfff",fF="\\u0300-\\u036f",dF="\\ufe20-\\ufe2f",hF="\\u20d0-\\u20ff",pF=fF+dF+hF,mF="\\ufe0e\\ufe0f",gF="\\u200d",vF=RegExp("["+gF+cF+pF+mF+"]");function yF(e){return vF.test(e)}function bF(e,t,n,r){var i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function h3(e){return function(t){return e==null?void 0:e[t]}}var _F={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},wF=h3(_F);const kF=wF;var xF=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,SF="\\u0300-\\u036f",CF="\\ufe20-\\ufe2f",TF="\\u20d0-\\u20ff",EF=SF+CF+TF,AF="["+EF+"]",OF=RegExp(AF,"g");function MF(e){return e=md(e),e&&e.replace(xF,kF).replace(OF,"")}var LF=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function NF(e){return e.match(LF)||[]}var PF=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function IF(e){return PF.test(e)}var p3="\\ud800-\\udfff",DF="\\u0300-\\u036f",RF="\\ufe20-\\ufe2f",zF="\\u20d0-\\u20ff",BF=DF+RF+zF,m3="\\u2700-\\u27bf",g3="a-z\\xdf-\\xf6\\xf8-\\xff",$F="\\xac\\xb1\\xd7\\xf7",HF="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",FF="\\u2000-\\u206f",VF=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",v3="A-Z\\xc0-\\xd6\\xd8-\\xde",jF="\\ufe0e\\ufe0f",y3=$F+HF+FF+VF,b3="[']",pS="["+y3+"]",WF="["+BF+"]",_3="\\d+",UF="["+m3+"]",w3="["+g3+"]",k3="[^"+p3+y3+_3+m3+g3+v3+"]",KF="\\ud83c[\\udffb-\\udfff]",qF="(?:"+WF+"|"+KF+")",GF="[^"+p3+"]",x3="(?:\\ud83c[\\udde6-\\uddff]){2}",S3="[\\ud800-\\udbff][\\udc00-\\udfff]",Kl="["+v3+"]",JF="\\u200d",mS="(?:"+w3+"|"+k3+")",YF="(?:"+Kl+"|"+k3+")",gS="(?:"+b3+"(?:d|ll|m|re|s|t|ve))?",vS="(?:"+b3+"(?:D|LL|M|RE|S|T|VE))?",C3=qF+"?",T3="["+jF+"]?",XF="(?:"+JF+"(?:"+[GF,x3,S3].join("|")+")"+T3+C3+")*",ZF="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",QF="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",e9=T3+C3+XF,t9="(?:"+[UF,x3,S3].join("|")+")"+e9,n9=RegExp([Kl+"?"+w3+"+"+gS+"(?="+[pS,Kl,"$"].join("|")+")",YF+"+"+vS+"(?="+[pS,Kl+mS,"$"].join("|")+")",Kl+"?"+mS+"+"+gS,Kl+"+"+vS,QF,ZF,_3,t9].join("|"),"g");function r9(e){return e.match(n9)||[]}function i9(e,t,n){return e=md(e),t=n?void 0:t,t===void 0?IF(e)?r9(e):NF(e):e.match(t)||[]}var o9="[']",s9=RegExp(o9,"g");function a9(e){return function(t){return bF(i9(MF(t).replace(s9,"")),e,"")}}function l9(){this.__data__=new Xo,this.size=0}function u9(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function c9(e){return this.__data__.get(e)}function f9(e){return this.__data__.has(e)}var d9=200;function h9(e,t){var n=this.__data__;if(n instanceof Xo){var r=n.__data__;if(!Ff||r.length<d9-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Zo(r)}return n.set(e,t),this.size=n.size,this}function lo(e){var t=this.__data__=new Xo(e);this.size=t.size}lo.prototype.clear=l9;lo.prototype.delete=u9;lo.prototype.get=c9;lo.prototype.has=f9;lo.prototype.set=h9;var E3=typeof Xr=="object"&&Xr&&!Xr.nodeType&&Xr,yS=E3&&typeof Zr=="object"&&Zr&&!Zr.nodeType&&Zr,p9=yS&&yS.exports===E3,bS=p9?Hi.Buffer:void 0,_S=bS?bS.allocUnsafe:void 0;function m9(e,t){if(t)return e.slice();var n=e.length,r=_S?_S(n):new e.constructor(n);return e.copy(r),r}function g9(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function v9(){return[]}var y9=Object.prototype,b9=y9.propertyIsEnumerable,wS=Object.getOwnPropertySymbols,_9=wS?function(e){return e==null?[]:(e=Object(e),g9(wS(e),function(t){return b9.call(e,t)}))}:v9;const w9=_9;function k9(e,t,n){var r=t(e);return Hr(e)?r:QH(r,n(e))}function kS(e){return k9(e,bg,w9)}var x9=vl(Hi,"DataView");const V0=x9;var S9=vl(Hi,"Promise");const j0=S9;var C9=vl(Hi,"Set");const W0=C9;var xS="[object Map]",T9="[object Object]",SS="[object Promise]",CS="[object Set]",TS="[object WeakMap]",ES="[object DataView]",E9=gl(V0),A9=gl(Ff),O9=gl(j0),M9=gl(W0),L9=gl(F0),ka=Yo;(V0&&ka(new V0(new ArrayBuffer(1)))!=ES||Ff&&ka(new Ff)!=xS||j0&&ka(j0.resolve())!=SS||W0&&ka(new W0)!=CS||F0&&ka(new F0)!=TS)&&(ka=function(e){var t=Yo(e),n=t==T9?e.constructor:void 0,r=n?gl(n):"";if(r)switch(r){case E9:return ES;case A9:return xS;case O9:return SS;case M9:return CS;case L9:return TS}return t});const Gp=ka;var N9=Hi.Uint8Array;const Jp=N9;function P9(e){var t=new e.constructor(e.byteLength);return new Jp(t).set(new Jp(e)),t}function I9(e,t){var n=t?P9(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function D9(e){return typeof e.constructor=="function"&&!vg(e)?t$(u3(e)):{}}var R9="__lodash_hash_undefined__";function z9(e){return this.__data__.set(e,R9),this}function B9(e){return this.__data__.has(e)}function Yp(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Zo;++t<n;)this.add(e[t])}Yp.prototype.add=Yp.prototype.push=z9;Yp.prototype.has=B9;function $9(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function H9(e,t){return e.has(t)}var F9=1,V9=2;function A3(e,t,n,r,i,o){var s=n&F9,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var m=-1,v=!0,y=n&V9?new Yp:void 0;for(o.set(e,t),o.set(t,e);++m<l;){var _=e[m],T=t[m];if(r)var C=s?r(T,_,m,t,e,o):r(_,T,m,e,t,o);if(C!==void 0){if(C)continue;v=!1;break}if(y){if(!$9(t,function(w,S){if(!H9(y,S)&&(_===w||i(_,w,n,r,o)))return y.push(S)})){v=!1;break}}else if(!(_===T||i(_,T,n,r,o))){v=!1;break}}return o.delete(e),o.delete(t),v}function j9(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function W9(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var U9=1,K9=2,q9="[object Boolean]",G9="[object Date]",J9="[object Error]",Y9="[object Map]",X9="[object Number]",Z9="[object RegExp]",Q9="[object Set]",eV="[object String]",tV="[object Symbol]",nV="[object ArrayBuffer]",rV="[object DataView]",AS=qs?qs.prototype:void 0,oy=AS?AS.valueOf:void 0;function iV(e,t,n,r,i,o,s){switch(n){case rV:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case nV:return!(e.byteLength!=t.byteLength||!o(new Jp(e),new Jp(t)));case q9:case G9:case X9:return Gu(+e,+t);case J9:return e.name==t.name&&e.message==t.message;case Z9:case eV:return e==t+"";case Y9:var l=j9;case Q9:var u=r&U9;if(l||(l=W9),e.size!=t.size&&!u)return!1;var f=s.get(e);if(f)return f==t;r|=K9,s.set(e,t);var d=A3(l(e),l(t),r,i,o,s);return s.delete(e),d;case tV:if(oy)return oy.call(e)==oy.call(t)}return!1}var oV=1,sV=Object.prototype,aV=sV.hasOwnProperty;function lV(e,t,n,r,i,o){var s=n&oV,l=kS(e),u=l.length,f=kS(t),d=f.length;if(u!=d&&!s)return!1;for(var m=u;m--;){var v=l[m];if(!(s?v in t:aV.call(t,v)))return!1}var y=o.get(e),_=o.get(t);if(y&&_)return y==t&&_==e;var T=!0;o.set(e,t),o.set(t,e);for(var C=s;++m<u;){v=l[m];var w=e[v],S=t[v];if(r)var P=s?r(S,w,v,t,e,o):r(w,S,v,e,t,o);if(!(P===void 0?w===S||i(w,S,n,r,o):P)){T=!1;break}C||(C=v=="constructor")}if(T&&!C){var A=e.constructor,U=t.constructor;A!=U&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof U=="function"&&U instanceof U)&&(T=!1)}return o.delete(e),o.delete(t),T}var uV=1,OS="[object Arguments]",MS="[object Array]",Ah="[object Object]",cV=Object.prototype,LS=cV.hasOwnProperty;function fV(e,t,n,r,i,o){var s=Hr(e),l=Hr(t),u=s?MS:Gp(e),f=l?MS:Gp(t);u=u==OS?Ah:u,f=f==OS?Ah:f;var d=u==Ah,m=f==Ah,v=u==f;if(v&&$f(e)){if(!$f(t))return!1;s=!0,d=!1}if(v&&!d)return o||(o=new lo),s||yg(e)?A3(e,t,n,r,i,o):iV(e,t,u,n,r,i,o);if(!(n&uV)){var y=d&&LS.call(e,"__wrapped__"),_=m&&LS.call(t,"__wrapped__");if(y||_){var T=y?e.value():e,C=_?t.value():t;return o||(o=new lo),i(T,C,n,r,o)}}return v?(o||(o=new lo),lV(e,t,n,r,i,o)):!1}function a_(e,t,n,r,i){return e===t?!0:e==null||t==null||!fo(e)&&!fo(t)?e!==e&&t!==t:fV(e,t,n,r,a_,i)}var dV=1,hV=2;function pV(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var l=n[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){l=n[i];var u=l[0],f=e[u],d=l[1];if(s&&l[2]){if(f===void 0&&!(u in e))return!1}else{var m=new lo;if(r)var v=r(f,d,u,e,t,m);if(!(v===void 0?a_(d,f,dV|hV,r,m):v))return!1}}return!0}function O3(e){return e===e&&!cr(e)}function mV(e){for(var t=bg(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,O3(i)]}return t}function M3(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function gV(e){var t=mV(e);return t.length==1&&t[0][2]?M3(t[0][0],t[0][1]):function(n){return n===e||pV(n,e,t)}}function vV(e,t){return e!=null&&t in Object(e)}function yV(e,t,n){t=a3(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=kg(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&n_(i)&&e_(s,i)&&(Hr(e)||Bf(e)))}function bV(e,t){return e!=null&&yV(e,t,vV)}var _V=1,wV=2;function kV(e,t){return o_(e)&&O3(t)?M3(kg(e),t):function(n){var r=Yn(n,e);return r===void 0&&r===t?bV(n,e):a_(t,r,_V|wV)}}function L3(e){return function(t){return t==null?void 0:t[e]}}function xV(e){return function(t){return l3(t,e)}}function SV(e){return o_(e)?L3(kg(e)):xV(e)}function N3(e){return typeof e=="function"?e:e==null?Z1:typeof e=="object"?Hr(e)?kV(e[0],e[1]):gV(e):SV(e)}function CV(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),l=s.length;l--;){var u=s[e?l:++i];if(n(o[u],u,o)===!1)break}return t}}var TV=CV();const EV=TV;var AV=function(){return Hi.Date.now()};const sy=AV;var OV="Expected a function",MV=Math.max,LV=Math.min;function P3(e,t,n){var r,i,o,s,l,u,f=0,d=!1,m=!1,v=!0;if(typeof e!="function")throw new TypeError(OV);t=H0(t)||0,cr(n)&&(d=!!n.leading,m="maxWait"in n,o=m?MV(H0(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v);function y(z){var j=r,L=i;return r=i=void 0,f=z,s=e.apply(L,j),s}function _(z){return f=z,l=setTimeout(w,t),d?y(z):s}function T(z){var j=z-u,L=z-f,B=t-j;return m?LV(B,o-L):B}function C(z){var j=z-u,L=z-f;return u===void 0||j>=t||j<0||m&&L>=o}function w(){var z=sy();if(C(z))return S(z);l=setTimeout(w,T(z))}function S(z){return l=void 0,v&&r?y(z):(r=i=void 0,s)}function P(){l!==void 0&&clearTimeout(l),f=0,r=u=i=l=void 0}function A(){return l===void 0?s:S(sy())}function U(){var z=sy(),j=C(z);if(r=arguments,i=this,u=z,j){if(l===void 0)return _(u);if(m)return clearTimeout(l),l=setTimeout(w,t),y(u)}return l===void 0&&(l=setTimeout(w,t)),s}return U.cancel=P,U.flush=A,U}function U0(e,t,n){(n!==void 0&&!Gu(e[t],n)||n===void 0&&!(t in e))&&t_(e,t,n)}function NV(e){return fo(e)&&yl(e)}function K0(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function PV(e){return ZM(e,i_(e))}function IV(e,t,n,r,i,o,s){var l=K0(e,n),u=K0(t,n),f=s.get(u);if(f){U0(e,n,f);return}var d=o?o(l,u,n+"",e,t,s):void 0,m=d===void 0;if(m){var v=Hr(u),y=!v&&$f(u),_=!v&&!y&&yg(u);d=u,v||y||_?Hr(l)?d=l:NV(l)?d=n$(l):y?(m=!1,d=m9(u,!0)):_?(m=!1,d=I9(u,!0)):d=[]:f3(u)||Bf(u)?(d=l,Bf(l)?d=PV(l):(!cr(l)||Q1(l))&&(d=D9(u))):m=!1}m&&(s.set(u,d),i(d,u,r,o,s),s.delete(u)),U0(e,n,d)}function I3(e,t,n,r,i){e!==t&&EV(t,function(o,s){if(i||(i=new lo),cr(o))IV(e,t,s,n,I3,r,i);else{var l=r?r(K0(e,s),o,s+"",e,t,i):void 0;l===void 0&&(l=o),U0(e,s,l)}},i_)}var DV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},RV=h3(DV);const zV=RV;var D3=/[&<>"']/g,BV=RegExp(D3.source);function $V(e){return e=md(e),e&&BV.test(e)?e.replace(D3,zV):e}function HV(e){return function(t,n,r){var i=Object(t);if(!yl(t)){var o=N3(n);t=bg(t),n=function(l){return o(i[l],l,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}var FV=Math.max;function VV(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:DB(n);return i<0&&(i=FV(r+i,0)),h$(e,N3(t),i)}var jV=HV(VV);const q0=jV;var WV="[object String]";function UV(e){return typeof e=="string"||!Hr(e)&&fo(e)&&Yo(e)==WV}function KV(e,t){return JM(t,function(n){return e[n]})}var qV="[object Map]",GV="[object Set]",JV=Object.prototype,YV=JV.hasOwnProperty;function Ci(e){if(e==null)return!0;if(yl(e)&&(Hr(e)||typeof e=="string"||typeof e.splice=="function"||$f(e)||yg(e)||Bf(e)))return!e.length;var t=Gp(e);if(t==qV||t==GV)return!e.size;if(vg(e))return!r_(e).length;for(var n in e)if(YV.call(e,n))return!1;return!0}var XV=a9(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});const ZV=XV;var QV=t3(function(e,t,n){I3(e,t,n)});const ej=QV;var tj=L3("length");const nj=tj;var R3="\\ud800-\\udfff",rj="\\u0300-\\u036f",ij="\\ufe20-\\ufe2f",oj="\\u20d0-\\u20ff",sj=rj+ij+oj,aj="\\ufe0e\\ufe0f",lj="["+R3+"]",G0="["+sj+"]",J0="\\ud83c[\\udffb-\\udfff]",uj="(?:"+G0+"|"+J0+")",z3="[^"+R3+"]",B3="(?:\\ud83c[\\udde6-\\uddff]){2}",$3="[\\ud800-\\udbff][\\udc00-\\udfff]",cj="\\u200d",H3=uj+"?",F3="["+aj+"]?",fj="(?:"+cj+"(?:"+[z3,B3,$3].join("|")+")"+F3+H3+")*",dj=F3+H3+fj,hj="(?:"+[z3+G0+"?",G0,B3,$3,lj].join("|")+")",NS=RegExp(J0+"(?="+J0+")|"+hj+dj,"g");function pj(e){for(var t=NS.lastIndex=0;NS.test(e);)++t;return t}function mj(e){return yF(e)?pj(e):nj(e)}var gj="[object Map]",vj="[object Set]";function l_(e){if(e==null)return 0;if(yl(e))return UV(e)?mj(e):e.length;var t=Gp(e);return t==gj||t==vj?e.size:r_(e).length}var V3=Object.prototype,yj=V3.hasOwnProperty;function PS(e,t,n,r){return e===void 0||Gu(e,V3[n])&&!yj.call(r,n)?t:e}var bj={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function _j(e){return"\\"+bj[e]}var wj=/<%=([\s\S]+?)%>/g;const j3=wj;var kj=/<%-([\s\S]+?)%>/g;const xj=kj;var Sj=/<%([\s\S]+?)%>/g;const Cj=Sj;var Tj={escape:xj,evaluate:Cj,interpolate:j3,variable:"",imports:{_:{escape:$V}}};const IS=Tj;var Ej="Invalid `variable` option passed into `_.template`",Aj=/\b__p \+= '';/g,Oj=/\b(__p \+=) '' \+/g,Mj=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Lj=/[()=,{}\[\]\/\s]/,Nj=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oh=/($^)/,Pj=/['\n\r\u2028\u2029\\]/g,Ij=Object.prototype,DS=Ij.hasOwnProperty;function Dj(e,t,n){var r=IS.imports._.templateSettings||IS;n&&e3(e,t,n)&&(t=void 0),e=md(e),t=hS({},t,r,PS);var i=hS({},t.imports,r.imports,PS),o=bg(i),s=KV(i,o),l,u,f=0,d=t.interpolate||Oh,m="__p += '",v=RegExp((t.escape||Oh).source+"|"+d.source+"|"+(d===j3?Nj:Oh).source+"|"+(t.evaluate||Oh).source+"|$","g"),y=DS.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(v,function(C,w,S,P,A,U){return S||(S=P),m+=e.slice(f,U).replace(Pj,_j),w&&(l=!0,m+=`' +
__e(`+w+`) +
'`),A&&(u=!0,m+=`';
`+A+`;
__p += '`),S&&(m+=`' +
((__t = (`+S+`)) == null ? '' : __t) +
'`),f=U+C.length,C}),m+=`';
`;var _=DS.call(t,"variable")&&t.variable;if(!_)m=`with (obj) {
`+m+`
}
`;else if(Lj.test(_))throw new Error(Ej);m=(u?m.replace(Aj,""):m).replace(Oj,"$1").replace(Mj,"$1;"),m="function("+(_||"obj")+`) {
`+(_?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(u?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+m+`return __p
}`;var T=uF(function(){return Function(o,y+"return "+m).apply(void 0,s)});if(T.source=m,d3(T))throw T;return T}const Rj=function(e,t,n){return typeof Craft.translations[e]<"u"&&typeof Craft.translations[e][t]<"u"&&(t=Craft.translations[e][t]),n?Dj(t,{interpolate:/{([\s\S]+?)}/g})(n):t},W3=e=>{const t=E1({delimiters:["${","}"],...e});return t.config.unwrapInjectedRef=!0,t.use(KM),t.use(lB),t.use(T7,{themes:{"vui-tooltip":{$extend:"tooltip",delay:{show:0,hide:0}}}}),t.config.globalProperties.t=Rj,t.config.globalProperties.clone=uB,t.config.globalProperties.$events=sz(),t.config.globalProperties.$isDebug=!1,t};function Gn(e){this.content=e}Gn.prototype={constructor:Gn,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new Gn(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Gn(n)},addToStart:function(e,t){return new Gn([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Gn(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new Gn(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Gn.from(e),e.size?new Gn(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Gn.from(e),e.size?new Gn(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Gn.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Gn.from=function(e){if(e instanceof Gn)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Gn(t)};function U3(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=U3(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function K3(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=e.child(--i),l=t.child(--o),u=s.nodeSize;if(s==l){n-=u,r-=u;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let f=0,d=Math.min(s.text.length,l.text.length);for(;f<d&&s.text[s.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let f=K3(s.content,l.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class Me{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let u=this.content[s],f=l+u.nodeSize;if(f>t&&r(u,i+l,o||null,s)!==!1&&u.content.size){let d=l+1;u.nodesBetween(Math.max(0,t-d),Math.min(u.content.size,n-d),r,i+d)}l=f}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",s=!0;return this.nodesBetween(t,n,(l,u)=>{l.isText?(o+=l.text.slice(Math.max(t,u)-u,n-u),s=!r):l.isLeaf?(i?o+=typeof i=="function"?i(l):i:l.type.spec.leafText&&(o+=l.type.spec.leafText(l)),s=!r):!s&&l.isBlock&&(o+=r,s=!0)},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new Me(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,s=0;s<n;o++){let l=this.content[o],u=s+l.nodeSize;u>t&&((s<t||u>n)&&(l.isText?l=l.cut(Math.max(0,t-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,t-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=u}return new Me(r,i)}cutByIndex(t,n){return t==n?Me.empty:t==0&&n==this.content.length?this:new Me(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Me(i,o)}addToStart(t){return new Me([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Me(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return U3(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return K3(this,t,n,r)}findIndex(t,n=-1){if(t==0)return Mh(0,t);if(t==this.size)return Mh(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=t)return s==t||n>0?Mh(r+1,s):Mh(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Me.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Me(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Me.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Me(n||t,r)}static from(t){if(!t)return Me.empty;if(t instanceof Me)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Me([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Me.empty=new Me([],0);const ay={index:0,offset:0};function Mh(e,t){return ay.index=e,ay.offset=t,ay}function Xp(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Xp(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Xp(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Gt=class Y0{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Xp(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Y0.none;if(t instanceof Y0)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Gt.none=[];class Zp extends Error{}class Fe{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=G3(this.content,t+this.openStart,n);return r&&new Fe(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Fe(q3(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Fe.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Fe(Me.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Fe(t,r,i)}}Fe.empty=new Fe(Me.empty,0,0);function q3(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:s,offset:l}=e.findIndex(n);if(i==t||o.isText){if(l!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(q3(o.content,t-i-1,n-i-1)))}function G3(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),s=e.maybeChild(i);if(o==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let l=G3(s.content,t-o-1,n);return l&&e.replaceChild(i,s.copy(l))}function zj(e,t,n){if(n.openStart>e.depth)throw new Zp("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Zp("Inconsistent open depths");return J3(e,t,n,0)}function J3(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=J3(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,l=s.content;return Wa(s,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:s,end:l}=Bj(n,e);return Wa(o,X3(e,s,l,t,r))}else return Wa(o,Qp(e,t,r))}function Y3(e,t){if(!t.type.compatibleContent(e.type))throw new Zp("Cannot join "+t.type.name+" onto "+e.type.name)}function X0(e,t,n){let r=e.node(n);return Y3(r,t.node(n)),r}function ja(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function af(e,t,n,r){let i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(ja(e.nodeAfter,r),o++));for(let l=o;l<s;l++)ja(i.child(l),r);t&&t.depth==n&&t.textOffset&&ja(t.nodeBefore,r)}function Wa(e,t){return e.type.checkContent(t),e.copy(t)}function X3(e,t,n,r,i){let o=e.depth>i&&X0(e,t,i+1),s=r.depth>i&&X0(n,r,i+1),l=[];return af(null,e,i,l),o&&s&&t.index(i)==n.index(i)?(Y3(o,s),ja(Wa(o,X3(e,t,n,r,i+1)),l)):(o&&ja(Wa(o,Qp(e,t,i+1)),l),af(t,n,i,l),s&&ja(Wa(s,Qp(n,r,i+1)),l)),af(r,null,i,l),new Me(l)}function Qp(e,t,n){let r=[];if(af(null,e,n,r),e.depth>n){let i=X0(e,t,n+1);ja(Wa(i,Qp(e,t,n+1)),r)}return af(t,null,n,r),new Me(r)}function Bj(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(Me.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class Vf{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Gt.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new em(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=t;;){let{index:l,offset:u}=s.content.findIndex(o),f=o-u;if(r.push(s,l,i+u),!f||(s=s.child(l),s.isText))break;o=f-1,i+=u+1}return new Vf(n,r,o)}static resolveCached(t,n){for(let i=0;i<ly.length;i++){let o=ly[i];if(o.pos==n&&o.doc==t)return o}let r=ly[uy]=Vf.resolve(t,n);return uy=(uy+1)%$j,r}}let ly=[],uy=0,$j=12;class em{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Hj=Object.create(null);let zo=class Z0{constructor(t,n,r,i=Gt.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Me.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Xp(this.attrs,n||t.defaultAttrs||Hj)&&Gt.sameSet(this.marks,r||Gt.none)}copy(t=null){return t==this.content?this:new Z0(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Z0(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Fe.empty;let i=this.resolve(t),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),f=i.node(s).content.cut(i.pos-l,o.pos-l);return new Fe(f,i.depth-s,o.depth-s)}replace(t,n,r){return zj(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Vf.resolveCached(this,t)}resolveNoCache(t){return Vf.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Z3(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Me.empty,i=0,o=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=i;u<o;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=Gt.none;for(let n=0;n<this.marks.length;n++)t=this.marks[n].addToSet(t);if(!Gt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Me.fromJSON(t,n.content);return t.nodeType(n.type).create(n.attrs,i,r)}};zo.prototype.text=void 0;class tm extends zo{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Z3(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new tm(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new tm(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Z3(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class nl{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Fj(t,n);if(r.next==null)return nl.empty;let i=Q3(r);r.next&&r.err("Unexpected trailing text");let o=Gj(qj(i));return Jj(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(s,l){let u=s.matchFragment(t,r);if(u&&(!n||u.validEnd))return Me.from(l.map(f=>f.createAndFill()));for(let f=0;f<s.next.length;f++){let{type:d,next:m}=s.next[f];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let v=o(m,l.concat(d));if(v)return v}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:u}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return o}).join(`
`)}}nl.empty=new nl(!0);class Fj{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Q3(e){let t=[];do t.push(Vj(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Vj(e){let t=[];do t.push(jj(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function jj(e){let t=Kj(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Wj(e,t);else break;return t}function RS(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Wj(e,t){let n=RS(e),r=n;return e.eat(",")&&(e.next!="}"?r=RS(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Uj(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(t)>-1&&i.push(s)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function Kj(e){if(e.eat("(")){let t=Q3(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Uj(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function qj(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(s,l,u){let f={term:u,to:l};return t[s].push(f),f}function i(s,l){s.forEach(u=>u.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((u,f)=>u.concat(o(f,l)),[]);if(s.type=="seq")for(let u=0;;u++){let f=o(s.exprs[u],l);if(u==s.exprs.length-1)return f;i(f,l=n())}else if(s.type=="star"){let u=n();return r(l,u),i(o(s.expr,u),u),[r(u)]}else if(s.type=="plus"){let u=n();return i(o(s.expr,l),u),i(o(s.expr,u),u),[r(u)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let u=l;for(let f=0;f<s.min;f++){let d=n();i(o(s.expr,u),d),u=d}if(s.max==-1)i(o(s.expr,u),u);else for(let f=s.min;f<s.max;f++){let d=n();r(u,d),i(o(s.expr,u),d),u=d}return[r(u)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function e6(e,t){return t-e}function zS(e,t){let n=[];return r(t),n.sort(e6);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:u}=o[s];!l&&n.indexOf(u)==-1&&r(u)}}}function Gj(e){let t=Object.create(null);return n(zS(e,0));function n(r){let i=[];r.forEach(s=>{e[s].forEach(({term:l,to:u})=>{if(!l)return;let f;for(let d=0;d<i.length;d++)i[d][0]==l&&(f=i[d][1]);zS(e,u).forEach(d=>{f||i.push([l,f=[]]),f.indexOf(d)==-1&&f.push(d)})})});let o=t[r.join(",")]=new nl(r.indexOf(e.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(e6);o.next.push({type:i[s][0],next:t[l.join(",")]||n(l)})}return o}}function Jj(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:u,next:f}=i.next[l];s.push(u.name),o&&!(u.isText||u.hasRequiredAttrs())&&(o=!1),r.indexOf(f)==-1&&r.push(f)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function t6(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function n6(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function r6(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new Yj(e[n]);return t}let BS=class i6{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=r6(r.attrs),this.defaultAttrs=t6(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==nl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:n6(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new zo(this,this.computeAttrs(t),Me.from(n),Gt.setFrom(r))}createChecked(t=null,n,r){return n=Me.from(n),this.checkContent(n),new zo(this,this.computeAttrs(t),n,Gt.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Me.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Me.empty,!0);return o?new zo(this,t,n.append(o),Gt.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Gt.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,s)=>r[o]=new i6(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class Yj{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class xg{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=r6(i.attrs),this.excluded=null;let o=t6(this.attrs);this.instance=o?new Gt(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Gt(this,n6(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,s)=>r[o]=new xg(o,i++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}excludes(t){return this.excluded.indexOf(t)>-1}}class Xj{constructor(t){this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Gn.from(t.nodes),n.marks=Gn.from(t.marks||{}),this.nodes=BS.compile(this.spec.nodes,this),this.marks=xg.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;o.contentMatch=r[s]||(r[s]=nl.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=l=="_"?null:l?$S(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:$S(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof BS){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new tm(r,r.defaultAttrs,t,Gt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return zo.fromJSON(this,t)}markFromJSON(t){return Gt.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function $S(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(let l in e.marks){let u=e.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class rl{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=t.nodes[r.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new FS(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new FS(this,n,!0);return r.addAll(t,n.from,n.to),Fe.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(eW(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(s.getAttrs){let u=s.getAttrs(n);if(u===!1)continue;s.attrs=u||void 0}return s}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=VS(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=VS(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new rl(t,rl.schemaRules(t)))}}const o6={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Zj={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},s6={ol:!0,ul:!0},nm=1,rm=2,lf=4;function HS(e,t,n){return t!=null?(t?nm:0)|(t==="full"?rm:0):e&&e.whitespace=="pre"?nm|rm:n&~lf}class Lh{constructor(t,n,r,i,o,s,l){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=Gt.none,this.stashMarks=[],this.match=s||(l&lf?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Me.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&nm)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Me.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Me.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):nW(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!o6.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class FS{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=HS(null,n.preserveWhitespace,0)|(r?lf:0);i?o=new Lh(i.type,i.attrs,Gt.none,Gt.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Lh(null,null,Gt.none,Gt.none,!0,null,s):o=new Lh(t.schema.topNodeType,null,Gt.none,Gt.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(t.nodeType==3)this.addTextNode(t);else if(t.nodeType==1){let n=t.getAttribute("style");if(!n)this.addElement(t);else{let r=this.readStyles(tW(n));if(!r)return;let[i,o]=r,s=this.top;for(let l=0;l<o.length;l++)this.removePendingMark(o[l],s);for(let l=0;l<i.length;l++)this.addPendingMark(i[l]);this.addElement(t);for(let l=0;l<i.length;l++)this.removePendingMark(i[l],s);for(let l=0;l<o.length;l++)this.addPendingMark(o[l])}}}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&rm||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&nm)r.options&rm?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=t.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;s6.hasOwnProperty(r)&&this.parser.normalizeLists&&Qj(t);let o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(o?o.ignore:Zj.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);let s,l=this.top,u=this.needsBlock;if(o6.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}this.addAll(t),s&&this.sync(l),this.needsBlock=u}else this.addElementByRule(t,o,o.consuming===!1?i:void 0)}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=Gt.none,r=Gt.none;e:for(let i=0;i<t.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(t[i],t[i+1],this,o);if(!s)continue e;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.forEach(l=>{s.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(t,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(t):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(u=>this.insertNode(u));else{let u=t;typeof n.contentElement=="string"?u=t.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(t):n.contentElement&&(u=n.contentElement),this.findAround(t,u,!0),this.addAll(u)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(t,n,r){let i=n||0;for(let o=n?t.childNodes[n]:t.firstChild,s=r==null?null:t.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(t);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let i=0;i<t.marks.length;i++)(!n.type||n.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t);let s=HS(t,i,o.options);o.options&lf&&o.content.length==0&&(s|=lf),this.nodes.push(new Lh(t,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,u)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;u>=o;u--)if(s(l-1,u))return!0;return!1}else{let d=u>0||u==0&&i?this.nodes[u].type:r&&u>=o?r.node(u-o).type:null;if(!d||d.name!=f&&d.groups.indexOf(f)==-1)return!1;u--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=rW(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let s=i.popFromStashMark(t);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function Qj(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&s6.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function eW(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function tW(e){let t=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=t.exec(e);)r.push(n[1],n[2].trim());return r}function VS(e){let t={};for(let n in e)t[n]=e[n];return t}function nW(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],s=l=>{o.push(l);for(let u=0;u<l.edgeCount;u++){let{type:f,next:d}=l.edge(u);if(f==t||o.indexOf(d)<0&&s(d))return!0}};if(s(i.contentMatch))return!0}}function rW(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class io{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=cy(n).createDocumentFragment());let i=r,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let l=0,u=0;for(;l<o.length&&u<s.marks.length;){let f=s.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(o[l][0])||f.type.spec.spanning===!1)break;l++,u++}for(;l<o.length;)i=o.pop()[1];for(;u<s.marks.length;){let f=s.marks[u++],d=this.serializeMark(f,s.isInline,n);d&&(o.push([f,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=io.renderSpec(cy(n),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&io.renderSpec(cy(r),i(t,n))}static renderSpec(t,n,r=null){if(typeof n=="string")return{dom:t.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?t.createElementNS(r,i):t.createElement(i),u=n[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let d in u)if(u[d]!=null){let m=d.indexOf(" ");m>0?l.setAttributeNS(d.slice(0,m),d.slice(m+1),u[d]):l.setAttribute(d,u[d])}}for(let d=f;d<n.length;d++){let m=n[d];if(m===0){if(d<n.length-1||d>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:v,contentDOM:y}=io.renderSpec(t,m,r);if(l.appendChild(v),y){if(s)throw new RangeError("Multiple content holes");s=y}}}return{dom:l,contentDOM:s}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new io(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=jS(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return jS(t.marks)}}function jS(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function cy(e){return e.document||window.document}const a6=65535,l6=Math.pow(2,16);function iW(e,t){return e+t*l6}function WS(e){return e&a6}function oW(e){return(e-(e&a6))/l6}const u6=1,c6=2,up=4,f6=8;class Q0{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&f6)>0}get deletedBefore(){return(this.delInfo&(u6|up))>0}get deletedAfter(){return(this.delInfo&(c6|up))>0}get deletedAcross(){return(this.delInfo&up)>0}}class ci{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&ci.empty)return ci.empty}recover(t){let n=0,r=WS(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+oW(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>t)break;let f=this.ranges[l+o],d=this.ranges[l+s],m=u+f;if(t<=m){let v=f?t==u?-1:t==m?1:n:n,y=u+i+(v<0?0:d);if(r)return y;let _=t==(n<0?u:m)?null:iW(l/3,t-u),T=t==u?c6:t==m?u6:up;return(n<0?t!=u:t!=m)&&(T|=f6),new Q0(y,T,_)}i+=d-f}return r?t+i:new Q0(t+i,0,null)}touches(t,n){let r=0,i=WS(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>t)break;let f=this.ranges[l+o],d=u+f;if(t<=d&&l==i*3)return!0;r+=this.ranges[l+s]-f}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),u=s+(this.inverted?0:o),f=this.ranges[i+n],d=this.ranges[i+r];t(l,l+f,u,u+d),o+=d-f}}invert(){return new ci(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?ci.empty:new ci(t<0?[0,-t,0]:[0,0,t])}}ci.empty=new ci([]);class pu{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new pu(this.maps,this.mirror,t,n)}copy(){return new pu(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new pu;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(t,n);if(l.recover!=null){let u=this.getMirror(o);if(u!=null&&u>o&&u<this.to){o=u,t=this.maps[u].recover(l.recover);continue}}i|=l.delInfo,t=l.pos}return r?t:new Q0(t,i,null)}}const fy=Object.create(null);class Vr{getMap(){return ci.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=fy[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in fy)throw new RangeError("Duplicate use of step JSON ID "+t);return fy[t]=n,n.prototype.jsonID=t,n}}class In{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new In(t,null)}static fail(t){return new In(null,t)}static fromReplace(t,n,r,i){try{return In.ok(t.replace(n,r,i))}catch(o){if(o instanceof Zp)return In.fail(o.message);throw o}}}function u_(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(u_(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Me.fromArray(r)}class Ns extends Vr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Fe(u_(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return In.fromReplace(t,this.from,this.to,o)}invert(){return new oo(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ns(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ns&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ns(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ns(n.from,n.to,t.markFromJSON(n.mark))}}Vr.jsonID("addMark",Ns);class oo extends Vr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Fe(u_(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return In.fromReplace(t,this.from,this.to,r)}invert(){return new Ns(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new oo(n.pos,r.pos,this.mark)}merge(t){return t instanceof oo&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new oo(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new oo(n.from,n.to,t.markFromJSON(n.mark))}}Vr.jsonID("removeMark",oo);class Ps extends Vr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return In.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return In.fromReplace(t,this.pos,this.pos+1,new Fe(Me.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ps(this.pos,n.marks[i]);return new Ps(this.pos,this.mark)}}return new Lu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ps(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ps(n.pos,t.markFromJSON(n.mark))}}Vr.jsonID("addNodeMark",Ps);class Lu extends Vr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return In.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return In.fromReplace(t,this.pos,this.pos+1,new Fe(Me.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ps(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Lu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Lu(n.pos,t.markFromJSON(n.mark))}}Vr.jsonID("removeNodeMark",Lu);class ir extends Vr{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&eb(t,this.from,this.to)?In.fail("Structure replace would overwrite content"):In.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ci([this.from,this.to-this.from,this.slice.size])}invert(t){return new ir(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ir(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof ir)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Fe.empty:new Fe(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ir(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Fe.empty:new Fe(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ir(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ir(n.from,n.to,Fe.fromJSON(t,n.slice),!!n.structure)}}Vr.jsonID("replace",ir);class Wn extends Vr{constructor(t,n,r,i,o,s,l=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(t){if(this.structure&&(eb(t,this.from,this.gapFrom)||eb(t,this.gapTo,this.to)))return In.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return In.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?In.fromReplace(t,this.from,this.to,r):In.fail("Content does not fit in gap")}getMap(){return new ci([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Wn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Wn(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Wn(n.from,n.to,n.gapFrom,n.gapTo,Fe.fromJSON(t,n.slice),n.insert,!!n.structure)}}Vr.jsonID("replaceAround",Wn);function eb(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function sW(e,t,n,r){let i=[],o=[],s,l;e.doc.nodesBetween(t,n,(u,f,d)=>{if(!u.isInline)return;let m=u.marks;if(!r.isInSet(m)&&d.type.allowsMarkType(r.type)){let v=Math.max(f,t),y=Math.min(f+u.nodeSize,n),_=r.addToSet(m);for(let T=0;T<m.length;T++)m[T].isInSet(_)||(s&&s.to==v&&s.mark.eq(m[T])?s.to=y:i.push(s=new oo(v,y,m[T])));l&&l.to==v?l.to=y:o.push(l=new Ns(v,y,r))}}),i.forEach(u=>e.step(u)),o.forEach(u=>e.step(u))}function aW(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(s,l)=>{if(!s.isInline)return;o++;let u=null;if(r instanceof xg){let f=s.marks,d;for(;d=r.isInSet(f);)(u||(u=[])).push(d),f=d.removeFromSet(f)}else r?r.isInSet(s.marks)&&(u=[r]):u=s.marks;if(u&&u.length){let f=Math.min(l+s.nodeSize,n);for(let d=0;d<u.length;d++){let m=u[d],v;for(let y=0;y<i.length;y++){let _=i[y];_.step==o-1&&m.eq(i[y].style)&&(v=_)}v?(v.to=f,v.step=o):i.push({style:m,from:Math.max(l,t),to:f,step:o})}}}),i.forEach(s=>e.step(new oo(s.from,s.to,s.style)))}function lW(e,t,n,r=n.contentMatch){let i=e.doc.nodeAt(t),o=[],s=t+1;for(let l=0;l<i.childCount;l++){let u=i.child(l),f=s+u.nodeSize,d=r.matchType(u.type);if(!d)o.push(new ir(s,f,Fe.empty));else{r=d;for(let m=0;m<u.marks.length;m++)n.allowsMarkType(u.marks[m].type)||e.step(new oo(s,f,u.marks[m]))}s=f}if(!r.validEnd){let l=r.fillBefore(Me.empty,!0);e.replace(s,s,new Fe(l,0,0))}for(let l=o.length-1;l>=0;l--)e.step(o[l])}function uW(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Ju(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),o=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!uW(i,o,s))break}return null}function cW(e,t,n){let{$from:r,$to:i,depth:o}=t,s=r.before(o+1),l=i.after(o+1),u=s,f=l,d=Me.empty,m=0;for(let _=o,T=!1;_>n;_--)T||r.index(_)>0?(T=!0,d=Me.from(r.node(_).copy(d)),m++):u--;let v=Me.empty,y=0;for(let _=o,T=!1;_>n;_--)T||i.after(_+1)<i.end(_)?(T=!0,v=Me.from(i.node(_).copy(v)),y++):f++;e.step(new Wn(u,f,s,l,new Fe(d.append(v),m,y),d.size-m,!0))}function c_(e,t,n=null,r=e){let i=fW(e,t),o=i&&dW(r,t);return o?i.map(US).concat({type:t,attrs:n}).concat(o.map(US)):null}function US(e){return{type:e,attrs:null}}function fW(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}function dW(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let u=(s.length?s[s.length-1]:t).contentMatch;for(let f=r;u&&f<i;f++)u=u.matchType(n.child(f).type);return!u||!u.validEnd?null:s}function hW(e,t,n){let r=Me.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Me.from(n[s].type.create(n[s].attrs,r))}let i=t.start,o=t.end;e.step(new Wn(i,o,i,o,new Fe(r,0,0),n.length,!0))}function pW(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&mW(e.doc,e.mapping.slice(o).map(l),r)){e.clearIncompatible(e.mapping.slice(o).map(l,1),r);let u=e.mapping.slice(o),f=u.map(l,1),d=u.map(l+s.nodeSize,1);return e.step(new Wn(f,d,f+1,d-1,new Fe(Me.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function mW(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function gW(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Wn(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new Fe(Me.from(s),0,0),1,!0))}function mu(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,d=n-2;f>o;f--,d--){let m=i.node(f),v=i.index(f);if(m.type.spec.isolating)return!1;let y=m.content.cutByIndex(v,m.childCount),_=r&&r[d]||m;if(_!=m&&(y=y.replaceChild(0,_.type.create(_.attrs))),!m.canReplace(v+1,m.childCount)||!_.type.validContent(y))return!1}let l=i.indexAfter(o),u=r&&r[0];return i.node(o).canReplaceWith(l,l,u?u.type:i.node(o+1).type)}function vW(e,t,n=1,r){let i=e.doc.resolve(t),o=Me.empty,s=Me.empty;for(let l=i.depth,u=i.depth-n,f=n-1;l>u;l--,f--){o=Me.from(i.node(l).copy(o));let d=r&&r[f];s=Me.from(d?d.type.create(d.attrs,s):i.node(l).copy(s))}e.step(new ir(t,t,new Fe(o.append(s),n,n),!0))}function ra(e,t){let n=e.resolve(t),r=n.index();return d6(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function d6(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function h6(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let o,s,l=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),l++,s=r.node(i).maybeChild(l)):(o=r.node(i).maybeChild(l-1),s=r.node(i+1)),o&&!o.isTextblock&&d6(o,s)&&r.node(i).canReplace(l,l+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function yW(e,t,n){let r=new ir(t-n,t+n,Fe.empty,!0);e.step(r)}function bW(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function p6(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,u=r.index(s)+(l>0?1:0),f=r.node(s),d=!1;if(o==1)d=f.canReplace(u,u,i);else{let m=f.contentMatchAt(u).findWrapping(i.firstChild.type);d=m&&f.canReplaceWith(u,u,m[0])}if(d)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function f_(e,t,n=t,r=Fe.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return m6(i,o,r)?new ir(t,n,r):new _W(i,o,r).fit()}function m6(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class _W{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Me.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=Me.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let u=new Fe(o,s,l);return t>-1?new Wn(r.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new ir(r.pos,i.pos,u):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=dy(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:f}=this.frontier[l],d,m=null;if(n==1&&(s?f.matchType(s.type)||(m=f.fillBefore(Me.from(s),!1)):o&&u.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:m};if(n==2&&s&&(d=f.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:d};if(o&&f.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=dy(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Fe(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=dy(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new Fe(Vc(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Fe(Vc(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let T=0;T<o.length;T++)this.openFrontierNode(o[T]);let s=this.unplaced,l=r?r.content:s.content,u=s.openStart-t,f=0,d=[],{match:m,type:v}=this.frontier[n];if(i){for(let T=0;T<i.childCount;T++)d.push(i.child(T));m=m.matchFragment(i)}let y=l.size+t-(s.content.size-s.openEnd);for(;f<l.childCount;){let T=l.child(f),C=m.matchType(T.type);if(!C)break;f++,(f>1||u==0||T.content.size)&&(m=C,d.push(g6(T.mark(v.allowedMarks(T.marks)),f==1?u:0,f==l.childCount?y:-1)))}let _=f==l.childCount;_||(y=-1),this.placed=jc(this.placed,n,Me.from(d)),this.frontier[n].match=m,_&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let T=0,C=l;T<y;T++){let w=C.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),C=w.content}this.unplaced=_?t==0?Fe.empty:new Fe(Vc(s.content,t-1,1),t-1,y<0?s.openEnd:t-1):new Fe(Vc(s.content,t,f),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!hy(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=hy(t,n,i,r,o);if(s){for(let l=n-1;l>=0;l--){let{match:u,type:f}=this.frontier[l],d=hy(t,l,f,u,!0);if(!d||d.childCount)continue e}return{depth:n,fit:s,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=jc(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=jc(this.placed,this.depth,Me.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Me.empty,!0);n.childCount&&(this.placed=jc(this.placed,this.frontier.length,n))}}function Vc(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Vc(e.firstChild.content,t-1,n)))}function jc(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(jc(e.lastChild.content,t-1,n)))}function dy(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function g6(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,g6(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Me.empty,!0)))),e.copy(r)}function hy(e,t,n,r,i){let o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!wW(n,o.content,s)?l:null}function wW(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function kW(e){return e.spec.defining||e.spec.definingForContent}function xW(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(m6(i,o,r))return e.step(new ir(t,n,r));let s=y6(i,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let v=i.depth,y=i.pos-1;v>0;v--,y--){let _=i.node(v).type.spec;if(_.defining||_.definingAsContext||_.isolating)break;s.indexOf(v)>-1?l=v:i.before(v)==y&&s.splice(1,0,-v)}let u=s.indexOf(l),f=[],d=r.openStart;for(let v=r.content,y=0;;y++){let _=v.firstChild;if(f.push(_),y==r.openStart)break;v=_.content}for(let v=d-1;v>=0;v--){let y=f[v].type,_=kW(y);if(_&&i.node(u).type!=y)d=v;else if(_||!y.isTextblock)break}for(let v=r.openStart;v>=0;v--){let y=(v+d+1)%(r.openStart+1),_=f[y];if(_)for(let T=0;T<s.length;T++){let C=s[(T+u)%s.length],w=!0;C<0&&(w=!1,C=-C);let S=i.node(C-1),P=i.index(C-1);if(S.canReplaceWith(P,P,_.type,_.marks))return e.replace(i.before(C),w?o.after(C):n,new Fe(v6(r.content,0,r.openStart,y),y,r.openEnd))}}let m=e.steps.length;for(let v=s.length-1;v>=0&&(e.replace(t,n,r),!(e.steps.length>m));v--){let y=s[v];y<0||(t=i.before(y),n=o.after(y))}}function v6(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(v6(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),s=o.fillBefore(e).append(e);e=s.append(o.matchFragment(s).fillBefore(Me.empty,!0))}return e}function SW(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=bW(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new Fe(Me.from(r),0,0))}function CW(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=y6(r,i);for(let s=0;s<o.length;s++){let l=o[s],u=s==o.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return e.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return e.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return e.delete(r.before(s),n);e.delete(t,n)}function y6(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}class gu extends Vr{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return In.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return In.fromReplace(t,this.pos,this.pos+1,new Fe(Me.from(i),0,n.isLeaf?0:1))}getMap(){return ci.empty}invert(t){return new gu(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new gu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new gu(n.pos,n.attr,n.value)}}Vr.jsonID("attr",gu);let Nu=class extends Error{};Nu=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Nu.prototype=Object.create(Error.prototype);Nu.prototype.constructor=Nu;Nu.prototype.name="TransformError";class d_{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new pu}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Nu(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Fe.empty){let i=f_(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Fe(Me.from(r),0,0))}delete(t,n){return this.replace(t,n,Fe.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return xW(this,t,n,r),this}replaceRangeWith(t,n,r){return SW(this,t,n,r),this}deleteRange(t,n){return CW(this,t,n),this}lift(t,n){return cW(this,t,n),this}join(t,n=1){return yW(this,t,n),this}wrap(t,n){return hW(this,t,n),this}setBlockType(t,n=t,r,i=null){return pW(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return gW(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new gu(t,n,r)),this}addNodeMark(t,n){return this.step(new Ps(t,n)),this}removeNodeMark(t,n){if(!(n instanceof Gt)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Lu(t,n)),this}split(t,n=1,r){return vW(this,t,n,r),this}addMark(t,n,r){return sW(this,t,n,r),this}removeMark(t,n,r){return aW(this,t,n,r),this}clearIncompatible(t,n,r){return lW(this,t,n,r),this}}const py=Object.create(null);class ht{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new b6(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Fe.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=t.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:u,$to:f}=s[l],d=t.mapping.slice(o);t.replaceRange(d.map(u.pos),d.map(f.pos),l?Fe.empty:n),l==0&&GS(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],u=t.mapping.slice(r),f=u.map(s.pos),d=u.map(l.pos);o?t.deleteRange(f,d):(t.replaceRangeWith(f,d,n),GS(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new ut(t):ql(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let s=n<0?ql(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):ql(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Di(t.node(0))}static atStart(t){return ql(t,t,0,0,1)||new Di(t)}static atEnd(t){return ql(t,t,t.content.size,t.childCount,-1)||new Di(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=py[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in py)throw new RangeError("Duplicate use of selection JSON ID "+t);return py[t]=n,n.prototype.jsonID=t,n}getBookmark(){return ut.between(this.$anchor,this.$head).getBookmark()}}ht.prototype.visible=!0;class b6{constructor(t,n){this.$from=t,this.$to=n}}let KS=!1;function qS(e){!KS&&!e.parent.inlineContent&&(KS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ut extends ht{constructor(t,n=t){qS(t),qS(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return ht.near(r);let i=t.resolve(n.map(this.anchor));return new ut(i.parent.inlineContent?i:r,r)}replace(t,n=Fe.empty){if(super.replace(t,n),n==Fe.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof ut&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Sg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ut(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=ht.findFrom(n,r,!0)||ht.findFrom(n,-r,!0);if(o)n=o.$head;else return ht.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(ht.findFrom(t,-r,!0)||ht.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new ut(t,n)}}ht.jsonID("text",ut);class Sg{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Sg(t.map(this.anchor),t.map(this.head))}resolve(t){return ut.between(t.resolve(this.anchor),t.resolve(this.head))}}class ot extends ht{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?ht.near(o):new ot(o)}content(){return new Fe(Me.from(this.node),0,0)}eq(t){return t instanceof ot&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new h_(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ot(t.resolve(n.anchor))}static create(t,n){return new ot(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ot.prototype.visible=!1;ht.jsonID("node",ot);class h_{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Sg(r,r):new h_(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&ot.isSelectable(r)?new ot(n):ht.near(n)}}class Di extends ht{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Fe.empty){if(n==Fe.empty){t.delete(0,t.doc.content.size);let r=ht.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Di(t)}map(t){return new Di(t)}eq(t){return t instanceof Di}getBookmark(){return TW}}ht.jsonID("all",Di);const TW={map(){return this},resolve(e){return new Di(e)}};function ql(e,t,n,r,i,o=!1){if(t.inlineContent)return ut.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let l=t.child(s);if(l.isAtom){if(!o&&ot.isSelectable(l))return ot.create(e,n-(i<0?l.nodeSize:0))}else{let u=ql(e,l,n+i,i<0?l.childCount:0,i,o);if(u)return u}n+=l.nodeSize*i}return null}function GS(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof ir||i instanceof Wn))return;let o=e.mapping.maps[r],s;o.forEach((l,u,f,d)=>{s==null&&(s=d)}),e.setSelection(ht.near(e.doc.resolve(s),n))}const JS=1,Nh=2,YS=4;class EW extends d_{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|JS)&~Nh,this.storedMarks=null,this}get selectionSet(){return(this.updated&JS)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Nh,this}ensureMarks(t){return Gt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Nh)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Nh,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Gt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),this.selection.empty||this.setSelection(ht.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=YS,this}get scrolledIntoView(){return(this.updated&YS)>0}}function XS(e,t){return!t||!e?e:e.bind(t)}class Wc{constructor(t,n,r){this.name=t,this.init=XS(n.init,r),this.apply=XS(n.apply,r)}}const AW=[new Wc("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Wc("selection",{init(e,t){return e.selection||ht.atStart(t.doc)},apply(e){return e.selection}}),new Wc("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Wc("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class my{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=AW.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Wc(r.key,r.spec.state,r))})}}class Zl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let u=i?i[s].n:0,f=i?i[s].state:this,d=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,f,r);if(d&&r.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",t),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<s?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Zl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new EW(this)}static create(t){let n=new my(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Zl(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new my(this.schema,t.plugins),r=n.fields,i=new Zl(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new my(t.schema,t.plugins),o=new Zl(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=zo.fromJSON(t.schema,n.doc);else if(s.name=="selection")o.selection=ht.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],f=u.spec.state;if(u.key==s.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=f.fromJSON.call(u,t,n[l],o);return}}o[s.name]=s.init(t,o)}}),o}}function _6(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=_6(i,t,{})),n[r]=i}return n}class Yt{constructor(t){this.spec=t,this.props={},t.props&&_6(t.props,this,this.props),this.key=t.key?t.key.key:w6("plugin")}getState(t){return t[this.key]}}const gy=Object.create(null);function w6(e){return e in gy?e+"$"+ ++gy[e]:(gy[e]=0,e+"$")}class dn{constructor(t="key"){this.key=w6(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Jr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},jf=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let ZS=null;const Oo=function(e,t,n){let r=ZS||(ZS=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},il=function(e,t,n,r){return n&&(QS(e,t,n,r,-1)||QS(e,t,n,r,1))},OW=/^(img|br|input|textarea|hr)$/i;function QS(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:no(e))){let o=e.parentNode;if(!o||o.nodeType!=1||LW(e)||OW.test(e.nodeName)||e.contentEditable=="false")return!1;t=Jr(e)+(i<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?no(e):0}else return!1}}function no(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function MW(e,t,n){for(let r=t==0,i=t==no(e);r||i;){if(e==n)return!0;let o=Jr(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==no(e)}}function LW(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Cg=function(e){return e.focusNode&&il(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Ta(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function NW(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}const Gs=typeof navigator<"u"?navigator:null,eC=typeof document<"u"?document:null,ia=Gs&&Gs.userAgent||"",tb=/Edge\/(\d+)/.exec(ia),k6=/MSIE \d/.exec(ia),nb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ia),Rr=!!(k6||nb||tb),zs=k6?document.documentMode:nb?+nb[1]:tb?+tb[1]:0,zi=!Rr&&/gecko\/(\d+)/i.test(ia);zi&&+(/Firefox\/(\d+)/.exec(ia)||[0,0])[1];const rb=!Rr&&/Chrome\/(\d+)/.exec(ia),wr=!!rb,PW=rb?+rb[1]:0,xr=!Rr&&!!Gs&&/Apple Computer/.test(Gs.vendor),Pu=xr&&(/Mobile\/\w+/.test(ia)||!!Gs&&Gs.maxTouchPoints>2),li=Pu||(Gs?/Mac/.test(Gs.platform):!1),Ti=/Android \d/.test(ia),Tg=!!eC&&"webkitFontSmoothing"in eC.documentElement.style,IW=Tg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function DW(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function ys(e,t){return typeof e=="number"?e:e[t]}function RW(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function tC(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let s=n||e.dom;s;s=jf(s)){if(s.nodeType!=1)continue;let l=s,u=l==o.body,f=u?DW(o):RW(l),d=0,m=0;if(t.top<f.top+ys(r,"top")?m=-(f.top-t.top+ys(i,"top")):t.bottom>f.bottom-ys(r,"bottom")&&(m=t.bottom-f.bottom+ys(i,"bottom")),t.left<f.left+ys(r,"left")?d=-(f.left-t.left+ys(i,"left")):t.right>f.right-ys(r,"right")&&(d=t.right-f.right+ys(i,"right")),d||m)if(u)o.defaultView.scrollBy(d,m);else{let v=l.scrollLeft,y=l.scrollTop;m&&(l.scrollTop+=m),d&&(l.scrollLeft+=d);let _=l.scrollLeft-v,T=l.scrollTop-y;t={left:t.left-_,top:t.top-T,right:t.right-_,bottom:t.bottom-T}}if(u)break}}function zW(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let l=e.root.elementFromPoint(o,s);if(!l||l==e.dom||!e.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:x6(e.dom)}}function x6(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=jf(r));return t}function BW({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;S6(n,r==0?0:r-t)}function S6(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Vl=null;function $W(e){if(e.setActive)return e.setActive();if(Vl)return e.focus(Vl);let t=x6(e);e.focus(Vl==null?{get preventScroll(){return Vl={preventScroll:!0},!0}}:void 0),Vl||(Vl=!1,S6(t,0))}function C6(e,t){let n,r=2e8,i,o=0,s=t.top,l=t.top;for(let u=e.firstChild,f=0;u;u=u.nextSibling,f++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Oo(u).getClientRects();else continue;for(let m=0;m<d.length;m++){let v=d[m];if(v.top<=s&&v.bottom>=l){s=Math.max(v.bottom,s),l=Math.min(v.top,l);let y=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(y<r){n=u,r=y,i=y&&n.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,u.nodeType==1&&y&&(o=f+(t.left>=(v.left+v.right)/2?1:0));continue}}!n&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(o=f+1)}}return n&&n.nodeType==3?HW(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:C6(n,i)}function HW(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=Ss(r,1);if(o.top!=o.bottom&&p_(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function p_(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function FW(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function VW(e,t,n){let{node:r,offset:i}=C6(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function jW(e,t,n,r){let i=-1;for(let o=t,s=!1;o!=e.dom;){let l=e.docView.nearestDesc(o,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!s||!l.contentDOM)){let u=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!s&&(s=!0,u.left>r.left||u.top>r.top?i=l.posBefore:(u.right<r.left||u.bottom<r.top)&&(i=l.posAfter)),!l.contentDOM&&i<0)return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter}o=l.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function T6(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=e.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if(p_(t,f))return T6(s,t,f)}}if((o=(o+1)%r)==i)break}return e}function WW(e,t){let n=e.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let u=n.caretPositionFromPoint(t.left,t.top);u&&({offsetNode:r,offset:i}=u)}catch{}if(!r&&n.caretRangeFromPoint){let u=n.caretRangeFromPoint(t.left,t.top);u&&({startContainer:r,startOffset:i}=u)}let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),s;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=e.dom.getBoundingClientRect();if(!p_(t,u)||(o=T6(e.dom,t,u),!o))return null}if(xr)for(let u=o;r&&u;u=jf(u))u.draggable&&(r=void 0);if(o=FW(o,t),r){if(zi&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=jW(e,r,i,t))}s==null&&(s=VW(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function Ss(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const UW=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function E6(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),s=Tg||zi;if(r.nodeType==3)if(s&&(UW.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Ss(Oo(r,i,i),n);if(zi&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=Ss(Oo(r,i-1,i-1),-1);if(f.top==u.top){let d=Ss(Oo(r,i,i+1),-1);if(d.top!=u.top)return Dc(d,d.left<f.left)}}return u}else{let u=i,f=i,d=n<0?1:-1;return n<0&&!i?(f++,d=-1):n>=0&&i==r.nodeValue.length?(u--,d=1):n<0?u--:f++,Dc(Ss(Oo(r,u,f),1),d<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==no(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return vy(u.getBoundingClientRect(),!1)}if(o==null&&i<no(r)){let u=r.childNodes[i];if(u.nodeType==1)return vy(u.getBoundingClientRect(),!0)}return vy(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==no(r))){let u=r.childNodes[i-1],f=u.nodeType==3?Oo(u,no(u)-(s?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(f)return Dc(Ss(f,1),!1)}if(o==null&&i<no(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let f=u?u.nodeType==3?Oo(u,0,s?0:1):u.nodeType==1?u:null:null;if(f)return Dc(Ss(f,-1),!0)}return Dc(Ss(r.nodeType==3?Oo(r):r,-n),n>=0)}function Dc(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function vy(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function A6(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function KW(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return A6(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=E6(e,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Oo(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let d=u[f];if(d.bottom>d.top+1&&(n=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}const qW=/[\u0590-\u08ac]/;function GW(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=e.domSelection();return!qW.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:A6(e,t,()=>{let{focusNode:u,focusOffset:f,anchorNode:d,anchorOffset:m}=e.domSelectionRange(),v=l.caretBidiLevel;l.modify("move",n,"character");let y=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:_,focusOffset:T}=e.domSelectionRange(),C=_&&!y.contains(_.nodeType==1?_:_.parentNode)||u==_&&f==T;try{l.collapse(d,m),u&&(u!=d||f!=m)&&l.extend&&l.extend(u,f)}catch{}return v!=null&&(l.caretBidiLevel=v),C})}let nC=null,rC=null,iC=!1;function JW(e,t,n){return nC==t&&rC==n?iC:(nC=t,rC=n,iC=n=="up"||n=="down"?KW(e,t,n):GW(e,t,n))}const Ri=0,oC=1,Ql=2,ho=3;class gd{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ri,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,s;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>Jr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>t||s instanceof M6){i=t-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof O6&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Jr(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Jr(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let u=this.children[l],f=s+u.size;if(i==-1&&t<=f){let d=s+u.border;if(t>=d&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(t,n,d);t=s;for(let m=l;m>0;m--){let v=this.children[m-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){i=Jr(v.dom)+1;break}t-=v.size}i==-1&&(i=0)}if(i>-1&&(f>n||l==this.children.length-1)){n=f;for(let d=l+1;d<this.children.length;d++){let m=this.children[d];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=Jr(m.dom);break}n+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=f}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),s=Math.max(t,n);for(let v=0,y=0;v<this.children.length;v++){let _=this.children[v],T=y+_.size;if(o>y&&s<T)return _.setSelection(t-y-_.border,n-y-_.border,r,i);y=T}let l=this.domFromPos(t,t?-1:1),u=n==t?l:this.domFromPos(n,n?-1:1),f=r.getSelection(),d=!1;if((zi||xr)&&t==n){let{node:v,offset:y}=l;if(v.nodeType==3){if(d=!!(y&&v.nodeValue[y-1]==`
`),d&&y==v.nodeValue.length)for(let _=v,T;_;_=_.parentNode){if(T=_.nextSibling){T.nodeName=="BR"&&(l=u={node:T.parentNode,offset:Jr(T)+1});break}let C=_.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let _=v.childNodes[y-1];d=_&&(_.nodeName=="BR"||_.contentEditable=="false")}}if(zi&&f.focusNode&&f.focusNode!=u.node&&f.focusNode.nodeType==1){let v=f.focusNode.childNodes[f.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||d&&xr)&&il(l.node,l.offset,f.anchorNode,f.anchorOffset)&&il(u.node,u.offset,f.focusNode,f.focusOffset))return;let m=!1;if((f.extend||t==n)&&!d){f.collapse(l.node,l.offset);try{t!=n&&f.extend(u.node,u.offset),m=!0}catch{}}if(!m){if(t>n){let y=l;l=u,u=y}let v=document.createRange();v.setEnd(u.node,u.offset),v.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(v)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let l=r+o.border,u=s-o.border;if(t>=l&&n<=u){this.dirty=t==r||n==s?Ql:oC,t==l&&n==u&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=ho:o.markDirty(t-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ql:ho}r=s}this.dirty=Ql}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Ql:oC;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class O6 extends gd{constructor(t,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==Ri&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class YW extends gd{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class ol extends gd{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=io.renderSpec(document,n.type.spec.toDOM(n,r))),new ol(t,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&ho||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return this.dirty!=ho&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Ri){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ri}}slice(t,n,r){let i=ol.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=sb(o,n,s,r)),t>0&&(o=sb(o,0,t,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class sl extends gd{constructor(t,n,r,i,o,s,l,u,f){super(t,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l,s&&this.updateChildren(u,f)}static create(t,n,r,i,o,s){let l=o.nodeViews[n.type.name],u,f=l&&l(n,o,()=>{if(!u)return s;if(u.parent)return u.parent.posBeforeChild(u)},r,i),d=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:m}=io.renderSpec(document,n.type.spec.toDOM(n)));!m&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let v=d;return d=P6(d,r,n),f?u=new XW(t,n,r,i,d,m||null,v,f,o,s+1):n.isText?new Eg(t,n,r,i,d,v,o):new sl(t,n,r,i,d,m||null,v,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Me.empty)}return t}matchesNode(t,n,r){return this.dirty==Ri&&t.eq(this.node)&&ob(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,u=new QW(this,s&&s.node,t);nU(this.node,this.innerDeco,(f,d,m)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,t):f.type.side>=0&&!m&&u.syncToMarks(d==this.node.childCount?Gt.none:this.node.child(d).marks,r,t),u.placeWidget(f,t,i)},(f,d,m,v)=>{u.syncToMarks(f.marks,r,t);let y;u.findNodeMatch(f,d,m,v)||l&&t.state.selection.from>i&&t.state.selection.to<i+f.nodeSize&&(y=u.findIndexWithChild(o.node))>-1&&u.updateNodeAt(f,d,m,y,t)||u.updateNextNode(f,d,m,t,v)||u.addNode(f,d,m,t,i),i+=f.nodeSize}),u.syncToMarks([],r,t),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Ql)&&(s&&this.protectLocalComposition(t,s),L6(this.contentDOM,this.children,t),Pu&&rU(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof ut)||r<n||i>n+this.node.content.size)return null;let o=t.domSelectionRange(),s=iU(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,u=oU(this.node.content,l,r-n,i-n);return u<0?null:{node:s,pos:u,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new YW(this,o,n,i);t.input.compositionNodes.push(s),this.children=sb(this.children,r,r+i.length,t,s)}update(t,n,r,i){return this.dirty==ho||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ri}updateOuterDeco(t){if(ob(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=N6(this.dom,this.nodeDOM,ib(this.outerDeco,this.node,n),ib(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function sC(e,t,n,r,i){return P6(r,t,e),new sl(void 0,e,t,n,r,r,r,i,0)}class Eg extends sl{constructor(t,n,r,i,o,s,l){super(t,n,r,i,o,null,s,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==ho||this.dirty!=Ri&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ri||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Ri,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new Eg(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ho)}get domAtom(){return!1}}class M6 extends gd{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Ri&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class XW extends sl{constructor(t,n,r,i,o,s,l,u,f,d){super(t,n,r,i,o,s,l,f,d),this.spec=u}update(t,n,r,i){if(this.dirty==ho)return!1;if(this.spec.update){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function L6(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let s=t[o],l=s.dom;if(l.parentNode==e){for(;l!=r;)r=aC(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(l,r);if(s instanceof ol){let u=r?r.previousSibling:e.lastChild;L6(s.contentDOM,s.children,n),r=u?u.nextSibling:e.firstChild}}for(;r;)r=aC(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const uf=function(e){e&&(this.nodeName=e)};uf.prototype=Object.create(null);const Na=[new uf];function ib(e,t,n){if(e.length==0)return Na;let r=n?Na[0]:new uf,i=[r];for(let o=0;o<e.length;o++){let s=e[o].type.attrs;if(s){s.nodeName&&i.push(r=new uf(s.nodeName));for(let l in s){let u=s[l];u!=null&&(n&&i.length==1&&i.push(r=new uf(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}function N6(e,t,n,r){if(n==Na&&r==Na)return t;let i=t;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let u;l&&l.nodeName==s.nodeName&&i!=e&&(u=i.parentNode)&&u.nodeName.toLowerCase()==s.nodeName||(u=document.createElement(s.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=Na[0]),i=u}ZW(i,l||Na[0],s)}return i}function ZW(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function P6(e,t,n){return N6(e,e,Na,ib(t,n,e.nodeType!=1))}function ob(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function aC(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class QW{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=eU(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Ri,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(t[o])&&!this.isLocked(f.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=ol.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let f=this.top.children[l];if(f.matchesNode(t,n,r)&&!this.preMatch.matched.has(f)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let s=this.top.children[i];return s.dirty==ho&&s.dom==s.contentDOM&&(s.dirty=Ql),s.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof sl){let u=this.preMatch.matched.get(l);if(u!=null&&u!=o)return!1;let f=l.dom;if(!(this.isLocked(f)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=ho&&ob(n,l.outerDeco)))&&l.update(t,n,r,i))return this.destroyBetween(this.index,s),l.dom!=f&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(t,n,r,i,o){this.top.children.splice(this.index++,0,sl.create(this.top,t,n,r,i,o)),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new O6(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof ol;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Eg)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((xr||wr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new M6(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function eU(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof ol)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=e.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function tU(e,t){return e.type.side-t.type.side}function nU(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let f=0;f<e.childCount;f++){let d=e.child(f);r(d,i,t.forChild(o,d),f),o+=d.nodeSize}return}let s=0,l=[],u=null;for(let f=0;;){if(s<i.length&&i[s].to==o){let _=i[s++],T;for(;s<i.length&&i[s].to==o;)(T||(T=[_])).push(i[s++]);if(T){T.sort(tU);for(let C=0;C<T.length;C++)n(T[C],f,!!u)}else n(_,f,!!u)}let d,m;if(u)m=-1,d=u,u=null;else if(f<e.childCount)m=f,d=e.child(f++);else break;for(let _=0;_<l.length;_++)l[_].to<=o&&l.splice(_--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let v=o+d.nodeSize;if(d.isText){let _=v;s<i.length&&i[s].from<_&&(_=i[s].from);for(let T=0;T<l.length;T++)l[T].to<_&&(_=l[T].to);_<v&&(u=d.cut(_-o),d=d.cut(0,_-o),v=_,m=-1)}let y=d.isInline&&!d.isLeaf?l.filter(_=>!_.inline):l.slice();r(d,y,t.forChild(o,d),m),o=v}}function rU(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function iU(e,t){for(;;){if(e.nodeType==3)return e;if(e.nodeType==1&&t>0){if(e.childNodes.length>t&&e.childNodes[t].nodeType==3)return e.childNodes[t];e=e.childNodes[t-1],t=no(e)}else if(e.nodeType==1&&t<e.childNodes.length)e=e.childNodes[t],t=0;else return null}}function oU(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let s=e.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let u=s.text;for(;i<e.childCount;){let f=e.child(i++);if(o+=f.nodeSize,!f.isText)break;u+=f.text}if(o>=n){let f=l<r?u.lastIndexOf(t,r-l-1):-1;if(f>=0&&f+t.length+l>=n)return l+f;if(n==r&&u.length>=r+t.length-l&&u.slice(r-l,r-l+t.length)==t)return r}}return-1}function sb(e,t,n,r,i){let o=[];for(let s=0,l=0;s<e.length;s++){let u=e[s],f=l,d=l+=u.size;f>=n||d<=t?o.push(u):(f<t&&o.push(u.slice(0,t-f,r)),i&&(o.push(i),i=void 0),d>n&&o.push(u.slice(n-f,u.size,r)))}return o}function m_(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),u,f;if(Cg(n)){for(u=l;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&ot.isSelectable(d)&&i.parent&&!(d.isInline&&MW(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;f=new ot(s==m?l:r.resolve(m))}}else{let d=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;u=r.resolve(d)}if(!f){let d=t=="pointer"||e.state.selection.head<l.pos&&!o?1:-1;f=g_(e,u,l,d)}return f}function I6(e){return e.editable?e.hasFocus():R6(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Bo(e,t=!1){let n=e.state.selection;if(D6(e,n),!!I6(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&wr){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&il(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)aU(e);else{let{anchor:r,head:i}=n,o,s;lC&&!(n instanceof ut)&&(n.$from.parent.inlineContent||(o=uC(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=uC(e,n.to))),e.docView.setSelection(r,i,e.root,t),lC&&(o&&cC(o),s&&cC(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&sU(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const lC=xr||wr&&PW<63;function uC(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(xr&&i&&i.contentEditable=="false")return yy(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return yy(i);if(o)return yy(o)}}function yy(e){return e.contentEditable="true",xr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function cC(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function sU(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!I6(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function aU(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Jr(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&Rr&&zs<=11&&(r.disabled=!0,r.disabled=!1)}function D6(e,t){if(t instanceof ot){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(fC(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else fC(e)}function fC(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function g_(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||ut.between(t,n,r)}function dC(e){return e.editable&&!e.hasFocus()?!1:R6(e)}function R6(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function lU(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return il(t.node,t.offset,n.anchorNode,n.anchorOffset)}function ab(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&ht.findFrom(o,t)}function Ea(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function hC(e,t,n){let r=e.state.selection;if(r instanceof ut){if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let i=ab(e.state,t);return i&&i instanceof ot?Ea(e,i):!1}else if(!(li&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=e.docView.descAt(l))&&!s.contentDOM?ot.isSelectable(o)?Ea(e,new ot(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):Tg?Ea(e,new ut(e.state.doc.resolve(t<0?l:l+o.nodeSize))):!1:!1}}else{if(r instanceof ot&&r.node.isInline)return Ea(e,new ut(t>0?r.$to:r.$from));{let i=ab(e.state,t);return i?Ea(e,i):!1}}}function im(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function cf(e){let t=e.pmViewDesc;return t&&t.size==0&&(e.nextSibling||e.nodeName!="BR")}function by(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=!1;for(zi&&n.nodeType==1&&r<im(n)&&cf(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(cf(l))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(z6(n))break;{let l=n.previousSibling;for(;l&&cf(l);)i=n.parentNode,o=Jr(l),l=l.previousSibling;if(l)n=l,r=im(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?lb(e,n,r):i&&lb(e,i,o)}function _y(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=im(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(cf(l))o=n,s=++r;else break}else{if(z6(n))break;{let l=n.nextSibling;for(;l&&cf(l);)o=l.parentNode,s=Jr(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=im(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&lb(e,o,s)}function z6(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function lb(e,t,n){let r=e.domSelection();if(Cg(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Bo(e)},50)}function pC(e,t,n){let r=e.state.selection;if(r instanceof ut&&!r.empty||n.indexOf("s")>-1||li&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=ab(e.state,t);if(s&&s instanceof ot)return Ea(e,s)}if(!i.parent.inlineContent){let s=t<0?i:o,l=r instanceof Di?ht.near(s,t):ht.findFrom(s,t);return l?Ea(e,l):!1}return!1}function mC(e,t){if(!(e.state.selection instanceof ut))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=e.state.tr;return t<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),e.dispatch(s),!0}return!1}function gC(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function uU(e){if(!xr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;gC(e,r,"true"),setTimeout(()=>gC(e,r,"false"),20)}return!1}function cU(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function fU(e,t){let n=t.keyCode,r=cU(t);return n==8||li&&n==72&&r=="c"?mC(e,-1)||by(e):n==46||li&&n==68&&r=="c"?mC(e,1)||_y(e):n==13||n==27?!0:n==37||li&&n==66&&r=="c"?hC(e,-1,r)||by(e):n==39||li&&n==70&&r=="c"?hC(e,1,r)||_y(e):n==38||li&&n==80&&r=="c"?pC(e,-1,r)||by(e):n==40||li&&n==78&&r=="c"?uU(e)||pC(e,1,r)||_y(e):r==(li?"m":"c")&&(n==66||n==73||n==89||n==90)}function B6(e,t){e.someProp("transformCopied",y=>{t=y(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let y=r.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let s=e.someProp("clipboardSerializer")||io.fromSchema(e.state.schema),l=W6(),u=l.createElement("div");u.appendChild(s.serializeFragment(r,{document:l}));let f=u.firstChild,d,m=0;for(;f&&f.nodeType==1&&(d=j6[f.nodeName.toLowerCase()]);){for(let y=d.length-1;y>=0;y--){let _=l.createElement(d[y]);for(;u.firstChild;)_.appendChild(u.firstChild);u.appendChild(_),m++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${o}${m?` -${m}`:""} ${JSON.stringify(n)}`);let v=e.someProp("clipboardTextSerializer",y=>y(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:v}}function $6(e,t,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!t)return null;let u=t&&(r||o||!n);if(u){if(e.someProp("transformPastedText",v=>{t=v(t,o||r,e)}),o)return t?new Fe(Me.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):Fe.empty;let m=e.someProp("clipboardTextParser",v=>v(t,i,r,e));if(m)l=m;else{let v=i.marks(),{schema:y}=e.state,_=io.fromSchema(y);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(T=>{let C=s.appendChild(document.createElement("p"));T&&C.appendChild(_.serializeNode(y.text(T,v)))})}}else e.someProp("transformPastedHTML",m=>{n=m(n,e)}),s=pU(n),Tg&&mU(s);let f=s&&s.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let m=+d[3];m>0;m--){let v=s.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;s=v}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||rl.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(u||d),context:i,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!dU.test(v.parentNode.nodeName)?{ignore:!0}:null}})),d)l=gU(vC(l,+d[1],+d[2]),d[4]);else if(l=Fe.maxOpen(hU(l.content,i),!0),l.openStart||l.openEnd){let m=0,v=0;for(let y=l.content.firstChild;m<l.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(let y=l.content.lastChild;v<l.openEnd&&!y.type.spec.isolating;v++,y=y.lastChild);l=vC(l,m,v)}return e.someProp("transformPasted",m=>{l=m(l,e)}),l}const dU=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function hU(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),o,s=[];if(e.forEach(l=>{if(!s)return;let u=i.findWrapping(l.type),f;if(!u)return s=null;if(f=s.length&&o.length&&F6(u,o,l,s[s.length-1],0))s[s.length-1]=f;else{s.length&&(s[s.length-1]=V6(s[s.length-1],o.length));let d=H6(l,u);s.push(d),i=i.matchType(d.type),o=u}}),s)return Me.from(s)}return e}function H6(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Me.from(e));return e}function F6(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=F6(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Me.from(H6(n,e,i+1))))}}function V6(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,V6(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Me.empty,!0);return e.copy(n.append(r))}function ub(e,t,n,r,i,o){let s=t<0?e.firstChild:e.lastChild,l=s.content;return i<r-1&&(l=ub(l,t,n,r,i+1,o)),i>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,e.childCount>1||o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(Me.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}function vC(e,t,n){return t<e.openStart&&(e=new Fe(ub(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Fe(ub(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const j6={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let yC=null;function W6(){return yC||(yC=document.implementation.createHTMLDocument("title"))}function pU(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=W6().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&j6[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=e,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function mU(e){let t=e.querySelectorAll(wr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function gU(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:s}=e;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=Me.from(u.create(r[l+1],i)),o++,s++}return new Fe(i,o,s)}const Sr={},Cr={},vU={touchstart:!0,touchmove:!0};class yU{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function bU(e){for(let t in Sr){let n=Sr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{wU(e,r)&&!v_(e,r)&&(e.editable||!(r.type in Cr))&&n(e,r)},vU[t]?{passive:!0}:void 0)}xr&&e.dom.addEventListener("input",()=>null),cb(e)}function Is(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function _U(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function cb(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>v_(e,r))})}function v_(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function wU(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function kU(e,t){!v_(e,t)&&Sr[t.type]&&(e.editable||!(t.type in Cr))&&Sr[t.type](e,t)}Cr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!K6(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Ti&&wr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Pu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Ta(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||fU(e,n)?n.preventDefault():Is(e,"key")};Cr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Cr.keypress=(e,t)=>{let n=t;if(K6(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||li&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof ut)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",o=>o(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Ag(e){return{left:e.clientX,top:e.clientY}}function xU(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function y_(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(e.someProp(t,l=>s>o.depth?l(e,n,o.nodeAfter,o.before(s),i,!0):l(e,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function vu(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);n=="pointer"&&r.setMeta("pointer",!0),e.dispatch(r)}function SU(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&ot.isSelectable(r)?(vu(e,new ot(n),"pointer"),!0):!1}function CU(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof ot&&(r=n.node);let o=e.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(ot.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(vu(e,ot.create(e.state.doc,i),"pointer"),!0):!1}function TU(e,t,n,r,i){return y_(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?CU(e,n):SU(e,n))}function EU(e,t,n,r){return y_(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function AU(e,t,n,r){return y_(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||OU(e,n,r)}function OU(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(vu(e,ut.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)vu(e,ut.create(r,l+1,l+1+s.content.size),"pointer");else if(ot.isSelectable(s))vu(e,ot.create(r,l),"pointer");else continue;return!0}}function b_(e){return om(e)}const U6=li?"metaKey":"ctrlKey";Sr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=b_(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&xU(n,e.input.lastClick)&&!n[U6]&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=e.posAtCoords(Ag(n));s&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new MU(e,s,n,!!r)):(o=="doubleClick"?EU:AU)(e,s.pos,s.inside,n)?n.preventDefault():Is(e,"pointer"))};class MU{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[U6],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),s=n.inside;else{let d=t.state.doc.resolve(n.pos);o=d.parent,s=d.depth?d.before():0}const l=i?null:r.target,u=l?t.docView.nearestDesc(l,!0):null;this.target=u?u.dom:null;let{selection:f}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof ot&&f.from<=s&&f.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&zi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Is(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Bo(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Ag(t))),this.updateAllowDefault(t),this.allowDefault||!n?Is(this.view,"pointer"):TU(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||xr&&this.mightDrag&&!this.mightDrag.node.isAtom||wr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(vu(this.view,ht.near(this.view.state.doc.resolve(n.pos)),"pointer"),t.preventDefault()):Is(this.view,"pointer")}move(t){this.updateAllowDefault(t),Is(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Sr.touchstart=e=>{e.input.lastTouch=Date.now(),b_(e),Is(e,"pointer")};Sr.touchmove=e=>{e.input.lastTouch=Date.now(),Is(e,"pointer")};Sr.contextmenu=e=>b_(e);function K6(e,t){return e.composing?!0:xr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const LU=Ti?5e3:-1;Cr.compositionstart=Cr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),om(e,!0),e.markCursor=null;else if(om(e),zi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){e.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}e.input.composing=!0}q6(e,LU)};Cr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,q6(e,20))};function q6(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>om(e),t))}function G6(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=NU());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function NU(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function om(e,t=!1){if(!(Ti&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),G6(e),t||e.docView&&e.docView.dirty){let n=m_(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function PU(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Iu=Rr&&zs<15||Pu&&IW<604;Sr.copy=Cr.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=Iu?null:n.clipboardData,s=r.content(),{dom:l,text:u}=B6(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",u)):PU(e,l),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function IU(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function DU(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Wf(e,r.value,null,e.input.shiftKey,t):Wf(e,r.textContent,r.innerHTML,e.input.shiftKey,t)},50)}function Wf(e,t,n,r,i){let o=$6(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",u=>u(e,i,o||Fe.empty)))return!0;if(!o)return!1;let s=IU(o),l=s?e.state.tr.replaceSelectionWith(s,e.input.shiftKey):e.state.tr.replaceSelection(o);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Cr.paste=(e,t)=>{let n=t;if(e.composing&&!Ti)return;let r=Iu?null:n.clipboardData;r&&Wf(e,r.getData("text/plain"),r.getData("text/html"),e.input.shiftKey,n)?n.preventDefault():DU(e,n)};class RU{constructor(t,n){this.slice=t,this.move=n}}const J6=li?"altKey":"ctrlKey";Sr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(Ag(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ot?i.to-1:i.to))){if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(ot.create(e.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let f=e.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=e.docView&&e.dispatch(e.state.tr.setSelection(ot.create(e.state.doc,f.posBefore)))}}let s=e.state.selection.content(),{dom:l,text:u}=B6(e,s);n.dataTransfer.clearData(),n.dataTransfer.setData(Iu?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Iu||n.dataTransfer.setData("text/plain",u),e.dragging=new RU(s,!n[J6])};Sr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Cr.dragover=Cr.dragenter=(e,t)=>t.preventDefault();Cr.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(Ag(n));if(!i)return;let o=e.state.doc.resolve(i.pos),s=r&&r.slice;s?e.someProp("transformPasted",_=>{s=_(s,e)}):s=$6(e,n.dataTransfer.getData(Iu?"Text":"text/plain"),Iu?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[J6]);if(e.someProp("handleDrop",_=>_(e,n,s||Fe.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let u=s?p6(e.state.doc,o.pos,s):o.pos;u==null&&(u=o.pos);let f=e.state.tr;l&&f.deleteSelection();let d=f.mapping.map(u),m=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,v=f.doc;if(m?f.replaceRangeWith(d,d,s.content.firstChild):f.replaceRange(d,d,s),f.doc.eq(v))return;let y=f.doc.resolve(d);if(m&&ot.isSelectable(s.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(s.content.firstChild))f.setSelection(new ot(y));else{let _=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((T,C,w,S)=>_=S),f.setSelection(g_(e,y,f.doc.resolve(_)))}e.focus(),e.dispatch(f.setMeta("uiEvent","drop"))};Sr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Bo(e)},20))};Sr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Sr.beforeinput=(e,t)=>{if(wr&&Ti&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Ta(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in Cr)Sr[e]=Cr[e];function Uf(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class __{constructor(t,n){this.toDOM=t,this.spec=n||Ua,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:s}=t.mapResult(n.from+i,this.side<0?-1:1);return s?null:new ar(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof __&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Uf(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Bs{constructor(t,n){this.attrs=t,this.spec=n||Ua}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new ar(o,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Bs&&Uf(this.attrs,t.attrs)&&Uf(this.spec,t.spec)}static is(t){return t.type instanceof Bs}destroy(){}}class w_{constructor(t,n){this.attrs=t,this.spec=n||Ua}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let s=t.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new ar(o.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof w_&&Uf(this.attrs,t.attrs)&&Uf(this.spec,t.spec)}destroy(){}}class ar{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new ar(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new ar(t,t,new __(n,r))}static inline(t,n,r,i){return new ar(t,n,new Bs(r,i))}static node(t,n,r,i){return new ar(t,n,new w_(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Bs}}const Gl=[],Ua={};class tn{constructor(t,n){this.local=t.length?t:Gl,this.children=n.length?n:Gl}static create(t,n){return n.length?sm(n,t,0,Ua):rr}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=t&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let l=this.children[s]+1;this.children[s+2].findInner(t-l,n-l,r,i+l,o)}}map(t,n,r){return this==rr||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Ua)}mapInner(t,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(t,r,i);u&&u.type.valid(n,u)?(s||(s=[])).push(u):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?zU(this.children,s||[],t,n,r,i,o):s?new tn(s.sort(Ka),Gl):rr}add(t,n){return n.length?this==rr?tn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((l,u)=>{let f=u+r,d;if(d=X6(n,l,f)){for(i||(i=this.children.slice());o<i.length&&i[o]<u;)o+=3;i[o]==u?i[o+2]=i[o+2].addInner(l,d,f+1):i.splice(o,0,u,u+l.nodeSize,sm(d,l,f+1,Ua)),o+=3}});let s=Y6(o?Z6(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||s.splice(l--,1);return new tn(s.length?this.local.concat(s).sort(Ka):this.local,i||this.children)}remove(t){return t.length==0||this==rr?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,u=r[o+1]+n;for(let d=0,m;d<t.length;d++)(m=t[d])&&m.from>l&&m.to<u&&(t[d]=null,(s||(s=[])).push(m));if(!s)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(s,l+1);f!=rr?r[o+2]=f:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new tn(i,r):rr}forChild(t,n){if(this==rr)return this;if(n.isLeaf)return tn.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(r=this.children[l+2]);break}let o=t+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<s&&u.to>o&&u.type instanceof Bs){let f=Math.max(o,u.from)-o,d=Math.min(s,u.to)-o;f<d&&(i||(i=[])).push(u.copy(f,d))}}if(i){let l=new tn(i.sort(Ka),Gl);return r?new As([l,r]):l}return r||rr}eq(t){if(this==t)return!0;if(!(t instanceof tn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return k_(this.localsInner(t))}localsInner(t){if(this==rr)return Gl;if(t.inlineContent||!this.local.some(Bs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Bs||n.push(this.local[r]);return n}}tn.empty=new tn([],[]);tn.removeOverlap=k_;const rr=tn.empty;class As{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Ua));return As.from(r)}forChild(t,n){if(n.isLeaf)return tn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=rr&&(o instanceof As?r=r.concat(o.members):r.push(o))}return As.from(r)}eq(t){if(!(t instanceof As)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?k_(r?n:n.sort(Ka)):Gl}static from(t){switch(t.length){case 0:return rr;case 1:return t[0];default:return new As(t.every(n=>n instanceof tn)?t:t.reduce((n,r)=>n.concat(r instanceof tn?r:r.members),[]))}}}function zU(e,t,n,r,i,o,s){let l=e.slice();for(let f=0,d=o;f<n.maps.length;f++){let m=0;n.maps[f].forEach((v,y,_,T)=>{let C=T-_-(y-v);for(let w=0;w<l.length;w+=3){let S=l[w+1];if(S<0||v>S+d-m)continue;let P=l[w]+d-m;y>=P?l[w+1]=v<=P?-2:-1:_>=i&&C&&(l[w]+=C,l[w+1]+=C)}m+=C}),d=n.maps[f].map(d,-1)}let u=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){u=!0,l[f+1]=-1;continue}let d=n.map(e[f]+o),m=d-i;if(m<0||m>=r.content.size){u=!0;continue}let v=n.map(e[f+1]+o,-1),y=v-i,{index:_,offset:T}=r.content.findIndex(m),C=r.maybeChild(_);if(C&&T==m&&T+C.nodeSize==y){let w=l[f+2].mapInner(n,C,d+1,e[f]+o+1,s);w!=rr?(l[f]=m,l[f+1]=y,l[f+2]=w):(l[f+1]=-2,u=!0)}else u=!0}if(u){let f=BU(l,e,t,n,i,o,s),d=sm(f,r,0,s);t=d.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,v=0;m<d.children.length;m+=3){let y=d.children[m];for(;v<l.length&&l[v]<y;)v+=3;l.splice(v,0,d.children[m],d.children[m+1],d.children[m+2])}}return new tn(t.sort(Ka),l)}function Y6(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new ar(i.from+t,i.to+t,i.type))}return n}function BU(e,t,n,r,i,o,s){function l(u,f){for(let d=0;d<u.local.length;d++){let m=u.local[d].map(r,i,f);m?n.push(m):s.onRemove&&s.onRemove(u.local[d].spec)}for(let d=0;d<u.children.length;d+=3)l(u.children[d+2],u.children[d]+f+1)}for(let u=0;u<e.length;u+=3)e[u+1]==-1&&l(e[u+2],t[u]+o+1);return n}function X6(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,s;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),e[o]=null);return i}function Z6(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function sm(e,t,n,r){let i=[],o=!1;t.forEach((l,u)=>{let f=X6(e,l,u+n);if(f){o=!0;let d=sm(f,l,n+u+1,r);d!=rr&&i.push(u,u+l.nodeSize,d)}});let s=Y6(o?Z6(e):e,-n).sort(Ka);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new tn(s,i):rr}function Ka(e,t){return e.from-t.from||e.to-t.to}function k_(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),bC(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),bC(t,i,r.copy(o.from,r.to)));break}}}return t}function bC(e,t,n){for(;t<e.length&&Ka(n,e[t])>0;)t++;e.splice(t,0,n)}function wy(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=rr&&t.push(r)}),e.cursorWrapper&&t.push(tn.create(e.state.doc,[e.cursorWrapper.deco])),As.from(t)}const $U={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},HU=Rr&&zs<=11;class FU{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class VU{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new FU,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Rr&&zs<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),HU&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,$U)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(dC(this.view)){if(this.suppressingSelectionUpdates)return Bo(this.view);if(Rr&&zs<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&il(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=jf(o))n.add(o);for(let o=t.anchorNode;o;o=jf(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&dC(t)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,u=[];if(t.editable)for(let d=0;d<n.length;d++){let m=this.registerMutation(n[d],u);m&&(o=o<0?m.from:Math.min(m.from,o),s=s<0?m.to:Math.max(m.to,s),m.typeOver&&(l=!0))}if(zi&&u.length>1){let d=u.filter(m=>m.nodeName=="BR");if(d.length==2){let m=d[0],v=d[1];m.parentNode&&m.parentNode.parentNode==v.parentNode?v.remove():m.remove()}}let f=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Cg(r)&&(f=m_(t))&&f.eq(ht.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Bo(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,s),jU(t)),this.handleDOMChange(o,s,l,u),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Bo(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++)n.push(t.addedNodes[d]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(Rr&&zs<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:m,nextSibling:v}=t.addedNodes[d];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(i=m),(!v||Array.prototype.indexOf.call(t.addedNodes,v)<0)&&(o=v)}let s=i&&i.parentNode==t.target?Jr(i)+1:0,l=r.localPosFromDOM(t.target,s,-1),u=o&&o.parentNode==t.target?Jr(o):t.target.childNodes.length,f=r.localPosFromDOM(t.target,u,1);return{from:l,to:f}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let _C=new WeakMap,wC=!1;function jU(e){if(!_C.has(e)&&(_C.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=zi,wC)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),wC=!0}}function WU(e){let t;function n(u){u.preventDefault(),u.stopImmediatePropagation(),t=u.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);let r=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset,l=e.domAtPos(e.state.selection.anchor);return il(l.node,l.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function UU(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=e.docView.parseRange(t,n),u=e.domSelectionRange(),f,d=u.anchorNode;if(d&&e.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:u.anchorOffset}],Cg(u)||f.push({node:u.focusNode,offset:u.focusOffset})),wr&&e.input.lastKeyCode===8)for(let C=o;C>i;C--){let w=r.childNodes[C-1],S=w.pmViewDesc;if(w.nodeName=="BR"&&!S){o=C;break}if(!S||S.size)break}let m=e.state.doc,v=e.someProp("domParser")||rl.fromSchema(e.state.schema),y=m.resolve(s),_=null,T=v.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:i,to:o,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:KU,context:y});if(f&&f[0].pos!=null){let C=f[0].pos,w=f[1]&&f[1].pos;w==null&&(w=C),_={anchor:C+s,head:w+s}}return{doc:T,sel:_,from:s,to:l}}function KU(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(xr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||xr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const qU=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function GU(e,t,n,r,i){if(t<0){let L=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,B=m_(e,L);if(B&&!e.state.selection.eq(B)){if(wr&&Ti&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",D=>D(e,Ta(13,"Enter"))))return;let k=e.state.tr.setSelection(B);L=="pointer"?k.setMeta("pointer",!0):L=="key"&&k.scrollIntoView(),e.dispatch(k)}return}let o=e.state.doc.resolve(t),s=o.sharedDepth(n);t=o.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l=e.state.selection,u=UU(e,t,n),f=e.state.doc,d=f.slice(u.from,u.to),m,v;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(m=e.state.selection.to,v="end"):(m=e.state.selection.from,v="start"),e.input.lastKeyCode=null;let y=XU(d.content,u.doc.content,u.from,m,v);if((Pu&&e.input.lastIOSEnter>Date.now()-225||Ti)&&i.some(L=>L.nodeType==1&&!qU.test(L.nodeName))&&(!y||y.endA>=y.endB)&&e.someProp("handleKeyDown",L=>L(e,Ta(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!y)if(r&&l instanceof ut&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))y={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let L=kC(e,e.state.doc,u.sel);L&&!L.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(L))}return}if(wr&&e.cursorWrapper&&u.sel&&u.sel.anchor==e.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let L=y.endB-y.start;u.sel={anchor:u.sel.anchor+L,head:u.sel.anchor+L}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof ut&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),Rr&&zs<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>u.from&&u.doc.textBetween(y.start-u.from-1,y.start-u.from+1)==" "&&(y.start--,y.endA--,y.endB--);let _=u.doc.resolveNoCache(y.start-u.from),T=u.doc.resolveNoCache(y.endB-u.from),C=f.resolve(y.start),w=_.sameParent(T)&&_.parent.inlineContent&&C.end()>=y.endA,S;if((Pu&&e.input.lastIOSEnter>Date.now()-225&&(!w||i.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!w&&_.pos<u.doc.content.size&&(S=ht.findFrom(u.doc.resolve(_.pos+1),1,!0))&&S.head==T.pos)&&e.someProp("handleKeyDown",L=>L(e,Ta(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>y.start&&YU(f,y.start,y.endA,_,T)&&e.someProp("handleKeyDown",L=>L(e,Ta(8,"Backspace")))){Ti&&wr&&e.domObserver.suppressSelectionUpdates();return}wr&&Ti&&y.endB==y.start&&(e.input.lastAndroidDelete=Date.now()),Ti&&!w&&_.start()!=T.start()&&T.parentOffset==0&&_.depth==T.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==y.endA&&(y.endB-=2,T=u.doc.resolveNoCache(y.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(L){return L(e,Ta(13,"Enter"))})},20));let P=y.start,A=y.endA,U,z,j;if(w){if(_.pos==T.pos)Rr&&zs<=11&&_.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Bo(e),20)),U=e.state.tr.delete(P,A),z=f.resolve(y.start).marksAcross(f.resolve(y.endA));else if(y.endA==y.endB&&(j=JU(_.parent.content.cut(_.parentOffset,T.parentOffset),C.parent.content.cut(C.parentOffset,y.endA-C.start()))))U=e.state.tr,j.type=="add"?U.addMark(P,A,j.mark):U.removeMark(P,A,j.mark);else if(_.parent.child(_.index()).isText&&_.index()==T.index()-(T.textOffset?0:1)){let L=_.parent.textBetween(_.parentOffset,T.parentOffset);if(e.someProp("handleTextInput",B=>B(e,P,A,L)))return;U=e.state.tr.insertText(L,P,A)}}if(U||(U=e.state.tr.replace(P,A,u.doc.slice(y.start-u.from,y.endB-u.from))),u.sel){let L=kC(e,U.doc,u.sel);L&&!(wr&&Ti&&e.composing&&L.empty&&(y.start!=y.endB||e.input.lastAndroidDelete<Date.now()-100)&&(L.head==P||L.head==U.mapping.map(A)-1)||Rr&&L.empty&&L.head==P)&&U.setSelection(L)}z&&U.ensureMarks(z),e.dispatch(U.scrollIntoView())}function kC(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:g_(e,t.resolve(n.anchor),t.resolve(n.head))}function JU(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,s,l,u;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)o=n[d].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",u=d=>d.mark(l.addToSet(d.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",u=d=>d.mark(l.removeFromSet(d.marks));else return null;let f=[];for(let d=0;d<t.childCount;d++)f.push(u(t.child(d)));if(Me.from(f).eq(e))return{mark:l,type:s}}function YU(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||ky(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=e.resolve(ky(o,!0,!0));return!s.parent.isTextblock||s.pos>n||ky(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function ky(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function XU(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a:s,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let u=Math.max(0,o-Math.min(s,l));r-=s+u-o}if(s<o&&e.size<t.size){let u=r<=o&&r>=s?o-r:0;o-=u,l=o+(l-s),s=o}else if(l<o){let u=r<=o&&r>=l?o-r:0;o-=u,s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}class ZU{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new yU,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(EC),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=CC(this),SC(this),this.nodeViews=TC(this),this.docView=sC(this.state.doc,xC(this),wy(this),this.dom,this),this.domObserver=new VU(this,(r,i,o,s)=>GU(this,r,i,o,s)),this.domObserver.start(),bU(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&cb(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(EC),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){let r=this.state,i=!1,o=!1;t.storedMarks&&this.composing&&(G6(this),o=!0),this.state=t;let s=r.plugins!=t.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=TC(this);eK(v,this.nodeViews)&&(this.nodeViews=v,i=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&cb(this),this.editable=CC(this),SC(this);let l=wy(this),u=xC(this),f=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(t.doc,u,l);(d||!t.selection.eq(r.selection))&&(o=!0);let m=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&zW(this);if(o){this.domObserver.stop();let v=d&&(Rr||wr)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&QU(r.selection,t.selection);if(d){let y=wr?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(t.doc,u,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=sC(t.doc,u,l,this.dom,this)),y&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&lU(this))?Bo(this,v):(D6(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():m&&BW(m)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ot){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&tC(this,n.getBoundingClientRect(),t)}else tC(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[t];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[t];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Rr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&$W(this.dom),Bo(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}posAtCoords(t){return WW(this,t)}coordsAtPos(t,n=1){return E6(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return JW(this,n||this.state,t)}pasteHTML(t,n){return Wf(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Wf(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(_U(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],wy(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(t){return kU(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return xr&&this.root.nodeType===11&&NW(this.dom.ownerDocument)==this.dom?WU(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function xC(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"&&(t.class+=" "+n[r]),r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),[ar.node(0,e.state.doc.content.size,t)]}function SC(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ar.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function CC(e){return!e.someProp("editable",t=>t(e.state)===!1)}function QU(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function TC(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function eK(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function EC(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Js={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},am={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},AC=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),tK=typeof navigator<"u"&&/Mac/.test(navigator.platform),nK=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),rK=tK||AC&&+AC[1]<57;for(var Xn=0;Xn<10;Xn++)Js[48+Xn]=Js[96+Xn]=String(Xn);for(var Xn=1;Xn<=24;Xn++)Js[Xn+111]="F"+Xn;for(var Xn=65;Xn<=90;Xn++)Js[Xn]=String.fromCharCode(Xn+32),am[Xn]=String.fromCharCode(Xn);for(var xy in Js)am.hasOwnProperty(xy)||(am[xy]=Js[xy]);function iK(e){var t=rK&&(e.ctrlKey||e.altKey||e.metaKey)||nK&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?am:Js)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const oK=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function sK(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<t.length-1;l++){let u=t[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))oK?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function aK(e){let t=Object.create(null);for(let n in e)t[sK(n)]=e[n];return t}function Sy(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function lK(e){return new Yt({props:{handleKeyDown:x_(e)}})}function x_(e){let t=aK(e);return function(n,r){let i=iK(r),o,s=t[Sy(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=t[Sy(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Js[r.keyCode])&&o!=i){let l=t[Sy(o,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const uK=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function cK(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const fK=(e,t,n)=>{let r=cK(e,n);if(!r)return!1;let i=Q6(r);if(!i){let s=r.blockRange(),l=s&&Ju(s);return l==null?!1:(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&n4(e,i,t))return!0;if(r.parent.content.size==0&&(Du(o,"end")||ot.isSelectable(o))){let s=f_(e.doc,r.before(),r.after(),Fe.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(Du(o,"end")?ht.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):ot.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Du(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const dK=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=Q6(r)}let s=o&&o.nodeBefore;return!s||!ot.isSelectable(s)?!1:(t&&t(e.tr.setSelection(ot.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Q6(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function hK(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const pK=(e,t,n)=>{let r=hK(e,n);if(!r)return!1;let i=e4(r);if(!i)return!1;let o=i.nodeAfter;if(n4(e,i,t))return!0;if(r.parent.content.size==0&&(Du(o,"start")||ot.isSelectable(o))){let s=f_(e.doc,r.before(),r.after(),Fe.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(Du(o,"start")?ht.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):ot.create(l.doc,l.mapping.map(i.pos))),t(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},mK=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=e4(r)}let s=o&&o.nodeAfter;return!s||!ot.isSelectable(s)?!1:(t&&t(e.tr.setSelection(ot.create(e.doc,o.pos)).scrollIntoView()),!0)};function e4(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const gK=(e,t)=>{let n=e.selection,r=n instanceof ot,i;if(r){if(n.node.isTextblock||!ra(e.doc,n.from))return!1;i=n.from}else if(i=h6(e.doc,n.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);r&&o.setSelection(ot.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},vK=(e,t)=>{let n=e.selection,r;if(n instanceof ot){if(n.node.isTextblock||!ra(e.doc,n.to))return!1;r=n.to}else if(r=h6(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},yK=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&Ju(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},bK=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function t4(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const _K=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=t4(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(t){let l=n.after(),u=e.tr.replaceWith(l,l,s.createAndFill());u.setSelection(ht.near(u.doc.resolve(l),1)),t(u.scrollIntoView())}return!0},wK=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Di||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=t4(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=e.tr.insert(s,o.createAndFill());l.setSelection(ut.create(l.doc,s+1)),t(l.scrollIntoView())}return!0},kK=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(mu(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Ju(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},xK=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(ot.create(e.doc,i))),!0)};function SK(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||ra(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function n4(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(SK(e,t,n))return!0;let l=t.parent.canReplace(t.index(),t.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let m=t.pos+i.nodeSize,v=Me.empty;for(let T=o.length-1;T>=0;T--)v=Me.from(o[T].create(null,v));v=Me.from(r.copy(v));let y=e.tr.step(new Wn(t.pos-1,m,t.pos,m,new Fe(v,1,0),o.length,!0)),_=m+2*o.length;ra(y.doc,_)&&y.join(_),n(y.scrollIntoView())}return!0}let u=ht.findFrom(t,1),f=u&&u.$from.blockRange(u.$to),d=f&&Ju(f);if(d!=null&&d>=t.depth)return n&&n(e.tr.lift(f,d).scrollIntoView()),!0;if(l&&Du(i,"start",!0)&&Du(r,"end")){let m=r,v=[];for(;v.push(m),!m.isTextblock;)m=m.lastChild;let y=i,_=1;for(;!y.isTextblock;y=y.firstChild)_++;if(m.canReplace(m.childCount,m.childCount,y.content)){if(n){let T=Me.empty;for(let w=v.length-1;w>=0;w--)T=Me.from(v[w].copy(T));let C=e.tr.step(new Wn(t.pos-v.length,t.pos+i.nodeSize,t.pos+_,t.pos+i.nodeSize-_,new Fe(T,v.length,0),0,!0));n(C.scrollIntoView())}return!0}}return!1}function r4(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(ut.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const CK=r4(-1),TK=r4(1);function EK(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&c_(s,e,t);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function OC(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[o];n.doc.nodesBetween(s,l,(u,f)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(e,t)))if(u.type==e)i=!0;else{let d=n.doc.resolve(f),m=d.index();i=d.parent.canReplaceWith(m,m+1,e)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[s];o.setBlockType(l,u,e,t)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function AK(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=!1,u=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(e)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let d=n.doc.resolve(s.start-2);u=new em(d,d,s.depth),s.endIndex<s.parent.childCount&&(s=new em(i,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let f=c_(u,e,t,s);return f?(r&&r(OK(n.tr,s,f,l,e).scrollIntoView()),!0):!1}}function OK(e,t,n,r,i){let o=Me.empty;for(let d=n.length-1;d>=0;d--)o=Me.from(n[d].type.create(n[d].attrs,o));e.step(new Wn(t.start-(r?2:0),t.end,t.start,t.end,new Fe(o,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==i&&(s=d+1);let l=n.length-s,u=t.start+n.length-(r?2:0),f=t.parent;for(let d=t.startIndex,m=t.endIndex,v=!0;d<m;d++,v=!1)!v&&mu(e.doc,u,l)&&(e.split(u,l),u+=2*l),u+=f.child(d).nodeSize;return e}function MK(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==e);return o?n?r.node(o.depth-1).type==e?LK(t,n,e,o):NK(t,n,o):!0:!1}}function LK(e,t,n,r){let i=e.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Wn(o-1,s,o,s,new Fe(Me.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new em(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const l=Ju(r);if(l==null)return!1;i.lift(r,l);let u=i.mapping.map(o,-1)-1;return ra(i.doc,u)&&i.join(u),t(i.scrollIntoView()),!0}function NK(e,t,n){let r=e.tr,i=n.parent;for(let y=n.end,_=n.endIndex-1,T=n.startIndex;_>T;_--)y-=i.child(_).nodeSize,r.delete(y-1,y+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==i.childCount,f=o.node(-1),d=o.index(-1);if(!f.canReplace(d+(l?0:1),d+1,s.content.append(u?Me.empty:Me.from(i))))return!1;let m=o.pos,v=m+s.nodeSize;return r.step(new Wn(m-(l?1:0),v+(u?1:0),m+1,v-1,new Fe((l?Me.empty:Me.from(i.copy(Me.empty))).append(u?Me.empty:Me.from(i.copy(Me.empty))),l?0:1,u?0:1),l?0:1)),t(r.scrollIntoView()),!0}function PK(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==e);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,u=l.child(s-1);if(u.type!=e)return!1;if(n){let f=u.lastChild&&u.lastChild.type==l.type,d=Me.from(f?e.create():null),m=new Fe(Me.from(e.create(null,Me.from(l.type.create(null,d)))),f?3:1,0),v=o.start,y=o.end;n(t.tr.step(new Wn(v-(f?3:1),y,v,y,m,1,!0)).scrollIntoView())}return!0}}function vd(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class yd{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([l,u])=>[l,(...d)=>{const m=u(...d)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l=[],u=!!t,f=t||o.tr,d=()=>(!u&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(f),l.every(v=>v===!0)),m={...Object.fromEntries(Object.entries(r).map(([v,y])=>[v,(...T)=>{const C=this.buildProps(f,n),w=y(...T)(C);return l.push(w),m}])),run:d};return m}createCan(t){const{rawCommands:n,state:r}=this,i=!1,o=t||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([u,f])=>[u,(...d)=>f(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(t,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i;o.storedMarks&&t.setStoredMarks(o.storedMarks);const l={tr:t,editor:i,view:s,state:vd({state:o,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([u,f])=>[u,(...d)=>f(...d)(l)]))}};return l}}class IK{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function Je(e,t,n){return e.config[t]===void 0&&e.parent?Je(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Je(e.parent,t,n):null}):e.config[t]}function bd(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function S_(e){const t=[],{nodeExtensions:n,markExtensions:r}=bd(e),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},u=Je(s,"addGlobalAttributes",l);if(!u)return;u().forEach(d=>{d.types.forEach(m=>{Object.entries(d.attributes).forEach(([v,y])=>{t.push({type:m,name:v,attribute:{...o,...y}})})})})}),i.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},u=Je(s,"addAttributes",l);if(!u)return;const f=u();Object.entries(f).forEach(([d,m])=>{const v={...o,...m};typeof(v==null?void 0:v.default)=="function"&&(v.default=v.default()),v!=null&&v.isRequired&&(v==null?void 0:v.default)===void 0&&delete v.default,t.push({type:s.name,name:d,attribute:v})})}),t}function Rn(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function $t(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}i==="class"?r[i]=[r[i],o].join(" "):i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function lm(e,t){return t.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>$t(n,r),{})}function C_(e){return typeof e=="function"}function wt(e,t=void 0,...n){return C_(e)?t?e.bind(t)(...n):e(...n):e}function i4(e={}){return Object.keys(e).length===0&&e.constructor===Object}function o4(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function fb(e,t){return e.style?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):o4(n.getAttribute(s.name));return l==null?o:{...o,[s.name]:l}},{});return{...r,...i}}}}function MC(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&i4(n)?!1:n!=null))}function T_(e,t){var n;const r=S_(e),{nodeExtensions:i,markExtensions:o}=bd(e),s=(n=i.find(f=>Je(f,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(f=>{const d=r.filter(w=>w.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:t},v=e.reduce((w,S)=>{const P=Je(S,"extendNodeSchema",m);return{...w,...P?P(f):{}}},{}),y=MC({...v,content:wt(Je(f,"content",m)),marks:wt(Je(f,"marks",m)),group:wt(Je(f,"group",m)),inline:wt(Je(f,"inline",m)),atom:wt(Je(f,"atom",m)),selectable:wt(Je(f,"selectable",m)),draggable:wt(Je(f,"draggable",m)),code:wt(Je(f,"code",m)),defining:wt(Je(f,"defining",m)),isolating:wt(Je(f,"isolating",m)),attrs:Object.fromEntries(d.map(w=>{var S;return[w.name,{default:(S=w==null?void 0:w.attribute)===null||S===void 0?void 0:S.default}]}))}),_=wt(Je(f,"parseHTML",m));_&&(y.parseDOM=_.map(w=>fb(w,d)));const T=Je(f,"renderHTML",m);T&&(y.toDOM=w=>T({node:w,HTMLAttributes:lm(w,d)}));const C=Je(f,"renderText",m);return C&&(y.toText=C),[f.name,y]})),u=Object.fromEntries(o.map(f=>{const d=r.filter(C=>C.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:t},v=e.reduce((C,w)=>{const S=Je(w,"extendMarkSchema",m);return{...C,...S?S(f):{}}},{}),y=MC({...v,inclusive:wt(Je(f,"inclusive",m)),excludes:wt(Je(f,"excludes",m)),group:wt(Je(f,"group",m)),spanning:wt(Je(f,"spanning",m)),code:wt(Je(f,"code",m)),attrs:Object.fromEntries(d.map(C=>{var w;return[C.name,{default:(w=C==null?void 0:C.attribute)===null||w===void 0?void 0:w.default}]}))}),_=wt(Je(f,"parseHTML",m));_&&(y.parseDOM=_.map(C=>fb(C,d)));const T=Je(f,"renderHTML",m);return T&&(y.toDOM=C=>T({mark:C,HTMLAttributes:lm(C,d)})),[f.name,y]}));return new Xj({topNode:s,nodes:l,marks:u})}function cp(e,t){return t.nodes[e]||t.marks[e]||null}function db(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}const s4=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,o,s,l)=>{var u,f;const d=((f=(u=i.type.spec).toText)===null||f===void 0?void 0:f.call(u,{node:i,pos:o,parent:s,index:l}))||i.textContent||"%leaf%";n+=d.slice(0,Math.max(0,r-o))}),n};function Og(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class Yu{constructor(t){this.find=t.find,this.handler=t.handler}}const DK=(e,t)=>{if(Og(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Cy(e){var t;const{editor:n,from:r,to:i,text:o,rules:s,plugin:l}=e,{view:u}=n;if(u.composing)return!1;const f=u.state.doc.resolve(r);if(f.parent.type.spec.code||!((t=f.nodeBefore||f.nodeAfter)===null||t===void 0)&&t.marks.find(v=>v.type.spec.code))return!1;let d=!1;const m=s4(f)+o;return s.forEach(v=>{if(d)return;const y=DK(m,v.find);if(!y)return;const _=u.state.tr,T=vd({state:u.state,transaction:_}),C={from:r-(y[0].length-o.length),to:i},{commands:w,chain:S,can:P}=new yd({editor:n,state:T});v.handler({state:T,range:C,match:y,commands:w,chain:S,can:P})===null||!_.steps.length||(_.setMeta(l,{transform:_,from:r,to:i,text:o}),u.dispatch(_),d=!0)}),d}function a4(e){const{editor:t,rules:n}=e,r=new Yt({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,l){return Cy({editor:t,from:o,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Cy({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Cy({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function l4(e){return typeof e=="number"}class Mg{constructor(t){this.find=t.find,this.handler=t.handler}}const RK=(e,t)=>{if(Og(t))return[...e.matchAll(t)];const n=t(e);return n?n.map(r=>{const i=[r.text];return i.index=r.index,i.input=e,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function zK(e){const{editor:t,state:n,from:r,to:i,rule:o}=e,{commands:s,chain:l,can:u}=new yd({editor:t,state:n}),f=[];return n.doc.nodesBetween(r,i,(m,v)=>{if(!m.isTextblock||m.type.spec.code)return;const y=Math.max(r,v),_=Math.min(i,v+m.content.size),T=m.textBetween(y-v,_-v,void 0,"");RK(T,o.find).forEach(w=>{if(w.index===void 0)return;const S=y+w.index+1,P=S+w[0].length,A={from:n.tr.mapping.map(S),to:n.tr.mapping.map(P)},U=o.handler({state:n,range:A,match:w,commands:s,chain:l,can:u});f.push(U)})}),f.every(m=>m!==null)}function u4(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1;return n.map(l=>new Yt({view(u){const f=d=>{var m;r=!((m=u.dom.parentElement)===null||m===void 0)&&m.contains(d.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:u=>(o=r===u.dom.parentElement,!1),paste:(u,f)=>{var d;const m=(d=f.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(u,f,d)=>{const m=u[0],v=m.getMeta("uiEvent")==="paste"&&!i,y=m.getMeta("uiEvent")==="drop"&&!o;if(!v&&!y)return;const _=f.doc.content.findDiffStart(d.doc.content),T=f.doc.content.findDiffEnd(d.doc.content);if(!l4(_)||!T||_===T.b)return;const C=d.tr,w=vd({state:d,transaction:C});if(!(!zK({editor:t,state:w,from:Math.max(_-1,0),to:T.b-1,rule:l})||!C.steps.length))return C}}))}function c4(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return[...new Set(t)]}class Pa{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=Pa.resolve(t),this.schema=T_(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:cp(r.name,this.schema)};r.type==="mark"&&(!((i=wt(Je(r,"keepOnSplit",o)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const s=Je(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const l=Je(r,"onCreate",o);l&&this.editor.on("create",l);const u=Je(r,"onUpdate",o);u&&this.editor.on("update",u);const f=Je(r,"onSelectionUpdate",o);f&&this.editor.on("selectionUpdate",f);const d=Je(r,"onTransaction",o);d&&this.editor.on("transaction",d);const m=Je(r,"onFocus",o);m&&this.editor.on("focus",m);const v=Je(r,"onBlur",o);v&&this.editor.on("blur",v);const y=Je(r,"onDestroy",o);y&&this.editor.on("destroy",y)})}static resolve(t){const n=Pa.sort(Pa.flatten(t)),r=c4(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=Je(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(t){return t.sort((r,i)=>{const o=Je(r,"priority")||100,s=Je(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:cp(n.name,this.schema)},i=Je(n,"addCommands",r);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this,n=Pa.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:t,type:cp(s.name,this.schema)},u=[],f=Je(s,"addKeyboardShortcuts",l);let d={};if(s.type==="mark"&&s.config.exitable&&(d.ArrowRight=()=>er.handleExit({editor:t,mark:s})),f){const T=Object.fromEntries(Object.entries(f()).map(([C,w])=>[C,()=>w({editor:t})]));d={...d,...T}}const m=lK(d);u.push(m);const v=Je(s,"addInputRules",l);db(s,t.options.enableInputRules)&&v&&r.push(...v());const y=Je(s,"addPasteRules",l);db(s,t.options.enablePasteRules)&&y&&i.push(...y());const _=Je(s,"addProseMirrorPlugins",l);if(_){const T=_();u.push(...T)}return u}).flat();return[a4({editor:t,rules:r}),...u4({editor:t,rules:i}),...o]}get attributes(){return S_(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=bd(this.extensions);return Object.fromEntries(n.filter(r=>!!Je(r,"addNodeView")).map(r=>{const i=this.attributes.filter(u=>u.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:t,type:Rn(r.name,this.schema)},s=Je(r,"addNodeView",o);if(!s)return[];const l=(u,f,d,m)=>{const v=lm(u,i);return s()({editor:t,node:u,getPos:d,decorations:m,HTMLAttributes:v,extension:r})};return[r.name,l]}))}}function BK(e){return Object.prototype.toString.call(e).slice(8,-1)}function fp(e){return BK(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function _d(e,t){const n={...e};return fp(e)&&fp(t)&&Object.keys(t).forEach(r=>{fp(t[r])?r in e?n[r]=_d(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}class zn{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(Je(this,"addOptions",{name:this.name}))),this.storage=wt(Je(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new zn(t)}configure(t={}){const n=this.extend();return n.options=_d(this.options,t),n.storage=wt(Je(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new zn(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(Je(n,"addOptions",{name:n.name})),n.storage=wt(Je(n,"addStorage",{name:n.name,options:n.options})),n}}function E_(e,t,n){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let l="",u=!0;return e.nodesBetween(r,i,(f,d,m,v)=>{var y;const _=s==null?void 0:s[f.type.name];_?(f.isBlock&&!u&&(l+=o,u=!0),m&&(l+=_({node:f,pos:d,parent:m,index:v,range:t}))):f.isText?(l+=(y=f==null?void 0:f.text)===null||y===void 0?void 0:y.slice(Math.max(r,d)-d,i-d),u=!1):f.isBlock&&!u&&(l+=o,u=!0)}),l}function Lg(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const $K=zn.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Yt({key:new dn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,s=Math.min(...o.map(d=>d.$from.pos)),l=Math.max(...o.map(d=>d.$to.pos)),u=Lg(n);return E_(r,{from:s,to:l},{textSerializers:u})}}})]}}),HK=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),FK=(e=!1)=>({commands:t})=>t.setContent("",e),VK=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{e.doc.nodesBetween(o.pos,s.pos,(l,u)=>{if(l.type.isText)return;const{doc:f,mapping:d}=t,m=f.resolve(d.map(u)),v=f.resolve(d.map(u+l.nodeSize)),y=m.blockRange(v);if(!y)return;const _=Ju(y);if(l.type.isTextblock){const{defaultType:T}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(y.start,T)}(_||_===0)&&t.lift(y,_)})}),!0},jK=e=>t=>e(t),WK=()=>({state:e,dispatch:t})=>wK(e,t),UK=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(t){const l=i.before(o),u=i.after(o);e.delete(l,u).scrollIntoView()}return!0}return!1},KK=e=>({tr:t,state:n,dispatch:r})=>{const i=Rn(e,n.schema),o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const u=o.before(s),f=o.after(s);t.delete(u,f).scrollIntoView()}return!0}return!1},qK=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},GK=()=>({state:e,dispatch:t})=>uK(e,t),JK=()=>({commands:e})=>e.keyboardShortcut("Enter"),YK=()=>({state:e,dispatch:t})=>_K(e,t);function Kf(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:Og(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function hb(e,t,n={}){return e.find(r=>r.type===t&&Kf(r.attrs,n))}function XK(e,t,n={}){return!!hb(e,t,n)}function Ng(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&r.offset!==0&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const i=hb([...r.node.marks],t,n);if(!i)return;let o=r.index,s=e.start()+r.offset,l=o+1,u=s+r.node.nodeSize;for(hb([...r.node.marks],t,n);o>0&&i.isInSet(e.parent.child(o-1).marks);)o-=1,s-=e.parent.child(o).nodeSize;for(;l<e.parent.childCount&&XK([...e.parent.child(l).marks],t,n);)u+=e.parent.child(l).nodeSize,l+=1;return{from:s,to:u}}function Qo(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const ZK=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=Qo(e,r.schema),{doc:s,selection:l}=n,{$from:u,from:f,to:d}=l;if(i){const m=Ng(u,o,t);if(m&&m.from<=f&&m.to>=d){const v=ut.create(s,m.from,m.to);n.setSelection(v)}}return!0},QK=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function Pg(e){return e instanceof ut}function so(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function A_(e,t=null){if(!t)return null;const n=ht.atStart(e),r=ht.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,o=r.to;return t==="all"?ut.create(e,so(0,i,o),so(e.content.size,i,o)):ut.create(e,so(t,i,o),so(t,i,o))}function wd(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const eq=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const s=()=>{wd()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!Pg(n.state.selection))return s(),!0;const l=A_(i.doc,e)||n.state.selection,u=n.state.selection.eq(l);return o&&(u||i.setSelection(l),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},tq=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),nq=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t);function um(e){const t=`<body>${e}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function qf(e,t,n){if(n={slice:!0,parseOptions:{},...n},typeof e=="object"&&e!==null)try{return Array.isArray(e)&&e.length>0?Me.fromArray(e.map(r=>t.nodeFromJSON(r))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),qf("",t,n)}if(typeof e=="string"){const r=rl.fromSchema(t);return n.slice?r.parseSlice(um(e),n.parseOptions).content:r.parse(um(e),n.parseOptions)}return qf("",t,n)}function f4(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof ir||i instanceof Wn))return;const o=e.mapping.maps[r];let s=0;o.forEach((l,u,f,d)=>{s===0&&(s=d)}),e.setSelection(ht.near(e.doc.resolve(s),n))}const rq=e=>e.toString().startsWith("<"),iq=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=qf(t,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:l,to:u}=typeof e=="number"?{from:e,to:e}:e,f=!0,d=!0;if((rq(s)?s:[s]).forEach(v=>{v.check(),f=f?v.isText&&v.marks.length===0:!1,d=d?v.isBlock:!1}),l===u&&d){const{parent:v}=r.doc.resolve(l);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(l-=1,u+=1)}f?Array.isArray(t)?r.insertText(t.map(v=>v.text||"").join(""),l,u):typeof t=="object"&&t&&t.text?r.insertText(t.text,l,u):r.insertText(t,l,u):r.replaceWith(l,u,s),n.updateSelection&&f4(r,r.steps.length-1,-1)}return!0},oq=()=>({state:e,dispatch:t})=>gK(e,t),sq=()=>({state:e,dispatch:t})=>vK(e,t),aq=()=>({state:e,dispatch:t})=>fK(e,t),lq=()=>({state:e,dispatch:t})=>pK(e,t);function O_(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function uq(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<t.length-1;l+=1){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))wd()||O_()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const cq=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=uq(e).split(/-(?!$)/),s=o.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),u=t.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,l))});return u==null||u.steps.forEach(f=>{const d=f.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function Ru(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,s=t?Rn(t,e.schema):null,l=[];e.doc.nodesBetween(r,i,(m,v)=>{if(m.isText)return;const y=Math.max(r,v),_=Math.min(i,v+m.nodeSize);l.push({node:m,from:y,to:_})});const u=i-r,f=l.filter(m=>s?s.name===m.node.type.name:!0).filter(m=>Kf(m.node.attrs,n,{strict:!1}));return o?!!f.length:f.reduce((m,v)=>m+v.to-v.from,0)>=u}const fq=(e,t={})=>({state:n,dispatch:r})=>{const i=Rn(e,n.schema);return Ru(n,i,t)?yK(n,r):!1},dq=()=>({state:e,dispatch:t})=>kK(e,t),hq=e=>({state:t,dispatch:n})=>{const r=Rn(e,t.schema);return MK(r)(t,n)},pq=()=>({state:e,dispatch:t})=>bK(e,t);function kd(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function pb(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}const mq=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=kd(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(o=Rn(e,r.schema)),l==="mark"&&(s=Qo(e,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(f,d)=>{o&&o===f.type&&n.setNodeMarkup(d,void 0,pb(f.attrs,t)),s&&f.marks.length&&f.marks.forEach(m=>{s===m.type&&n.addMark(d,d+f.nodeSize,s.create(pb(m.attrs,t)))})})}),!0):!1},gq=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),vq=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),yq=()=>({state:e,dispatch:t})=>dK(e,t),bq=()=>({state:e,dispatch:t})=>mK(e,t),_q=()=>({state:e,dispatch:t})=>xK(e,t),wq=()=>({state:e,dispatch:t})=>TK(e,t),kq=()=>({state:e,dispatch:t})=>CK(e,t);function M_(e,t,n={}){return qf(e,t,{slice:!1,parseOptions:n})}const xq=(e,t=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,l=M_(e,i.schema,n);return o&&r.replaceWith(0,s.content.size,l).setMeta("preventUpdate",!t),!0};function d4(e,t){const n=new d_(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function h4(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Sq(e,t){const n=[];return e.descendants((r,i)=>{t(r)&&n.push({node:r,pos:i})}),n}function p4(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function L_(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function Ig(e){return t=>L_(t.$from,e)}function N_(e,t){const n=io.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function Dg(e,t){const n=Pa.resolve(e);return T_(n,t)}function Cq(e,t){const n=Dg(t),r=zo.fromJSON(n,e);return N_(r.content,n)}function Tq(e,t){const n=Dg(t),r=um(e);return rl.fromSchema(n).parse(r).toJSON()}function P_(e,t){const n={from:0,to:e.content.size};return E_(e,n,t)}function Eq(e,t,n){const{blockSeparator:r=`

`,textSerializers:i={}}=n||{},o=Dg(t),s=zo.fromJSON(o,e);return P_(s,{blockSeparator:r,textSerializers:{...Lg(o),...i}})}function Xu(e,t){const n=Qo(t,e.schema),{from:r,to:i,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,u=>{s.push(...u.marks)});const l=s.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function m4(e,t){const n=Rn(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function I_(e,t){const n=kd(typeof t=="string"?t:t.name,e.schema);return n==="node"?m4(e,t):n==="mark"?Xu(e,t):{}}function g4(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function Aq(e){const t=g4(e);return t.length===1?t:t.filter((n,r)=>!t.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function v4(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((l,u)=>{s.push({from:l,to:u})});else{const{from:l,to:u}=n[o];if(l===void 0||u===void 0)return;s.push({from:l,to:u})}s.forEach(({from:l,to:u})=>{const f=t.slice(o).map(l,-1),d=t.slice(o).map(u),m=t.invert().map(f,-1),v=t.invert().map(d);r.push({oldRange:{from:m,to:v},newRange:{from:f,to:d}})})}),Aq(r)}function y4(e,t=0){const r=e.type===e.type.schema.topNodeType?0:1,i=t,o=i+e.nodeSize,s=e.marks.map(f=>{const d={type:f.type.name};return Object.keys(f.attrs).length&&(d.attrs={...f.attrs}),d}),l={...e.attrs},u={type:e.type.name,from:i,to:o};return Object.keys(l).length&&(u.attrs=l),s.length&&(u.marks=s),e.content.childCount&&(u.content=[],e.forEach((f,d)=>{var m;(m=u.content)===null||m===void 0||m.push(y4(f,t+d+r))})),e.text&&(u.text=e.text),u}function Gf(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e-1),s=Ng(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(e,t,(i,o)=>{r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function ff(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function cm(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?Qo(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>Kf(m.attrs,n,{strict:!1}));let s=0;const l=[];if(i.forEach(({$from:m,$to:v})=>{const y=m.pos,_=v.pos;e.doc.nodesBetween(y,_,(T,C)=>{if(!T.isText&&!T.marks.length)return;const w=Math.max(y,C),S=Math.min(_,C+T.nodeSize),P=S-w;s+=P,l.push(...T.marks.map(A=>({mark:A,from:w,to:S})))})}),s===0)return!1;const u=l.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>Kf(m.mark.attrs,n,{strict:!1})).reduce((m,v)=>m+v.to-v.from,0),f=l.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,v)=>m+v.to-v.from,0);return(u>0?u+f:u)>=s}function b4(e,t,n={}){if(!t)return Ru(e,null,n)||cm(e,null,n);const r=kd(t,e.schema);return r==="node"?Ru(e,t,n):r==="mark"?cm(e,t,n):!1}function mb(e,t){const{nodeExtensions:n}=bd(t),r=n.find(s=>s.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=wt(Je(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function D_(e){var t;const n=(t=e.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function _4(e){return e instanceof ot}function R_(e,t,n){const i=e.state.doc.content.size,o=so(t,0,i),s=so(n,0,i),l=e.coordsAtPos(o),u=e.coordsAtPos(s,-1),f=Math.min(l.top,u.top),d=Math.max(l.bottom,u.bottom),m=Math.min(l.left,u.left),v=Math.max(l.right,u.right),y=v-m,_=d-f,w={top:f,bottom:d,left:m,right:v,width:y,height:_,x:m,y:f};return{...w,toJSON:()=>w}}function Oq(e,t,n){var r;const{selection:i}=t;let o=null;if(Pg(i)&&(o=i.$cursor),o){const l=(r=e.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(l)||!l.some(u=>u.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:l,$to:u})=>{let f=l.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(l.pos,u.pos,(d,m,v)=>{if(f)return!1;if(d.isInline){const y=!v||v.type.allowsMarkType(n),_=!!n.isInSet(d.marks)||!d.marks.some(T=>T.type.excludes(n));f=y&&_}return!f}),f})}const Mq=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:l}=o,u=Qo(e,r.schema);if(i)if(s){const f=Xu(r,u);n.addStoredMark(u.create({...f,...t}))}else l.forEach(f=>{const d=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(d,m,(v,y)=>{const _=Math.max(y,d),T=Math.min(y+v.nodeSize,m);v.marks.find(w=>w.type===u)?v.marks.forEach(w=>{u===w.type&&n.addMark(_,T,u.create({...w.attrs,...t}))}):n.addMark(_,T,u.create(t))})});return Oq(r,n,u)},Lq=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),Nq=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=Rn(e,n.schema);return o.isTextblock?i().command(({commands:s})=>OC(o,t)(n)?!0:s.clearNodes()).command(({state:s})=>OC(o,t)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Pq=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=so(e,0,r.content.size),o=ot.create(r,i);t.setSelection(o)}return!0},Iq=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,s=ut.atStart(r).from,l=ut.atEnd(r).to,u=so(i,s,l),f=so(o,s,l),d=ut.create(r,u,f);t.setSelection(d)}return!0},Dq=e=>({state:t,dispatch:n})=>{const r=Rn(e,t.schema);return PK(r)(t,n)};function LC(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(r)}}const Rq=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=t,{$from:l,$to:u}=o,f=i.extensionManager.attributes,d=ff(f,l.node().type.name,l.node().attrs);if(o instanceof ot&&o.node.isBlock)return!l.parentOffset||!mu(s,l.pos)?!1:(r&&(e&&LC(n,i.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const m=u.parentOffset===u.parent.content.size;o instanceof ut&&t.deleteSelection();const v=l.depth===0?void 0:h4(l.node(-1).contentMatchAt(l.indexAfter(-1)));let y=m&&v?[{type:v,attrs:d}]:void 0,_=mu(t.doc,t.mapping.map(l.pos),1,y);if(!y&&!_&&mu(t.doc,t.mapping.map(l.pos),1,v?[{type:v}]:void 0)&&(_=!0,y=v?[{type:v,attrs:d}]:void 0),_&&(t.split(t.mapping.map(l.pos),1,y),v&&!m&&!l.parentOffset&&l.parent.type!==v)){const T=t.mapping.map(l.before()),C=t.doc.resolve(T);l.node(-1).canReplaceWith(C.index(),C.index()+1,v)&&t.setNodeMarkup(t.mapping.map(l.before()),v)}e&&LC(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return!0},zq=e=>({tr:t,state:n,dispatch:r,editor:i})=>{var o;const s=Rn(e,n.schema),{$from:l,$to:u}=n.selection,f=n.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(u))return!1;const d=l.node(-1);if(d.type!==s)return!1;const m=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let C=Me.empty;const w=l.index(-1)?1:l.index(-2)?2:3;for(let j=l.depth-w;j>=l.depth-3;j-=1)C=Me.from(l.node(j).copy(C));const S=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,P=ff(m,l.node().type.name,l.node().attrs),A=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(P))||void 0;C=C.append(Me.from(s.createAndFill(null,A)||void 0));const U=l.before(l.depth-(w-1));t.replace(U,l.after(-S),new Fe(C,4-w,0));let z=-1;t.doc.nodesBetween(U,t.doc.content.size,(j,L)=>{if(z>-1)return!1;j.isTextblock&&j.content.size===0&&(z=L+1)}),z>-1&&t.setSelection(ut.near(t.doc.resolve(z))),t.scrollIntoView()}return!0}const v=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,y=ff(m,d.type.name,d.attrs),_=ff(m,l.node().type.name,l.node().attrs);t.delete(l.pos,u.pos);const T=v?[{type:s,attrs:y},{type:v,attrs:_}]:[{type:s,attrs:y}];if(!mu(t.doc,l.pos,2))return!1;if(r){const{selection:C,storedMarks:w}=n,{splittableMarks:S}=i.extensionManager,P=w||C.$to.parentOffset&&C.$from.marks();if(t.split(l.pos,2,T).scrollIntoView(),!P||!r)return!0;const A=P.filter(U=>S.includes(U.type.name));t.ensureMarks(A)}return!0},Ty=(e,t)=>{const n=Ig(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ra(e.doc,n.pos)&&e.join(n.pos),!0},Ey=(e,t)=>{const n=Ig(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ra(e.doc,r)&&e.join(r),!0},Bq=(e,t,n,r={})=>({editor:i,tr:o,state:s,dispatch:l,chain:u,commands:f,can:d})=>{const{extensions:m,splittableMarks:v}=i.extensionManager,y=Rn(e,s.schema),_=Rn(t,s.schema),{selection:T,storedMarks:C}=s,{$from:w,$to:S}=T,P=w.blockRange(S),A=C||T.$to.parentOffset&&T.$from.marks();if(!P)return!1;const U=Ig(z=>mb(z.type.name,m))(T);if(P.depth>=1&&U&&P.depth-U.depth<=1){if(U.node.type===y)return f.liftListItem(_);if(mb(U.node.type.name,m)&&y.validContent(U.node.content)&&l)return u().command(()=>(o.setNodeMarkup(U.pos,y),!0)).command(()=>Ty(o,y)).command(()=>Ey(o,y)).run()}return!n||!A||!l?u().command(()=>d().wrapInList(y,r)?!0:f.clearNodes()).wrapInList(y,r).command(()=>Ty(o,y)).command(()=>Ey(o,y)).run():u().command(()=>{const z=d().wrapInList(y,r),j=A.filter(L=>v.includes(L.type.name));return o.ensureMarks(j),z?!0:f.clearNodes()}).wrapInList(y,r).command(()=>Ty(o,y)).command(()=>Ey(o,y)).run()},$q=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=Qo(e,r.schema);return cm(r,s,t)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,t)},Hq=(e,t,n={})=>({state:r,commands:i})=>{const o=Rn(e,r.schema),s=Rn(t,r.schema);return Ru(r,o,n)?i.setNode(s):i.setNode(o,n)},Fq=(e,t={})=>({state:n,commands:r})=>{const i=Rn(e,n.schema);return Ru(n,i,t)?r.lift(i):r.wrapIn(i,t)},Vq=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const s=e.tr,l=o.transform;for(let u=l.steps.length-1;u>=0;u-=1)s.step(l.steps[u].invert(l.docs[u]));if(o.text){const u=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,e.schema.text(o.text,u))}else s.delete(o.from,o.to)}return!0}}return!1},jq=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},Wq=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=t,{selection:l}=n,u=Qo(e,r.schema),{$from:f,empty:d,ranges:m}=l;if(!i)return!0;if(d&&s){let{from:v,to:y}=l;const _=(o=f.marks().find(C=>C.type===u))===null||o===void 0?void 0:o.attrs,T=Ng(f,u,_);T&&(v=T.from,y=T.to),n.removeMark(v,y,u)}else m.forEach(v=>{n.removeMark(v.$from.pos,v.$to.pos,u)});return n.removeStoredMark(u),!0},Uq=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=kd(typeof e=="string"?e:e.name,r.schema);return l?(l==="node"&&(o=Rn(e,r.schema)),l==="mark"&&(s=Qo(e,r.schema)),i&&n.selection.ranges.forEach(u=>{const f=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(f,d,(m,v)=>{o&&o===m.type&&n.setNodeMarkup(v,void 0,{...m.attrs,...t}),s&&m.marks.length&&m.marks.forEach(y=>{if(s===y.type){const _=Math.max(v,f),T=Math.min(v+m.nodeSize,d);n.addMark(_,T,s.create({...y.attrs,...t}))}})})}),!0):!1},Kq=(e,t={})=>({state:n,dispatch:r})=>{const i=Rn(e,n.schema);return EK(i,t)(n,r)},qq=(e,t={})=>({state:n,dispatch:r})=>{const i=Rn(e,n.schema);return AK(i,t)(n,r)};var Gq=Object.freeze({__proto__:null,blur:HK,clearContent:FK,clearNodes:VK,command:jK,createParagraphNear:WK,deleteCurrentNode:UK,deleteNode:KK,deleteRange:qK,deleteSelection:GK,enter:JK,exitCode:YK,extendMarkRange:ZK,first:QK,focus:eq,forEach:tq,insertContent:nq,insertContentAt:iq,joinUp:oq,joinDown:sq,joinBackward:aq,joinForward:lq,keyboardShortcut:cq,lift:fq,liftEmptyBlock:dq,liftListItem:hq,newlineInCode:pq,resetAttributes:mq,scrollIntoView:gq,selectAll:vq,selectNodeBackward:yq,selectNodeForward:bq,selectParentNode:_q,selectTextblockEnd:wq,selectTextblockStart:kq,setContent:xq,setMark:Mq,setMeta:Lq,setNode:Nq,setNodeSelection:Pq,setTextSelection:Iq,sinkListItem:Dq,splitBlock:Rq,splitListItem:zq,toggleList:Bq,toggleMark:$q,toggleNode:Hq,toggleWrap:Fq,undoInputRule:Vq,unsetAllMarks:jq,unsetMark:Wq,updateAttributes:Uq,wrapIn:Kq,wrapInList:qq});const Jq=zn.create({name:"commands",addCommands(){return{...Gq}}}),Yq=zn.create({name:"editable",addProseMirrorPlugins(){return[new Yt({key:new dn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Xq=zn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Yt({key:new dn("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Zq=zn.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:u,doc:f}=l,{empty:d,$anchor:m}=u,{pos:v,parent:y}=m,_=ht.atStart(f).from===v;return!d||!_||!y.type.isTextblock||y.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return wd()||O_()?o:i},addProseMirrorPlugins(){return[new Yt({key:new dn("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some(_=>_.docChanged)&&!t.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=t.selection,l=ht.atStart(t.doc).from,u=ht.atEnd(t.doc).to;if(i||!(o===l&&s===u)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const m=n.tr,v=vd({state:n,transaction:m}),{commands:y}=new yd({editor:this.editor,state:v});if(y.clearNodes(),!!m.steps.length)return m}})]}}),Qq=zn.create({name:"tabindex",addProseMirrorPlugins(){return[new Yt({key:new dn("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var w4=Object.freeze({__proto__:null,ClipboardTextSerializer:$K,Commands:Jq,Editable:Yq,FocusEvents:Xq,Keymap:Zq,Tabindex:Qq});const eG=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function k4(e,t){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}let x4=class extends IK{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=k4(eG,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const r=C_(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(t){if(this.isDestroyed)return;const n=typeof t=="string"?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(w4):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Pa(n,this)}createCommandManager(){this.commandManager=new yd({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=M_(this.options.content,this.schema,this.options.parseOptions),n=A_(t,this.options.autofocus);this.view=new ZU(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Zl.create({doc:t,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=t.getMeta("focus"),o=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return I_(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,i=typeof t=="string"?n:t;return b4(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return N_(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return P_(this.state.doc,{blockSeparator:n,textSerializers:{...Lg(this.schema),...r}})}get isEmpty(){return D_(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}};function Ys(e){return new Yu({find:e.find,handler:({state:t,range:n,match:r})=>{const i=wt(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,s=r[r.length-1],l=r[0];let u=n.to;if(s){const f=l.search(/\S/),d=n.from+l.indexOf(s),m=d+s.length;if(Gf(n.from,n.to,t.doc).filter(y=>y.mark.type.excluded.find(T=>T===e.type&&T!==y.mark.type)).filter(y=>y.to>d).length)return null;m<n.to&&o.delete(m,n.to),d>n.from&&o.delete(n.from+f,d),u=n.from+f+s.length,o.addMark(n.from+f,u,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function z_(e){return new Yu({find:e.find,handler:({state:t,range:n,match:r})=>{const i=wt(e.getAttributes,void 0,r)||{},{tr:o}=t,s=n.from;let l=n.to;if(r[1]){const u=r[0].lastIndexOf(r[1]);let f=s+u;f>l?f=l:l=f+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(f,l,e.type.create(i))}else r[0]&&o.replaceWith(s,l,e.type.create(i))}})}function fm(e){return new Yu({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),o=wt(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function tG(e){return new Yu({find:e.find,handler:({state:t,range:n,match:r})=>{let i=e.replace,o=n.from;const s=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);i+=r[0].slice(l+r[1].length),o+=l;const u=o-s;u>0&&(i=r[0].slice(l-u,l)+i,o=s)}t.tr.insertText(i,o,s)}})}function zu(e){return new Yu({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const o=wt(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),u=s.doc.resolve(n.from).blockRange(),f=u&&c_(u,e.type,o);if(!f)return null;if(s.wrap(u,f),e.keepMarks&&e.editor){const{selection:m,storedMarks:v}=t,{splittableMarks:y}=e.editor.extensionManager,_=v||m.$to.parentOffset&&m.$from.marks();if(_){const T=_.filter(C=>y.includes(C.type.name));s.ensureMarks(T)}}if(e.keepAttributes){const m=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,o).run()}const d=s.doc.resolve(n.from-1).nodeBefore;d&&d.type===e.type&&ra(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,d))&&s.join(n.from-1)}})}class er{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(Je(this,"addOptions",{name:this.name}))),this.storage=wt(Je(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new er(t)}configure(t={}){const n=this.extend();return n.options=_d(this.options,t),n.storage=wt(Je(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new er(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(Je(n,"addOptions",{name:n.name})),n.storage=wt(Je(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(f=>(f==null?void 0:f.type.name)===n.name))return!1;const u=s.find(f=>(f==null?void 0:f.type.name)===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}}let _n=class gb{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=wt(Je(this,"addOptions",{name:this.name}))),this.storage=wt(Je(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new gb(t)}configure(t={}){const n=this.extend();return n.options=_d(this.options,t),n.storage=wt(Je(n,"addStorage",{name:n.name,options:n.options})),n}extend(t={}){const n=new gb(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=wt(Je(n,"addOptions",{name:n.name})),n.storage=wt(Je(n,"addStorage",{name:n.name,options:n.options})),n}};class S4{constructor(t,n,r){this.isDragging=!1,this.component=t,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var n,r,i,o,s,l,u;const{view:f}=this.editor,d=t.target,m=d.nodeType===3?(n=d.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(d)||!m)return;let v=0,y=0;if(this.dom!==m){const C=this.dom.getBoundingClientRect(),w=m.getBoundingClientRect(),S=(i=t.offsetX)!==null&&i!==void 0?i:(o=t.nativeEvent)===null||o===void 0?void 0:o.offsetX,P=(s=t.offsetY)!==null&&s!==void 0?s:(l=t.nativeEvent)===null||l===void 0?void 0:l.offsetY;v=w.x-C.x+S,y=w.y-C.y+P}(u=t.dataTransfer)===null||u===void 0||u.setDragImage(this.dom,v,y);const _=ot.create(f.state.doc,this.getPos()),T=f.state.tr.setSelection(_);f.dispatch(T)}stopEvent(t){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const r=t.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=t.type.startsWith("drag"),s=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!o)return!0;const{isEditable:u}=this.editor,{isDragging:f}=this,d=!!this.node.type.spec.draggable,m=ot.isSelectable(this.node),v=t.type==="copy",y=t.type==="paste",_=t.type==="cut",T=t.type==="mousedown";if(!d&&m&&o&&t.preventDefault(),d&&o&&!f)return t.preventDefault(),!1;if(d&&u&&!f&&T){const C=r.closest("[data-drag-handle]");C&&(this.dom===C||this.dom.contains(C))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(f||s||v||y||_||T&&m)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&wd()&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...t}),!0})}deleteNode(){const t=this.getPos(),n=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:n})}}function Vo(e){return new Mg({find:e.find,handler:({state:t,range:n,match:r})=>{const i=wt(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,s=r[r.length-1],l=r[0];let u=n.to;if(s){const f=l.search(/\S/),d=n.from+l.indexOf(s),m=d+s.length;if(Gf(n.from,n.to,t.doc).filter(y=>y.mark.type.excluded.find(T=>T===e.type&&T!==y.mark.type)).filter(y=>y.to>d).length)return null;m<n.to&&o.delete(m,n.to),d>n.from&&o.delete(n.from+f,d),u=n.from+f+s.length,o.addMark(n.from+f,u,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function C4(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function nG(e){return typeof e=="string"}function rG(e){return new Mg({find:e.find,handler({match:t,chain:n,range:r}){const i=wt(e.getAttributes,void 0,t);if(i===!1||i===null)return null;t.input&&n().deleteRange(r).insertContentAt(r.from,{type:e.type.name,attrs:i})}})}function iG(e){return new Mg({find:e.find,handler:({state:t,range:n,match:r})=>{let i=e.replace,o=n.from;const s=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);i+=r[0].slice(l+r[1].length),o+=l;const u=o-s;u>0&&(i=r[0].slice(l-u,l)+i,o=s)}t.tr.insertText(i,o,s)}})}class oG{constructor(t){this.transaction=t,this.currentStep=this.transaction.steps.length}map(t){let n=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((i,o)=>{const s=o.getMap().mapResult(i);return s.deleted&&(n=!0),s.pos},t),deleted:n}}}const sG=Object.freeze(Object.defineProperty({__proto__:null,CommandManager:yd,Editor:x4,Extension:zn,InputRule:Yu,Mark:er,Node:_n,NodeView:S4,PasteRule:Mg,Tracker:oG,callOrReturn:wt,combineTransactionSteps:d4,createChainableState:vd,createDocument:M_,createNodeFromContent:qf,createStyleTag:k4,defaultBlockAt:h4,deleteProps:pb,elementFromString:um,escapeForRegEx:C4,extensions:w4,findChildren:Sq,findChildrenInRange:p4,findDuplicates:c4,findParentNode:Ig,findParentNodeClosestToPos:L_,fromString:o4,generateHTML:Cq,generateJSON:Tq,generateText:Eq,getAttributes:I_,getAttributesFromExtensions:S_,getChangedRanges:v4,getDebugJSON:y4,getExtensionField:Je,getHTMLFromFragment:N_,getMarkAttributes:Xu,getMarkRange:Ng,getMarkType:Qo,getMarksBetween:Gf,getNodeAttributes:m4,getNodeType:Rn,getRenderedAttributes:lm,getSchema:Dg,getSchemaByResolvedExtensions:T_,getSchemaTypeByName:cp,getSchemaTypeNameByName:kd,getSplittedAttributes:ff,getText:P_,getTextBetween:E_,getTextContentFromNodes:s4,getTextSerializersFromSchema:Lg,injectExtensionAttributesToParseRule:fb,inputRulesPlugin:a4,isActive:b4,isEmptyObject:i4,isExtensionRulesEnabled:db,isFunction:C_,isList:mb,isMacOS:O_,isMarkActive:cm,isNodeActive:Ru,isNodeEmpty:D_,isNodeSelection:_4,isNumber:l4,isPlainObject:fp,isRegExp:Og,isString:nG,isTextSelection:Pg,isiOS:wd,markInputRule:Ys,markPasteRule:Vo,mergeAttributes:$t,mergeDeep:_d,minMax:so,nodeInputRule:z_,nodePasteRule:rG,objectIncludes:Kf,pasteRulesPlugin:u4,posToDOMRect:R_,removeDuplicates:g4,resolveFocusPosition:A_,selectionToInsertionEnd:f4,splitExtensions:bd,textInputRule:tG,textPasteRule:iG,textblockTypeInputRule:fm,wrappingInputRule:zu},Symbol.toStringTag,{value:"Module"})),aG=[{name:"bold",svg:"bold",title:Craft.t("vizy","Bold"),action:e=>e.chain().focus().toggleBold().run(),isActive:e=>e.isActive("bold")},{name:"italic",svg:"italic",title:Craft.t("vizy","Italic"),action:e=>e.chain().focus().toggleItalic().run(),isActive:e=>e.isActive("italic")},{name:"strikethrough",svg:"strikethrough",title:Craft.t("vizy","Strike"),action:e=>e.chain().focus().toggleStrike().run(),isActive:e=>e.isActive("strike")},{name:"subscript",svg:"subscript",title:Craft.t("vizy","Subscript"),action:e=>e.chain().focus().toggleSubscript().run(),isActive:e=>e.isActive("subscript")},{name:"superscript",svg:"superscript",title:Craft.t("vizy","Superscript"),action:e=>e.chain().focus().toggleSuperscript().run(),isActive:e=>e.isActive("superscript")},{name:"underline",svg:"underline",title:Craft.t("vizy","Underline"),action:e=>e.chain().focus().toggleUnderline().run(),isActive:e=>e.isActive("underline")},{name:"code",svg:"brackets-curly",title:Craft.t("vizy","Inline Code"),action:e=>e.chain().focus().toggleCode().run(),isActive:e=>e.isActive("code")},{name:"highlight",icon:"highlighter",title:Craft.t("vizy","Highlight"),action:e=>e.chain().focus().toggleHighlight().run(),isActive:e=>e.isActive("highlight")},{name:"paragraph",svg:"text",title:Craft.t("vizy","Paragraph"),action:e=>e.chain().focus().setParagraph().run(),isActive:e=>e.isActive("paragraph")},{name:"unordered-list",svg:"list-ul",title:Craft.t("vizy","Bullet List"),action:e=>e.chain().focus().toggleBulletList().run(),isActive:e=>e.isActive("bulletList")},{name:"ordered-list",svg:"list-ol",title:Craft.t("vizy","Ordered List"),action:e=>e.chain().focus().toggleOrderedList().run(),isActive:e=>e.isActive("orderedList")},{name:"code-block",svg:"code",title:Craft.t("vizy","Code Block"),action:e=>e.chain().focus().toggleCodeBlock().run(),isActive:e=>e.isActive("codeBlock")},{name:"blockquote",svg:"quote-right",title:Craft.t("vizy","Blockquote"),action:e=>e.chain().focus().toggleBlockquote().run(),isActive:e=>e.isActive("blockquote")},{name:"h1",svg:"h1",title:Craft.t("vizy","Heading 1"),action:e=>e.chain().focus().toggleHeading({level:1}).run(),isActive:e=>e.isActive("heading",{level:1})},{name:"h2",svg:"h2",title:Craft.t("vizy","Heading 2"),action:e=>e.chain().focus().toggleHeading({level:2}).run(),isActive:e=>e.isActive("heading",{level:2})},{name:"h3",svg:"h3",title:Craft.t("vizy","Heading 3"),action:e=>e.chain().focus().toggleHeading({level:3}).run(),isActive:e=>e.isActive("heading",{level:3})},{name:"h4",svg:"h4",title:Craft.t("vizy","Heading 4"),action:e=>e.chain().focus().toggleHeading({level:4}).run(),isActive:e=>e.isActive("heading",{level:4})},{name:"h5",svg:"h5",title:Craft.t("vizy","Heading 5"),action:e=>e.chain().focus().toggleHeading({level:5}).run(),isActive:e=>e.isActive("heading",{level:5})},{name:"h6",svg:"h6",title:Craft.t("vizy","Heading 6"),action:e=>e.chain().focus().toggleHeading({level:6}).run(),isActive:e=>e.isActive("heading",{level:6})},{name:"hr",svg:"horizontal-rule",title:Craft.t("vizy","Horizontal Rule"),action:e=>e.chain().focus().setHorizontalRule().run(),isActive:e=>e.isActive("hr")},{name:"line-break",svg:"page-break",title:Craft.t("vizy","Line Break"),action:e=>e.chain().focus().setHardBreak().run()},{name:"clear-format",svg:"remove-format",title:Craft.t("vizy","Clear Format"),action:e=>e.chain().focus().clearNodes().unsetAllMarks().run()},{name:"undo",svg:"undo",title:Craft.t("vizy","Undo"),action:e=>e.chain().focus().undo().run()},{name:"redo",svg:"redo",title:Craft.t("vizy","Redo"),action:e=>e.chain().focus().redo().run()},{name:"align-left",icon:"align-left",title:Craft.t("vizy","Align Left"),action:e=>e.chain().focus().setTextAlign("left").run(),isActive:e=>e.isActive({textAlign:"left"})},{name:"align-center",icon:"align-center",title:Craft.t("vizy","Align Center"),action:e=>e.chain().focus().setTextAlign("center").run(),isActive:e=>e.isActive({textAlign:"center"})},{name:"align-right",icon:"align-right",title:Craft.t("vizy","Align Right"),action:e=>e.chain().focus().setTextAlign("right").run(),isActive:e=>e.isActive({textAlign:"right"})},{name:"align-justify",icon:"align-justify",title:Craft.t("vizy","Align Justify"),action:e=>e.chain().focus().setTextAlign("justify").run(),isActive:e=>e.isActive({textAlign:"justify"})},{name:"formatting",icon:"paragraph",title:Craft.t("vizy","Formatting"),options:[{name:"paragraph",title:Craft.t("vizy","Paragraph"),action:e=>e.chain().focus().setParagraph().run(),isActive:e=>e.isActive("paragraph")},{name:"code-block",title:Craft.t("vizy","Code Block"),action:e=>e.chain().focus().toggleCodeBlock().run(),isActive:e=>e.isActive("codeBlock")},{name:"blockquote",title:Craft.t("vizy","Blockquote"),action:e=>e.chain().focus().toggleBlockquote().run(),isActive:e=>e.isActive("blockquote")},{name:"h1",title:Craft.t("vizy","Heading 1"),action:e=>e.chain().focus().toggleHeading({level:1}).run(),isActive:e=>e.isActive("heading",{level:1})},{name:"h2",title:Craft.t("vizy","Heading 2"),action:e=>e.chain().focus().toggleHeading({level:2}).run(),isActive:e=>e.isActive("heading",{level:2})},{name:"h3",title:Craft.t("vizy","Heading 3"),action:e=>e.chain().focus().toggleHeading({level:3}).run(),isActive:e=>e.isActive("heading",{level:3})},{name:"h4",title:Craft.t("vizy","Heading 4"),action:e=>e.chain().focus().toggleHeading({level:4}).run(),isActive:e=>e.isActive("heading",{level:4})},{name:"h5",title:Craft.t("vizy","Heading 5"),action:e=>e.chain().focus().toggleHeading({level:5}).run(),isActive:e=>e.isActive("heading",{level:5})},{name:"h6",title:Craft.t("vizy","Heading 6"),action:e=>e.chain().focus().toggleHeading({level:6}).run(),isActive:e=>e.isActive("heading",{level:6})}]},{name:"table",svg:"table",title:Craft.t("vizy","Table"),isActive:e=>e.isActive("table"),options:[{name:"insert-table",title:Craft.t("vizy","Insert Table"),action:e=>e.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},{name:"delete-table",title:Craft.t("vizy","Delete Table"),action:e=>e.chain().focus().deleteTable().run()},{name:"add-col-before",title:Craft.t("vizy","Add Column Before"),action:e=>e.chain().focus().addColumnBefore().run()},{name:"add-col-after",title:Craft.t("vizy","Add Column After"),action:e=>e.chain().focus().addColumnAfter().run()},{name:"delete-col",title:Craft.t("vizy","Delete Column"),action:e=>e.chain().focus().deleteColumn().run()},{name:"add-row-before",title:Craft.t("vizy","Add Row Before"),action:e=>e.chain().focus().addRowBefore().run()},{name:"add-row-after",title:Craft.t("vizy","Add Row After"),action:e=>e.chain().focus().addRowAfter().run()},{name:"delete-row",title:Craft.t("vizy","Delete Row"),action:e=>e.chain().focus().deleteRow().run()},{name:"merge-cells",title:Craft.t("vizy","Merge Cells"),action:e=>e.chain().focus().mergeCells().run()},{name:"split-cells",title:Craft.t("vizy","Split Cells"),action:e=>e.chain().focus().splitCell().run()},{name:"toggle-header-column",title:Craft.t("vizy","Toggle Header Column"),action:e=>e.chain().focus().toggleHeaderColumn().run()},{name:"toggle-header-row",title:Craft.t("vizy","Toggle Header Row"),action:e=>e.chain().focus().toggleHeaderRow().run()},{name:"toggle-header-cell",title:Craft.t("vizy","Toggle Header Cell"),action:e=>e.chain().focus().toggleHeaderCell().run()}]},{name:"link",svg:"link",title:Craft.t("vizy","Link"),component:"LinkMenuBarItem",isActive:e=>e.isActive("link")},{name:"image",icon:"image",title:Craft.t("vizy","Image"),component:"ImageMenuBarItem",isActive:e=>e.isActive("image")},{name:"html",svg:"file-code",title:Craft.t("vizy","HTML"),action:e=>e.emit("vui:code-editor-toggle")},{name:"iframe",svg:"rectangle-code",title:Craft.t("vizy","iFrame"),component:"IframeMenuBarItem",isActive:e=>e.isActive("iframe")},{name:"media-embed",svg:"photo-film",title:Craft.t("vizy","Media Embed"),component:"MediaEmbedMenuBarItem",isActive:e=>e.isActive("mediaEmbed")}],lG=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,uG=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,cG=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,fG=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,dG=er.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ys({find:lG,type:this.type}),Ys({find:cG,type:this.type})]},addPasteRules(){return[Vo({find:uG,type:this.type}),Vo({find:fG,type:this.type})]}}),hG=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,pG=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,mG=er.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ys({find:hG,type:this.type})]},addPasteRules(){return[Vo({find:pG,type:this.type})]}}),gG=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,vG=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,yG=er.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Ys({find:gG,type:this.type})]},addPasteRules(){return[Vo({find:vG,type:this.type})]}}),bG=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,_G=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,wG=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,kG=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,xG=er.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ys({find:bG,type:this.type}),Ys({find:wG,type:this.type})]},addPasteRules(){return[Vo({find:_G,type:this.type}),Vo({find:kG,type:this.type})]}}),SG=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,CG=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,TG=er.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ys({find:SG,type:this.type})]},addPasteRules(){return[Vo({find:CG,type:this.type})]}}),EG=er.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),AG=er.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),OG=er.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),MG=/^\s*>\s$/,LG=_n.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[zu({find:MG,type:this.type})]}}),NG=_n.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",$t(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),NC=er.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=Xu(e,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:t.unsetMark(this.name)}}}}),PC=/^\s*([-+*])\s$/,PG=_n.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(NG.name,this.editor.getAttributes(NC.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=zu({find:PC,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=zu({find:PC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(NC.name),editor:this.editor})),[e]}}),IG=/^```([a-z]+)?[\s\n]$/,DG=/^~~~([a-z]+)?[\s\n]$/,RG=_n.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,o=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",$t(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:e.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0||r.nodeAt(l)?!1:e.commands.exitCode()}}},addInputRules(){return[fm({find:IG,type:this.type,getAttributes:e=>({language:e[1]})}),fm({find:DG,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Yt({key:new dn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=e.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(ut.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),zG=_n.create({name:"doc",topNode:!0,content:"block+"}),BG=_n.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",$t(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=r.extensionManager,u=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:f,dispatch:d})=>{if(d&&u&&s){const m=u.filter(v=>l.includes(v.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),$G=_n.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,$t(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>fm({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),HG=_n.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",$t(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command(({tr:t,dispatch:n})=>{var r;if(n){const{$to:i}=t.selection,o=i.end();if(i.nodeAfter)t.setSelection(ut.create(t.doc,i.pos));else{const s=(r=i.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();s&&(t.insert(o,s),t.setSelection(ut.create(t.doc,o)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[z_({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),FG=_n.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",$t(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),VG=_n.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",$t(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),IC=er.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=Xu(e,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:t.unsetMark(this.name)}}}}),DC=/^(\d+)\.\s$/,jG=_n.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",$t(this.options.HTMLAttributes,n),0]:["ol",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(VG.name,this.editor.getAttributes(IC.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=zu({find:DC,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=zu({find:DC,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(IC.name)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),WG=_n.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}});var vb,yb;if(typeof WeakMap<"u"){let e=new WeakMap;vb=t=>e.get(t),yb=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;vb=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},yb=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var vn=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let o=r+1,s=i+1;for(let l=1;o<this.width&&this.map[t+l]==n;l++)o++;for(let l=1;s<this.height&&this.map[t+this.width*l]==n;l++)s++;return{left:r,top:i,right:o,bottom:s}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:o,bottom:s}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:s==this.height)?null:this.map[r+this.width*(n<0?o-1:s)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:o}=this.findCell(e),{left:s,right:l,top:u,bottom:f}=this.findCell(t);return{left:Math.min(n,s),top:Math.min(i,u),right:Math.max(r,l),bottom:Math.max(o,f)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const o=r*this.width+i,s=this.map[o];n[s]||(n[s]=!0,!(i==e.left&&i&&this.map[o-1]==s||r==e.top&&r&&this.map[o-this.width]==s)&&t.push(s))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==e){let s=t+e*this.width;const l=(e+1)*this.width;for(;s<l&&this.map[s]<i;)s++;return s==l?o-1:this.map[s]}i=o}}static get(e){return vb(e)||yb(e,UG(e))}};function UG(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=KG(e),n=e.childCount,r=[];let i=0,o=null;const s=[];for(let f=0,d=t*n;f<d;f++)r[f]=0;for(let f=0,d=0;f<n;f++){const m=e.child(f);d++;for(let _=0;;_++){for(;i<r.length&&r[i]!=0;)i++;if(_==m.childCount)break;const T=m.child(_),{colspan:C,rowspan:w,colwidth:S}=T.attrs;for(let P=0;P<w;P++){if(P+f>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:d,n:w-P});break}const A=i+P*t;for(let U=0;U<C;U++){r[A+U]==0?r[A+U]=d:(o||(o=[])).push({type:"collision",row:f,pos:d,n:C-U});const z=S&&S[U];if(z){const j=(A+U)%t*2,L=s[j];L==null||L!=z&&s[j+1]==1?(s[j]=z,s[j+1]=1):L==z&&s[j+1]++}}}i+=C,d+=T.nodeSize}const v=(f+1)*t;let y=0;for(;i<v;)r[i++]==0&&y++;y&&(o||(o=[])).push({type:"missing",row:f,n:y}),d++}const l=new vn(t,n,r,o);let u=!1;for(let f=0;!u&&f<s.length;f+=2)s[f]!=null&&s[f+1]<n&&(u=!0);return u&&qG(l,s,e),l}function KG(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let o=0;if(n)for(let s=0;s<r;s++){const l=e.child(s);for(let u=0;u<l.childCount;u++){const f=l.child(u);s+f.attrs.rowspan>r&&(o+=f.attrs.colspan)}}for(let s=0;s<i.childCount;s++){const l=i.child(s);o+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function qG(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const o=e.map[i];if(r[o])continue;r[o]=!0;const s=n.nodeAt(o);if(!s)throw new RangeError(`No cell with offset ${o} found`);let l=null;const u=s.attrs;for(let f=0;f<u.colspan;f++){const d=(i+f)%e.width,m=t[d*2];m!=null&&(!u.colwidth||u.colwidth[f]!=m)&&((l||(l=GG(u)))[f]=m)}l&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:l})}}function GG(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function fr(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}var Os=new dn("selectingCells");function Zu(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function JG(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function Fi(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function Rg(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=Zu(t.$head)||YG(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function YG(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function bb(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function XG(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function B_(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function T4(e,t,n){const r=e.node(-1),i=vn.get(r),o=e.start(-1),s=i.nextCell(e.pos-o,t,n);return s==null?null:e.node(0).resolve(o+s)}function al(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function E4(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function ZG(e,t,n){const r=fr(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var Lt=class extends ht{constructor(e,t=e){const n=e.node(-1),r=vn.get(n),i=e.start(-1),o=r.rectBetween(e.pos-i,t.pos-i),s=e.node(0),l=r.cellsInRect(o).filter(f=>f!=t.pos-i);l.unshift(t.pos-i);const u=l.map(f=>{const d=n.nodeAt(f);if(!d)throw RangeError(`No cell with offset ${f} found`);const m=i+f+1;return new b6(s.resolve(m),s.resolve(m+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=t}map(e,t){const n=e.resolve(t.map(this.$anchorCell.pos)),r=e.resolve(t.map(this.$headCell.pos));if(bb(n)&&bb(r)&&B_(n,r)){const i=this.$anchorCell.node(-1)!=n.node(-1);return i&&this.isRowSelection()?Lt.rowSelection(n,r):i&&this.isColSelection()?Lt.colSelection(n,r):new Lt(n,r)}return ut.between(n,r)}content(){const e=this.$anchorCell.node(-1),t=vn.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},o=[];for(let l=r.top;l<r.bottom;l++){const u=[];for(let f=l*t.width+r.left,d=r.left;d<r.right;d++,f++){const m=t.map[f];if(i[m])continue;i[m]=!0;const v=t.findCell(m);let y=e.nodeAt(m);if(!y)throw RangeError(`No cell with offset ${m} found`);const _=r.left-v.left,T=v.right-r.right;if(_>0||T>0){let C=y.attrs;if(_>0&&(C=al(C,0,_)),T>0&&(C=al(C,C.colspan-T,T)),v.left<r.left){if(y=y.type.createAndFill(C),!y)throw RangeError(`Could not create cell with attrs ${JSON.stringify(C)}`)}else y=y.type.create(C,y.content)}if(v.top<r.top||v.bottom>r.bottom){const C={...y.attrs,rowspan:Math.min(v.bottom,r.bottom)-Math.max(v.top,r.top)};v.top<r.top?y=y.type.createAndFill(C):y=y.type.create(C,y.content)}u.push(y)}o.push(e.child(l).copy(Me.from(u)))}const s=this.isColSelection()&&this.isRowSelection()?e:o;return new Fe(Me.from(s),1,1)}replace(e,t=Fe.empty){const n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){const{$from:s,$to:l}=r[o],u=e.mapping.slice(n);e.replace(u.map(s.pos),u.map(l.pos),o?Fe.empty:t)}const i=ht.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,t){this.replace(e,new Fe(Me.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),n=vn.get(t),r=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let o=0;o<i.length;o++)e(t.nodeAt(i[o]),r+i[o])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(e,t=e){const n=e.node(-1),r=vn.get(n),i=e.start(-1),o=r.findCell(e.pos-i),s=r.findCell(t.pos-i),l=e.node(0);return o.top<=s.top?(o.top>0&&(e=l.resolve(i+r.map[o.left])),s.bottom<r.height&&(t=l.resolve(i+r.map[r.width*(r.height-1)+s.right-1]))):(s.top>0&&(t=l.resolve(i+r.map[s.left])),o.bottom<r.height&&(e=l.resolve(i+r.map[r.width*(r.height-1)+o.right-1]))),new Lt(e,t)}isRowSelection(){const e=this.$anchorCell.node(-1),t=vn.get(e),n=this.$anchorCell.start(-1),r=t.colCount(this.$anchorCell.pos-n),i=t.colCount(this.$headCell.pos-n);if(Math.min(r,i)>0)return!1;const o=r+this.$anchorCell.nodeAfter.attrs.colspan,s=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,s)==t.width}eq(e){return e instanceof Lt&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,t=e){const n=e.node(-1),r=vn.get(n),i=e.start(-1),o=r.findCell(e.pos-i),s=r.findCell(t.pos-i),l=e.node(0);return o.left<=s.left?(o.left>0&&(e=l.resolve(i+r.map[o.top*r.width])),s.right<r.width&&(t=l.resolve(i+r.map[r.width*(s.top+1)-1]))):(s.left>0&&(t=l.resolve(i+r.map[s.top*r.width])),o.right<r.width&&(e=l.resolve(i+r.map[r.width*(o.top+1)-1]))),new Lt(e,t)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new Lt(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){return new Lt(e.resolve(t),e.resolve(n))}getBookmark(){return new A4(this.$anchorCell.pos,this.$headCell.pos)}};Lt.prototype.visible=!1;ht.jsonID("cell",Lt);var A4=class{constructor(e,t){this.anchor=e,this.head=t}map(e){return new A4(e.map(this.anchor),e.map(this.head))}resolve(e){const t=e.resolve(this.anchor),n=e.resolve(this.head);return t.parent.type.spec.tableRole=="row"&&n.parent.type.spec.tableRole=="row"&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&B_(t,n)?new Lt(t,n):ht.near(n,1)}};function QG(e){if(!(e.selection instanceof Lt))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(ar.node(r,r+n.nodeSize,{class:"selectedCell"}))}),tn.create(e.doc,t)}function eJ({$from:e,$to:t}){if(e.pos==t.pos||e.pos<e.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function tJ({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&t.parentOffset===0}function nJ(e,t,n){const r=(t||e).selection,i=(t||e).doc;let o,s;if(r instanceof ot&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")o=Lt.create(i,r.from);else if(s=="row"){const l=i.resolve(r.from+1);o=Lt.rowSelection(l,l)}else if(!n){const l=vn.get(r.node),u=r.from+1,f=u+l.map[l.width*l.height-1];o=Lt.create(i,u+1,f)}}else r instanceof ut&&eJ(r)?o=ut.create(i,r.from):r instanceof ut&&tJ(r)&&(o=ut.create(i,r.$from.start(),r.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}var rJ=new dn("fix-tables");function O4(e,t,n,r){const i=e.childCount,o=t.childCount;e:for(let s=0,l=0;s<o;s++){const u=t.child(s);for(let f=l,d=Math.min(i,s+3);f<d;f++)if(e.child(f)==u){l=f+1,n+=u.nodeSize;continue e}r(u,n),l<i&&e.child(l).sameMarkup(u)?O4(e.child(l),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function M4(e,t){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=iJ(e,i,o,n))};return t?t.doc!=e.doc&&O4(t.doc,e.doc,0,r):e.doc.descendants(r),n}function iJ(e,t,n,r){const i=vn.get(t);if(!i.problems)return r;r||(r=e.tr);const o=[];for(let u=0;u<i.height;u++)o.push(0);for(let u=0;u<i.problems.length;u++){const f=i.problems[u];if(f.type=="collision"){const d=t.nodeAt(f.pos);if(!d)continue;const m=d.attrs;for(let v=0;v<m.rowspan;v++)o[f.row+v]+=f.n;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,al(m,m.colspan-f.n,f.n))}else if(f.type=="missing")o[f.row]+=f.n;else if(f.type=="overlong_rowspan"){const d=t.nodeAt(f.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...d.attrs,rowspan:d.attrs.rowspan-f.n})}else if(f.type=="colwidth mismatch"){const d=t.nodeAt(f.pos);if(!d)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...d.attrs,colwidth:f.colwidth})}}let s,l;for(let u=0;u<o.length;u++)o[u]&&(s==null&&(s=u),l=u);for(let u=0,f=n+1;u<i.height;u++){const d=t.child(u),m=f+d.nodeSize,v=o[u];if(v>0){let y="cell";d.firstChild&&(y=d.firstChild.type.spec.tableRole);const _=[];for(let C=0;C<v;C++){const w=fr(e.schema)[y].createAndFill();w&&_.push(w)}const T=(u==0||s==u-1)&&l==u?f+1:m-1;r.insert(r.mapping.map(T),_)}f=m}return r.setMeta(rJ,{fixTables:!0})}function oJ(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),o=i.type.spec.tableRole,s=i.type.schema,l=[];if(o=="row")for(let u=0;u<t.childCount;u++){let f=t.child(u).content;const d=u?0:Math.max(0,n-1),m=u<t.childCount-1?0:Math.max(0,r-1);(d||m)&&(f=_b(fr(s).row,new Fe(f,d,m)).content),l.push(f)}else if(o=="cell"||o=="header_cell")l.push(n||r?_b(fr(s).row,new Fe(t,n,r)).content:t);else return null;return sJ(s,l)}function sJ(e,t){const n=[];for(let i=0;i<t.length;i++){const o=t[i];for(let s=o.childCount-1;s>=0;s--){const{rowspan:l,colspan:u}=o.child(s).attrs;for(let f=i;f<i+l;f++)n[f]=(n[f]||0)+u}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(Me.empty),n[i]<r){const o=fr(e).cell.createAndFill(),s=[];for(let l=n[i];l<r;l++)s.push(o);t[i]=t[i].append(Me.from(s))}return{height:t.length,width:r,rows:t}}function _b(e,t){const n=e.createAndFill();return new d_(n).replace(0,n.content.size,t).doc}function aJ({width:e,height:t,rows:n},r,i){if(e!=r){const o=[],s=[];for(let l=0;l<n.length;l++){const u=n[l],f=[];for(let d=o[l]||0,m=0;d<r;m++){let v=u.child(m%u.childCount);d+v.attrs.colspan>r&&(v=v.type.createChecked(al(v.attrs,v.attrs.colspan,d+v.attrs.colspan-r),v.content)),f.push(v),d+=v.attrs.colspan;for(let y=1;y<v.attrs.rowspan;y++)o[l+y]=(o[l+y]||0)+v.attrs.colspan}s.push(Me.from(f))}n=s,e=r}if(t!=i){const o=[];for(let s=0,l=0;s<i;s++,l++){const u=[],f=n[l%t];for(let d=0;d<f.childCount;d++){let m=f.child(d);s+m.attrs.rowspan>i&&(m=m.type.create({...m.attrs,rowspan:Math.max(1,i-m.attrs.rowspan)},m.content)),u.push(m)}o.push(Me.from(u))}n=o,t=i}return{width:e,height:t,rows:n}}function lJ(e,t,n,r,i,o,s){const l=e.doc.type.schema,u=fr(l);let f,d;if(i>t.width)for(let m=0,v=0;m<t.height;m++){const y=n.child(m);v+=y.nodeSize;const _=[];let T;y.lastChild==null||y.lastChild.type==u.cell?T=f||(f=u.cell.createAndFill()):T=d||(d=u.header_cell.createAndFill());for(let C=t.width;C<i;C++)_.push(T);e.insert(e.mapping.slice(s).map(v-1+r),_)}if(o>t.height){const m=[];for(let _=0,T=(t.height-1)*t.width;_<Math.max(t.width,i);_++){const C=_>=t.width?!1:n.nodeAt(t.map[T+_]).type==u.header_cell;m.push(C?d||(d=u.header_cell.createAndFill()):f||(f=u.cell.createAndFill()))}const v=u.row.create(null,Me.from(m)),y=[];for(let _=t.height;_<o;_++)y.push(v);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),y)}return!!(f||d)}function RC(e,t,n,r,i,o,s,l){if(s==0||s==t.height)return!1;let u=!1;for(let f=i;f<o;f++){const d=s*t.width+f,m=t.map[d];if(t.map[d-t.width]==m){u=!0;const v=n.nodeAt(m),{top:y,left:_}=t.findCell(m);e.setNodeMarkup(e.mapping.slice(l).map(m+r),null,{...v.attrs,rowspan:s-y}),e.insert(e.mapping.slice(l).map(t.positionAt(s,_,n)),v.type.createAndFill({...v.attrs,rowspan:y+v.attrs.rowspan-s})),f+=v.attrs.colspan-1}}return u}function zC(e,t,n,r,i,o,s,l){if(s==0||s==t.width)return!1;let u=!1;for(let f=i;f<o;f++){const d=f*t.width+s,m=t.map[d];if(t.map[d-1]==m){u=!0;const v=n.nodeAt(m),y=t.colCount(m),_=e.mapping.slice(l).map(m+r);e.setNodeMarkup(_,null,al(v.attrs,s-y,v.attrs.colspan-(s-y))),e.insert(_+v.nodeSize,v.type.createAndFill(al(v.attrs,0,s-y))),f+=v.attrs.rowspan-1}}return u}function BC(e,t,n,r,i){let o=n?e.doc.nodeAt(n-1):e.doc;if(!o)throw new Error("No table found");let s=vn.get(o);const{top:l,left:u}=r,f=u+i.width,d=l+i.height,m=e.tr;let v=0;function y(){if(o=n?m.doc.nodeAt(n-1):m.doc,!o)throw new Error("No table found");s=vn.get(o),v=m.mapping.maps.length}lJ(m,s,o,n,f,d,v)&&y(),RC(m,s,o,n,u,f,l,v)&&y(),RC(m,s,o,n,u,f,d,v)&&y(),zC(m,s,o,n,l,d,u,v)&&y(),zC(m,s,o,n,l,d,f,v)&&y();for(let _=l;_<d;_++){const T=s.positionAt(_,u,o),C=s.positionAt(_,f,o);m.replace(m.mapping.slice(v).map(T+n),m.mapping.slice(v).map(C+n),new Fe(i.rows[_-l],0,0))}y(),m.setSelection(new Lt(m.doc.resolve(n+s.positionAt(l,u,o)),m.doc.resolve(n+s.positionAt(d-1,f-1,o)))),t(m)}var uJ=x_({ArrowLeft:Ph("horiz",-1),ArrowRight:Ph("horiz",1),ArrowUp:Ph("vert",-1),ArrowDown:Ph("vert",1),"Shift-ArrowLeft":Ih("horiz",-1),"Shift-ArrowRight":Ih("horiz",1),"Shift-ArrowUp":Ih("vert",-1),"Shift-ArrowDown":Ih("vert",1),Backspace:Dh,"Mod-Backspace":Dh,Delete:Dh,"Mod-Delete":Dh});function dp(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Ph(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof Lt)return dp(n,r,ht.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;const s=L4(i,e,t);if(s==null)return!1;if(e=="horiz")return dp(n,r,ht.near(n.doc.resolve(o.head+t),t));{const l=n.doc.resolve(s),u=T4(l,e,t);let f;return u?f=ht.near(u,1):t<0?f=ht.near(n.doc.resolve(l.before(-1)),-1):f=ht.near(n.doc.resolve(l.after(-1)),1),dp(n,r,f)}}}function Ih(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let s;if(o instanceof Lt)s=o;else{const u=L4(i,e,t);if(u==null)return!1;s=new Lt(n.doc.resolve(u))}const l=T4(s.$headCell,e,t);return l?dp(n,r,new Lt(s.$anchorCell,l)):!1}}function Dh(e,t){const n=e.selection;if(!(n instanceof Lt))return!1;if(t){const r=e.tr,i=fr(e.schema).cell.createAndFill().content;n.forEachCell((o,s)=>{o.content.eq(i)||r.replace(r.mapping.map(s+1),r.mapping.map(s+o.nodeSize-1),new Fe(i,0,0))}),r.docChanged&&t(r)}return!0}function cJ(e,t){const n=e.state.doc,r=Zu(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new Lt(r))),!0):!1}function fJ(e,t,n){if(!Fi(e.state))return!1;let r=oJ(n);const i=e.state.selection;if(i instanceof Lt){r||(r={width:1,height:1,rows:[Me.from(_b(fr(e.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),l=vn.get(o).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=aJ(r,l.right-l.left,l.bottom-l.top),BC(e.state,e.dispatch,s,l,r),!0}else if(r){const o=Rg(e.state),s=o.start(-1);return BC(e.state,e.dispatch,s,vn.get(o.node(-1)).findCell(o.pos-s),r),!0}else return!1}function dJ(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=$C(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof Lt)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=Zu(e.state.selection.$anchor))!=null&&((n=Ay(e,t))==null?void 0:n.pos)!=i.pos)o(i,t),t.preventDefault();else if(!r)return;function o(u,f){let d=Ay(e,f);const m=Os.getState(e.state)==null;if(!d||!B_(u,d))if(m)d=u;else return;const v=new Lt(u,d);if(m||!e.state.selection.eq(v)){const y=e.state.tr.setSelection(v);m&&y.setMeta(Os,u.pos),e.dispatch(y)}}function s(){e.root.removeEventListener("mouseup",s),e.root.removeEventListener("dragstart",s),e.root.removeEventListener("mousemove",l),Os.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Os,-1))}function l(u){const f=u,d=Os.getState(e.state);let m;if(d!=null)m=e.state.doc.resolve(d);else if($C(e,f.target)!=r&&(m=Ay(e,t),!m))return s();m&&o(m,f)}e.root.addEventListener("mouseup",s),e.root.addEventListener("dragstart",s),e.root.addEventListener("mousemove",l)}function L4(e,t,n){if(!(e.state.selection instanceof ut))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const l=r.before(i),u=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(u)?l:null}}return null}function $C(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function Ay(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Zu(e.state.doc.resolve(n.pos)):null}var hJ=class{constructor(t,n){this.node=t,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),wb(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,wb(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function wb(e,t,n,r,i,o){var s;let l=0,u=!0,f=t.firstChild;const d=e.firstChild;if(d){for(let m=0,v=0;m<d.childCount;m++){const{colspan:y,colwidth:_}=d.child(m).attrs;for(let T=0;T<y;T++,v++){const C=i==v?o:_&&_[T],w=C?C+"px":"";l+=C||r,C||(u=!1),f?(f.style.width!=w&&(f.style.width=w),f=f.nextSibling):t.appendChild(document.createElement("col")).style.width=w}}for(;f;){const m=f.nextSibling;(s=f.parentNode)==null||s.removeChild(f),f=m}u?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var fi=new dn("tableColumnResizing");function pJ({handleWidth:e=5,cellMinWidth:t=25,View:n=hJ,lastColumnResizable:r=!0}={}){const i=new Yt({key:fi,state:{init(o,s){return i.spec.props.nodeViews[fr(s.schema).table.name]=(l,u)=>new n(l,t,u),new hp(-1,!1)},apply(o,s){return s.apply(o)}},props:{attributes:o=>{const s=fi.getState(o);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,s)=>{mJ(o,s,e,t,r)},mouseleave:o=>{gJ(o)},mousedown:(o,s)=>{vJ(o,s,t)}},decorations:o=>{const s=fi.getState(o);if(s&&s.activeHandle>-1)return xJ(o,s.activeHandle)},nodeViews:{}}});return i}var hp=class{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(e){const t=this,n=e.getMeta(fi);if(n&&n.setHandle!=null)return new hp(n.setHandle,!1);if(n&&n.setDragging!==void 0)return new hp(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){let r=e.mapping.map(t.activeHandle,-1);return bb(e.doc.resolve(r))||(r=-1),new hp(r,t.dragging)}return t}};function mJ(e,t,n,r,i){const o=fi.getState(e.state);if(o&&!o.dragging){const s=bJ(t.target);let l=-1;if(s){const{left:u,right:f}=s.getBoundingClientRect();t.clientX-u<=n?l=HC(e,t,"left"):f-t.clientX<=n&&(l=HC(e,t,"right"))}if(l!=o.activeHandle){if(!i&&l!==-1){const u=e.state.doc.resolve(l),f=u.node(-1),d=vn.get(f),m=u.start(-1);if(d.colCount(u.pos-m)+u.nodeAfter.attrs.colspan-1==d.width-1)return}N4(e,l)}}}function gJ(e){const t=fi.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&N4(e,-1)}function vJ(e,t,n){const r=fi.getState(e.state);if(!r||r.activeHandle==-1||r.dragging)return!1;const i=e.state.doc.nodeAt(r.activeHandle),o=yJ(e,r.activeHandle,i.attrs);e.dispatch(e.state.tr.setMeta(fi,{setDragging:{startX:t.clientX,startWidth:o}}));function s(u){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",l);const f=fi.getState(e.state);f!=null&&f.dragging&&(_J(e,f.activeHandle,FC(f.dragging,u,n)),e.dispatch(e.state.tr.setMeta(fi,{setDragging:null})))}function l(u){if(!u.which)return s(u);const f=fi.getState(e.state);if(f&&f.dragging){const d=FC(f.dragging,u,n);wJ(e,f.activeHandle,d,n)}}return window.addEventListener("mouseup",s),window.addEventListener("mousemove",l),t.preventDefault(),!0}function yJ(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=e.domAtPos(t);let l=o.node.childNodes[o.offset].offsetWidth,u=n;if(r)for(let f=0;f<n;f++)r[f]&&(l-=r[f],u--);return l/u}function bJ(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function HC(e,t,n){const r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;const{pos:i}=r,o=Zu(e.state.doc.resolve(i));if(!o)return-1;if(n=="right")return o.pos;const s=vn.get(o.node(-1)),l=o.start(-1),u=s.map.indexOf(o.pos-l);return u%s.width==0?-1:l+s.map[u-1]}function FC(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function N4(e,t){e.dispatch(e.state.tr.setMeta(fi,{setHandle:t}))}function _J(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),o=vn.get(i),s=r.start(-1),l=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,u=e.state.tr;for(let f=0;f<o.height;f++){const d=f*o.width+l;if(f&&o.map[d]==o.map[d-o.width])continue;const m=o.map[d],v=i.nodeAt(m).attrs,y=v.colspan==1?0:l-o.colCount(m);if(v.colwidth&&v.colwidth[y]==n)continue;const _=v.colwidth?v.colwidth.slice():kJ(v.colspan);_[y]=n,u.setNodeMarkup(s+m,null,{...v,colwidth:_})}u.docChanged&&e.dispatch(u)}function wJ(e,t,n,r){const i=e.state.doc.resolve(t),o=i.node(-1),s=i.start(-1),l=vn.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;let u=e.domAtPos(i.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&wb(o,u.firstChild,u,r,l,n)}function kJ(e){return Array(e).fill(0)}function xJ(e,t){const n=[],r=e.doc.resolve(t),i=r.node(-1);if(!i)return tn.empty;const o=vn.get(i),s=r.start(-1),l=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let u=0;u<o.height;u++){const f=l+u*o.width-1;if((l==o.width||o.map[f]!=o.map[f+1])&&(u==0||o.map[f-1]!=o.map[f-1-o.width])){const d=o.map[f],m=s+d+i.nodeAt(d).nodeSize-1,v=document.createElement("div");v.className="column-resize-handle",n.push(ar.widget(m,v))}}return tn.create(e.doc,n)}function go(e){const t=e.selection,n=Rg(e),r=n.node(-1),i=n.start(-1),o=vn.get(r);return{...t instanceof Lt?o.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function P4(e,{map:t,tableStart:n,table:r},i){let o=i>0?-1:0;ZG(t,r,i+o)&&(o=i==0||i==t.width?null:0);for(let s=0;s<t.height;s++){const l=s*t.width+i;if(i>0&&i<t.width&&t.map[l-1]==t.map[l]){const u=t.map[l],f=r.nodeAt(u);e.setNodeMarkup(e.mapping.map(n+u),null,E4(f.attrs,i-t.colCount(u))),s+=f.attrs.rowspan-1}else{const u=o==null?fr(r.type.schema).cell:r.nodeAt(t.map[l+o]).type,f=t.positionAt(s,i,r);e.insert(e.mapping.map(n+f),u.createAndFill())}}return e}function SJ(e,t){if(!Fi(e))return!1;if(t){const n=go(e);t(P4(e.tr,n,n.left))}return!0}function CJ(e,t){if(!Fi(e))return!1;if(t){const n=go(e);t(P4(e.tr,n,n.right))}return!0}function TJ(e,{map:t,table:n,tableStart:r},i){const o=e.mapping.maps.length;for(let s=0;s<t.height;){const l=s*t.width+i,u=t.map[l],f=n.nodeAt(u),d=f.attrs;if(i>0&&t.map[l-1]==u||i<t.width-1&&t.map[l+1]==u)e.setNodeMarkup(e.mapping.slice(o).map(r+u),null,al(d,i-t.colCount(u)));else{const m=e.mapping.slice(o).map(r+u);e.delete(m,m+f.nodeSize)}s+=d.rowspan}}function EJ(e,t){if(!Fi(e))return!1;if(t){const n=go(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;TJ(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=vn.get(o)}t(r)}return!0}function AJ(e,t,n){var r;const i=fr(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(((r=t.nodeAt(e.map[o+n*e.width]))==null?void 0:r.type)!=i)return!1;return!0}function I4(e,{map:t,tableStart:n,table:r},i){var o;let s=n;for(let f=0;f<i;f++)s+=r.child(f).nodeSize;const l=[];let u=i>0?-1:0;AJ(t,r,i+u)&&(u=i==0||i==t.height?null:0);for(let f=0,d=t.width*i;f<t.width;f++,d++)if(i>0&&i<t.height&&t.map[d]==t.map[d-t.width]){const m=t.map[d],v=r.nodeAt(m).attrs;e.setNodeMarkup(n+m,null,{...v,rowspan:v.rowspan+1}),f+=v.colspan-1}else{const m=u==null?fr(r.type.schema).cell:(o=r.nodeAt(t.map[d+u*t.width]))==null?void 0:o.type,v=m==null?void 0:m.createAndFill();v&&l.push(v)}return e.insert(s,fr(r.type.schema).row.create(null,l)),e}function OJ(e,t){if(!Fi(e))return!1;if(t){const n=go(e);t(I4(e.tr,n,n.top))}return!0}function MJ(e,t){if(!Fi(e))return!1;if(t){const n=go(e);t(I4(e.tr,n,n.bottom))}return!0}function LJ(e,{map:t,table:n,tableStart:r},i){let o=0;for(let u=0;u<i;u++)o+=n.child(u).nodeSize;const s=o+n.child(i).nodeSize,l=e.mapping.maps.length;e.delete(o+r,s+r);for(let u=0,f=i*t.width;u<t.width;u++,f++){const d=t.map[f];if(i>0&&d==t.map[f-t.width]){const m=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(l).map(d+r),null,{...m,rowspan:m.rowspan-1}),u+=m.colspan-1}else if(i<t.width&&d==t.map[f+t.width]){const m=n.nodeAt(d),v=m.attrs,y=m.type.create({...v,rowspan:m.attrs.rowspan-1},m.content),_=t.positionAt(i+1,u,n);e.insert(e.mapping.slice(l).map(r+_),y),u+=v.colspan-1}}}function NJ(e,t){if(!Fi(e))return!1;if(t){const n=go(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;LJ(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=vn.get(n.table)}t(r)}return!0}function VC(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function PJ({width:e,height:t,map:n},r){let i=r.top*e+r.left,o=i,s=(r.bottom-1)*e+r.left,l=i+(r.right-r.left-1);for(let u=r.top;u<r.bottom;u++){if(r.left>0&&n[o]==n[o-1]||r.right<e&&n[l]==n[l+1])return!0;o+=e,l+=e}for(let u=r.left;u<r.right;u++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[s]==n[s+e])return!0;i++,s++}return!1}function jC(e,t){const n=e.selection;if(!(n instanceof Lt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=go(e),{map:i}=r;if(PJ(i,r))return!1;if(t){const o=e.tr,s={};let l=Me.empty,u,f;for(let d=r.top;d<r.bottom;d++)for(let m=r.left;m<r.right;m++){const v=i.map[d*i.width+m],y=r.table.nodeAt(v);if(!(s[v]||!y))if(s[v]=!0,u==null)u=v,f=y;else{VC(y)||(l=l.append(y.content));const _=o.mapping.map(v+r.tableStart);o.delete(_,_+y.nodeSize)}}if(u==null||f==null)return!0;if(o.setNodeMarkup(u+r.tableStart,null,{...E4(f.attrs,f.attrs.colspan,r.right-r.left-f.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const d=u+1+f.content.size,m=VC(f)?u+1:d;o.replaceWith(m+r.tableStart,d+r.tableStart,l)}o.setSelection(new Lt(o.doc.resolve(u+r.tableStart))),t(o)}return!0}function WC(e,t){const n=fr(e.schema);return IJ(({node:r})=>n[r.type.spec.tableRole])(e,t)}function IJ(e){return(t,n)=>{var r;const i=t.selection;let o,s;if(i instanceof Lt){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,s=i.$anchorCell.pos}else{if(o=JG(i.$from),!o)return!1;s=(r=Zu(i.$from))==null?void 0:r.pos}if(o==null||s==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let l=o.attrs;const u=[],f=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const d=go(t),m=t.tr;for(let y=0;y<d.right-d.left;y++)u.push(f?{...l,colwidth:f&&f[y]?[f[y]]:null}:l);let v;for(let y=d.top;y<d.bottom;y++){let _=d.map.positionAt(y,d.left,d.table);y==d.top&&(_+=o.nodeSize);for(let T=d.left,C=0;T<d.right;T++,C++)T==d.left&&y==d.top||m.insert(v=m.mapping.map(_+d.tableStart,1),e({node:o,row:y,col:T}).createAndFill(u[C]))}m.setNodeMarkup(s,e({node:o,row:d.top,col:d.left}),u[0]),i instanceof Lt&&m.setSelection(new Lt(m.doc.resolve(i.$anchorCell.pos),v?m.doc.resolve(v):void 0)),n(m)}return!0}}function DJ(e,t){return function(n,r){if(!Fi(n))return!1;const i=Rg(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){const o=n.tr;n.selection instanceof Lt?n.selection.forEachCell((s,l)=>{s.attrs[e]!==t&&o.setNodeMarkup(l,null,{...s.attrs,[e]:t})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[e]:t}),r(o)}return!0}}function RJ(e){return function(t,n){if(!Fi(t))return!1;if(n){const r=fr(t.schema),i=go(t),o=t.tr,s=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),l=s.map(u=>i.table.nodeAt(u));for(let u=0;u<s.length;u++)l[u].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[u],r.cell,l[u].attrs);if(o.steps.length==0)for(let u=0;u<s.length;u++)o.setNodeMarkup(i.tableStart+s[u],r.header_cell,l[u].attrs);n(o)}return!0}}function UC(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const o=t.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function Jf(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?RJ(e):function(n,r){if(!Fi(n))return!1;if(r){const i=fr(n.schema),o=go(n),s=n.tr,l=UC("row",o,i),u=UC("column",o,i),d=(e==="column"?l:e==="row"?u:!1)?1:0,m=e=="column"?{left:0,top:d,right:1,bottom:o.map.height}:e=="row"?{left:d,top:0,right:o.map.width,bottom:1}:o,v=e=="column"?u?i.cell:i.header_cell:e=="row"?l?i.cell:i.header_cell:i.cell;o.map.cellsInRect(m).forEach(y=>{const _=y+o.tableStart,T=s.doc.nodeAt(_);T&&s.setNodeMarkup(_,v,T.attrs)}),r(s)}return!0}}Jf("row",{useDeprecatedLogic:!0});Jf("column",{useDeprecatedLogic:!0});var zJ=Jf("cell",{useDeprecatedLogic:!0});function BJ(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){const o=e.node(-1).child(r),s=o.lastChild;if(s)return i-1-s.nodeSize;i-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function KC(e){return function(t,n){if(!Fi(t))return!1;const r=BJ(Rg(t),e);if(r==null)return!1;if(n){const i=t.doc.resolve(r);n(t.tr.setSelection(ut.between(i,XG(i))).scrollIntoView())}return!0}}function $J(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function HJ({allowTableNodeSelection:e=!1}={}){return new Yt({key:Os,state:{init(){return null},apply(t,n){const r=t.getMeta(Os);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:o}=t.mapping.mapResult(n);return i?null:o}},props:{decorations:QG,handleDOMEvents:{mousedown:dJ},createSelectionBetween(t){return Os.getState(t.state)!=null?t.state.selection:null},handleTripleClick:cJ,handleKeyDown:uJ,handlePaste:fJ},appendTransaction(t,n,r){return nJ(r,M4(r,n),e)}})}function qC(e,t,n,r,i,o){let s=0,l=!0,u=t.firstChild;const f=e.firstChild;for(let d=0,m=0;d<f.childCount;d+=1){const{colspan:v,colwidth:y}=f.child(d).attrs;for(let _=0;_<v;_+=1,m+=1){const T=i===m?o:y&&y[_],C=T?`${T}px`:"";s+=T||r,T||(l=!1),u?(u.style.width!==C&&(u.style.width=C),u=u.nextSibling):t.appendChild(document.createElement("col")).style.width=C}}for(;u;){const d=u.nextSibling;u.parentNode.removeChild(u),u=d}l?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class FJ{constructor(t,n){this.node=t,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),qC(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,qC(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type==="attributes"&&(t.target===this.table||this.colgroup.contains(t.target))}}function GC(e,t){return t?e.createChecked(null,t):e.createAndFill()}function VJ(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function jJ(e,t,n,r,i){const o=VJ(e),s=[],l=[];for(let f=0;f<n;f+=1){const d=GC(o.cell,i);if(d&&l.push(d),r){const m=GC(o.header_cell,i);m&&s.push(m)}}const u=[];for(let f=0;f<t;f+=1)u.push(o.row.createChecked(null,r&&f===0?s:l));return o.table.createChecked(null,u)}function WJ(e){return e instanceof Lt}const Rh=({editor:e})=>{const{selection:t}=e.state;if(!WJ(t))return!1;let n=0;const r=L_(t.ranges[0].$from,o=>o.type.name==="table");return r==null||r.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},UJ=_n.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:FJ,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:e}){return["table",$t(this.options.HTMLAttributes,e),["tbody",0]]},addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:o})=>{const s=jJ(o.schema,e,t,n);if(i){const l=r.selection.anchor+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(ut.near(r.doc.resolve(l)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>SJ(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>CJ(e,t),deleteColumn:()=>({state:e,dispatch:t})=>EJ(e,t),addRowBefore:()=>({state:e,dispatch:t})=>OJ(e,t),addRowAfter:()=>({state:e,dispatch:t})=>MJ(e,t),deleteRow:()=>({state:e,dispatch:t})=>NJ(e,t),deleteTable:()=>({state:e,dispatch:t})=>$J(e,t),mergeCells:()=>({state:e,dispatch:t})=>jC(e,t),splitCell:()=>({state:e,dispatch:t})=>WC(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>Jf("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>Jf("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>zJ(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>jC(e,t)?!0:WC(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>DJ(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>KC(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>KC(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&M4(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const r=Lt.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Rh,"Mod-Backspace":Rh,Delete:Rh,"Mod-Delete":Rh}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[pJ({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],HJ({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:wt(Je(e,"tableRole",t))}}}),KJ=_n.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",$t(this.options.HTMLAttributes,e),0]}}),qJ=_n.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",$t(this.options.HTMLAttributes,e),0]}}),GJ=_n.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",$t(this.options.HTMLAttributes,e),0]}}),JJ=_n.create({name:"text",group:"inline"});function YJ(e={}){return new Yt({view(t){return new XJ(t,e)}})}class XJ{constructor(t,n){this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return t.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r;if(n){let l=t.nodeBefore,u=t.nodeAfter;if(l||u){let f=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(f){let d=f.getBoundingClientRect(),m=l?d.bottom:d.top;l&&u&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:d.left,right:d.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let l=i.getBoundingClientRect();o=l.left-i.scrollLeft,s=l.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=p6(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const ZJ=zn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[YJ(this.options)]}});zn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Yt({key:new dn("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,o=[];if(!n||!r)return tn.create(e,[]);let s=0;this.options.mode==="deepest"&&e.descendants((u,f)=>{if(u.isText)return;if(!(i>=f&&i<=f+u.nodeSize-1))return!1;s+=1});let l=0;return e.descendants((u,f)=>{if(u.isText||!(i>=f&&i<=f+u.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&s-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";o.push(ar.node(f,f+u.nodeSize,{class:this.options.className}))}),tn.create(e,o)}}})]}});class fn extends ht{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return fn.valid(r)?new fn(r):ht.near(r)}content(){return Fe.empty}eq(t){return t instanceof fn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new fn(t.resolve(n.pos))}getBookmark(){return new $_(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!QJ(t)||!eY(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&fn.valid(t))return t;let i=t.pos,o=null;for(let s=t.depth;;s--){let l=t.node(s);if(n>0?t.indexAfter(s)<l.childCount:t.index(s)>0){o=l.child(n>0?t.indexAfter(s):t.index(s)-1);break}else if(s==0)return null;i+=n;let u=t.doc.resolve(i);if(fn.valid(u))return u}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!ot.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let l=t.doc.resolve(i);if(fn.valid(l))return l}return null}}}fn.prototype.visible=!1;fn.findFrom=fn.findGapCursorFrom;ht.jsonID("gapcursor",fn);class $_{constructor(t){this.pos=t}map(t){return new $_(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return fn.valid(n)?new fn(n):ht.near(n)}}function QJ(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function eY(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function tY(){return new Yt({props:{decorations:oY,createSelectionBetween(e,t,n){return t.pos==n.pos&&fn.valid(n)?new fn(n):null},handleClick:rY,handleKeyDown:nY,handleDOMEvents:{beforeinput:iY}}})}const nY=x_({ArrowLeft:zh("horiz",-1),ArrowRight:zh("horiz",1),ArrowUp:zh("vert",-1),ArrowDown:zh("vert",1)});function zh(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let s=r.selection,l=t>0?s.$to:s.$from,u=s.empty;if(s instanceof ut){if(!o.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(t>0?l.after():l.before())}let f=fn.findGapCursorFrom(l,t,u);return f?(i&&i(r.tr.setSelection(new fn(f))),!0):!1}}function rY(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!fn.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ot.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new fn(r))),!0)}function iY(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof fn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Me.empty;for(let s=r.length-1;s>=0;s--)i=Me.from(r[s].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new Fe(i,0,0));return o.setSelection(ut.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function oY(e){if(!(e.selection instanceof fn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",tn.create(e.doc,[ar.widget(e.selection.head,t,{key:"gapcursor"})])}const sY=zn.create({name:"gapCursor",addProseMirrorPlugins(){return[tY()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=wt(Je(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}});var dm=200,Qn=function(){};Qn.prototype.append=function(t){return t.length?(t=Qn.from(t),!this.length&&t||t.length<dm&&this.leafAppend(t)||this.length<dm&&t.leafPrepend(this)||this.appendInner(t)):this};Qn.prototype.prepend=function(t){return t.length?Qn.from(t).append(this):this};Qn.prototype.appendInner=function(t){return new aY(this,t)};Qn.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Qn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Qn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Qn.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Qn.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(t(o,s))},n,r),i};Qn.from=function(t){return t instanceof Qn?t:t&&t.length?new D4(t):Qn.empty};var D4=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,s,l){for(var u=o;u<s;u++)if(i(this.values[u],l+u)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,s,l){for(var u=o-1;u>=s;u--)if(i(this.values[u],l+u)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=dm)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=dm)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Qn);Qn.empty=new D4([]);var aY=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Qn),R4=Qn;const lY=500;class Mi{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=t.tr,l,u,f=[],d=[];return this.items.forEach((m,v)=>{if(!m.step){i||(i=this.remapping(r,v+1),o=i.maps.length),o--,d.push(m);return}if(i){d.push(new Yi(m.map));let y=m.step.map(i.slice(o)),_;y&&s.maybeStep(y).doc&&(_=s.mapping.maps[s.mapping.maps.length-1],f.push(new Yi(_,void 0,void 0,f.length+d.length))),o--,_&&i.appendMap(_,o)}else s.maybeStep(m.step);if(m.selection)return l=i?m.selection.map(i.slice(o)):m.selection,u=new Mi(this.items.slice(0,r).append(d.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:s,selection:l}}addTransform(t,n,r,i){let o=[],s=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let d=0;d<t.steps.length;d++){let m=t.steps[d].invert(t.docs[d]),v=new Yi(t.mapping.maps[d],m,n),y;(y=u&&u.merge(v))&&(v=y,d?o.pop():l=l.slice(0,l.length-1)),o.push(v),n&&(s++,n=void 0),i||(u=v)}let f=s-r.depth;return f>cY&&(l=uY(l,f),s-=f),new Mi(l.append(o),s)}remapping(t,n){let r=new pu;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new Mi(this.items.append(t.map(n=>new Yi(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,s=t.steps.length,l=this.eventCount;this.items.forEach(v=>{v.selection&&l--},i);let u=n;this.items.forEach(v=>{let y=o.getMirror(--u);if(y==null)return;s=Math.min(s,y);let _=o.maps[y];if(v.step){let T=t.steps[y].invert(t.docs[y]),C=v.selection&&v.selection.map(o.slice(u+1,y));C&&l++,r.push(new Yi(_,T,C))}else r.push(new Yi(_))},i);let f=[];for(let v=n;v<s;v++)f.push(new Yi(o.maps[v]));let d=this.items.slice(0,i).append(f).append(r),m=new Mi(d,l);return m.emptyItemCount()>lY&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=t)i.push(s),s.selection&&o++;else if(s.step){let u=s.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let d=s.selection&&s.selection.map(n.slice(r));d&&o++;let m=new Yi(f.invert(),u,d),v,y=i.length-1;(v=i.length&&i[y].merge(m))?i[y]=v:i.push(m)}}else s.map&&r--},this.items.length,0),new Mi(R4.from(i.reverse()),o)}}Mi.empty=new Mi(R4.empty,0);function uY(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Yi{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Yi(n.getMap().invert(),n,this.selection)}}}class Ts{constructor(t,n,r,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i}}const cY=20;function fY(e,t,n,r){let i=n.getMeta($s),o;if(i)return i.historyState;n.getMeta(hY)&&(e=new Ts(e.done,e.undone,null,0));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta($s))return s.getMeta($s).redo?new Ts(e.done.addTransform(n,void 0,r,pp(t)),e.undone,JC(n.mapping.maps[n.steps.length-1]),e.prevTime):new Ts(e.done,e.undone.addTransform(n,void 0,r,pp(t)),null,e.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=e.prevTime==0||!s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!dY(n,e.prevRanges)),u=s?Oy(e.prevRanges,n.mapping):JC(n.mapping.maps[n.steps.length-1]);return new Ts(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,pp(t)),Mi.empty,u,n.time)}else return(o=n.getMeta("rebased"))?new Ts(e.done.rebased(n,o),e.undone.rebased(n,o),Oy(e.prevRanges,n.mapping),e.prevTime):new Ts(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Oy(e.prevRanges,n.mapping),e.prevTime)}function dY(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function JC(e){let t=[];return e.forEach((n,r,i,o)=>t.push(i,o)),t}function Oy(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function z4(e,t,n,r){let i=pp(t),o=$s.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,i);if(!s)return;let l=s.selection.resolve(s.transform.doc),u=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,i),f=new Ts(r?u:s.remaining,r?s.remaining:u,null,0);n(s.transform.setSelection(l).setMeta($s,{redo:r,historyState:f}).scrollIntoView())}let My=!1,YC=null;function pp(e){let t=e.plugins;if(YC!=t){My=!1,YC=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){My=!0;break}}return My}const $s=new dn("history"),hY=new dn("closeHistory");function pY(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Yt({key:$s,state:{init(){return new Ts(Mi.empty,Mi.empty,null,0)},apply(t,n,r){return fY(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?B4:r=="historyRedo"?$4:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}const B4=(e,t)=>{let n=$s.getState(e);return!n||n.done.eventCount==0?!1:(t&&z4(n,e,t,!1),!0)},$4=(e,t)=>{let n=$s.getState(e);return!n||n.undone.eventCount==0?!1:(t&&z4(n,e,t,!0),!0)},mY=zn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>B4(e,t),redo:()=>({state:e,dispatch:t})=>$4(e,t)}},addProseMirrorPlugins(){return[pY(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),gY=zn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>e.style.textAlign||this.options.defaultAlignment,renderHTML:e=>e.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${e.textAlign}`}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.every(n=>t.updateAttributes(n,{textAlign:e})):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.every(t=>e.resetAttributes(t,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),vY="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mgensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",yY="121342632165322333335356545565555243543542246363257457433_355524444661154543332344423364211133222221212112_52232222232212222223222241112222224322321222",Bu=(e,t)=>{for(const n in t)e[n]=t[n];return e},kb="numeric",xb="ascii",Sb="alpha",mp="asciinumeric",Bh="alphanumeric",Cb="domain",H4="emoji",bY="scheme",_Y="slashscheme",XC="whitespace";function wY(e,t){return e in t||(t[e]=[]),t[e]}function Ia(e,t,n){t[kb]&&(t[mp]=!0,t[Bh]=!0),t[xb]&&(t[mp]=!0,t[Sb]=!0),t[mp]&&(t[Bh]=!0),t[Sb]&&(t[Bh]=!0),t[Bh]&&(t[Cb]=!0),t[H4]&&(t[Cb]=!0);for(const r in t){const i=wY(r,n);i.indexOf(e)<0&&i.push(e)}}function kY(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function Pr(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}Pr.groups={};Pr.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],o=t.jr[r][1];if(o&&i.test(e))return o}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||Pr.groups;let i;return t&&t.j?i=t:(i=new Pr(t),n&&r&&Ia(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(e[s]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||Pr.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let s,l=i.go(e);if(l?(s=new Pr,Bu(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new Pr,o){if(r)if(s.t&&typeof s.t=="string"){const u=Bu(kY(s.t,r),n);Ia(o,u,r)}else n&&Ia(o,n,r);s.t=o}return i.j[e]=s,s}};const it=(e,t,n,r,i)=>e.ta(t,n,r,i),ai=(e,t,n,r,i)=>e.tr(t,n,r,i),ZC=(e,t,n,r,i)=>e.ts(t,n,r,i),De=(e,t,n,r,i)=>e.tt(t,n,r,i),Eo="WORD",Tb="UWORD",Yf="LOCALHOST",Eb="TLD",Ab="UTLD",gp="SCHEME",Jl="SLASH_SCHEME",hm="NUM",F4="WS",H_="NL",eu="OPENBRACE",df="OPENBRACKET",hf="OPENANGLEBRACKET",pf="OPENPAREN",Aa="CLOSEBRACE",tu="CLOSEBRACKET",nu="CLOSEANGLEBRACKET",Oa="CLOSEPAREN",pm="AMPERSAND",mm="APOSTROPHE",gm="ASTERISK",Es="AT",vm="BACKSLASH",ym="BACKTICK",bm="CARET",Ms="COLON",F_="COMMA",_m="DOLLAR",Xi="DOT",wm="EQUALS",V_="EXCLAMATION",Zi="HYPHEN",km="PERCENT",xm="PIPE",Sm="PLUS",Cm="POUND",Tm="QUERY",j_="QUOTE",W_="SEMI",Mo="SLASH",mf="TILDE",Em="UNDERSCORE",V4="EMOJI",Am="SYM";var j4=Object.freeze({__proto__:null,WORD:Eo,UWORD:Tb,LOCALHOST:Yf,TLD:Eb,UTLD:Ab,SCHEME:gp,SLASH_SCHEME:Jl,NUM:hm,WS:F4,NL:H_,OPENBRACE:eu,OPENBRACKET:df,OPENANGLEBRACKET:hf,OPENPAREN:pf,CLOSEBRACE:Aa,CLOSEBRACKET:tu,CLOSEANGLEBRACKET:nu,CLOSEPAREN:Oa,AMPERSAND:pm,APOSTROPHE:mm,ASTERISK:gm,AT:Es,BACKSLASH:vm,BACKTICK:ym,CARET:bm,COLON:Ms,COMMA:F_,DOLLAR:_m,DOT:Xi,EQUALS:wm,EXCLAMATION:V_,HYPHEN:Zi,PERCENT:km,PIPE:xm,PLUS:Sm,POUND:Cm,QUERY:Tm,QUOTE:j_,SEMI:W_,SLASH:Mo,TILDE:mf,UNDERSCORE:Em,EMOJI:V4,SYM:Am});const jl=/[a-z]/,Ly=/\p{L}/u,Ny=/\p{Emoji}/u,Py=/\d/,QC=/\s/,eT=`
`,xY="",SY="";let $h=null,Hh=null;function CY(e){e===void 0&&(e=[]);const t={};Pr.groups=t;const n=new Pr;$h==null&&($h=tT(vY)),Hh==null&&(Hh=tT(yY)),De(n,"'",mm),De(n,"{",eu),De(n,"[",df),De(n,"<",hf),De(n,"(",pf),De(n,"}",Aa),De(n,"]",tu),De(n,">",nu),De(n,")",Oa),De(n,"&",pm),De(n,"*",gm),De(n,"@",Es),De(n,"`",ym),De(n,"^",bm),De(n,":",Ms),De(n,",",F_),De(n,"$",_m),De(n,".",Xi),De(n,"=",wm),De(n,"!",V_),De(n,"-",Zi),De(n,"%",km),De(n,"|",xm),De(n,"+",Sm),De(n,"#",Cm),De(n,"?",Tm),De(n,'"',j_),De(n,"/",Mo),De(n,";",W_),De(n,"~",mf),De(n,"_",Em),De(n,"\\",vm);const r=ai(n,Py,hm,{[kb]:!0});ai(r,Py,r);const i=ai(n,jl,Eo,{[xb]:!0});ai(i,jl,i);const o=ai(n,Ly,Tb,{[Sb]:!0});ai(o,jl),ai(o,Ly,o);const s=ai(n,QC,F4,{[XC]:!0});De(n,eT,H_,{[XC]:!0}),De(s,eT),ai(s,QC,s);const l=ai(n,Ny,V4,{[H4]:!0});ai(l,Ny,l),De(l,xY,l);const u=De(l,SY);ai(u,Ny,l);const f=[[jl,i]],d=[[jl,null],[Ly,o]];for(let m=0;m<$h.length;m++)bs(n,$h[m],Eb,Eo,f);for(let m=0;m<Hh.length;m++)bs(n,Hh[m],Ab,Tb,d);Ia(Eb,{tld:!0,ascii:!0},t),Ia(Ab,{utld:!0,alpha:!0},t),bs(n,"file",gp,Eo,f),bs(n,"mailto",gp,Eo,f),bs(n,"http",Jl,Eo,f),bs(n,"https",Jl,Eo,f),bs(n,"ftp",Jl,Eo,f),bs(n,"ftps",Jl,Eo,f),Ia(gp,{scheme:!0,ascii:!0},t),Ia(Jl,{slashscheme:!0,ascii:!0},t),e=e.sort((m,v)=>m[0]>v[0]?1:-1);for(let m=0;m<e.length;m++){const v=e[m][0],_=e[m][1]?{[bY]:!0}:{[_Y]:!0};v.indexOf("-")>=0?_[Cb]=!0:jl.test(v)?Py.test(v)?_[mp]=!0:_[xb]=!0:_[kb]=!0,ZC(n,v,v,_)}return ZC(n,"localhost",Yf,{ascii:!0}),n.jd=new Pr(Am),{start:n,tokens:Bu({groups:t},j4)}}function TY(e,t){const n=EY(t.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let l=e,u=null,f=0,d=null,m=-1,v=-1;for(;s<r&&(u=l.go(n[s]));)l=u,l.accepts()?(m=0,v=0,d=l):m>=0&&(m+=n[s].length,v++),f+=n[s].length,o+=n[s].length,s++;o-=m,s-=v,f-=m,i.push({t:d.t,v:t.slice(o-f,o),s:o-f,e:o})}return i}function EY(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}function bs(e,t,n,r,i){let o;const s=t.length;for(let l=0;l<s-1;l++){const u=t[l];e.j[u]?o=e.j[u]:(o=new Pr(r),o.jr=i.slice(),e.j[u]=o),e=o}return o=new Pr(n),o.jr=i.slice(),e.j[t[s-1]]=o,o}function tT(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let o=0;for(;i.indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));let s=parseInt(e.substring(r,r+o),10);for(;s>0;s--)n.pop();r+=o}else e[r]==="_"?(t.push(n.join("")),r++):(n.push(e[r]),r++)}return t}const Xf={defaultProtocol:"http",events:null,format:nT,formatHref:nT,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function U_(e,t){t===void 0&&(t=null);let n=Bu({},Xf);e&&(n=Bu(n,e instanceof U_?e.o:e));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}U_.prototype={o:Xf,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Xf[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function nT(e){return e}function W4(e,t){this.t="token",this.v=e,this.tk=t}W4.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=Xf.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toFormattedHref(e),r=e.get("tagName",n,t),i=this.toFormattedString(e),o={},s=e.get("className",n,t),l=e.get("target",n,t),u=e.get("rel",n,t),f=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return o.href=n,s&&(o.class=s),l&&(o.target=l),u&&(o.rel=u),f&&Bu(o,f),{tagName:r,attributes:o,content:i,eventListeners:d}}};function zg(e,t){class n extends W4{constructor(i,o){super(i,o),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const rT=zg("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),iT=zg("text"),AY=zg("nl"),ba=zg("url",{isLink:!0,toHref(e){return e===void 0&&(e=Xf.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Yf&&e[1].t===Ms}}),Hn=e=>new Pr(e);function OY(e){let{groups:t}=e;const n=t.domain.concat([pm,gm,Es,vm,ym,bm,_m,wm,Zi,hm,km,xm,Sm,Cm,Mo,Am,mf,Em]),r=[mm,nu,Aa,tu,Oa,Ms,F_,Xi,V_,hf,eu,df,pf,Tm,j_,W_],i=[pm,mm,gm,vm,ym,bm,Aa,_m,wm,Zi,hm,eu,km,xm,Sm,Cm,Tm,Mo,Am,mf,Em],o=Hn(),s=De(o,mf);it(s,i,s),it(s,t.domain,s);const l=Hn(),u=Hn(),f=Hn();it(o,t.domain,l),it(o,t.scheme,u),it(o,t.slashscheme,f),it(l,i,s),it(l,t.domain,l);const d=De(l,Es);De(s,Es,d),De(u,Es,d),De(f,Es,d);const m=De(s,Xi);it(m,i,s),it(m,t.domain,s);const v=Hn();it(d,t.domain,v),it(v,t.domain,v);const y=De(v,Xi);it(y,t.domain,v);const _=Hn(rT);it(y,t.tld,_),it(y,t.utld,_),De(d,Yf,_);const T=De(v,Zi);it(T,t.domain,v),it(_,t.domain,v),De(_,Xi,y),De(_,Zi,T);const C=De(_,Ms);it(C,t.numeric,rT);const w=De(l,Zi),S=De(l,Xi);it(w,t.domain,l),it(S,i,s),it(S,t.domain,l);const P=Hn(ba);it(S,t.tld,P),it(S,t.utld,P),it(P,t.domain,l),it(P,i,s),De(P,Xi,S),De(P,Zi,w),De(P,Es,d);const A=De(P,Ms),U=Hn(ba);it(A,t.numeric,U);const z=Hn(ba),j=Hn();it(z,n,z),it(z,r,j),it(j,n,z),it(j,r,j),De(P,Mo,z),De(U,Mo,z);const L=De(u,Ms),B=De(f,Ms),k=De(B,Mo);De(k,Mo,L),it(u,t.domain,l),De(u,Xi,S),De(u,Zi,w),it(f,t.domain,l),De(f,Xi,S),De(f,Zi,w),it(L,t.domain,z),De(L,Mo,z);const D=De(z,eu),K=De(z,df),q=De(z,hf),Q=De(z,pf);De(j,eu,D),De(j,df,K),De(j,hf,q),De(j,pf,Q),De(D,Aa,z),De(K,tu,z),De(q,nu,z),De(Q,Oa,z),De(D,Aa,z);const I=Hn(ba),ce=Hn(ba),de=Hn(ba),xe=Hn(ba);it(D,n,I),it(K,n,ce),it(q,n,de),it(Q,n,xe);const Be=Hn(),rt=Hn(),pt=Hn(),yt=Hn();return it(D,r),it(K,r),it(q,r),it(Q,r),it(I,n,I),it(ce,n,ce),it(de,n,de),it(xe,n,xe),it(I,r,I),it(ce,r,ce),it(de,r,de),it(xe,r,xe),it(Be,n,Be),it(rt,n,ce),it(pt,n,de),it(yt,n,xe),it(Be,r,Be),it(rt,r,rt),it(pt,r,pt),it(yt,r,yt),De(ce,tu,z),De(de,nu,z),De(xe,Oa,z),De(I,Aa,z),De(rt,tu,z),De(pt,nu,z),De(yt,Oa,z),De(Be,Oa,z),De(o,Yf,P),De(o,H_,AY),{start:o,tokens:j4}}function MY(e,t,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let l=e,u=null,f=null,d=0,m=null,v=-1;for(;i<r&&!(u=l.go(n[i].t));)s.push(n[i++]);for(;i<r&&(f=u||l.go(n[i].t));)u=null,l=f,l.accepts()?(v=0,m=l):v>=0&&v++,i++,d++;if(v<0)i-=d,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(Iy(iT,t,s)),s=[]),i-=v,d-=v;const y=m.t,_=n.slice(i-d,i);o.push(Iy(y,t,_))}}return s.length>0&&o.push(Iy(iT,t,s)),o}function Iy(e,t,n){const r=n[0].s,i=n[n.length-1].e,o=t.slice(r,i);return new e(o,n)}const LY=typeof console<"u"&&console&&console.warn||(()=>{}),NY="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",cn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function PY(){Pr.groups={},cn.scanner=null,cn.parser=null,cn.tokenQueue=[],cn.pluginQueue=[],cn.customSchemes=[],cn.initialized=!1}function oT(e,t){if(t===void 0&&(t=!1),cn.initialized&&LY(`linkifyjs: already initialized - will not register custom scheme "${e}" ${NY}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);cn.customSchemes.push([e,t])}function IY(){cn.scanner=CY(cn.customSchemes);for(let e=0;e<cn.tokenQueue.length;e++)cn.tokenQueue[e][1]({scanner:cn.scanner});cn.parser=OY(cn.scanner.tokens);for(let e=0;e<cn.pluginQueue.length;e++)cn.pluginQueue[e][1]({scanner:cn.scanner,parser:cn.parser});cn.initialized=!0}function U4(e){return cn.initialized||IY(),MY(cn.parser.start,e,TY(cn.scanner.start,e))}function K_(e,t,n){if(t===void 0&&(t=null),n===void 0&&(n=null),t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new U_(n),i=U4(e),o=[];for(let s=0;s<i.length;s++){const l=i[s];l.isLink&&(!t||l.t===t)&&o.push(l.toFormattedObject(r))}return o}function sT(e,t){t===void 0&&(t=null);const n=U4(e);return n.length===1&&n[0].isLink&&(!t||n[0].t===t)}function DY(e){return new Yt({key:new dn("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(d=>d.docChanged)&&!n.doc.eq(r.doc),o=t.some(d=>d.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,l=d4(n.doc,[...t]),{mapping:u}=l;if(v4(l).forEach(({oldRange:d,newRange:m})=>{Gf(d.from,d.to,n.doc).filter(T=>T.mark.type===e.type).forEach(T=>{const C=u.map(T.from),w=u.map(T.to),S=Gf(C,w,r.doc).filter(L=>L.mark.type===e.type);if(!S.length)return;const P=S[0],A=n.doc.textBetween(T.from,T.to,void 0," "),U=r.doc.textBetween(P.from,P.to,void 0," "),z=sT(A),j=sT(U);z&&!j&&s.removeMark(P.from,P.to,e.type)});const v=p4(r.doc,m,T=>T.isTextblock);let y,_;if(v.length>1?(y=v[0],_=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ")):v.length&&r.doc.textBetween(m.from,m.to," "," ").endsWith(" ")&&(y=v[0],_=r.doc.textBetween(y.pos,m.to,void 0," ")),y&&_){const T=_.split(" ").filter(S=>S!=="");if(T.length<=0)return!1;const C=T[T.length-1],w=y.pos+_.lastIndexOf(C);if(!C)return!1;K_(C).filter(S=>S.isLink).filter(S=>e.validate?e.validate(S.value):!0).map(S=>({...S,from:w+S.start+1,to:w+S.end+1})).forEach(S=>{s.addMark(S.from,S.to,e.type.create({href:S.href}))})}}),!!s.steps.length)return s}})}function RY(e){return new Yt({key:new dn("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,o,s;if(r.button!==0)return!1;const l=I_(t.state,e.type.name),u=(i=r.target)===null||i===void 0?void 0:i.closest("a"),f=(o=u==null?void 0:u.href)!==null&&o!==void 0?o:l.href,d=(s=u==null?void 0:u.target)!==null&&s!==void 0?s:l.target;return u&&f?(window.open(f,d),!0):!1}}})}function zY(e){return new Yt({key:new dn("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:i}=t,{selection:o}=i,{empty:s}=o;if(s)return!1;let l="";r.content.forEach(f=>{l+=f.textContent});const u=K_(l).find(f=>f.isLink&&f.value===l);return!l||!u?!1:(e.editor.commands.setMark(e.type,{href:u.href}),!0)}}})}const BY=er.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(e=>{if(typeof e=="string"){oT(e);return}oT(e.scheme,e.optionalSlashes)})},onDestroy(){PY()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:e}){return["a",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Vo({find:e=>K_(e).filter(t=>this.options.validate?this.options.validate(t.value):!0).filter(t=>t.isLink).map(t=>({text:t.value,index:t.start,data:t})),type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)===null||t===void 0?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];return this.options.autolink&&e.push(DY({type:this.type,validate:this.options.validate})),this.options.openOnClick&&e.push(RY({type:this.type})),this.options.linkOnPaste&&e.push(zY({editor:this.editor,type:this.type})),e}}),$Y=BY.extend({addAttributes(){var e;return{...(e=this.parent)==null?void 0:e.call(this),class:{default:null},title:{default:null}}},addOptions(){var e;return{...(e=this.parent)==null?void 0:e.call(this),HTMLAttributes:{target:null,rel:null,class:null,title:null}}},renderHTML({HTMLAttributes:e}){const t=$t(this.options.HTMLAttributes,e);return t.target==="_blank"&&(t.rel="noopener noreferrer"),["a",t,0]},addProseMirrorPlugins(){return[new Yt({key:new dn("handleClick"),props:{handleClick:(e,t,n)=>{if(this.editor.getAttributes("link").href&&n.target instanceof HTMLAnchorElement)return setTimeout(()=>{this.editor.emit("vui:link-clicked")},50),!0}}})]}}),HY=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,FY=_n.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",$t(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[z_({find:HY,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),VY=FY.extend({addAttributes(){return{id:{default:null},src:{default:null},alt:{default:null},title:{default:null},url:{default:null},target:{default:null},transform:{default:null}}},renderHTML({HTMLAttributes:e}){const t={class:"vui-editor-img-wrap",tabindex:"-1"},n={src:e.src,title:e.title,alt:e.alt},r={url:e.url,target:e.target};return e.url?["figure",t,["a",r,["img",n]]]:["figure",t,["img",n]]},addProseMirrorPlugins(){return[new Yt({key:new dn("handleClick"),props:{handleClick:(e,t,n)=>{n.target.classList.contains("vui-editor-img-wrap")&&setTimeout(()=>{this.editor.emit("vui:image-clicked",n)},50)}}})]}});var zr="top",vi="bottom",yi="right",Br="left",q_="auto",xd=[zr,vi,yi,Br],$u="start",Zf="end",jY="clippingParents",K4="viewport",Rc="popper",WY="reference",aT=xd.reduce(function(e,t){return e.concat([t+"-"+$u,t+"-"+Zf])},[]),q4=[].concat(xd,[q_]).reduce(function(e,t){return e.concat([t,t+"-"+$u,t+"-"+Zf])},[]),UY="beforeRead",KY="read",qY="afterRead",GY="beforeMain",JY="main",YY="afterMain",XY="beforeWrite",ZY="write",QY="afterWrite",eX=[UY,KY,qY,GY,JY,YY,XY,ZY,QY];function po(e){return e?(e.nodeName||"").toLowerCase():null}function bi(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ll(e){var t=bi(e).Element;return e instanceof t||e instanceof Element}function pi(e){var t=bi(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function G_(e){if(typeof ShadowRoot>"u")return!1;var t=bi(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function tX(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!pi(o)||!po(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var l=i[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function nX(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),l=s.reduce(function(u,f){return u[f]="",u},{});!pi(i)||!po(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}const G4={name:"applyStyles",enabled:!0,phase:"write",fn:tX,effect:nX,requires:["computeStyles"]};function uo(e){return e.split("-")[0]}var qa=Math.max,Om=Math.min,Hu=Math.round;function Ob(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function J4(){return!/^((?!chrome|android).)*safari/i.test(Ob())}function Fu(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&pi(e)&&(i=e.offsetWidth>0&&Hu(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Hu(r.height)/e.offsetHeight||1);var s=ll(e)?bi(e):window,l=s.visualViewport,u=!J4()&&n,f=(r.left+(u&&l?l.offsetLeft:0))/i,d=(r.top+(u&&l?l.offsetTop:0))/o,m=r.width/i,v=r.height/o;return{width:m,height:v,top:d,right:f+m,bottom:d+v,left:f,x:f,y:d}}function J_(e){var t=Fu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Y4(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&G_(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function jo(e){return bi(e).getComputedStyle(e)}function rX(e){return["table","td","th"].indexOf(po(e))>=0}function oa(e){return((ll(e)?e.ownerDocument:e.document)||window.document).documentElement}function Bg(e){return po(e)==="html"?e:e.assignedSlot||e.parentNode||(G_(e)?e.host:null)||oa(e)}function lT(e){return!pi(e)||jo(e).position==="fixed"?null:e.offsetParent}function iX(e){var t=/firefox/i.test(Ob()),n=/Trident/i.test(Ob());if(n&&pi(e)){var r=jo(e);if(r.position==="fixed")return null}var i=Bg(e);for(G_(i)&&(i=i.host);pi(i)&&["html","body"].indexOf(po(i))<0;){var o=jo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Sd(e){for(var t=bi(e),n=lT(e);n&&rX(n)&&jo(n).position==="static";)n=lT(n);return n&&(po(n)==="html"||po(n)==="body"&&jo(n).position==="static")?t:n||iX(e)||t}function Y_(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gf(e,t,n){return qa(e,Om(t,n))}function oX(e,t,n){var r=gf(e,t,n);return r>n?n:r}function X4(){return{top:0,right:0,bottom:0,left:0}}function Z4(e){return Object.assign({},X4(),e)}function Q4(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var sX=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Z4(typeof t!="number"?t:Q4(t,xd))};function aX(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=uo(n.placement),u=Y_(l),f=[Br,yi].indexOf(l)>=0,d=f?"height":"width";if(!(!o||!s)){var m=sX(i.padding,n),v=J_(o),y=u==="y"?zr:Br,_=u==="y"?vi:yi,T=n.rects.reference[d]+n.rects.reference[u]-s[u]-n.rects.popper[d],C=s[u]-n.rects.reference[u],w=Sd(o),S=w?u==="y"?w.clientHeight||0:w.clientWidth||0:0,P=T/2-C/2,A=m[y],U=S-v[d]-m[_],z=S/2-v[d]/2+P,j=gf(A,z,U),L=u;n.modifiersData[r]=(t={},t[L]=j,t.centerOffset=j-z,t)}}function lX(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Y4(t.elements.popper,i)&&(t.elements.arrow=i))}const uX={name:"arrow",enabled:!0,phase:"main",fn:aX,effect:lX,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vu(e){return e.split("-")[1]}var cX={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fX(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Hu(t*i)/i||0,y:Hu(n*i)/i||0}}function uT(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,l=e.position,u=e.gpuAcceleration,f=e.adaptive,d=e.roundOffsets,m=e.isFixed,v=s.x,y=v===void 0?0:v,_=s.y,T=_===void 0?0:_,C=typeof d=="function"?d({x:y,y:T}):{x:y,y:T};y=C.x,T=C.y;var w=s.hasOwnProperty("x"),S=s.hasOwnProperty("y"),P=Br,A=zr,U=window;if(f){var z=Sd(n),j="clientHeight",L="clientWidth";if(z===bi(n)&&(z=oa(n),jo(z).position!=="static"&&l==="absolute"&&(j="scrollHeight",L="scrollWidth")),z=z,i===zr||(i===Br||i===yi)&&o===Zf){A=vi;var B=m&&z===U&&U.visualViewport?U.visualViewport.height:z[j];T-=B-r.height,T*=u?1:-1}if(i===Br||(i===zr||i===vi)&&o===Zf){P=yi;var k=m&&z===U&&U.visualViewport?U.visualViewport.width:z[L];y-=k-r.width,y*=u?1:-1}}var D=Object.assign({position:l},f&&cX),K=d===!0?fX({x:y,y:T}):{x:y,y:T};if(y=K.x,T=K.y,u){var q;return Object.assign({},D,(q={},q[A]=S?"0":"",q[P]=w?"0":"",q.transform=(U.devicePixelRatio||1)<=1?"translate("+y+"px, "+T+"px)":"translate3d("+y+"px, "+T+"px, 0)",q))}return Object.assign({},D,(t={},t[A]=S?T+"px":"",t[P]=w?y+"px":"",t.transform="",t))}function dX(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,u=l===void 0?!0:l,f={placement:uo(t.placement),variation:Vu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,uT(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,uT(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const hX={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:dX,data:{}};var Fh={passive:!0};function pX(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,u=bi(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&f.forEach(function(d){d.addEventListener("scroll",n.update,Fh)}),l&&u.addEventListener("resize",n.update,Fh),function(){o&&f.forEach(function(d){d.removeEventListener("scroll",n.update,Fh)}),l&&u.removeEventListener("resize",n.update,Fh)}}const mX={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:pX,data:{}};var gX={left:"right",right:"left",bottom:"top",top:"bottom"};function vp(e){return e.replace(/left|right|bottom|top/g,function(t){return gX[t]})}var vX={start:"end",end:"start"};function cT(e){return e.replace(/start|end/g,function(t){return vX[t]})}function X_(e){var t=bi(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Z_(e){return Fu(oa(e)).left+X_(e).scrollLeft}function yX(e,t){var n=bi(e),r=oa(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){o=i.width,s=i.height;var f=J4();(f||!f&&t==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:l+Z_(e),y:u}}function bX(e){var t,n=oa(e),r=X_(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=qa(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=qa(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+Z_(e),u=-r.scrollTop;return jo(i||n).direction==="rtl"&&(l+=qa(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function Q_(e){var t=jo(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function eL(e){return["html","body","#document"].indexOf(po(e))>=0?e.ownerDocument.body:pi(e)&&Q_(e)?e:eL(Bg(e))}function vf(e,t){var n;t===void 0&&(t=[]);var r=eL(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=bi(r),s=i?[o].concat(o.visualViewport||[],Q_(r)?r:[]):r,l=t.concat(s);return i?l:l.concat(vf(Bg(s)))}function Mb(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _X(e,t){var n=Fu(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function fT(e,t,n){return t===K4?Mb(yX(e,n)):ll(t)?_X(t,n):Mb(bX(oa(e)))}function wX(e){var t=vf(Bg(e)),n=["absolute","fixed"].indexOf(jo(e).position)>=0,r=n&&pi(e)?Sd(e):e;return ll(r)?t.filter(function(i){return ll(i)&&Y4(i,r)&&po(i)!=="body"}):[]}function kX(e,t,n,r){var i=t==="clippingParents"?wX(e):[].concat(t),o=[].concat(i,[n]),s=o[0],l=o.reduce(function(u,f){var d=fT(e,f,r);return u.top=qa(d.top,u.top),u.right=Om(d.right,u.right),u.bottom=Om(d.bottom,u.bottom),u.left=qa(d.left,u.left),u},fT(e,s,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function tL(e){var t=e.reference,n=e.element,r=e.placement,i=r?uo(r):null,o=r?Vu(r):null,s=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,u;switch(i){case zr:u={x:s,y:t.y-n.height};break;case vi:u={x:s,y:t.y+t.height};break;case yi:u={x:t.x+t.width,y:l};break;case Br:u={x:t.x-n.width,y:l};break;default:u={x:t.x,y:t.y}}var f=i?Y_(i):null;if(f!=null){var d=f==="y"?"height":"width";switch(o){case $u:u[f]=u[f]-(t[d]/2-n[d]/2);break;case Zf:u[f]=u[f]+(t[d]/2-n[d]/2);break}}return u}function Qf(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,l=n.boundary,u=l===void 0?jY:l,f=n.rootBoundary,d=f===void 0?K4:f,m=n.elementContext,v=m===void 0?Rc:m,y=n.altBoundary,_=y===void 0?!1:y,T=n.padding,C=T===void 0?0:T,w=Z4(typeof C!="number"?C:Q4(C,xd)),S=v===Rc?WY:Rc,P=e.rects.popper,A=e.elements[_?S:v],U=kX(ll(A)?A:A.contextElement||oa(e.elements.popper),u,d,s),z=Fu(e.elements.reference),j=tL({reference:z,element:P,strategy:"absolute",placement:i}),L=Mb(Object.assign({},P,j)),B=v===Rc?L:z,k={top:U.top-B.top+w.top,bottom:B.bottom-U.bottom+w.bottom,left:U.left-B.left+w.left,right:B.right-U.right+w.right},D=e.modifiersData.offset;if(v===Rc&&D){var K=D[i];Object.keys(k).forEach(function(q){var Q=[yi,vi].indexOf(q)>=0?1:-1,I=[zr,vi].indexOf(q)>=0?"y":"x";k[q]+=K[I]*Q})}return k}function xX(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,f=u===void 0?q4:u,d=Vu(r),m=d?l?aT:aT.filter(function(_){return Vu(_)===d}):xd,v=m.filter(function(_){return f.indexOf(_)>=0});v.length===0&&(v=m);var y=v.reduce(function(_,T){return _[T]=Qf(e,{placement:T,boundary:i,rootBoundary:o,padding:s})[uo(T)],_},{});return Object.keys(y).sort(function(_,T){return y[_]-y[T]})}function SX(e){if(uo(e)===q_)return[];var t=vp(e);return[cT(e),t,cT(t)]}function CX(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,u=n.fallbackPlacements,f=n.padding,d=n.boundary,m=n.rootBoundary,v=n.altBoundary,y=n.flipVariations,_=y===void 0?!0:y,T=n.allowedAutoPlacements,C=t.options.placement,w=uo(C),S=w===C,P=u||(S||!_?[vp(C)]:SX(C)),A=[C].concat(P).reduce(function(gt,Ye){return gt.concat(uo(Ye)===q_?xX(t,{placement:Ye,boundary:d,rootBoundary:m,padding:f,flipVariations:_,allowedAutoPlacements:T}):Ye)},[]),U=t.rects.reference,z=t.rects.popper,j=new Map,L=!0,B=A[0],k=0;k<A.length;k++){var D=A[k],K=uo(D),q=Vu(D)===$u,Q=[zr,vi].indexOf(K)>=0,I=Q?"width":"height",ce=Qf(t,{placement:D,boundary:d,rootBoundary:m,altBoundary:v,padding:f}),de=Q?q?yi:Br:q?vi:zr;U[I]>z[I]&&(de=vp(de));var xe=vp(de),Be=[];if(o&&Be.push(ce[K]<=0),l&&Be.push(ce[de]<=0,ce[xe]<=0),Be.every(function(gt){return gt})){B=D,L=!1;break}j.set(D,Be)}if(L)for(var rt=_?3:1,pt=function(Ye){var Ie=A.find(function($e){var Ae=j.get($e);if(Ae)return Ae.slice(0,Ye).every(function(qe){return qe})});if(Ie)return B=Ie,"break"},yt=rt;yt>0;yt--){var bt=pt(yt);if(bt==="break")break}t.placement!==B&&(t.modifiersData[r]._skip=!0,t.placement=B,t.reset=!0)}}const TX={name:"flip",enabled:!0,phase:"main",fn:CX,requiresIfExists:["offset"],data:{_skip:!1}};function dT(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function hT(e){return[zr,yi,vi,Br].some(function(t){return e[t]>=0})}function EX(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Qf(t,{elementContext:"reference"}),l=Qf(t,{altBoundary:!0}),u=dT(s,r),f=dT(l,i,o),d=hT(u),m=hT(f);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}const AX={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:EX};function OX(e,t,n){var r=uo(e),i=[Br,zr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[Br,yi].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function MX(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=q4.reduce(function(d,m){return d[m]=OX(m,t.rects,o),d},{}),l=s[t.placement],u=l.x,f=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=f),t.modifiersData[r]=s}const LX={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:MX};function NX(e){var t=e.state,n=e.name;t.modifiersData[n]=tL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const PX={name:"popperOffsets",enabled:!0,phase:"read",fn:NX,data:{}};function IX(e){return e==="x"?"y":"x"}function DX(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,u=n.boundary,f=n.rootBoundary,d=n.altBoundary,m=n.padding,v=n.tether,y=v===void 0?!0:v,_=n.tetherOffset,T=_===void 0?0:_,C=Qf(t,{boundary:u,rootBoundary:f,padding:m,altBoundary:d}),w=uo(t.placement),S=Vu(t.placement),P=!S,A=Y_(w),U=IX(A),z=t.modifiersData.popperOffsets,j=t.rects.reference,L=t.rects.popper,B=typeof T=="function"?T(Object.assign({},t.rects,{placement:t.placement})):T,k=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,K={x:0,y:0};if(z){if(o){var q,Q=A==="y"?zr:Br,I=A==="y"?vi:yi,ce=A==="y"?"height":"width",de=z[A],xe=de+C[Q],Be=de-C[I],rt=y?-L[ce]/2:0,pt=S===$u?j[ce]:L[ce],yt=S===$u?-L[ce]:-j[ce],bt=t.elements.arrow,gt=y&&bt?J_(bt):{width:0,height:0},Ye=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:X4(),Ie=Ye[Q],$e=Ye[I],Ae=gf(0,j[ce],gt[ce]),qe=P?j[ce]/2-rt-Ae-Ie-k.mainAxis:pt-Ae-Ie-k.mainAxis,Xe=P?-j[ce]/2+rt+Ae+$e+k.mainAxis:yt+Ae+$e+k.mainAxis,je=t.elements.arrow&&Sd(t.elements.arrow),te=je?A==="y"?je.clientTop||0:je.clientLeft||0:0,se=(q=D==null?void 0:D[A])!=null?q:0,le=de+qe-se-te,ke=de+Xe-se,be=gf(y?Om(xe,le):xe,de,y?qa(Be,ke):Be);z[A]=be,K[A]=be-de}if(l){var Ce,G=A==="x"?zr:Br,J=A==="x"?vi:yi,M=z[U],V=U==="y"?"height":"width",N=M+C[G],W=M-C[J],H=[zr,Br].indexOf(w)!==-1,ee=(Ce=D==null?void 0:D[U])!=null?Ce:0,ue=H?N:M-j[V]-L[V]-ee+k.altAxis,ge=H?M+j[V]+L[V]-ee-k.altAxis:W,ye=y&&H?oX(ue,M,ge):gf(y?ue:N,M,y?ge:W);z[U]=ye,K[U]=ye-M}t.modifiersData[r]=K}}const RX={name:"preventOverflow",enabled:!0,phase:"main",fn:DX,requiresIfExists:["offset"]};function zX(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function BX(e){return e===bi(e)||!pi(e)?X_(e):zX(e)}function $X(e){var t=e.getBoundingClientRect(),n=Hu(t.width)/e.offsetWidth||1,r=Hu(t.height)/e.offsetHeight||1;return n!==1||r!==1}function HX(e,t,n){n===void 0&&(n=!1);var r=pi(t),i=pi(t)&&$X(t),o=oa(t),s=Fu(e,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((po(t)!=="body"||Q_(o))&&(l=BX(t)),pi(t)?(u=Fu(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=Z_(o))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function FX(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var u=t.get(l);u&&i(u)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function VX(e){var t=FX(e);return eX.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function jX(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function WX(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var pT={placement:"bottom",modifiers:[],strategy:"absolute"};function mT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function UX(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?pT:i;return function(l,u,f){f===void 0&&(f=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},pT,o),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},m=[],v=!1,y={state:d,setOptions:function(w){var S=typeof w=="function"?w(d.options):w;T(),d.options=Object.assign({},o,d.options,S),d.scrollParents={reference:ll(l)?vf(l):l.contextElement?vf(l.contextElement):[],popper:vf(u)};var P=VX(WX([].concat(r,d.options.modifiers)));return d.orderedModifiers=P.filter(function(A){return A.enabled}),_(),y.update()},forceUpdate:function(){if(!v){var w=d.elements,S=w.reference,P=w.popper;if(mT(S,P)){d.rects={reference:HX(S,Sd(P),d.options.strategy==="fixed"),popper:J_(P)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(k){return d.modifiersData[k.name]=Object.assign({},k.data)});for(var A=0;A<d.orderedModifiers.length;A++){if(d.reset===!0){d.reset=!1,A=-1;continue}var U=d.orderedModifiers[A],z=U.fn,j=U.options,L=j===void 0?{}:j,B=U.name;typeof z=="function"&&(d=z({state:d,options:L,name:B,instance:y})||d)}}}},update:jX(function(){return new Promise(function(C){y.forceUpdate(),C(d)})}),destroy:function(){T(),v=!0}};if(!mT(l,u))return y;y.setOptions(f).then(function(C){!v&&f.onFirstUpdate&&f.onFirstUpdate(C)});function _(){d.orderedModifiers.forEach(function(C){var w=C.name,S=C.options,P=S===void 0?{}:S,A=C.effect;if(typeof A=="function"){var U=A({state:d,name:w,instance:y,options:P}),z=function(){};m.push(U||z)}})}function T(){m.forEach(function(C){return C()}),m=[]}return y}}var KX=[mX,PX,hX,G4,LX,TX,RX,uX,AX],qX=UX({defaultModifiers:KX}),GX="tippy-box",nL="tippy-content",JX="tippy-backdrop",rL="tippy-arrow",iL="tippy-svg-arrow",xa={passive:!0,capture:!0},oL=function(){return document.body};function Dy(e,t,n){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(n)?n[t]:n)}return e}function ew(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function sL(e,t){return typeof e=="function"?e.apply(void 0,t):e}function gT(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function YX(e){return e.split(/\s+/).filter(Boolean)}function Yl(e){return[].concat(e)}function vT(e,t){e.indexOf(t)===-1&&e.push(t)}function XX(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function ZX(e){return e.split("-")[0]}function Mm(e){return[].slice.call(e)}function yT(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function yf(){return document.createElement("div")}function $g(e){return["Element","Fragment"].some(function(t){return ew(e,t)})}function QX(e){return ew(e,"NodeList")}function eZ(e){return ew(e,"MouseEvent")}function tZ(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function nZ(e){return $g(e)?[e]:QX(e)?Mm(e):Array.isArray(e)?e:Mm(document.querySelectorAll(e))}function Ry(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function bT(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function rZ(e){var t,n=Yl(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function iZ(e,t){var n=t.clientX,r=t.clientY;return e.every(function(i){var o=i.popperRect,s=i.popperState,l=i.props,u=l.interactiveBorder,f=ZX(s.placement),d=s.modifiersData.offset;if(!d)return!0;var m=f==="bottom"?d.top.y:0,v=f==="top"?d.bottom.y:0,y=f==="right"?d.left.x:0,_=f==="left"?d.right.x:0,T=o.top-r+m>u,C=r-o.bottom-v>u,w=o.left-n+y>u,S=n-o.right-_>u;return T||C||w||S})}function zy(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,n)})}function _T(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var eo={isTouch:!1},wT=0;function oZ(){eo.isTouch||(eo.isTouch=!0,window.performance&&document.addEventListener("mousemove",aL))}function aL(){var e=performance.now();e-wT<20&&(eo.isTouch=!1,document.removeEventListener("mousemove",aL)),wT=e}function sZ(){var e=document.activeElement;if(tZ(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function aZ(){document.addEventListener("touchstart",oZ,xa),window.addEventListener("blur",sZ)}var lZ=typeof window<"u"&&typeof document<"u",uZ=lZ?!!window.msCrypto:!1,cZ={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},fZ={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ni=Object.assign({appendTo:oL,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},cZ,fZ),dZ=Object.keys(Ni),hZ=function(t){var n=Object.keys(t);n.forEach(function(r){Ni[r]=t[r]})};function lL(e){var t=e.plugins||[],n=t.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var l;r[o]=e[o]!==void 0?e[o]:(l=Ni[o])!=null?l:s}return r},{});return Object.assign({},e,n)}function pZ(e,t){var n=t?Object.keys(lL(Object.assign({},Ni,{plugins:t}))):dZ,r=n.reduce(function(i,o){var s=(e.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function kT(e,t){var n=Object.assign({},t,{content:sL(t.content,[e])},t.ignoreAttributes?{}:pZ(e,t.plugins));return n.aria=Object.assign({},Ni.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var mZ=function(){return"innerHTML"};function Lb(e,t){e[mZ()]=t}function xT(e){var t=yf();return e===!0?t.className=rL:(t.className=iL,$g(e)?t.appendChild(e):Lb(t,e)),t}function ST(e,t){$g(t.content)?(Lb(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Lb(e,t.content):e.textContent=t.content)}function Nb(e){var t=e.firstElementChild,n=Mm(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(nL)}),arrow:n.find(function(r){return r.classList.contains(rL)||r.classList.contains(iL)}),backdrop:n.find(function(r){return r.classList.contains(JX)})}}function uL(e){var t=yf(),n=yf();n.className=GX,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=yf();r.className=nL,r.setAttribute("data-state","hidden"),ST(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props);function i(o,s){var l=Nb(t),u=l.box,f=l.content,d=l.arrow;s.theme?u.setAttribute("data-theme",s.theme):u.removeAttribute("data-theme"),typeof s.animation=="string"?u.setAttribute("data-animation",s.animation):u.removeAttribute("data-animation"),s.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?u.setAttribute("role",s.role):u.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&ST(f,e.props),s.arrow?d?o.arrow!==s.arrow&&(u.removeChild(d),u.appendChild(xT(s.arrow))):u.appendChild(xT(s.arrow)):d&&u.removeChild(d)}return{popper:t,onUpdate:i}}uL.$$tippy=!0;var gZ=1,Vh=[],By=[];function vZ(e,t){var n=kT(e,Object.assign({},Ni,lL(yT(t)))),r,i,o,s=!1,l=!1,u=!1,f=!1,d,m,v,y=[],_=gT(le,n.interactiveDebounce),T,C=gZ++,w=null,S=XX(n.plugins),P={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},A={id:C,reference:e,popper:yf(),popperInstance:w,props:n,state:P,plugins:S,clearDelayTimeouts:ue,setProps:ge,setContent:ye,show:X,hide:Z,hideWithInteractivity:pe,enable:H,disable:ee,unmount:Oe,destroy:Ve};if(!n.render)return A;var U=n.render(A),z=U.popper,j=U.onUpdate;z.setAttribute("data-tippy-root",""),z.id="tippy-"+A.id,A.popper=z,e._tippy=A,z._tippy=A;var L=S.map(function(he){return he.fn(A)}),B=e.hasAttribute("aria-expanded");return je(),rt(),de(),xe("onCreate",[A]),n.showOnCreate&&N(),z.addEventListener("mouseenter",function(){A.props.interactive&&A.state.isVisible&&A.clearDelayTimeouts()}),z.addEventListener("mouseleave",function(){A.props.interactive&&A.props.trigger.indexOf("mouseenter")>=0&&Q().addEventListener("mousemove",_)}),A;function k(){var he=A.props.touch;return Array.isArray(he)?he:[he,0]}function D(){return k()[0]==="hold"}function K(){var he;return!!((he=A.props.render)!=null&&he.$$tippy)}function q(){return T||e}function Q(){var he=q().parentNode;return he?rZ(he):document}function I(){return Nb(z)}function ce(he){return A.state.isMounted&&!A.state.isVisible||eo.isTouch||d&&d.type==="focus"?0:Dy(A.props.delay,he?0:1,Ni.delay)}function de(he){he===void 0&&(he=!1),z.style.pointerEvents=A.props.interactive&&!he?"":"none",z.style.zIndex=""+A.props.zIndex}function xe(he,Ee,Pe){if(Pe===void 0&&(Pe=!0),L.forEach(function(Ze){Ze[he]&&Ze[he].apply(Ze,Ee)}),Pe){var ve;(ve=A.props)[he].apply(ve,Ee)}}function Be(){var he=A.props.aria;if(he.content){var Ee="aria-"+he.content,Pe=z.id,ve=Yl(A.props.triggerTarget||e);ve.forEach(function(Ze){var ct=Ze.getAttribute(Ee);if(A.state.isVisible)Ze.setAttribute(Ee,ct?ct+" "+Pe:Pe);else{var st=ct&&ct.replace(Pe,"").trim();st?Ze.setAttribute(Ee,st):Ze.removeAttribute(Ee)}})}}function rt(){if(!(B||!A.props.aria.expanded)){var he=Yl(A.props.triggerTarget||e);he.forEach(function(Ee){A.props.interactive?Ee.setAttribute("aria-expanded",A.state.isVisible&&Ee===q()?"true":"false"):Ee.removeAttribute("aria-expanded")})}}function pt(){Q().removeEventListener("mousemove",_),Vh=Vh.filter(function(he){return he!==_})}function yt(he){if(!(eo.isTouch&&(u||he.type==="mousedown"))){var Ee=he.composedPath&&he.composedPath()[0]||he.target;if(!(A.props.interactive&&_T(z,Ee))){if(Yl(A.props.triggerTarget||e).some(function(Pe){return _T(Pe,Ee)})){if(eo.isTouch||A.state.isVisible&&A.props.trigger.indexOf("click")>=0)return}else xe("onClickOutside",[A,he]);A.props.hideOnClick===!0&&(A.clearDelayTimeouts(),A.hide(),l=!0,setTimeout(function(){l=!1}),A.state.isMounted||Ie())}}}function bt(){u=!0}function gt(){u=!1}function Ye(){var he=Q();he.addEventListener("mousedown",yt,!0),he.addEventListener("touchend",yt,xa),he.addEventListener("touchstart",gt,xa),he.addEventListener("touchmove",bt,xa)}function Ie(){var he=Q();he.removeEventListener("mousedown",yt,!0),he.removeEventListener("touchend",yt,xa),he.removeEventListener("touchstart",gt,xa),he.removeEventListener("touchmove",bt,xa)}function $e(he,Ee){qe(he,function(){!A.state.isVisible&&z.parentNode&&z.parentNode.contains(z)&&Ee()})}function Ae(he,Ee){qe(he,Ee)}function qe(he,Ee){var Pe=I().box;function ve(Ze){Ze.target===Pe&&(zy(Pe,"remove",ve),Ee())}if(he===0)return Ee();zy(Pe,"remove",m),zy(Pe,"add",ve),m=ve}function Xe(he,Ee,Pe){Pe===void 0&&(Pe=!1);var ve=Yl(A.props.triggerTarget||e);ve.forEach(function(Ze){Ze.addEventListener(he,Ee,Pe),y.push({node:Ze,eventType:he,handler:Ee,options:Pe})})}function je(){D()&&(Xe("touchstart",se,{passive:!0}),Xe("touchend",ke,{passive:!0})),YX(A.props.trigger).forEach(function(he){if(he!=="manual")switch(Xe(he,se),he){case"mouseenter":Xe("mouseleave",ke);break;case"focus":Xe(uZ?"focusout":"blur",be);break;case"focusin":Xe("focusout",be);break}})}function te(){y.forEach(function(he){var Ee=he.node,Pe=he.eventType,ve=he.handler,Ze=he.options;Ee.removeEventListener(Pe,ve,Ze)}),y=[]}function se(he){var Ee,Pe=!1;if(!(!A.state.isEnabled||Ce(he)||l)){var ve=((Ee=d)==null?void 0:Ee.type)==="focus";d=he,T=he.currentTarget,rt(),!A.state.isVisible&&eZ(he)&&Vh.forEach(function(Ze){return Ze(he)}),he.type==="click"&&(A.props.trigger.indexOf("mouseenter")<0||s)&&A.props.hideOnClick!==!1&&A.state.isVisible?Pe=!0:N(he),he.type==="click"&&(s=!Pe),Pe&&!ve&&W(he)}}function le(he){var Ee=he.target,Pe=q().contains(Ee)||z.contains(Ee);if(!(he.type==="mousemove"&&Pe)){var ve=V().concat(z).map(function(Ze){var ct,st=Ze._tippy,Ct=(ct=st.popperInstance)==null?void 0:ct.state;return Ct?{popperRect:Ze.getBoundingClientRect(),popperState:Ct,props:n}:null}).filter(Boolean);iZ(ve,he)&&(pt(),W(he))}}function ke(he){var Ee=Ce(he)||A.props.trigger.indexOf("click")>=0&&s;if(!Ee){if(A.props.interactive){A.hideWithInteractivity(he);return}W(he)}}function be(he){A.props.trigger.indexOf("focusin")<0&&he.target!==q()||A.props.interactive&&he.relatedTarget&&z.contains(he.relatedTarget)||W(he)}function Ce(he){return eo.isTouch?D()!==he.type.indexOf("touch")>=0:!1}function G(){J();var he=A.props,Ee=he.popperOptions,Pe=he.placement,ve=he.offset,Ze=he.getReferenceClientRect,ct=he.moveTransition,st=K()?Nb(z).arrow:null,Ct=Ze?{getBoundingClientRect:Ze,contextElement:Ze.contextElement||q()}:e,hr={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Kt){var Un=Kt.state;if(K()){var jr=I(),Wr=jr.box;["placement","reference-hidden","escaped"].forEach(function(xn){xn==="placement"?Wr.setAttribute("data-placement",Un.placement):Un.attributes.popper["data-popper-"+xn]?Wr.setAttribute("data-"+xn,""):Wr.removeAttribute("data-"+xn)}),Un.attributes.popper={}}}},Ut=[{name:"offset",options:{offset:ve}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ct}},hr];K()&&st&&Ut.push({name:"arrow",options:{element:st,padding:3}}),Ut.push.apply(Ut,(Ee==null?void 0:Ee.modifiers)||[]),A.popperInstance=qX(Ct,z,Object.assign({},Ee,{placement:Pe,onFirstUpdate:v,modifiers:Ut}))}function J(){A.popperInstance&&(A.popperInstance.destroy(),A.popperInstance=null)}function M(){var he=A.props.appendTo,Ee,Pe=q();A.props.interactive&&he===oL||he==="parent"?Ee=Pe.parentNode:Ee=sL(he,[Pe]),Ee.contains(z)||Ee.appendChild(z),A.state.isMounted=!0,G()}function V(){return Mm(z.querySelectorAll("[data-tippy-root]"))}function N(he){A.clearDelayTimeouts(),he&&xe("onTrigger",[A,he]),Ye();var Ee=ce(!0),Pe=k(),ve=Pe[0],Ze=Pe[1];eo.isTouch&&ve==="hold"&&Ze&&(Ee=Ze),Ee?r=setTimeout(function(){A.show()},Ee):A.show()}function W(he){if(A.clearDelayTimeouts(),xe("onUntrigger",[A,he]),!A.state.isVisible){Ie();return}if(!(A.props.trigger.indexOf("mouseenter")>=0&&A.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(he.type)>=0&&s)){var Ee=ce(!1);Ee?i=setTimeout(function(){A.state.isVisible&&A.hide()},Ee):o=requestAnimationFrame(function(){A.hide()})}}function H(){A.state.isEnabled=!0}function ee(){A.hide(),A.state.isEnabled=!1}function ue(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function ge(he){if(!A.state.isDestroyed){xe("onBeforeUpdate",[A,he]),te();var Ee=A.props,Pe=kT(e,Object.assign({},Ee,yT(he),{ignoreAttributes:!0}));A.props=Pe,je(),Ee.interactiveDebounce!==Pe.interactiveDebounce&&(pt(),_=gT(le,Pe.interactiveDebounce)),Ee.triggerTarget&&!Pe.triggerTarget?Yl(Ee.triggerTarget).forEach(function(ve){ve.removeAttribute("aria-expanded")}):Pe.triggerTarget&&e.removeAttribute("aria-expanded"),rt(),de(),j&&j(Ee,Pe),A.popperInstance&&(G(),V().forEach(function(ve){requestAnimationFrame(ve._tippy.popperInstance.forceUpdate)})),xe("onAfterUpdate",[A,he])}}function ye(he){A.setProps({content:he})}function X(){var he=A.state.isVisible,Ee=A.state.isDestroyed,Pe=!A.state.isEnabled,ve=eo.isTouch&&!A.props.touch,Ze=Dy(A.props.duration,0,Ni.duration);if(!(he||Ee||Pe||ve)&&!q().hasAttribute("disabled")&&(xe("onShow",[A],!1),A.props.onShow(A)!==!1)){if(A.state.isVisible=!0,K()&&(z.style.visibility="visible"),de(),Ye(),A.state.isMounted||(z.style.transition="none"),K()){var ct=I(),st=ct.box,Ct=ct.content;Ry([st,Ct],0)}v=function(){var Ut;if(!(!A.state.isVisible||f)){if(f=!0,z.offsetHeight,z.style.transition=A.props.moveTransition,K()&&A.props.animation){var Xt=I(),Kt=Xt.box,Un=Xt.content;Ry([Kt,Un],Ze),bT([Kt,Un],"visible")}Be(),rt(),vT(By,A),(Ut=A.popperInstance)==null||Ut.forceUpdate(),xe("onMount",[A]),A.props.animation&&K()&&Ae(Ze,function(){A.state.isShown=!0,xe("onShown",[A])})}},M()}}function Z(){var he=!A.state.isVisible,Ee=A.state.isDestroyed,Pe=!A.state.isEnabled,ve=Dy(A.props.duration,1,Ni.duration);if(!(he||Ee||Pe)&&(xe("onHide",[A],!1),A.props.onHide(A)!==!1)){if(A.state.isVisible=!1,A.state.isShown=!1,f=!1,s=!1,K()&&(z.style.visibility="hidden"),pt(),Ie(),de(!0),K()){var Ze=I(),ct=Ze.box,st=Ze.content;A.props.animation&&(Ry([ct,st],ve),bT([ct,st],"hidden"))}Be(),rt(),A.props.animation?K()&&$e(ve,A.unmount):A.unmount()}}function pe(he){Q().addEventListener("mousemove",_),vT(Vh,_),_(he)}function Oe(){A.state.isVisible&&A.hide(),A.state.isMounted&&(J(),V().forEach(function(he){he._tippy.unmount()}),z.parentNode&&z.parentNode.removeChild(z),By=By.filter(function(he){return he!==A}),A.state.isMounted=!1,xe("onHidden",[A]))}function Ve(){A.state.isDestroyed||(A.clearDelayTimeouts(),A.unmount(),te(),delete e._tippy,A.state.isDestroyed=!0,xe("onDestroy",[A]))}}function dr(e,t){t===void 0&&(t={});var n=Ni.plugins.concat(t.plugins||[]);aZ();var r=Object.assign({},t,{plugins:n}),i=nZ(e),o=i.reduce(function(s,l){var u=l&&vZ(l,r);return u&&s.push(u),s},[]);return $g(e)?o[0]:o}dr.defaultProps=Ni;dr.setDefaultProps=hZ;dr.currentInput=eo;Object.assign({},G4,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});dr.setDefaultProps({render:uL});class yZ{constructor({editor:t,element:n,view:r,tippyOptions:i={},updateDelay:o=250,shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:l,state:u,from:f,to:d})=>{const{doc:m,selection:v}=u,{empty:y}=v,_=!m.textBetween(f,d).length&&Pg(u.selection),T=this.element.contains(document.activeElement);return!(!(l.hasFocus()||T)||y||_||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var u;if(this.preventHide){this.preventHide=!1;return}l!=null&&l.relatedTarget&&(!((u=this.element.parentNode)===null||u===void 0)&&u.contains(l.relatedTarget))||this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.handleDebouncedUpdate=(l,u)=>{const f=!(u!=null&&u.selection.eq(l.state.selection)),d=!(u!=null&&u.doc.eq(l.state.doc));!f&&!d||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,f,d,u)},this.updateDelay))},this.updateHandler=(l,u,f,d)=>{var m,v,y;const{state:_,composing:T}=l,{selection:C}=_;if(T||!u&&!f)return;this.createTooltip();const{ranges:S}=C,P=Math.min(...S.map(z=>z.$from.pos)),A=Math.max(...S.map(z=>z.$to.pos));if(!((m=this.shouldShow)===null||m===void 0?void 0:m.call(this,{editor:this.editor,view:l,state:_,oldState:d,from:P,to:A}))){this.hide();return}(v=this.tippy)===null||v===void 0||v.setProps({getReferenceClientRect:((y=this.tippyOptions)===null||y===void 0?void 0:y.getReferenceClientRect)||(()=>{if(_4(_.selection)){let z=l.nodeDOM(P);const j=z.dataset.nodeViewWrapper?z:z.querySelector("[data-node-view-wrapper]");if(j&&(z=j.firstChild),z)return z.getBoundingClientRect()}return R_(l,P,A)})}),this.show()},this.editor=t,this.element=n,this.view=r,this.updateDelay=o,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,n=!!t.parentElement;this.tippy||!n||(this.tippy=dr(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,n){const{state:r}=t,i=r.selection.$from.pos!==r.selection.$to.pos;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(t,n);return}const o=!(n!=null&&n.selection.eq(t.state.selection)),s=!(n!=null&&n.doc.eq(t.state.doc));this.updateHandler(t,o,s,n)}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,n;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const cL=e=>new Yt({key:typeof e.pluginKey=="string"?new dn(e.pluginKey):e.pluginKey,view:t=>new yZ({view:t,...e})});zn.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[cL({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class bZ{constructor({editor:t,element:n,view:r,tippyOptions:i={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:s,state:l})=>{const{selection:u}=l,{$anchor:f,empty:d}=u,m=f.depth===1,v=f.parent.isTextblock&&!f.parent.type.spec.code&&!f.parent.textContent;return!(!s.hasFocus()||!d||!m||!v||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var l;if(this.preventHide){this.preventHide=!1;return}s!=null&&s.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(s.relatedTarget))||this.hide()},this.tippyBlurHandler=s=>{this.blurHandler({event:s})},this.editor=t,this.element=n,this.view=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,n=!!t.parentElement;this.tippy||!n||(this.tippy=dr(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,n){var r,i,o;const{state:s}=t,{doc:l,selection:u}=s,{from:f,to:d}=u;if(n&&n.doc.eq(l)&&n.selection.eq(u))return;if(this.createTooltip(),!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:t,state:s,oldState:n}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((o=this.tippyOptions)===null||o===void 0?void 0:o.getReferenceClientRect)||(()=>R_(t,f,d))}),this.show()}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,n;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const fL=e=>new Yt({key:typeof e.pluginKey=="string"?new dn(e.pluginKey):e.pluginKey,view:t=>new bZ({view:t,...e})});zn.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[fL({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});an({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const n=At(null);return Bi(()=>{const{updateDelay:r,editor:i,pluginKey:o,shouldShow:s,tippyOptions:l}=e;i.registerPlugin(cL({updateDelay:r,editor:i,element:n.value,pluginKey:o,shouldShow:s,tippyOptions:l}))}),Go(()=>{const{pluginKey:r,editor:i}=e;i.unregisterPlugin(r)}),()=>{var r;return jn("div",{ref:n},(r=t.default)===null||r===void 0?void 0:r.call(t))}}});function CT(e){return bA((t,n)=>({get(){return t(),e},set(r){e=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class _Z extends x4{constructor(t={}){return super(t),this.vueRenderers=pl(new Map),this.contentComponent=null,this.reactiveState=CT(this.view.state),this.reactiveExtensionStorage=CT(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),ea(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,n){super.registerPlugin(t,n),this.reactiveState.value=this.view.state}unregisterPlugin(t){super.unregisterPlugin(t),this.reactiveState.value=this.view.state}}const wZ=an({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=At(),n=mo();return OA(()=>{const r=e.editor;r&&r.options.element&&t.value&&ro(()=>{if(!t.value||!r.options.element.firstChild)return;const i=_r(t.value);t.value.append(...r.options.element.childNodes),r.contentComponent=n.ctx._,r.setOptions({element:i}),r.createNodeViews()})}),Go(()=>{const r=e.editor;if(!r||(r.isDestroyed||r.view.setProps({nodeViews:{}}),r.contentComponent=null,!r.options.element.firstChild))return;const i=document.createElement("div");i.append(...r.options.element.childNodes),r.setOptions({element:i})}),{rootEl:t}},render(){const e=[];return this.editor&&this.editor.vueRenderers.forEach(t=>{const n=jn(eO,{to:t.teleportElement,key:t.id},jn(t.component,{ref:t.id,...t.props}));e.push(n)}),jn("div",{ref:t=>{this.rootEl=t}},...e)}});an({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const n=At(null);return Bi(()=>{const{pluginKey:r,editor:i,tippyOptions:o,shouldShow:s}=e;i.registerPlugin(fL({pluginKey:r,editor:i,element:n.value,tippyOptions:o,shouldShow:s}))}),Go(()=>{const{pluginKey:r,editor:i}=e;i.unregisterPlugin(r)}),()=>{var r;return jn("div",{ref:n},(r=t.default)===null||r===void 0?void 0:r.call(t))}}});an({props:{as:{type:String,default:"div"}},render(){return jn(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});const tw=an({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var e,t;return jn(this.as,{class:this.decorationClasses,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e))}});class dL{constructor(t,{props:n={},editor:r}){if(this.id=Math.floor(Math.random()*4294967295).toString(),this.editor=r,this.component=ea(t),this.teleportElement=document.createElement("div"),this.element=this.teleportElement,this.props=pl(n),this.editor.vueRenderers.set(this.id,this),this.editor.contentComponent){if(this.editor.contentComponent.update(),this.teleportElement.children.length!==1)throw Error("VueRenderer doesnt support multiple child elements.");this.element=this.teleportElement.firstElementChild}}get ref(){var t;return(t=this.editor.contentComponent)===null||t===void 0?void 0:t.refs[this.id]}updateProps(t={}){Object.entries(t).forEach(([n,r])=>{this.props[n]=r})}destroy(){this.editor.vueRenderers.delete(this.id)}}class kZ extends S4{mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(i={})=>this.updateAttributes(i),deleteNode:()=>this.deleteNode()},n=this.onDragStart.bind(this);this.decorationClasses=At(this.getDecorationClasses());const r=an({extends:{...this.component},props:Object.keys(t),template:this.component.template,setup:i=>{var o,s;return Tp("onDragStart",n),Tp("decorationClasses",this.decorationClasses),(s=(o=this.component).setup)===null||s===void 0?void 0:s.call(o,i,{expose:()=>{}})},__scopeId:this.component.__scopeId,__cssModules:this.component.__cssModules});this.renderer=new dL(r,{editor:this.editor,props:t})}get dom(){if(!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")||this.dom}update(t,n){const r=i=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(i)};if(typeof this.options.update=="function"){const i=this.node,o=this.decorations;return this.node=t,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:t,newDecorations:n,updateProps:()=>r({node:t,decorations:n})})}return t.type!==this.node.type?!1:(t===this.node&&this.decorations===n||(this.node=t,this.decorations=n,r({node:t,decorations:n})),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}getDecorationClasses(){return this.decorations.map(t=>t.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy()}}function nw(e,t){return n=>n.editor.contentComponent?new kZ(e,n,t):{}}const Dt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},xZ={name:"IframeView",components:{NodeViewWrapper:tw},props:{editor:{type:Object,default:()=>{}},node:{type:Object,default:()=>{}},decorations:{type:Array,default:()=>[]},selected:{type:Boolean,default:!1},extension:{type:Object,default:()=>{}},getPos:{type:Function,default:()=>{}},updateAttributes:{type:Function,default:()=>{}}}},SZ={class:"vui-iframe-wrap"},CZ=["src"];function TZ(e,t,n,r,i,o){const s=lt("node-view-wrapper");return me(),Et(s,{class:mt(["vui-iframe",{selected:n.selected}])},{default:Bt(()=>[ie("div",SZ,[ie("iframe",mi(n.node.attrs,{src:n.node.attrs.url}),null,16,CZ)])]),_:1},8,["class"])}const EZ=Dt(xZ,[["render",TZ]]),AZ=_n.create({name:"iframe",group:"block",atom:!0,addAttributes(){return{url:{default:null},frameborder:{default:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:e}){return["iframe",e]},addNodeView(){return nw(EZ)},addCommands(){return{setIframe:e=>({tr:t,dispatch:n})=>{const{selection:r}=t,i=this.type.create(e);return n&&t.replaceRangeWith(r.from,r.to,i),!0}}},addProseMirrorPlugins(){return[new Yt({key:new dn("handleClick"),props:{handleClick:(e,t,n)=>{n.target.classList.contains("vui-iframe")&&setTimeout(()=>{this.editor.emit("vui:iframe-clicked",n)},50)}}})]}}),hL=(e="")=>{try{const t=new URL(e);return t!==null&&t.protocol.startsWith("http")}catch{return!1}},Pb=e=>new URL(e).host.replace("www.",""),pL=fetch,OZ=async(e,t={})=>{const{target:n,headers:r={}}=t;return await pL(n+encodeURIComponent(e),{headers:r})},MZ=async(e,t={})=>{const{headers:n={"user-agent":"Mozilla/5.0 (X11; Linux x86_64; rv:104.0) Gecko/20100101 Firefox/104.0"},proxy:r=null}=t,i=r?await OZ(e,r):await pL(e,{headers:n}),o=i.status;if(o>=400)throw new Error(`Request failed with error code ${o}`);try{const s=await i.text();return JSON.parse(s.trim())}catch{throw new Error("Failed to convert data to JSON object")}},LZ=e=>Pb(e)==="graph.facebook.com",NZ=()=>{const e=process.env||{},t=e.FACEBOOK_APP_ID,n=e.FACEBOOK_CLIENT_TOKEN;return`${t}|${n}`},PZ=async(e,t={},n="",r={})=>{const i={url:e,format:"json",...t};i.maxwidth<=0&&delete i.maxwidth,i.maxheight<=0&&delete i.maxheight,LZ(n)&&(i.access_token=NZ());const o=new URLSearchParams(i).toString(),s=n+"?"+o;return MZ(s,r)},IZ=[{s:["www\\.23hq\\.com/*/photo/*"],e:"www.23hq.com/23/oembed"},{s:["store\\.abraia\\.me/*"],e:"api.abraia.me/oembed"},{s:["play\\.acast\\.com/s/*"],e:"oembed.acast.com/v1/embed-player"},{s:["secure\\.actblue\\.com/donate/*"],e:"secure.actblue.com/cf/oembed"},{s:["adilo\\.bigcommand\\.com/watch/*"],e:"adilo.bigcommand.com/web/oembed"},{s:["v\\.afree\\.ca/ST/","vod\\.afreecatv\\.com/ST/","vod\\.afreecatv\\.com/PLAYER/STATION/","play\\.afreecatv\\.com/"],e:"openapi.afreecatv.com/oembed/embedinfo"},{s:["altium\\.com/viewer/*"],e:"viewer.altium.com/shell/oembed"},{s:["app\\.altrulabs\\.com/*/*?answer_id=*","app\\.altrulabs\\.com/player/*"],e:"api.altrulabs.com/api/v1/social/oembed"},{s:["live\\.amcharts\\.com/*"],e:"live.amcharts.com/oembed"},{s:["amtraker\\.com/trains/*","beta\\.amtraker\\.com/trains/*"],e:"api.amtraker.com/v2/oembed"},{s:["www\\.animatron\\.com/project/*","animatron\\.com/project/*"],e:"animatron.com/oembed/json"},{s:["animoto\\.com/play/*"],e:"animoto.com/oembeds/create"},{s:["anniemusic\\.app/t/*","anniemusic\\.app/p/*"],e:"api.anniemusic.app/api/v1/oembed"},{s:["storymaps\\.arcgis\\.com/stories/*"],e:"storymaps.arcgis.com/oembed"},{s:["app\\.archivos\\.digital/app/view/*"],e:"app.archivos.digital/oembed/"},{s:["audioboom\\.com/channels/*","audioboom\\.com/channel/*","audioboom\\.com/playlists/*","audioboom\\.com/podcasts/*","audioboom\\.com/podcast/*","audioboom\\.com/posts/*","audioboom\\.com/episodes/*"],e:"audioboom.com/publishing/oembed.json"},{s:["audioclip\\.naver\\.com/channels/*/clips/*","audioclip\\.naver\\.com/audiobooks/*"],e:"audioclip.naver.com/oembed"},{s:["audiomack\\.com/*/song/*","audiomack\\.com/*/album/*","audiomack\\.com/*/playlist/*"],e:"audiomack.com/oembed"},{s:["podcasts\\.audiomeans\\.fr/*"],e:"podcasts.audiomeans.fr/services/oembed"},{s:["app\\.avocode\\.com/view/*"],e:"stage-embed.avocode.com/api/oembed"},{s:["backtracks\\.fm/*/*/e/*","backtracks\\.fm/*/s/*/*","backtracks\\.fm/*/*/*/*/e/*/*","backtracks\\.fm/*"],e:"backtracks.fm/oembed"},{s:["beams\\.fm/*"],e:"api.beams.fm/oEmbed"},{s:[],e:"www.beautiful.ai/api/oembed"},{s:["blackfire\\.io/profiles/*/graph","blackfire\\.io/profiles/compare/*/graph"],e:"blackfire.io/oembed"},{s:["blogcast\\.host/embed/*","blogcast\\.host/embedly/*"],e:"blogcast.host/oembed"},{s:["www\\.bookingmood\\.com/embed/*/*"],e:"bookingmood.com/api/oembed"},{s:[],e:"boxofficebuz.com/oembed"},{s:["view\\.briovr\\.com/api/v1/worlds/oembed/*"],e:"view.briovr.com/api/v1/worlds/oembed/"},{s:["www\\.bumper\\.com/oembed/bumper","www\\.bumper\\.com/oembed-s/bumper"],e:"www.bumper.com/oembed/bumper"},{s:["buttondown\\.email/*"],e:"buttondown.email/embed"},{s:["cmc\\.byzart\\.eu/files/*"],e:"cmc.byzart.eu/oembed/"},{s:["cacoo\\.com/diagrams/*"],e:"cacoo.com/oembed.json"},{s:["minesweeper\\.today/*"],e:"minesweeper.today/api/oembed"},{s:["img\\.catbo\\.at/*"],e:"img.catbo.at/oembed.json"},{s:["view\\.ceros\\.com/*"],e:"view.ceros.com/oembed"},{s:["chainflix\\.net/video/*","chainflix\\.net/video/embed/*","*\\.chainflix\\.net/video/*","*\\.chainflix\\.net/video/embed/*"],e:"www.chainflix.net/video/oembed"},{s:["public\\.chartblocks\\.com/c/*"],e:"embed.chartblocks.com/1.0/oembed"},{s:["chirb\\.it/*"],e:"chirb.it/oembed.json"},{s:["chroco\\.ooo/mypage/*","chroco\\.ooo/story/*"],e:"chroco.ooo/embed"},{s:["www\\.circuitlab\\.com/circuit/*"],e:"www.circuitlab.com/circuit/oembed/"},{s:["www\\.clipland\\.com/v/*"],e:"www.clipland.com/api/oembed"},{s:["clyp\\.it/*","clyp\\.it/playlist/*"],e:"api.clyp.it/oembed/"},{s:["app\\.ilovecoco\\.video/*/embed"],e:"app.ilovecoco.video/api/oembed.json"},{s:["codehs\\.com/editor/share_abacus/*"],e:"codehs.com/api/sharedprogram/1/oembed/"},{s:["codepen\\.io/*"],e:"codepen.io/api/oembed"},{s:["codepoints\\.net/*","www\\.codepoints\\.net/*"],e:"codepoints.net/api/v1/oembed"},{s:["codesandbox\\.io/s/*","codesandbox\\.io/embed/*"],e:"codesandbox.io/oembed"},{s:["www\\.collegehumor\\.com/video/*"],e:"www.collegehumor.com/oembed.json"},{s:["commaful\\.com/play/*"],e:"commaful.com/api/oembed/"},{s:["coub\\.com/view/*","coub\\.com/embed/*"],e:"coub.com/api/oembed.json"},{s:["crowdranking\\.com/*/*"],e:"crowdranking.com/api/oembed.json"},{s:["crumb\\.sh/*"],e:"crumb.sh/oembed/"},{s:["cueup\\.io/user/*/sounds/*"],e:"gql.cueup.io/oembed"},{s:["*\\.curated\\.co/*"],e:"api.curated.co/oembed"},{s:["app\\.customerdb\\.com/share/*"],e:"app.customerdb.com/embed"},{s:["app\\.dadan\\.io/*","stage\\.dadan\\.io/*"],e:"app.dadan.io/api/video/oembed"},{s:["www\\.dailymotion\\.com/video/*"],e:"www.dailymotion.com/services/oembed"},{s:["dalexni\\.com/i/*"],e:"dalexni.com/oembed/"},{s:["datawrapper\\.dwcdn\\.net/*"],e:"api.datawrapper.de/v3/oembed/"},{s:["*\\.deseret\\.com/*"],e:"embed.deseret.com/"},{s:["*\\.deviantart\\.com/art/*","*\\.deviantart\\.com/*#/d*","fav\\.me/*","sta\\.sh/*","*\\.deviantart\\.com/*/art/*",'sta\\.sh/*",','*\\.deviantart\\.com/*#/d*"'],e:"backend.deviantart.com/oembed"},{s:["www\\.ultimedia\\.com/central/video/edit/id/*/topic_id/*/","www\\.ultimedia\\.com/default/index/videogeneric/id/*/showtitle/1/viewnc/1","www\\.ultimedia\\.com/default/index/videogeneric/id/*"],e:"www.ultimedia.com/api/search/oembed"},{s:["*\\.docdroid\\.net/*","docdro\\.id/*","*\\.docdroid\\.com/*"],e:"www.docdroid.net/api/oembed"},{s:["docswell\\.com/*/*","www\\.docswell\\.com/*/*"],e:"www.docswell.com/service/oembed"},{s:["dotsub\\.com/view/*"],e:"dotsub.com/services/oembed"},{s:["www\\.dreambroker\\.com/channel/*/*"],e:"dreambroker.com/channel/oembed"},{s:["d\\.tube/v/*"],e:"api.d.tube/oembed"},{s:[],e:"www.edumedia-sciences.com/oembed.json"},{s:[],e:"www.edumedia-sciences.com/oembed.xml"},{s:["egliseinfo\\.catholique\\.fr/*"],e:"egliseinfo.catholique.fr/api/oembed"},{s:["embedery\\.com/widget/*"],e:"embedery.com/api/oembed"},{s:["music\\.enystre\\.com/lyrics/*"],e:"music.enystre.com/oembed"},{s:["ethfiddle\\.com/*"],e:"ethfiddle.com/services/oembed/"},{s:["evt\\.live/*","evt\\.live/*/*","live\\.eventlive\\.pro/*","live\\.eventlive\\.pro/*/*"],e:"evt.live/api/oembed"},{s:["app\\.everviz\\.com/embed/*"],e:"api.everviz.com/oembed"},{s:["app\\.ex\\.co/stories/*","www\\.playbuzz\\.com/*"],e:"oembed.ex.co/item"},{s:["eyrie\\.io/board/*","eyrie\\.io/sparkfun/*"],e:"eyrie.io/v1/oembed"},{s:["www\\.facebook\\.com/*/posts/*","www\\.facebook\\.com/*/activity/*","www\\.facebook\\.com/*/photos/*","www\\.facebook\\.com/photo\\.php?fbid=*","www\\.facebook\\.com/photos/*","www\\.facebook\\.com/permalink\\.php?story_fbid=*","www\\.facebook\\.com/media/set?set=*","www\\.facebook\\.com/questions/*","www\\.facebook\\.com/notes/*/*/*"],e:"graph.facebook.com/v10.0/oembed_post"},{s:["www\\.facebook\\.com/*/videos/*","www\\.facebook\\.com/video\\.php?id=*","www\\.facebook\\.com/video\\.php?v=*"],e:"graph.facebook.com/v10.0/oembed_video"},{s:["www\\.facebook\\.com/*"],e:"graph.facebook.com/v10.0/oembed_page"},{s:["app\\.getfader\\.com/projects/*/publish"],e:"app.getfader.com/api/oembed"},{s:["faithlifetv\\.com/items/*","faithlifetv\\.com/items/resource/*/*","faithlifetv\\.com/media/*","faithlifetv\\.com/media/assets/*","faithlifetv\\.com/media/resource/*/*"],e:"faithlifetv.com/api/oembed"},{s:["*\\.fireworktv\\.com/*","*\\.fireworktv\\.com/embed/*/v/*"],e:"www.fireworktv.com/oembed"},{s:["www\\.fite\\.tv/watch/*"],e:"www.fite.tv/oembed"},{s:["flat\\.io/score/*","*\\.flat\\.io/score/*"],e:"flat.io/services/oembed"},{s:["*\\.flickr\\.com/photos/*","flic\\.kr/p/*","*\\.*\\.flickr\\.com/*/*"],e:"www.flickr.com/services/oembed/"},{s:["public\\.flourish\\.studio/visualisation/*","public\\.flourish\\.studio/story/*"],e:"app.flourish.studio/api/v1/oembed"},{s:["fiso\\.foxsports\\.com\\.au/isomorphic-widget/*"],e:"fiso.foxsports.com.au/oembed"},{s:["framebuzz\\.com/v/*"],e:"framebuzz.com/oembed/"},{s:["framer\\.com/share/*","framer\\.com/embed/*"],e:"api.framer.com/web/oembed"},{s:["*\\.geograph\\.org\\.uk/*","*\\.geograph\\.co\\.uk/*","*\\.geograph\\.ie/*","*\\.wikimedia\\.org/*_geograph\\.org\\.uk_*"],e:"api.geograph.org.uk/api/oembed"},{s:["*\\.geograph\\.org\\.gg/*","*\\.geograph\\.org\\.je/*","channel-islands\\.geograph\\.org/*","channel-islands\\.geographs\\.org/*","*\\.channel\\.geographs\\.org/*"],e:"www.geograph.org.gg/api/oembed"},{s:["geo-en\\.hlipp\\.de/*","geo\\.hlipp\\.de/*","germany\\.geograph\\.org/*"],e:"geo.hlipp.de/restapi.php/api/oembed"},{s:["gty\\.im/*"],e:"embed.gettyimages.com/oembed"},{s:["gfycat\\.com/*","www\\.gfycat\\.com/*"],e:"api.gfycat.com/v1/oembed"},{s:["www\\.gifnote\\.com/play/*"],e:"www.gifnote.com/services/oembed"},{s:["giphy\\.com/gifs/*","giphy\\.com/clips/*","gph\\.is/*","media\\.giphy\\.com/media/*/giphy\\.gif"],e:"giphy.com/services/oembed"},{s:[],e:"gloria.tv/oembed/"},{s:["view\\.gmetri\\.com/*","*\\.gmetri\\.com/*"],e:"embed.gmetri.com/oembed/"},{s:["app\\.gong\\.io/call?id=*"],e:"app.gong.io/oembed"},{s:["grain\\.co/highlight/*","grain\\.co/share/*","grain\\.com/share/*"],e:"api.grain.com/_/api/oembed"},{s:["gtchannel\\.com/watch/*"],e:"api.luminery.com/oembed"},{s:["gyazo\\.com/*"],e:"api.gyazo.com/api/oembed"},{s:["core\\.hash\\.ai/@*"],e:"api.hash.ai/oembed"},{s:["hearthis\\.at/*/*/","hearthis\\.at/*/set/*/"],e:"hearthis.at/oembed/?format=json"},{s:["heyzine\\.com/flip-book/*","*\\.hflip\\.co/*","*\\.aflip\\.in/*"],e:"heyzine.com/api1/oembed"},{s:["player\\.hihaho\\.com/*"],e:"player.hihaho.com/services/oembed"},{s:["*\\.hippovideo\\.io/*"],e:"www.hippovideo.io/services/oembed"},{s:["homey\\.app/f/*","homey\\.app/*/flow/*"],e:"homey.app/api/oembed/flow"},{s:["huffduffer\\.com/*/*"],e:"huffduffer.com/oembed"},{s:["www\\.hulu\\.com/watch/*"],e:"www.hulu.com/api/oembed.json"},{s:["*\\.idomoo\\.com/*"],e:"oembed.idomoo.com/oembed"},{s:["www\\.ifixit\\.com/Guide/View/*"],e:"www.ifixit.com/Embed"},{s:["ifttt\\.com/recipes/*"],e:"www.ifttt.com/oembed/"},{s:["www\\.iheart\\.com/podcast/*/*"],e:"www.iheart.com/oembed"},{s:["qr\\.imenupro\\.com/*"],e:"qr.imenupro.com/api/oembed"},{s:["incredible\\.dev/watch/*"],e:"oembed.incredible.dev/oembed"},{s:["player\\.indacolive\\.com/player/jwp/clients/*"],e:"player.indacolive.com/services/oembed"},{s:["infogram\\.com/*"],e:"infogram.com/oembed"},{s:["*\\.infoveave\\.net/E/*","*\\.infoveave\\.net/P/*"],e:"infoveave.net/services/oembed/"},{s:["www\\.injurymap\\.com/exercises/*"],e:"www.injurymap.com/services/oembed"},{s:["www\\.inoreader\\.com/oembed/"],e:"www.inoreader.com/oembed/api/"},{s:["*\\.inphood\\.com/*"],e:"api.inphood.com/oembed"},{s:["instagram\\.com/*/p/*,","www\\.instagram\\.com/*/p/*,","instagram\\.com/p/*","instagr\\.am/p/*","www\\.instagram\\.com/p/*","www\\.instagr\\.am/p/*","instagram\\.com/tv/*","instagr\\.am/tv/*","www\\.instagram\\.com/tv/*","www\\.instagr\\.am/tv/*","www\\.instagram\\.com/reel/*","instagram\\.com/reel/*","instagr\\.am/reel/*"],e:"graph.facebook.com/v10.0/instagram_oembed"},{s:["ppa\\.insticator\\.com/embed-unit/*"],e:"www.insticator.com/oembed"},{s:["issuu\\.com/*/docs/*"],e:"issuu.com/oembed"},{s:["jovian\\.ml/*","jovian\\.ml/viewer*","*\\.jovian\\.ml/*","jovian\\.ai/*","jovian\\.ai/viewer*","*\\.jovian\\.ai/*","jovian\\.com/*","jovian\\.com/viewer*","*\\.jovian\\.com/*"],e:"api.jovian.com/oembed.json"},{s:["tv\\.kakao\\.com/channel/*/cliplink/*","tv\\.kakao\\.com/m/channel/*/cliplink/*","tv\\.kakao\\.com/channel/v/*","tv\\.kakao\\.com/channel/*/livelink/*","tv\\.kakao\\.com/m/channel/*/livelink/*","tv\\.kakao\\.com/channel/l/*"],e:"tv.kakao.com/oembed"},{s:["www\\.kickstarter\\.com/projects/*"],e:"www.kickstarter.com/services/oembed"},{s:["www\\.kidoju\\.com/en/x/*/*","www\\.kidoju\\.com/fr/x/*/*"],e:"www.kidoju.com/api/oembed"},{s:["halaman\\.email/form/*","aplikasi\\.kirim\\.email/form/*"],e:"halaman.email/service/oembed"},{s:["kit\\.co/*/*"],e:"embed.kit.co/oembed"},{s:["www\\.kitchenbowl\\.com/recipe/*"],e:"www.kitchenbowl.com/oembed"},{s:["app\\.kmdr\\.sh/h/*","app\\.kmdr\\.sh/history/*"],e:"api.kmdr.sh/services/oembed"},{s:["jdr\\.knacki\\.info/meuh/*"],e:"jdr.knacki.info/oembed"},{s:["knowledgepad\\.co/#/knowledge/*"],e:"api.spoonacular.com/knowledge/oembed"},{s:["*\\.kooapp\\.com/koo/*"],e:"embed.kooapp.com/services/oembed"},{s:["kurozora\\.app/episodes*","kurozora\\.app/songs*"],e:"kurozora.app/oembed"},{s:["learningapps\\.org/*"],e:"learningapps.org/oembed.php"},{s:["umotion-test\\.univ-lemans\\.fr/video/*"],e:"umotion-test.univ-lemans.fr/oembed"},{s:["pod\\.univ-lille\\.fr/video/*"],e:"pod.univ-lille.fr/video/oembed"},{s:["place\\.line\\.me/businesses/*"],e:"place.line.me/oembed"},{s:["livestream\\.com/accounts/*/events/*","livestream\\.com/accounts/*/events/*/videos/*","livestream\\.com/*/events/*","livestream\\.com/*/events/*/videos/*","livestream\\.com/*/*","livestream\\.com/*/*/videos/*"],e:"livestream.com/oembed"},{s:["lottiefiles\\.com/*","*\\.lottiefiles\\.com/*"],e:"embed.lottiefiles.com/oembed"},{s:["app\\.ludus\\.one/*"],e:"app.ludus.one/oembed"},{s:["*\\.lumiere\\.is/v/*"],e:"admin.lumiere.is/api/services/oembed"},{s:["mathembed\\.com/latex?inputText=*"],e:"mathembed.com/oembed"},{s:[],e:"my.matterport.com/api/v1/models/oembed/"},{s:["me\\.me/i/*"],e:"me.me/oembed"},{s:["mdstrm\\.com/embed/*","mdstrm\\.com/live-stream/*","mdstrm\\.com/image/*"],e:"mdstrm.com/oembed"},{s:["medienarchiv\\.zhdk\\.ch/entries/*"],e:"medienarchiv.zhdk.ch/oembed.json"},{s:["mermaid\\.ink/img/*","mermaid\\.ink/svg/*"],e:"mermaid.ink/services/oembed"},{s:["*\\.microsoftstream\\.com/video/*","*\\.microsoftstream\\.com/channel/*"],e:"web.microsoftstream.com/oembed"},{s:["www\\.minervaknows\\.com/featured-recipes/*","www\\.minervaknows\\.com/themes/*","www\\.minervaknows\\.com/themes/*/recipes/*","app\\.minervaknows\\.com/recipes/*","app\\.minervaknows\\.com/recipes/*/follow"],e:"oembed.minervaknows.com"},{s:["miro\\.com/app/board/*"],e:"miro.com/api/v1/oembed"},{s:["www\\.mixcloud\\.com/*/*/"],e:"www.mixcloud.com/oembed/"},{s:["mixpanel\\.com/*"],e:"mixpanel.com/api/app/embed/oembed/"},{s:["www\\.mobypicture\\.com/user/*/view/*","moby\\.to/*"],e:"api.mobypicture.com/oEmbed"},{s:["musicboxmaniacs\\.com/explore/melody/*"],e:"musicboxmaniacs.com/embed/"},{s:["mybeweeg\\.com/w/*"],e:"mybeweeg.com/services/oembed"},{s:["namchey\\.com/embeds/*"],e:"namchey.com/api/oembed"},{s:["*\\.nanoo\\.tv/link/*","nanoo\\.tv/link/*","*\\.nanoo\\.pro/link/*","nanoo\\.pro/link/*","media\\.zhdk\\.ch/signatur/*","new\\.media\\.zhdk\\.ch/signatur/*"],e:"www.nanoo.tv/services/oembed"},{s:["www\\.nb\\.no/items/*"],e:"api.nb.no/catalog/v1/oembed"},{s:["naturalatlas\\.com/*","naturalatlas\\.com/*/*","naturalatlas\\.com/*/*/*","naturalatlas\\.com/*/*/*/*"],e:"naturalatlas.com/oembed.json"},{s:["ndla\\.no/*"],e:"ndla.no/oembed"},{s:["liste\\.ndla\\.no/*"],e:"liste.ndla.no/oembed"},{s:["*\\.nfb\\.ca/film/*"],e:"www.nfb.ca/remote/services/oembed/"},{s:["nopaste\\.ml/*"],e:"oembed.nopaste.ml"},{s:["observablehq\\.com/@*/*","observablehq\\.com/d/*","observablehq\\.com/embed/*"],e:"api.observablehq.com/oembed"},{s:["www\\.odds\\.com\\.au/*","odds\\.com\\.au/*"],e:"www.odds.com.au/api/oembed/"},{s:["song\\.link/*","album\\.link/*","artist\\.link/*","playlist\\.link/*","pods\\.link/*","mylink\\.page/*","odesli\\.co/*"],e:"song.link/oembed"},{s:["odysee\\.com/*/*","odysee\\.com/*"],e:"odysee.com/$/oembed"},{s:["official\\.fm/tracks/*","official\\.fm/playlists/*"],e:"official.fm/services/oembed.json"},{s:["omniscope\\.me/*"],e:"omniscope.me/_global_/oembed/json"},{s:["omny\\.fm/shows/*"],e:"omny.fm/oembed"},{s:["orbitvu\\.co/001/*/ov3601/view","orbitvu\\.co/001/*/ov3601/*/view","orbitvu\\.co/001/*/ov3602/*/view","orbitvu\\.co/001/*/2/orbittour/*/view","orbitvu\\.co/001/*/1/2/orbittour/*/view"],e:"orbitvu.co/service/oembed"},{s:["outplayed\\.tv/media/*"],e:"outplayed.tv/oembed"},{s:["overflow\\.io/s/*","overflow\\.io/embed/*"],e:"overflow.io/services/oembed"},{s:["www\\.oz\\.com/*/video/*"],e:"core.oz.com/oembed"},{s:["padlet\\.com/*"],e:"padlet.com/oembed/"},{s:["*\\.tv\\.pandavideo\\.com\\.br/embed/?v=*","*\\.tv\\.pandavideo\\.com\\.br/*/playlist\\.m3u8","dashboard\\.pandavideo\\.com\\.br/#/videos/*"],e:"api-v2.pandavideo.com.br/oembed"},{s:["pastery\\.net/*","www\\.pastery\\.net/*"],e:"www.pastery.net/oembed"},{s:["www\\.picturelfy\\.com/p/*"],e:"api.picturelfy.com/service/oembed/"},{s:["*\\.builder\\.pikasso\\.xyz/embed/*"],e:"builder.pikasso.xyz/api/oembed"},{s:[],e:"beta.pingvp.com.kpnis.nl/p/oembed.php"},{s:["tools\\.pinpoll\\.com/embed/*"],e:"tools.pinpoll.com/oembed"},{s:["www\\.pinterest\\.com/*"],e:"www.pinterest.com/oembed.json"},{s:["player\\.pitchhub\\.com/en/public/player/*"],e:"player.pitchhub.com/en/public/oembed"},{s:["store\\.pixdor\\.com/place-marker-widget/*/show","store\\.pixdor\\.com/map/*/show"],e:"store.pixdor.com/oembed"},{s:["app\\.plusdocs\\.com/*/snapshots/*","app\\.plusdocs\\.com/*/pages/edit/*","app\\.plusdocs\\.com/*/pages/share/*"],e:"app.plusdocs.com/oembed"},{s:["*\\.podbean\\.com/e/*"],e:"api.podbean.com/v1/oembed"},{s:["*\\.polldaddy\\.com/s/*","*\\.polldaddy\\.com/poll/*","*\\.polldaddy\\.com/ratings/*"],e:"polldaddy.com/oembed/"},{s:["portfolium\\.com/entry/*"],e:"api.portfolium.com/oembed"},{s:["present\\.do/decks/*"],e:"gateway.cobalt.run/present/decks/oembed"},{s:["prezi\\.com/v/*","*\\.prezi\\.com/v/*"],e:"prezi.com/v/oembed"},{s:["qtpi\\.gg/fashion/*"],e:"qtpi.gg/fashion/oembed"},{s:["www\\.quiz\\.biz/quizz-*\\.html"],e:"www.quiz.biz/api/oembed"},{s:["www\\.quizz\\.biz/quizz-*\\.html"],e:"www.quizz.biz/api/oembed"},{s:["play\\.radiopublic\\.com/*","radiopublic\\.com/*","www\\.radiopublic\\.com/*","*\\.radiopublic\\.com/*"],e:"oembed.radiopublic.com/oembed"},{s:["raindrop\\.io/*","raindrop\\.io/*/*","raindrop\\.io/*/*/*","raindrop\\.io/*/*/*/*"],e:"pub.raindrop.io/api/oembed"},{s:["www\\.rcvis\\.com/v/*","www\\.rcvis\\.com/visualize=*","www\\.rcvis\\.com/ve/*","www\\.rcvis\\.com/visualizeEmbedded=*"],e:"animatron.com/oembed"},{s:["reddit\\.com/r/*/comments/*/*","www\\.reddit\\.com/r/*/comments/*/*"],e:"www.reddit.com/oembed"},{s:["rwire\\.com/*"],e:"publisher.releasewire.com/oembed/"},{s:["repl\\.it/@*/*","replit\\.com/@*/*"],e:"replit.com/data/oembed"},{s:["www\\.reverbnation\\.com/*","www\\.reverbnation\\.com/*/songs/*"],e:"www.reverbnation.com/oembed"},{s:["roomshare\\.jp/post/*","roomshare\\.jp/en/post/*"],e:"roomshare.jp/en/oembed.json"},{s:["roosterteeth\\.com/*"],e:"roosterteeth.com/oembed"},{s:[],e:"rumble.com/api/Media/oembed.json"},{s:["embed\\.runkit\\.com/*,"],e:"embed.runkit.com/oembed"},{s:["octopus\\.saooti\\.com/main/pub/podcast/*"],e:"octopus.saooti.com/oembed"},{s:["videos\\.sapo\\.pt/*"],e:"videos.sapo.pt/oembed"},{s:["console\\.screen9\\.com/*","*\\.screen9\\.tv/*"],e:"api.screen9.com/oembed"},{s:["www\\.screencast\\.com/*"],e:"api.screencast.com/external/oembed"},{s:["www\\.screenr\\.com/*/"],e:"www.screenr.com/api/oembed.json"},{s:["www\\.scribblemaps\\.com/maps/view/*","scribblemaps\\.com/maps/view/*"],e:"scribblemaps.com/api/services/oembed.json"},{s:["www\\.scribd\\.com/doc/*"],e:"www.scribd.com/services/oembed/"},{s:["embed\\.sendtonews\\.com/oembed/*"],e:"embed.sendtonews.com/services/oembed"},{s:["www\\.shortnote\\.jp/view/notes/*"],e:"www.shortnote.jp/oembed/"},{s:["shoudio\\.com/*","shoud\\.io/*"],e:"shoudio.com/api/oembed"},{s:["app\\.getshow\\.io/iframe/*","*\\.getshow\\.io/share/*"],e:"api.getshow.io/oembed.json"},{s:["showtheway\\.io/to/*"],e:"showtheway.io/oembed"},{s:["simplecast\\.com/s/*"],e:"simplecast.com/oembed"},{s:["onsizzle\\.com/i/*"],e:"onsizzle.com/oembed"},{s:["sketchfab\\.com/*models/*","sketchfab\\.com/*/folders/*"],e:"sketchfab.com/oembed"},{s:["www\\.slideshare\\.net/*/*","fr\\.slideshare\\.net/*/*","de\\.slideshare\\.net/*/*","es\\.slideshare\\.net/*/*","pt\\.slideshare\\.net/*/*"],e:"www.slideshare.net/api/oembed/2"},{s:["smashnotes\\.com/p/*","smashnotes\\.com/p/*/e/* - https://smashnotes\\.com/p/*/e/*/s/*"],e:"smashnotes.com/services/oembed"},{s:["open\\.smeme\\.com/*"],e:"open.smeme.com/api/oembed"},{s:["www\\.smrthi\\.com/book/*"],e:"www.smrthi.com/api/oembed"},{s:["*\\.smugmug\\.com/*"],e:"api.smugmug.com/services/oembed/"},{s:["www\\.socialexplorer\\.com/*/explore","www\\.socialexplorer\\.com/*/view","www\\.socialexplorer\\.com/*/edit","www\\.socialexplorer\\.com/*/embed"],e:"www.socialexplorer.com/services/oembed/"},{s:["soundcloud\\.com/*","on\\.soundcloud\\.com/*","soundcloud\\.app\\.goog\\.gl/*"],e:"soundcloud.com/oembed"},{s:["speakerdeck\\.com/*/*"],e:"speakerdeck.com/oembed.json"},{s:["open\\.spotify\\.com/*","spotify:*"],e:"open.spotify.com/oembed"},{s:["*\\.spotlightr\\.com/watch/*","*\\.spotlightr\\.com/publish/*","*\\.cdn\\.spotlightr\\.com/watch/*","*\\.cdn\\.spotlightr\\.com/publish/*"],e:"api.spotlightr.com/getOEmbed"},{s:["*\\.spreaker\\.com/*"],e:"api.spreaker.com/oembed"},{s:["sproutvideo\\.com/videos/*","*\\.vids\\.io/videos/*"],e:"sproutvideo.com/oembed.json"},{s:["purl\\.stanford\\.edu/*"],e:"purl.stanford.edu/embed.json"},{s:["streamable\\.com/*"],e:"api.streamable.com/oembed.json"},{s:["s3m\\.io/*","23m\\.io/*"],e:"streamio.com/api/v1/oembed"},{s:["subscribi\\.io/api/oembed*"],e:"subscribi.io/api/oembed"},{s:["www\\.sudomemo\\.net/watch/*","flipnot\\.es/*"],e:"www.sudomemo.net/oembed"},{s:["www\\.sutori\\.com/story/*"],e:"www.sutori.com/api/oembed"},{s:["sway\\.com/*","www\\.sway\\.com/*"],e:"sway.com/api/v1.0/oembed"},{s:["sway\\.office\\.com/*"],e:"sway.office.com/api/v1.0/oembed"},{s:["share\\.synthesia\\.io/*"],e:"69jr5v75rc.execute-api.eu-west-1.amazonaws.com/prod/v2/oembed"},{s:["ted\\.com/talks/*","www\\.ted\\.com/talks/*"],e:"www.ted.com/services/v1/oembed.json"},{s:["www\\.nytimes\\.com/svc/oembed","nytimes\\.com/*","*\\.nytimes\\.com/*"],e:"www.nytimes.com/svc/oembed/json/"},{s:["theysaidso\\.com/image/*"],e:"theysaidso.com/extensions/oembed/"},{s:["www\\.tickcounter\\.com/countdown/*","www\\.tickcounter\\.com/countup/*","www\\.tickcounter\\.com/ticker/*","www\\.tickcounter\\.com/worldclock/*"],e:"www.tickcounter.com/oembed"},{s:["www\\.tiktok\\.com/*","www\\.tiktok\\.com/*/video/*"],e:"www.tiktok.com/oembed"},{s:["www\\.toornament\\.com/tournaments/*/information","www\\.toornament\\.com/tournaments/*/registration/","www\\.toornament\\.com/tournaments/*/matches/schedule","www\\.toornament\\.com/tournaments/*/stages/*/"],e:"widget.toornament.com/oembed"},{s:["www\\.topy\\.se/image/*"],e:"www.topy.se/oembed/"},{s:["app-test\\.totango\\.com/*"],e:"app-test.totango.com/oembed"},{s:["trinitymedia\\.ai/player/*"],e:"trinitymedia.ai/player/trinity-oembed"},{s:["*\\.tumblr\\.com/post/*"],e:"www.tumblr.com/oembed/1.0"},{s:["www\\.tuxx\\.be/*"],e:"www.tuxx.be/services/oembed"},{s:["play\\.tvcf\\.co\\.kr/*","*\\.tvcf\\.co\\.kr/*"],e:"play.tvcf.co.kr/rest/oembed"},{s:["twinmotion\\.unrealengine\\.com/presentation/*","twinmotion\\.unrealengine\\.com/panorama/*"],e:"twinmotion.unrealengine.com/oembed"},{s:["twitter\\.com/*","twitter\\.com/*/status/*","*\\.twitter\\.com/*/status/*"],e:"publish.twitter.com/oembed"},{s:["play\\.typecast\\.ai/s/*","play\\.typecast\\.ai/e/*","play\\.typecast\\.ai/*"],e:"play.typecast.ai/oembed"},{s:[],e:"typlog.com/oembed"},{s:["uapod\\.univ-antilles\\.fr/video/*"],e:"uapod.univ-antilles.fr/oembed"},{s:["map\\.cam\\.ac\\.uk/*"],e:"map.cam.ac.uk/oembed/"},{s:["mediatheque\\.univ-paris1\\.fr/video/*"],e:"mediatheque.univ-paris1.fr/oembed"},{s:["pod\\.u-pec\\.fr/video/*"],e:"pod.u-pec.fr/oembed"},{s:["*\\.ustream\\.tv/*","*\\.ustream\\.com/*"],e:"www.ustream.tv/oembed"},{s:["*\\.ustudio\\.com/embed/*","*\\.ustudio\\.com/embed/*/*"],e:"app.ustudio.com/api/v2/oembed"},{s:["veer\\.tv/videos/*"],e:"api.veer.tv/oembed"},{s:["veervr\\.tv/videos/*"],e:"api.veervr.tv/oembed"},{s:["www\\.vevo\\.com/*"],e:"www.vevo.com/oembed"},{s:["videfit\\.com/videos/*"],e:"videfit.com/oembed"},{s:["vidmount\\.com/*"],e:"vidmount.com/oembed"},{s:["*\\.vidyard\\.com/*","*\\.hubs\\.vidyard\\.com/*"],e:"api.vidyard.com/dashboard/v1.1/oembed"},{s:["vimeo\\.com/*","vimeo\\.com/album/*/video/*","vimeo\\.com/channels/*/*","vimeo\\.com/groups/*/videos/*","vimeo\\.com/ondemand/*/*","player\\.vimeo\\.com/video/*"],e:"vimeo.com/api/oembed.json"},{s:["www\\.viously\\.com/*/*"],e:"www.viously.com/oembed"},{s:["vizydrop\\.com/shared/*"],e:"vizydrop.com/oembed"},{s:["vlipsy\\.com/*"],e:"vlipsy.com/oembed"},{s:["www\\.vlive\\.tv/video/*"],e:"www.vlive.tv/oembed"},{s:["*\\.vouchfor\\.com/*"],e:"embed.vouchfor.com/v1/oembed"},{s:["article\\.voxsnap\\.com/*/*"],e:"data.voxsnap.com/oembed"},{s:["waltrack\\.net/product/*"],e:"waltrack.net/oembed"},{s:["watch\\.wave\\.video/*","embed\\.wave\\.video/*"],e:"embed.wave.video/oembed"},{s:["play\\.wecandeo\\.com/video/v/*"],e:"play.wecandeo.com/oembed/"},{s:["whimsical\\.com/*"],e:"whimsical.com/api/oembed"},{s:["fast\\.wistia\\.com/embed/iframe/*","fast\\.wistia\\.com/embed/playlists/*","*\\.wistia\\.com/medias/*"],e:"fast.wistia.com/oembed.json"},{s:["*\\.wizer\\.me/learn/*","*\\.wizer\\.me/preview/*"],e:"app.wizer.me/api/oembed.json"},{s:["wokwi\\.com/share/*"],e:"wokwi.com/api/oembed"},{s:["*\\.wolframcloud\\.com/*"],e:"www.wolframcloud.com/oembed"},{s:["wordpress\\.com/*","*\\.wordpress\\.com/*","*\\.*\\.wordpress\\.com/*","wp\\.me/*"],e:"public-api.wordpress.com/oembed/"},{s:["*\\.youtube\\.com/watch*","*\\.youtube\\.com/v/*","youtu\\.be/*","*\\.youtube\\.com/playlist?list=*","youtube\\.com/playlist?list=*","*\\.youtube\\.com/shorts*"],e:"www.youtube.com/oembed"},{s:["app\\.zeplin\\.io/project/*/screen/*","app\\.zeplin\\.io/project/*/screen/*/version/*","app\\.zeplin\\.io/project/*/styleguide/components?coid=*","app\\.zeplin\\.io/styleguide/*/components?coid=*"],e:"app.zeplin.io/embed"},{s:["app\\.zingsoft\\.com/embed/*","app\\.zingsoft\\.com/view/*"],e:"app.zingsoft.com/oembed"},{s:["*\\.znipe\\.tv/*"],e:"api.znipe.tv/v3/oembed/"},{s:["srv2\\.zoomable\\.ca/viewer\\.php*"],e:"srv2.zoomable.ca/oembed"}],DZ=(e="")=>new RegExp(e.replace(/\\./g,".").replace(/\*/g,"(.*)").replace(/\?/g,"\\?").replace(/,$/g,""),"i"),RZ=(e=[])=>e.map(t=>{const{e:n,s:r}=t;return{endpoint:`https://${n}`,schemes:r.map(DZ)}}),zZ={providers:RZ(IZ)},BZ=()=>[...zZ.providers],$Z=(e="",t="",n=[])=>{if(!n.length){const r=Pb(e),i=Pb(t);return r===i}return n.some(r=>e.match(r))},HZ=(e="")=>{if(!hL(e))return null;const t=BZ();for(let n=0;n<t.length;n++){const{endpoint:r,schemes:i}=t[n];if($Z(e,r,i))return{schemes:i,endpoint:r,url:e}}return null},FZ=e=>{const t=HZ(e);return t?t.endpoint:null},VZ=async(e,t={},n={})=>{if(!hL(e))throw new Error("Invalid input URL");const r=FZ(e);if(!r)throw new Error(`No provider found with given url "${e}"`);return await PZ(e,t,r,n)},jZ=function(e){const t={heading:"",text:"",trace:""};t.heading=Yn(e,"response.statusText","An error has occurred"),t.text=Yn(e,"response.data.message",Yn(e,"response.data.error",e));const n=Yn(e,"response.data.file",""),r=Yn(e,"response.data.line","");n&&r&&(t.trace=`${n}:${r}`);const i=Yn(e,"response.data.trace.0.file",""),o=Yn(e,"response.data.trace.0.line","");i&&o&&(t.trace+=`<br>${i}:${o}`);const s=Yn(e,"stack","");return s&&(t.trace+=s),t},WZ={name:"MediaEmbedView",components:{NodeViewWrapper:tw},props:{editor:{type:Object,default:()=>{}},node:{type:Object,default:()=>{}},decorations:{type:Array,default:()=>[]},selected:{type:Boolean,default:!1},extension:{type:Object,default:()=>{}},getPos:{type:Function,default:()=>{}},updateAttributes:{type:Function,default:()=>{}}},data(){return{error:!1,errorMessage:""}},computed:{html(){var e;return this.node.attrs.url?(e=this.data)==null?void 0:e.html:""},data:{get(){return this.node.attrs.data},set(e){return this.updateAttributes({data:e})}}},watch:{"node.attrs.url":function(e,t){this.initEmbed()}},created(){this.editor.on("vui:code-editor-toggle",()=>{this.initEmbed()})},mounted(){this.$nextTick(()=>{this.html||this.initEmbed()})},methods:{async initEmbed(){if(this.error=!1,this.errorMessage="",this.node.attrs.url)try{const e=await VZ(this.node.attrs.url);this.data=e}catch(e){console.error(e),this.data=null,this.error=!0;const t=jZ(e);this.errorMessage=`<strong>${t.heading}</strong><br><small>${t.text}<br>${t.trace}</small>`}}}},UZ={key:0,class:"vui-media-wrap"},KZ={class:"vui-media-wrap-error"},qZ=["innerHTML"],GZ=["innerHTML"];function JZ(e,t,n,r,i,o){const s=lt("node-view-wrapper");return me(),Et(s,{class:mt(["vui-media-embed",{selected:n.selected}])},{default:Bt(()=>[i.error?(me(),Se("div",UZ,[ie("div",KZ,[ie("span",{class:"error",innerHTML:i.errorMessage},null,8,qZ)])])):(me(),Se("div",{key:1,class:"vui-media-wrap vui-loading vui-loading-lg",innerHTML:o.html},null,8,GZ))]),_:1},8,["class"])}const YZ=Dt(WZ,[["render",JZ]]),XZ=_n.create({name:"mediaEmbed",group:"block",atom:!0,addAttributes(){return{url:{default:null},data:{default:null}}},parseHTML(){return[{tag:"media-embed",getAttrs:e=>JSON.parse(e.innerHTML)}]},renderHTML({HTMLAttributes:e}){return["media-embed",JSON.stringify(e)]},addNodeView(){return nw(YZ)},addCommands(){return{setEmbed:e=>({tr:t,dispatch:n})=>{const{selection:r}=t,i=this.type.create(e);return n&&t.replaceRangeWith(r.from,r.to,i),!0}}},addProseMirrorPlugins(){return[new Yt({key:new dn("handleClick"),props:{handleClick:(e,t,n)=>{n.target.classList.contains("vui-media-embed")&&setTimeout(()=>{this.editor.emit("vui:media-embed-clicked",n)},50)}}})]}}),ZZ=[dG,mG,yG,xG,TG,EG,AG,OG,LG,PG,RG,$G.configure({levels:[1,2,3,4,5,6]}),HG,FG,jG,UJ.configure({resizable:!0}),GJ,qJ,KJ,mY,gY.configure({types:["heading","paragraph"],defaultAlignment:"start"}),$Y.configure({openOnClick:!1}),VY,AZ,XZ],QZ=[{name:"h1",svg:"h1",title:Craft.t("vizy","Heading 1"),commandInfo:{shortcut:"Mod-Alt-1"},command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).setNode("heading",{level:1}).run()}},{name:"h2",svg:"h2",title:Craft.t("vizy","Heading 2"),commandInfo:{shortcut:"Mod-Alt-2"},command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).setNode("heading",{level:2}).run()}},{name:"h3",svg:"h3",title:Craft.t("vizy","Heading 3"),commandInfo:{shortcut:"Mod-Alt-3"},command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).setNode("heading",{level:3}).run()}},{name:"unordered-list",svg:"list-ul",title:Craft.t("vizy","Bullet List"),commandInfo:{shortcut:"Mod-Shift-8"},command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleBulletList().run()}},{name:"ordered-list",svg:"list-ol",title:Craft.t("vizy","Ordered List"),commandInfo:{shortcut:"Mod-Shift-7"},command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleOrderedList().run()}},{name:"media-embed",svg:"photo-film",title:Craft.t("vizy","Media Embed"),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).run(),e.emit("vui:media-embed-modal-open")}},{name:"link",svg:"link",title:Craft.t("vizy","Link"),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).run(),e.emit("vui:link-modal-open")}},{name:"image",icon:"image",title:Craft.t("vizy","Image"),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).run(),e.emit("vui:image-modal-open")}},{name:"code-block",svg:"code",title:Craft.t("vizy","Code Block"),commandInfo:{shortcut:"Mod-Alt-c"},command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleCodeBlock().run()}},{name:"blockquote",svg:"quote-right",title:Craft.t("vizy","Blockquote"),commandInfo:{shortcut:"Mod-Shift-b"},command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).toggleBlockquote().run()}},{name:"hr",svg:"horizontal-rule",title:Craft.t("vizy","Horizontal Rule"),command:({editor:e,range:t})=>{e.chain().focus().deleteRange(t).setHorizontalRule().run()}}];class eQ{constructor(t){this.instance=t,this.registeredExtensions=[],this.registeredButtons=[],this.registeredCommands=[]}registerExtensions(t){this.registeredExtensions.push(t)}registerButtons(t){this.registeredButtons.push(t)}registerCommands(t){this.registeredCommands.push(t)}getExtensions(){return this._getComponents(this.registeredExtensions,ZZ)}getButtons(){return this._getComponents(this.registeredButtons,aG)}getCommands(){return this._getComponents(this.registeredCommands,QZ)}_getComponents(t,n){return t.forEach(r=>{const i=r(n);i&&(n=n.concat(Array.isArray(i)?i:[i]))}),n.filter(r=>!!r)}get tiptap(){return{core:sG}}}const tQ=er.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",$t(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=Xu(e,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:t.unsetMark(this.name)}}}}),nQ={name:"CollapseTransition",props:{name:{type:String,required:!1,default:"collapse"},dimension:{type:String,required:!1,default:"height",validator:e=>["height","width"].includes(e)},duration:{type:Number,required:!1,default:300},easing:{type:String,required:!1,default:"ease-in-out"}},watch:{dimension(){this.clearCachedDimensions()}},data(){return{cachedStyles:null}},computed:{transition(){let e=[];return Object.keys(this.cachedStyles).forEach(t=>{e.push(`${this.convertToCssProperty(t)} ${this.duration}ms ${this.easing}`)}),e.join(", ")}},methods:{beforeAppear(e){this.$emit("before-appear",e)},appear(e){this.$emit("appear",e)},afterAppear(e){this.$emit("after-appear",e)},appearCancelled(e){this.$emit("appear-cancelled",e)},beforeEnter(e){this.$emit("before-enter",e)},enter(e,t){this.detectAndCacheDimensions(e),this.setClosedDimensions(e),this.hideOverflow(e),this.forceRepaint(e),this.setTransition(e),this.setOpenedDimensions(e),this.$emit("enter",e,t),setTimeout(t,this.duration)},afterEnter(e){this.unsetOverflow(e),this.unsetTransition(e),this.unsetDimensions(e),this.clearCachedDimensions(),this.$emit("after-enter",e)},enterCancelled(e){this.$emit("enter-cancelled",e)},beforeLeave(e){this.$emit("before-leave",e)},leave(e,t){this.detectAndCacheDimensions(e),this.setOpenedDimensions(e),this.hideOverflow(e),this.forceRepaint(e),this.setTransition(e),this.setClosedDimensions(e),this.$emit("leave",e,t),setTimeout(t,this.duration)},afterLeave(e){this.unsetOverflow(e),this.unsetTransition(e),this.unsetDimensions(e),this.clearCachedDimensions(),this.$emit("after-leave",e)},leaveCancelled(e){this.$emit("leave-cancelled",e)},detectAndCacheDimensions(e){if(this.cachedStyles)return;const t=e.style.visibility,n=e.style.display;e.style.visibility="hidden",e.style.display="",this.cachedStyles=this.detectRelevantDimensions(e),e.style.visibility=t,e.style.display=n},clearCachedDimensions(){this.cachedStyles=null},detectRelevantDimensions(e){return this.dimension==="height"?{height:e.offsetHeight+"px",paddingTop:e.style.paddingTop||this.getCssValue(e,"padding-top"),paddingBottom:e.style.paddingBottom||this.getCssValue(e,"padding-bottom")}:this.dimension==="width"?{width:e.offsetWidth+"px",paddingLeft:e.style.paddingLeft||this.getCssValue(e,"padding-left"),paddingRight:e.style.paddingRight||this.getCssValue(e,"padding-right")}:{}},setTransition(e){e.style.transition=this.transition},unsetTransition(e){e.style.transition=""},hideOverflow(e){e.style.overflow="hidden"},unsetOverflow(e){e.style.overflow=""},setClosedDimensions(e){Object.keys(this.cachedStyles).forEach(t=>{e.style[t]="0"})},setOpenedDimensions(e){Object.keys(this.cachedStyles).forEach(t=>{e.style[t]=this.cachedStyles[t]})},unsetDimensions(e){Object.keys(this.cachedStyles).forEach(t=>{e.style[t]=""})},forceRepaint(e){getComputedStyle(e)[this.dimension]},getCssValue(e,t){return getComputedStyle(e,null).getPropertyValue(t)},convertToCssProperty(e){const t=e.match(/([A-Z])/g);if(!t)return e;for(let n=0,r=t.length;n<r;n++)e=e.replace(new RegExp(t[n]),"-"+t[n].toLowerCase());return e.slice(0,1)==="-"&&(e=e.slice(1)),e}}};function rQ(e,t,n,r,i,o){return me(),Et(ku,{name:n.name,onBeforeAppear:o.beforeAppear,onAppear:o.appear,onAfterAppear:o.afterAppear,onAppearCancelled:o.appearCancelled,onBeforeEnter:o.beforeEnter,onEnter:o.enter,onAfterEnter:o.afterEnter,onEnterCancelled:o.enterCancelled,onBeforeLeave:o.beforeLeave,onLeave:o.leave,onAfterLeave:o.afterLeave,onLeaveCancelled:o.leaveCancelled},{default:Bt(()=>[pn(e.$slots,"default")]),_:3},8,["name","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled"])}const iQ=Dt(nQ,[["render",rQ]]);function TT(e,t){let n,r;const i=e.toLowerCase();for(t=[].concat(t),n=0;n<t.length;n+=1)if(r=t[n],!!r&&(r.test&&r.test(e)||r.toLowerCase()===i))return!0}const oQ=(e,t,n)=>{if(typeof e=="number"&&(e=`${e}`),typeof e!="string")return!!e;if(e=e.trim(),TT(e,t||["true","1"]))return!0;if(TT(e,n||["false","0"]))return!1},sQ={name:"LightswitchField",props:{small:{type:Boolean,default:!1},extraSmall:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{id:`lightswitch-${Craft.randomString(10)}`,dragger:null,dragging:!1,innerStyle:{},proxyValue:!1,indeterminate:!1}},computed:{offMargin(){return this.small?-10:-12}},watch:{proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.proxyValue=this.modelValue},mounted(){const{container:e}=this.$refs;this.$nextTick(()=>{const t=$(e).data("lightswitch");t&&t.destroy(),this.dragger=new Garnish.BaseDrag(e,{axis:Garnish.X_AXIS,ignoreHandleSelector:null,onDragStart:this.onDragStart.bind(this),onDrag:this.onDrag.bind(this),onDragStop:this.onDragStop.bind(this)})})},beforeUnmount(){this.dragger&&this.dragger.destroy()},methods:{turnOn(){this.proxyValue=!0,this.indeterminate=!1,this.dragging=!0;const{innerContainer:e}=this.$refs,t={[`margin-${Craft.left}`]:0};$(e).velocity("stop").velocity(t,Craft.LightSwitch.animationDuration,this.onSettle.bind(this))},turnOff(){this.proxyValue=!1,this.indeterminate=!1,this.dragging=!0;const{innerContainer:e}=this.$refs,t={[`margin-${Craft.left}`]:this.offMargin};$(e).velocity("stop").velocity(t,Craft.LightSwitch.animationDuration,this.onSettle.bind(this))},toggle(){this.indeterminate||!this.proxyValue?this.turnOn():this.turnOff()},onMouseUp(){this.dragger.dragging||this.toggle()},onKeyDown(e){switch(e.keyCode){case Garnish.SPACE_KEY:{this.toggle(),e.preventDefault();break}case Garnish.RIGHT_KEY:{Craft.orientation==="ltr"?this.turnOn():this.turnOff(),e.preventDefault();break}case Garnish.LEFT_KEY:{Craft.orientation==="ltr"?this.turnOff():this.turnOn(),e.preventDefault();break}}},onDragStart(){this.dragging=!0,this.dragStartMargin=this.getMargin()},onDrag(){let e;Craft.orientation==="ltr"?e=this.dragStartMargin+this.dragger.mouseDistX:e=this.dragStartMargin-this.dragger.mouseDistX,e<this.offMargin?e=this.offMargin:e>0&&(e=0);const{innerContainer:t}=this.$refs;$(t).css(`margin-${Craft.left}`,e)},onDragStop(){this.getMargin()>this.offMargin/2?this.turnOn():this.turnOff()},onSettle(){this.dragging=!1},getMargin(){const{innerContainer:e}=this.$refs,t=e.currentStyle||window.getComputedStyle(e);return parseInt(t.marginLeft)},toBoolean(e){return oQ(e)}}},aQ=["id","aria-labelledby","aria-checked"],lQ={ref:"innerContainer",class:"lightswitch-container"},uQ=ie("div",{class:"handle"},null,-1),cQ=[uQ];function fQ(e,t,n,r,i,o){return me(),Se("div",{id:i.id,ref:"container",tabindex:"0",role:"checkbox",class:mt(["lightswitch",[{on:o.toBoolean(i.proxyValue),indeterminate:i.indeterminate,dragging:i.dragging,small:n.small,"extra-small":n.extraSmall}]]),"aria-labelledby":`${i.id}-label`,"aria-checked":i.proxyValue?"true":i.indeterminate?"mixed":"false",onMouseup:t[1]||(t[1]=(...s)=>o.onMouseUp&&o.onMouseUp(...s)),onKeydown:t[2]||(t[2]=(...s)=>o.onKeyDown&&o.onKeyDown(...s))},[ie("div",lQ,cQ,512),Wt(ie("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.proxyValue=s),type:"hidden"},null,512),[[An,i.proxyValue]])],42,aQ)}const mL=Dt(sQ,[["render",fQ]]),dQ={name:"VizyBlockFields",delimiters:["$!{","}!$"],props:{template:{type:String,default:""}},emits:["update"],mounted(){this.$nextTick(()=>{this.$el&&(Craft.initUiElements(this.$el),this.$el.querySelectorAll(".vizy-input-component").forEach(e=>{e.parentElement.__vueInit=!0}),this.$nextTick(()=>{this.watchFieldChanges(),this.applyRedactorFix(),this.applyTabIndexFix(),this.applyNeoFix()}))})},methods:{vizyBlock(){return this.$parent.$parent.$parent.$parent},watchFieldChanges(){const e=P3(this.emitUpdate,50);new MutationObserver(n=>{e()}).observe(this.$el,{childList:!0,attributes:!0,subtree:!0,characterData:!0}),$(this.$el).on("input change","input, textarea, select",n=>{this.emitUpdate()})},applyRedactorFix(){const e=this.$el.querySelectorAll(".redactor-toolbar");e.length&&e.forEach(t=>{t.addEventListener("mousedown",n=>{n.preventDefault()})})},applyNeoFix(){if(!this.$el.querySelector('[data-type="benf\\\\neo\\\\Field"]'))return;const e=$("form#main-form"),t=encodeURIComponent(this.vizyBlock().vizyField.name);let n=e.data("initialSerializedValue");n=n.replace(new RegExp(`${Craft.escapeRegex(t)}[^&]*&?`),""),e.data("initialSerializedValue",n),this.$el.querySelectorAll('[data-type="benf\\\\neo\\\\Field"]').forEach(r=>{const i=r.querySelectorAll(".ni_buttons");i.length>1&&i.forEach((o,s)=>{s!=i.length-1&&o.remove()})})},applyTabIndexFix(){this.$el.querySelectorAll(".field").forEach(e=>{e.setAttribute("tabindex",-1)})},emitUpdate(){setTimeout(()=>{this.$emit("update")},50),setTimeout(()=>{this.$emit("update")},200)}},render(){try{return jn(N0(`<div>${this.template}</div>`))}catch(e){console.error(e),console.log("Vue template compile error: %o",{template:this.template});const t=this.t("vizy","Unable to parse block definition.");return jn(N0(`<div class="vizyblock-invalid"><p class="error">${t}</p></div>`))}}};(function(e){var t=["input","textarea","select","option"],n=["value","selected","checked","disabled"];e.fn.htmlizeClone=function(r){return this.each(function(){var i=this;i.nodeName==="TEXTAREA"?i.innerHTML=i.value:i.nodeName==="OPTION"?i.selected?i.setAttribute("selected","selected"):i.removeAttribute("selected"):i.children&&i.children.length&&e(i).find("textarea, option").htmlizeClone(!0)}),r?this:this.clone()},e.fn.htmlizeSyncAttributes=function(){return this.each(function(){var r=this,i;for(var o in n)n.hasOwnProperty(o)&&(i=n[o],i in r&&(r.getAttribute(i)!==null||r[i])&&!((r.nodeName==="TEXTAREA"||r.nodeName==="SELECT")&&i==="value")&&(i==="value"?r.setAttribute(i,r[i]):r[i]?r.setAttribute(i,i):r.removeAttribute(i)));r.children&&r.children.length&&e(r).find(t.join(", ")).htmlizeSyncAttributes()})},e.fn.htmlize=function(r){r=e.extend({innerHTML:!1,clone:!0},r);var i=e(this).htmlizeClone().htmlizeSyncAttributes();if(r.innerHTML){var o="";return i.each(function(){o+=this.innerHTML}),o}else return i.length?i.appendTo("<div/>").parent().get(0).innerHTML:""}})(jQuery);const hQ={name:"VizyBlock",components:{NodeViewWrapper:tw,LightswitchField:mL,VizyBlockFields:dQ,CollapseTransition:iQ},props:{editor:{type:Object,default:()=>{}},node:{type:Object,default:()=>{}},decorations:{type:Array,default:()=>[]},selected:{type:Boolean,default:!1},extension:{type:Object,default:()=>{}},getPos:{type:Function,default:()=>{}},updateAttributes:{type:Function,default:()=>{}}},data(){return{activeTab:null,tippy:null,fieldsHtml:"",mounted:!1,updateFieldsHtml:0}},computed:{options(){return this.extension.options},vizyField(){return this.editor.vizyField},values(){return this.node.attrs.values},blockGroups(){return this.vizyField.settings.blockGroups},blockType(){let e={};return Ci(this.blockGroups)||this.blockGroups.forEach(t=>{const n=q0(t.blockTypes,{id:this.values.type});n&&(e=n)}),e},tabs(){return this.blockType.tabs||{}},enabled:{get(){return this.node.attrs.enabled&&this.blockType.enabled},set(e){this.node.attrs.enabled=e}},collapsed:{get(){return this.node.attrs.collapsed},set(e){this.node.attrs.collapsed=e}},canCollapseAll(){var t,n;let e=!1;return(n=(t=this.editor.state.doc)==null?void 0:t.content)==null||n.content.forEach(r=>{r.type.name==="vizyBlock"&&(r.attrs.collapsed||(e=!0))}),e},canExpandAll(){var t,n;let e=!1;return(n=(t=this.editor.state.doc)==null?void 0:t.content)==null||n.content.forEach(r=>{r.type.name==="vizyBlock"&&r.attrs.collapsed&&(e=!0)}),e},preview(){let e="";if(this.mounted){const t=$(this.$refs.fields.$el).children().children();for(let n=0;n<t.length;n++){const i=$(t[n]).children(".input").find('select,input[type!="hidden"],textarea,.label');let o="";for(let s=0;s<i.length;s++){const l=$(i[s]);let u;if(!l.hasClass("vui-json-content")){if(l.hasClass("label")){const f=l.parent().parent();if(f.hasClass("lightswitch")&&(f.hasClass("on")&&l.hasClass("off")||!f.hasClass("on")&&l.hasClass("on")))continue;u=l.text()}else u=Craft.getText(this._inputPreviewText(l));u instanceof Array&&(u=u.join(", ")),u&&(u=Craft.trim(Craft.escapeHtml(u)),u&&(o&&(o+=", "),o+=u))}}o&&(e+=(e?" <span>|</span> ":"")+o)}}return e}},watch:{"node.attrs.enabled":function(e,t){this.collapsed=!e},"node.attrs.id":function(e,t){this.fieldsHtml=this.vizyField.getCachedFieldHtml(e),this.updateFieldsHtml+=1,this.$nextTick(()=>{this.appendJs(),this.setFirstActiveTab()})}},created(){this.$nextTick(()=>{this.$events.on("vizy-blocks:updateDOM",this.onUpdateDOM)}),this.fieldsHtml=this.vizyField.getCachedFieldHtml(this.node.attrs.id),this.$events.on("vizy-blocks:collapseAll",this.collapseBlock),this.$events.on("vizy-blocks:expandAll",this.expandBlock),setTimeout(()=>{this.onFieldUpdate()},50)},mounted(){this.$nextTick(()=>{this.appendJs(),this.setFirstActiveTab(),this.mounted=!0;const e=this.$el.querySelector("#vizy-block-settings-template");e&&(e.style.display="block",this.tippy=dr(this.$el.querySelector(".vizyblock-header .settings"),{content:e,trigger:"click",allowHTML:!0,arrow:!0,interactive:!0,appendTo:document.body,placement:"bottom",theme:"light-border vizy-tippy-menu",maxWidth:"300px",duration:200,zIndex:1e3,hideOnClick:!0})),this.$el.setAttribute("draggable",!1),this.$el.addEventListener("dragstart",t=>{if(t.srcElement instanceof Element||t.srcElement instanceof HTMLDocument){let n=null;if(t.srcElement.classList.contains("vizyblock")?n=t.srcElement.querySelector(".vizyblock-header"):n=t.srcElement.closest(".vizyblock-header"),n){const r=`vui-${this.uid}-ghost`,i=document.querySelector(`#${r}`)?document.querySelector(`#${r}`):document.createElement("div");i.id=r,i.classList="vui-block-ghost",i.innerHTML=n.outerHTML,document.body.appendChild(i),t.dataTransfer.setDragImage(i,0,0)}}},!1)})},beforeUnmount(){this.onUpdateDOM(),this.$events.off("vizy-blocks:updateDOM",this.onUpdateDOM),this.$events.off("vizy-blocks:collapseAll",this.collapseBlock),this.$events.off("vizy-blocks:expandAll",this.expandBlock)},methods:{isEmpty(e){return Ci(e)},tabError(e){return(this.vizyField.getBlockSettings(this.node.attrs.id).tabErrors||[]).includes(e.tabId)},_inputPreviewText(e){if(e.is("select,multiselect")){const t=[],n=e.find("option:selected");for(let r=0;r<n.length;r++)t.push(n.eq(r).text());return t}if(e.is('input[type="checkbox"]:checked,input[type="radio"]:checked')){const t=e.attr("id"),n=$(`label[for="${t}"]`);if(n.length)return n.text()}return Garnish.getInputPostVal(e)},onUpdateDOM(){if(this.$refs.fields){const e=$(this.$refs.fields.$el.childNodes).clone();e.find(".redactor-box").length&&e.find(".redactor-box").each((n,r)=>{if($(r).parents(".vui-editor").length)return;const i=$(r).find("textarea").htmlize();$(r).replaceWith(i)}),e.find(".selectize").length&&e.find(".selectize").each((n,r)=>{const i=$(r).parents("[data-type]").data("layout-element");if(i){const o=$(this.blockType.fieldsHtml).find(`[data-layout-element="${i}"] .selectize`);o.length&&(o.find("select").val($(r).find("select").val()),r.innerHTML=o.htmlize())}});const t=e.htmlize();this.vizyField.setCachedFieldHtml(this.node.attrs.id,t)}},clickBlock(e){if(!e.target.hasAttribute("data-node-view-wrapper"))return;const t=this.editor.view.posAtCoords({left:e.clientX,top:e.clientY});if(t&&t.inside>-1&&!ot.isSelectable(this.editor.view.state.doc.nodeAt(t.inside)))return!1;const n=this.editor.view.state.doc.resolve(t.pos);this.editor.view.dispatch(this.editor.view.state.tr.setSelection(new fn(n)))},clickTab(e){this.activeTab=e,this.$refs.fields.$el.querySelectorAll(":scope > div").forEach(n=>{n.getAttribute("id").includes(this.activeTab)?n.classList.remove("hidden"):n.classList.add("hidden")})},toggleTitle(e){this.$el.querySelector(".actions-tabs").contains(e.target)||(this.collapsed?this.expandBlock():this.collapseBlock())},setFirstActiveTab(){this.tabs&&([this.activeTab]=Object.keys(this.tabs))},appendJs(){if(Ci(this.blockType))return;const e=this.vizyField.getCachedFieldJs(this.node.attrs.id),t=document.querySelector(`#script-${this.node.attrs.id}`);e&&(t&&t.parentElement.removeChild(t),Craft.appendBodyHtml(e))},deleteBlock(){this.tippy&&this.tippy.hide(),setTimeout(()=>{const e=this.getPos(),t={from:e,to:e+(this.node.nodeSize-1)};this.editor.chain().focus().deleteRange(t).run()},200)},collapseBlock(){this.collapsed=!0,this.tippy&&this.tippy.hide()},expandBlock(){this.collapsed=!1,this.tippy&&this.tippy.hide()},collapseAll(){this.$events.emit("vizy-blocks:collapseAll")},expandAll(){this.$events.emit("vizy-blocks:expandAll")},clickMove(){this.$events.emit("vizy-blocks:updateDOM"),this.vizyField.selectedBlockType=this.blockType.id},onFieldUpdate(){this.serializeFieldContent()},findContentBlocksForBlock(e){let t={};if(!Ci(e)){this.$el.closest(".slideout[data-element-editor] .so-body")&&(e=Object.values(e)[0],Ci(e.fields)&&(e={fields:e}));let r=e.vizyBlockFields;Ci(r)&&(r=e.fields),Ci(r)||Object.entries(r).forEach(([i,o])=>{o.blocks===void 0&&(t={fields:r}),Ci(o.blocks)||Object.entries(o.blocks).forEach(([s,l])=>{s===this.node.attrs.id?t=l:Ci(t)&&(t=this.findContentBlocksForBlock(l))})})}return t},fixSuperTableMatrixContent(e){const t=/^__BLOCK_[a-zA-Z0-9]+__$/;if(Hr(e))e.forEach(n=>{this.fixSuperTableMatrixContent(n)});else if(cr(e)){const n=Object.keys(e);if(n.forEach(r=>{cr(e[r])&&this.fixSuperTableMatrixContent(e[r])}),n.includes("blocks")){const r=Object.keys(e.blocks);if(r.some(i=>t.test(i))){const i=r.find(o=>/^new\d+$/.test(o));if(i&&r.length===2){const o=ej(e.blocks[r[0]],e.blocks[r[1]]);e.blocks={},e.blocks[i]=o}}}}return e},fixArrayIndexes(e){if(Array.isArray(e)){const t=Object.keys(e).map(Number).sort();!Array.from({length:e.length},(i,o)=>o).every(i=>t.includes(i))&&(e=e.filter(i=>i!==void 0))}else if(typeof e=="object"&&e!==null)for(const t in e)e[t]=this.fixArrayIndexes(e[t]);return e},serializeFieldContent(){if(Ci(this.blockType))return;const e=Garnish.getPostData(this.$refs.fields.$el),t=Object.keys(e).sort().reduce((o,s)=>(o[s]=e[s],o),{});let n=Craft.expandPostArray(t);n=this.fixArrayIndexes(n);let r=this.findContentBlocksForBlock(n);r=this.fixSuperTableMatrixContent(r);const i={...this.values};i.content=r,this.node.attrs.values=i}}},pQ={key:0,class:"vizyblock-wrap"},mQ={class:"titlebar"},gQ={class:"blocktype"},vQ={key:0},yQ=["innerHTML"],bQ={class:"actions-tabs"},_Q={key:0,class:"titlebar-tabs"},wQ=["onClick"],kQ={class:"actions"},xQ=["title","aria-title"],SQ=["title","aria-title"],CQ={id:"vizy-block-settings-template",class:"vizy-menu",style:{display:"none"}},TQ={class:"padded",role:"listbox","aria-hidden":"true"},EQ={key:0},AQ={key:1},OQ={key:2},MQ={key:3},LQ=ie("hr",null,null,-1),NQ={key:1,class:"vizyblock-wrap"},PQ={class:"vizyblock-invalid"},IQ={class:"error"};function DQ(e,t,n,r,i,o){const s=lt("lightswitch-field"),l=lt("vizy-block-fields"),u=lt("collapse-transition"),f=lt("node-view-wrapper");return me(),Et(f,{class:"vizyblock",contenteditable:"false","data-vizy-block":!0,"data-type":o.blockType.handle,onCopy:t[9]||(t[9]=at(()=>{},["stop"])),onPaste:t[10]||(t[10]=at(()=>{},["stop"])),onCut:t[11]||(t[11]=at(()=>{},["stop"])),onClick:o.clickBlock},{default:Bt(()=>[o.isEmpty(o.blockType)?(me(),Se("div",NQ,[ie("div",PQ,[ie("p",IQ,Ne(e.t("vizy","Unable to parse block definition.")),1),ie("a",{class:"error","data-icon":"remove",role:"option",tabindex:"-1",onClick:t[8]||(t[8]=at((...d)=>o.deleteBlock&&o.deleteBlock(...d),["prevent"]))})])])):(me(),Se("div",pQ,[ie("div",{class:"vizyblock-header",onDblclick:t[7]||(t[7]=at((...d)=>o.toggleTitle&&o.toggleTitle(...d),["prevent"]))},[ie("div",mQ,[ie("div",gQ,[e.$isDebug?(me(),Se("span",vQ,Ne(e.uid)+" "+Ne(n.node.attrs.id),1)):_t("",!0),$i(Ne(o.blockType.name),1)]),o.collapsed?(me(),Se("div",{key:0,class:"preview",innerHTML:o.preview},null,8,yQ)):_t("",!0)]),ie("div",bQ,[Object.keys(o.tabs).length>1?(me(),Se("div",_Q,[(me(!0),Se(kt,null,Zt(o.tabs,(d,m)=>(me(),Se("a",{key:m,class:mt(["tab",{active:m===i.activeTab,error:o.tabError(d)}]),onClick:at(v=>o.clickTab(m),["prevent"])},Ne(d.label),11,wQ))),128))])):_t("",!0),ie("div",kQ,[Qe(s,{modelValue:o.enabled,"onUpdate:modelValue":t[0]||(t[0]=d=>o.enabled=d),"extra-small":!0},null,8,["modelValue"]),ie("a",{class:"settings icon",title:e.t("vizy","Actions"),"aria-title":e.t("vizy","Actions"),role:"button",tabindex:"0","aria-haspopup":"listbox","aria-expanded":"false"},null,8,xQ),ie("a",{class:"move icon",title:e.t("vizy","Reorder"),"aria-title":e.t("vizy","Reorder"),"data-drag-handle":"",role:"button",onMousedown:t[1]||(t[1]=(...d)=>o.clickMove&&o.clickMove(...d))},null,40,SQ)]),ie("div",CQ,[ie("ul",TQ,[o.collapsed?(me(),Se("li",EQ,[ie("a",{"data-icon":"expand",role:"option",tabindex:"-1",onClick:t[2]||(t[2]=at((...d)=>o.expandBlock&&o.expandBlock(...d),["prevent"]))},Ne(e.t("vizy","Expand")),1)])):(me(),Se("li",AQ,[ie("a",{"data-icon":"collapse",role:"option",tabindex:"-1",onClick:t[3]||(t[3]=at((...d)=>o.collapseBlock&&o.collapseBlock(...d),["prevent"]))},Ne(e.t("vizy","Collapse")),1)])),o.canCollapseAll?(me(),Se("li",OQ,[ie("a",{"data-icon":"collapse",role:"option",tabindex:"-1",onClick:t[4]||(t[4]=at((...d)=>o.collapseAll&&o.collapseAll(...d),["prevent"]))},Ne(e.t("vizy","Collapse All")),1)])):_t("",!0),o.canExpandAll?(me(),Se("li",MQ,[ie("a",{"data-icon":"expand",role:"option",tabindex:"-1",onClick:t[5]||(t[5]=at((...d)=>o.expandAll&&o.expandAll(...d),["prevent"]))},Ne(e.t("vizy","Expand All")),1)])):_t("",!0),LQ,ie("li",null,[ie("a",{class:"error","data-icon":"remove",role:"option",tabindex:"-1",onClick:t[6]||(t[6]=at((...d)=>o.deleteBlock&&o.deleteBlock(...d),["prevent"]))},Ne(e.t("vizy","Delete")),1)])])])])],32),Qe(u,null,{default:Bt(()=>[Wt(ie("div",null,[i.fieldsHtml?(me(),Et(l,{ref:"fields",key:i.updateFieldsHtml,class:"vizyblock-fields",template:i.fieldsHtml,onUpdate:o.onFieldUpdate},null,8,["template","onUpdate"])):_t("",!0)],512),[[Su,!o.collapsed]])]),_:1})]))]),_:1},8,["data-type","onClick"])}const RQ=Dt(hQ,[["render",DQ]]),zQ=_n.create({name:"vizyBlock",isBlock:!0,inline:!1,group:"block",draggable:!0,defining:!0,selectable:!0,addAttributes(){return{id:{default:null},enabled:{default:!0},collapsed:{default:!1},values:{default:null}}},addStorage(){return{isNew:!1}},parseHTML(){return[{tag:"vizy-block",getAttrs:e=>JSON.parse(e.innerHTML)}]},renderHTML({HTMLAttributes:e}){return["vizy-block",JSON.stringify(e)]},addCommands(){return{setVizyBlock:e=>({tr:t,dispatch:n,view:r,state:i})=>{const{selection:o}=t,s=this.type.create(e);return n&&(t.insert(o.from,i.schema.nodes.paragraph.create()),t.replaceRangeWith(o.from,o.to,s)),this.storage.isNew=!0,!0}}},addNodeView(){return nw(RQ,{stopEvent:({event:e})=>e.target.hasAttribute("data-drag-handle")?(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}),!1):!this.isDragging})},addProseMirrorPlugins(){return[new Yt({props:{handleKeyDown:(e,t)=>{if(e.state.typing=!0,t.key==="Escape"){const n=e.state.selection.$from.pos;e.state.selection.$to.pos;const r=n-1<0?0:n-1;return this.editor.chain().setTextSelection({from:r,to:r}).blur().run(),!0}},handlePaste:(e,t,n)=>{e.state.pasting=!0;const{supportedBlockTypes:r}=this.editor.vizyField;n.content.content.forEach((i,o)=>{i.type.name=="vizyBlock"&&(r.includes(i.attrs.values.type)||n.content.content.splice(o,1))})},handleClickOn:(e,t,n,r,i,o)=>{const s=i.target.closest(".vizyblock");if(!s)return!1;if(s.closest(".ProseMirror")!==e.dom)return!0;const u=i.target.closest(".vizyblock-header"),f=i.target.closest(".vizyblock-header .actions-tabs");if(!u||f)return!0}},filterTransaction:(e,t)=>{let n=!0;return(t.typing||t.pasting)&&e.mapping.maps.forEach(r=>{r.forEach((i,o,s,l)=>{t.doc.nodesBetween(i,o,(u,f,d,m,v)=>{u.type.name==="vizyBlock"&&(n=!1)})})}),n}})]}});function BQ(e){var t;const{char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:s}=e,l=C4(n),u=new RegExp(`\\s${l}$`),f=o?"^":"",d=r?new RegExp(`${f}${l}.*?(?=\\s${l}|$)`,"gm"):new RegExp(`${f}(?:^)?${l}[^\\s${l}]*`,"gm"),m=((t=s.nodeBefore)===null||t===void 0?void 0:t.isText)&&s.nodeBefore.text;if(!m)return null;const v=s.pos-m.length,y=Array.from(m.matchAll(d)).pop();if(!y||y.input===void 0||y.index===void 0)return null;const _=y.input.slice(Math.max(0,y.index-1),y.index),T=new RegExp(`^[${i==null?void 0:i.join("")}\0]?$`).test(_);if(i!==null&&!T)return null;const C=v+y.index;let w=C+y[0].length;return r&&u.test(m.slice(w-1,w+1))&&(y[0]+=" ",w+=1),C<s.pos&&w>=s.pos?{range:{from:C,to:w},query:y[0].slice(n.length),text:y[0]}:null}const $Q=new dn("suggestion");function HQ({pluginKey:e=$Q,editor:t,char:n="@",allowSpaces:r=!1,allowedPrefixes:i=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:l="suggestion",command:u=()=>null,items:f=()=>[],render:d=()=>({}),allow:m=()=>!0}){let v;const y=d==null?void 0:d(),_=new Yt({key:e,view(){return{update:async(T,C)=>{var w,S,P,A,U,z,j;const L=(w=this.key)===null||w===void 0?void 0:w.getState(C),B=(S=this.key)===null||S===void 0?void 0:S.getState(T.state),k=L.active&&B.active&&L.range.from!==B.range.from,D=!L.active&&B.active,K=L.active&&!B.active,q=!D&&!K&&L.query!==B.query,Q=D||k,I=q&&!k,ce=K||k;if(!Q&&!I&&!ce)return;const de=ce&&!Q?L:B,xe=T.dom.querySelector(`[data-decoration-id="${de.decorationId}"]`);v={editor:t,range:de.range,query:de.query,text:de.text,items:[],command:Be=>{u({editor:t,range:de.range,props:Be})},decorationNode:xe,clientRect:xe?()=>{var Be;const{decorationId:rt}=(Be=this.key)===null||Be===void 0?void 0:Be.getState(t.state),pt=T.dom.querySelector(`[data-decoration-id="${rt}"]`);return(pt==null?void 0:pt.getBoundingClientRect())||null}:null},Q&&((P=y==null?void 0:y.onBeforeStart)===null||P===void 0||P.call(y,v)),I&&((A=y==null?void 0:y.onBeforeUpdate)===null||A===void 0||A.call(y,v)),(I||Q)&&(v.items=await f({editor:t,query:de.query})),ce&&((U=y==null?void 0:y.onExit)===null||U===void 0||U.call(y,v)),I&&((z=y==null?void 0:y.onUpdate)===null||z===void 0||z.call(y,v)),Q&&((j=y==null?void 0:y.onStart)===null||j===void 0||j.call(y,v))},destroy:()=>{var T;v&&((T=y==null?void 0:y.onExit)===null||T===void 0||T.call(y,v))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(T,C,w,S){const{isEditable:P}=t,{composing:A}=t.view,{selection:U}=T,{empty:z,from:j}=U,L={...C};if(L.composing=A,P&&(z||t.view.composing)){(j<C.range.from||j>C.range.to)&&!A&&!C.composing&&(L.active=!1);const B=BQ({char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:U.$from}),k=`id_${Math.floor(Math.random()*4294967295)}`;B&&m({editor:t,state:S,range:B.range})?(L.active=!0,L.decorationId=C.decorationId?C.decorationId:k,L.range=B.range,L.query=B.query,L.text=B.text):L.active=!1}else L.active=!1;return L.active||(L.decorationId=null,L.range={from:0,to:0},L.query=null,L.text=null),L}},props:{handleKeyDown(T,C){var w;const{active:S,range:P}=_.getState(T.state);return S&&((w=y==null?void 0:y.onKeyDown)===null||w===void 0?void 0:w.call(y,{view:T,event:C,range:P}))||!1},decorations(T){const{active:C,range:w,decorationId:S}=_.getState(T);return C?tn.create(T.doc,[ar.inline(w.from,w.to,{nodeName:s,class:l,"data-decoration-id":S})]):null}}});return _}const FQ=zn.create({name:"Commands",addOptions(){return{suggestion:{char:"/",command:({editor:e,range:t,props:n})=>{n.command({editor:e,range:t})}}}},addProseMirrorPlugins(){return[HQ({editor:this.editor,...this.options.suggestion})]}}),VQ=function(e){let t=e.replace("/<(.*?)>/g","");t=t.replace(/['"[]\(\){}:]/g,""),t=t.toLowerCase(),t=Craft.asciiString(t);const n=Craft.filterArray(t.split(/[^a-z0-9]+/));t="";for(let r=0;r<n.length;r++)r===0?t+=n[r]:t+=n[r].charAt(0).toUpperCase()+n[r].substr(1);return t},gL=function(e,t,n){let r=t;return n&&(r=t+n),e.includes(r)?gL(e,t,n+1):r},Lm=function(e=""){return e+Craft.randomString(10)};function ET(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(n),!0).forEach(function(r){Bn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ET(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nm(e){return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function jQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function WQ(e,t,n){return t&&AT(e.prototype,t),n&&AT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rw(e,t){return KQ(e)||GQ(e,t)||vL(e,t)||YQ()}function Cd(e){return UQ(e)||qQ(e)||vL(e)||JQ()}function UQ(e){if(Array.isArray(e))return Ib(e)}function KQ(e){if(Array.isArray(e))return e}function qQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GQ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,l;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw l}}return r}}function vL(e,t){if(e){if(typeof e=="string")return Ib(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ib(e,t)}}function Ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var OT=function(){},iw={},yL={},bL=null,_L={mark:OT,measure:OT};try{typeof window<"u"&&(iw=window),typeof document<"u"&&(yL=document),typeof MutationObserver<"u"&&(bL=MutationObserver),typeof performance<"u"&&(_L=performance)}catch{}var XQ=iw.navigator||{},MT=XQ.userAgent,LT=MT===void 0?"":MT,Xs=iw,rn=yL,NT=bL,jh=_L;Xs.document;var es=!!rn.documentElement&&!!rn.head&&typeof rn.addEventListener=="function"&&typeof rn.createElement=="function",wL=~LT.indexOf("MSIE")||~LT.indexOf("Trident/"),Wh,Uh,Kh,qh,Gh,Wo="___FONT_AWESOME___",Db=16,kL="fa",xL="svg-inline--fa",ul="data-fa-i2svg",Rb="data-fa-pseudo-element",ZQ="data-fa-pseudo-element-pending",ow="data-prefix",sw="data-icon",PT="fontawesome-i2svg",QQ="async",eee=["HTML","HEAD","STYLE","SCRIPT"],SL=function(){try{return!0}catch{return!1}}(),nn="classic",mn="sharp",aw=[nn,mn];function Td(e){return new Proxy(e,{get:function(n,r){return r in n?n[r]:n[nn]}})}var ed=Td((Wh={},Bn(Wh,nn,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Bn(Wh,mn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Wh)),td=Td((Uh={},Bn(Uh,nn,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Bn(Uh,mn,{solid:"fass",regular:"fasr",light:"fasl"}),Uh)),nd=Td((Kh={},Bn(Kh,nn,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Bn(Kh,mn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Kh)),tee=Td((qh={},Bn(qh,nn,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Bn(qh,mn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),qh)),nee=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,CL="fa-layers-text",ree=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,iee=Td((Gh={},Bn(Gh,nn,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Bn(Gh,mn,{900:"fass",400:"fasr",300:"fasl"}),Gh)),TL=[1,2,3,4,5,6,7,8,9,10],oee=TL.concat([11,12,13,14,15,16,17,18,19,20]),see=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Da={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},rd=new Set;Object.keys(td[nn]).map(rd.add.bind(rd));Object.keys(td[mn]).map(rd.add.bind(rd));var aee=[].concat(aw,Cd(rd),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Da.GROUP,Da.SWAP_OPACITY,Da.PRIMARY,Da.SECONDARY]).concat(TL.map(function(e){return"".concat(e,"x")})).concat(oee.map(function(e){return"w-".concat(e)})),bf=Xs.FontAwesomeConfig||{};function lee(e){var t=rn.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function uee(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(rn&&typeof rn.querySelector=="function"){var cee=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];cee.forEach(function(e){var t=rw(e,2),n=t[0],r=t[1],i=uee(lee(n));i!=null&&(bf[r]=i)})}var EL={styleDefault:"solid",familyDefault:"classic",cssPrefix:kL,replacementClass:xL,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};bf.familyPrefix&&(bf.cssPrefix=bf.familyPrefix);var ju=Ue(Ue({},EL),bf);ju.autoReplaceSvg||(ju.observeMutations=!1);var tt={};Object.keys(EL).forEach(function(e){Object.defineProperty(tt,e,{enumerable:!0,set:function(n){ju[e]=n,_f.forEach(function(r){return r(tt)})},get:function(){return ju[e]}})});Object.defineProperty(tt,"familyPrefix",{enumerable:!0,set:function(t){ju.cssPrefix=t,_f.forEach(function(n){return n(tt)})},get:function(){return ju.cssPrefix}});Xs.FontAwesomeConfig=tt;var _f=[];function fee(e){return _f.push(e),function(){_f.splice(_f.indexOf(e),1)}}var _s=Db,ao={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function dee(e){if(!(!e||!es)){var t=rn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=rn.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}return rn.head.insertBefore(t,r),e}}var hee="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function id(){for(var e=12,t="";e-- >0;)t+=hee[Math.random()*62|0];return t}function Qu(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function lw(e){return e.classList?Qu(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function AL(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pee(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(AL(e[n]),'" ')},"").trim()}function Hg(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function uw(e){return e.size!==ao.size||e.x!==ao.x||e.y!==ao.y||e.rotate!==ao.rotate||e.flipX||e.flipY}function mee(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(t.x*32,", ").concat(t.y*32,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)"),u={transform:"".concat(o," ").concat(s," ").concat(l)},f={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:u,path:f}}function gee(e){var t=e.transform,n=e.width,r=n===void 0?Db:n,i=e.height,o=i===void 0?Db:i,s=e.startCentered,l=s===void 0?!1:s,u="";return l&&wL?u+="translate(".concat(t.x/_s-r/2,"em, ").concat(t.y/_s-o/2,"em) "):l?u+="translate(calc(-50% + ".concat(t.x/_s,"em), calc(-50% + ").concat(t.y/_s,"em)) "):u+="translate(".concat(t.x/_s,"em, ").concat(t.y/_s,"em) "),u+="scale(".concat(t.size/_s*(t.flipX?-1:1),", ").concat(t.size/_s*(t.flipY?-1:1),") "),u+="rotate(".concat(t.rotate,"deg) "),u}var vee=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function OL(){var e=kL,t=xL,n=tt.cssPrefix,r=tt.replacementClass,i=vee;if(n!==e||r!==t){var o=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(l,".".concat(r))}return i}var IT=!1;function $y(){tt.autoAddCss&&!IT&&(dee(OL()),IT=!0)}var yee={mixout:function(){return{dom:{css:OL,insertCss:$y}}},hooks:function(){return{beforeDOMElementCreation:function(){$y()},beforeI2svg:function(){$y()}}}},Uo=Xs||{};Uo[Wo]||(Uo[Wo]={});Uo[Wo].styles||(Uo[Wo].styles={});Uo[Wo].hooks||(Uo[Wo].hooks={});Uo[Wo].shims||(Uo[Wo].shims=[]);var Pi=Uo[Wo],ML=[],bee=function e(){rn.removeEventListener("DOMContentLoaded",e),Pm=1,ML.map(function(t){return t()})},Pm=!1;es&&(Pm=(rn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(rn.readyState),Pm||rn.addEventListener("DOMContentLoaded",bee));function _ee(e){es&&(Pm?setTimeout(e,0):ML.push(e))}function Ed(e){var t=e.tag,n=e.attributes,r=n===void 0?{}:n,i=e.children,o=i===void 0?[]:i;return typeof e=="string"?AL(e):"<".concat(t," ").concat(pee(r),">").concat(o.map(Ed).join(""),"</").concat(t,">")}function DT(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var wee=function(t,n){return function(r,i,o,s){return t.call(n,r,i,o,s)}},Hy=function(t,n,r,i){var o=Object.keys(t),s=o.length,l=i!==void 0?wee(n,i):n,u,f,d;for(r===void 0?(u=1,d=t[o[0]]):(u=0,d=r);u<s;u++)f=o[u],d=l(d,t[f],f,t);return d};function kee(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),n--)}else t.push(i)}return t}function zb(e){var t=kee(e);return t.length===1?t[0].toString(16):null}function xee(e,t){var n=e.length,r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&n>t+1&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function RT(e){return Object.keys(e).reduce(function(t,n){var r=e[n],i=!!r.icon;return i?t[r.iconName]=r.icon:t[n]=r,t},{})}function Bb(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,o=RT(t);typeof Pi.hooks.addPack=="function"&&!i?Pi.hooks.addPack(e,RT(t)):Pi.styles[e]=Ue(Ue({},Pi.styles[e]||{}),o),e==="fas"&&Bb("fa",t)}var Jh,Yh,Xh,ru=Pi.styles,See=Pi.shims,Cee=(Jh={},Bn(Jh,nn,Object.values(nd[nn])),Bn(Jh,mn,Object.values(nd[mn])),Jh),cw=null,LL={},NL={},PL={},IL={},DL={},Tee=(Yh={},Bn(Yh,nn,Object.keys(ed[nn])),Bn(Yh,mn,Object.keys(ed[mn])),Yh);function Eee(e){return~aee.indexOf(e)}function Aee(e,t){var n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r===e&&i!==""&&!Eee(i)?i:null}var RL=function(){var t=function(o){return Hy(ru,function(s,l,u){return s[u]=Hy(l,o,{}),s},{})};LL=t(function(i,o,s){if(o[3]&&(i[o[3]]=s),o[2]){var l=o[2].filter(function(u){return typeof u=="number"});l.forEach(function(u){i[u.toString(16)]=s})}return i}),NL=t(function(i,o,s){if(i[s]=s,o[2]){var l=o[2].filter(function(u){return typeof u=="string"});l.forEach(function(u){i[u]=s})}return i}),DL=t(function(i,o,s){var l=o[2];return i[s]=s,l.forEach(function(u){i[u]=s}),i});var n="far"in ru||tt.autoFetchSvg,r=Hy(See,function(i,o){var s=o[0],l=o[1],u=o[2];return l==="far"&&!n&&(l="fas"),typeof s=="string"&&(i.names[s]={prefix:l,iconName:u}),typeof s=="number"&&(i.unicodes[s.toString(16)]={prefix:l,iconName:u}),i},{names:{},unicodes:{}});PL=r.names,IL=r.unicodes,cw=Fg(tt.styleDefault,{family:tt.familyDefault})};fee(function(e){cw=Fg(e.styleDefault,{family:tt.familyDefault})});RL();function fw(e,t){return(LL[e]||{})[t]}function Oee(e,t){return(NL[e]||{})[t]}function Ra(e,t){return(DL[e]||{})[t]}function zL(e){return PL[e]||{prefix:null,iconName:null}}function Mee(e){var t=IL[e],n=fw("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Zs(){return cw}var dw=function(){return{prefix:null,iconName:null,rest:[]}};function Fg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.family,r=n===void 0?nn:n,i=ed[r][e],o=td[r][e]||td[r][i],s=e in Pi.styles?e:null;return o||s||null}var zT=(Xh={},Bn(Xh,nn,Object.keys(nd[nn])),Bn(Xh,mn,Object.keys(nd[mn])),Xh);function Vg(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,o=(t={},Bn(t,nn,"".concat(tt.cssPrefix,"-").concat(nn)),Bn(t,mn,"".concat(tt.cssPrefix,"-").concat(mn)),t),s=null,l=nn;(e.includes(o[nn])||e.some(function(f){return zT[nn].includes(f)}))&&(l=nn),(e.includes(o[mn])||e.some(function(f){return zT[mn].includes(f)}))&&(l=mn);var u=e.reduce(function(f,d){var m=Aee(tt.cssPrefix,d);if(ru[d]?(d=Cee[l].includes(d)?tee[l][d]:d,s=d,f.prefix=d):Tee[l].indexOf(d)>-1?(s=d,f.prefix=Fg(d,{family:l})):m?f.iconName=m:d!==tt.replacementClass&&d!==o[nn]&&d!==o[mn]&&f.rest.push(d),!i&&f.prefix&&f.iconName){var v=s==="fa"?zL(f.iconName):{},y=Ra(f.prefix,f.iconName);v.prefix&&(s=null),f.iconName=v.iconName||y||f.iconName,f.prefix=v.prefix||f.prefix,f.prefix==="far"&&!ru.far&&ru.fas&&!tt.autoFetchSvg&&(f.prefix="fas")}return f},dw());return(e.includes("fa-brands")||e.includes("fab"))&&(u.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(u.prefix="fad"),!u.prefix&&l===mn&&(ru.fass||tt.autoFetchSvg)&&(u.prefix="fass",u.iconName=Ra(u.prefix,u.iconName)||u.iconName),(u.prefix==="fa"||s==="fa")&&(u.prefix=Zs()||"fas"),u}var Lee=function(){function e(){jQ(this,e),this.definitions={}}return WQ(e,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(l){n.definitions[l]=Ue(Ue({},n.definitions[l]||{}),s[l]),Bb(l,s[l]);var u=nd[nn][l];u&&Bb(u,s[l]),RL()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var s=i[o],l=s.prefix,u=s.iconName,f=s.icon,d=f[2];n[l]||(n[l]={}),d.length>0&&d.forEach(function(m){typeof m=="string"&&(n[l][m]=f)}),n[l][u]=f}),n}}]),e}(),BT=[],iu={},yu={},Nee=Object.keys(yu);function Pee(e,t){var n=t.mixoutsTo;return BT=e,iu={},Object.keys(yu).forEach(function(r){Nee.indexOf(r)===-1&&delete yu[r]}),BT.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(s){typeof i[s]=="function"&&(n[s]=i[s]),Nm(i[s])==="object"&&Object.keys(i[s]).forEach(function(l){n[s]||(n[s]={}),n[s][l]=i[s][l]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(s){iu[s]||(iu[s]=[]),iu[s].push(o[s])})}r.provides&&r.provides(yu)}),n}function $b(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=iu[e]||[];return o.forEach(function(s){t=s.apply(null,[t].concat(r))}),t}function cl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=iu[e]||[];i.forEach(function(o){o.apply(null,n)})}function Ko(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return yu[e]?yu[e].apply(null,t):void 0}function Hb(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Zs();if(t)return t=Ra(n,t)||t,DT(BL.definitions,n,t)||DT(Pi.styles,n,t)}var BL=new Lee,Iee=function(){tt.autoReplaceSvg=!1,tt.observeMutations=!1,cl("noAuto")},Dee={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return es?(cl("beforeI2svg",t),Ko("pseudoElements2svg",t),Ko("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot;tt.autoReplaceSvg===!1&&(tt.autoReplaceSvg=!0),tt.observeMutations=!0,_ee(function(){zee({autoReplaceSvgRoot:n}),cl("watch",t)})}},Ree={icon:function(t){if(t===null)return null;if(Nm(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Ra(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],r=Fg(t[0]);return{prefix:r,iconName:Ra(r,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(tt.cssPrefix,"-"))>-1||t.match(nee))){var i=Vg(t.split(" "),{skipLookups:!0});return{prefix:i.prefix||Zs(),iconName:Ra(i.prefix,i.iconName)||i.iconName}}if(typeof t=="string"){var o=Zs();return{prefix:o,iconName:Ra(o,t)||t}}}},ri={noAuto:Iee,config:tt,dom:Dee,parse:Ree,library:BL,findIconDefinition:Hb,toHtml:Ed},zee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot,r=n===void 0?rn:n;(Object.keys(Pi.styles).length>0||tt.autoFetchSvg)&&es&&tt.autoReplaceSvg&&ri.dom.i2svg({node:r})};function jg(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(r){return Ed(r)})}}),Object.defineProperty(e,"node",{get:function(){if(es){var r=rn.createElement("div");return r.innerHTML=e.html,r.children}}}),e}function Bee(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,s=e.transform;if(uw(s)&&n.found&&!r.found){var l=n.width,u=n.height,f={x:l/u/2,y:.5};i.style=Hg(Ue(Ue({},o),{},{"transform-origin":"".concat(f.x+s.x/16,"em ").concat(f.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}function $ee(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol,s=o===!0?"".concat(t,"-").concat(tt.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ue(Ue({},i),{},{id:s}),children:r}]}]}function hw(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,s=e.transform,l=e.symbol,u=e.title,f=e.maskId,d=e.titleId,m=e.extra,v=e.watchable,y=v===void 0?!1:v,_=r.found?r:n,T=_.width,C=_.height,w=i==="fak",S=[tt.replacementClass,o?"".concat(tt.cssPrefix,"-").concat(o):""].filter(function(B){return m.classes.indexOf(B)===-1}).filter(function(B){return B!==""||!!B}).concat(m.classes).join(" "),P={children:[],attributes:Ue(Ue({},m.attributes),{},{"data-prefix":i,"data-icon":o,class:S,role:m.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(T," ").concat(C)})},A=w&&!~m.classes.indexOf("fa-fw")?{width:"".concat(T/C*16*.0625,"em")}:{};y&&(P.attributes[ul]=""),u&&(P.children.push({tag:"title",attributes:{id:P.attributes["aria-labelledby"]||"title-".concat(d||id())},children:[u]}),delete P.attributes.title);var U=Ue(Ue({},P),{},{prefix:i,iconName:o,main:n,mask:r,maskId:f,transform:s,symbol:l,styles:Ue(Ue({},A),m.styles)}),z=r.found&&n.found?Ko("generateAbstractMask",U)||{children:[],attributes:{}}:Ko("generateAbstractIcon",U)||{children:[],attributes:{}},j=z.children,L=z.attributes;return U.children=j,U.attributes=L,l?$ee(U):Bee(U)}function $T(e){var t=e.content,n=e.width,r=e.height,i=e.transform,o=e.title,s=e.extra,l=e.watchable,u=l===void 0?!1:l,f=Ue(Ue(Ue({},s.attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")});u&&(f[ul]="");var d=Ue({},s.styles);uw(i)&&(d.transform=gee({transform:i,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);var m=Hg(d);m.length>0&&(f.style=m);var v=[];return v.push({tag:"span",attributes:f,children:[t]}),o&&v.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),v}function Hee(e){var t=e.content,n=e.title,r=e.extra,i=Ue(Ue(Ue({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=Hg(r.styles);o.length>0&&(i.style=o);var s=[];return s.push({tag:"span",attributes:i,children:[t]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}var Fy=Pi.styles;function Fb(e){var t=e[0],n=e[1],r=e.slice(4),i=rw(r,1),o=i[0],s=null;return Array.isArray(o)?s={tag:"g",attributes:{class:"".concat(tt.cssPrefix,"-").concat(Da.GROUP)},children:[{tag:"path",attributes:{class:"".concat(tt.cssPrefix,"-").concat(Da.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(tt.cssPrefix,"-").concat(Da.PRIMARY),fill:"currentColor",d:o[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:t,height:n,icon:s}}var Fee={found:!1,width:512,height:512};function Vee(e,t){!SL&&!tt.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Vb(e,t){var n=t;return t==="fa"&&tt.styleDefault!==null&&(t=Zs()),new Promise(function(r,i){if(Ko("missingIconAbstract"),n==="fa"){var o=zL(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&Fy[t]&&Fy[t][e]){var s=Fy[t][e];return r(Fb(s))}Vee(e,t),r(Ue(Ue({},Fee),{},{icon:tt.showMissingIcons&&e?Ko("missingIconAbstract")||{}:{}}))})}var HT=function(){},jb=tt.measurePerformance&&jh&&jh.mark&&jh.measure?jh:{mark:HT,measure:HT},Uc='FA "6.4.0"',jee=function(t){return jb.mark("".concat(Uc," ").concat(t," begins")),function(){return $L(t)}},$L=function(t){jb.mark("".concat(Uc," ").concat(t," ends")),jb.measure("".concat(Uc," ").concat(t),"".concat(Uc," ").concat(t," begins"),"".concat(Uc," ").concat(t," ends"))},pw={begin:jee,end:$L},yp=function(){};function FT(e){var t=e.getAttribute?e.getAttribute(ul):null;return typeof t=="string"}function Wee(e){var t=e.getAttribute?e.getAttribute(ow):null,n=e.getAttribute?e.getAttribute(sw):null;return t&&n}function Uee(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(tt.replacementClass)}function Kee(){if(tt.autoReplaceSvg===!0)return bp.replace;var e=bp[tt.autoReplaceSvg];return e||bp.replace}function qee(e){return rn.createElementNS("http://www.w3.org/2000/svg",e)}function Gee(e){return rn.createElement(e)}function HL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.ceFn,r=n===void 0?e.tag==="svg"?qee:Gee:n;if(typeof e=="string")return rn.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach(function(s){i.setAttribute(s,e.attributes[s])});var o=e.children||[];return o.forEach(function(s){i.appendChild(HL(s,{ceFn:r}))}),i}function Jee(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var bp={replace:function(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(i){n.parentNode.insertBefore(HL(i),n)}),n.getAttribute(ul)===null&&tt.keepOriginalSource){var r=rn.createComment(Jee(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(t){var n=t[0],r=t[1];if(~lw(n).indexOf(tt.replacementClass))return bp.replace(t);var i=new RegExp("".concat(tt.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(l,u){return u===tt.replacementClass||u.match(i)?l.toSvg.push(u):l.toNode.push(u),l},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var s=r.map(function(l){return Ed(l)}).join(`
`);n.setAttribute(ul,""),n.innerHTML=s}};function VT(e){e()}function FL(e,t){var n=typeof t=="function"?t:yp;if(e.length===0)n();else{var r=VT;tt.mutateApproach===QQ&&(r=Xs.requestAnimationFrame||VT),r(function(){var i=Kee(),o=pw.begin("mutate");e.map(i),o(),n()})}}var mw=!1;function VL(){mw=!0}function Wb(){mw=!1}var Im=null;function jT(e){if(NT&&tt.observeMutations){var t=e.treeCallback,n=t===void 0?yp:t,r=e.nodeCallback,i=r===void 0?yp:r,o=e.pseudoElementsCallback,s=o===void 0?yp:o,l=e.observeMutationsRoot,u=l===void 0?rn:l;Im=new NT(function(f){if(!mw){var d=Zs();Qu(f).forEach(function(m){if(m.type==="childList"&&m.addedNodes.length>0&&!FT(m.addedNodes[0])&&(tt.searchPseudoElements&&s(m.target),n(m.target)),m.type==="attributes"&&m.target.parentNode&&tt.searchPseudoElements&&s(m.target.parentNode),m.type==="attributes"&&FT(m.target)&&~see.indexOf(m.attributeName))if(m.attributeName==="class"&&Wee(m.target)){var v=Vg(lw(m.target)),y=v.prefix,_=v.iconName;m.target.setAttribute(ow,y||d),_&&m.target.setAttribute(sw,_)}else Uee(m.target)&&i(m.target)})}}),es&&Im.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Yee(){Im&&Im.disconnect()}function Xee(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(r,i){var o=i.split(":"),s=o[0],l=o.slice(1);return s&&l.length>0&&(r[s]=l.join(":").trim()),r},{})),n}function Zee(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"",i=Vg(lw(e));return i.prefix||(i.prefix=Zs()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=Oee(i.prefix,e.innerText)||fw(i.prefix,zb(e.innerText))),!i.iconName&&tt.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Qee(e){var t=Qu(e.attributes).reduce(function(i,o){return i.name!=="class"&&i.name!=="style"&&(i[o.name]=o.value),i},{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return tt.autoA11y&&(n?t["aria-labelledby"]="".concat(tt.replacementClass,"-title-").concat(r||id()):(t["aria-hidden"]="true",t.focusable="false")),t}function ete(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ao,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function WT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=Zee(e),r=n.iconName,i=n.prefix,o=n.rest,s=Qee(e),l=$b("parseNodeAttributes",{},e),u=t.styleParser?Xee(e):[];return Ue({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:ao,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:u,attributes:s}},l)}var tte=Pi.styles;function jL(e){var t=tt.autoReplaceSvg==="nest"?WT(e,{styleParser:!1}):WT(e);return~t.extra.classes.indexOf(CL)?Ko("generateLayersText",e,t):Ko("generateSvgReplacementMutation",e,t)}var Qs=new Set;aw.map(function(e){Qs.add("fa-".concat(e))});Object.keys(ed[nn]).map(Qs.add.bind(Qs));Object.keys(ed[mn]).map(Qs.add.bind(Qs));Qs=Cd(Qs);function UT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!es)return Promise.resolve();var n=rn.documentElement.classList,r=function(m){return n.add("".concat(PT,"-").concat(m))},i=function(m){return n.remove("".concat(PT,"-").concat(m))},o=tt.autoFetchSvg?Qs:aw.map(function(d){return"fa-".concat(d)}).concat(Object.keys(tte));o.includes("fa")||o.push("fa");var s=[".".concat(CL,":not([").concat(ul,"])")].concat(o.map(function(d){return".".concat(d,":not([").concat(ul,"])")})).join(", ");if(s.length===0)return Promise.resolve();var l=[];try{l=Qu(e.querySelectorAll(s))}catch{}if(l.length>0)r("pending"),i("complete");else return Promise.resolve();var u=pw.begin("onTree"),f=l.reduce(function(d,m){try{var v=jL(m);v&&d.push(v)}catch(y){SL||y.name==="MissingIcon"&&console.error(y)}return d},[]);return new Promise(function(d,m){Promise.all(f).then(function(v){FL(v,function(){r("active"),r("complete"),i("pending"),typeof t=="function"&&t(),u(),d()})}).catch(function(v){u(),m(v)})})}function nte(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;jL(e).then(function(n){n&&FL([n],t)})}function rte(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(t||{}).icon?t:Hb(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Hb(i||{})),e(r,Ue(Ue({},n),{},{mask:i}))}}var ite=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?ao:r,o=n.symbol,s=o===void 0?!1:o,l=n.mask,u=l===void 0?null:l,f=n.maskId,d=f===void 0?null:f,m=n.title,v=m===void 0?null:m,y=n.titleId,_=y===void 0?null:y,T=n.classes,C=T===void 0?[]:T,w=n.attributes,S=w===void 0?{}:w,P=n.styles,A=P===void 0?{}:P;if(t){var U=t.prefix,z=t.iconName,j=t.icon;return jg(Ue({type:"icon"},t),function(){return cl("beforeDOMElementCreation",{iconDefinition:t,params:n}),tt.autoA11y&&(v?S["aria-labelledby"]="".concat(tt.replacementClass,"-title-").concat(_||id()):(S["aria-hidden"]="true",S.focusable="false")),hw({icons:{main:Fb(j),mask:u?Fb(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:U,iconName:z,transform:Ue(Ue({},ao),i),symbol:s,title:v,maskId:d,titleId:_,extra:{attributes:S,styles:A,classes:C}})})}},ote={mixout:function(){return{icon:rte(ite)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=UT,n.nodeCallback=nte,n}}},provides:function(t){t.i2svg=function(n){var r=n.node,i=r===void 0?rn:r,o=n.callback,s=o===void 0?function(){}:o;return UT(i,s)},t.generateSvgReplacementMutation=function(n,r){var i=r.iconName,o=r.title,s=r.titleId,l=r.prefix,u=r.transform,f=r.symbol,d=r.mask,m=r.maskId,v=r.extra;return new Promise(function(y,_){Promise.all([Vb(i,l),d.iconName?Vb(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(T){var C=rw(T,2),w=C[0],S=C[1];y([n,hw({icons:{main:w,mask:S},prefix:l,iconName:i,transform:u,symbol:f,maskId:m,title:o,titleId:s,extra:v,watchable:!0})])}).catch(_)})},t.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.transform,l=n.styles,u=Hg(l);u.length>0&&(i.style=u);var f;return uw(s)&&(f=Ko("generateAbstractTransformGrouping",{main:o,transform:s,containerWidth:o.width,iconWidth:o.width})),r.push(f||o.icon),{children:r,attributes:i}}}},ste={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,o=i===void 0?[]:i;return jg({type:"layer"},function(){cl("beforeDOMElementCreation",{assembler:n,params:r});var s=[];return n(function(l){Array.isArray(l)?l.map(function(u){s=s.concat(u.abstract)}):s=s.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(tt.cssPrefix,"-layers")].concat(Cd(o)).join(" ")},children:s}]})}}}},ate={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,o=i===void 0?null:i,s=r.classes,l=s===void 0?[]:s,u=r.attributes,f=u===void 0?{}:u,d=r.styles,m=d===void 0?{}:d;return jg({type:"counter",content:n},function(){return cl("beforeDOMElementCreation",{content:n,params:r}),Hee({content:n.toString(),title:o,extra:{attributes:f,styles:m,classes:["".concat(tt.cssPrefix,"-layers-counter")].concat(Cd(l))}})})}}}},lte={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,o=i===void 0?ao:i,s=r.title,l=s===void 0?null:s,u=r.classes,f=u===void 0?[]:u,d=r.attributes,m=d===void 0?{}:d,v=r.styles,y=v===void 0?{}:v;return jg({type:"text",content:n},function(){return cl("beforeDOMElementCreation",{content:n,params:r}),$T({content:n,transform:Ue(Ue({},ao),o),title:l,extra:{attributes:m,styles:y,classes:["".concat(tt.cssPrefix,"-layers-text")].concat(Cd(f))}})})}}},provides:function(t){t.generateLayersText=function(n,r){var i=r.title,o=r.transform,s=r.extra,l=null,u=null;if(wL){var f=parseInt(getComputedStyle(n).fontSize,10),d=n.getBoundingClientRect();l=d.width/f,u=d.height/f}return tt.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),Promise.resolve([n,$T({content:n.innerHTML,width:l,height:u,transform:o,title:i,extra:s,watchable:!0})])}}},ute=new RegExp('"',"ug"),KT=[1105920,1112319];function cte(e){var t=e.replace(ute,""),n=xee(t,0),r=n>=KT[0]&&n<=KT[1],i=t.length===2?t[0]===t[1]:!1;return{value:zb(i?t[0]:t),isSecondary:r||i}}function qT(e,t){var n="".concat(ZQ).concat(t.replace(":","-"));return new Promise(function(r,i){if(e.getAttribute(n)!==null)return r();var o=Qu(e.children),s=o.filter(function(j){return j.getAttribute(Rb)===t})[0],l=Xs.getComputedStyle(e,t),u=l.getPropertyValue("font-family").match(ree),f=l.getPropertyValue("font-weight"),d=l.getPropertyValue("content");if(s&&!u)return e.removeChild(s),r();if(u&&d!=="none"&&d!==""){var m=l.getPropertyValue("content"),v=~["Sharp"].indexOf(u[2])?mn:nn,y=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?td[v][u[2].toLowerCase()]:iee[v][f],_=cte(m),T=_.value,C=_.isSecondary,w=u[0].startsWith("FontAwesome"),S=fw(y,T),P=S;if(w){var A=Mee(T);A.iconName&&A.prefix&&(S=A.iconName,y=A.prefix)}if(S&&!C&&(!s||s.getAttribute(ow)!==y||s.getAttribute(sw)!==P)){e.setAttribute(n,P),s&&e.removeChild(s);var U=ete(),z=U.extra;z.attributes[Rb]=t,Vb(S,y).then(function(j){var L=hw(Ue(Ue({},U),{},{icons:{main:j,mask:dw()},prefix:y,iconName:P,extra:z,watchable:!0})),B=rn.createElement("svg");t==="::before"?e.insertBefore(B,e.firstChild):e.appendChild(B),B.outerHTML=L.map(function(k){return Ed(k)}).join(`
`),e.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function fte(e){return Promise.all([qT(e,"::before"),qT(e,"::after")])}function dte(e){return e.parentNode!==document.head&&!~eee.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Rb)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function GT(e){if(es)return new Promise(function(t,n){var r=Qu(e.querySelectorAll("*")).filter(dte).map(fte),i=pw.begin("searchPseudoElements");VL(),Promise.all(r).then(function(){i(),Wb(),t()}).catch(function(){i(),Wb(),n()})})}var hte={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=GT,n}}},provides:function(t){t.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?rn:r;tt.searchPseudoElements&&GT(i)}}},JT=!1,pte={mixout:function(){return{dom:{unwatch:function(){VL(),JT=!0}}}},hooks:function(){return{bootstrap:function(){jT($b("mutationObserverCallbacks",{}))},noAuto:function(){Yee()},watch:function(n){var r=n.observeMutationsRoot;JT?Wb():jT($b("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},YT=function(t){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),s=o[0],l=o.slice(1).join("-");if(s&&l==="h")return r.flipX=!0,r;if(s&&l==="v")return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(s){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l;break}return r},n)},mte={mixout:function(){return{parse:{transform:function(n){return YT(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=YT(i)),n}}},provides:function(t){t.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.containerWidth,s=n.iconWidth,l={transform:"translate(".concat(o/2," 256)")},u="translate(".concat(i.x*32,", ").concat(i.y*32,") "),f="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),d="rotate(".concat(i.rotate," 0 0)"),m={transform:"".concat(u," ").concat(f," ").concat(d)},v={transform:"translate(".concat(s/2*-1," -256)")},y={outer:l,inner:m,path:v};return{tag:"g",attributes:Ue({},y.outer),children:[{tag:"g",attributes:Ue({},y.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Ue(Ue({},r.icon.attributes),y.path)}]}]}}}},Vy={x:0,y:0,width:"100%",height:"100%"};function XT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function gte(e){return e.tag==="g"?e.children:[e]}var vte={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),o=i?Vg(i.split(" ").map(function(s){return s.trim()})):dw();return o.prefix||(o.prefix=Zs()),n.mask=o,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(t){t.generateAbstractMask=function(n){var r=n.children,i=n.attributes,o=n.main,s=n.mask,l=n.maskId,u=n.transform,f=o.width,d=o.icon,m=s.width,v=s.icon,y=mee({transform:u,containerWidth:m,iconWidth:f}),_={tag:"rect",attributes:Ue(Ue({},Vy),{},{fill:"white"})},T=d.children?{children:d.children.map(XT)}:{},C={tag:"g",attributes:Ue({},y.inner),children:[XT(Ue({tag:d.tag,attributes:Ue(Ue({},d.attributes),y.path)},T))]},w={tag:"g",attributes:Ue({},y.outer),children:[C]},S="mask-".concat(l||id()),P="clip-".concat(l||id()),A={tag:"mask",attributes:Ue(Ue({},Vy),{},{id:S,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_,w]},U={tag:"defs",children:[{tag:"clipPath",attributes:{id:P},children:gte(v)},A]};return r.push(U,{tag:"rect",attributes:Ue({fill:"currentColor","clip-path":"url(#".concat(P,")"),mask:"url(#".concat(S,")")},Vy)}),{children:r,attributes:i}}}},yte={provides:function(t){var n=!1;Xs.matchMedia&&(n=Xs.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:Ue(Ue({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=Ue(Ue({},o),{},{attributeName:"opacity"}),l={tag:"circle",attributes:Ue(Ue({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||l.children.push({tag:"animate",attributes:Ue(Ue({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Ue(Ue({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:Ue(Ue({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:Ue(Ue({},s),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:Ue(Ue({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Ue(Ue({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},bte={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),o=i===null?!1:i===""?!0:i;return n.symbol=o,n}}}},_te=[yee,ote,ste,ate,lte,hte,pte,mte,vte,yte,bte];Pee(_te,{mixoutsTo:ri});ri.noAuto;var WL=ri.config,wte=ri.library;ri.dom;var Dm=ri.parse;ri.findIconDefinition;ri.toHtml;var kte=ri.icon;ri.layer;var xte=ri.text;ri.counter;function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(n),!0).forEach(function(r){Mr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rm(e){return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ste(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Cte(e,t){if(e==null)return{};var n=Ste(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ub(e){return Tte(e)||Ete(e)||Ate(e)||Ote()}function Tte(e){if(Array.isArray(e))return Kb(e)}function Ete(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ate(e,t){if(e){if(typeof e=="string")return Kb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kb(e,t)}}function Kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ote(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},UL={exports:{}};(function(e){(function(t){var n=function(w,S,P){if(!f(S)||m(S)||v(S)||y(S)||u(S))return S;var A,U=0,z=0;if(d(S))for(A=[],z=S.length;U<z;U++)A.push(n(w,S[U],P));else{A={};for(var j in S)Object.prototype.hasOwnProperty.call(S,j)&&(A[w(j,P)]=n(w,S[j],P))}return A},r=function(w,S){S=S||{};var P=S.separator||"_",A=S.split||/(?=[A-Z])/;return w.split(A).join(P)},i=function(w){return _(w)?w:(w=w.replace(/[\-_\s]+(.)?/g,function(S,P){return P?P.toUpperCase():""}),w.substr(0,1).toLowerCase()+w.substr(1))},o=function(w){var S=i(w);return S.substr(0,1).toUpperCase()+S.substr(1)},s=function(w,S){return r(w,S).toLowerCase()},l=Object.prototype.toString,u=function(w){return typeof w=="function"},f=function(w){return w===Object(w)},d=function(w){return l.call(w)=="[object Array]"},m=function(w){return l.call(w)=="[object Date]"},v=function(w){return l.call(w)=="[object RegExp]"},y=function(w){return l.call(w)=="[object Boolean]"},_=function(w){return w=w-0,w===w},T=function(w,S){var P=S&&"process"in S?S.process:S;return typeof P!="function"?w:function(A,U){return P(A,w,U)}},C={camelize:i,decamelize:s,pascalize:o,depascalize:s,camelizeKeys:function(w,S){return n(T(i,S),w)},decamelizeKeys:function(w,S){return n(T(s,S),w,S)},pascalizeKeys:function(w,S){return n(T(o,S),w)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=C:t.humps=C})(Mte)})(UL);var Lte=UL.exports,Nte=["class","style"];function Pte(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),i=Lte.camelize(n.slice(0,r)),o=n.slice(r+1).trim();return t[i]=o,t},{})}function Ite(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function gw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(u){return gw(u)}),i=Object.keys(e.attributes||{}).reduce(function(u,f){var d=e.attributes[f];switch(f){case"class":u.class=Ite(d);break;case"style":u.style=Pte(d);break;default:u.attrs[f]=d}return u},{attrs:{},class:{},style:{}});n.class;var o=n.style,s=o===void 0?{}:o,l=Cte(n,Nte);return jn(e.tag,Li(Li(Li({},t),{},{class:i.class,style:Li(Li({},i.style),s)},i.attrs),l),r)}var KL=!1;try{KL=!0}catch{}function Dte(){if(!KL&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function wf(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Mr({},e,t):{}}function Rte(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},Mr(t,"fa-".concat(e.size),e.size!==null),Mr(t,"fa-rotate-".concat(e.rotation),e.rotation!==null),Mr(t,"fa-pull-".concat(e.pull),e.pull!==null),Mr(t,"fa-swap-opacity",e.swapOpacity),Mr(t,"fa-bounce",e.bounce),Mr(t,"fa-shake",e.shake),Mr(t,"fa-beat",e.beat),Mr(t,"fa-fade",e.fade),Mr(t,"fa-beat-fade",e.beatFade),Mr(t,"fa-flash",e.flash),Mr(t,"fa-spin-pulse",e.spinPulse),Mr(t,"fa-spin-reverse",e.spinReverse),t);return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function QT(e){if(e&&Rm(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Dm.icon)return Dm.icon(e);if(e===null)return null;if(Rm(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var zte=an({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,n){var r=n.attrs,i=gn(function(){return QT(t.icon)}),o=gn(function(){return wf("classes",Rte(t))}),s=gn(function(){return wf("transform",typeof t.transform=="string"?Dm.transform(t.transform):t.transform)}),l=gn(function(){return wf("mask",QT(t.mask))}),u=gn(function(){return kte(i.value,Li(Li(Li(Li({},o.value),s.value),l.value),{},{symbol:t.symbol,title:t.title}))});Tn(u,function(d){if(!d)return Dte("Could not find one or more icon(s)",i.value,l.value)},{immediate:!0});var f=gn(function(){return u.value?gw(u.value.abstract[0],{},r):null});return function(){return f.value}}});an({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(t,n){var r=n.slots,i=WL.familyPrefix,o=gn(function(){return["".concat(i,"-layers")].concat(Ub(t.fixedWidth?["".concat(i,"-fw")]:[]))});return function(){return jn("div",{class:o.value},r.default?r.default():[])}}});an({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(t){return["bottom-left","bottom-right","top-left","top-right"].indexOf(t)>-1}}},setup:function(t,n){var r=n.attrs,i=WL.familyPrefix,o=gn(function(){return wf("classes",[].concat(Ub(t.counter?["".concat(i,"-layers-counter")]:[]),Ub(t.position?["".concat(i,"-layers-").concat(t.position)]:[])))}),s=gn(function(){return wf("transform",typeof t.transform=="string"?Dm.transform(t.transform):t.transform)}),l=gn(function(){var f=xte(t.value.toString(),Li(Li({},s.value),o.value)),d=f.abstract;return t.counter&&(d[0].attributes.class=d[0].attributes.class.replace("fa-layers-text","")),d[0]}),u=gn(function(){return gw(l.value,{},r)});return function(){return u.value}}});var Bte={prefix:"fas",iconName:"align-justify",icon:[448,512,[],"f039","M448 64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32z"]},$te={prefix:"fas",iconName:"highlighter",icon:[576,512,[],"f591","M315 315l158.4-215L444.1 70.6 229 229 315 315zm-187 5l0 0V248.3c0-15.3 7.2-29.6 19.5-38.6L420.6 8.4C428 2.9 437 0 446.2 0c11.4 0 22.4 4.5 30.5 12.6l54.8 54.8c8.1 8.1 12.6 19 12.6 30.5c0 9.2-2.9 18.2-8.4 25.6L334.4 396.5c-9 12.3-23.4 19.5-38.6 19.5H224l-25.4 25.4c-12.5 12.5-32.8 12.5-45.3 0l-50.7-50.7c-12.5-12.5-12.5-32.8 0-45.3L128 320zM7 466.3l63-63 70.6 70.6-31 31c-4.5 4.5-10.6 7-17 7H24c-13.3 0-24-10.7-24-24v-4.7c0-6.4 2.5-12.5 7-17z"]},Hte={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},Fte={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32H256c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},Vte={prefix:"fas",iconName:"align-center",icon:[448,512,[],"f037","M352 64c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32s14.3 32 32 32H320c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32s14.3 32 32 32H320c17.7 0 32-14.3 32-32z"]},jte={prefix:"fas",iconName:"paragraph",icon:[448,512,[182],"f1dd","M192 32h64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H384l0 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-352H288V448c0 17.7-14.3 32-32 32s-32-14.3-32-32V352H192c-88.4 0-160-71.6-160-160s71.6-160 160-160z"]},Wte={prefix:"fas",iconName:"align-right",icon:[448,512,[],"f038","M448 64c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]};wte.add(jte,$te,Fte,Wte,Vte,Bte,Hte);const Ute={name:"SvgIcon",components:{FontAwesomeIcon:zte},props:{content:{type:Object,default:()=>{}}},data(){return{defaultSvgs:{bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"/></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"/></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"/></svg>',strikethrough:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M314.222 197.78c51.091 51.091 54.377 132.287 9.75 187.16-6.242 7.73-2.784 3.865-84.94 86.02-54.696 54.696-143.266 54.745-197.99 0-54.711-54.69-54.734-143.255 0-197.99 32.773-32.773 51.835-51.899 63.409-63.457 7.463-7.452 20.331-2.354 20.486 8.192a173.31 173.31 0 0 0 4.746 37.828c.966 4.029-.272 8.269-3.202 11.198L80.632 312.57c-32.755 32.775-32.887 85.892 0 118.8 32.775 32.755 85.892 32.887 118.8 0l75.19-75.2c32.718-32.725 32.777-86.013 0-118.79a83.722 83.722 0 0 0-22.814-16.229c-4.623-2.233-7.182-7.25-6.561-12.346 1.356-11.122 6.296-21.885 14.815-30.405l4.375-4.375c3.625-3.626 9.177-4.594 13.76-2.294 12.999 6.524 25.187 15.211 36.025 26.049zM470.958 41.04c-54.724-54.745-143.294-54.696-197.99 0-82.156 82.156-78.698 78.29-84.94 86.02-44.627 54.873-41.341 136.069 9.75 187.16 10.838 10.838 23.026 19.525 36.025 26.049 4.582 2.3 10.134 1.331 13.76-2.294l4.375-4.375c8.52-8.519 13.459-19.283 14.815-30.405.621-5.096-1.938-10.113-6.561-12.346a83.706 83.706 0 0 1-22.814-16.229c-32.777-32.777-32.718-86.065 0-118.79l75.19-75.2c32.908-32.887 86.025-32.755 118.8 0 32.887 32.908 32.755 86.025 0 118.8l-45.848 45.84c-2.93 2.929-4.168 7.169-3.202 11.198a173.31 173.31 0 0 1 4.746 37.828c.155 10.546 13.023 15.644 20.486 8.192 11.574-11.558 30.636-30.684 63.409-63.457 54.733-54.735 54.71-143.3-.001-197.991z"></path></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M304.083 388.936c4.686 4.686 4.686 12.284 0 16.971l-65.057 65.056c-54.709 54.711-143.27 54.721-197.989 0-54.713-54.713-54.719-143.27 0-197.989l65.056-65.057c4.686-4.686 12.284-4.686 16.971 0l22.627 22.627c4.686 4.686 4.686 12.284 0 16.971L81.386 311.82c-34.341 34.341-33.451 88.269.597 120.866 32.577 31.187 84.788 31.337 117.445-1.32l65.057-65.056c4.686-4.686 12.284-4.686 16.971 0l22.627 22.626zm-56.568-243.245l64.304-64.304c34.346-34.346 88.286-33.453 120.882.612 31.18 32.586 31.309 84.785-1.335 117.43l-65.056 65.057c-4.686 4.686-4.686 12.284 0 16.971l22.627 22.627c4.686 4.686 12.284 4.686 16.971 0l65.056-65.057c54.711-54.709 54.721-143.271 0-197.99-54.71-54.711-143.27-54.72-197.989 0l-65.057 65.057c-4.686 4.686-4.686 12.284 0 16.971l22.627 22.627c4.685 4.685 12.283 4.685 16.97-.001zm238.343 362.794l22.627-22.627c4.686-4.686 4.686-12.284 0-16.971L43.112 3.515c-4.686-4.686-12.284-4.686-16.971 0L3.515 26.142c-4.686 4.686-4.686 12.284 0 16.971l465.373 465.373c4.686 4.686 12.284 4.686 16.97-.001z"></path></svg>',"file-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M369.941 97.941l-83.882-83.882A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v416c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48V131.882a48 48 0 0 0-14.059-33.941zm-22.627 22.628a15.89 15.89 0 0 1 4.195 7.431H256V32.491a15.88 15.88 0 0 1 7.431 4.195l83.883 83.883zM336 480H48c-8.837 0-16-7.163-16-16V48c0-8.837 7.163-16 16-16h176v104c0 13.255 10.745 24 24 24h104v304c0 8.837-7.163 16-16 16zm-161.471-67.404l-25.928-7.527a5.1 5.1 0 0 1-3.476-6.32l58.027-199.869a5.1 5.1 0 0 1 6.32-3.476l25.927 7.527a5.1 5.1 0 0 1 3.476 6.32L180.849 409.12a5.1 5.1 0 0 1-6.32 3.476zm-48.446-47.674l18.492-19.724a5.101 5.101 0 0 0-.351-7.317L105.725 304l38.498-33.881a5.1 5.1 0 0 0 .351-7.317l-18.492-19.724a5.1 5.1 0 0 0-7.209-.233L57.61 300.279a5.1 5.1 0 0 0 0 7.441l61.263 57.434a5.1 5.1 0 0 0 7.21-.232zm139.043.232l61.262-57.434a5.1 5.1 0 0 0 0-7.441l-61.262-57.434a5.1 5.1 0 0 0-7.209.233l-18.492 19.724a5.101 5.101 0 0 0 .351 7.317L278.275 304l-38.499 33.881a5.1 5.1 0 0 0-.351 7.317l18.492 19.724a5.1 5.1 0 0 0 7.209.232z"></path></svg>',"page-break":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M144 48.06L304 48v112a16 16 0 0 0 16 16h112v40h48v-84a48.09 48.09 0 0 0-14.09-34L382 14.07A48.09 48.09 0 0 0 348 0L128 .08a32 32 0 0 0-32 32V216h48zM352 52l76.07 76H352zM240 264a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm192 200H144V360H96v120a32 32 0 0 0 32 32h320a32 32 0 0 0 32-32V360h-48zm128-200H432a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm-400 32v-16a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16z"></path></svg>',"remove-format":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M634 471L36 3.5A16 16 0 0 0 13.49 6l-10 12.5A16 16 0 0 0 6 41l598 467.5a16 16 0 0 0 22.5-2.5l10-12.5A16 16 0 0 0 634 471zM352 96l-24.76 74.27L378 210l38-114h144v32a16 16 0 0 0 16 16h16a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16H176a15.86 15.86 0 0 0-14.18 8.94L232.24 96zm-16 336h-32l25.68-77-50.77-39.7L240 432h-32a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',"quote-right":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 32H336c-26.5 0-48 21.5-48 48v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48zm-288 0H48C21.5 32 0 53.5 0 80v128c0 26.5 21.5 48 48 48h80v64c0 35.3-28.7 64-64 64h-8c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24h8c88.4 0 160-71.6 160-160V80c0-26.5-21.5-48-48-48z"/></svg>',"list-ul":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"/></svg>',"list-ol":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92 0 0 0 5.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h22.83a157.41 157.41 0 0 0-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33 0 15.94 2.44 15.94 9.09 0 4.72-4.2 8.22-14.36 8.22a41.54 41.54 0 0 1-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16 0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM16 160h64a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H64V40a8 8 0 0 0-8-8H32a8 8 0 0 0-7.14 4.42l-8 16A8 8 0 0 0 24 64h8v64H16a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8zm-3.91 160H80a8 8 0 0 0 8-8v-16a8 8 0 0 0-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44 0-29.06-25-39.56-44.47-39.56-21.36 0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44 0 0 1 9.46-3.84c3.33 0 9.28 1.56 9.28 8.75C51 248.19 0 257.31 0 304.59v4C0 316 5.08 320 12.09 320z"/></svg>',h1:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M511.5,196.5v293.1h-58.6V255.1h-58.6v-58.6H511.5z M71.8,181.9h146.6V50c0-16.2,13.1-29.3,29.3-29.3h14.7c16.2,0,29.3,13.1,29.3,29.3V387c0,16.2-13.1,29.3-29.3,29.3h-14.7c-16.2,0-29.3-13.1-29.3-29.3V255.1H71.8V387c0,16.2-13.1,29.3-29.3,29.3H27.8c-16.2,0-29.3-13.1-29.3-29.3V50c0-16.2,13.1-29.3,29.3-29.3h14.7c16.2,0,29.3,13.1,29.3,29.3V181.9z"/></svg>',h2:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M68.5,194.7h137.9V70.5c0-15.2,12.4-27.6,27.6-27.6h13.8c15.2,0,27.6,12.4,27.6,27.6v317.2c0,15.2-12.4,27.6-27.6,27.6H234c-15.2,0-27.6-12.4-27.6-27.6V263.6H68.5v124.1c0,15.2-12.4,27.6-27.6,27.6H27.2c-15.2,0-27.6-12.4-27.6-27.6V70.5C-0.4,55.3,11.9,43,27.2,43H41c15.2,0,27.6,12.4,27.6,27.6V194.7z M512,424.8v45.7H339.5c1.8-17.3,7.4-33.7,16.8-49.1c9.3-15.5,27.8-36,55.3-61.6c22.2-20.7,35.8-34.7,40.8-42c6.8-10.2,10.2-20.2,10.2-30.1c0-11-3-19.4-8.8-25.3c-5.9-5.9-14.1-8.8-24.4-8.8c-10.3,0-18.5,3.1-24.5,9.3c-6.1,6.2-9.6,16.4-10.5,30.8l-49-4.9c2.9-27.1,12.1-46.5,27.5-58.3c15.4-11.8,34.7-17.7,57.8-17.7c25.3,0,45.2,6.8,59.7,20.5c14.5,13.7,21.7,30.6,21.7,50.9c0,11.6-2.1,22.6-6.2,33c-4.1,10.4-10.7,21.4-19.7,32.8c-6,7.6-16.7,18.5-32.2,32.7c-15.5,14.2-25.4,23.7-29.5,28.4c-3.8,4.2-7.2,8.8-10.1,13.7H512z"/></svg>',h3:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M68.3,192.9h137.2V69.4c0-15.2,12.3-27.4,27.4-27.4h13.7c15.2,0,27.4,12.3,27.4,27.4V385c0,15.2-12.3,27.4-27.4,27.4h-13.7c-15.2,0-27.4-12.3-27.4-27.4V261.5H68.3V385c0,15.2-12.3,27.4-27.4,27.4H27.1C12,412.4-0.3,400.1-0.3,385V69.4C-0.3,54.3,12,42,27.1,42h13.7C56,42,68.3,54.3,68.3,69.4V192.9z M342.4,399.5l47.4-5.7c1.5,12.1,5.6,21.3,12.2,27.7c6.6,6.4,14.6,9.6,24,9.6c10.1,0,18.6-3.8,25.5-11.5c6.9-7.7,10.3-18,10.3-31c0-12.3-3.3-22-9.9-29.3c-6.1-7-14.9-10.9-24.2-10.8c-6.3,0-13.7,1.2-22.5,3.6l5.4-39.9c13.2,0.3,23.3-2.5,30.3-8.6c6.9-6.1,10.4-14.2,10.4-24.3c0-8.6-2.6-15.4-7.7-20.6c-5.1-5.1-11.9-7.6-20.4-7.6c-8-0.1-15.8,3-21.4,8.7c-5.9,5.8-9.5,14.3-10.8,25.4l-45.1-7.7c3.1-15.4,7.9-27.8,14.2-37c6.3-9.2,15.2-16.5,26.5-21.8c11.9-5.4,24.9-8.1,38.1-7.9c24,0,43.3,7.7,57.8,23c12,12.5,17.9,26.7,17.9,42.5c0,22.4-12.2,40.3-36.7,53.6c14.6,3.1,26.3,10.2,35.1,21.1c8.8,10.9,13.1,24.1,13.1,39.5c0,22.4-8.2,41.5-24.6,57.3c-16.4,15.8-36.7,23.7-61.1,23.7c-23.1,0-42.3-6.7-57.5-19.9C353.6,438.4,344.8,421,342.4,399.5L342.4,399.5z"/></svg>',h4:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M68.4,196h135V74.5c0-14.9,12.1-27,27-27h13.5c14.9,0,27,12.1,27,27V385c0,14.9-12.1,27-27,27h-13.5c-14.9,0-27-12.1-27-27V263.5h-135V385c0,14.9-12.1,27-27,27H27.9c-14.9,0-27-12.1-27-27V74.5c0-14.9,12.1-27,27-27h13.5c14.9,0,27,12.1,27,27V196zM434.2,466v-50.6H331.4v-42.1l109-159.5h40.4v159.4H512v42.3h-31.2V466H434.2z M434.2,373.1v-85.8l-57.8,85.8H434.2z"/></svg>',h5:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M70.1,191.8h139.5V66.3c0-15.4,12.5-27.9,27.9-27.9h14c15.4,0,27.9,12.5,27.9,27.9v320.9c0,15.4-12.5,27.9-27.9,27.9h-14c-15.4,0-27.9-12.5-27.9-27.9V261.6H70.1v125.6c0,15.4-12.5,27.9-27.9,27.9h-14c-15.4,0-27.9-12.5-27.9-27.9V66.3c0-15.4,12.5-27.9,27.9-27.9h14c15.4,0,27.9,12.5,27.9,27.9V191.8z M337.4,404.1l49.6-5.1c1.4,11.2,5.6,20.1,12.6,26.6c13.4,13.2,35,13.1,48.3-0.3c0.8-0.8,1.5-1.6,2.2-2.5c7.2-8.5,10.8-21.2,10.8-38.2c0-16-3.6-27.9-10.7-35.9c-7.1-8-16.5-11.9-27.9-11.9c-14.3,0-27.1,6.3-38.4,18.9l-40.4-5.9l25.5-135.1h131.6v46.6h-93.9l-7.8,44.1c10.5-5.4,22.2-8.3,34-8.3c21.3-0.3,41.7,8.4,56.1,24.1c15.3,16.1,23,36.9,23,62.5c0.3,20.6-6.3,40.7-18.6,57.2c-16.9,22.9-40.3,34.4-70.3,34.4c-24,0-43.5-6.4-58.6-19.3C349.3,443.1,340.3,425.8,337.4,404.1z"/></svg>',h6:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M70.3,191.6h140.1V65.5c0-15.5,12.5-28,28-28h14c15.5,0,28,12.5,28,28v322.2c0,15.5-12.5,28-28,28h-14c-15.5,0-28-12.5-28-28V261.6H70.3v126.1c0,15.5-12.5,28-28,28h-14c-15.5,0-28-12.5-28-28V65.5c0-15.5,12.5-28,28-28h14c15.5,0,28,12.5,28,28V191.6z M507.2,274.9l-48.4,5.3c-1.2-9.9-4.3-17.3-9.2-22c-5-4.7-11.5-7.1-19.4-7.1c-10.6,0-19.5,4.7-26.8,14.2c-7.3,9.5-11.9,29.2-13.8,59.2c12.5-14.7,27.9-22,46.4-22c20.9,0,38.7,8,53.6,23.8c14.9,15.9,22.3,36.4,22.3,61.5c0,26.7-7.8,48.1-23.5,64.2c-15.7,16.1-35.7,24.2-60.3,24.2c-26.3,0-48-10.2-64.9-30.7c-16.9-20.5-25.4-54-25.4-100.6c0-47.8,8.9-82.2,26.5-103.3s40.6-31.7,68.8-31.7c19.8,0,36.2,5.5,49.2,16.6C495.4,237.7,503.6,253.8,507.2,274.9z M393.9,383.9c0,16.2,3.7,28.8,11.2,37.6c7.5,8.8,16,13.3,25.6,13.3c9.2,0,16.9-3.6,23.1-10.9c6.2-7.2,9.2-19,9.2-35.6c0-16.9-3.3-29.3-9.9-37.2c-6-7.6-15.2-12-24.9-11.8c-9.6,0-17.7,3.8-24.3,11.3C397.2,358.1,393.9,369.2,393.9,383.9z"/></svg>',"horizontal-rule":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M640 247.5v17a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-17a16 16 0 0 1 16-16h608a16 16 0 0 1 16 16z"/></svg>',code:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M234.8 511.7L196 500.4c-4.2-1.2-6.7-5.7-5.5-9.9L331.3 5.8c1.2-4.2 5.7-6.7 9.9-5.5L380 11.6c4.2 1.2 6.7 5.7 5.5 9.9L244.7 506.2c-1.2 4.3-5.6 6.7-9.9 5.5zm-83.2-121.1l27.2-29c3.1-3.3 2.8-8.5-.5-11.5L72.2 256l106.1-94.1c3.4-3 3.6-8.2.5-11.5l-27.2-29c-3-3.2-8.1-3.4-11.3-.4L2.5 250.2c-3.4 3.2-3.4 8.5 0 11.7L140.3 391c3.2 3 8.2 2.8 11.3-.4zm284.1.4l137.7-129.1c3.4-3.2 3.4-8.5 0-11.7L435.7 121c-3.2-3-8.3-2.9-11.3.4l-27.2 29c-3.1 3.3-2.8 8.5.5 11.5L503.8 256l-106.1 94.1c-3.4 3-3.6 8.2-.5 11.5l27.2 29c3.1 3.2 8.1 3.4 11.3.4z"/></svg>',"brackets-curly":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M208 32h-88a56 56 0 0 0-56 56v77.49a40 40 0 0 1-11.72 28.29L7 239a24 24 0 0 0 0 34l45.24 45.24A40 40 0 0 1 64 346.52V424a56 56 0 0 0 56 56h88a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-88a8 8 0 0 1-8-8v-77.48a88.06 88.06 0 0 0-25.78-62.24L57.93 256l28.29-28.28A88.06 88.06 0 0 0 112 165.48V88a8 8 0 0 1 8-8h88a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zm361 207l-45.25-45.24A40.07 40.07 0 0 1 512 165.48V88a56 56 0 0 0-56-56h-88a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h88a8 8 0 0 1 8 8v77.48a88 88 0 0 0 25.78 62.24L518.06 256l-28.28 28.28A88 88 0 0 0 464 346.52V424a8 8 0 0 1-8 8h-88a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h88a56 56 0 0 0 56-56v-77.49a40 40 0 0 1 11.72-28.29L569 273a24 24 0 0 0 0-34z"></path></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"/></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M336 64h-52.28a16 16 0 0 0-13.31 7.12L176 212.73 81.59 71.12A16 16 0 0 0 68.28 64H16A16 16 0 0 0 0 80v16a16 16 0 0 0 16 16h35.16l96 144-96 144H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h52.28a16 16 0 0 0 13.31-7.12L176 299.27l94.41 141.61a16 16 0 0 0 13.31 7.12H336a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-35.16l-96-144 96-144H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm160 400h-24V304a16 16 0 0 0-16-16h-32a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 408 352h16v112h-24a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M336 64h-52.28a16 16 0 0 0-13.31 7.12L176 212.73 81.59 71.12A16 16 0 0 0 68.28 64H16A16 16 0 0 0 0 80v16a16 16 0 0 0 16 16h35.16l96 144-96 144H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h52.28a16 16 0 0 0 13.31-7.12L176 299.27l94.41 141.61a16 16 0 0 0 13.31 7.12H336a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-35.16l-96-144 96-144H336a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm160 112h-24V16a16 16 0 0 0-16-16h-32a16 16 0 0 0-14.29 8.83l-16 32A16 16 0 0 0 408 64h16v112h-24a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h96a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"></path></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M48 264V160H232V264H48zm0 48H232V432H64c-8.8 0-16-7.2-16-16V312zM280 432V312H464V416c0 8.8-7.2 16-16 16H280zM464 264H280V160H464V264zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"/></svg>',"rectangle-code":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M320.1 175L384.1 239C394.3 248.4 394.3 263.6 384.1 272.1L320.1 336.1C311.6 346.3 296.4 346.3 287 336.1C277.7 327.6 277.7 312.4 287 303L334.1 256L287 208.1C277.7 199.6 277.7 184.4 287 175C296.4 165.7 311.6 165.7 320.1 175V175zM177.9 256L224.1 303C234.3 312.4 234.3 327.6 224.1 336.1C215.6 346.3 200.4 346.3 191 336.1L127 272.1C117.7 263.6 117.7 248.4 127 239L191 175C200.4 165.7 215.6 165.7 224.1 175C234.3 184.4 234.3 199.6 224.1 208.1L177.9 256zM448 32C483.3 32 512 60.65 512 96V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H448zM448 80H64C55.16 80 48 87.16 48 96V416C48 424.8 55.16 432 64 432H448C456.8 432 464 424.8 464 416V96C464 87.16 456.8 80 448 80z"/></svg>',"photo-film":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M256 0H576c35.3 0 64 28.7 64 64V288c0 35.3-28.7 64-64 64H256c-35.3 0-64-28.7-64-64V64c0-35.3 28.7-64 64-64zM476 106.7C471.5 100 464 96 456 96s-15.5 4-20 10.7l-56 84L362.7 169c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h80 48H552c8.9 0 17-4.9 21.2-12.7s3.7-17.3-1.2-24.6l-96-144zM336 96a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zM64 128h96V384v32c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V384H512v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V192c0-35.3 28.7-64 64-64zm8 64c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16H88c8.8 0 16-7.2 16-16V208c0-8.8-7.2-16-16-16H72zm0 104c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16H88c8.8 0 16-7.2 16-16V312c0-8.8-7.2-16-16-16H72zm0 104c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16H88c8.8 0 16-7.2 16-16V416c0-8.8-7.2-16-16-16H72zm336 16v16c0 8.8 7.2 16 16 16h16c8.8 0 16-7.2 16-16V416c0-8.8-7.2-16-16-16H424c-8.8 0-16 7.2-16 16z"/></svg>',text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M64 96v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V80C0 53.5 21.5 32 48 32H224 400c26.5 0 48 21.5 48 48v48c0 17.7-14.3 32-32 32s-32-14.3-32-32V96H256l0 320h48c17.7 0 32 14.3 32 32s-14.3 32-32 32H144c-17.7 0-32-14.3-32-32s14.3-32 32-32h48l0-320H64z"/></svg>'}}},computed:{getSvg(){return this.content.svg&&this.content.svg.startsWith("<svg")?this.content.svg:this.content.svg&&this.defaultSvgs[this.content.svg]?this.defaultSvgs[this.content.svg]:""}}},Kte=["innerHTML"];function qte(e,t,n,r,i,o){const s=lt("font-awesome-icon");return n.content.icon?(me(),Et(s,{key:0,icon:n.content.icon},null,8,["icon"])):(me(),Se("span",{key:1,class:"custom-svg",innerHTML:o.getSvg},null,8,Kte))}const ec=Dt(Ute,[["render",qte]]),Gte={components:{SvgIcon:ec},props:{items:{type:Array,required:!0},command:{type:Function,required:!0}},data(){return{selectedIndex:0}},computed:{columns(){const t=Math.ceil(this.items.length/3),n=[];for(let r=0;r<3;r++)n.push(this.items.slice(r*t,(r+1)*t));return n},shortcutInfo(){const e=this.items[this.selectedIndex],t=Yn(e,"commandInfo.shortcut"),n=Yn(e,"commandInfo.text");return t?{label:Craft.t("vizy","Shortcut:"),icons:this.formatKeyboardShortcuts(t)}:n?{label:n}:{}}},methods:{onKeyDown({event:e}){return e.key==="ArrowUp"?(this.moveSelectionUp(),!0):e.key==="ArrowDown"?(this.moveSelectionDown(),!0):e.key==="ArrowLeft"?(this.moveSelectionLeft(),!0):e.key==="ArrowRight"?(this.moveSelectionRight(),!0):e.key==="Enter"?(this.enterHandler(),!0):!1},getItemIndex(e,t){return e+t*Math.ceil(this.items.length/3)},moveSelectionUp(){this.selectedIndex>0&&this.selectedIndex--},moveSelectionDown(){this.selectedIndex<this.items.length-1&&this.selectedIndex++},moveSelectionLeft(){if(this.selectedIndex>=0&&Math.floor(this.selectedIndex/Math.ceil(this.items.length/3))>0){const t=this.selectedIndex-Math.ceil(this.items.length/3);this.selectedIndex=t}},moveSelectionRight(){if(this.selectedIndex>=0&&Math.floor(this.selectedIndex/Math.ceil(this.items.length/3))<2){const t=this.selectedIndex+Math.ceil(this.items.length/3);t<this.items.length&&(this.selectedIndex=t)}},enterHandler(){this.selectItem(this.selectedIndex)},selectItem(e){const t=this.items[e];t&&this.command(t)},formatKeyboardShortcuts(e){const t=navigator.platform.toUpperCase().indexOf("MAC")>=0,n={Mod:t?"":"Ctrl",Alt:t?"":"Alt",Shift:t?"":"Shift",Ctrl:t?"":"Ctrl"};return e.split("-").map(r=>n[r]||r)}}},Jte={key:0,class:"vui-command-items",style:{"max-height":"216px"}},Yte={class:"vui-command-items-wrap"},Xte=["onClick"],Zte={class:"vui-command-item-label"},Qte={class:"vui-command-info",style:{"min-height":"32px"}},ene={class:"vui-command-info-left"},tne={class:"vui-command-info-shortcut"},nne={key:0,class:"vui-command-info-shortcut-label"},rne={key:1,class:"vui-command-items-empty"};function ine(e,t,n,r,i,o){const s=lt("svg-icon");return n.items.length?(me(),Se("div",Jte,[ie("div",Yte,[(me(!0),Se(kt,null,Zt(o.columns,(l,u)=>(me(),Se("div",{key:u,class:"vui-command-column"},[(me(!0),Se(kt,null,Zt(l,(f,d)=>(me(),Se("button",{key:d,class:mt(["vui-command-item",{"is-selected":i.selectedIndex===o.getItemIndex(d,u)}]),onClick:m=>o.selectItem(o.getItemIndex(d,u))},[Qe(s,{content:f,class:"vui-command-item-icon"},null,8,["content"]),ie("span",Zte,Ne(f.title),1)],10,Xte))),128))]))),128))]),ie("div",Qte,[ie("div",ene,[ie("div",tne,[o.shortcutInfo.label?(me(),Se("div",nne,Ne(o.shortcutInfo.label),1)):_t("",!0),(me(!0),Se(kt,null,Zt(o.shortcutInfo.icons,(l,u)=>(me(),Se("div",{key:u,class:"vui-command-info-shortcut-img"},Ne(l),1))),128))])])])])):(me(),Se("div",rne,Ne(e.t("vizy","No items found.")),1))}const one=Dt(Gte,[["render",ine]]),sne={items:e=>{const{vizyField:t}=e.editor,n=t.settings,r=Craft.Vizy.Config.getCommands();let i=[],o=["h1","h2","h3","unordered-list","ordered-list","media-embed","link","image","code-block","blockquote","hr"];n.vizyConfig.commands&&(o=n.vizyConfig.commands),o.forEach(l=>{const u=r.find(f=>f.name===l);u&&i.push(u)});let s=["paragraph","code-block","blockquote","h1","h2","h3","h4","h5","h6"];return n.vizyConfig.formatting&&n.vizyConfig.formatting.length&&(s=n.vizyConfig.formatting),s=[...s,...t.buttons],i.forEach((l,u)=>{s.includes(l.name)||i.splice(u,1)}),t.richTextEnabled||(i=[]),n.blockGroups.forEach(l=>{l.blockTypes.forEach(u=>{i.push({name:u.handle,svg:u.icon.svg,title:u.name,command:({editor:f,range:d})=>{const m=Lm("vizy-block-"),v={type:u.id},{fieldsHtml:y,footHtml:_}=u;f.vizyField.setCachedFieldHtml(m,y),f.vizyField.setCachedFieldJs(m,_),f.chain().focus().deleteRange(d).setVizyBlock({id:m,values:v}).run(),setTimeout(()=>{f.vizyField.$events.emit("vizy-blocks:addedBlock")},50)}})})}),i.filter(l=>l.title.toLowerCase().startsWith(e.query.toLowerCase()))},render:()=>{let e,t;return{onStart:n=>{e=new dL(one,{props:n,editor:n.editor}),n.clientRect&&(t=dr("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"top-start",theme:"light-border vui-command-dropdown",maxWidth:"600px",duration:200}))},onUpdate(n){e.updateProps(n),n.clientRect&&t[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var r;return n.event.key==="Escape"?(t[0].hide(),!0):(r=e.ref)==null?void 0:r.onKeyDown(n)},onExit(){t[0].destroy(),e.destroy()}}}},ane=e=>{const t=[],n={},r=[];return Object.entries(e.settings.vizyConfig).forEach(([i,o])=>{(i==="buttons"||i==="formatting")&&o.forEach(s=>{cr(s)&&(Array.isArray(n[s.type])||(n[s.type]=[]),Object.keys(s.attrs).forEach(l=>{n[s.type].includes(l)||n[s.type].push(l)}),s.editorStyle&&t.push(s))})}),t.forEach(i=>{const o=ZV(`${i.type} ${i.title}`);if(!document.querySelector(`style#${o}`)){const s=document.createElement("style");s.id=o,s.innerHTML=`.vui-editor ${i.editorStyle}`,document.head.appendChild(s)}}),Object.entries(n).forEach(([i,o])=>{const s={};o.forEach(l=>{s[l]={default:null}}),r.push(zn.create({name:`${i}CustomAttributes`,addGlobalAttributes(){return[{types:[i],attributes:s}]}}))}),r},lne={name:"MenuBarItem",components:{SvgIcon:ec},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}},options:{type:Array,default:()=>[]}},data(){return{tippy:null}},computed:{active(){return this.isActive&&this.isActive(this.editor)}},mounted(){this.$nextTick(()=>{if(this.hasDropdown){const e=this.$el.querySelector(`.vui-toolbar-dropdown-${this.name}`),t=this.$el;e&&t&&(e.style.display="block",this.tippy=dr(t,{content:e,trigger:"click",allowHTML:!0,arrow:!1,interactive:!0,placement:"bottom-start",theme:"light-border toolbar-dropdown",duration:200,zIndex:1e3,hideOnClick:!0,offset:[0,1],onShown(n){n.popper.querySelector("button").focus()}}))}}),this._keyListener=function(e){e.key==="Escape"&&(e.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{hasDropdown(){return!!(this.options&&this.options.length)},optionActive(e){return e.isActive&&e.isActive(this.editor)},runAction(e){this.tippy&&this.tippy.hide(),e&&e(this.editor)},onMouseDown(e){e.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}},une={class:"vui-toolbar-dropdown-wrap"},cne=["onClick"];function fne(e,t,n,r,i,o){const s=lt("svg-icon"),l=qu("tooltip");return Wt((me(),Se("button",{class:mt(["btn vui-toolbar-btn",{active:o.active}]),onClick:t[0]||(t[0]=at(u=>o.runAction(n.action),["prevent"])),onMousedown:t[1]||(t[1]=(...u)=>o.onMouseDown&&o.onMouseDown(...u))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"]),o.hasDropdown()?(me(),Se("div",{key:0,class:mt(["vui-toolbar-dropdown-container","vui-toolbar-dropdown-"+n.name]),style:{display:"none"}},[ie("div",une,[(me(!0),Se(kt,null,Zt(n.options,(u,f)=>(me(),Se("button",{key:f,class:mt(["vui-toolbar-dropdown",["vui-toolbar-dropdown-item-"+u.name,{active:o.optionActive(u)}]]),onClick:at(d=>o.runAction(u.action),["prevent"])},Ne(u.title),11,cne))),128))])],2)):_t("",!0)],34)),[[l,{content:n.title,theme:"vui-tooltip"}]])}const dne=Dt(lne,[["render",fne]]),qL=(e,t)=>{if(!e||!t)return;const n=e.parent.childAfter(e.parentOffset);if(!n.node)return;const r=n.node.marks.find(u=>u.type===t);if(!r)return;let i=e.index(),o=e.start()+n.offset,s=i+1,l=o+n.node.nodeSize;for(;i>0&&r.isInSet(e.parent.child(i-1).marks);)i-=1,o-=e.parent.child(i).nodeSize;for(;s<e.parent.childCount&&r.isInSet(e.parent.child(s).marks);)l+=e.parent.child(s).nodeSize,s+=1;return{from:o,to:l}},hne={name:"MenuBarModal",inheritAttrs:!1,props:{cancelButton:{type:String,default:"Cancel"},confirmButton:{type:String,default:"Confirm"}},emits:["update:modelValue","confirm","cancel"],mounted(){this._keyListener=function(e){const t=this.$vfm.openedModals[0];t&&e.key==="Escape"&&(e.preventDefault(),t.emit("cancel"))},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{opened(){setTimeout(()=>{this.$nextTick().then(()=>{const e=this.$el.querySelector('input[type="text"]');e&&e.focus()})},50)}}},pne={class:"vui-modal-header"},mne={class:"vui-modal-body"},gne={class:"vui-modal-footer footer"},vne=ie("div",{class:"spinner hidden"},null,-1),yne={class:"buttons right"},bne=["onClick"],_ne=["onClick"];function wne(e,t,n,r,i,o){const s=lt("vue-final-modal");return me(),Et(s,mi({class:"vui-modal-wrap"},e.$attrs,{classes:"vui-modal-container","content-class":"vui-modal-content","overlay-class":"vui-modal-overlay",attach:"body","lock-scroll":!1,"esc-to-close":!0,"click-to-close":!0,"focus-trap":!0,onOpened:o.opened,onClickOutside:t[1]||(t[1]=l=>e.$emit("cancel")),onCancel:t[2]||(t[2]=l=>e.$emit("cancel"))}),{default:Bt(({params:l,close:u})=>[ie("div",pne,[pn(e.$slots,"title"),ie("div",{class:"vui-modal-close",onClick:t[0]||(t[0]=at(f=>e.$emit("update:modelValue",!1),["prevent"]))})]),ie("div",mne,[pn(e.$slots,"default",{params:l})]),ie("div",gne,[vne,ie("div",yne,[ie("div",{role:"button",class:"btn",tabindex:"0",onClick:at(f=>e.$emit("cancel",u),["prevent"])},Ne(e.t("vizy",n.cancelButton)),9,bne),ie("div",{role:"button",class:"btn submit",onClick:at(f=>e.$emit("confirm",u),["prevent"])},Ne(e.t("vizy",n.confirmButton)),9,_ne)])])]),_:3},16,["onOpened"])}const Wg=Dt(hne,[["render",wne]]),kne={name:"LinkMenuModal",components:{MenuBarModal:Wg},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{url:null,text:null,target:null,class:null,title:null},errors:[],advancedPane:!1}},computed:{elementSiteId(){return this.field.settings.elementSiteId},newWindow:{get(){return this.modelValue.target==="_blank"},set(e){this.modelValue.target=e?"_blank":""}}},watch:{show(e){this.proxyShow=e},proxyShow(e){e===!1&&this.$emit("close")},proxyValue(e){this.$emit("update:modelValue",e)}},methods:{cancelModal(){this.proxyShow=!1},toggleAdvanced(){this.advancedPane=!this.advancedPane},confirmModal(){if(this.errors=[],!this.modelValue.url){this.errors.push("url");return}const e={href:this.modelValue.url,target:this.modelValue.target?"_blank":"",class:this.modelValue.class,title:this.modelValue.title},{selection:t}=this.editor.state.tr,n=t.$cursor?t.$cursor.pos:t.from;this.editor.chain().focus().command(({commands:r,tr:i,state:o,dispatch:s})=>{let l=qL(o.doc.resolve(i.selection.anchor),o.schema.marks.link);if(l||(l={from:i.selection.from,to:i.selection.to}),this.modelValue.text){const u=this.modelValue.text.toString();i.insertText(u,l.from,l.to);const f=i.doc.resolve(l.from),d=i.doc.resolve(l.from+u.length);i.setSelection(new ut(f,d))}}).setLink(e).command(({commands:r,tr:i,state:o,dispatch:s})=>{n&&i.setSelection(ut.create(i.doc,n))}).run(),this.proxyShow=!1}}},xne={class:"heading"},Sne={id:"url-label",class:"required",for:"url"},Cne={key:0,class:"errors"},Tne={id:"text-field",class:"field"},Ene={class:"heading"},Ane={id:"text-label",for:"text"},One={class:"input ltr"},Mne={id:"target-field",class:"checkboxfield field"},Lne={class:"input ltr"},Nne=["id"],Pne=["for"],Ine={id:"title-field",class:"field"},Dne={class:"heading"},Rne={id:"title-label",for:"title"},zne={class:"input ltr"},Bne={id:"classes-field",class:"field"},$ne={class:"heading"},Hne={id:"classes-label",for:"classes"},Fne={class:"input ltr"};function Vne(e,t,n,r,i,o){const s=lt("menu-bar-modal");return me(),Et(s,{modelValue:i.proxyShow,"onUpdate:modelValue":t[6]||(t[6]=l=>i.proxyShow=l),"confirm-button":e.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Bt(()=>[$i(Ne(e.t("vizy",e.$attrs["modal-title"])),1)]),default:Bt(()=>[ie("div",{id:"url-field",class:mt(["field",{"has-errors":i.errors.includes("url")}])},[ie("div",xne,[ie("label",Sne,Ne(e.t("vizy","URL")),1)]),ie("div",{class:mt(["input ltr",{errors:i.errors.includes("url")}])},[Wt(ie("input",{id:"url","onUpdate:modelValue":t[0]||(t[0]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off",required:""},null,512),[[An,n.modelValue.url]])],2),i.errors.includes("url")?(me(),Se("ul",Cne,[ie("li",null,Ne(e.t("vizy","URL cannot be blank.")),1)])):_t("",!0)],2),ie("div",Tne,[ie("div",Ene,[ie("label",Ane,Ne(e.t("vizy","Text")),1)]),ie("div",One,[Wt(ie("input",{id:"text","onUpdate:modelValue":t[1]||(t[1]=l=>n.modelValue.text=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[An,n.modelValue.text]])])]),ie("div",Mne,[ie("div",Lne,[Wt(ie("input",{id:i.targetId,"onUpdate:modelValue":t[2]||(t[2]=l=>o.newWindow=l),type:"checkbox",class:"checkbox"},null,8,Nne),[[ld,o.newWindow]]),ie("label",{for:i.targetId},Ne(e.t("vizy","Open link in new tab")),9,Pne)])]),ie("a",{class:mt(["fieldtoggle",{expanded:i.advancedPane}]),"data-target":"advanced",onClick:t[3]||(t[3]=at((...l)=>o.toggleAdvanced&&o.toggleAdvanced(...l),["prevent"]))},Ne(e.t("app","Advanced")),3),ie("div",{class:mt({hidden:!i.advancedPane})},[ie("div",Ine,[ie("div",Dne,[ie("label",Rne,Ne(e.t("vizy","Title")),1)]),ie("div",zne,[Wt(ie("input",{id:"title","onUpdate:modelValue":t[4]||(t[4]=l=>n.modelValue.title=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[An,n.modelValue.title]])])]),ie("div",Bne,[ie("div",$ne,[ie("label",Hne,Ne(e.t("vizy","Classes")),1)]),ie("div",Fne,[Wt(ie("input",{id:"classes","onUpdate:modelValue":t[5]||(t[5]=l=>n.modelValue.class=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[An,n.modelValue.class]])])])],2)]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const GL=Dt(kne,[["render",Vne]]),jne={name:"LinkMenuBubble",components:{LinkMenuModal:GL},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{url:null,text:null,target:null,class:null,title:null}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.on("vui:link-clicked",this.renderBubble)})}}},methods:{renderBubble(){const{doc:e,selection:t,schema:n}=this.editor.view.state,r=qL(e.resolve(t.anchor),n.marks.link);if(r){const i=this.editor.view.docView.domFromPos(r.from).node;if(i){this.$el.style.display="block";const o=this.editor.getAttributes("link");this.model.text=i.textContent,this.model.url=o.href,this.model.target=o.target,this.model.class=o.class,this.model.title=o.title,this.tippy=dr(i.parentNode,{content:this.$el,showOnCreate:!0,trigger:"manual",allowHTML:!0,arrow:!0,interactive:!0,placement:"top",theme:"vui-menu-bubble",hideOnClick:!0,duration:200,zIndex:1e3,appendTo:()=>document.body})}}},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},truncate(e,t){return e&&e.length>t?`${e.substr(0,t-1)}&hellip;`:e},edit(){this.showEditModal=!0,this.destroyBubble(),this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},unlink(){this.editor.chain().focus().unsetLink().run(),this.destroyBubble()}}},Wne={class:"vui-link-menu-bubble",style:{display:"none"}},Une=["href","innerHTML"];function Kne(e,t,n,r,i,o){const s=lt("link-menu-modal");return me(),Se("div",Wne,[ie("a",{href:i.model.url,target:"_blank",innerHTML:o.truncate(i.model.url,30)},null,8,Une),ie("a",{href:"#",onClick:t[0]||(t[0]=at((...l)=>o.edit&&o.edit(...l),["prevent"]))},Ne(e.t("vizy","Edit")),1),ie("a",{href:"#",onClick:t[1]||(t[1]=at((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Ne(e.t("vizy","Unlink")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":t[2]||(t[2]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Link",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const qne=Dt(jne,[["render",Kne]]),Gne={name:"MenuBarItem",components:{SvgIcon:ec,LinkMenuModal:GL,LinkMenuBubble:qne},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},title:{type:String,default:null},isActive:{type:Function,default:()=>{}}},data(){return{tippy:null,showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)},linkOptions(){return this.field.settings.linkOptions}},created(){this.resetModel(),this.editor.on("vui:link-modal-open",()=>{this.openNewModal()})},mounted(){this.$nextTick(()=>{const e=this.$el.querySelector(".vui-toolbar-dropdown-link"),t=this.$el;e&&t&&(e.style.display="block",this.tippy=dr(t,{content:e,trigger:"click",allowHTML:!0,arrow:!1,interactive:!0,placement:"bottom-start",theme:"light-border toolbar-dropdown",duration:200,zIndex:1e3,hideOnClick:!0,offset:[0,1],onShown(n){n.popper.querySelector("button").focus()}}))}),this._keyListener=function(e){e.key==="Escape"&&(e.preventDefault(),this.closeDropdown()),this.editor.vizyField.isFocused()&&e.key==="k"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.openNewModal())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{resetModel(){this.model={url:null,text:null,target:null,class:null,title:null}},openNewModal(){this.tippy.hide(),this.resetModel();const e=this.getSelectedText();e&&(this.model.text=e),this.showEditModal=!0},openEditModal(){this.tippy.hide();const{from:e,to:t}=this.editor.view.state.selection,n=this.editor.view.docView.domFromPos(e).node,r=this.editor.getAttributes("link");this.model.text=n.textContent,this.model.url=r.href,this.model.target=r.target,this.model.class=r.class,this.model.title=r.title,this.showEditModal=!0},closeModal(){this.showEditModal=!1},openElementModal(e){this.tippy.hide(),this.resetModel(),Craft.createElementSelectorModal(e.elementType,{storageKey:`VizyInput.LinkTo.${e.elementType}`,sources:e.sources,criteria:e.criteria,defaultSiteId:this.elementSiteId,autoFocusSearchBox:!1,onSelect:$.proxy(t=>{if(t.length){const[n]=t;this.model.url=`${n.url}#${e.refHandle}:${n.id}@${n.siteId}`,this.model.text=this.getSelectedText()||n.label,this.tippy.hide(),this.showEditModal=!0}},this),closeOtherModals:!1})},getSelectedText(){const{from:e,to:t}=this.editor.state.selection,n=this.editor.state.doc.textBetween(e,t," ");return n||!1},unlinkAction(){this.tippy&&this.tippy.hide(),this.editor.chain().focus().unsetLink().run()},onMouseDown(e){e.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}},Jne={class:"vui-toolbar-dropdown-container vui-toolbar-dropdown-link",style:{display:"none"}},Yne={key:0},Xne=["onClick"],Zne={key:1};function Qne(e,t,n,r,i,o){const s=lt("svg-icon"),l=lt("link-menu-bubble"),u=lt("link-menu-modal"),f=qu("tooltip");return me(),Se("div",null,[Wt((me(),Se("button",{class:mt(["btn vui-toolbar-btn",{active:o.active}]),onClick:t[0]||(t[0]=at(()=>{},["prevent"])),onMousedown:t[1]||(t[1]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),ie("div",Jne,[o.active?(me(),Se("div",Zne,[ie("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-link",onClick:t[3]||(t[3]=at((...d)=>o.openEditModal&&o.openEditModal(...d),["prevent"]))},Ne(e.t("vizy","Edit Link")),1)])):(me(),Se("div",Yne,[(me(!0),Se(kt,null,Zt(o.linkOptions,(d,m)=>(me(),Se("button",{key:m,class:mt(["vui-toolbar-dropdown","vui-toolbar-dropdown-item-link-"+d.refHandle]),onClick:at(v=>o.openElementModal(d),["prevent"])},Ne(d.optionTitle),11,Xne))),128)),ie("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-link",onClick:t[2]||(t[2]=at((...d)=>o.openNewModal&&o.openNewModal(...d),["prevent"]))},Ne(e.t("vizy","Insert Link")),1)])),ie("button",{class:"vui-toolbar-dropdown vui-toolbar-dropdown-item-unlink",onClick:t[4]||(t[4]=at((...d)=>o.unlinkAction&&o.unlinkAction(...d),["prevent"]))},Ne(e.t("vizy","Unlink")),1)]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":t[5]||(t[5]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Link",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const ere=Dt(Gne,[["render",Qne]]),tre={name:"ImageMenuModal",components:{MenuBarModal:Wg},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{id:null,src:null,alt:null,title:null,url:null,target:null,transform:null},errors:[]}},computed:{elementSiteId(){return this.field.settings.elementSiteId},transforms(){return this.field.settings.transforms}},watch:{show(e){this.proxyShow=e},proxyShow(e){e===!1&&this.$emit("close")},proxyValue(e){this.$emit("update:modelValue",e)}},methods:{_buildAssetUrl:(e,t,n)=>`${t}#asset:${e}:${n?`transform:${n}`:"url"}`,_removeTransformFromUrl:e=>e.replace(/(.*)(_[a-z0-9+].*\/)(.*)/,"$1$3"),_getTransformUrl(e,t,n){const r={assetId:e,handle:t};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{n(i.data.url)}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})},cancelModal(){this.proxyShow=!1},confirmModal(){this.errors=[];const e=this._removeTransformFromUrl(this.modelValue.src.split("#")[0]);this.modelValue.target=this.modelValue.target?"_blank":"",this.modelValue.transform?this._getTransformUrl(this.modelValue.id,this.modelValue.transform,t=>{this.modelValue.src=this._buildAssetUrl(this.modelValue.id,t,this.modelValue.transform),this.editor.chain().focus().setImage(this.modelValue).run()}):(this.modelValue.src=e,this.editor.chain().focus().setImage(this.modelValue).run()),this.proxyShow=!1}}},nre={class:"vui-modal-body-wrap"},rre={class:"vizy-modal-image-preview"},ire=["src"],ore={class:"vizy-modal-image-fields"},sre={id:"alt-field",class:"field"},are={class:"heading"},lre={id:"alt-label",for:"alt"},ure={class:"input ltr"},cre={id:"title-field",class:"field"},fre={class:"heading"},dre={id:"title-label",for:"title"},hre={class:"input ltr"},pre={id:"url-field",class:"field"},mre={class:"heading"},gre={id:"url-label",for:"url"},vre={class:"input ltr"},yre={id:"target-field",class:"checkboxfield field"},bre={class:"input ltr"},_re=["id"],wre=["for"],kre={id:"transform-field",class:"field first"},xre={class:"heading"},Sre={id:"transform-label",for:"transform"},Cre={class:"input ltr"},Tre={class:"select"},Ere={value:""},Are=["value"];function Ore(e,t,n,r,i,o){const s=lt("menu-bar-modal");return me(),Et(s,{modelValue:i.proxyShow,"onUpdate:modelValue":t[5]||(t[5]=l=>i.proxyShow=l),class:"vui-modal-image-edit","confirm-button":e.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Bt(()=>[$i(Ne(e.t("vizy",e.$attrs["modal-title"])),1)]),default:Bt(()=>[ie("div",nre,[ie("div",rre,[ie("img",{src:n.modelValue.src},null,8,ire)]),ie("div",ore,[ie("div",sre,[ie("div",are,[ie("label",lre,Ne(e.t("vizy","Alt Text")),1)]),ie("div",ure,[Wt(ie("input",{id:"alt","onUpdate:modelValue":t[0]||(t[0]=l=>n.modelValue.alt=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[An,n.modelValue.alt]])])]),ie("div",cre,[ie("div",fre,[ie("label",dre,Ne(e.t("vizy","Title")),1)]),ie("div",hre,[Wt(ie("input",{id:"title","onUpdate:modelValue":t[1]||(t[1]=l=>n.modelValue.title=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[An,n.modelValue.title]])])]),ie("div",pre,[ie("div",mre,[ie("label",gre,Ne(e.t("vizy","URL")),1)]),ie("div",vre,[Wt(ie("input",{id:"url","onUpdate:modelValue":t[2]||(t[2]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off"},null,512),[[An,n.modelValue.url]])])]),ie("div",yre,[ie("div",bre,[Wt(ie("input",{id:i.targetId,"onUpdate:modelValue":t[3]||(t[3]=l=>n.modelValue.target=l),type:"checkbox",class:"checkbox"},null,8,_re),[[ld,n.modelValue.target]]),ie("label",{for:i.targetId},Ne(e.t("vizy","Open link in new tab")),9,wre)])]),ie("div",kre,[ie("div",xre,[ie("label",Sre,Ne(e.t("vizy","Transform")),1)]),ie("div",Cre,[ie("div",Tre,[Wt(ie("select",{id:"transform","onUpdate:modelValue":t[4]||(t[4]=l=>n.modelValue.transform=l)},[ie("option",Ere,Ne(e.t("vizy","No Transform")),1),(me(!0),Se(kt,null,Zt(o.transforms,(l,u)=>(me(),Se("option",{key:u,value:l.handle},Ne(l.name),9,Are))),128))],512),[[T1,n.modelValue.transform]])])])])])])]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const JL=Dt(tre,[["render",Ore]]),Mre=(e,t=!0)=>{if(!e)throw new Error('Invalid "node" parameter');const n=[];return e.descendants((r,i)=>{if(n.push({node:r,pos:i}),!t)return!1}),n},Lre=(e,t,n)=>{if(e){if(!t)throw new Error('Invalid "predicate" parameter')}else throw new Error('Invalid "node" parameter');return Mre(e,n).filter(r=>t(r.node))},Nre=(e,t,n)=>Lre(e,r=>r.type===t,n),vw={name:"followCursor",defaultValue:!1,fn(e){const{reference:t}=e;return{onMount(){const n=e.props.mouseEvent,r=n.target?t.contains(n.target):!0,{clientX:i,clientY:o}=n,s=t.getBoundingClientRect(),l=i-s.left,u=o-s.top;(r||!e.props.interactive)&&e.setProps({getReferenceClientRect(){const f=t.getBoundingClientRect(),d=f.left+l,m=f.top+u;return{width:0,height:0,top:m,right:d,bottom:m,left:d}}})}}}},Pre={name:"ImageMenuBubble",components:{ImageMenuModal:JL},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{id:null,src:null,alt:null,title:null,url:null,target:null,transform:null}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.on("vui:image-clicked",this.renderBubble)})}}},methods:{renderBubble(e){const{view:t}=this.editor,n=this.editor.getAttributes("image");l_(n)&&(this.model=n,this.$el.style.display="block",this.destroyBubble(),this.tippy=dr(t.dom,{content:this.$el,trigger:"manual",showOnCreate:!0,allowHTML:!0,arrow:!0,interactive:!0,placement:"top",followCursor:"initial",plugins:[vw],theme:"vui-menu-bubble",duration:200,mouseEvent:e,zIndex:1e3,appendTo:()=>document.body}))},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},edit(){this.showEditModal=!0,this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},imageEditor(){if(this.model.id){const e={allowSavingAsNew:!1,onSave:this.reloadImage.bind(this),allowDegreeFractions:Craft.isImagick};new Craft.AssetImageEditor(this.model.id,e),this.destroyBubble()}},reloadImage(){Nre(this.editor.state.doc,this.editor.schema.nodes.image).forEach(t=>{if(!t.node.attrs.src)return;const n=t.node.attrs.src.match(/(.*)#asset:(\d+)(:transform:(.*))?/i);if(n&&n[2]==this.model.id)if(n[4]){const r={assetId:n[2],handle:n[4]};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{const o={src:`${i.data.url}?${new Date().getTime()}#asset:${n[2]}:transform:${n[4]}`};this.editor.view.dispatch(this.editor.state.tr.setNodeMarkup(t.pos,null,{...t.node.attrs,...o}))}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})}else{const r={src:`${n[1]}?${new Date().getTime()}#asset:${n[2]}`};this.editor.view.dispatch(this.editor.state.tr.setNodeMarkup(t.pos,null,{...t.node.attrs,...r}))}})},unlink(){this.editor.chain().focus().deleteSelection().run(),this.destroyBubble()}}},Ire={class:"vui-image-menu-bubble",style:{display:"none"}};function Dre(e,t,n,r,i,o){const s=lt("image-menu-modal");return me(),Se("div",Ire,[ie("a",{href:"#",onClick:t[0]||(t[0]=at((...l)=>o.imageEditor&&o.imageEditor(...l),["prevent"]))},Ne(e.t("vizy","Image Editor")),1),ie("a",{href:"#",onClick:t[1]||(t[1]=at((...l)=>o.edit&&o.edit(...l),["prevent"]))},Ne(e.t("vizy","Edit")),1),ie("a",{href:"#",onClick:t[2]||(t[2]=at((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Ne(e.t("vizy","Delete")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":t[3]||(t[3]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Image",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const Rre=Dt(Pre,[["render",Dre]]),zre={name:"ImageMenuBarItem",components:{SvgIcon:ec,ImageMenuBubble:Rre,ImageMenuModal:JL},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}}},data(){return{showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)},volumes(){return this.field.settings.volumes},transforms(){return this.field.settings.transforms},elementSiteId(){return this.field.settings.elementSiteId},defaultTransform(){return this.field.settings.defaultTransform},allowAllUploaders(){return this.field.settings.allowAllUploaders},defaultSource(){return this.field.settings.defaultSource}},created(){this.resetModel(),this.editor.on("vui:image-modal-open",()=>{this.runAction()})},mounted(){this._keyListener=function(e){e.key==="Escape"&&(e.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{_buildAssetUrl:(e,t,n)=>`${t}#asset:${e}:${n?`transform:${n}`:"url"}`,_isTransformUrl:e=>/(.*)(_[a-z0-9+].*\/)(.*)/.test(e),_getTransformUrl(e,t,n){const r={assetId:e,handle:t};Craft.sendActionRequest("POST","assets/generate-transform",{data:r}).then(i=>{n(i.data.url)}).catch(({response:i})=>{alert("There was an error generating the transform URL.")})},runAction(){const e={siteId:this.elementSiteId,kind:"image"};this.allowAllUploaders&&(e.uploaderId=null),this.assetSelectionModal=Craft.createElementSelectorModal("craft\\elements\\Asset",{storageKey:"VizyInput.ChooseImage",multiSelect:!0,sources:this.volumes,defaultSource:this.defaultSource??null,criteria:e,onSelect:function(t,n){if(t.length){const r={};t.length>1;const i=function(o,s){const l=o.pop(),u=this._isTransformUrl(l.url);u||!this.defaultTransform?(r[`asset${l.id}`]={id:l.id,src:this._buildAssetUrl(l.id,l.url,u?n:this.defaultTransform),alt:l.label,title:l.label,transform:u?n:this.defaultTransform},o.length?i(o,s):s()):this._getTransformUrl(l.id,this.defaultTransform,f=>{r[`asset${l.id}`]={id:l.id,src:this._buildAssetUrl(l.id,f,this.defaultTransform),alt:l.label,title:l.label,transform:this.defaultTransform},o.length?i(o,s):s()})}.bind(this);i(t,()=>{Object.keys(r).forEach(o=>{this.model={...this.model,...r[o]},this.showEditModal=!0})})}}.bind(this),transforms:this.transforms,closeOtherModals:!1})},resetModel(){this.model={id:null,src:null,alt:null,title:null,url:null,target:null,transform:this.defaultTransform}},closeModal(){this.showEditModal=!1},onMouseDown(e){e.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}};function Bre(e,t,n,r,i,o){const s=lt("svg-icon"),l=lt("image-menu-bubble"),u=lt("image-menu-modal"),f=qu("tooltip");return me(),Se("div",null,[Wt((me(),Se("button",{class:mt(["btn vui-toolbar-btn",{active:o.active}]),onClick:t[0]||(t[0]=at((...d)=>o.runAction&&o.runAction(...d),["prevent"])),onMousedown:t[1]||(t[1]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":t[2]||(t[2]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Image",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const $re=Dt(zre,[["render",Bre]]),Hre={name:"IframeEmbedMenuModal",components:{MenuBarModal:Wg},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{url:null},errors:[]}},watch:{show(e){this.proxyShow=e},proxyShow(e){e===!1&&this.$emit("close")},proxyValue(e){this.$emit("update:modelValue",e)}},methods:{cancelModal(){this.proxyShow=!1},confirmModal(){if(this.errors=[],!this.modelValue.url){this.errors.push("url");return}this.editor.chain().focus().setIframe(this.modelValue).run(),this.proxyShow=!1}}},Fre={class:"heading"},Vre={id:"url-label",class:"required",for:"url"},jre={key:0,class:"errors"};function Wre(e,t,n,r,i,o){const s=lt("menu-bar-modal");return me(),Et(s,{modelValue:i.proxyShow,"onUpdate:modelValue":t[1]||(t[1]=l=>i.proxyShow=l),class:"vui-modal-iframe-edit","confirm-button":e.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Bt(()=>[$i(Ne(e.t("vizy",e.$attrs["modal-title"])),1)]),default:Bt(()=>[ie("div",{id:"url-field",class:mt(["field",{"has-errors":i.errors.includes("url")}])},[ie("div",Fre,[ie("label",Vre,Ne(e.t("vizy","URL")),1)]),ie("div",{class:mt(["input ltr",{errors:i.errors.includes("url")}])},[Wt(ie("input",{id:"url","onUpdate:modelValue":t[0]||(t[0]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off",required:""},null,512),[[An,n.modelValue.url]])],2),i.errors.includes("url")?(me(),Se("ul",jre,[ie("li",null,Ne(e.t("vizy","URL cannot be blank.")),1)])):_t("",!0)],2)]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const YL=Dt(Hre,[["render",Wre]]),Ure={name:"IframeMenuBubble",components:{IframeMenuModal:YL},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{url:null}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.on("vui:iframe-clicked",this.renderBubble)})}}},methods:{renderBubble(e){const{view:t}=this.editor,n=this.editor.getAttributes("iframe");l_(n)&&(this.model=n,this.$el.style.display="block",this.destroyBubble(),this.tippy=dr(t.dom,{content:this.$el,trigger:"manual",showOnCreate:!0,allowHTML:!0,arrow:!0,interactive:!0,placement:"top",followCursor:"initial",plugins:[vw],theme:"vui-menu-bubble",mouseEvent:e,duration:200,zIndex:1e3,appendTo:()=>document.body}))},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},edit(){this.showEditModal=!0,this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},unlink(){this.editor.chain().focus().deleteSelection().run(),this.destroyBubble()}}},Kre={class:"vui-iframe-menu-bubble",style:{display:"none"}};function qre(e,t,n,r,i,o){const s=lt("iframe-menu-modal");return me(),Se("div",Kre,[ie("a",{href:"#",onClick:t[0]||(t[0]=at((...l)=>o.edit&&o.edit(...l),["prevent"]))},Ne(e.t("vizy","Edit")),1),ie("a",{href:"#",onClick:t[1]||(t[1]=at((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Ne(e.t("vizy","Delete")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":t[2]||(t[2]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit iFrame",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const Gre=Dt(Ure,[["render",qre]]),Jre={name:"IframeMenuBarItem",components:{SvgIcon:ec,IframeMenuBubble:Gre,IframeMenuModal:YL},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}}},data(){return{showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)}},created(){this.resetModel()},mounted(){this._keyListener=function(e){e.key==="Escape"&&(e.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{runAction(){this.showEditModal=!0},resetModel(){this.model={url:null,data:null}},closeModal(){this.showEditModal=!1},onMouseDown(e){e.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}};function Yre(e,t,n,r,i,o){const s=lt("svg-icon"),l=lt("iframe-menu-bubble"),u=lt("iframe-menu-modal"),f=qu("tooltip");return me(),Se("div",null,[Wt((me(),Se("button",{class:mt(["btn vui-toolbar-btn",{active:o.active}]),onClick:t[0]||(t[0]=at((...d)=>o.runAction&&o.runAction(...d),["prevent"])),onMousedown:t[1]||(t[1]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":t[2]||(t[2]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert iFrame",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const Xre=Dt(Jre,[["render",Yre]]),Zre={name:"MediaEmbedMenuModal",components:{MenuBarModal:Wg},props:{field:{type:Object,default:null},editor:{type:Object,default:null},show:{type:Boolean,default:!1},modelValue:{type:Object,default:()=>globalThis.proxyValue}},emits:["update:modelValue","close"],data(){return{targetId:`target-${Craft.randomString(10)}`,proxyShow:!1,proxyValue:{url:null,data:null},errors:[]}},watch:{show(e){this.proxyShow=e},proxyShow(e){e===!1&&this.$emit("close")},proxyValue(e){this.$emit("update:modelValue",e)}},methods:{cancelModal(){this.proxyShow=!1},confirmModal(){if(this.errors=[],!this.modelValue.url){this.errors.push("url");return}this.editor.chain().focus().setEmbed(this.modelValue).run(),this.proxyShow=!1}}},Qre={class:"heading"},eie={id:"url-label",class:"required",for:"url"},tie={key:0,class:"errors"};function nie(e,t,n,r,i,o){const s=lt("menu-bar-modal");return me(),Et(s,{modelValue:i.proxyShow,"onUpdate:modelValue":t[1]||(t[1]=l=>i.proxyShow=l),class:"vui-modal-media-embed-edit","confirm-button":e.$attrs["confirm-button"],onConfirm:o.confirmModal,onCancel:o.cancelModal},{title:Bt(()=>[$i(Ne(e.t("vizy",e.$attrs["modal-title"])),1)]),default:Bt(()=>[ie("div",{id:"url-field",class:mt(["field",{"has-errors":i.errors.includes("url")}])},[ie("div",Qre,[ie("label",eie,Ne(e.t("vizy","URL")),1)]),ie("div",{class:mt(["input ltr",{errors:i.errors.includes("url")}])},[Wt(ie("input",{id:"url","onUpdate:modelValue":t[0]||(t[0]=l=>n.modelValue.url=l),type:"text",class:"text fullwidth",autofocus:"",autocomplete:"off",required:""},null,512),[[An,n.modelValue.url]])],2),i.errors.includes("url")?(me(),Se("ul",tie,[ie("li",null,Ne(e.t("vizy","URL cannot be blank.")),1)])):_t("",!0)],2)]),_:1},8,["modelValue","confirm-button","onConfirm","onCancel"])}const XL=Dt(Zre,[["render",nie]]),rie={name:"MediaEmbedMenuBubble",components:{MediaEmbedMenuModal:XL},props:{field:{type:Object,default:null},editor:{type:Object,default:null}},data(){return{tippy:null,showEditModal:!1,model:{url:null,data:null}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.on("vui:media-embed-clicked",this.renderBubble)})}}},methods:{renderBubble(e){const{view:t}=this.editor,n=this.editor.getAttributes("mediaEmbed");l_(n)&&(this.model=n,this.$el.style.display="block",this.destroyBubble(),this.tippy=dr(t.dom,{content:this.$el,trigger:"manual",showOnCreate:!0,allowHTML:!0,arrow:!0,interactive:!0,placement:"top",followCursor:"initial",plugins:[vw],theme:"vui-menu-bubble",mouseEvent:e,duration:200,zIndex:1e3,appendTo:()=>document.body}))},destroyBubble(){this.tippy&&(this.tippy.destroy(),this.tippy=null)},edit(){this.showEditModal=!0,this.editor.chain().blur().run()},closeModal(){this.showEditModal=!1},unlink(){this.editor.chain().focus().deleteSelection().run(),this.destroyBubble()}}},iie={class:"vui-media-embed-menu-bubble",style:{display:"none"}};function oie(e,t,n,r,i,o){const s=lt("media-embed-menu-modal");return me(),Se("div",iie,[ie("a",{href:"#",onClick:t[0]||(t[0]=at((...l)=>o.edit&&o.edit(...l),["prevent"]))},Ne(e.t("vizy","Edit")),1),ie("a",{href:"#",onClick:t[1]||(t[1]=at((...l)=>o.unlink&&o.unlink(...l),["prevent"]))},Ne(e.t("vizy","Delete")),1),Qe(s,{modelValue:i.model,"onUpdate:modelValue":t[2]||(t[2]=l=>i.model=l),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Update","modal-title":"Edit Media Embed",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const sie=Dt(rie,[["render",oie]]),aie={name:"MediaEmbedMenuBarItem",components:{SvgIcon:ec,MediaEmbedMenuBubble:sie,MediaEmbedMenuModal:XL},props:{field:{type:Object,default:null},editor:{type:Object,default:null},icon:{type:String,default:null},svg:{type:String,default:null},name:{type:String,default:null},title:{type:String,default:null},action:{type:Function,default:()=>{}},isActive:{type:Function,default:()=>{}}},data(){return{showEditModal:!1,model:{}}},computed:{active(){return this.isActive&&this.isActive(this.editor)}},created(){this.resetModel(),this.editor.on("vui:media-embed-modal-open",()=>{this.runAction()})},mounted(){this._keyListener=function(e){e.key==="Escape"&&(e.preventDefault(),this.closeDropdown())},document.addEventListener("keydown",this._keyListener.bind(this))},beforeUnmount(){document.removeEventListener("keydown",this._keyListener)},methods:{runAction(){this.showEditModal=!0},resetModel(){this.model={url:null,data:null}},closeModal(){this.showEditModal=!1},onMouseDown(e){e.preventDefault()},closeDropdown(){this.tippy&&this.tippy.hide()}}};function lie(e,t,n,r,i,o){const s=lt("svg-icon"),l=lt("media-embed-menu-bubble"),u=lt("media-embed-menu-modal"),f=qu("tooltip");return me(),Se("div",null,[Wt((me(),Se("button",{class:mt(["btn vui-toolbar-btn",{active:o.active}]),onClick:t[0]||(t[0]=at((...d)=>o.runAction&&o.runAction(...d),["prevent"])),onMousedown:t[1]||(t[1]=(...d)=>o.onMouseDown&&o.onMouseDown(...d))},[Qe(s,{content:{icon:n.icon,svg:n.svg}},null,8,["content"])],34)),[[f,{content:n.title,theme:"vui-tooltip"}]]),Qe(l,{editor:n.editor,field:n.field},null,8,["editor","field"]),Qe(u,{modelValue:i.model,"onUpdate:modelValue":t[2]||(t[2]=d=>i.model=d),show:i.showEditModal,editor:n.editor,field:n.field,"confirm-button":"Insert","modal-title":"Insert Media Embed",onClose:o.closeModal},null,8,["modelValue","show","editor","field","onClose"])])}const uie=Dt(aie,[["render",lie]]),cie={components:{MenuBarItem:dne,LinkMenuBarItem:ere,ImageMenuBarItem:$re,IframeMenuBarItem:Xre,MediaEmbedMenuBarItem:uie},props:{field:{type:Object,default:null},editor:{type:Object,default:null},buttons:{type:Array,default:()=>[]}},computed:{availableButtons(){const e=[];return this.buttons.forEach(t=>{cr(t)&&e.push(this.dynamicButton(t));const n=this.allButtons.find(r=>r.name===t);n&&(n.name==="formatting"&&(n.options=this.getEnabledOptions(n.options,this.getFormattingOptions())),n.name==="table"&&(n.options=this.getEnabledOptions(n.options,this.getTableOptions())),e.push(n))}),e}},created(){this.allButtons=Craft.Vizy.Config.getButtons()},methods:{getFormattingOptions(){let e=["paragraph","code-block","blockquote","h1","h2","h3","h4","h5","h6"];return this.field.settings.vizyConfig.formatting&&this.field.settings.vizyConfig.formatting.length&&(e=this.field.settings.vizyConfig.formatting),e},getTableOptions(){let e=["insert-table","delete-table","add-col-before","add-col-after","delete-col","add-row-before","add-row-after","delete-row","merge-cells","split-cells","toggle-header-column","toggle-header-row","toggle-header-cell"];return this.field.settings.vizyConfig.table&&this.field.settings.vizyConfig.table.length&&(e=this.field.settings.vizyConfig.table),e},getEnabledOptions(e,t){const n=[];return t.forEach(r=>{cr(r)&&n.push(this.dynamicButton(r));const i=e.find(o=>o.name===r);i&&n.push(i)}),n},dynamicButton(e){return{name:e.type,svg:e.svg,title:e.title,action:t=>{const n=t.state.schema.nodes[e.type],r=t.state.schema.marks[e.type];if(n)return t.chain().focus().toggleNode(e.type,"paragraph",e.attrs).run();if(r)return t.chain().focus().toggleMark(e.type,e.attrs).run()},isActive:t=>t.isActive(e.type,e.attrs)}}}},fie={class:"vui-editor-toolbar"};function die(e,t,n,r,i,o){return me(),Se("div",fie,[(me(!0),Se(kt,null,Zt(o.availableButtons,(s,l)=>(me(),Et(js(s.component||"MenuBarItem"),mi({key:l},s,{editor:n.editor,field:n.field}),null,16,["editor","field"]))),128))])}const hie=Dt(cie,[["render",die]]);class pie{constructor({options:t,editorView:n}){this.options={element:null,onUpdate:()=>!1,...t},this.preventHide=!1,this.editorView=n,this.isActive=!1,this.top=0,this.behaviour=this.options.editor.vizyField.settings.blockTypeBehaviour,this.behaviour==="click"&&(this.options.element.addEventListener("mousedown",this.mousedownHandler.bind(this),{capture:!0}),this.options.editor.on("focus",this.focusHandler.bind(this)),this.options.editor.on("blur",this.blurHandler.bind(this)),this.options.editor.on("resize",this.resizeHandler.bind(this))),this.behaviour==="hover"&&(this.options.editor.view.dom.addEventListener("mousemove",this.mouseenterHandler.bind(this)),this.options.editor.view.dom.addEventListener("mouseleave",this.mouseleaveHandler.bind(this)))}mouseenterHandler(t){const{view:n}=this.options.editor,r=n.posAtCoords({left:t.clientX,top:t.clientY});if(r.pos&&r.inside>-1){const i=r.pos,o=n.state.doc.resolve(i).parent;D_(o)?setTimeout(()=>{const s=this.options.element.offsetParent;if(s){const l=s.getBoundingClientRect(),f=n.coordsAtPos(i).top-l.top;this.isActive=!0,this.top=f,this.options.editor.vizyField.currentNodeHoverPosition=i,this.sendUpdate()}},10):this.hide()}}mouseleaveHandler(t){t.relatedTarget&&t.relatedTarget.classList.contains("vui-editor-insert-btn")||this.hide()}mousedownHandler(){this.preventHide=!0}focusHandler(){this.update(this.options.editor.view)}blurHandler(t){if(this.preventHide){this.preventHide=!1;return}this.hide(t)}resizeHandler(){this.isActive&&this.update(this.options.editor.view)}isNodeEmpty(t){return!t.toJSON().content}update(t,n){const{state:r,composing:i}=t,{doc:o,selection:s}=r,l=n&&n.doc.eq(o)&&n.selection.eq(s);if(i||l)return;const{$anchor:u,anchor:f,empty:d}=s,m=this.options.element.offsetParent,v=u.depth===1,y=u.parent.type===r.doc.type.contentMatch.defaultType,_=this.isNodeEmpty(s.$anchor.parent);if(!d||!m||!(v&&y&&_)){this.hide();return}setTimeout(()=>{const C=m.getBoundingClientRect(),S=t.coordsAtPos(f).top-C.top;this.isActive=!0,this.top=S,this.sendUpdate()},10)}sendUpdate(){this.options.onUpdate({isActive:this.isActive,top:this.top})}hide(t){t&&t.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(t.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.behaviour==="click"&&(this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler),this.options.editor.off("resize",this.resizeHandler)),this.behaviour==="hover"&&(this.options.editor.view.dom.removeEventListener("mousemove",this.mouseenterHandler),this.options.editor.view.dom.removeEventListener("mouseleave",this.mouseleaveHandler))}}function mie(e){return new Yt({key:new dn("floatingMenu"),view(t){return new pie({editorView:t,options:e})}})}const gie={props:{editor:{type:Object,default:null}},emits:["show","hide"],data(){return{menu:{isActive:!1,left:0,bottom:0}}},computed:{variables(){return{focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getAttributes.bind(this.editor),getNodeAttrs:this.editor.getAttributes.bind(this.editor),menu:this.menu}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.registerPlugin(mie({editor:e,element:this.$el,onUpdate:t=>{t.isActive&&this.menu.isActive===!1?this.$emit("show",t):!t.isActive&&this.menu.isActive===!0&&this.$emit("hide",t),this.menu=t}}))})}}},beforeUnmount(){},render(){return this.editor?jn("div",null,this.$slots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getAttributes.bind(this.editor),getNodeAttrs:this.editor.getAttributes.bind(this.editor),menu:this.menu})):null}},vie={name:"BlockPicker",components:{FloatingMenu:gie},props:{field:{type:Object,default:null},editor:{type:Object,default:null},blockGroups:{type:Array,default:()=>[]}},data(){return{tippy:null,search:"",selectedIndex:0}},computed:{filteredBlockGroups(){const{blockGroups:e}=this;let t=0;return e.forEach(n=>{Array.isArray(n.blockTypes)&&n.blockTypes.forEach(r=>{r.countIndex=t,t++})}),e.reduce((n,r)=>{let i=[];return Array.isArray(r.blockTypes)&&(i=r.blockTypes.filter(o=>o.name.toLowerCase().includes(this.search.toLowerCase()))),i.length?n.concat({...r,blockTypes:i}):n},[])},totalBlockCount(){let e=0;return this.blockGroups.forEach(t=>{Array.isArray(t.blockTypes)&&(e+=t.blockTypes.length)}),e}},mounted(){this.$nextTick(()=>{const e=this.$el.querySelector("#vizy-blocks-template");e&&(e.style.display="block",this.tippy=dr(this.$el.querySelector(".vui-editor-insert-btn"),{content:e,trigger:"click",allowHTML:!0,arrow:!0,interactive:!0,placement:"right",theme:"vui-block-picker light-border",maxWidth:"300px",duration:200,zIndex:100,appendTo:()=>document.body,hideOnClick:!0}))})},methods:{moveSelectionLeft(){this.selectedIndex>0&&this.selectedIndex--},moveSelectionRight(){const e=Object.values(this.filteredBlockGroups).map(t=>t.blockTypes).flat();this.selectedIndex<e.length-1&&this.selectedIndex++},addBlock(e){if(this.blockTypeDisabled(e))return;const t=Lm("vizy-block-"),n={type:e.id},{fieldsHtml:r,footHtml:i}=e;this.field.setCachedFieldHtml(t,r),this.field.setCachedFieldJs(t,i),this.editor.chain().focus().setVizyBlock({id:t,values:n}).run(),setTimeout(()=>{this.$events.emit("vizy-blocks:addedBlock")},50),this.tippy.hide()},blockTypeDisabled(e){var l,u;let t=0;const n={};this.blockGroups.forEach(f=>{f.blockTypes.forEach(d=>{n[d.id]=0})}),(u=(l=this.editor.state.doc)==null?void 0:l.content)==null||u.content.forEach(f=>{const d=Yn(f,"type.name"),m=Yn(f,"type.attrs.enabled"),v=Yn(f,"attrs.values.type");d==="vizyBlock"&&m&&(t+=1,n[v]+=1)});const{maxBlocks:r,maxBlockTypeBlocks:i}=this.editor.vizyField.settings;if(r&&t>=r)return!0;const o=Yn(i,e.id);return Yn(n,e.id)>=o},onClick(){const{blockTypeBehaviour:e}=this.editor.vizyField.settings;if(e==="hover"){const{view:t}=this.editor,n=ut.create(t.state.doc,this.editor.vizyField.currentNodeHoverPosition),r=t.state.tr.setSelection(n);t.dispatch(r)}},closePane(){this.tippy&&this.tippy.hide()}}},yie=ie("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},[ie("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),bie=[yie],_ie={id:"vizy-blocks-template",style:{display:"none"}},wie={key:0},kie={key:1},xie=ie("hr",null,null,-1),Sie={class:"vui-block-items-header"},Cie={class:"vui-block-items"},Tie=["onClick"],Eie=["innerHTML"],Aie={class:"vui-block-item-heading"},Oie={key:2,class:"vui-block-items-none"},Mie=ie("hr",null,null,-1),Lie={key:3,class:"vui-block-items-empty"};function Nie(e,t,n,r,i,o){const s=lt("floating-menu");return Wt((me(),Et(s,{ref:"menu",editor:n.editor},{default:Bt(({menu:l})=>[ie("div",{class:mt(["vui-editor-insert",{"is-active":l.isActive}]),style:Qr(`top: ${l.top}px`),onKeydown:[t[2]||(t[2]=fu(at((...u)=>o.moveSelectionLeft&&o.moveSelectionLeft(...u),["prevent"]),["left"])),t[3]||(t[3]=fu(at((...u)=>o.moveSelectionRight&&o.moveSelectionRight(...u),["prevent"]),["right"])),t[4]||(t[4]=fu(at((...u)=>o.closePane&&o.closePane(...u),["prevent"]),["escape"]))]},[ie("button",{type:"button","aria-label":"Add block","aria-haspopup":"true","aria-expanded":"false",class:"vui-editor-insert-btn",onClick:t[0]||(t[0]=(...u)=>o.onClick&&o.onClick(...u))},bie),ie("div",_ie,[o.totalBlockCount?(me(),Se("div",wie,[Wt(ie("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>i.search=u),type:"text",class:"text fullwidth",placeholder:"Search for blocks"},null,512),[[An,i.search]])])):_t("",!0),o.filteredBlockGroups.length?(me(),Se("div",kie,[(me(!0),Se(kt,null,Zt(o.filteredBlockGroups,(u,f)=>(me(),Se("div",{key:f,class:"vui-block-group"},[xie,ie("div",Sie,Ne(u.name),1),ie("div",Cie,[(me(!0),Se(kt,null,Zt(u.blockTypes,(d,m)=>(me(),Se("div",{key:m,class:mt(["vui-block-item",{disabled:o.blockTypeDisabled(d),"is-selected":i.selectedIndex===d.countIndex}]),onClick:v=>o.addBlock(d)},[ie("div",{innerHTML:d.icon.svg},null,8,Eie),ie("span",Aie,Ne(d.name),1)],10,Tie))),128))])]))),128))])):i.search?(me(),Se("div",Oie,[Mie,$i(" "+Ne(e.t("vizy","No blocks found for {search}.",{search:i.search})),1)])):(me(),Se("div",Lie,Ne(e.t("vizy","No blocks available.")),1))])],38)]),_:1},8,["editor"])),[[Su,n.blockGroups.length]])}const Pie=Dt(vie,[["render",Nie]]);var Iie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Die(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zm={},Rie={get exports(){return zm},set exports(e){zm=e}},eE;function Tr(){return eE||(eE=1,function(e,t){(function(n,r){e.exports=r()})(Iie,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),s=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),l=/Edge\/(\d+)/.exec(n),u=o||s||l,f=u&&(o?document.documentMode||6:+(l||s)[1]),d=!l&&/WebKit\//.test(n),m=d&&/Qt\/\d+\.\d+/.test(n),v=!l&&/Chrome\/(\d+)/.exec(n),y=v&&+v[1],_=/Opera\//.test(n),T=/Apple Computer/.test(navigator.vendor),C=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),w=/PhantomJS/.test(n),S=T&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),P=/Android/.test(n),A=S||P||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),U=S||/Mac/.test(r),z=/\bCrOS\b/.test(n),j=/win/i.test(r),L=_&&n.match(/Version\/(\d*\.\d*)/);L&&(L=Number(L[1])),L&&L>=15&&(_=!1,d=!0);var B=U&&(m||_&&(L==null||L<12.11)),k=i||u&&f>=9;function D(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var K=function(a,c){var p=a.className,h=D(c).exec(p);if(h){var g=p.slice(h.index+h[0].length);a.className=p.slice(0,h.index)+(g?h[1]+g:"")}};function q(a){for(var c=a.childNodes.length;c>0;--c)a.removeChild(a.firstChild);return a}function Q(a,c){return q(a).appendChild(c)}function I(a,c,p,h){var g=document.createElement(a);if(p&&(g.className=p),h&&(g.style.cssText=h),typeof c=="string")g.appendChild(document.createTextNode(c));else if(c)for(var b=0;b<c.length;++b)g.appendChild(c[b]);return g}function ce(a,c,p,h){var g=I(a,c,p,h);return g.setAttribute("role","presentation"),g}var de;document.createRange?de=function(a,c,p,h){var g=document.createRange();return g.setEnd(h||a,p),g.setStart(a,c),g}:de=function(a,c,p){var h=document.body.createTextRange();try{h.moveToElementText(a.parentNode)}catch{return h}return h.collapse(!0),h.moveEnd("character",p),h.moveStart("character",c),h};function xe(a,c){if(c.nodeType==3&&(c=c.parentNode),a.contains)return a.contains(c);do if(c.nodeType==11&&(c=c.host),c==a)return!0;while(c=c.parentNode)}function Be(a){var c;try{c=a.activeElement}catch{c=a.body||null}for(;c&&c.shadowRoot&&c.shadowRoot.activeElement;)c=c.shadowRoot.activeElement;return c}function rt(a,c){var p=a.className;D(c).test(p)||(a.className+=(p?" ":"")+c)}function pt(a,c){for(var p=a.split(" "),h=0;h<p.length;h++)p[h]&&!D(p[h]).test(c)&&(c+=" "+p[h]);return c}var yt=function(a){a.select()};S?yt=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:u&&(yt=function(a){try{a.select()}catch{}});function bt(a){return a.display.wrapper.ownerDocument}function gt(a){return bt(a).defaultView}function Ye(a){var c=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,c)}}function Ie(a,c,p){c||(c={});for(var h in a)a.hasOwnProperty(h)&&(p!==!1||!c.hasOwnProperty(h))&&(c[h]=a[h]);return c}function $e(a,c,p,h,g){c==null&&(c=a.search(/[^\s\u00a0]/),c==-1&&(c=a.length));for(var b=h||0,x=g||0;;){var E=a.indexOf("	",b);if(E<0||E>=c)return x+(c-b);x+=E-b,x+=p-x%p,b=E+1}}var Ae=function(){this.id=null,this.f=null,this.time=0,this.handler=Ye(this.onTimeout,this)};Ae.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},Ae.prototype.set=function(a,c){this.f=c;var p=+new Date+a;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=p)};function qe(a,c){for(var p=0;p<a.length;++p)if(a[p]==c)return p;return-1}var Xe=50,je={toString:function(){return"CodeMirror.Pass"}},te={scroll:!1},se={origin:"*mouse"},le={origin:"+move"};function ke(a,c,p){for(var h=0,g=0;;){var b=a.indexOf("	",h);b==-1&&(b=a.length);var x=b-h;if(b==a.length||g+x>=c)return h+Math.min(x,c-g);if(g+=b-h,g+=p-g%p,h=b+1,g>=c)return h}}var be=[""];function Ce(a){for(;be.length<=a;)be.push(G(be)+" ");return be[a]}function G(a){return a[a.length-1]}function J(a,c){for(var p=[],h=0;h<a.length;h++)p[h]=c(a[h],h);return p}function M(a,c,p){for(var h=0,g=p(c);h<a.length&&p(a[h])<=g;)h++;a.splice(h,0,c)}function V(){}function N(a,c){var p;return Object.create?p=Object.create(a):(V.prototype=a,p=new V),c&&Ie(c,p),p}var W=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function H(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||W.test(a))}function ee(a,c){return c?c.source.indexOf("\\w")>-1&&H(a)?!0:c.test(a):H(a)}function ue(a){for(var c in a)if(a.hasOwnProperty(c)&&a[c])return!1;return!0}var ge=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ye(a){return a.charCodeAt(0)>=768&&ge.test(a)}function X(a,c,p){for(;(p<0?c>0:c<a.length)&&ye(a.charAt(c));)c+=p;return c}function Z(a,c,p){for(var h=c>p?-1:1;;){if(c==p)return c;var g=(c+p)/2,b=h<0?Math.ceil(g):Math.floor(g);if(b==c)return a(b)?c:p;a(b)?p=b:c=b+h}}function pe(a,c,p,h){if(!a)return h(c,p,"ltr",0);for(var g=!1,b=0;b<a.length;++b){var x=a[b];(x.from<p&&x.to>c||c==p&&x.to==c)&&(h(Math.max(x.from,c),Math.min(x.to,p),x.level==1?"rtl":"ltr",b),g=!0)}g||h(c,p,"ltr")}var Oe=null;function Ve(a,c,p){var h;Oe=null;for(var g=0;g<a.length;++g){var b=a[g];if(b.from<c&&b.to>c)return g;b.to==c&&(b.from!=b.to&&p=="before"?h=g:Oe=g),b.from==c&&(b.from!=b.to&&p!="before"?h=g:Oe=g)}return h??Oe}var he=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",c="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(R){return R<=247?a.charAt(R):1424<=R&&R<=1524?"R":1536<=R&&R<=1785?c.charAt(R-1536):1774<=R&&R<=2220?"r":8192<=R&&R<=8203?"w":R==8204?"b":"L"}var h=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,b=/[LRr]/,x=/[Lb1n]/,E=/[1n]/;function O(R,Y,ne){this.level=R,this.from=Y,this.to=ne}return function(R,Y){var ne=Y=="ltr"?"L":"R";if(R.length==0||Y=="ltr"&&!h.test(R))return!1;for(var fe=R.length,ae=[],we=0;we<fe;++we)ae.push(p(R.charCodeAt(we)));for(var Te=0,Le=ne;Te<fe;++Te){var Re=ae[Te];Re=="m"?ae[Te]=Le:Le=Re}for(var He=0,ze=ne;He<fe;++He){var We=ae[He];We=="1"&&ze=="r"?ae[He]="n":b.test(We)&&(ze=We,We=="r"&&(ae[He]="R"))}for(var nt=1,et=ae[0];nt<fe-1;++nt){var xt=ae[nt];xt=="+"&&et=="1"&&ae[nt+1]=="1"?ae[nt]="1":xt==","&&et==ae[nt+1]&&(et=="1"||et=="n")&&(ae[nt]=et),et=xt}for(var qt=0;qt<fe;++qt){var Nn=ae[qt];if(Nn==",")ae[qt]="N";else if(Nn=="%"){var on=void 0;for(on=qt+1;on<fe&&ae[on]=="%";++on);for(var Or=qt&&ae[qt-1]=="!"||on<fe&&ae[on]=="1"?"1":"N",gr=qt;gr<on;++gr)ae[gr]=Or;qt=on-1}}for(var wn=0,vr=ne;wn<fe;++wn){var $n=ae[wn];vr=="L"&&$n=="1"?ae[wn]="L":b.test($n)&&(vr=$n)}for(var Cn=0;Cn<fe;++Cn)if(g.test(ae[Cn])){var kn=void 0;for(kn=Cn+1;kn<fe&&g.test(ae[kn]);++kn);for(var un=(Cn?ae[Cn-1]:ne)=="L",yr=(kn<fe?ae[kn]:ne)=="L",$l=un==yr?un?"L":"R":ne,ps=Cn;ps<kn;++ps)ae[ps]=$l;Cn=kn-1}for(var qn=[],Gi,Pn=0;Pn<fe;)if(x.test(ae[Pn])){var Hv=Pn;for(++Pn;Pn<fe&&x.test(ae[Pn]);++Pn);qn.push(new O(0,Hv,Pn))}else{var Co=Pn,pa=qn.length,ma=Y=="rtl"?1:0;for(++Pn;Pn<fe&&ae[Pn]!="L";++Pn);for(var nr=Co;nr<Pn;)if(E.test(ae[nr])){Co<nr&&(qn.splice(pa,0,new O(1,Co,nr)),pa+=ma);var Hl=nr;for(++nr;nr<Pn&&E.test(ae[nr]);++nr);qn.splice(pa,0,new O(2,Hl,nr)),pa+=ma,Co=nr}else++nr;Co<Pn&&qn.splice(pa,0,new O(1,Co,Pn))}return Y=="ltr"&&(qn[0].level==1&&(Gi=R.match(/^\s+/))&&(qn[0].from=Gi[0].length,qn.unshift(new O(0,0,Gi[0].length))),G(qn).level==1&&(Gi=R.match(/\s+$/))&&(G(qn).to-=Gi[0].length,qn.push(new O(0,fe-Gi[0].length,fe)))),Y=="rtl"?qn.reverse():qn}}();function Ee(a,c){var p=a.order;return p==null&&(p=a.order=he(a.text,c)),p}var Pe=[],ve=function(a,c,p){if(a.addEventListener)a.addEventListener(c,p,!1);else if(a.attachEvent)a.attachEvent("on"+c,p);else{var h=a._handlers||(a._handlers={});h[c]=(h[c]||Pe).concat(p)}};function Ze(a,c){return a._handlers&&a._handlers[c]||Pe}function ct(a,c,p){if(a.removeEventListener)a.removeEventListener(c,p,!1);else if(a.detachEvent)a.detachEvent("on"+c,p);else{var h=a._handlers,g=h&&h[c];if(g){var b=qe(g,p);b>-1&&(h[c]=g.slice(0,b).concat(g.slice(b+1)))}}}function st(a,c){var p=Ze(a,c);if(p.length)for(var h=Array.prototype.slice.call(arguments,2),g=0;g<p.length;++g)p[g].apply(null,h)}function Ct(a,c,p){return typeof c=="string"&&(c={type:c,preventDefault:function(){this.defaultPrevented=!0}}),st(a,p||c.type,a,c),jr(c)||c.codemirrorIgnore}function hr(a){var c=a._handlers&&a._handlers.cursorActivity;if(c)for(var p=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),h=0;h<c.length;++h)qe(p,c[h])==-1&&p.push(c[h])}function Ut(a,c){return Ze(a,c).length>0}function Xt(a){a.prototype.on=function(c,p){ve(this,c,p)},a.prototype.off=function(c,p){ct(this,c,p)}}function Kt(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function Un(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function jr(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function Wr(a){Kt(a),Un(a)}function xn(a){return a.target||a.srcElement}function tc(a){var c=a.which;return c==null&&(a.button&1?c=1:a.button&2?c=3:a.button&4&&(c=2)),U&&a.ctrlKey&&c==1&&(c=3),c}var qg=function(){if(u&&f<9)return!1;var a=I("div");return"draggable"in a||"dragDrop"in a}(),ii;function Gg(a){if(ii==null){var c=I("span","");Q(a,I("span",[c,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(ii=c.offsetWidth<=1&&c.offsetHeight>2&&!(u&&f<8))}var p=ii?I("span",""):I("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var bl;function Od(a){if(bl!=null)return bl;var c=Q(a,document.createTextNode("AA")),p=de(c,0,1).getBoundingClientRect(),h=de(c,1,2).getBoundingClientRect();return q(a),!p||p.left==p.right?!1:bl=h.right-p.right<3}var nc=`

b`.split(/\n/).length!=3?function(a){for(var c=0,p=[],h=a.length;c<=h;){var g=a.indexOf(`
`,c);g==-1&&(g=a.length);var b=a.slice(c,a.charAt(g-1)=="\r"?g-1:g),x=b.indexOf("\r");x!=-1?(p.push(b.slice(0,x)),c+=x+1):(p.push(b),c=g+1)}return p}:function(a){return a.split(/\r\n?|\n/)},ts=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var c;try{c=a.ownerDocument.selection.createRange()}catch{}return!c||c.parentElement()!=a?!1:c.compareEndPoints("StartToEnd",c)!=0},Vi=function(){var a=I("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),ji=null;function Md(a){if(ji!=null)return ji;var c=Q(a,I("span","x")),p=c.getBoundingClientRect(),h=de(c,0,1).getBoundingClientRect();return ji=Math.abs(p.left-h.left)>1}var _i={},ns={};function Ld(a,c){arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),_i[a]=c}function _l(a,c){ns[a]=c}function Er(a){if(typeof a=="string"&&ns.hasOwnProperty(a))a=ns[a];else if(a&&typeof a.name=="string"&&ns.hasOwnProperty(a.name)){var c=ns[a.name];typeof c=="string"&&(c={name:c}),a=N(c,a),a.name=c.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return Er("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return Er("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function vo(a,c){c=Er(c);var p=_i[c.name];if(!p)return vo(a,"text/plain");var h=p(a,c);if(rs.hasOwnProperty(c.name)){var g=rs[c.name];for(var b in g)g.hasOwnProperty(b)&&(h.hasOwnProperty(b)&&(h["_"+b]=h[b]),h[b]=g[b])}if(h.name=c.name,c.helperType&&(h.helperType=c.helperType),c.modeProps)for(var x in c.modeProps)h[x]=c.modeProps[x];return h}var rs={};function Nd(a,c){var p=rs.hasOwnProperty(a)?rs[a]:rs[a]={};Ie(c,p)}function yo(a,c){if(c===!0)return c;if(a.copyState)return a.copyState(c);var p={};for(var h in c){var g=c[h];g instanceof Array&&(g=g.concat([])),p[h]=g}return p}function is(a,c){for(var p;a.innerMode&&(p=a.innerMode(c),!(!p||p.mode==a));)c=p.state,a=p.mode;return p||{mode:a,state:c}}function rc(a,c,p){return a.startState?a.startState(c,p):!0}var ln=function(a,c,p){this.pos=this.start=0,this.string=a,this.tabSize=c||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};ln.prototype.eol=function(){return this.pos>=this.string.length},ln.prototype.sol=function(){return this.pos==this.lineStart},ln.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ln.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ln.prototype.eat=function(a){var c=this.string.charAt(this.pos),p;if(typeof a=="string"?p=c==a:p=c&&(a.test?a.test(c):a(c)),p)return++this.pos,c},ln.prototype.eatWhile=function(a){for(var c=this.pos;this.eat(a););return this.pos>c},ln.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},ln.prototype.skipToEnd=function(){this.pos=this.string.length},ln.prototype.skipTo=function(a){var c=this.string.indexOf(a,this.pos);if(c>-1)return this.pos=c,!0},ln.prototype.backUp=function(a){this.pos-=a},ln.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=$e(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?$e(this.string,this.lineStart,this.tabSize):0)},ln.prototype.indentation=function(){return $e(this.string,null,this.tabSize)-(this.lineStart?$e(this.string,this.lineStart,this.tabSize):0)},ln.prototype.match=function(a,c,p){if(typeof a=="string"){var h=function(x){return p?x.toLowerCase():x},g=this.string.substr(this.pos,a.length);if(h(g)==h(a))return c!==!1&&(this.pos+=a.length),!0}else{var b=this.string.slice(this.pos).match(a);return b&&b.index>0?null:(b&&c!==!1&&(this.pos+=b[0].length),b)}},ln.prototype.current=function(){return this.string.slice(this.start,this.pos)},ln.prototype.hideFirstChars=function(a,c){this.lineStart+=a;try{return c()}finally{this.lineStart-=a}},ln.prototype.lookAhead=function(a){var c=this.lineOracle;return c&&c.lookAhead(a)},ln.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function Ge(a,c){if(c-=a.first,c<0||c>=a.size)throw new Error("There is no line "+(c+a.first)+" in the document.");for(var p=a;!p.lines;)for(var h=0;;++h){var g=p.children[h],b=g.chunkSize();if(c<b){p=g;break}c-=b}return p.lines[c]}function bo(a,c,p){var h=[],g=c.line;return a.iter(c.line,p.line+1,function(b){var x=b.text;g==p.line&&(x=x.slice(0,p.ch)),g==c.line&&(x=x.slice(c.ch)),h.push(x),++g}),h}function wl(a,c,p){var h=[];return a.iter(c,p,function(g){h.push(g.text)}),h}function oi(a,c){var p=c-a.height;if(p)for(var h=a;h;h=h.parent)h.height+=p}function Rt(a){if(a.parent==null)return null;for(var c=a.parent,p=qe(c.lines,a),h=c.parent;h;c=h,h=h.parent)for(var g=0;h.children[g]!=c;++g)p+=h.children[g].chunkSize();return p+c.first}function Wi(a,c){var p=a.first;e:do{for(var h=0;h<a.children.length;++h){var g=a.children[h],b=g.height;if(c<b){a=g;continue e}c-=b,p+=g.chunkSize()}return p}while(!a.lines);for(var x=0;x<a.lines.length;++x){var E=a.lines[x],O=E.height;if(c<O)break;c-=O}return p+x}function F(a,c){return c>=a.first&&c<a.first+a.size}function re(a,c){return String(a.lineNumberFormatter(c+a.firstLineNumber))}function oe(a,c,p){if(p===void 0&&(p=null),!(this instanceof oe))return new oe(a,c,p);this.line=a,this.ch=c,this.sticky=p}function _e(a,c){return a.line-c.line||a.ch-c.ch}function ft(a,c){return a.sticky==c.sticky&&_e(a,c)==0}function Ot(a){return oe(a.line,a.ch)}function Nt(a,c){return _e(a,c)<0?c:a}function Sn(a,c){return _e(a,c)<0?a:c}function Ur(a,c){return Math.max(a.first,Math.min(c,a.first+a.size-1))}function dt(a,c){if(c.line<a.first)return oe(a.first,0);var p=a.first+a.size-1;return c.line>p?oe(p,Ge(a,p).text.length):aN(c,Ge(a,c.line).text.length)}function aN(a,c){var p=a.ch;return p==null||p>c?oe(a.line,c):p<0?oe(a.line,0):a}function Cw(a,c){for(var p=[],h=0;h<c.length;h++)p[h]=dt(a,c[h]);return p}var Pd=function(a,c){this.state=a,this.lookAhead=c},Ui=function(a,c,p,h){this.state=c,this.doc=a,this.line=p,this.maxLookAhead=h||0,this.baseTokens=null,this.baseTokenPos=1};Ui.prototype.lookAhead=function(a){var c=this.doc.getLine(this.line+a);return c!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),c},Ui.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Ui.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ui.fromSaved=function(a,c,p){return c instanceof Pd?new Ui(a,yo(a.mode,c.state),p,c.lookAhead):new Ui(a,yo(a.mode,c),p)},Ui.prototype.save=function(a){var c=a!==!1?yo(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Pd(c,this.maxLookAhead):c};function Tw(a,c,p,h){var g=[a.state.modeGen],b={};Nw(a,c.text,a.doc.mode,p,function(R,Y){return g.push(R,Y)},b,h);for(var x=p.state,E=function(R){p.baseTokens=g;var Y=a.state.overlays[R],ne=1,fe=0;p.state=!0,Nw(a,c.text,Y.mode,p,function(ae,we){for(var Te=ne;fe<ae;){var Le=g[ne];Le>ae&&g.splice(ne,1,ae,g[ne+1],Le),ne+=2,fe=Math.min(ae,Le)}if(we)if(Y.opaque)g.splice(Te,ne-Te,ae,"overlay "+we),ne=Te+2;else for(;Te<ne;Te+=2){var Re=g[Te+1];g[Te+1]=(Re?Re+" ":"")+"overlay "+we}},b),p.state=x,p.baseTokens=null,p.baseTokenPos=1},O=0;O<a.state.overlays.length;++O)E(O);return{styles:g,classes:b.bgClass||b.textClass?b:null}}function Ew(a,c,p){if(!c.styles||c.styles[0]!=a.state.modeGen){var h=ic(a,Rt(c)),g=c.text.length>a.options.maxHighlightLength&&yo(a.doc.mode,h.state),b=Tw(a,c,h);g&&(h.state=g),c.stateAfter=h.save(!g),c.styles=b.styles,b.classes?c.styleClasses=b.classes:c.styleClasses&&(c.styleClasses=null),p===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return c.styles}function ic(a,c,p){var h=a.doc,g=a.display;if(!h.mode.startState)return new Ui(h,!0,c);var b=lN(a,c,p),x=b>h.first&&Ge(h,b-1).stateAfter,E=x?Ui.fromSaved(h,x,b):new Ui(h,rc(h.mode),b);return h.iter(b,c,function(O){Jg(a,O.text,E);var R=E.line;O.stateAfter=R==c-1||R%5==0||R>=g.viewFrom&&R<g.viewTo?E.save():null,E.nextLine()}),p&&(h.modeFrontier=E.line),E}function Jg(a,c,p,h){var g=a.doc.mode,b=new ln(c,a.options.tabSize,p);for(b.start=b.pos=h||0,c==""&&Aw(g,p.state);!b.eol();)Yg(g,b,p.state),b.start=b.pos}function Aw(a,c){if(a.blankLine)return a.blankLine(c);if(a.innerMode){var p=is(a,c);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function Yg(a,c,p,h){for(var g=0;g<10;g++){h&&(h[0]=is(a,p).mode);var b=a.token(c,p);if(c.pos>c.start)return b}throw new Error("Mode "+a.name+" failed to advance stream.")}var Ow=function(a,c,p){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=c||null,this.state=p};function Mw(a,c,p,h){var g=a.doc,b=g.mode,x;c=dt(g,c);var E=Ge(g,c.line),O=ic(a,c.line,p),R=new ln(E.text,a.options.tabSize,O),Y;for(h&&(Y=[]);(h||R.pos<c.ch)&&!R.eol();)R.start=R.pos,x=Yg(b,R,O.state),h&&Y.push(new Ow(R,x,yo(g.mode,O.state)));return h?Y:new Ow(R,x,O.state)}function Lw(a,c){if(a)for(;;){var p=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;a=a.slice(0,p.index)+a.slice(p.index+p[0].length);var h=p[1]?"bgClass":"textClass";c[h]==null?c[h]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(c[h])||(c[h]+=" "+p[2])}return a}function Nw(a,c,p,h,g,b,x){var E=p.flattenSpans;E==null&&(E=a.options.flattenSpans);var O=0,R=null,Y=new ln(c,a.options.tabSize,h),ne,fe=a.options.addModeClass&&[null];for(c==""&&Lw(Aw(p,h.state),b);!Y.eol();){if(Y.pos>a.options.maxHighlightLength?(E=!1,x&&Jg(a,c,h,Y.pos),Y.pos=c.length,ne=null):ne=Lw(Yg(p,Y,h.state,fe),b),fe){var ae=fe[0].name;ae&&(ne="m-"+(ne?ae+" "+ne:ae))}if(!E||R!=ne){for(;O<Y.start;)O=Math.min(Y.start,O+5e3),g(O,R);R=ne}Y.start=Y.pos}for(;O<Y.pos;){var we=Math.min(Y.pos,O+5e3);g(we,R),O=we}}function lN(a,c,p){for(var h,g,b=a.doc,x=p?-1:c-(a.doc.mode.innerMode?1e3:100),E=c;E>x;--E){if(E<=b.first)return b.first;var O=Ge(b,E-1),R=O.stateAfter;if(R&&(!p||E+(R instanceof Pd?R.lookAhead:0)<=b.modeFrontier))return E;var Y=$e(O.text,null,a.options.tabSize);(g==null||h>Y)&&(g=E-1,h=Y)}return g}function uN(a,c){if(a.modeFrontier=Math.min(a.modeFrontier,c),!(a.highlightFrontier<c-10)){for(var p=a.first,h=c-1;h>p;h--){var g=Ge(a,h).stateAfter;if(g&&(!(g instanceof Pd)||h+g.lookAhead<c)){p=h+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,p)}}var Pw=!1,_o=!1;function cN(){Pw=!0}function fN(){_o=!0}function Id(a,c,p){this.marker=a,this.from=c,this.to=p}function oc(a,c){if(a)for(var p=0;p<a.length;++p){var h=a[p];if(h.marker==c)return h}}function dN(a,c){for(var p,h=0;h<a.length;++h)a[h]!=c&&(p||(p=[])).push(a[h]);return p}function hN(a,c,p){var h=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));h&&a.markedSpans&&h.has(a.markedSpans)?a.markedSpans.push(c):(a.markedSpans=a.markedSpans?a.markedSpans.concat([c]):[c],h&&h.add(a.markedSpans)),c.marker.attachLine(a)}function pN(a,c,p){var h;if(a)for(var g=0;g<a.length;++g){var b=a[g],x=b.marker,E=b.from==null||(x.inclusiveLeft?b.from<=c:b.from<c);if(E||b.from==c&&x.type=="bookmark"&&(!p||!b.marker.insertLeft)){var O=b.to==null||(x.inclusiveRight?b.to>=c:b.to>c);(h||(h=[])).push(new Id(x,b.from,O?null:b.to))}}return h}function mN(a,c,p){var h;if(a)for(var g=0;g<a.length;++g){var b=a[g],x=b.marker,E=b.to==null||(x.inclusiveRight?b.to>=c:b.to>c);if(E||b.from==c&&x.type=="bookmark"&&(!p||b.marker.insertLeft)){var O=b.from==null||(x.inclusiveLeft?b.from<=c:b.from<c);(h||(h=[])).push(new Id(x,O?null:b.from-c,b.to==null?null:b.to-c))}}return h}function Xg(a,c){if(c.full)return null;var p=F(a,c.from.line)&&Ge(a,c.from.line).markedSpans,h=F(a,c.to.line)&&Ge(a,c.to.line).markedSpans;if(!p&&!h)return null;var g=c.from.ch,b=c.to.ch,x=_e(c.from,c.to)==0,E=pN(p,g,x),O=mN(h,b,x),R=c.text.length==1,Y=G(c.text).length+(R?g:0);if(E)for(var ne=0;ne<E.length;++ne){var fe=E[ne];if(fe.to==null){var ae=oc(O,fe.marker);ae?R&&(fe.to=ae.to==null?null:ae.to+Y):fe.to=g}}if(O)for(var we=0;we<O.length;++we){var Te=O[we];if(Te.to!=null&&(Te.to+=Y),Te.from==null){var Le=oc(E,Te.marker);Le||(Te.from=Y,R&&(E||(E=[])).push(Te))}else Te.from+=Y,R&&(E||(E=[])).push(Te)}E&&(E=Iw(E)),O&&O!=E&&(O=Iw(O));var Re=[E];if(!R){var He=c.text.length-2,ze;if(He>0&&E)for(var We=0;We<E.length;++We)E[We].to==null&&(ze||(ze=[])).push(new Id(E[We].marker,null,null));for(var nt=0;nt<He;++nt)Re.push(ze);Re.push(O)}return Re}function Iw(a){for(var c=0;c<a.length;++c){var p=a[c];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&a.splice(c--,1)}return a.length?a:null}function gN(a,c,p){var h=null;if(a.iter(c.line,p.line+1,function(ae){if(ae.markedSpans)for(var we=0;we<ae.markedSpans.length;++we){var Te=ae.markedSpans[we].marker;Te.readOnly&&(!h||qe(h,Te)==-1)&&(h||(h=[])).push(Te)}}),!h)return null;for(var g=[{from:c,to:p}],b=0;b<h.length;++b)for(var x=h[b],E=x.find(0),O=0;O<g.length;++O){var R=g[O];if(!(_e(R.to,E.from)<0||_e(R.from,E.to)>0)){var Y=[O,1],ne=_e(R.from,E.from),fe=_e(R.to,E.to);(ne<0||!x.inclusiveLeft&&!ne)&&Y.push({from:R.from,to:E.from}),(fe>0||!x.inclusiveRight&&!fe)&&Y.push({from:E.to,to:R.to}),g.splice.apply(g,Y),O+=Y.length-3}}return g}function Dw(a){var c=a.markedSpans;if(c){for(var p=0;p<c.length;++p)c[p].marker.detachLine(a);a.markedSpans=null}}function Rw(a,c){if(c){for(var p=0;p<c.length;++p)c[p].marker.attachLine(a);a.markedSpans=c}}function Dd(a){return a.inclusiveLeft?-1:0}function Rd(a){return a.inclusiveRight?1:0}function Zg(a,c){var p=a.lines.length-c.lines.length;if(p!=0)return p;var h=a.find(),g=c.find(),b=_e(h.from,g.from)||Dd(a)-Dd(c);if(b)return-b;var x=_e(h.to,g.to)||Rd(a)-Rd(c);return x||c.id-a.id}function zw(a,c){var p=_o&&a.markedSpans,h;if(p)for(var g=void 0,b=0;b<p.length;++b)g=p[b],g.marker.collapsed&&(c?g.from:g.to)==null&&(!h||Zg(h,g.marker)<0)&&(h=g.marker);return h}function Bw(a){return zw(a,!0)}function zd(a){return zw(a,!1)}function vN(a,c){var p=_o&&a.markedSpans,h;if(p)for(var g=0;g<p.length;++g){var b=p[g];b.marker.collapsed&&(b.from==null||b.from<c)&&(b.to==null||b.to>c)&&(!h||Zg(h,b.marker)<0)&&(h=b.marker)}return h}function $w(a,c,p,h,g){var b=Ge(a,c),x=_o&&b.markedSpans;if(x)for(var E=0;E<x.length;++E){var O=x[E];if(O.marker.collapsed){var R=O.marker.find(0),Y=_e(R.from,p)||Dd(O.marker)-Dd(g),ne=_e(R.to,h)||Rd(O.marker)-Rd(g);if(!(Y>=0&&ne<=0||Y<=0&&ne>=0)&&(Y<=0&&(O.marker.inclusiveRight&&g.inclusiveLeft?_e(R.to,p)>=0:_e(R.to,p)>0)||Y>=0&&(O.marker.inclusiveRight&&g.inclusiveLeft?_e(R.from,h)<=0:_e(R.from,h)<0)))return!0}}}function wi(a){for(var c;c=Bw(a);)a=c.find(-1,!0).line;return a}function yN(a){for(var c;c=zd(a);)a=c.find(1,!0).line;return a}function bN(a){for(var c,p;c=zd(a);)a=c.find(1,!0).line,(p||(p=[])).push(a);return p}function Qg(a,c){var p=Ge(a,c),h=wi(p);return p==h?c:Rt(h)}function Hw(a,c){if(c>a.lastLine())return c;var p=Ge(a,c),h;if(!ss(a,p))return c;for(;h=zd(p);)p=h.find(1,!0).line;return Rt(p)+1}function ss(a,c){var p=_o&&c.markedSpans;if(p){for(var h=void 0,g=0;g<p.length;++g)if(h=p[g],!!h.marker.collapsed){if(h.from==null)return!0;if(!h.marker.widgetNode&&h.from==0&&h.marker.inclusiveLeft&&ev(a,c,h))return!0}}}function ev(a,c,p){if(p.to==null){var h=p.marker.find(1,!0);return ev(a,h.line,oc(h.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==c.text.length)return!0;for(var g=void 0,b=0;b<c.markedSpans.length;++b)if(g=c.markedSpans[b],g.marker.collapsed&&!g.marker.widgetNode&&g.from==p.to&&(g.to==null||g.to!=p.from)&&(g.marker.inclusiveLeft||p.marker.inclusiveRight)&&ev(a,c,g))return!0}function wo(a){a=wi(a);for(var c=0,p=a.parent,h=0;h<p.lines.length;++h){var g=p.lines[h];if(g==a)break;c+=g.height}for(var b=p.parent;b;p=b,b=p.parent)for(var x=0;x<b.children.length;++x){var E=b.children[x];if(E==p)break;c+=E.height}return c}function Bd(a){if(a.height==0)return 0;for(var c=a.text.length,p,h=a;p=Bw(h);){var g=p.find(0,!0);h=g.from.line,c+=g.from.ch-g.to.ch}for(h=a;p=zd(h);){var b=p.find(0,!0);c-=h.text.length-b.from.ch,h=b.to.line,c+=h.text.length-b.to.ch}return c}function tv(a){var c=a.display,p=a.doc;c.maxLine=Ge(p,p.first),c.maxLineLength=Bd(c.maxLine),c.maxLineChanged=!0,p.iter(function(h){var g=Bd(h);g>c.maxLineLength&&(c.maxLineLength=g,c.maxLine=h)})}var kl=function(a,c,p){this.text=a,Rw(this,c),this.height=p?p(this):1};kl.prototype.lineNo=function(){return Rt(this)},Xt(kl);function _N(a,c,p,h){a.text=c,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),Dw(a),Rw(a,p);var g=h?h(a):1;g!=a.height&&oi(a,g)}function wN(a){a.parent=null,Dw(a)}var kN={},xN={};function Fw(a,c){if(!a||/^\s*$/.test(a))return null;var p=c.addModeClass?xN:kN;return p[a]||(p[a]=a.replace(/\S+/g,"cm-$&"))}function Vw(a,c){var p=ce("span",null,null,d?"padding-right: .1px":null),h={pre:ce("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};c.measure={};for(var g=0;g<=(c.rest?c.rest.length:0);g++){var b=g?c.rest[g-1]:c.line,x=void 0;h.pos=0,h.addToken=CN,Od(a.display.measure)&&(x=Ee(b,a.doc.direction))&&(h.addToken=EN(h.addToken,x)),h.map=[];var E=c!=a.display.externalMeasured&&Rt(b);AN(b,h,Ew(a,b,E)),b.styleClasses&&(b.styleClasses.bgClass&&(h.bgClass=pt(b.styleClasses.bgClass,h.bgClass||"")),b.styleClasses.textClass&&(h.textClass=pt(b.styleClasses.textClass,h.textClass||""))),h.map.length==0&&h.map.push(0,0,h.content.appendChild(Gg(a.display.measure))),g==0?(c.measure.map=h.map,c.measure.cache={}):((c.measure.maps||(c.measure.maps=[])).push(h.map),(c.measure.caches||(c.measure.caches=[])).push({}))}if(d){var O=h.content.lastChild;(/\bcm-tab\b/.test(O.className)||O.querySelector&&O.querySelector(".cm-tab"))&&(h.content.className="cm-tab-wrap-hack")}return st(a,"renderLine",a,c.line,h.pre),h.pre.className&&(h.textClass=pt(h.pre.className,h.textClass||"")),h}function SN(a){var c=I("span","","cm-invalidchar");return c.title="\\u"+a.charCodeAt(0).toString(16),c.setAttribute("aria-label",c.title),c}function CN(a,c,p,h,g,b,x){if(c){var E=a.splitSpaces?TN(c,a.trailingSpace):c,O=a.cm.state.specialChars,R=!1,Y;if(!O.test(c))a.col+=c.length,Y=document.createTextNode(E),a.map.push(a.pos,a.pos+c.length,Y),u&&f<9&&(R=!0),a.pos+=c.length;else{Y=document.createDocumentFragment();for(var ne=0;;){O.lastIndex=ne;var fe=O.exec(c),ae=fe?fe.index-ne:c.length-ne;if(ae){var we=document.createTextNode(E.slice(ne,ne+ae));u&&f<9?Y.appendChild(I("span",[we])):Y.appendChild(we),a.map.push(a.pos,a.pos+ae,we),a.col+=ae,a.pos+=ae}if(!fe)break;ne+=ae+1;var Te=void 0;if(fe[0]=="	"){var Le=a.cm.options.tabSize,Re=Le-a.col%Le;Te=Y.appendChild(I("span",Ce(Re),"cm-tab")),Te.setAttribute("role","presentation"),Te.setAttribute("cm-text","	"),a.col+=Re}else fe[0]=="\r"||fe[0]==`
`?(Te=Y.appendChild(I("span",fe[0]=="\r"?"":"","cm-invalidchar")),Te.setAttribute("cm-text",fe[0]),a.col+=1):(Te=a.cm.options.specialCharPlaceholder(fe[0]),Te.setAttribute("cm-text",fe[0]),u&&f<9?Y.appendChild(I("span",[Te])):Y.appendChild(Te),a.col+=1);a.map.push(a.pos,a.pos+1,Te),a.pos++}}if(a.trailingSpace=E.charCodeAt(c.length-1)==32,p||h||g||R||b||x){var He=p||"";h&&(He+=h),g&&(He+=g);var ze=I("span",[Y],He,b);if(x)for(var We in x)x.hasOwnProperty(We)&&We!="style"&&We!="class"&&ze.setAttribute(We,x[We]);return a.content.appendChild(ze)}a.content.appendChild(Y)}}function TN(a,c){if(a.length>1&&!/  /.test(a))return a;for(var p=c,h="",g=0;g<a.length;g++){var b=a.charAt(g);b==" "&&p&&(g==a.length-1||a.charCodeAt(g+1)==32)&&(b=""),h+=b,p=b==" "}return h}function EN(a,c){return function(p,h,g,b,x,E,O){g=g?g+" cm-force-border":"cm-force-border";for(var R=p.pos,Y=R+h.length;;){for(var ne=void 0,fe=0;fe<c.length&&(ne=c[fe],!(ne.to>R&&ne.from<=R));fe++);if(ne.to>=Y)return a(p,h,g,b,x,E,O);a(p,h.slice(0,ne.to-R),g,b,null,E,O),b=null,h=h.slice(ne.to-R),R=ne.to}}}function jw(a,c,p,h){var g=!h&&p.widgetNode;g&&a.map.push(a.pos,a.pos+c,g),!h&&a.cm.display.input.needsContentAttribute&&(g||(g=a.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",p.id)),g&&(a.cm.display.input.setUneditable(g),a.content.appendChild(g)),a.pos+=c,a.trailingSpace=!1}function AN(a,c,p){var h=a.markedSpans,g=a.text,b=0;if(!h){for(var x=1;x<p.length;x+=2)c.addToken(c,g.slice(b,b=p[x]),Fw(p[x+1],c.cm.options));return}for(var E=g.length,O=0,R=1,Y="",ne,fe,ae=0,we,Te,Le,Re,He;;){if(ae==O){we=Te=Le=fe="",He=null,Re=null,ae=1/0;for(var ze=[],We=void 0,nt=0;nt<h.length;++nt){var et=h[nt],xt=et.marker;if(xt.type=="bookmark"&&et.from==O&&xt.widgetNode)ze.push(xt);else if(et.from<=O&&(et.to==null||et.to>O||xt.collapsed&&et.to==O&&et.from==O)){if(et.to!=null&&et.to!=O&&ae>et.to&&(ae=et.to,Te=""),xt.className&&(we+=" "+xt.className),xt.css&&(fe=(fe?fe+";":"")+xt.css),xt.startStyle&&et.from==O&&(Le+=" "+xt.startStyle),xt.endStyle&&et.to==ae&&(We||(We=[])).push(xt.endStyle,et.to),xt.title&&((He||(He={})).title=xt.title),xt.attributes)for(var qt in xt.attributes)(He||(He={}))[qt]=xt.attributes[qt];xt.collapsed&&(!Re||Zg(Re.marker,xt)<0)&&(Re=et)}else et.from>O&&ae>et.from&&(ae=et.from)}if(We)for(var Nn=0;Nn<We.length;Nn+=2)We[Nn+1]==ae&&(Te+=" "+We[Nn]);if(!Re||Re.from==O)for(var on=0;on<ze.length;++on)jw(c,0,ze[on]);if(Re&&(Re.from||0)==O){if(jw(c,(Re.to==null?E+1:Re.to)-O,Re.marker,Re.from==null),Re.to==null)return;Re.to==O&&(Re=!1)}}if(O>=E)break;for(var Or=Math.min(E,ae);;){if(Y){var gr=O+Y.length;if(!Re){var wn=gr>Or?Y.slice(0,Or-O):Y;c.addToken(c,wn,ne?ne+we:we,Le,O+wn.length==ae?Te:"",fe,He)}if(gr>=Or){Y=Y.slice(Or-O),O=Or;break}O=gr,Le=""}Y=g.slice(b,b=p[R++]),ne=Fw(p[R++],c.cm.options)}}}function Ww(a,c,p){this.line=c,this.rest=bN(c),this.size=this.rest?Rt(G(this.rest))-p+1:1,this.node=this.text=null,this.hidden=ss(a,c)}function $d(a,c,p){for(var h=[],g,b=c;b<p;b=g){var x=new Ww(a.doc,Ge(a.doc,b),b);g=b+x.size,h.push(x)}return h}var xl=null;function ON(a){xl?xl.ops.push(a):a.ownsGroup=xl={ops:[a],delayedCallbacks:[]}}function MN(a){var c=a.delayedCallbacks,p=0;do{for(;p<c.length;p++)c[p].call(null);for(var h=0;h<a.ops.length;h++){var g=a.ops[h];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(p<c.length)}function LN(a,c){var p=a.ownsGroup;if(p)try{MN(p)}finally{xl=null,c(p)}}var sc=null;function On(a,c){var p=Ze(a,c);if(p.length){var h=Array.prototype.slice.call(arguments,2),g;xl?g=xl.delayedCallbacks:sc?g=sc:(g=sc=[],setTimeout(NN,0));for(var b=function(E){g.push(function(){return p[E].apply(null,h)})},x=0;x<p.length;++x)b(x)}}function NN(){var a=sc;sc=null;for(var c=0;c<a.length;++c)a[c]()}function Uw(a,c,p,h){for(var g=0;g<c.changes.length;g++){var b=c.changes[g];b=="text"?IN(a,c):b=="gutter"?qw(a,c,p,h):b=="class"?nv(a,c):b=="widget"&&DN(a,c,h)}c.changes=null}function ac(a){return a.node==a.text&&(a.node=I("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),u&&f<8&&(a.node.style.zIndex=2)),a.node}function PN(a,c){var p=c.bgClass?c.bgClass+" "+(c.line.bgClass||""):c.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),c.background)p?c.background.className=p:(c.background.parentNode.removeChild(c.background),c.background=null);else if(p){var h=ac(c);c.background=h.insertBefore(I("div",null,p),h.firstChild),a.display.input.setUneditable(c.background)}}function Kw(a,c){var p=a.display.externalMeasured;return p&&p.line==c.line?(a.display.externalMeasured=null,c.measure=p.measure,p.built):Vw(a,c)}function IN(a,c){var p=c.text.className,h=Kw(a,c);c.text==c.node&&(c.node=h.pre),c.text.parentNode.replaceChild(h.pre,c.text),c.text=h.pre,h.bgClass!=c.bgClass||h.textClass!=c.textClass?(c.bgClass=h.bgClass,c.textClass=h.textClass,nv(a,c)):p&&(c.text.className=p)}function nv(a,c){PN(a,c),c.line.wrapClass?ac(c).className=c.line.wrapClass:c.node!=c.text&&(c.node.className="");var p=c.textClass?c.textClass+" "+(c.line.textClass||""):c.line.textClass;c.text.className=p||""}function qw(a,c,p,h){if(c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null),c.gutterBackground&&(c.node.removeChild(c.gutterBackground),c.gutterBackground=null),c.line.gutterClass){var g=ac(c);c.gutterBackground=I("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(a.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px; width: "+h.gutterTotalWidth+"px"),a.display.input.setUneditable(c.gutterBackground),g.insertBefore(c.gutterBackground,c.text)}var b=c.line.gutterMarkers;if(a.options.lineNumbers||b){var x=ac(c),E=c.gutter=I("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px");if(E.setAttribute("aria-hidden","true"),a.display.input.setUneditable(E),x.insertBefore(E,c.text),c.line.gutterClass&&(E.className+=" "+c.line.gutterClass),a.options.lineNumbers&&(!b||!b["CodeMirror-linenumbers"])&&(c.lineNumber=E.appendChild(I("div",re(a.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+h.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),b)for(var O=0;O<a.display.gutterSpecs.length;++O){var R=a.display.gutterSpecs[O].className,Y=b.hasOwnProperty(R)&&b[R];Y&&E.appendChild(I("div",[Y],"CodeMirror-gutter-elt","left: "+h.gutterLeft[R]+"px; width: "+h.gutterWidth[R]+"px"))}}}function DN(a,c,p){c.alignable&&(c.alignable=null);for(var h=D("CodeMirror-linewidget"),g=c.node.firstChild,b=void 0;g;g=b)b=g.nextSibling,h.test(g.className)&&c.node.removeChild(g);Gw(a,c,p)}function RN(a,c,p,h){var g=Kw(a,c);return c.text=c.node=g.pre,g.bgClass&&(c.bgClass=g.bgClass),g.textClass&&(c.textClass=g.textClass),nv(a,c),qw(a,c,p,h),Gw(a,c,h),c.node}function Gw(a,c,p){if(Jw(a,c.line,c,p,!0),c.rest)for(var h=0;h<c.rest.length;h++)Jw(a,c.rest[h],c,p,!1)}function Jw(a,c,p,h,g){if(c.widgets)for(var b=ac(p),x=0,E=c.widgets;x<E.length;++x){var O=E[x],R=I("div",[O.node],"CodeMirror-linewidget"+(O.className?" "+O.className:""));O.handleMouseEvents||R.setAttribute("cm-ignore-events","true"),zN(O,R,p,h),a.display.input.setUneditable(R),g&&O.above?b.insertBefore(R,p.gutter||p.text):b.appendChild(R),On(O,"redraw")}}function zN(a,c,p,h){if(a.noHScroll){(p.alignable||(p.alignable=[])).push(c);var g=h.wrapperWidth;c.style.left=h.fixedPos+"px",a.coverGutter||(g-=h.gutterTotalWidth,c.style.paddingLeft=h.gutterTotalWidth+"px"),c.style.width=g+"px"}a.coverGutter&&(c.style.zIndex=5,c.style.position="relative",a.noHScroll||(c.style.marginLeft=-h.gutterTotalWidth+"px"))}function lc(a){if(a.height!=null)return a.height;var c=a.doc.cm;if(!c)return 0;if(!xe(document.body,a.node)){var p="position: relative;";a.coverGutter&&(p+="margin-left: -"+c.display.gutters.offsetWidth+"px;"),a.noHScroll&&(p+="width: "+c.display.wrapper.clientWidth+"px;"),Q(c.display.measure,I("div",[a.node],null,p))}return a.height=a.node.parentNode.offsetHeight}function ko(a,c){for(var p=xn(c);p!=a.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==a.sizer&&p!=a.mover)return!0}function Hd(a){return a.lineSpace.offsetTop}function rv(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Yw(a){if(a.cachedPaddingH)return a.cachedPaddingH;var c=Q(a.measure,I("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,h={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(h.left)&&!isNaN(h.right)&&(a.cachedPaddingH=h),h}function Ki(a){return Xe-a.display.nativeBarWidth}function sa(a){return a.display.scroller.clientWidth-Ki(a)-a.display.barWidth}function iv(a){return a.display.scroller.clientHeight-Ki(a)-a.display.barHeight}function BN(a,c,p){var h=a.options.lineWrapping,g=h&&sa(a);if(!c.measure.heights||h&&c.measure.width!=g){var b=c.measure.heights=[];if(h){c.measure.width=g;for(var x=c.text.firstChild.getClientRects(),E=0;E<x.length-1;E++){var O=x[E],R=x[E+1];Math.abs(O.bottom-R.bottom)>2&&b.push((O.bottom+R.top)/2-p.top)}}b.push(p.bottom-p.top)}}function Xw(a,c,p){if(a.line==c)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var h=0;h<a.rest.length;h++)if(a.rest[h]==c)return{map:a.measure.maps[h],cache:a.measure.caches[h]};for(var g=0;g<a.rest.length;g++)if(Rt(a.rest[g])>p)return{map:a.measure.maps[g],cache:a.measure.caches[g],before:!0}}}function $N(a,c){c=wi(c);var p=Rt(c),h=a.display.externalMeasured=new Ww(a.doc,c,p);h.lineN=p;var g=h.built=Vw(a,h);return h.text=g.pre,Q(a.display.lineMeasure,g.pre),h}function Zw(a,c,p,h){return qi(a,Sl(a,c),p,h)}function ov(a,c){if(c>=a.display.viewFrom&&c<a.display.viewTo)return a.display.view[ua(a,c)];var p=a.display.externalMeasured;if(p&&c>=p.lineN&&c<p.lineN+p.size)return p}function Sl(a,c){var p=Rt(c),h=ov(a,p);h&&!h.text?h=null:h&&h.changes&&(Uw(a,h,p,cv(a)),a.curOp.forceUpdate=!0),h||(h=$N(a,c));var g=Xw(h,c,p);return{line:c,view:h,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function qi(a,c,p,h,g){c.before&&(p=-1);var b=p+(h||""),x;return c.cache.hasOwnProperty(b)?x=c.cache[b]:(c.rect||(c.rect=c.view.text.getBoundingClientRect()),c.hasHeights||(BN(a,c.view,c.rect),c.hasHeights=!0),x=FN(a,c,p,h),x.bogus||(c.cache[b]=x)),{left:x.left,right:x.right,top:g?x.rtop:x.top,bottom:g?x.rbottom:x.bottom}}var Qw={left:0,right:0,top:0,bottom:0};function ek(a,c,p){for(var h,g,b,x,E,O,R=0;R<a.length;R+=3)if(E=a[R],O=a[R+1],c<E?(g=0,b=1,x="left"):c<O?(g=c-E,b=g+1):(R==a.length-3||c==O&&a[R+3]>c)&&(b=O-E,g=b-1,c>=O&&(x="right")),g!=null){if(h=a[R+2],E==O&&p==(h.insertLeft?"left":"right")&&(x=p),p=="left"&&g==0)for(;R&&a[R-2]==a[R-3]&&a[R-1].insertLeft;)h=a[(R-=3)+2],x="left";if(p=="right"&&g==O-E)for(;R<a.length-3&&a[R+3]==a[R+4]&&!a[R+5].insertLeft;)h=a[(R+=3)+2],x="right";break}return{node:h,start:g,end:b,collapse:x,coverStart:E,coverEnd:O}}function HN(a,c){var p=Qw;if(c=="left")for(var h=0;h<a.length&&(p=a[h]).left==p.right;h++);else for(var g=a.length-1;g>=0&&(p=a[g]).left==p.right;g--);return p}function FN(a,c,p,h){var g=ek(c.map,p,h),b=g.node,x=g.start,E=g.end,O=g.collapse,R;if(b.nodeType==3){for(var Y=0;Y<4;Y++){for(;x&&ye(c.line.text.charAt(g.coverStart+x));)--x;for(;g.coverStart+E<g.coverEnd&&ye(c.line.text.charAt(g.coverStart+E));)++E;if(u&&f<9&&x==0&&E==g.coverEnd-g.coverStart?R=b.parentNode.getBoundingClientRect():R=HN(de(b,x,E).getClientRects(),h),R.left||R.right||x==0)break;E=x,x=x-1,O="right"}u&&f<11&&(R=VN(a.display.measure,R))}else{x>0&&(O=h="right");var ne;a.options.lineWrapping&&(ne=b.getClientRects()).length>1?R=ne[h=="right"?ne.length-1:0]:R=b.getBoundingClientRect()}if(u&&f<9&&!x&&(!R||!R.left&&!R.right)){var fe=b.parentNode.getClientRects()[0];fe?R={left:fe.left,right:fe.left+Tl(a.display),top:fe.top,bottom:fe.bottom}:R=Qw}for(var ae=R.top-c.rect.top,we=R.bottom-c.rect.top,Te=(ae+we)/2,Le=c.view.measure.heights,Re=0;Re<Le.length-1&&!(Te<Le[Re]);Re++);var He=Re?Le[Re-1]:0,ze=Le[Re],We={left:(O=="right"?R.right:R.left)-c.rect.left,right:(O=="left"?R.left:R.right)-c.rect.left,top:He,bottom:ze};return!R.left&&!R.right&&(We.bogus=!0),a.options.singleCursorHeightPerLine||(We.rtop=ae,We.rbottom=we),We}function VN(a,c){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Md(a))return c;var p=screen.logicalXDPI/screen.deviceXDPI,h=screen.logicalYDPI/screen.deviceYDPI;return{left:c.left*p,right:c.right*p,top:c.top*h,bottom:c.bottom*h}}function tk(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var c=0;c<a.rest.length;c++)a.measure.caches[c]={}}function nk(a){a.display.externalMeasure=null,q(a.display.lineMeasure);for(var c=0;c<a.display.view.length;c++)tk(a.display.view[c])}function uc(a){nk(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function rk(a){return v&&P?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function ik(a){return v&&P?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function sv(a){var c=wi(a),p=c.widgets,h=0;if(p)for(var g=0;g<p.length;++g)p[g].above&&(h+=lc(p[g]));return h}function Fd(a,c,p,h,g){if(!g){var b=sv(c);p.top+=b,p.bottom+=b}if(h=="line")return p;h||(h="local");var x=wo(c);if(h=="local"?x+=Hd(a.display):x-=a.display.viewOffset,h=="page"||h=="window"){var E=a.display.lineSpace.getBoundingClientRect();x+=E.top+(h=="window"?0:ik(bt(a)));var O=E.left+(h=="window"?0:rk(bt(a)));p.left+=O,p.right+=O}return p.top+=x,p.bottom+=x,p}function ok(a,c,p){if(p=="div")return c;var h=c.left,g=c.top;if(p=="page")h-=rk(bt(a)),g-=ik(bt(a));else if(p=="local"||!p){var b=a.display.sizer.getBoundingClientRect();h+=b.left,g+=b.top}var x=a.display.lineSpace.getBoundingClientRect();return{left:h-x.left,top:g-x.top}}function Vd(a,c,p,h,g){return h||(h=Ge(a.doc,c.line)),Fd(a,h,Zw(a,h,c.ch,g),p)}function ki(a,c,p,h,g,b){h=h||Ge(a.doc,c.line),g||(g=Sl(a,h));function x(we,Te){var Le=qi(a,g,we,Te?"right":"left",b);return Te?Le.left=Le.right:Le.right=Le.left,Fd(a,h,Le,p)}var E=Ee(h,a.doc.direction),O=c.ch,R=c.sticky;if(O>=h.text.length?(O=h.text.length,R="before"):O<=0&&(O=0,R="after"),!E)return x(R=="before"?O-1:O,R=="before");function Y(we,Te,Le){var Re=E[Te],He=Re.level==1;return x(Le?we-1:we,He!=Le)}var ne=Ve(E,O,R),fe=Oe,ae=Y(O,ne,R=="before");return fe!=null&&(ae.other=Y(O,fe,R!="before")),ae}function sk(a,c){var p=0;c=dt(a.doc,c),a.options.lineWrapping||(p=Tl(a.display)*c.ch);var h=Ge(a.doc,c.line),g=wo(h)+Hd(a.display);return{left:p,right:p,top:g,bottom:g+h.height}}function av(a,c,p,h,g){var b=oe(a,c,p);return b.xRel=g,h&&(b.outside=h),b}function lv(a,c,p){var h=a.doc;if(p+=a.display.viewOffset,p<0)return av(h.first,0,null,-1,-1);var g=Wi(h,p),b=h.first+h.size-1;if(g>b)return av(h.first+h.size-1,Ge(h,b).text.length,null,1,1);c<0&&(c=0);for(var x=Ge(h,g);;){var E=jN(a,x,g,c,p),O=vN(x,E.ch+(E.xRel>0||E.outside>0?1:0));if(!O)return E;var R=O.find(1);if(R.line==g)return R;x=Ge(h,g=R.line)}}function ak(a,c,p,h){h-=sv(c);var g=c.text.length,b=Z(function(x){return qi(a,p,x-1).bottom<=h},g,0);return g=Z(function(x){return qi(a,p,x).top>h},b,g),{begin:b,end:g}}function lk(a,c,p,h){p||(p=Sl(a,c));var g=Fd(a,c,qi(a,p,h),"line").top;return ak(a,c,p,g)}function uv(a,c,p,h){return a.bottom<=p?!1:a.top>p?!0:(h?a.left:a.right)>c}function jN(a,c,p,h,g){g-=wo(c);var b=Sl(a,c),x=sv(c),E=0,O=c.text.length,R=!0,Y=Ee(c,a.doc.direction);if(Y){var ne=(a.options.lineWrapping?UN:WN)(a,c,p,b,Y,h,g);R=ne.level!=1,E=R?ne.from:ne.to-1,O=R?ne.to:ne.from-1}var fe=null,ae=null,we=Z(function(nt){var et=qi(a,b,nt);return et.top+=x,et.bottom+=x,uv(et,h,g,!1)?(et.top<=g&&et.left<=h&&(fe=nt,ae=et),!0):!1},E,O),Te,Le,Re=!1;if(ae){var He=h-ae.left<ae.right-h,ze=He==R;we=fe+(ze?0:1),Le=ze?"after":"before",Te=He?ae.left:ae.right}else{!R&&(we==O||we==E)&&we++,Le=we==0?"after":we==c.text.length?"before":qi(a,b,we-(R?1:0)).bottom+x<=g==R?"after":"before";var We=ki(a,oe(p,we,Le),"line",c,b);Te=We.left,Re=g<We.top?-1:g>=We.bottom?1:0}return we=X(c.text,we,1),av(p,we,Le,Re,h-Te)}function WN(a,c,p,h,g,b,x){var E=Z(function(ne){var fe=g[ne],ae=fe.level!=1;return uv(ki(a,oe(p,ae?fe.to:fe.from,ae?"before":"after"),"line",c,h),b,x,!0)},0,g.length-1),O=g[E];if(E>0){var R=O.level!=1,Y=ki(a,oe(p,R?O.from:O.to,R?"after":"before"),"line",c,h);uv(Y,b,x,!0)&&Y.top>x&&(O=g[E-1])}return O}function UN(a,c,p,h,g,b,x){var E=ak(a,c,h,x),O=E.begin,R=E.end;/\s/.test(c.text.charAt(R-1))&&R--;for(var Y=null,ne=null,fe=0;fe<g.length;fe++){var ae=g[fe];if(!(ae.from>=R||ae.to<=O)){var we=ae.level!=1,Te=qi(a,h,we?Math.min(R,ae.to)-1:Math.max(O,ae.from)).right,Le=Te<b?b-Te+1e9:Te-b;(!Y||ne>Le)&&(Y=ae,ne=Le)}}return Y||(Y=g[g.length-1]),Y.from<O&&(Y={from:O,to:Y.to,level:Y.level}),Y.to>R&&(Y={from:Y.from,to:R,level:Y.level}),Y}var aa;function Cl(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(aa==null){aa=I("pre",null,"CodeMirror-line-like");for(var c=0;c<49;++c)aa.appendChild(document.createTextNode("x")),aa.appendChild(I("br"));aa.appendChild(document.createTextNode("x"))}Q(a.measure,aa);var p=aa.offsetHeight/50;return p>3&&(a.cachedTextHeight=p),q(a.measure),p||1}function Tl(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var c=I("span","xxxxxxxxxx"),p=I("pre",[c],"CodeMirror-line-like");Q(a.measure,p);var h=c.getBoundingClientRect(),g=(h.right-h.left)/10;return g>2&&(a.cachedCharWidth=g),g||10}function cv(a){for(var c=a.display,p={},h={},g=c.gutters.clientLeft,b=c.gutters.firstChild,x=0;b;b=b.nextSibling,++x){var E=a.display.gutterSpecs[x].className;p[E]=b.offsetLeft+b.clientLeft+g,h[E]=b.clientWidth}return{fixedPos:fv(c),gutterTotalWidth:c.gutters.offsetWidth,gutterLeft:p,gutterWidth:h,wrapperWidth:c.wrapper.clientWidth}}function fv(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function uk(a){var c=Cl(a.display),p=a.options.lineWrapping,h=p&&Math.max(5,a.display.scroller.clientWidth/Tl(a.display)-3);return function(g){if(ss(a.doc,g))return 0;var b=0;if(g.widgets)for(var x=0;x<g.widgets.length;x++)g.widgets[x].height&&(b+=g.widgets[x].height);return p?b+(Math.ceil(g.text.length/h)||1)*c:b+c}}function dv(a){var c=a.doc,p=uk(a);c.iter(function(h){var g=p(h);g!=h.height&&oi(h,g)})}function la(a,c,p,h){var g=a.display;if(!p&&xn(c).getAttribute("cm-not-content")=="true")return null;var b,x,E=g.lineSpace.getBoundingClientRect();try{b=c.clientX-E.left,x=c.clientY-E.top}catch{return null}var O=lv(a,b,x),R;if(h&&O.xRel>0&&(R=Ge(a.doc,O.line).text).length==O.ch){var Y=$e(R,R.length,a.options.tabSize)-R.length;O=oe(O.line,Math.max(0,Math.round((b-Yw(a.display).left)/Tl(a.display))-Y))}return O}function ua(a,c){if(c>=a.display.viewTo||(c-=a.display.viewFrom,c<0))return null;for(var p=a.display.view,h=0;h<p.length;h++)if(c-=p[h].size,c<0)return h}function pr(a,c,p,h){c==null&&(c=a.doc.first),p==null&&(p=a.doc.first+a.doc.size),h||(h=0);var g=a.display;if(h&&p<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>c)&&(g.updateLineNumbers=c),a.curOp.viewChanged=!0,c>=g.viewTo)_o&&Qg(a.doc,c)<g.viewTo&&ls(a);else if(p<=g.viewFrom)_o&&Hw(a.doc,p+h)>g.viewFrom?ls(a):(g.viewFrom+=h,g.viewTo+=h);else if(c<=g.viewFrom&&p>=g.viewTo)ls(a);else if(c<=g.viewFrom){var b=jd(a,p,p+h,1);b?(g.view=g.view.slice(b.index),g.viewFrom=b.lineN,g.viewTo+=h):ls(a)}else if(p>=g.viewTo){var x=jd(a,c,c,-1);x?(g.view=g.view.slice(0,x.index),g.viewTo=x.lineN):ls(a)}else{var E=jd(a,c,c,-1),O=jd(a,p,p+h,1);E&&O?(g.view=g.view.slice(0,E.index).concat($d(a,E.lineN,O.lineN)).concat(g.view.slice(O.index)),g.viewTo+=h):ls(a)}var R=g.externalMeasured;R&&(p<R.lineN?R.lineN+=h:c<R.lineN+R.size&&(g.externalMeasured=null))}function as(a,c,p){a.curOp.viewChanged=!0;var h=a.display,g=a.display.externalMeasured;if(g&&c>=g.lineN&&c<g.lineN+g.size&&(h.externalMeasured=null),!(c<h.viewFrom||c>=h.viewTo)){var b=h.view[ua(a,c)];if(b.node!=null){var x=b.changes||(b.changes=[]);qe(x,p)==-1&&x.push(p)}}}function ls(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function jd(a,c,p,h){var g=ua(a,c),b,x=a.display.view;if(!_o||p==a.doc.first+a.doc.size)return{index:g,lineN:p};for(var E=a.display.viewFrom,O=0;O<g;O++)E+=x[O].size;if(E!=c){if(h>0){if(g==x.length-1)return null;b=E+x[g].size-c,g++}else b=E-c;c+=b,p+=b}for(;Qg(a.doc,p)!=p;){if(g==(h<0?0:x.length-1))return null;p+=h*x[g-(h<0?1:0)].size,g+=h}return{index:g,lineN:p}}function KN(a,c,p){var h=a.display,g=h.view;g.length==0||c>=h.viewTo||p<=h.viewFrom?(h.view=$d(a,c,p),h.viewFrom=c):(h.viewFrom>c?h.view=$d(a,c,h.viewFrom).concat(h.view):h.viewFrom<c&&(h.view=h.view.slice(ua(a,c))),h.viewFrom=c,h.viewTo<p?h.view=h.view.concat($d(a,h.viewTo,p)):h.viewTo>p&&(h.view=h.view.slice(0,ua(a,p)))),h.viewTo=p}function ck(a){for(var c=a.display.view,p=0,h=0;h<c.length;h++){var g=c[h];!g.hidden&&(!g.node||g.changes)&&++p}return p}function cc(a){a.display.input.showSelection(a.display.input.prepareSelection())}function fk(a,c){c===void 0&&(c=!0);var p=a.doc,h={},g=h.cursors=document.createDocumentFragment(),b=h.selection=document.createDocumentFragment(),x=a.options.$customCursor;x&&(c=!0);for(var E=0;E<p.sel.ranges.length;E++)if(!(!c&&E==p.sel.primIndex)){var O=p.sel.ranges[E];if(!(O.from().line>=a.display.viewTo||O.to().line<a.display.viewFrom)){var R=O.empty();if(x){var Y=x(a,O);Y&&hv(a,Y,g)}else(R||a.options.showCursorWhenSelecting)&&hv(a,O.head,g);R||qN(a,O,b)}}return h}function hv(a,c,p){var h=ki(a,c,"div",null,null,!a.options.singleCursorHeightPerLine),g=p.appendChild(I("div","","CodeMirror-cursor"));if(g.style.left=h.left+"px",g.style.top=h.top+"px",g.style.height=Math.max(0,h.bottom-h.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var b=Vd(a,c,"div",null,null),x=b.right-b.left;g.style.width=(x>0?x:a.defaultCharWidth())+"px"}if(h.other){var E=p.appendChild(I("div","","CodeMirror-cursor CodeMirror-secondarycursor"));E.style.display="",E.style.left=h.other.left+"px",E.style.top=h.other.top+"px",E.style.height=(h.other.bottom-h.other.top)*.85+"px"}}function Wd(a,c){return a.top-c.top||a.left-c.left}function qN(a,c,p){var h=a.display,g=a.doc,b=document.createDocumentFragment(),x=Yw(a.display),E=x.left,O=Math.max(h.sizerWidth,sa(a)-h.sizer.offsetLeft)-x.right,R=g.direction=="ltr";function Y(ze,We,nt,et){We<0&&(We=0),We=Math.round(We),et=Math.round(et),b.appendChild(I("div",null,"CodeMirror-selected","position: absolute; left: "+ze+`px;
                             top: `+We+"px; width: "+(nt??O-ze)+`px;
                             height: `+(et-We)+"px"))}function ne(ze,We,nt){var et=Ge(g,ze),xt=et.text.length,qt,Nn;function on(wn,vr){return Vd(a,oe(ze,wn),"div",et,vr)}function Or(wn,vr,$n){var Cn=lk(a,et,null,wn),kn=vr=="ltr"==($n=="after")?"left":"right",un=$n=="after"?Cn.begin:Cn.end-(/\s/.test(et.text.charAt(Cn.end-1))?2:1);return on(un,kn)[kn]}var gr=Ee(et,g.direction);return pe(gr,We||0,nt??xt,function(wn,vr,$n,Cn){var kn=$n=="ltr",un=on(wn,kn?"left":"right"),yr=on(vr-1,kn?"right":"left"),$l=We==null&&wn==0,ps=nt==null&&vr==xt,qn=Cn==0,Gi=!gr||Cn==gr.length-1;if(yr.top-un.top<=3){var Pn=(R?$l:ps)&&qn,Hv=(R?ps:$l)&&Gi,Co=Pn?E:(kn?un:yr).left,pa=Hv?O:(kn?yr:un).right;Y(Co,un.top,pa-Co,un.bottom)}else{var ma,nr,Hl,Fv;kn?(ma=R&&$l&&qn?E:un.left,nr=R?O:Or(wn,$n,"before"),Hl=R?E:Or(vr,$n,"after"),Fv=R&&ps&&Gi?O:yr.right):(ma=R?Or(wn,$n,"before"):E,nr=!R&&$l&&qn?O:un.right,Hl=!R&&ps&&Gi?E:yr.left,Fv=R?Or(vr,$n,"after"):O),Y(ma,un.top,nr-ma,un.bottom),un.bottom<yr.top&&Y(E,un.bottom,null,yr.top),Y(Hl,yr.top,Fv-Hl,yr.bottom)}(!qt||Wd(un,qt)<0)&&(qt=un),Wd(yr,qt)<0&&(qt=yr),(!Nn||Wd(un,Nn)<0)&&(Nn=un),Wd(yr,Nn)<0&&(Nn=yr)}),{start:qt,end:Nn}}var fe=c.from(),ae=c.to();if(fe.line==ae.line)ne(fe.line,fe.ch,ae.ch);else{var we=Ge(g,fe.line),Te=Ge(g,ae.line),Le=wi(we)==wi(Te),Re=ne(fe.line,fe.ch,Le?we.text.length+1:null).end,He=ne(ae.line,Le?0:null,ae.ch).start;Le&&(Re.top<He.top-2?(Y(Re.right,Re.top,null,Re.bottom),Y(E,He.top,He.left,He.bottom)):Y(Re.right,Re.top,He.left-Re.right,Re.bottom)),Re.bottom<He.top&&Y(E,Re.bottom,null,He.top)}p.appendChild(b)}function pv(a){if(a.state.focused){var c=a.display;clearInterval(c.blinker);var p=!0;c.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?c.blinker=setInterval(function(){a.hasFocus()||El(a),c.cursorDiv.style.visibility=(p=!p)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(c.cursorDiv.style.visibility="hidden")}}function dk(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||gv(a))}function mv(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&El(a))},100)}function gv(a,c){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(st(a,"focus",a,c),a.state.focused=!0,rt(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),d&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),pv(a))}function El(a,c){a.state.delayingBlurEvent||(a.state.focused&&(st(a,"blur",a,c),a.state.focused=!1,K(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Ud(a){for(var c=a.display,p=c.lineDiv.offsetTop,h=Math.max(0,c.scroller.getBoundingClientRect().top),g=c.lineDiv.getBoundingClientRect().top,b=0,x=0;x<c.view.length;x++){var E=c.view[x],O=a.options.lineWrapping,R=void 0,Y=0;if(!E.hidden){if(g+=E.line.height,u&&f<8){var ne=E.node.offsetTop+E.node.offsetHeight;R=ne-p,p=ne}else{var fe=E.node.getBoundingClientRect();R=fe.bottom-fe.top,!O&&E.text.firstChild&&(Y=E.text.firstChild.getBoundingClientRect().right-fe.left-1)}var ae=E.line.height-R;if((ae>.005||ae<-.005)&&(g<h&&(b-=ae),oi(E.line,R),hk(E.line),E.rest))for(var we=0;we<E.rest.length;we++)hk(E.rest[we]);if(Y>a.display.sizerWidth){var Te=Math.ceil(Y/Tl(a.display));Te>a.display.maxLineLength&&(a.display.maxLineLength=Te,a.display.maxLine=E.line,a.display.maxLineChanged=!0)}}}Math.abs(b)>2&&(c.scroller.scrollTop+=b)}function hk(a){if(a.widgets)for(var c=0;c<a.widgets.length;++c){var p=a.widgets[c],h=p.node.parentNode;h&&(p.height=h.offsetHeight)}}function Kd(a,c,p){var h=p&&p.top!=null?Math.max(0,p.top):a.scroller.scrollTop;h=Math.floor(h-Hd(a));var g=p&&p.bottom!=null?p.bottom:h+a.wrapper.clientHeight,b=Wi(c,h),x=Wi(c,g);if(p&&p.ensure){var E=p.ensure.from.line,O=p.ensure.to.line;E<b?(b=E,x=Wi(c,wo(Ge(c,E))+a.wrapper.clientHeight)):Math.min(O,c.lastLine())>=x&&(b=Wi(c,wo(Ge(c,O))-a.wrapper.clientHeight),x=O)}return{from:b,to:Math.max(x,b+1)}}function GN(a,c){if(!Ct(a,"scrollCursorIntoView")){var p=a.display,h=p.sizer.getBoundingClientRect(),g=null,b=p.wrapper.ownerDocument;if(c.top+h.top<0?g=!0:c.bottom+h.top>(b.defaultView.innerHeight||b.documentElement.clientHeight)&&(g=!1),g!=null&&!w){var x=I("div","",null,`position: absolute;
                         top: `+(c.top-p.viewOffset-Hd(a.display))+`px;
                         height: `+(c.bottom-c.top+Ki(a)+p.barHeight)+`px;
                         left: `+c.left+"px; width: "+Math.max(2,c.right-c.left)+"px;");a.display.lineSpace.appendChild(x),x.scrollIntoView(g),a.display.lineSpace.removeChild(x)}}}function JN(a,c,p,h){h==null&&(h=0);var g;!a.options.lineWrapping&&c==p&&(p=c.sticky=="before"?oe(c.line,c.ch+1,"before"):c,c=c.ch?oe(c.line,c.sticky=="before"?c.ch-1:c.ch,"after"):c);for(var b=0;b<5;b++){var x=!1,E=ki(a,c),O=!p||p==c?E:ki(a,p);g={left:Math.min(E.left,O.left),top:Math.min(E.top,O.top)-h,right:Math.max(E.left,O.left),bottom:Math.max(E.bottom,O.bottom)+h};var R=vv(a,g),Y=a.doc.scrollTop,ne=a.doc.scrollLeft;if(R.scrollTop!=null&&(dc(a,R.scrollTop),Math.abs(a.doc.scrollTop-Y)>1&&(x=!0)),R.scrollLeft!=null&&(ca(a,R.scrollLeft),Math.abs(a.doc.scrollLeft-ne)>1&&(x=!0)),!x)break}return g}function YN(a,c){var p=vv(a,c);p.scrollTop!=null&&dc(a,p.scrollTop),p.scrollLeft!=null&&ca(a,p.scrollLeft)}function vv(a,c){var p=a.display,h=Cl(a.display);c.top<0&&(c.top=0);var g=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:p.scroller.scrollTop,b=iv(a),x={};c.bottom-c.top>b&&(c.bottom=c.top+b);var E=a.doc.height+rv(p),O=c.top<h,R=c.bottom>E-h;if(c.top<g)x.scrollTop=O?0:c.top;else if(c.bottom>g+b){var Y=Math.min(c.top,(R?E:c.bottom)-b);Y!=g&&(x.scrollTop=Y)}var ne=a.options.fixedGutter?0:p.gutters.offsetWidth,fe=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:p.scroller.scrollLeft-ne,ae=sa(a)-p.gutters.offsetWidth,we=c.right-c.left>ae;return we&&(c.right=c.left+ae),c.left<10?x.scrollLeft=0:c.left<fe?x.scrollLeft=Math.max(0,c.left+ne-(we?0:10)):c.right>ae+fe-3&&(x.scrollLeft=c.right+(we?0:10)-ae),x}function yv(a,c){c!=null&&(qd(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+c)}function Al(a){qd(a);var c=a.getCursor();a.curOp.scrollToPos={from:c,to:c,margin:a.options.cursorScrollMargin}}function fc(a,c,p){(c!=null||p!=null)&&qd(a),c!=null&&(a.curOp.scrollLeft=c),p!=null&&(a.curOp.scrollTop=p)}function XN(a,c){qd(a),a.curOp.scrollToPos=c}function qd(a){var c=a.curOp.scrollToPos;if(c){a.curOp.scrollToPos=null;var p=sk(a,c.from),h=sk(a,c.to);pk(a,p,h,c.margin)}}function pk(a,c,p,h){var g=vv(a,{left:Math.min(c.left,p.left),top:Math.min(c.top,p.top)-h,right:Math.max(c.right,p.right),bottom:Math.max(c.bottom,p.bottom)+h});fc(a,g.scrollLeft,g.scrollTop)}function dc(a,c){Math.abs(a.doc.scrollTop-c)<2||(i||_v(a,{top:c}),mk(a,c,!0),i&&_v(a),mc(a,100))}function mk(a,c,p){c=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,c)),!(a.display.scroller.scrollTop==c&&!p)&&(a.doc.scrollTop=c,a.display.scrollbars.setScrollTop(c),a.display.scroller.scrollTop!=c&&(a.display.scroller.scrollTop=c))}function ca(a,c,p,h){c=Math.max(0,Math.min(c,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((p?c==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-c)<2)&&!h)&&(a.doc.scrollLeft=c,_k(a),a.display.scroller.scrollLeft!=c&&(a.display.scroller.scrollLeft=c),a.display.scrollbars.setScrollLeft(c))}function hc(a){var c=a.display,p=c.gutters.offsetWidth,h=Math.round(a.doc.height+rv(a.display));return{clientHeight:c.scroller.clientHeight,viewHeight:c.wrapper.clientHeight,scrollWidth:c.scroller.scrollWidth,clientWidth:c.scroller.clientWidth,viewWidth:c.wrapper.clientWidth,barLeft:a.options.fixedGutter?p:0,docHeight:h,scrollHeight:h+Ki(a)+c.barHeight,nativeBarWidth:c.nativeBarWidth,gutterWidth:p}}var fa=function(a,c,p){this.cm=p;var h=this.vert=I("div",[I("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=I("div",[I("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");h.tabIndex=g.tabIndex=-1,a(h),a(g),ve(h,"scroll",function(){h.clientHeight&&c(h.scrollTop,"vertical")}),ve(g,"scroll",function(){g.clientWidth&&c(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,u&&f<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};fa.prototype.update=function(a){var c=a.scrollWidth>a.clientWidth+1,p=a.scrollHeight>a.clientHeight+1,h=a.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=c?h+"px":"0";var g=a.viewHeight-(c?h:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(c){this.horiz.style.display="block",this.horiz.style.right=p?h+"px":"0",this.horiz.style.left=a.barLeft+"px";var b=a.viewWidth-a.barLeft-(p?h:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+b)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(h==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?h:0,bottom:c?h:0}},fa.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},fa.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},fa.prototype.zeroWidthHack=function(){var a=U&&!C?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ae,this.disableVert=new Ae},fa.prototype.enableZeroWidthBar=function(a,c,p){a.style.visibility="";function h(){var g=a.getBoundingClientRect(),b=p=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);b!=a?a.style.visibility="hidden":c.set(1e3,h)}c.set(1e3,h)},fa.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var pc=function(){};pc.prototype.update=function(){return{bottom:0,right:0}},pc.prototype.setScrollLeft=function(){},pc.prototype.setScrollTop=function(){},pc.prototype.clear=function(){};function Ol(a,c){c||(c=hc(a));var p=a.display.barWidth,h=a.display.barHeight;gk(a,c);for(var g=0;g<4&&p!=a.display.barWidth||h!=a.display.barHeight;g++)p!=a.display.barWidth&&a.options.lineWrapping&&Ud(a),gk(a,hc(a)),p=a.display.barWidth,h=a.display.barHeight}function gk(a,c){var p=a.display,h=p.scrollbars.update(c);p.sizer.style.paddingRight=(p.barWidth=h.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=h.bottom)+"px",p.heightForcer.style.borderBottom=h.bottom+"px solid transparent",h.right&&h.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=h.bottom+"px",p.scrollbarFiller.style.width=h.right+"px"):p.scrollbarFiller.style.display="",h.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=h.bottom+"px",p.gutterFiller.style.width=c.gutterWidth+"px"):p.gutterFiller.style.display=""}var vk={native:fa,null:pc};function yk(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&K(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new vk[a.options.scrollbarStyle](function(c){a.display.wrapper.insertBefore(c,a.display.scrollbarFiller),ve(c,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),c.setAttribute("cm-not-content","true")},function(c,p){p=="horizontal"?ca(a,c):dc(a,c)},a),a.display.scrollbars.addClass&&rt(a.display.wrapper,a.display.scrollbars.addClass)}var ZN=0;function da(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ZN,markArrays:null},ON(a.curOp)}function ha(a){var c=a.curOp;c&&LN(c,function(p){for(var h=0;h<p.ops.length;h++)p.ops[h].cm.curOp=null;QN(p)})}function QN(a){for(var c=a.ops,p=0;p<c.length;p++)eP(c[p]);for(var h=0;h<c.length;h++)tP(c[h]);for(var g=0;g<c.length;g++)nP(c[g]);for(var b=0;b<c.length;b++)rP(c[b]);for(var x=0;x<c.length;x++)iP(c[x])}function eP(a){var c=a.cm,p=c.display;sP(c),a.updateMaxLine&&tv(c),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<p.viewFrom||a.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&c.options.lineWrapping,a.update=a.mustUpdate&&new Gd(c,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function tP(a){a.updatedDisplay=a.mustUpdate&&bv(a.cm,a.update)}function nP(a){var c=a.cm,p=c.display;a.updatedDisplay&&Ud(c),a.barMeasure=hc(c),p.maxLineChanged&&!c.options.lineWrapping&&(a.adjustWidthTo=Zw(c,p.maxLine,p.maxLine.text.length).left+3,c.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+a.adjustWidthTo+Ki(c)+c.display.barWidth),a.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+a.adjustWidthTo-sa(c))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=p.input.prepareSelection())}function rP(a){var c=a.cm;a.adjustWidthTo!=null&&(c.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<c.doc.scrollLeft&&ca(c,Math.min(c.display.scroller.scrollLeft,a.maxScrollLeft),!0),c.display.maxLineChanged=!1);var p=a.focus&&a.focus==Be(bt(c));a.preparedSelection&&c.display.input.showSelection(a.preparedSelection,p),(a.updatedDisplay||a.startHeight!=c.doc.height)&&Ol(c,a.barMeasure),a.updatedDisplay&&kv(c,a.barMeasure),a.selectionChanged&&pv(c),c.state.focused&&a.updateInput&&c.display.input.reset(a.typing),p&&dk(a.cm)}function iP(a){var c=a.cm,p=c.display,h=c.doc;if(a.updatedDisplay&&bk(c,a.update),p.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),a.scrollTop!=null&&mk(c,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&ca(c,a.scrollLeft,!0,!0),a.scrollToPos){var g=JN(c,dt(h,a.scrollToPos.from),dt(h,a.scrollToPos.to),a.scrollToPos.margin);GN(c,g)}var b=a.maybeHiddenMarkers,x=a.maybeUnhiddenMarkers;if(b)for(var E=0;E<b.length;++E)b[E].lines.length||st(b[E],"hide");if(x)for(var O=0;O<x.length;++O)x[O].lines.length&&st(x[O],"unhide");p.wrapper.offsetHeight&&(h.scrollTop=c.display.scroller.scrollTop),a.changeObjs&&st(c,"changes",c,a.changeObjs),a.update&&a.update.finish()}function Ar(a,c){if(a.curOp)return c();da(a);try{return c()}finally{ha(a)}}function Mn(a,c){return function(){if(a.curOp)return c.apply(a,arguments);da(a);try{return c.apply(a,arguments)}finally{ha(a)}}}function tr(a){return function(){if(this.curOp)return a.apply(this,arguments);da(this);try{return a.apply(this,arguments)}finally{ha(this)}}}function Ln(a){return function(){var c=this.cm;if(!c||c.curOp)return a.apply(this,arguments);da(c);try{return a.apply(this,arguments)}finally{ha(c)}}}function mc(a,c){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(c,Ye(oP,a))}function oP(a){var c=a.doc;if(!(c.highlightFrontier>=a.display.viewTo)){var p=+new Date+a.options.workTime,h=ic(a,c.highlightFrontier),g=[];c.iter(h.line,Math.min(c.first+c.size,a.display.viewTo+500),function(b){if(h.line>=a.display.viewFrom){var x=b.styles,E=b.text.length>a.options.maxHighlightLength?yo(c.mode,h.state):null,O=Tw(a,b,h,!0);E&&(h.state=E),b.styles=O.styles;var R=b.styleClasses,Y=O.classes;Y?b.styleClasses=Y:R&&(b.styleClasses=null);for(var ne=!x||x.length!=b.styles.length||R!=Y&&(!R||!Y||R.bgClass!=Y.bgClass||R.textClass!=Y.textClass),fe=0;!ne&&fe<x.length;++fe)ne=x[fe]!=b.styles[fe];ne&&g.push(h.line),b.stateAfter=h.save(),h.nextLine()}else b.text.length<=a.options.maxHighlightLength&&Jg(a,b.text,h),b.stateAfter=h.line%5==0?h.save():null,h.nextLine();if(+new Date>p)return mc(a,a.options.workDelay),!0}),c.highlightFrontier=h.line,c.modeFrontier=Math.max(c.modeFrontier,h.line),g.length&&Ar(a,function(){for(var b=0;b<g.length;b++)as(a,g[b],"text")})}}var Gd=function(a,c,p){var h=a.display;this.viewport=c,this.visible=Kd(h,a.doc,c),this.editorIsHidden=!h.wrapper.offsetWidth,this.wrapperHeight=h.wrapper.clientHeight,this.wrapperWidth=h.wrapper.clientWidth,this.oldDisplayWidth=sa(a),this.force=p,this.dims=cv(a),this.events=[]};Gd.prototype.signal=function(a,c){Ut(a,c)&&this.events.push(arguments)},Gd.prototype.finish=function(){for(var a=0;a<this.events.length;a++)st.apply(null,this.events[a])};function sP(a){var c=a.display;!c.scrollbarsClipped&&c.scroller.offsetWidth&&(c.nativeBarWidth=c.scroller.offsetWidth-c.scroller.clientWidth,c.heightForcer.style.height=Ki(a)+"px",c.sizer.style.marginBottom=-c.nativeBarWidth+"px",c.sizer.style.borderRightWidth=Ki(a)+"px",c.scrollbarsClipped=!0)}function aP(a){if(a.hasFocus())return null;var c=Be(bt(a));if(!c||!xe(a.display.lineDiv,c))return null;var p={activeElt:c};if(window.getSelection){var h=gt(a).getSelection();h.anchorNode&&h.extend&&xe(a.display.lineDiv,h.anchorNode)&&(p.anchorNode=h.anchorNode,p.anchorOffset=h.anchorOffset,p.focusNode=h.focusNode,p.focusOffset=h.focusOffset)}return p}function lP(a){if(!(!a||!a.activeElt||a.activeElt==Be(a.activeElt.ownerDocument))&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&xe(document.body,a.anchorNode)&&xe(document.body,a.focusNode))){var c=a.activeElt.ownerDocument,p=c.defaultView.getSelection(),h=c.createRange();h.setEnd(a.anchorNode,a.anchorOffset),h.collapse(!1),p.removeAllRanges(),p.addRange(h),p.extend(a.focusNode,a.focusOffset)}}function bv(a,c){var p=a.display,h=a.doc;if(c.editorIsHidden)return ls(a),!1;if(!c.force&&c.visible.from>=p.viewFrom&&c.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&ck(a)==0)return!1;wk(a)&&(ls(a),c.dims=cv(a));var g=h.first+h.size,b=Math.max(c.visible.from-a.options.viewportMargin,h.first),x=Math.min(g,c.visible.to+a.options.viewportMargin);p.viewFrom<b&&b-p.viewFrom<20&&(b=Math.max(h.first,p.viewFrom)),p.viewTo>x&&p.viewTo-x<20&&(x=Math.min(g,p.viewTo)),_o&&(b=Qg(a.doc,b),x=Hw(a.doc,x));var E=b!=p.viewFrom||x!=p.viewTo||p.lastWrapHeight!=c.wrapperHeight||p.lastWrapWidth!=c.wrapperWidth;KN(a,b,x),p.viewOffset=wo(Ge(a.doc,p.viewFrom)),a.display.mover.style.top=p.viewOffset+"px";var O=ck(a);if(!E&&O==0&&!c.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var R=aP(a);return O>4&&(p.lineDiv.style.display="none"),uP(a,p.updateLineNumbers,c.dims),O>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,lP(R),q(p.cursorDiv),q(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,E&&(p.lastWrapHeight=c.wrapperHeight,p.lastWrapWidth=c.wrapperWidth,mc(a,400)),p.updateLineNumbers=null,!0}function bk(a,c){for(var p=c.viewport,h=!0;;h=!1){if(!h||!a.options.lineWrapping||c.oldDisplayWidth==sa(a)){if(p&&p.top!=null&&(p={top:Math.min(a.doc.height+rv(a.display)-iv(a),p.top)}),c.visible=Kd(a.display,a.doc,p),c.visible.from>=a.display.viewFrom&&c.visible.to<=a.display.viewTo)break}else h&&(c.visible=Kd(a.display,a.doc,p));if(!bv(a,c))break;Ud(a);var g=hc(a);cc(a),Ol(a,g),kv(a,g),c.force=!1}c.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(c.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function _v(a,c){var p=new Gd(a,c);if(bv(a,p)){Ud(a),bk(a,p);var h=hc(a);cc(a),Ol(a,h),kv(a,h),p.finish()}}function uP(a,c,p){var h=a.display,g=a.options.lineNumbers,b=h.lineDiv,x=b.firstChild;function E(we){var Te=we.nextSibling;return d&&U&&a.display.currentWheelTarget==we?we.style.display="none":we.parentNode.removeChild(we),Te}for(var O=h.view,R=h.viewFrom,Y=0;Y<O.length;Y++){var ne=O[Y];if(!ne.hidden)if(!ne.node||ne.node.parentNode!=b){var fe=RN(a,ne,R,p);b.insertBefore(fe,x)}else{for(;x!=ne.node;)x=E(x);var ae=g&&c!=null&&c<=R&&ne.lineNumber;ne.changes&&(qe(ne.changes,"gutter")>-1&&(ae=!1),Uw(a,ne,R,p)),ae&&(q(ne.lineNumber),ne.lineNumber.appendChild(document.createTextNode(re(a.options,R)))),x=ne.node.nextSibling}R+=ne.size}for(;x;)x=E(x)}function wv(a){var c=a.gutters.offsetWidth;a.sizer.style.marginLeft=c+"px",On(a,"gutterChanged",a)}function kv(a,c){a.display.sizer.style.minHeight=c.docHeight+"px",a.display.heightForcer.style.top=c.docHeight+"px",a.display.gutters.style.height=c.docHeight+a.display.barHeight+Ki(a)+"px"}function _k(a){var c=a.display,p=c.view;if(!(!c.alignWidgets&&(!c.gutters.firstChild||!a.options.fixedGutter))){for(var h=fv(c)-c.scroller.scrollLeft+a.doc.scrollLeft,g=c.gutters.offsetWidth,b=h+"px",x=0;x<p.length;x++)if(!p[x].hidden){a.options.fixedGutter&&(p[x].gutter&&(p[x].gutter.style.left=b),p[x].gutterBackground&&(p[x].gutterBackground.style.left=b));var E=p[x].alignable;if(E)for(var O=0;O<E.length;O++)E[O].style.left=b}a.options.fixedGutter&&(c.gutters.style.left=h+g+"px")}}function wk(a){if(!a.options.lineNumbers)return!1;var c=a.doc,p=re(a.options,c.first+c.size-1),h=a.display;if(p.length!=h.lineNumChars){var g=h.measure.appendChild(I("div",[I("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),b=g.firstChild.offsetWidth,x=g.offsetWidth-b;return h.lineGutter.style.width="",h.lineNumInnerWidth=Math.max(b,h.lineGutter.offsetWidth-x)+1,h.lineNumWidth=h.lineNumInnerWidth+x,h.lineNumChars=h.lineNumInnerWidth?p.length:-1,h.lineGutter.style.width=h.lineNumWidth+"px",wv(a.display),!0}return!1}function xv(a,c){for(var p=[],h=!1,g=0;g<a.length;g++){var b=a[g],x=null;if(typeof b!="string"&&(x=b.style,b=b.className),b=="CodeMirror-linenumbers")if(c)h=!0;else continue;p.push({className:b,style:x})}return c&&!h&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function kk(a){var c=a.gutters,p=a.gutterSpecs;q(c),a.lineGutter=null;for(var h=0;h<p.length;++h){var g=p[h],b=g.className,x=g.style,E=c.appendChild(I("div",null,"CodeMirror-gutter "+b));x&&(E.style.cssText=x),b=="CodeMirror-linenumbers"&&(a.lineGutter=E,E.style.width=(a.lineNumWidth||1)+"px")}c.style.display=p.length?"":"none",wv(a)}function gc(a){kk(a.display),pr(a),_k(a)}function cP(a,c,p,h){var g=this;this.input=p,g.scrollbarFiller=I("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=I("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=ce("div",null,"CodeMirror-code"),g.selectionDiv=I("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=I("div",null,"CodeMirror-cursors"),g.measure=I("div",null,"CodeMirror-measure"),g.lineMeasure=I("div",null,"CodeMirror-measure"),g.lineSpace=ce("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var b=ce("div",[g.lineSpace],"CodeMirror-lines");g.mover=I("div",[b],null,"position: relative"),g.sizer=I("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=I("div",null,null,"position: absolute; height: "+Xe+"px; width: 1px;"),g.gutters=I("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=I("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=I("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),v&&y>=105&&(g.wrapper.style.clipPath="inset(0px)"),g.wrapper.setAttribute("translate","no"),u&&f<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!d&&!(i&&A)&&(g.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(g.wrapper):a(g.wrapper)),g.viewFrom=g.viewTo=c.first,g.reportedViewFrom=g.reportedViewTo=c.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=xv(h.gutters,h.lineNumbers),kk(g),p.init(g)}var Jd=0,xo=null;u?xo=-.53:i?xo=15:v?xo=-.7:T&&(xo=-1/3);function xk(a){var c=a.wheelDeltaX,p=a.wheelDeltaY;return c==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(c=a.detail),p==null&&a.detail&&a.axis==a.VERTICAL_AXIS?p=a.detail:p==null&&(p=a.wheelDelta),{x:c,y:p}}function fP(a){var c=xk(a);return c.x*=xo,c.y*=xo,c}function Sk(a,c){v&&y==102&&(a.display.chromeScrollHack==null?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null,a.display.sizer.style.pointerEvents=""},100));var p=xk(c),h=p.x,g=p.y,b=xo;c.deltaMode===0&&(h=c.deltaX,g=c.deltaY,b=1);var x=a.display,E=x.scroller,O=E.scrollWidth>E.clientWidth,R=E.scrollHeight>E.clientHeight;if(h&&O||g&&R){if(g&&U&&d){e:for(var Y=c.target,ne=x.view;Y!=E;Y=Y.parentNode)for(var fe=0;fe<ne.length;fe++)if(ne[fe].node==Y){a.display.currentWheelTarget=Y;break e}}if(h&&!i&&!_&&b!=null){g&&R&&dc(a,Math.max(0,E.scrollTop+g*b)),ca(a,Math.max(0,E.scrollLeft+h*b)),(!g||g&&R)&&Kt(c),x.wheelStartX=null;return}if(g&&b!=null){var ae=g*b,we=a.doc.scrollTop,Te=we+x.wrapper.clientHeight;ae<0?we=Math.max(0,we+ae-50):Te=Math.min(a.doc.height,Te+ae+50),_v(a,{top:we,bottom:Te})}Jd<20&&c.deltaMode!==0&&(x.wheelStartX==null?(x.wheelStartX=E.scrollLeft,x.wheelStartY=E.scrollTop,x.wheelDX=h,x.wheelDY=g,setTimeout(function(){if(x.wheelStartX!=null){var Le=E.scrollLeft-x.wheelStartX,Re=E.scrollTop-x.wheelStartY,He=Re&&x.wheelDY&&Re/x.wheelDY||Le&&x.wheelDX&&Le/x.wheelDX;x.wheelStartX=x.wheelStartY=null,He&&(xo=(xo*Jd+He)/(Jd+1),++Jd)}},200)):(x.wheelDX+=h,x.wheelDY+=g))}}var Kr=function(a,c){this.ranges=a,this.primIndex=c};Kr.prototype.primary=function(){return this.ranges[this.primIndex]},Kr.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var p=this.ranges[c],h=a.ranges[c];if(!ft(p.anchor,h.anchor)||!ft(p.head,h.head))return!1}return!0},Kr.prototype.deepCopy=function(){for(var a=[],c=0;c<this.ranges.length;c++)a[c]=new zt(Ot(this.ranges[c].anchor),Ot(this.ranges[c].head));return new Kr(a,this.primIndex)},Kr.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},Kr.prototype.contains=function(a,c){c||(c=a);for(var p=0;p<this.ranges.length;p++){var h=this.ranges[p];if(_e(c,h.from())>=0&&_e(a,h.to())<=0)return p}return-1};var zt=function(a,c){this.anchor=a,this.head=c};zt.prototype.from=function(){return Sn(this.anchor,this.head)},zt.prototype.to=function(){return Nt(this.anchor,this.head)},zt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function xi(a,c,p){var h=a&&a.options.selectionsMayTouch,g=c[p];c.sort(function(fe,ae){return _e(fe.from(),ae.from())}),p=qe(c,g);for(var b=1;b<c.length;b++){var x=c[b],E=c[b-1],O=_e(E.to(),x.from());if(h&&!x.empty()?O>0:O>=0){var R=Sn(E.from(),x.from()),Y=Nt(E.to(),x.to()),ne=E.empty()?x.from()==x.head:E.from()==E.head;b<=p&&--p,c.splice(--b,2,new zt(ne?Y:R,ne?R:Y))}}return new Kr(c,p)}function us(a,c){return new Kr([new zt(a,c||a)],0)}function cs(a){return a.text?oe(a.from.line+a.text.length-1,G(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function Ck(a,c){if(_e(a,c.from)<0)return a;if(_e(a,c.to)<=0)return cs(c);var p=a.line+c.text.length-(c.to.line-c.from.line)-1,h=a.ch;return a.line==c.to.line&&(h+=cs(c).ch-c.to.ch),oe(p,h)}function Sv(a,c){for(var p=[],h=0;h<a.sel.ranges.length;h++){var g=a.sel.ranges[h];p.push(new zt(Ck(g.anchor,c),Ck(g.head,c)))}return xi(a.cm,p,a.sel.primIndex)}function Tk(a,c,p){return a.line==c.line?oe(p.line,a.ch-c.ch+p.ch):oe(p.line+(a.line-c.line),a.ch)}function dP(a,c,p){for(var h=[],g=oe(a.first,0),b=g,x=0;x<c.length;x++){var E=c[x],O=Tk(E.from,g,b),R=Tk(cs(E),g,b);if(g=E.to,b=R,p=="around"){var Y=a.sel.ranges[x],ne=_e(Y.head,Y.anchor)<0;h[x]=new zt(ne?R:O,ne?O:R)}else h[x]=new zt(O,O)}return new Kr(h,a.sel.primIndex)}function Cv(a){a.doc.mode=vo(a.options,a.doc.modeOption),vc(a)}function vc(a){a.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,mc(a,100),a.state.modeGen++,a.curOp&&pr(a)}function Ek(a,c){return c.from.ch==0&&c.to.ch==0&&G(c.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Tv(a,c,p,h){function g(He){return p?p[He]:null}function b(He,ze,We){_N(He,ze,We,h),On(He,"change",He,c)}function x(He,ze){for(var We=[],nt=He;nt<ze;++nt)We.push(new kl(R[nt],g(nt),h));return We}var E=c.from,O=c.to,R=c.text,Y=Ge(a,E.line),ne=Ge(a,O.line),fe=G(R),ae=g(R.length-1),we=O.line-E.line;if(c.full)a.insert(0,x(0,R.length)),a.remove(R.length,a.size-R.length);else if(Ek(a,c)){var Te=x(0,R.length-1);b(ne,ne.text,ae),we&&a.remove(E.line,we),Te.length&&a.insert(E.line,Te)}else if(Y==ne)if(R.length==1)b(Y,Y.text.slice(0,E.ch)+fe+Y.text.slice(O.ch),ae);else{var Le=x(1,R.length-1);Le.push(new kl(fe+Y.text.slice(O.ch),ae,h)),b(Y,Y.text.slice(0,E.ch)+R[0],g(0)),a.insert(E.line+1,Le)}else if(R.length==1)b(Y,Y.text.slice(0,E.ch)+R[0]+ne.text.slice(O.ch),g(0)),a.remove(E.line+1,we);else{b(Y,Y.text.slice(0,E.ch)+R[0],g(0)),b(ne,fe+ne.text.slice(O.ch),ae);var Re=x(1,R.length-1);we>1&&a.remove(E.line+1,we-1),a.insert(E.line+1,Re)}On(a,"change",a,c)}function fs(a,c,p){function h(g,b,x){if(g.linked)for(var E=0;E<g.linked.length;++E){var O=g.linked[E];if(O.doc!=b){var R=x&&O.sharedHist;p&&!R||(c(O.doc,R),h(O.doc,g,R))}}}h(a,null,!0)}function Ak(a,c){if(c.cm)throw new Error("This document is already in use.");a.doc=c,c.cm=a,dv(a),Cv(a),Ok(a),a.options.direction=c.direction,a.options.lineWrapping||tv(a),a.options.mode=c.modeOption,pr(a)}function Ok(a){(a.doc.direction=="rtl"?rt:K)(a.display.lineDiv,"CodeMirror-rtl")}function hP(a){Ar(a,function(){Ok(a),pr(a)})}function Yd(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function Ev(a,c){var p={from:Ot(c.from),to:cs(c),text:bo(a,c.from,c.to)};return Nk(a,p,c.from.line,c.to.line+1),fs(a,function(h){return Nk(h,p,c.from.line,c.to.line+1)},!0),p}function Mk(a){for(;a.length;){var c=G(a);if(c.ranges)a.pop();else break}}function pP(a,c){if(c)return Mk(a.done),G(a.done);if(a.done.length&&!G(a.done).ranges)return G(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),G(a.done)}function Lk(a,c,p,h){var g=a.history;g.undone.length=0;var b=+new Date,x,E;if((g.lastOp==h||g.lastOrigin==c.origin&&c.origin&&(c.origin.charAt(0)=="+"&&g.lastModTime>b-(a.cm?a.cm.options.historyEventDelay:500)||c.origin.charAt(0)=="*"))&&(x=pP(g,g.lastOp==h)))E=G(x.changes),_e(c.from,c.to)==0&&_e(c.from,E.to)==0?E.to=cs(c):x.changes.push(Ev(a,c));else{var O=G(g.done);for((!O||!O.ranges)&&Xd(a.sel,g.done),x={changes:[Ev(a,c)],generation:g.generation},g.done.push(x);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(p),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=b,g.lastOp=g.lastSelOp=h,g.lastOrigin=g.lastSelOrigin=c.origin,E||st(a,"historyAdded")}function mP(a,c,p,h){var g=c.charAt(0);return g=="*"||g=="+"&&p.ranges.length==h.ranges.length&&p.somethingSelected()==h.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function gP(a,c,p,h){var g=a.history,b=h&&h.origin;p==g.lastSelOp||b&&g.lastSelOrigin==b&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==b||mP(a,b,G(g.done),c))?g.done[g.done.length-1]=c:Xd(c,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=b,g.lastSelOp=p,h&&h.clearRedo!==!1&&Mk(g.undone)}function Xd(a,c){var p=G(c);p&&p.ranges&&p.equals(a)||c.push(a)}function Nk(a,c,p,h){var g=c["spans_"+a.id],b=0;a.iter(Math.max(a.first,p),Math.min(a.first+a.size,h),function(x){x.markedSpans&&((g||(g=c["spans_"+a.id]={}))[b]=x.markedSpans),++b})}function vP(a){if(!a)return null;for(var c,p=0;p<a.length;++p)a[p].marker.explicitlyCleared?c||(c=a.slice(0,p)):c&&c.push(a[p]);return c?c.length?c:null:a}function yP(a,c){var p=c["spans_"+a.id];if(!p)return null;for(var h=[],g=0;g<c.text.length;++g)h.push(vP(p[g]));return h}function Pk(a,c){var p=yP(a,c),h=Xg(a,c);if(!p)return h;if(!h)return p;for(var g=0;g<p.length;++g){var b=p[g],x=h[g];if(b&&x)e:for(var E=0;E<x.length;++E){for(var O=x[E],R=0;R<b.length;++R)if(b[R].marker==O.marker)continue e;b.push(O)}else x&&(p[g]=x)}return p}function Ml(a,c,p){for(var h=[],g=0;g<a.length;++g){var b=a[g];if(b.ranges){h.push(p?Kr.prototype.deepCopy.call(b):b);continue}var x=b.changes,E=[];h.push({changes:E});for(var O=0;O<x.length;++O){var R=x[O],Y=void 0;if(E.push({from:R.from,to:R.to,text:R.text}),c)for(var ne in R)(Y=ne.match(/^spans_(\d+)$/))&&qe(c,Number(Y[1]))>-1&&(G(E)[ne]=R[ne],delete R[ne])}}return h}function Av(a,c,p,h){if(h){var g=a.anchor;if(p){var b=_e(c,g)<0;b!=_e(p,g)<0?(g=c,c=p):b!=_e(c,p)<0&&(c=p)}return new zt(g,c)}else return new zt(p||c,c)}function Zd(a,c,p,h,g){g==null&&(g=a.cm&&(a.cm.display.shift||a.extend)),Kn(a,new Kr([Av(a.sel.primary(),c,p,g)],0),h)}function Ik(a,c,p){for(var h=[],g=a.cm&&(a.cm.display.shift||a.extend),b=0;b<a.sel.ranges.length;b++)h[b]=Av(a.sel.ranges[b],c[b],null,g);var x=xi(a.cm,h,a.sel.primIndex);Kn(a,x,p)}function Ov(a,c,p,h){var g=a.sel.ranges.slice(0);g[c]=p,Kn(a,xi(a.cm,g,a.sel.primIndex),h)}function Dk(a,c,p,h){Kn(a,us(c,p),h)}function bP(a,c,p){var h={ranges:c.ranges,update:function(g){this.ranges=[];for(var b=0;b<g.length;b++)this.ranges[b]=new zt(dt(a,g[b].anchor),dt(a,g[b].head))},origin:p&&p.origin};return st(a,"beforeSelectionChange",a,h),a.cm&&st(a.cm,"beforeSelectionChange",a.cm,h),h.ranges!=c.ranges?xi(a.cm,h.ranges,h.ranges.length-1):c}function Rk(a,c,p){var h=a.history.done,g=G(h);g&&g.ranges?(h[h.length-1]=c,Qd(a,c,p)):Kn(a,c,p)}function Kn(a,c,p){Qd(a,c,p),gP(a,a.sel,a.cm?a.cm.curOp.id:NaN,p)}function Qd(a,c,p){(Ut(a,"beforeSelectionChange")||a.cm&&Ut(a.cm,"beforeSelectionChange"))&&(c=bP(a,c,p));var h=p&&p.bias||(_e(c.primary().head,a.sel.primary().head)<0?-1:1);zk(a,$k(a,c,h,!0)),!(p&&p.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&Al(a.cm)}function zk(a,c){c.equals(a.sel)||(a.sel=c,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,hr(a.cm)),On(a,"cursorActivity",a))}function Bk(a){zk(a,$k(a,a.sel,null,!1))}function $k(a,c,p,h){for(var g,b=0;b<c.ranges.length;b++){var x=c.ranges[b],E=c.ranges.length==a.sel.ranges.length&&a.sel.ranges[b],O=eh(a,x.anchor,E&&E.anchor,p,h),R=x.head==x.anchor?O:eh(a,x.head,E&&E.head,p,h);(g||O!=x.anchor||R!=x.head)&&(g||(g=c.ranges.slice(0,b)),g[b]=new zt(O,R))}return g?xi(a.cm,g,c.primIndex):c}function Ll(a,c,p,h,g){var b=Ge(a,c.line);if(b.markedSpans)for(var x=0;x<b.markedSpans.length;++x){var E=b.markedSpans[x],O=E.marker,R="selectLeft"in O?!O.selectLeft:O.inclusiveLeft,Y="selectRight"in O?!O.selectRight:O.inclusiveRight;if((E.from==null||(R?E.from<=c.ch:E.from<c.ch))&&(E.to==null||(Y?E.to>=c.ch:E.to>c.ch))){if(g&&(st(O,"beforeCursorEnter"),O.explicitlyCleared))if(b.markedSpans){--x;continue}else break;if(!O.atomic)continue;if(p){var ne=O.find(h<0?1:-1),fe=void 0;if((h<0?Y:R)&&(ne=Hk(a,ne,-h,ne&&ne.line==c.line?b:null)),ne&&ne.line==c.line&&(fe=_e(ne,p))&&(h<0?fe<0:fe>0))return Ll(a,ne,c,h,g)}var ae=O.find(h<0?-1:1);return(h<0?R:Y)&&(ae=Hk(a,ae,h,ae.line==c.line?b:null)),ae?Ll(a,ae,c,h,g):null}}return c}function eh(a,c,p,h,g){var b=h||1,x=Ll(a,c,p,b,g)||!g&&Ll(a,c,p,b,!0)||Ll(a,c,p,-b,g)||!g&&Ll(a,c,p,-b,!0);return x||(a.cantEdit=!0,oe(a.first,0))}function Hk(a,c,p,h){return p<0&&c.ch==0?c.line>a.first?dt(a,oe(c.line-1)):null:p>0&&c.ch==(h||Ge(a,c.line)).text.length?c.line<a.first+a.size-1?oe(c.line+1,0):null:new oe(c.line,c.ch+p)}function Fk(a){a.setSelection(oe(a.firstLine(),0),oe(a.lastLine()),te)}function Vk(a,c,p){var h={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){return h.canceled=!0}};return p&&(h.update=function(g,b,x,E){g&&(h.from=dt(a,g)),b&&(h.to=dt(a,b)),x&&(h.text=x),E!==void 0&&(h.origin=E)}),st(a,"beforeChange",a,h),a.cm&&st(a.cm,"beforeChange",a.cm,h),h.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:h.from,to:h.to,text:h.text,origin:h.origin}}function Nl(a,c,p){if(a.cm){if(!a.cm.curOp)return Mn(a.cm,Nl)(a,c,p);if(a.cm.state.suppressEdits)return}if(!((Ut(a,"beforeChange")||a.cm&&Ut(a.cm,"beforeChange"))&&(c=Vk(a,c,!0),!c))){var h=Pw&&!p&&gN(a,c.from,c.to);if(h)for(var g=h.length-1;g>=0;--g)jk(a,{from:h[g].from,to:h[g].to,text:g?[""]:c.text,origin:c.origin});else jk(a,c)}}function jk(a,c){if(!(c.text.length==1&&c.text[0]==""&&_e(c.from,c.to)==0)){var p=Sv(a,c);Lk(a,c,p,a.cm?a.cm.curOp.id:NaN),yc(a,c,p,Xg(a,c));var h=[];fs(a,function(g,b){!b&&qe(h,g.history)==-1&&(qk(g.history,c),h.push(g.history)),yc(g,c,null,Xg(g,c))})}}function th(a,c,p){var h=a.cm&&a.cm.state.suppressEdits;if(!(h&&!p)){for(var g=a.history,b,x=a.sel,E=c=="undo"?g.done:g.undone,O=c=="undo"?g.undone:g.done,R=0;R<E.length&&(b=E[R],!(p?b.ranges&&!b.equals(a.sel):!b.ranges));R++);if(R!=E.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(b=E.pop(),b.ranges){if(Xd(b,O),p&&!b.equals(a.sel)){Kn(a,b,{clearRedo:!1});return}x=b}else if(h){E.push(b);return}else break;var Y=[];Xd(x,O),O.push({changes:Y,generation:g.generation}),g.generation=b.generation||++g.maxGeneration;for(var ne=Ut(a,"beforeChange")||a.cm&&Ut(a.cm,"beforeChange"),fe=function(Te){var Le=b.changes[Te];if(Le.origin=c,ne&&!Vk(a,Le,!1))return E.length=0,{};Y.push(Ev(a,Le));var Re=Te?Sv(a,Le):G(E);yc(a,Le,Re,Pk(a,Le)),!Te&&a.cm&&a.cm.scrollIntoView({from:Le.from,to:cs(Le)});var He=[];fs(a,function(ze,We){!We&&qe(He,ze.history)==-1&&(qk(ze.history,Le),He.push(ze.history)),yc(ze,Le,null,Pk(ze,Le))})},ae=b.changes.length-1;ae>=0;--ae){var we=fe(ae);if(we)return we.v}}}}function Wk(a,c){if(c!=0&&(a.first+=c,a.sel=new Kr(J(a.sel.ranges,function(g){return new zt(oe(g.anchor.line+c,g.anchor.ch),oe(g.head.line+c,g.head.ch))}),a.sel.primIndex),a.cm)){pr(a.cm,a.first,a.first-c,c);for(var p=a.cm.display,h=p.viewFrom;h<p.viewTo;h++)as(a.cm,h,"gutter")}}function yc(a,c,p,h){if(a.cm&&!a.cm.curOp)return Mn(a.cm,yc)(a,c,p,h);if(c.to.line<a.first){Wk(a,c.text.length-1-(c.to.line-c.from.line));return}if(!(c.from.line>a.lastLine())){if(c.from.line<a.first){var g=c.text.length-1-(a.first-c.from.line);Wk(a,g),c={from:oe(a.first,0),to:oe(c.to.line+g,c.to.ch),text:[G(c.text)],origin:c.origin}}var b=a.lastLine();c.to.line>b&&(c={from:c.from,to:oe(b,Ge(a,b).text.length),text:[c.text[0]],origin:c.origin}),c.removed=bo(a,c.from,c.to),p||(p=Sv(a,c)),a.cm?_P(a.cm,c,h):Tv(a,c,h),Qd(a,p,te),a.cantEdit&&eh(a,oe(a.firstLine(),0))&&(a.cantEdit=!1)}}function _P(a,c,p){var h=a.doc,g=a.display,b=c.from,x=c.to,E=!1,O=b.line;a.options.lineWrapping||(O=Rt(wi(Ge(h,b.line))),h.iter(O,x.line+1,function(ae){if(ae==g.maxLine)return E=!0,!0})),h.sel.contains(c.from,c.to)>-1&&hr(a),Tv(h,c,p,uk(a)),a.options.lineWrapping||(h.iter(O,b.line+c.text.length,function(ae){var we=Bd(ae);we>g.maxLineLength&&(g.maxLine=ae,g.maxLineLength=we,g.maxLineChanged=!0,E=!1)}),E&&(a.curOp.updateMaxLine=!0)),uN(h,b.line),mc(a,400);var R=c.text.length-(x.line-b.line)-1;c.full?pr(a):b.line==x.line&&c.text.length==1&&!Ek(a.doc,c)?as(a,b.line,"text"):pr(a,b.line,x.line+1,R);var Y=Ut(a,"changes"),ne=Ut(a,"change");if(ne||Y){var fe={from:b,to:x,text:c.text,removed:c.removed,origin:c.origin};ne&&On(a,"change",a,fe),Y&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(fe)}a.display.selForContextMenu=null}function Pl(a,c,p,h,g){var b;h||(h=p),_e(h,p)<0&&(b=[h,p],p=b[0],h=b[1]),typeof c=="string"&&(c=a.splitLines(c)),Nl(a,{from:p,to:h,text:c,origin:g})}function Uk(a,c,p,h){p<a.line?a.line+=h:c<a.line&&(a.line=c,a.ch=0)}function Kk(a,c,p,h){for(var g=0;g<a.length;++g){var b=a[g],x=!0;if(b.ranges){b.copied||(b=a[g]=b.deepCopy(),b.copied=!0);for(var E=0;E<b.ranges.length;E++)Uk(b.ranges[E].anchor,c,p,h),Uk(b.ranges[E].head,c,p,h);continue}for(var O=0;O<b.changes.length;++O){var R=b.changes[O];if(p<R.from.line)R.from=oe(R.from.line+h,R.from.ch),R.to=oe(R.to.line+h,R.to.ch);else if(c<=R.to.line){x=!1;break}}x||(a.splice(0,g+1),g=0)}}function qk(a,c){var p=c.from.line,h=c.to.line,g=c.text.length-(h-p)-1;Kk(a.done,p,h,g),Kk(a.undone,p,h,g)}function bc(a,c,p,h){var g=c,b=c;return typeof c=="number"?b=Ge(a,Ur(a,c)):g=Rt(c),g==null?null:(h(b,g)&&a.cm&&as(a.cm,g,p),b)}function _c(a){this.lines=a,this.parent=null;for(var c=0,p=0;p<a.length;++p)a[p].parent=this,c+=a[p].height;this.height=c}_c.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,c){for(var p=a,h=a+c;p<h;++p){var g=this.lines[p];this.height-=g.height,wN(g),On(g,"delete")}this.lines.splice(a,c)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,c,p){this.height+=p,this.lines=this.lines.slice(0,a).concat(c).concat(this.lines.slice(a));for(var h=0;h<c.length;++h)c[h].parent=this},iterN:function(a,c,p){for(var h=a+c;a<h;++a)if(p(this.lines[a]))return!0}};function wc(a){this.children=a;for(var c=0,p=0,h=0;h<a.length;++h){var g=a[h];c+=g.chunkSize(),p+=g.height,g.parent=this}this.size=c,this.height=p,this.parent=null}wc.prototype={chunkSize:function(){return this.size},removeInner:function(a,c){this.size-=c;for(var p=0;p<this.children.length;++p){var h=this.children[p],g=h.chunkSize();if(a<g){var b=Math.min(c,g-a),x=h.height;if(h.removeInner(a,b),this.height-=x-h.height,g==b&&(this.children.splice(p--,1),h.parent=null),(c-=b)==0)break;a=0}else a-=g}if(this.size-c<25&&(this.children.length>1||!(this.children[0]instanceof _c))){var E=[];this.collapse(E),this.children=[new _c(E)],this.children[0].parent=this}},collapse:function(a){for(var c=0;c<this.children.length;++c)this.children[c].collapse(a)},insertInner:function(a,c,p){this.size+=c.length,this.height+=p;for(var h=0;h<this.children.length;++h){var g=this.children[h],b=g.chunkSize();if(a<=b){if(g.insertInner(a,c,p),g.lines&&g.lines.length>50){for(var x=g.lines.length%25+25,E=x;E<g.lines.length;){var O=new _c(g.lines.slice(E,E+=25));g.height-=O.height,this.children.splice(++h,0,O),O.parent=this}g.lines=g.lines.slice(0,x),this.maybeSpill()}break}a-=b}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var c=a.children.splice(a.children.length-5,5),p=new wc(c);if(a.parent){a.size-=p.size,a.height-=p.height;var g=qe(a.parent.children,a);a.parent.children.splice(g+1,0,p)}else{var h=new wc(a.children);h.parent=a,a.children=[h,p],a=h}p.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,c,p){for(var h=0;h<this.children.length;++h){var g=this.children[h],b=g.chunkSize();if(a<b){var x=Math.min(c,b-a);if(g.iterN(a,x,p))return!0;if((c-=x)==0)break;a=0}else a-=b}}};var kc=function(a,c,p){if(p)for(var h in p)p.hasOwnProperty(h)&&(this[h]=p[h]);this.doc=a,this.node=c};kc.prototype.clear=function(){var a=this.doc.cm,c=this.line.widgets,p=this.line,h=Rt(p);if(!(h==null||!c)){for(var g=0;g<c.length;++g)c[g]==this&&c.splice(g--,1);c.length||(p.widgets=null);var b=lc(this);oi(p,Math.max(0,p.height-b)),a&&(Ar(a,function(){Gk(a,p,-b),as(a,h,"widget")}),On(a,"lineWidgetCleared",a,this,h))}},kc.prototype.changed=function(){var a=this,c=this.height,p=this.doc.cm,h=this.line;this.height=null;var g=lc(this)-c;g&&(ss(this.doc,h)||oi(h,h.height+g),p&&Ar(p,function(){p.curOp.forceUpdate=!0,Gk(p,h,g),On(p,"lineWidgetChanged",p,a,Rt(h))}))},Xt(kc);function Gk(a,c,p){wo(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&yv(a,p)}function wP(a,c,p,h){var g=new kc(a,p,h),b=a.cm;return b&&g.noHScroll&&(b.display.alignWidgets=!0),bc(a,c,"widget",function(x){var E=x.widgets||(x.widgets=[]);if(g.insertAt==null?E.push(g):E.splice(Math.min(E.length,Math.max(0,g.insertAt)),0,g),g.line=x,b&&!ss(a,x)){var O=wo(x)<a.scrollTop;oi(x,x.height+lc(g)),O&&yv(b,g.height),b.curOp.forceUpdate=!0}return!0}),b&&On(b,"lineWidgetAdded",b,g,typeof c=="number"?c:Rt(c)),g}var Jk=0,ds=function(a,c){this.lines=[],this.type=c,this.doc=a,this.id=++Jk};ds.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,c=a&&!a.curOp;if(c&&da(a),Ut(this,"clear")){var p=this.find();p&&On(this,"clear",p.from,p.to)}for(var h=null,g=null,b=0;b<this.lines.length;++b){var x=this.lines[b],E=oc(x.markedSpans,this);a&&!this.collapsed?as(a,Rt(x),"text"):a&&(E.to!=null&&(g=Rt(x)),E.from!=null&&(h=Rt(x))),x.markedSpans=dN(x.markedSpans,E),E.from==null&&this.collapsed&&!ss(this.doc,x)&&a&&oi(x,Cl(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var O=0;O<this.lines.length;++O){var R=wi(this.lines[O]),Y=Bd(R);Y>a.display.maxLineLength&&(a.display.maxLine=R,a.display.maxLineLength=Y,a.display.maxLineChanged=!0)}h!=null&&a&&this.collapsed&&pr(a,h,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Bk(a.doc)),a&&On(a,"markerCleared",a,this,h,g),c&&ha(a),this.parent&&this.parent.clear()}},ds.prototype.find=function(a,c){a==null&&this.type=="bookmark"&&(a=1);for(var p,h,g=0;g<this.lines.length;++g){var b=this.lines[g],x=oc(b.markedSpans,this);if(x.from!=null&&(p=oe(c?b:Rt(b),x.from),a==-1))return p;if(x.to!=null&&(h=oe(c?b:Rt(b),x.to),a==1))return h}return p&&{from:p,to:h}},ds.prototype.changed=function(){var a=this,c=this.find(-1,!0),p=this,h=this.doc.cm;!c||!h||Ar(h,function(){var g=c.line,b=Rt(c.line),x=ov(h,b);if(x&&(tk(x),h.curOp.selectionChanged=h.curOp.forceUpdate=!0),h.curOp.updateMaxLine=!0,!ss(p.doc,g)&&p.height!=null){var E=p.height;p.height=null;var O=lc(p)-E;O&&oi(g,g.height+O)}On(h,"markerChanged",h,a)})},ds.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(!c.maybeHiddenMarkers||qe(c.maybeHiddenMarkers,this)==-1)&&(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},ds.prototype.detachLine=function(a){if(this.lines.splice(qe(this.lines,a),1),!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this)}},Xt(ds);function Il(a,c,p,h,g){if(h&&h.shared)return kP(a,c,p,h,g);if(a.cm&&!a.cm.curOp)return Mn(a.cm,Il)(a,c,p,h,g);var b=new ds(a,g),x=_e(c,p);if(h&&Ie(h,b,!1),x>0||x==0&&b.clearWhenEmpty!==!1)return b;if(b.replacedWith&&(b.collapsed=!0,b.widgetNode=ce("span",[b.replacedWith],"CodeMirror-widget"),h.handleMouseEvents||b.widgetNode.setAttribute("cm-ignore-events","true"),h.insertLeft&&(b.widgetNode.insertLeft=!0)),b.collapsed){if($w(a,c.line,c,p,b)||c.line!=p.line&&$w(a,p.line,c,p,b))throw new Error("Inserting collapsed marker partially overlapping an existing one");fN()}b.addToHistory&&Lk(a,{from:c,to:p,origin:"markText"},a.sel,NaN);var E=c.line,O=a.cm,R;if(a.iter(E,p.line+1,function(ne){O&&b.collapsed&&!O.options.lineWrapping&&wi(ne)==O.display.maxLine&&(R=!0),b.collapsed&&E!=c.line&&oi(ne,0),hN(ne,new Id(b,E==c.line?c.ch:null,E==p.line?p.ch:null),a.cm&&a.cm.curOp),++E}),b.collapsed&&a.iter(c.line,p.line+1,function(ne){ss(a,ne)&&oi(ne,0)}),b.clearOnEnter&&ve(b,"beforeCursorEnter",function(){return b.clear()}),b.readOnly&&(cN(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),b.collapsed&&(b.id=++Jk,b.atomic=!0),O){if(R&&(O.curOp.updateMaxLine=!0),b.collapsed)pr(O,c.line,p.line+1);else if(b.className||b.startStyle||b.endStyle||b.css||b.attributes||b.title)for(var Y=c.line;Y<=p.line;Y++)as(O,Y,"text");b.atomic&&Bk(O.doc),On(O,"markerAdded",O,b)}return b}var xc=function(a,c){this.markers=a,this.primary=c;for(var p=0;p<a.length;++p)a[p].parent=this};xc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();On(this,"clear")}},xc.prototype.find=function(a,c){return this.primary.find(a,c)},Xt(xc);function kP(a,c,p,h,g){h=Ie(h),h.shared=!1;var b=[Il(a,c,p,h,g)],x=b[0],E=h.widgetNode;return fs(a,function(O){E&&(h.widgetNode=E.cloneNode(!0)),b.push(Il(O,dt(O,c),dt(O,p),h,g));for(var R=0;R<O.linked.length;++R)if(O.linked[R].isParent)return;x=G(b)}),new xc(b,x)}function Yk(a){return a.findMarks(oe(a.first,0),a.clipPos(oe(a.lastLine())),function(c){return c.parent})}function xP(a,c){for(var p=0;p<c.length;p++){var h=c[p],g=h.find(),b=a.clipPos(g.from),x=a.clipPos(g.to);if(_e(b,x)){var E=Il(a,b,x,h.primary,h.primary.type);h.markers.push(E),E.parent=h}}}function SP(a){for(var c=function(h){var g=a[h],b=[g.primary.doc];fs(g.primary.doc,function(O){return b.push(O)});for(var x=0;x<g.markers.length;x++){var E=g.markers[x];qe(b,E.doc)==-1&&(E.parent=null,g.markers.splice(x--,1))}},p=0;p<a.length;p++)c(p)}var CP=0,mr=function(a,c,p,h,g){if(!(this instanceof mr))return new mr(a,c,p,h,g);p==null&&(p=0),wc.call(this,[new _c([new kl("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var b=oe(p,0);this.sel=us(b),this.history=new Yd(null),this.id=++CP,this.modeOption=c,this.lineSep=h,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),Tv(this,{from:b,to:b,text:a}),Kn(this,us(b),te)};mr.prototype=N(wc.prototype,{constructor:mr,iter:function(a,c,p){p?this.iterN(a-this.first,c-a,p):this.iterN(this.first,this.first+this.size,a)},insert:function(a,c){for(var p=0,h=0;h<c.length;++h)p+=c[h].height;this.insertInner(a-this.first,c,p)},remove:function(a,c){this.removeInner(a-this.first,c)},getValue:function(a){var c=wl(this,this.first,this.first+this.size);return a===!1?c:c.join(a||this.lineSeparator())},setValue:Ln(function(a){var c=oe(this.first,0),p=this.first+this.size-1;Nl(this,{from:c,to:oe(p,Ge(this,p).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&fc(this.cm,0,0),Kn(this,us(c),te)}),replaceRange:function(a,c,p,h){c=dt(this,c),p=p?dt(this,p):c,Pl(this,a,c,p,h)},getRange:function(a,c,p){var h=bo(this,dt(this,a),dt(this,c));return p===!1?h:p===""?h.join(""):h.join(p||this.lineSeparator())},getLine:function(a){var c=this.getLineHandle(a);return c&&c.text},getLineHandle:function(a){if(F(this,a))return Ge(this,a)},getLineNumber:function(a){return Rt(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=Ge(this,a)),wi(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return dt(this,a)},getCursor:function(a){var c=this.sel.primary(),p;return a==null||a=="head"?p=c.head:a=="anchor"?p=c.anchor:a=="end"||a=="to"||a===!1?p=c.to():p=c.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ln(function(a,c,p){Dk(this,dt(this,typeof a=="number"?oe(a,c||0):a),null,p)}),setSelection:Ln(function(a,c,p){Dk(this,dt(this,a),dt(this,c||a),p)}),extendSelection:Ln(function(a,c,p){Zd(this,dt(this,a),c&&dt(this,c),p)}),extendSelections:Ln(function(a,c){Ik(this,Cw(this,a),c)}),extendSelectionsBy:Ln(function(a,c){var p=J(this.sel.ranges,a);Ik(this,Cw(this,p),c)}),setSelections:Ln(function(a,c,p){if(a.length){for(var h=[],g=0;g<a.length;g++)h[g]=new zt(dt(this,a[g].anchor),dt(this,a[g].head||a[g].anchor));c==null&&(c=Math.min(a.length-1,this.sel.primIndex)),Kn(this,xi(this.cm,h,c),p)}}),addSelection:Ln(function(a,c,p){var h=this.sel.ranges.slice(0);h.push(new zt(dt(this,a),dt(this,c||a))),Kn(this,xi(this.cm,h,h.length-1),p)}),getSelection:function(a){for(var c=this.sel.ranges,p,h=0;h<c.length;h++){var g=bo(this,c[h].from(),c[h].to());p=p?p.concat(g):g}return a===!1?p:p.join(a||this.lineSeparator())},getSelections:function(a){for(var c=[],p=this.sel.ranges,h=0;h<p.length;h++){var g=bo(this,p[h].from(),p[h].to());a!==!1&&(g=g.join(a||this.lineSeparator())),c[h]=g}return c},replaceSelection:function(a,c,p){for(var h=[],g=0;g<this.sel.ranges.length;g++)h[g]=a;this.replaceSelections(h,c,p||"+input")},replaceSelections:Ln(function(a,c,p){for(var h=[],g=this.sel,b=0;b<g.ranges.length;b++){var x=g.ranges[b];h[b]={from:x.from(),to:x.to(),text:this.splitLines(a[b]),origin:p}}for(var E=c&&c!="end"&&dP(this,h,c),O=h.length-1;O>=0;O--)Nl(this,h[O]);E?Rk(this,E):this.cm&&Al(this.cm)}),undo:Ln(function(){th(this,"undo")}),redo:Ln(function(){th(this,"redo")}),undoSelection:Ln(function(){th(this,"undo",!0)}),redoSelection:Ln(function(){th(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,c=0,p=0,h=0;h<a.done.length;h++)a.done[h].ranges||++c;for(var g=0;g<a.undone.length;g++)a.undone[g].ranges||++p;return{undo:c,redo:p}},clearHistory:function(){var a=this;this.history=new Yd(this.history),fs(this,function(c){return c.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Ml(this.history.done),undone:Ml(this.history.undone)}},setHistory:function(a){var c=this.history=new Yd(this.history);c.done=Ml(a.done.slice(0),null,!0),c.undone=Ml(a.undone.slice(0),null,!0)},setGutterMarker:Ln(function(a,c,p){return bc(this,a,"gutter",function(h){var g=h.gutterMarkers||(h.gutterMarkers={});return g[c]=p,!p&&ue(g)&&(h.gutterMarkers=null),!0})}),clearGutter:Ln(function(a){var c=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[a]&&bc(c,p,"gutter",function(){return p.gutterMarkers[a]=null,ue(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(a){var c;if(typeof a=="number"){if(!F(this,a)||(c=a,a=Ge(this,a),!a))return null}else if(c=Rt(a),c==null)return null;return{line:c,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Ln(function(a,c,p){return bc(this,a,c=="gutter"?"gutter":"class",function(h){var g=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass";if(!h[g])h[g]=p;else{if(D(p).test(h[g]))return!1;h[g]+=" "+p}return!0})}),removeLineClass:Ln(function(a,c,p){return bc(this,a,c=="gutter"?"gutter":"class",function(h){var g=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass",b=h[g];if(b)if(p==null)h[g]=null;else{var x=b.match(D(p));if(!x)return!1;var E=x.index+x[0].length;h[g]=b.slice(0,x.index)+(!x.index||E==b.length?"":" ")+b.slice(E)||null}else return!1;return!0})}),addLineWidget:Ln(function(a,c,p){return wP(this,a,c,p)}),removeLineWidget:function(a){a.clear()},markText:function(a,c,p){return Il(this,dt(this,a),dt(this,c),p,p&&p.type||"range")},setBookmark:function(a,c){var p={replacedWith:c&&(c.nodeType==null?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};return a=dt(this,a),Il(this,a,a,p,"bookmark")},findMarksAt:function(a){a=dt(this,a);var c=[],p=Ge(this,a.line).markedSpans;if(p)for(var h=0;h<p.length;++h){var g=p[h];(g.from==null||g.from<=a.ch)&&(g.to==null||g.to>=a.ch)&&c.push(g.marker.parent||g.marker)}return c},findMarks:function(a,c,p){a=dt(this,a),c=dt(this,c);var h=[],g=a.line;return this.iter(a.line,c.line+1,function(b){var x=b.markedSpans;if(x)for(var E=0;E<x.length;E++){var O=x[E];!(O.to!=null&&g==a.line&&a.ch>=O.to||O.from==null&&g!=a.line||O.from!=null&&g==c.line&&O.from>=c.ch)&&(!p||p(O.marker))&&h.push(O.marker.parent||O.marker)}++g}),h},getAllMarks:function(){var a=[];return this.iter(function(c){var p=c.markedSpans;if(p)for(var h=0;h<p.length;++h)p[h].from!=null&&a.push(p[h].marker)}),a},posFromIndex:function(a){var c,p=this.first,h=this.lineSeparator().length;return this.iter(function(g){var b=g.text.length+h;if(b>a)return c=a,!0;a-=b,++p}),dt(this,oe(p,c))},indexFromPos:function(a){a=dt(this,a);var c=a.ch;if(a.line<this.first||a.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,a.line,function(h){c+=h.text.length+p}),c},copy:function(a){var c=new mr(wl(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return c.scrollTop=this.scrollTop,c.scrollLeft=this.scrollLeft,c.sel=this.sel,c.extend=!1,a&&(c.history.undoDepth=this.history.undoDepth,c.setHistory(this.getHistory())),c},linkedDoc:function(a){a||(a={});var c=this.first,p=this.first+this.size;a.from!=null&&a.from>c&&(c=a.from),a.to!=null&&a.to<p&&(p=a.to);var h=new mr(wl(this,c,p),a.mode||this.modeOption,c,this.lineSep,this.direction);return a.sharedHist&&(h.history=this.history),(this.linked||(this.linked=[])).push({doc:h,sharedHist:a.sharedHist}),h.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],xP(h,Yk(this)),h},unlinkDoc:function(a){if(a instanceof Qt&&(a=a.doc),this.linked)for(var c=0;c<this.linked.length;++c){var p=this.linked[c];if(p.doc==a){this.linked.splice(c,1),a.unlinkDoc(this),SP(Yk(this));break}}if(a.history==this.history){var h=[a.id];fs(a,function(g){return h.push(g.id)},!0),a.history=new Yd(null),a.history.done=Ml(this.history.done,h),a.history.undone=Ml(this.history.undone,h)}},iterLinkedDocs:function(a){fs(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):nc(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Ln(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(c){return c.order=null}),this.cm&&hP(this.cm))})}),mr.prototype.eachLine=mr.prototype.iter;var Xk=0;function TP(a){var c=this;if(Zk(c),!(Ct(c,a)||ko(c.display,a))){Kt(a),u&&(Xk=+new Date);var p=la(c,a,!0),h=a.dataTransfer.files;if(!(!p||c.isReadOnly()))if(h&&h.length&&window.FileReader&&window.File)for(var g=h.length,b=Array(g),x=0,E=function(){++x==g&&Mn(c,function(){p=dt(c.doc,p);var ae={from:p,to:p,text:c.doc.splitLines(b.filter(function(we){return we!=null}).join(c.doc.lineSeparator())),origin:"paste"};Nl(c.doc,ae),Rk(c.doc,us(dt(c.doc,p),dt(c.doc,cs(ae))))})()},O=function(ae,we){if(c.options.allowDropFileTypes&&qe(c.options.allowDropFileTypes,ae.type)==-1){E();return}var Te=new FileReader;Te.onerror=function(){return E()},Te.onload=function(){var Le=Te.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Le)){E();return}b[we]=Le,E()},Te.readAsText(ae)},R=0;R<h.length;R++)O(h[R],R);else{if(c.state.draggingText&&c.doc.sel.contains(p)>-1){c.state.draggingText(a),setTimeout(function(){return c.display.input.focus()},20);return}try{var Y=a.dataTransfer.getData("Text");if(Y){var ne;if(c.state.draggingText&&!c.state.draggingText.copy&&(ne=c.listSelections()),Qd(c.doc,us(p,p)),ne)for(var fe=0;fe<ne.length;++fe)Pl(c.doc,"",ne[fe].anchor,ne[fe].head,"drag");c.replaceSelection(Y,"around","paste"),c.display.input.focus()}}catch{}}}}function EP(a,c){if(u&&(!a.state.draggingText||+new Date-Xk<100)){Wr(c);return}if(!(Ct(a,c)||ko(a.display,c))&&(c.dataTransfer.setData("Text",a.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!T)){var p=I("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_&&(p.width=p.height=1,a.display.wrapper.appendChild(p),p._top=p.offsetTop),c.dataTransfer.setDragImage(p,0,0),_&&p.parentNode.removeChild(p)}}function AP(a,c){var p=la(a,c);if(p){var h=document.createDocumentFragment();hv(a,p,h),a.display.dragCursor||(a.display.dragCursor=I("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),Q(a.display.dragCursor,h)}}function Zk(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Qk(a){if(document.getElementsByClassName){for(var c=document.getElementsByClassName("CodeMirror"),p=[],h=0;h<c.length;h++){var g=c[h].CodeMirror;g&&p.push(g)}p.length&&p[0].operation(function(){for(var b=0;b<p.length;b++)a(p[b])})}}var ex=!1;function OP(){ex||(MP(),ex=!0)}function MP(){var a;ve(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,Qk(LP)},100))}),ve(window,"blur",function(){return Qk(El)})}function LP(a){var c=a.display;c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.scrollbarsClipped=!1,a.setSize()}for(var hs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Sc=0;Sc<10;Sc++)hs[Sc+48]=hs[Sc+96]=String(Sc);for(var nh=65;nh<=90;nh++)hs[nh]=String.fromCharCode(nh);for(var Cc=1;Cc<=12;Cc++)hs[Cc+111]=hs[Cc+63235]="F"+Cc;var So={};So.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},So.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},So.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},So.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},So.default=U?So.macDefault:So.pcDefault;function NP(a){var c=a.split(/-(?!$)/);a=c[c.length-1];for(var p,h,g,b,x=0;x<c.length-1;x++){var E=c[x];if(/^(cmd|meta|m)$/i.test(E))b=!0;else if(/^a(lt)?$/i.test(E))p=!0;else if(/^(c|ctrl|control)$/i.test(E))h=!0;else if(/^s(hift)?$/i.test(E))g=!0;else throw new Error("Unrecognized modifier name: "+E)}return p&&(a="Alt-"+a),h&&(a="Ctrl-"+a),b&&(a="Cmd-"+a),g&&(a="Shift-"+a),a}function PP(a){var c={};for(var p in a)if(a.hasOwnProperty(p)){var h=a[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(h=="..."){delete a[p];continue}for(var g=J(p.split(" "),NP),b=0;b<g.length;b++){var x=void 0,E=void 0;b==g.length-1?(E=g.join(" "),x=h):(E=g.slice(0,b+1).join(" "),x="...");var O=c[E];if(!O)c[E]=x;else if(O!=x)throw new Error("Inconsistent bindings for "+E)}delete a[p]}for(var R in c)a[R]=c[R];return a}function Dl(a,c,p,h){c=rh(c);var g=c.call?c.call(a,h):c[a];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&p(g))return"handled";if(c.fallthrough){if(Object.prototype.toString.call(c.fallthrough)!="[object Array]")return Dl(a,c.fallthrough,p,h);for(var b=0;b<c.fallthrough.length;b++){var x=Dl(a,c.fallthrough[b],p,h);if(x)return x}}}function tx(a){var c=typeof a=="string"?a:hs[a.keyCode];return c=="Ctrl"||c=="Alt"||c=="Shift"||c=="Mod"}function nx(a,c,p){var h=a;return c.altKey&&h!="Alt"&&(a="Alt-"+a),(B?c.metaKey:c.ctrlKey)&&h!="Ctrl"&&(a="Ctrl-"+a),(B?c.ctrlKey:c.metaKey)&&h!="Mod"&&(a="Cmd-"+a),!p&&c.shiftKey&&h!="Shift"&&(a="Shift-"+a),a}function rx(a,c){if(_&&a.keyCode==34&&a.char)return!1;var p=hs[a.keyCode];return p==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(p=a.code),nx(p,a,c))}function rh(a){return typeof a=="string"?So[a]:a}function Rl(a,c){for(var p=a.doc.sel.ranges,h=[],g=0;g<p.length;g++){for(var b=c(p[g]);h.length&&_e(b.from,G(h).to)<=0;){var x=h.pop();if(_e(x.from,b.from)<0){b.from=x.from;break}}h.push(b)}Ar(a,function(){for(var E=h.length-1;E>=0;E--)Pl(a.doc,"",h[E].from,h[E].to,"+delete");Al(a)})}function Mv(a,c,p){var h=X(a.text,c+p,p);return h<0||h>a.text.length?null:h}function Lv(a,c,p){var h=Mv(a,c.ch,p);return h==null?null:new oe(c.line,h,p<0?"after":"before")}function Nv(a,c,p,h,g){if(a){c.doc.direction=="rtl"&&(g=-g);var b=Ee(p,c.doc.direction);if(b){var x=g<0?G(b):b[0],E=g<0==(x.level==1),O=E?"after":"before",R;if(x.level>0||c.doc.direction=="rtl"){var Y=Sl(c,p);R=g<0?p.text.length-1:0;var ne=qi(c,Y,R).top;R=Z(function(fe){return qi(c,Y,fe).top==ne},g<0==(x.level==1)?x.from:x.to-1,R),O=="before"&&(R=Mv(p,R,1))}else R=g<0?x.to:x.from;return new oe(h,R,O)}}return new oe(h,g<0?p.text.length:0,g<0?"before":"after")}function IP(a,c,p,h){var g=Ee(c,a.doc.direction);if(!g)return Lv(c,p,h);p.ch>=c.text.length?(p.ch=c.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var b=Ve(g,p.ch,p.sticky),x=g[b];if(a.doc.direction=="ltr"&&x.level%2==0&&(h>0?x.to>p.ch:x.from<p.ch))return Lv(c,p,h);var E=function(Re,He){return Mv(c,Re instanceof oe?Re.ch:Re,He)},O,R=function(Re){return a.options.lineWrapping?(O=O||Sl(a,c),lk(a,c,O,Re)):{begin:0,end:c.text.length}},Y=R(p.sticky=="before"?E(p,-1):p.ch);if(a.doc.direction=="rtl"||x.level==1){var ne=x.level==1==h<0,fe=E(p,ne?1:-1);if(fe!=null&&(ne?fe<=x.to&&fe<=Y.end:fe>=x.from&&fe>=Y.begin)){var ae=ne?"before":"after";return new oe(p.line,fe,ae)}}var we=function(Re,He,ze){for(var We=function(qt,Nn){return Nn?new oe(p.line,E(qt,1),"before"):new oe(p.line,qt,"after")};Re>=0&&Re<g.length;Re+=He){var nt=g[Re],et=He>0==(nt.level!=1),xt=et?ze.begin:E(ze.end,-1);if(nt.from<=xt&&xt<nt.to||(xt=et?nt.from:E(nt.to,-1),ze.begin<=xt&&xt<ze.end))return We(xt,et)}},Te=we(b+h,h,Y);if(Te)return Te;var Le=h>0?Y.end:E(Y.begin,-1);return Le!=null&&!(h>0&&Le==c.text.length)&&(Te=we(h>0?0:g.length-1,h,R(Le)),Te)?Te:null}var Tc={selectAll:Fk,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),te)},killLine:function(a){return Rl(a,function(c){if(c.empty()){var p=Ge(a.doc,c.head.line).text.length;return c.head.ch==p&&c.head.line<a.lastLine()?{from:c.head,to:oe(c.head.line+1,0)}:{from:c.head,to:oe(c.head.line,p)}}else return{from:c.from(),to:c.to()}})},deleteLine:function(a){return Rl(a,function(c){return{from:oe(c.from().line,0),to:dt(a.doc,oe(c.to().line+1,0))}})},delLineLeft:function(a){return Rl(a,function(c){return{from:oe(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(a){return Rl(a,function(c){var p=a.charCoords(c.head,"div").top+5,h=a.coordsChar({left:0,top:p},"div");return{from:h,to:c.from()}})},delWrappedLineRight:function(a){return Rl(a,function(c){var p=a.charCoords(c.head,"div").top+5,h=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div");return{from:c.from(),to:h}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(oe(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(oe(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(c){return ix(a,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(c){return ox(a,c.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(c){return DP(a,c.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(c){var p=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div")},le)},goLineLeft:function(a){return a.extendSelectionsBy(function(c){var p=a.cursorCoords(c.head,"div").top+5;return a.coordsChar({left:0,top:p},"div")},le)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(c){var p=a.cursorCoords(c.head,"div").top+5,h=a.coordsChar({left:0,top:p},"div");return h.ch<a.getLine(h.line).search(/\S/)?ox(a,c.head):h},le)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var c=[],p=a.listSelections(),h=a.options.tabSize,g=0;g<p.length;g++){var b=p[g].from(),x=$e(a.getLine(b.line),b.ch,h);c.push(Ce(h-x%h))}a.replaceSelections(c)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Ar(a,function(){for(var c=a.listSelections(),p=[],h=0;h<c.length;h++)if(c[h].empty()){var g=c[h].head,b=Ge(a.doc,g.line).text;if(b){if(g.ch==b.length&&(g=new oe(g.line,g.ch-1)),g.ch>0)g=new oe(g.line,g.ch+1),a.replaceRange(b.charAt(g.ch-1)+b.charAt(g.ch-2),oe(g.line,g.ch-2),g,"+transpose");else if(g.line>a.doc.first){var x=Ge(a.doc,g.line-1).text;x&&(g=new oe(g.line,1),a.replaceRange(b.charAt(0)+a.doc.lineSeparator()+x.charAt(x.length-1),oe(g.line-1,x.length-1),g,"+transpose"))}}p.push(new zt(g,g))}a.setSelections(p)})},newlineAndIndent:function(a){return Ar(a,function(){for(var c=a.listSelections(),p=c.length-1;p>=0;p--)a.replaceRange(a.doc.lineSeparator(),c[p].anchor,c[p].head,"+input");c=a.listSelections();for(var h=0;h<c.length;h++)a.indentLine(c[h].from().line,null,!0);Al(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function ix(a,c){var p=Ge(a.doc,c),h=wi(p);return h!=p&&(c=Rt(h)),Nv(!0,a,h,c,1)}function DP(a,c){var p=Ge(a.doc,c),h=yN(p);return h!=p&&(c=Rt(h)),Nv(!0,a,p,c,-1)}function ox(a,c){var p=ix(a,c.line),h=Ge(a.doc,p.line),g=Ee(h,a.doc.direction);if(!g||g[0].level==0){var b=Math.max(p.ch,h.text.search(/\S/)),x=c.line==p.line&&c.ch<=b&&c.ch;return oe(p.line,x?0:b,p.sticky)}return p}function ih(a,c,p){if(typeof c=="string"&&(c=Tc[c],!c))return!1;a.display.input.ensurePolled();var h=a.display.shift,g=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),p&&(a.display.shift=!1),g=c(a)!=je}finally{a.display.shift=h,a.state.suppressEdits=!1}return g}function RP(a,c,p){for(var h=0;h<a.state.keyMaps.length;h++){var g=Dl(c,a.state.keyMaps[h],p,a);if(g)return g}return a.options.extraKeys&&Dl(c,a.options.extraKeys,p,a)||Dl(c,a.options.keyMap,p,a)}var zP=new Ae;function Ec(a,c,p,h){var g=a.state.keySeq;if(g){if(tx(c))return"handled";if(/\'$/.test(c)?a.state.keySeq=null:zP.set(50,function(){a.state.keySeq==g&&(a.state.keySeq=null,a.display.input.reset())}),sx(a,g+" "+c,p,h))return!0}return sx(a,c,p,h)}function sx(a,c,p,h){var g=RP(a,c,h);return g=="multi"&&(a.state.keySeq=c),g=="handled"&&On(a,"keyHandled",a,c,p),(g=="handled"||g=="multi")&&(Kt(p),pv(a)),!!g}function ax(a,c){var p=rx(c,!0);return p?c.shiftKey&&!a.state.keySeq?Ec(a,"Shift-"+p,c,function(h){return ih(a,h,!0)})||Ec(a,p,c,function(h){if(typeof h=="string"?/^go[A-Z]/.test(h):h.motion)return ih(a,h)}):Ec(a,p,c,function(h){return ih(a,h)}):!1}function BP(a,c,p){return Ec(a,"'"+p+"'",c,function(h){return ih(a,h,!0)})}var Pv=null;function lx(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField())&&(c.curOp.focus=Be(bt(c)),!Ct(c,a))){u&&f<11&&a.keyCode==27&&(a.returnValue=!1);var p=a.keyCode;c.display.shift=p==16||a.shiftKey;var h=ax(c,a);_&&(Pv=h?p:null,!h&&p==88&&!Vi&&(U?a.metaKey:a.ctrlKey)&&c.replaceSelection("",null,"cut")),i&&!U&&!h&&p==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)&&$P(c)}}function $P(a){var c=a.display.lineDiv;rt(c,"CodeMirror-crosshair");function p(h){(h.keyCode==18||!h.altKey)&&(K(c,"CodeMirror-crosshair"),ct(document,"keyup",p),ct(document,"mouseover",p))}ve(document,"keyup",p),ve(document,"mouseover",p)}function ux(a){a.keyCode==16&&(this.doc.sel.shift=!1),Ct(this,a)}function cx(a){var c=this;if(!(a.target&&a.target!=c.display.input.getField())&&!(ko(c.display,a)||Ct(c,a)||a.ctrlKey&&!a.altKey||U&&a.metaKey)){var p=a.keyCode,h=a.charCode;if(_&&p==Pv){Pv=null,Kt(a);return}if(!(_&&(!a.which||a.which<10)&&ax(c,a))){var g=String.fromCharCode(h??p);g!="\b"&&(BP(c,a,g)||c.display.input.onKeyPress(a))}}}var HP=400,Iv=function(a,c,p){this.time=a,this.pos=c,this.button=p};Iv.prototype.compare=function(a,c,p){return this.time+HP>a&&_e(c,this.pos)==0&&p==this.button};var Ac,Oc;function FP(a,c){var p=+new Date;return Oc&&Oc.compare(p,a,c)?(Ac=Oc=null,"triple"):Ac&&Ac.compare(p,a,c)?(Oc=new Iv(p,a,c),Ac=null,"double"):(Ac=new Iv(p,a,c),Oc=null,"single")}function fx(a){var c=this,p=c.display;if(!(Ct(c,a)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=a.shiftKey,ko(p,a)){d||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!Dv(c,a)){var h=la(c,a),g=tc(a),b=h?FP(h,g):"single";gt(c).focus(),g==1&&c.state.selectingText&&c.state.selectingText(a),!(h&&VP(c,g,h,b,a))&&(g==1?h?WP(c,h,b,a):xn(a)==p.scroller&&Kt(a):g==2?(h&&Zd(c.doc,h),setTimeout(function(){return p.input.focus()},20)):g==3&&(k?c.display.input.onContextMenu(a):mv(c)))}}}function VP(a,c,p,h,g){var b="Click";return h=="double"?b="Double"+b:h=="triple"&&(b="Triple"+b),b=(c==1?"Left":c==2?"Middle":"Right")+b,Ec(a,nx(b,g),g,function(x){if(typeof x=="string"&&(x=Tc[x]),!x)return!1;var E=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),E=x(a,p)!=je}finally{a.state.suppressEdits=!1}return E})}function jP(a,c,p){var h=a.getOption("configureMouse"),g=h?h(a,c,p):{};if(g.unit==null){var b=z?p.shiftKey&&p.metaKey:p.altKey;g.unit=b?"rectangle":c=="single"?"char":c=="double"?"word":"line"}return(g.extend==null||a.doc.extend)&&(g.extend=a.doc.extend||p.shiftKey),g.addNew==null&&(g.addNew=U?p.metaKey:p.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(U?p.altKey:p.ctrlKey)),g}function WP(a,c,p,h){u?setTimeout(Ye(dk,a),0):a.curOp.focus=Be(bt(a));var g=jP(a,p,h),b=a.doc.sel,x;a.options.dragDrop&&qg&&!a.isReadOnly()&&p=="single"&&(x=b.contains(c))>-1&&(_e((x=b.ranges[x]).from(),c)<0||c.xRel>0)&&(_e(x.to(),c)>0||c.xRel<0)?UP(a,h,c,g):KP(a,h,c,g)}function UP(a,c,p,h){var g=a.display,b=!1,x=Mn(a,function(R){d&&(g.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:mv(a)),ct(g.wrapper.ownerDocument,"mouseup",x),ct(g.wrapper.ownerDocument,"mousemove",E),ct(g.scroller,"dragstart",O),ct(g.scroller,"drop",x),b||(Kt(R),h.addNew||Zd(a.doc,p,null,null,h.extend),d&&!T||u&&f==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),E=function(R){b=b||Math.abs(c.clientX-R.clientX)+Math.abs(c.clientY-R.clientY)>=10},O=function(){return b=!0};d&&(g.scroller.draggable=!0),a.state.draggingText=x,x.copy=!h.moveOnDrag,ve(g.wrapper.ownerDocument,"mouseup",x),ve(g.wrapper.ownerDocument,"mousemove",E),ve(g.scroller,"dragstart",O),ve(g.scroller,"drop",x),a.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function dx(a,c,p){if(p=="char")return new zt(c,c);if(p=="word")return a.findWordAt(c);if(p=="line")return new zt(oe(c.line,0),dt(a.doc,oe(c.line+1,0)));var h=p(a,c);return new zt(h.from,h.to)}function KP(a,c,p,h){u&&mv(a);var g=a.display,b=a.doc;Kt(c);var x,E,O=b.sel,R=O.ranges;if(h.addNew&&!h.extend?(E=b.sel.contains(p),E>-1?x=R[E]:x=new zt(p,p)):(x=b.sel.primary(),E=b.sel.primIndex),h.unit=="rectangle")h.addNew||(x=new zt(p,p)),p=la(a,c,!0,!0),E=-1;else{var Y=dx(a,p,h.unit);h.extend?x=Av(x,Y.anchor,Y.head,h.extend):x=Y}h.addNew?E==-1?(E=R.length,Kn(b,xi(a,R.concat([x]),E),{scroll:!1,origin:"*mouse"})):R.length>1&&R[E].empty()&&h.unit=="char"&&!h.extend?(Kn(b,xi(a,R.slice(0,E).concat(R.slice(E+1)),0),{scroll:!1,origin:"*mouse"}),O=b.sel):Ov(b,E,x,se):(E=0,Kn(b,new Kr([x],0),se),O=b.sel);var ne=p;function fe(ze){if(_e(ne,ze)!=0)if(ne=ze,h.unit=="rectangle"){for(var We=[],nt=a.options.tabSize,et=$e(Ge(b,p.line).text,p.ch,nt),xt=$e(Ge(b,ze.line).text,ze.ch,nt),qt=Math.min(et,xt),Nn=Math.max(et,xt),on=Math.min(p.line,ze.line),Or=Math.min(a.lastLine(),Math.max(p.line,ze.line));on<=Or;on++){var gr=Ge(b,on).text,wn=ke(gr,qt,nt);qt==Nn?We.push(new zt(oe(on,wn),oe(on,wn))):gr.length>wn&&We.push(new zt(oe(on,wn),oe(on,ke(gr,Nn,nt))))}We.length||We.push(new zt(p,p)),Kn(b,xi(a,O.ranges.slice(0,E).concat(We),E),{origin:"*mouse",scroll:!1}),a.scrollIntoView(ze)}else{var vr=x,$n=dx(a,ze,h.unit),Cn=vr.anchor,kn;_e($n.anchor,Cn)>0?(kn=$n.head,Cn=Sn(vr.from(),$n.anchor)):(kn=$n.anchor,Cn=Nt(vr.to(),$n.head));var un=O.ranges.slice(0);un[E]=qP(a,new zt(dt(b,Cn),kn)),Kn(b,xi(a,un,E),se)}}var ae=g.wrapper.getBoundingClientRect(),we=0;function Te(ze){var We=++we,nt=la(a,ze,!0,h.unit=="rectangle");if(nt)if(_e(nt,ne)!=0){a.curOp.focus=Be(bt(a)),fe(nt);var et=Kd(g,b);(nt.line>=et.to||nt.line<et.from)&&setTimeout(Mn(a,function(){we==We&&Te(ze)}),150)}else{var xt=ze.clientY<ae.top?-20:ze.clientY>ae.bottom?20:0;xt&&setTimeout(Mn(a,function(){we==We&&(g.scroller.scrollTop+=xt,Te(ze))}),50)}}function Le(ze){a.state.selectingText=!1,we=1/0,ze&&(Kt(ze),g.input.focus()),ct(g.wrapper.ownerDocument,"mousemove",Re),ct(g.wrapper.ownerDocument,"mouseup",He),b.history.lastSelOrigin=null}var Re=Mn(a,function(ze){ze.buttons===0||!tc(ze)?Le(ze):Te(ze)}),He=Mn(a,Le);a.state.selectingText=He,ve(g.wrapper.ownerDocument,"mousemove",Re),ve(g.wrapper.ownerDocument,"mouseup",He)}function qP(a,c){var p=c.anchor,h=c.head,g=Ge(a.doc,p.line);if(_e(p,h)==0&&p.sticky==h.sticky)return c;var b=Ee(g);if(!b)return c;var x=Ve(b,p.ch,p.sticky),E=b[x];if(E.from!=p.ch&&E.to!=p.ch)return c;var O=x+(E.from==p.ch==(E.level!=1)?0:1);if(O==0||O==b.length)return c;var R;if(h.line!=p.line)R=(h.line-p.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var Y=Ve(b,h.ch,h.sticky),ne=Y-x||(h.ch-p.ch)*(E.level==1?-1:1);Y==O-1||Y==O?R=ne<0:R=ne>0}var fe=b[O+(R?-1:0)],ae=R==(fe.level==1),we=ae?fe.from:fe.to,Te=ae?"after":"before";return p.ch==we&&p.sticky==Te?c:new zt(new oe(p.line,we,Te),h)}function hx(a,c,p,h){var g,b;if(c.touches)g=c.touches[0].clientX,b=c.touches[0].clientY;else try{g=c.clientX,b=c.clientY}catch{return!1}if(g>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;h&&Kt(c);var x=a.display,E=x.lineDiv.getBoundingClientRect();if(b>E.bottom||!Ut(a,p))return jr(c);b-=E.top-x.viewOffset;for(var O=0;O<a.display.gutterSpecs.length;++O){var R=x.gutters.childNodes[O];if(R&&R.getBoundingClientRect().right>=g){var Y=Wi(a.doc,b),ne=a.display.gutterSpecs[O];return st(a,p,a,Y,ne.className,c),jr(c)}}}function Dv(a,c){return hx(a,c,"gutterClick",!0)}function px(a,c){ko(a.display,c)||GP(a,c)||Ct(a,c,"contextmenu")||k||a.display.input.onContextMenu(c)}function GP(a,c){return Ut(a,"gutterContextMenu")?hx(a,c,"gutterContextMenu",!1):!1}function mx(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),uc(a)}var zl={toString:function(){return"CodeMirror.Init"}},gx={},oh={};function JP(a){var c=a.optionHandlers;function p(h,g,b,x){a.defaults[h]=g,b&&(c[h]=x?function(E,O,R){R!=zl&&b(E,O,R)}:b)}a.defineOption=p,a.Init=zl,p("value","",function(h,g){return h.setValue(g)},!0),p("mode",null,function(h,g){h.doc.modeOption=g,Cv(h)},!0),p("indentUnit",2,Cv,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(h){vc(h),uc(h),pr(h)},!0),p("lineSeparator",null,function(h,g){if(h.doc.lineSep=g,!!g){var b=[],x=h.doc.first;h.doc.iter(function(O){for(var R=0;;){var Y=O.text.indexOf(g,R);if(Y==-1)break;R=Y+g.length,b.push(oe(x,Y))}x++});for(var E=b.length-1;E>=0;E--)Pl(h.doc,g,b[E],oe(b[E].line,b[E].ch+g.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(h,g,b){h.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),b!=zl&&h.refresh()}),p("specialCharPlaceholder",SN,function(h){return h.refresh()},!0),p("electricChars",!0),p("inputStyle",A?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(h,g){return h.getInputField().spellcheck=g},!0),p("autocorrect",!1,function(h,g){return h.getInputField().autocorrect=g},!0),p("autocapitalize",!1,function(h,g){return h.getInputField().autocapitalize=g},!0),p("rtlMoveVisually",!j),p("wholeLineUpdateBefore",!0),p("theme","default",function(h){mx(h),gc(h)},!0),p("keyMap","default",function(h,g,b){var x=rh(g),E=b!=zl&&rh(b);E&&E.detach&&E.detach(h,x),x.attach&&x.attach(h,E||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,XP,!0),p("gutters",[],function(h,g){h.display.gutterSpecs=xv(g,h.options.lineNumbers),gc(h)},!0),p("fixedGutter",!0,function(h,g){h.display.gutters.style.left=g?fv(h.display)+"px":"0",h.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(h){return Ol(h)},!0),p("scrollbarStyle","native",function(h){yk(h),Ol(h),h.display.scrollbars.setScrollTop(h.doc.scrollTop),h.display.scrollbars.setScrollLeft(h.doc.scrollLeft)},!0),p("lineNumbers",!1,function(h,g){h.display.gutterSpecs=xv(h.options.gutters,g),gc(h)},!0),p("firstLineNumber",1,gc,!0),p("lineNumberFormatter",function(h){return h},gc,!0),p("showCursorWhenSelecting",!1,cc,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(h,g){g=="nocursor"&&(El(h),h.display.input.blur()),h.display.input.readOnlyChanged(g)}),p("screenReaderLabel",null,function(h,g){g=g===""?null:g,h.display.input.screenReaderLabelChanged(g)}),p("disableInput",!1,function(h,g){g||h.display.input.reset()},!0),p("dragDrop",!0,YP),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,cc,!0),p("singleCursorHeightPerLine",!0,cc,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,vc,!0),p("addModeClass",!1,vc,!0),p("pollInterval",100),p("undoDepth",200,function(h,g){return h.doc.history.undoDepth=g}),p("historyEventDelay",1250),p("viewportMargin",10,function(h){return h.refresh()},!0),p("maxHighlightLength",1e4,vc,!0),p("moveInputWithCursor",!0,function(h,g){g||h.display.input.resetPosition()}),p("tabindex",null,function(h,g){return h.display.input.getField().tabIndex=g||""}),p("autofocus",null),p("direction","ltr",function(h,g){return h.doc.setDirection(g)},!0),p("phrases",null)}function YP(a,c,p){var h=p&&p!=zl;if(!c!=!h){var g=a.display.dragFunctions,b=c?ve:ct;b(a.display.scroller,"dragstart",g.start),b(a.display.scroller,"dragenter",g.enter),b(a.display.scroller,"dragover",g.over),b(a.display.scroller,"dragleave",g.leave),b(a.display.scroller,"drop",g.drop)}}function XP(a){a.options.lineWrapping?(rt(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(K(a.display.wrapper,"CodeMirror-wrap"),tv(a)),dv(a),pr(a),uc(a),setTimeout(function(){return Ol(a)},100)}function Qt(a,c){var p=this;if(!(this instanceof Qt))return new Qt(a,c);this.options=c=c?Ie(c):{},Ie(gx,c,!1);var h=c.value;typeof h=="string"?h=new mr(h,c.mode,null,c.lineSeparator,c.direction):c.mode&&(h.modeOption=c.mode),this.doc=h;var g=new Qt.inputStyles[c.inputStyle](this),b=this.display=new cP(a,h,g,c);b.wrapper.CodeMirror=this,mx(this),c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),yk(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ae,keySeq:null,specialChars:null},c.autofocus&&!A&&b.input.focus(),u&&f<11&&setTimeout(function(){return p.display.input.reset(!0)},20),ZP(this),OP(),da(this),this.curOp.forceUpdate=!0,Ak(this,h),c.autofocus&&!A||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&gv(p)},20):El(this);for(var x in oh)oh.hasOwnProperty(x)&&oh[x](this,c[x],zl);wk(this),c.finishInit&&c.finishInit(this);for(var E=0;E<Rv.length;++E)Rv[E](this);ha(this),d&&c.lineWrapping&&getComputedStyle(b.lineDiv).textRendering=="optimizelegibility"&&(b.lineDiv.style.textRendering="auto")}Qt.defaults=gx,Qt.optionHandlers=oh;function ZP(a){var c=a.display;ve(c.scroller,"mousedown",Mn(a,fx)),u&&f<11?ve(c.scroller,"dblclick",Mn(a,function(O){if(!Ct(a,O)){var R=la(a,O);if(!(!R||Dv(a,O)||ko(a.display,O))){Kt(O);var Y=a.findWordAt(R);Zd(a.doc,Y.anchor,Y.head)}}})):ve(c.scroller,"dblclick",function(O){return Ct(a,O)||Kt(O)}),ve(c.scroller,"contextmenu",function(O){return px(a,O)}),ve(c.input.getField(),"contextmenu",function(O){c.scroller.contains(O.target)||px(a,O)});var p,h={end:0};function g(){c.activeTouch&&(p=setTimeout(function(){return c.activeTouch=null},1e3),h=c.activeTouch,h.end=+new Date)}function b(O){if(O.touches.length!=1)return!1;var R=O.touches[0];return R.radiusX<=1&&R.radiusY<=1}function x(O,R){if(R.left==null)return!0;var Y=R.left-O.left,ne=R.top-O.top;return Y*Y+ne*ne>20*20}ve(c.scroller,"touchstart",function(O){if(!Ct(a,O)&&!b(O)&&!Dv(a,O)){c.input.ensurePolled(),clearTimeout(p);var R=+new Date;c.activeTouch={start:R,moved:!1,prev:R-h.end<=300?h:null},O.touches.length==1&&(c.activeTouch.left=O.touches[0].pageX,c.activeTouch.top=O.touches[0].pageY)}}),ve(c.scroller,"touchmove",function(){c.activeTouch&&(c.activeTouch.moved=!0)}),ve(c.scroller,"touchend",function(O){var R=c.activeTouch;if(R&&!ko(c,O)&&R.left!=null&&!R.moved&&new Date-R.start<300){var Y=a.coordsChar(c.activeTouch,"page"),ne;!R.prev||x(R,R.prev)?ne=new zt(Y,Y):!R.prev.prev||x(R,R.prev.prev)?ne=a.findWordAt(Y):ne=new zt(oe(Y.line,0),dt(a.doc,oe(Y.line+1,0))),a.setSelection(ne.anchor,ne.head),a.focus(),Kt(O)}g()}),ve(c.scroller,"touchcancel",g),ve(c.scroller,"scroll",function(){c.scroller.clientHeight&&(dc(a,c.scroller.scrollTop),ca(a,c.scroller.scrollLeft,!0),st(a,"scroll",a))}),ve(c.scroller,"mousewheel",function(O){return Sk(a,O)}),ve(c.scroller,"DOMMouseScroll",function(O){return Sk(a,O)}),ve(c.wrapper,"scroll",function(){return c.wrapper.scrollTop=c.wrapper.scrollLeft=0}),c.dragFunctions={enter:function(O){Ct(a,O)||Wr(O)},over:function(O){Ct(a,O)||(AP(a,O),Wr(O))},start:function(O){return EP(a,O)},drop:Mn(a,TP),leave:function(O){Ct(a,O)||Zk(a)}};var E=c.input.getField();ve(E,"keyup",function(O){return ux.call(a,O)}),ve(E,"keydown",Mn(a,lx)),ve(E,"keypress",Mn(a,cx)),ve(E,"focus",function(O){return gv(a,O)}),ve(E,"blur",function(O){return El(a,O)})}var Rv=[];Qt.defineInitHook=function(a){return Rv.push(a)};function Mc(a,c,p,h){var g=a.doc,b;p==null&&(p="add"),p=="smart"&&(g.mode.indent?b=ic(a,c).state:p="prev");var x=a.options.tabSize,E=Ge(g,c),O=$e(E.text,null,x);E.stateAfter&&(E.stateAfter=null);var R=E.text.match(/^\s*/)[0],Y;if(!h&&!/\S/.test(E.text))Y=0,p="not";else if(p=="smart"&&(Y=g.mode.indent(b,E.text.slice(R.length),E.text),Y==je||Y>150)){if(!h)return;p="prev"}p=="prev"?c>g.first?Y=$e(Ge(g,c-1).text,null,x):Y=0:p=="add"?Y=O+a.options.indentUnit:p=="subtract"?Y=O-a.options.indentUnit:typeof p=="number"&&(Y=O+p),Y=Math.max(0,Y);var ne="",fe=0;if(a.options.indentWithTabs)for(var ae=Math.floor(Y/x);ae;--ae)fe+=x,ne+="	";if(fe<Y&&(ne+=Ce(Y-fe)),ne!=R)return Pl(g,ne,oe(c,0),oe(c,R.length),"+input"),E.stateAfter=null,!0;for(var we=0;we<g.sel.ranges.length;we++){var Te=g.sel.ranges[we];if(Te.head.line==c&&Te.head.ch<R.length){var Le=oe(c,R.length);Ov(g,we,new zt(Le,Le));break}}}var Si=null;function sh(a){Si=a}function zv(a,c,p,h,g){var b=a.doc;a.display.shift=!1,h||(h=b.sel);var x=+new Date-200,E=g=="paste"||a.state.pasteIncoming>x,O=nc(c),R=null;if(E&&h.ranges.length>1)if(Si&&Si.text.join(`
`)==c){if(h.ranges.length%Si.text.length==0){R=[];for(var Y=0;Y<Si.text.length;Y++)R.push(b.splitLines(Si.text[Y]))}}else O.length==h.ranges.length&&a.options.pasteLinesPerSelection&&(R=J(O,function(Re){return[Re]}));for(var ne=a.curOp.updateInput,fe=h.ranges.length-1;fe>=0;fe--){var ae=h.ranges[fe],we=ae.from(),Te=ae.to();ae.empty()&&(p&&p>0?we=oe(we.line,we.ch-p):a.state.overwrite&&!E?Te=oe(Te.line,Math.min(Ge(b,Te.line).text.length,Te.ch+G(O).length)):E&&Si&&Si.lineWise&&Si.text.join(`
`)==O.join(`
`)&&(we=Te=oe(we.line,0)));var Le={from:we,to:Te,text:R?R[fe%R.length]:O,origin:g||(E?"paste":a.state.cutIncoming>x?"cut":"+input")};Nl(a.doc,Le),On(a,"inputRead",a,Le)}c&&!E&&yx(a,c),Al(a),a.curOp.updateInput<2&&(a.curOp.updateInput=ne),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function vx(a,c){var p=a.clipboardData&&a.clipboardData.getData("Text");if(p)return a.preventDefault(),!c.isReadOnly()&&!c.options.disableInput&&c.hasFocus()&&Ar(c,function(){return zv(c,p,0,null,"paste")}),!0}function yx(a,c){if(!(!a.options.electricChars||!a.options.smartIndent))for(var p=a.doc.sel,h=p.ranges.length-1;h>=0;h--){var g=p.ranges[h];if(!(g.head.ch>100||h&&p.ranges[h-1].head.line==g.head.line)){var b=a.getModeAt(g.head),x=!1;if(b.electricChars){for(var E=0;E<b.electricChars.length;E++)if(c.indexOf(b.electricChars.charAt(E))>-1){x=Mc(a,g.head.line,"smart");break}}else b.electricInput&&b.electricInput.test(Ge(a.doc,g.head.line).text.slice(0,g.head.ch))&&(x=Mc(a,g.head.line,"smart"));x&&On(a,"electricInput",a,g.head.line)}}}function bx(a){for(var c=[],p=[],h=0;h<a.doc.sel.ranges.length;h++){var g=a.doc.sel.ranges[h].head.line,b={anchor:oe(g,0),head:oe(g+1,0)};p.push(b),c.push(a.getRange(b.anchor,b.head))}return{text:c,ranges:p}}function Bv(a,c,p,h){a.setAttribute("autocorrect",p?"on":"off"),a.setAttribute("autocapitalize",h?"on":"off"),a.setAttribute("spellcheck",!!c)}function _x(){var a=I("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),c=I("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return d?a.style.width="1000px":a.setAttribute("wrap","off"),S&&(a.style.border="1px solid black"),c}function QP(a){var c=a.optionHandlers,p=a.helpers={};a.prototype={constructor:a,focus:function(){gt(this).focus(),this.display.input.focus()},setOption:function(h,g){var b=this.options,x=b[h];b[h]==g&&h!="mode"||(b[h]=g,c.hasOwnProperty(h)&&Mn(this,c[h])(this,g,x),st(this,"optionChange",this,h))},getOption:function(h){return this.options[h]},getDoc:function(){return this.doc},addKeyMap:function(h,g){this.state.keyMaps[g?"push":"unshift"](rh(h))},removeKeyMap:function(h){for(var g=this.state.keyMaps,b=0;b<g.length;++b)if(g[b]==h||g[b].name==h)return g.splice(b,1),!0},addOverlay:tr(function(h,g){var b=h.token?h:a.getMode(this.options,h);if(b.startState)throw new Error("Overlays may not be stateful.");M(this.state.overlays,{mode:b,modeSpec:h,opaque:g&&g.opaque,priority:g&&g.priority||0},function(x){return x.priority}),this.state.modeGen++,pr(this)}),removeOverlay:tr(function(h){for(var g=this.state.overlays,b=0;b<g.length;++b){var x=g[b].modeSpec;if(x==h||typeof h=="string"&&x.name==h){g.splice(b,1),this.state.modeGen++,pr(this);return}}}),indentLine:tr(function(h,g,b){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),F(this.doc,h)&&Mc(this,h,g,b)}),indentSelection:tr(function(h){for(var g=this.doc.sel.ranges,b=-1,x=0;x<g.length;x++){var E=g[x];if(E.empty())E.head.line>b&&(Mc(this,E.head.line,h,!0),b=E.head.line,x==this.doc.sel.primIndex&&Al(this));else{var O=E.from(),R=E.to(),Y=Math.max(b,O.line);b=Math.min(this.lastLine(),R.line-(R.ch?0:1))+1;for(var ne=Y;ne<b;++ne)Mc(this,ne,h);var fe=this.doc.sel.ranges;O.ch==0&&g.length==fe.length&&fe[x].from().ch>0&&Ov(this.doc,x,new zt(O,fe[x].to()),te)}}}),getTokenAt:function(h,g){return Mw(this,h,g)},getLineTokens:function(h,g){return Mw(this,oe(h),g,!0)},getTokenTypeAt:function(h){h=dt(this.doc,h);var g=Ew(this,Ge(this.doc,h.line)),b=0,x=(g.length-1)/2,E=h.ch,O;if(E==0)O=g[2];else for(;;){var R=b+x>>1;if((R?g[R*2-1]:0)>=E)x=R;else if(g[R*2+1]<E)b=R+1;else{O=g[R*2+2];break}}var Y=O?O.indexOf("overlay "):-1;return Y<0?O:Y==0?null:O.slice(0,Y-1)},getModeAt:function(h){var g=this.doc.mode;return g.innerMode?a.innerMode(g,this.getTokenAt(h).state).mode:g},getHelper:function(h,g){return this.getHelpers(h,g)[0]},getHelpers:function(h,g){var b=[];if(!p.hasOwnProperty(g))return b;var x=p[g],E=this.getModeAt(h);if(typeof E[g]=="string")x[E[g]]&&b.push(x[E[g]]);else if(E[g])for(var O=0;O<E[g].length;O++){var R=x[E[g][O]];R&&b.push(R)}else E.helperType&&x[E.helperType]?b.push(x[E.helperType]):x[E.name]&&b.push(x[E.name]);for(var Y=0;Y<x._global.length;Y++){var ne=x._global[Y];ne.pred(E,this)&&qe(b,ne.val)==-1&&b.push(ne.val)}return b},getStateAfter:function(h,g){var b=this.doc;return h=Ur(b,h??b.first+b.size-1),ic(this,h+1,g).state},cursorCoords:function(h,g){var b,x=this.doc.sel.primary();return h==null?b=x.head:typeof h=="object"?b=dt(this.doc,h):b=h?x.from():x.to(),ki(this,b,g||"page")},charCoords:function(h,g){return Vd(this,dt(this.doc,h),g||"page")},coordsChar:function(h,g){return h=ok(this,h,g||"page"),lv(this,h.left,h.top)},lineAtHeight:function(h,g){return h=ok(this,{top:h,left:0},g||"page").top,Wi(this.doc,h+this.display.viewOffset)},heightAtLine:function(h,g,b){var x=!1,E;if(typeof h=="number"){var O=this.doc.first+this.doc.size-1;h<this.doc.first?h=this.doc.first:h>O&&(h=O,x=!0),E=Ge(this.doc,h)}else E=h;return Fd(this,E,{top:0,left:0},g||"page",b||x).top+(x?this.doc.height-wo(E):0)},defaultTextHeight:function(){return Cl(this.display)},defaultCharWidth:function(){return Tl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(h,g,b,x,E){var O=this.display;h=ki(this,dt(this.doc,h));var R=h.bottom,Y=h.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),O.sizer.appendChild(g),x=="over")R=h.top;else if(x=="above"||x=="near"){var ne=Math.max(O.wrapper.clientHeight,this.doc.height),fe=Math.max(O.sizer.clientWidth,O.lineSpace.clientWidth);(x=="above"||h.bottom+g.offsetHeight>ne)&&h.top>g.offsetHeight?R=h.top-g.offsetHeight:h.bottom+g.offsetHeight<=ne&&(R=h.bottom),Y+g.offsetWidth>fe&&(Y=fe-g.offsetWidth)}g.style.top=R+"px",g.style.left=g.style.right="",E=="right"?(Y=O.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(E=="left"?Y=0:E=="middle"&&(Y=(O.sizer.clientWidth-g.offsetWidth)/2),g.style.left=Y+"px"),b&&YN(this,{left:Y,top:R,right:Y+g.offsetWidth,bottom:R+g.offsetHeight})},triggerOnKeyDown:tr(lx),triggerOnKeyPress:tr(cx),triggerOnKeyUp:ux,triggerOnMouseDown:tr(fx),execCommand:function(h){if(Tc.hasOwnProperty(h))return Tc[h].call(null,this)},triggerElectric:tr(function(h){yx(this,h)}),findPosH:function(h,g,b,x){var E=1;g<0&&(E=-1,g=-g);for(var O=dt(this.doc,h),R=0;R<g&&(O=$v(this.doc,O,E,b,x),!O.hitSide);++R);return O},moveH:tr(function(h,g){var b=this;this.extendSelectionsBy(function(x){return b.display.shift||b.doc.extend||x.empty()?$v(b.doc,x.head,h,g,b.options.rtlMoveVisually):h<0?x.from():x.to()},le)}),deleteH:tr(function(h,g){var b=this.doc.sel,x=this.doc;b.somethingSelected()?x.replaceSelection("",null,"+delete"):Rl(this,function(E){var O=$v(x,E.head,h,g,!1);return h<0?{from:O,to:E.head}:{from:E.head,to:O}})}),findPosV:function(h,g,b,x){var E=1,O=x;g<0&&(E=-1,g=-g);for(var R=dt(this.doc,h),Y=0;Y<g;++Y){var ne=ki(this,R,"div");if(O==null?O=ne.left:ne.left=O,R=wx(this,ne,E,b),R.hitSide)break}return R},moveV:tr(function(h,g){var b=this,x=this.doc,E=[],O=!this.display.shift&&!x.extend&&x.sel.somethingSelected();if(x.extendSelectionsBy(function(Y){if(O)return h<0?Y.from():Y.to();var ne=ki(b,Y.head,"div");Y.goalColumn!=null&&(ne.left=Y.goalColumn),E.push(ne.left);var fe=wx(b,ne,h,g);return g=="page"&&Y==x.sel.primary()&&yv(b,Vd(b,fe,"div").top-ne.top),fe},le),E.length)for(var R=0;R<x.sel.ranges.length;R++)x.sel.ranges[R].goalColumn=E[R]}),findWordAt:function(h){var g=this.doc,b=Ge(g,h.line).text,x=h.ch,E=h.ch;if(b){var O=this.getHelper(h,"wordChars");(h.sticky=="before"||E==b.length)&&x?--x:++E;for(var R=b.charAt(x),Y=ee(R,O)?function(ne){return ee(ne,O)}:/\s/.test(R)?function(ne){return/\s/.test(ne)}:function(ne){return!/\s/.test(ne)&&!ee(ne)};x>0&&Y(b.charAt(x-1));)--x;for(;E<b.length&&Y(b.charAt(E));)++E}return new zt(oe(h.line,x),oe(h.line,E))},toggleOverwrite:function(h){h!=null&&h==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?rt(this.display.cursorDiv,"CodeMirror-overwrite"):K(this.display.cursorDiv,"CodeMirror-overwrite"),st(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Be(bt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:tr(function(h,g){fc(this,h,g)}),getScrollInfo:function(){var h=this.display.scroller;return{left:h.scrollLeft,top:h.scrollTop,height:h.scrollHeight-Ki(this)-this.display.barHeight,width:h.scrollWidth-Ki(this)-this.display.barWidth,clientHeight:iv(this),clientWidth:sa(this)}},scrollIntoView:tr(function(h,g){h==null?(h={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof h=="number"?h={from:oe(h,0),to:null}:h.from==null&&(h={from:h,to:null}),h.to||(h.to=h.from),h.margin=g||0,h.from.line!=null?XN(this,h):pk(this,h.from,h.to,h.margin)}),setSize:tr(function(h,g){var b=this,x=function(O){return typeof O=="number"||/^\d+$/.test(String(O))?O+"px":O};h!=null&&(this.display.wrapper.style.width=x(h)),g!=null&&(this.display.wrapper.style.height=x(g)),this.options.lineWrapping&&nk(this);var E=this.display.viewFrom;this.doc.iter(E,this.display.viewTo,function(O){if(O.widgets){for(var R=0;R<O.widgets.length;R++)if(O.widgets[R].noHScroll){as(b,E,"widget");break}}++E}),this.curOp.forceUpdate=!0,st(this,"refresh",this)}),operation:function(h){return Ar(this,h)},startOperation:function(){return da(this)},endOperation:function(){return ha(this)},refresh:tr(function(){var h=this.display.cachedTextHeight;pr(this),this.curOp.forceUpdate=!0,uc(this),fc(this,this.doc.scrollLeft,this.doc.scrollTop),wv(this.display),(h==null||Math.abs(h-Cl(this.display))>.5||this.options.lineWrapping)&&dv(this),st(this,"refresh",this)}),swapDoc:tr(function(h){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),Ak(this,h),uc(this),this.display.input.reset(),fc(this,h.scrollLeft,h.scrollTop),this.curOp.forceScroll=!0,On(this,"swapDoc",this,g),g}),phrase:function(h){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,h)?g[h]:h},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Xt(a),a.registerHelper=function(h,g,b){p.hasOwnProperty(h)||(p[h]=a[h]={_global:[]}),p[h][g]=b},a.registerGlobalHelper=function(h,g,b,x){a.registerHelper(h,g,x),p[h]._global.push({pred:b,val:x})}}function $v(a,c,p,h,g){var b=c,x=p,E=Ge(a,c.line),O=g&&a.direction=="rtl"?-p:p;function R(){var He=c.line+O;return He<a.first||He>=a.first+a.size?!1:(c=new oe(He,c.ch,c.sticky),E=Ge(a,He))}function Y(He){var ze;if(h=="codepoint"){var We=E.text.charCodeAt(c.ch+(p>0?0:-1));if(isNaN(We))ze=null;else{var nt=p>0?We>=55296&&We<56320:We>=56320&&We<57343;ze=new oe(c.line,Math.max(0,Math.min(E.text.length,c.ch+p*(nt?2:1))),-p)}}else g?ze=IP(a.cm,E,c,p):ze=Lv(E,c,p);if(ze==null)if(!He&&R())c=Nv(g,a.cm,E,c.line,O);else return!1;else c=ze;return!0}if(h=="char"||h=="codepoint")Y();else if(h=="column")Y(!0);else if(h=="word"||h=="group")for(var ne=null,fe=h=="group",ae=a.cm&&a.cm.getHelper(c,"wordChars"),we=!0;!(p<0&&!Y(!we));we=!1){var Te=E.text.charAt(c.ch)||`
`,Le=ee(Te,ae)?"w":fe&&Te==`
`?"n":!fe||/\s/.test(Te)?null:"p";if(fe&&!we&&!Le&&(Le="s"),ne&&ne!=Le){p<0&&(p=1,Y(),c.sticky="after");break}if(Le&&(ne=Le),p>0&&!Y(!we))break}var Re=eh(a,c,b,x,!0);return ft(b,Re)&&(Re.hitSide=!0),Re}function wx(a,c,p,h){var g=a.doc,b=c.left,x;if(h=="page"){var E=Math.min(a.display.wrapper.clientHeight,gt(a).innerHeight||g(a).documentElement.clientHeight),O=Math.max(E-.5*Cl(a.display),3);x=(p>0?c.bottom:c.top)+p*O}else h=="line"&&(x=p>0?c.bottom+3:c.top-3);for(var R;R=lv(a,b,x),!!R.outside;){if(p<0?x<=0:x>=g.height){R.hitSide=!0;break}x+=p*5}return R}var Ft=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ae,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ft.prototype.init=function(a){var c=this,p=this,h=p.cm,g=p.div=a.lineDiv;g.contentEditable=!0,Bv(g,h.options.spellcheck,h.options.autocorrect,h.options.autocapitalize);function b(E){for(var O=E.target;O;O=O.parentNode){if(O==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(O.className))break}return!1}ve(g,"paste",function(E){!b(E)||Ct(h,E)||vx(E,h)||f<=11&&setTimeout(Mn(h,function(){return c.updateFromDOM()}),20)}),ve(g,"compositionstart",function(E){c.composing={data:E.data,done:!1}}),ve(g,"compositionupdate",function(E){c.composing||(c.composing={data:E.data,done:!1})}),ve(g,"compositionend",function(E){c.composing&&(E.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),ve(g,"touchstart",function(){return p.forceCompositionEnd()}),ve(g,"input",function(){c.composing||c.readFromDOMSoon()});function x(E){if(!(!b(E)||Ct(h,E))){if(h.somethingSelected())sh({lineWise:!1,text:h.getSelections()}),E.type=="cut"&&h.replaceSelection("",null,"cut");else if(h.options.lineWiseCopyCut){var O=bx(h);sh({lineWise:!0,text:O.text}),E.type=="cut"&&h.operation(function(){h.setSelections(O.ranges,0,te),h.replaceSelection("",null,"cut")})}else return;if(E.clipboardData){E.clipboardData.clearData();var R=Si.text.join(`
`);if(E.clipboardData.setData("Text",R),E.clipboardData.getData("Text")==R){E.preventDefault();return}}var Y=_x(),ne=Y.firstChild;Bv(ne),h.display.lineSpace.insertBefore(Y,h.display.lineSpace.firstChild),ne.value=Si.text.join(`
`);var fe=Be(g.ownerDocument);yt(ne),setTimeout(function(){h.display.lineSpace.removeChild(Y),fe.focus(),fe==g&&p.showPrimarySelection()},50)}}ve(g,"copy",x),ve(g,"cut",x)},Ft.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Ft.prototype.prepareSelection=function(){var a=fk(this.cm,!1);return a.focus=Be(this.div.ownerDocument)==this.div,a},Ft.prototype.showSelection=function(a,c){!a||!this.cm.display.view.length||((a.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Ft.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ft.prototype.showPrimarySelection=function(){var a=this.getSelection(),c=this.cm,p=c.doc.sel.primary(),h=p.from(),g=p.to();if(c.display.viewTo==c.display.viewFrom||h.line>=c.display.viewTo||g.line<c.display.viewFrom){a.removeAllRanges();return}var b=ah(c,a.anchorNode,a.anchorOffset),x=ah(c,a.focusNode,a.focusOffset);if(!(b&&!b.bad&&x&&!x.bad&&_e(Sn(b,x),h)==0&&_e(Nt(b,x),g)==0)){var E=c.display.view,O=h.line>=c.display.viewFrom&&kx(c,h)||{node:E[0].measure.map[2],offset:0},R=g.line<c.display.viewTo&&kx(c,g);if(!R){var Y=E[E.length-1].measure,ne=Y.maps?Y.maps[Y.maps.length-1]:Y.map;R={node:ne[ne.length-1],offset:ne[ne.length-2]-ne[ne.length-3]}}if(!O||!R){a.removeAllRanges();return}var fe=a.rangeCount&&a.getRangeAt(0),ae;try{ae=de(O.node,O.offset,R.offset,R.node)}catch{}ae&&(!i&&c.state.focused?(a.collapse(O.node,O.offset),ae.collapsed||(a.removeAllRanges(),a.addRange(ae))):(a.removeAllRanges(),a.addRange(ae)),fe&&a.anchorNode==null?a.addRange(fe):i&&this.startGracePeriod()),this.rememberSelection()}},Ft.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Ft.prototype.showMultipleSelections=function(a){Q(this.cm.display.cursorDiv,a.cursors),Q(this.cm.display.selectionDiv,a.selection)},Ft.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Ft.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var c=a.getRangeAt(0).commonAncestorContainer;return xe(this.div,c)},Ft.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Be(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ft.prototype.blur=function(){this.div.blur()},Ft.prototype.getField=function(){return this.div},Ft.prototype.supportsTouch=function(){return!0},Ft.prototype.receivedFocus=function(){var a=this,c=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):Ar(this.cm,function(){return c.cm.curOp.selectionChanged=!0});function p(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},Ft.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Ft.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),c=this.cm;if(P&&v&&this.cm.display.gutterSpecs.length&&eI(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=ah(c,a.anchorNode,a.anchorOffset),h=ah(c,a.focusNode,a.focusOffset);p&&h&&Ar(c,function(){Kn(c.doc,us(p,h),te),(p.bad||h.bad)&&(c.curOp.selectionChanged=!0)})}}},Ft.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,c=a.display,p=a.doc.sel.primary(),h=p.from(),g=p.to();if(h.ch==0&&h.line>a.firstLine()&&(h=oe(h.line-1,Ge(a.doc,h.line-1).length)),g.ch==Ge(a.doc,g.line).text.length&&g.line<a.lastLine()&&(g=oe(g.line+1,0)),h.line<c.viewFrom||g.line>c.viewTo-1)return!1;var b,x,E;h.line==c.viewFrom||(b=ua(a,h.line))==0?(x=Rt(c.view[0].line),E=c.view[0].node):(x=Rt(c.view[b].line),E=c.view[b-1].node.nextSibling);var O=ua(a,g.line),R,Y;if(O==c.view.length-1?(R=c.viewTo-1,Y=c.lineDiv.lastChild):(R=Rt(c.view[O+1].line)-1,Y=c.view[O+1].node.previousSibling),!E)return!1;for(var ne=a.doc.splitLines(tI(a,E,Y,x,R)),fe=bo(a.doc,oe(x,0),oe(R,Ge(a.doc,R).text.length));ne.length>1&&fe.length>1;)if(G(ne)==G(fe))ne.pop(),fe.pop(),R--;else if(ne[0]==fe[0])ne.shift(),fe.shift(),x++;else break;for(var ae=0,we=0,Te=ne[0],Le=fe[0],Re=Math.min(Te.length,Le.length);ae<Re&&Te.charCodeAt(ae)==Le.charCodeAt(ae);)++ae;for(var He=G(ne),ze=G(fe),We=Math.min(He.length-(ne.length==1?ae:0),ze.length-(fe.length==1?ae:0));we<We&&He.charCodeAt(He.length-we-1)==ze.charCodeAt(ze.length-we-1);)++we;if(ne.length==1&&fe.length==1&&x==h.line)for(;ae&&ae>h.ch&&He.charCodeAt(He.length-we-1)==ze.charCodeAt(ze.length-we-1);)ae--,we++;ne[ne.length-1]=He.slice(0,He.length-we).replace(/^\u200b+/,""),ne[0]=ne[0].slice(ae).replace(/\u200b+$/,"");var nt=oe(x,ae),et=oe(R,fe.length?G(fe).length-we:0);if(ne.length>1||ne[0]||_e(nt,et))return Pl(a.doc,ne,nt,et,"+input"),!0},Ft.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ft.prototype.reset=function(){this.forceCompositionEnd()},Ft.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ft.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},Ft.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&Ar(this.cm,function(){return pr(a.cm)})},Ft.prototype.setUneditable=function(a){a.contentEditable="false"},Ft.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Mn(this.cm,zv)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},Ft.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},Ft.prototype.onContextMenu=function(){},Ft.prototype.resetPosition=function(){},Ft.prototype.needsContentAttribute=!0;function kx(a,c){var p=ov(a,c.line);if(!p||p.hidden)return null;var h=Ge(a.doc,c.line),g=Xw(p,h,c.line),b=Ee(h,a.doc.direction),x="left";if(b){var E=Ve(b,c.ch);x=E%2?"right":"left"}var O=ek(g.map,c.ch,x);return O.offset=O.collapse=="right"?O.end:O.start,O}function eI(a){for(var c=a;c;c=c.parentNode)if(/CodeMirror-gutter-wrapper/.test(c.className))return!0;return!1}function Bl(a,c){return c&&(a.bad=!0),a}function tI(a,c,p,h,g){var b="",x=!1,E=a.doc.lineSeparator(),O=!1;function R(ae){return function(we){return we.id==ae}}function Y(){x&&(b+=E,O&&(b+=E),x=O=!1)}function ne(ae){ae&&(Y(),b+=ae)}function fe(ae){if(ae.nodeType==1){var we=ae.getAttribute("cm-text");if(we){ne(we);return}var Te=ae.getAttribute("cm-marker"),Le;if(Te){var Re=a.findMarks(oe(h,0),oe(g+1,0),R(+Te));Re.length&&(Le=Re[0].find(0))&&ne(bo(a.doc,Le.from,Le.to).join(E));return}if(ae.getAttribute("contenteditable")=="false")return;var He=/^(pre|div|p|li|table|br)$/i.test(ae.nodeName);if(!/^br$/i.test(ae.nodeName)&&ae.textContent.length==0)return;He&&Y();for(var ze=0;ze<ae.childNodes.length;ze++)fe(ae.childNodes[ze]);/^(pre|p)$/i.test(ae.nodeName)&&(O=!0),He&&(x=!0)}else ae.nodeType==3&&ne(ae.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;fe(c),c!=p;)c=c.nextSibling,O=!1;return b}function ah(a,c,p){var h;if(c==a.display.lineDiv){if(h=a.display.lineDiv.childNodes[p],!h)return Bl(a.clipPos(oe(a.display.viewTo-1)),!0);c=null,p=0}else for(h=c;;h=h.parentNode){if(!h||h==a.display.lineDiv)return null;if(h.parentNode&&h.parentNode==a.display.lineDiv)break}for(var g=0;g<a.display.view.length;g++){var b=a.display.view[g];if(b.node==h)return nI(b,c,p)}}function nI(a,c,p){var h=a.text.firstChild,g=!1;if(!c||!xe(h,c))return Bl(oe(Rt(a.line),0),!0);if(c==h&&(g=!0,c=h.childNodes[p],p=0,!c)){var b=a.rest?G(a.rest):a.line;return Bl(oe(Rt(b),b.text.length),g)}var x=c.nodeType==3?c:null,E=c;for(!x&&c.childNodes.length==1&&c.firstChild.nodeType==3&&(x=c.firstChild,p&&(p=x.nodeValue.length));E.parentNode!=h;)E=E.parentNode;var O=a.measure,R=O.maps;function Y(Le,Re,He){for(var ze=-1;ze<(R?R.length:0);ze++)for(var We=ze<0?O.map:R[ze],nt=0;nt<We.length;nt+=3){var et=We[nt+2];if(et==Le||et==Re){var xt=Rt(ze<0?a.line:a.rest[ze]),qt=We[nt]+He;return(He<0||et!=Le)&&(qt=We[nt+(He?1:0)]),oe(xt,qt)}}}var ne=Y(x,E,p);if(ne)return Bl(ne,g);for(var fe=E.nextSibling,ae=x?x.nodeValue.length-p:0;fe;fe=fe.nextSibling){if(ne=Y(fe,fe.firstChild,0),ne)return Bl(oe(ne.line,ne.ch-ae),g);ae+=fe.textContent.length}for(var we=E.previousSibling,Te=p;we;we=we.previousSibling){if(ne=Y(we,we.firstChild,-1),ne)return Bl(oe(ne.line,ne.ch+Te),g);Te+=we.textContent.length}}var hn=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Ae,this.hasSelection=!1,this.composing=null,this.resetting=!1};hn.prototype.init=function(a){var c=this,p=this,h=this.cm;this.createField(a);var g=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),S&&(g.style.width="0px"),ve(g,"input",function(){u&&f>=9&&c.hasSelection&&(c.hasSelection=null),p.poll()}),ve(g,"paste",function(x){Ct(h,x)||vx(x,h)||(h.state.pasteIncoming=+new Date,p.fastPoll())});function b(x){if(!Ct(h,x)){if(h.somethingSelected())sh({lineWise:!1,text:h.getSelections()});else if(h.options.lineWiseCopyCut){var E=bx(h);sh({lineWise:!0,text:E.text}),x.type=="cut"?h.setSelections(E.ranges,null,te):(p.prevInput="",g.value=E.text.join(`
`),yt(g))}else return;x.type=="cut"&&(h.state.cutIncoming=+new Date)}}ve(g,"cut",b),ve(g,"copy",b),ve(a.scroller,"paste",function(x){if(!(ko(a,x)||Ct(h,x))){if(!g.dispatchEvent){h.state.pasteIncoming=+new Date,p.focus();return}var E=new Event("paste");E.clipboardData=x.clipboardData,g.dispatchEvent(E)}}),ve(a.lineSpace,"selectstart",function(x){ko(a,x)||Kt(x)}),ve(g,"compositionstart",function(){var x=h.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:x,range:h.markText(x,h.getCursor("to"),{className:"CodeMirror-composing"})}}),ve(g,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},hn.prototype.createField=function(a){this.wrapper=_x(),this.textarea=this.wrapper.firstChild;var c=this.cm.options;Bv(this.textarea,c.spellcheck,c.autocorrect,c.autocapitalize)},hn.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},hn.prototype.prepareSelection=function(){var a=this.cm,c=a.display,p=a.doc,h=fk(a);if(a.options.moveInputWithCursor){var g=ki(a,p.sel.primary().head,"div"),b=c.wrapper.getBoundingClientRect(),x=c.lineDiv.getBoundingClientRect();h.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,g.top+x.top-b.top)),h.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,g.left+x.left-b.left))}return h},hn.prototype.showSelection=function(a){var c=this.cm,p=c.display;Q(p.cursorDiv,a.cursors),Q(p.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},hn.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var c=this.cm;if(this.resetting=!0,c.somethingSelected()){this.prevInput="";var p=c.getSelection();this.textarea.value=p,c.state.focused&&yt(this.textarea),u&&f>=9&&(this.hasSelection=p)}else a||(this.prevInput=this.textarea.value="",u&&f>=9&&(this.hasSelection=null));this.resetting=!1}},hn.prototype.getField=function(){return this.textarea},hn.prototype.supportsTouch=function(){return!1},hn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!A||Be(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},hn.prototype.blur=function(){this.textarea.blur()},hn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},hn.prototype.receivedFocus=function(){this.slowPoll()},hn.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},hn.prototype.fastPoll=function(){var a=!1,c=this;c.pollingFast=!0;function p(){var h=c.poll();!h&&!a?(a=!0,c.polling.set(60,p)):(c.pollingFast=!1,c.slowPoll())}c.polling.set(20,p)},hn.prototype.poll=function(){var a=this,c=this.cm,p=this.textarea,h=this.prevInput;if(this.contextMenuPending||this.resetting||!c.state.focused||ts(p)&&!h&&!this.composing||c.isReadOnly()||c.options.disableInput||c.state.keySeq)return!1;var g=p.value;if(g==h&&!c.somethingSelected())return!1;if(u&&f>=9&&this.hasSelection===g||U&&/[\uf700-\uf7ff]/.test(g))return c.display.input.reset(),!1;if(c.doc.sel==c.display.selForContextMenu){var b=g.charCodeAt(0);if(b==8203&&!h&&(h=""),b==8666)return this.reset(),this.cm.execCommand("undo")}for(var x=0,E=Math.min(h.length,g.length);x<E&&h.charCodeAt(x)==g.charCodeAt(x);)++x;return Ar(c,function(){zv(c,g.slice(x),h.length-x,null,a.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?p.value=a.prevInput="":a.prevInput=g,a.composing&&(a.composing.range.clear(),a.composing.range=c.markText(a.composing.start,c.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},hn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},hn.prototype.onKeyPress=function(){u&&f>=9&&(this.hasSelection=null),this.fastPoll()},hn.prototype.onContextMenu=function(a){var c=this,p=c.cm,h=p.display,g=c.textarea;c.contextMenuPending&&c.contextMenuPending();var b=la(p,a),x=h.scroller.scrollTop;if(!b||_)return;var E=p.options.resetSelectionOnContextMenu;E&&p.doc.sel.contains(b)==-1&&Mn(p,Kn)(p.doc,us(b),te);var O=g.style.cssText,R=c.wrapper.style.cssText,Y=c.wrapper.offsetParent.getBoundingClientRect();c.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-Y.top-5)+"px; left: "+(a.clientX-Y.left-5)+`px;
      z-index: 1000; background: `+(u?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ne;d&&(ne=g.ownerDocument.defaultView.scrollY),h.input.focus(),d&&g.ownerDocument.defaultView.scrollTo(null,ne),h.input.reset(),p.somethingSelected()||(g.value=c.prevInput=" "),c.contextMenuPending=ae,h.selForContextMenu=p.doc.sel,clearTimeout(h.detectingSelectAll);function fe(){if(g.selectionStart!=null){var Te=p.somethingSelected(),Le=""+(Te?g.value:"");g.value="",g.value=Le,c.prevInput=Te?"":"",g.selectionStart=1,g.selectionEnd=Le.length,h.selForContextMenu=p.doc.sel}}function ae(){if(c.contextMenuPending==ae&&(c.contextMenuPending=!1,c.wrapper.style.cssText=R,g.style.cssText=O,u&&f<9&&h.scrollbars.setScrollTop(h.scroller.scrollTop=x),g.selectionStart!=null)){(!u||u&&f<9)&&fe();var Te=0,Le=function(){h.selForContextMenu==p.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&c.prevInput==""?Mn(p,Fk)(p):Te++<10?h.detectingSelectAll=setTimeout(Le,500):(h.selForContextMenu=null,h.input.reset())};h.detectingSelectAll=setTimeout(Le,200)}}if(u&&f>=9&&fe(),k){Wr(a);var we=function(){ct(window,"mouseup",we),setTimeout(ae,20)};ve(window,"mouseup",we)}else setTimeout(ae,50)},hn.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},hn.prototype.setUneditable=function(){},hn.prototype.needsContentAttribute=!1;function rI(a,c){if(c=c?Ie(c):{},c.value=a.value,!c.tabindex&&a.tabIndex&&(c.tabindex=a.tabIndex),!c.placeholder&&a.placeholder&&(c.placeholder=a.placeholder),c.autofocus==null){var p=Be(a.ownerDocument);c.autofocus=p==a||a.getAttribute("autofocus")!=null&&p==document.body}function h(){a.value=E.getValue()}var g;if(a.form&&(ve(a.form,"submit",h),!c.leaveSubmitMethodAlone)){var b=a.form;g=b.submit;try{var x=b.submit=function(){h(),b.submit=g,b.submit(),b.submit=x}}catch{}}c.finishInit=function(O){O.save=h,O.getTextArea=function(){return a},O.toTextArea=function(){O.toTextArea=isNaN,h(),a.parentNode.removeChild(O.getWrapperElement()),a.style.display="",a.form&&(ct(a.form,"submit",h),!c.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=g))}},a.style.display="none";var E=Qt(function(O){return a.parentNode.insertBefore(O,a.nextSibling)},c);return E}function iI(a){a.off=ct,a.on=ve,a.wheelEventPixels=fP,a.Doc=mr,a.splitLines=nc,a.countColumn=$e,a.findColumn=ke,a.isWordChar=H,a.Pass=je,a.signal=st,a.Line=kl,a.changeEnd=cs,a.scrollbarModel=vk,a.Pos=oe,a.cmpPos=_e,a.modes=_i,a.mimeModes=ns,a.resolveMode=Er,a.getMode=vo,a.modeExtensions=rs,a.extendMode=Nd,a.copyState=yo,a.startState=rc,a.innerMode=is,a.commands=Tc,a.keyMap=So,a.keyName=rx,a.isModifierKey=tx,a.lookupKey=Dl,a.normalizeKeyMap=PP,a.StringStream=ln,a.SharedTextMarker=xc,a.TextMarker=ds,a.LineWidget=kc,a.e_preventDefault=Kt,a.e_stopPropagation=Un,a.e_stop=Wr,a.addClass=rt,a.contains=xe,a.rmClass=K,a.keyNames=hs}JP(Qt),QP(Qt);var oI="iter insert remove copy getEditor constructor".split(" ");for(var lh in mr.prototype)mr.prototype.hasOwnProperty(lh)&&qe(oI,lh)<0&&(Qt.prototype[lh]=function(a){return function(){return a.apply(this.doc,arguments)}}(mr.prototype[lh]));return Xt(mr),Qt.inputStyles={textarea:hn,contenteditable:Ft},Qt.defineMode=function(a){!Qt.defaults.mode&&a!="null"&&(Qt.defaults.mode=a),Ld.apply(this,arguments)},Qt.defineMIME=_l,Qt.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),Qt.defineMIME("text/plain","null"),Qt.defineExtension=function(a,c){Qt.prototype[a]=c},Qt.defineDocExtension=function(a,c){mr.prototype[a]=c},Qt.fromTextArea=rI,iI(Qt),Qt.version="5.65.12",Qt})}(Rie)),zm}var zie=Tr();const ZL=Die(zie);(function(e,t){(function(n){n(Tr())})(function(n){var r=n.Pos,i="http://www.w3.org/2000/svg";function o(M,V){this.mv=M,this.type=V,this.classes=V=="left"?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}o.prototype={constructor:o,init:function(M,V,N){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=n(M,Ae({value:V,readOnly:!this.mv.options.allowEditingOriginals},Ae(N))),this.mv.options.connect=="align"&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new se(this.edit)),this.orig.state.trackAlignable=new se(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.lockButton.setAttribute("aria-label",this.lockButton.title),this.orig.state.diffViews=[this];var W=N.chunkClassLocation||"background";Object.prototype.toString.call(W)!="[object Array]"&&(W=[W]),this.classes.classLocation=W,this.diff=ce(Q(V),Q(N.value),this.mv.options.ignoreWhitespace),this.chunks=de(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=N.showDifferences!==!1},registerEvents:function(M){this.forceUpdate=u(this),v(this,!0,!1),f(this,M)},setShowDifferences:function(M){M=M!==!1,M!=this.showDifferences&&(this.showDifferences=M,this.forceUpdate("full"))}};function s(M){M.diffOutOfDate&&(M.diff=ce(M.orig.getValue(),M.edit.getValue(),M.mv.options.ignoreWhitespace),M.chunks=de(M.diff),M.diffOutOfDate=!1,n.signal(M.edit,"updateDiff",M.diff))}var l=!1;function u(M){var V={from:0,to:0,marked:[]},N={from:0,to:0,marked:[]},W,H=!1;function ee(Z){l=!0,H=!1,Z=="full"&&(M.svg&&Ie(M.svg),M.copyButtons&&Ie(M.copyButtons),_(M.edit,V.marked,M.classes),_(M.orig,N.marked,M.classes),V.from=V.to=N.from=N.to=0),s(M),M.showDifferences&&(T(M.edit,M.diff,V,DIFF_INSERT,M.classes),T(M.orig,M.diff,N,DIFF_DELETE,M.classes)),M.mv.options.connect=="align"&&j(M),S(M),M.needsScrollSync!=null&&d(M,M.needsScrollSync),l=!1}function ue(Z){l||(M.dealigned=!0,ge(Z))}function ge(Z){l||H||(clearTimeout(W),Z===!0&&(H=!0),W=setTimeout(ee,Z===!0?20:250))}function ye(Z,pe){M.diffOutOfDate||(M.diffOutOfDate=!0,V.from=V.to=N.from=N.to=0),ue(pe.text.length-1!=pe.to.line-pe.from.line)}function X(){M.diffOutOfDate=!0,M.dealigned=!0,ee("full")}return M.edit.on("change",ye),M.orig.on("change",ye),M.edit.on("swapDoc",X),M.orig.on("swapDoc",X),M.mv.options.connect=="align"&&(n.on(M.edit.state.trackAlignable,"realign",ue),n.on(M.orig.state.trackAlignable,"realign",ue)),M.edit.on("viewportChange",function(){ge(!1)}),M.orig.on("viewportChange",function(){ge(!1)}),ee(),ee}function f(M,V){M.edit.on("scroll",function(){d(M,!0)&&S(M)}),M.orig.on("scroll",function(){d(M,!1)&&S(M),V&&d(V,!0)&&S(V)})}function d(M,V){if(M.diffOutOfDate)return M.lockScroll&&M.needsScrollSync==null&&(M.needsScrollSync=V),!1;if(M.needsScrollSync=null,!M.lockScroll)return!0;var N,W,H=+new Date;if(V?(N=M.edit,W=M.orig):(N=M.orig,W=M.edit),N.state.scrollSetBy==M&&(N.state.scrollSetAt||0)+250>H)return!1;var ee=N.getScrollInfo();if(M.mv.options.connect=="align")Ve=ee.top;else{var ue=.5*ee.clientHeight,ge=ee.top+ue,ye=N.lineAtHeight(ge,"local"),X=rt(M.chunks,ye,V),Z=m(N,V?X.edit:X.orig),pe=m(W,V?X.orig:X.edit),Oe=(ge-Z.top)/(Z.bot-Z.top),Ve=pe.top-ue+Oe*(pe.bot-pe.top),he,Ee;if(Ve>ee.top&&(Ee=ee.top/ue)<1)Ve=Ve*Ee+ee.top*(1-Ee);else if((he=ee.height-ee.clientHeight-ee.top)<ue){var Pe=W.getScrollInfo(),ve=Pe.height-Pe.clientHeight-Ve;ve>he&&(Ee=he/ue)<1&&(Ve=Ve*Ee+(Pe.height-Pe.clientHeight-he)*(1-Ee))}}return W.scrollTo(ee.left,Ve),W.state.scrollSetAt=H,W.state.scrollSetBy=M,!0}function m(M,V){var N=V.after;return N==null&&(N=M.lastLine()+1),{top:M.heightAtLine(V.before||0,"local"),bot:M.heightAtLine(N,"local")}}function v(M,V,N){M.lockScroll=V,V&&N!=!1&&d(M,DIFF_INSERT)&&S(M),(V?n.addClass:n.rmClass)(M.lockButton,"CodeMirror-merge-scrolllock-enabled")}function y(M,V,N){for(var W=N.classLocation,H=0;H<W.length;H++)M.removeLineClass(V,W[H],N.chunk),M.removeLineClass(V,W[H],N.start),M.removeLineClass(V,W[H],N.end)}function _(M,V,N){for(var W=0;W<V.length;++W){var H=V[W];H instanceof n.TextMarker?H.clear():H.parent&&y(M,H,N)}V.length=0}function T(M,V,N,W,H){var ee=M.getViewport();M.operation(function(){N.from==N.to||ee.from-N.to>20||N.from-ee.to>20?(_(M,N.marked,H),w(M,V,W,N.marked,ee.from,ee.to,H),N.from=ee.from,N.to=ee.to):(ee.from<N.from&&(w(M,V,W,N.marked,ee.from,N.from,H),N.from=ee.from),ee.to>N.to&&(w(M,V,W,N.marked,N.to,ee.to,H),N.to=ee.to))})}function C(M,V,N,W,H,ee){for(var ue=N.classLocation,ge=M.getLineHandle(V),ye=0;ye<ue.length;ye++)W&&M.addLineClass(ge,ue[ye],N.chunk),H&&M.addLineClass(ge,ue[ye],N.start),ee&&M.addLineClass(ge,ue[ye],N.end);return ge}function w(M,V,N,W,H,ee,ue){var ge=r(0,0),ye=r(H,0),X=M.clipPos(r(ee-1)),Z=N==DIFF_DELETE?ue.del:ue.insert;function pe(Ut,Xt){for(var Kt=Math.max(H,Ut),Un=Math.min(ee,Xt),jr=Kt;jr<Un;++jr)W.push(C(M,jr,ue,!0,jr==Ut,jr==Xt-1));Ut==Xt&&Kt==Xt&&Un==Xt&&(Kt?W.push(C(M,Kt-1,ue,!1,!1,!0)):W.push(C(M,Kt,ue,!1,!0,!1)))}for(var Oe=0,Ve=!1,he=0;he<V.length;++he){var Ee=V[he],Pe=Ee[0],ve=Ee[1];if(Pe==DIFF_EQUAL){var Ze=ge.line+(Be(V,he)?0:1);qe(ge,ve);var ct=ge.line+(xe(V,he)?1:0);ct>Ze&&(Ve&&(pe(Oe,Ze),Ve=!1),Oe=ct)}else if(Ve=!0,Pe==N){var st=qe(ge,ve,!0),Ct=ke(ye,ge),hr=le(X,st);be(Ct,hr)||W.push(M.markText(Ct,hr,{className:Z})),ge=st}}Ve&&pe(Oe,ge.line+1)}function S(M){if(M.showDifferences){if(M.svg){Ie(M.svg);var V=M.gap.offsetWidth;$e(M.svg,"width",V,"height",M.gap.offsetHeight)}M.copyButtons&&Ie(M.copyButtons);for(var N=M.edit.getViewport(),W=M.orig.getViewport(),H=M.mv.wrap.getBoundingClientRect().top,ee=H-M.edit.getScrollerElement().getBoundingClientRect().top+M.edit.getScrollInfo().top,ue=H-M.orig.getScrollerElement().getBoundingClientRect().top+M.orig.getScrollInfo().top,ge=0;ge<M.chunks.length;ge++){var ye=M.chunks[ge];ye.editFrom<=N.to&&ye.editTo>=N.from&&ye.origFrom<=W.to&&ye.origTo>=W.from&&k(M,ye,ue,ee,V)}}}function P(M,V){for(var N=0,W=0,H=0;H<V.length;H++){var ee=V[H];if(ee.editTo>M&&ee.editFrom<=M)return null;if(ee.editFrom>M)break;N=ee.editTo,W=ee.origTo}return W+(M-N)}function A(M,V,N){for(var W=M.state.trackAlignable,H=M.firstLine(),ee=0,ue=[],ge=0;;ge++){for(var ye=V[ge],X=ye?N?ye.origFrom:ye.editFrom:1e9;ee<W.alignable.length;ee+=2){var Z=W.alignable[ee]+1;if(!(Z<=H))if(Z<=X)ue.push(Z);else break}if(!ye)break;ue.push(H=N?ye.origTo:ye.editTo)}return ue}function U(M,V,N,W){var H=0,ee=0,ue=0,ge=0;e:for(;;H++){var ye=M[H],X=V[ee];if(!ye&&X==null)break;for(var Z=ye?ye[0]:1e9,pe=X??1e9;ue<N.length;){var Oe=N[ue];if(Oe.origFrom<=pe&&Oe.origTo>pe){ee++,H--;continue e}if(Oe.editTo>Z){if(Oe.editFrom<=Z)continue e;break}ge+=Oe.origTo-Oe.origFrom-(Oe.editTo-Oe.editFrom),ue++}if(Z==pe-ge)ye[W]=pe,ee++;else if(Z<pe-ge)ye[W]=Z+ge;else{var Ve=[pe-ge,null,null];Ve[W]=pe,M.splice(H,0,Ve),ee++}}}function z(M,V){var N=A(M.edit,M.chunks,!1),W=[];if(V)for(var H=0,ee=0;H<V.chunks.length;H++){for(var ue=V.chunks[H].editTo;ee<N.length&&N[ee]<ue;)ee++;(ee==N.length||N[ee]!=ue)&&N.splice(ee++,0,ue)}for(var H=0;H<N.length;H++)W.push([N[H],null,null]);return U(W,A(M.orig,M.chunks,!0),M.chunks,1),V&&U(W,A(V.orig,V.chunks,!0),V.chunks,2),W}function j(M,V){if(!(!M.dealigned&&!V)){if(!M.orig.curOp)return M.orig.operation(function(){j(M,V)});M.dealigned=!1;var N=M.mv.left==M?M.mv.right:M.mv.left;N&&(s(N),N.dealigned=!1);for(var W=z(M,N),H=M.mv.aligners,ee=0;ee<H.length;ee++)H[ee].clear();H.length=0;var ue=[M.edit,M.orig],ge=[],ye=[];N&&ue.push(N.orig);for(var ee=0;ee<ue.length;ee++)ge.push(ue[ee].getScrollInfo().top),ye.push(-ue[ee].getScrollerElement().getBoundingClientRect().top);(ye[0]!=ye[1]||ue.length==3&&ye[1]!=ye[2])&&L(ue,ye,[0,0,0],H);for(var X=0;X<W.length;X++)L(ue,ye,W[X],H);for(var ee=0;ee<ue.length;ee++)ue[ee].scrollTo(null,ge[ee])}}function L(M,V,N,W){for(var H=-1e8,ee=[],ue=0;ue<M.length;ue++)if(N[ue]!=null){var ge=M[ue].heightAtLine(N[ue],"local")-V[ue];ee[ue]=ge,H=Math.max(H,ge)}for(var ue=0;ue<M.length;ue++)if(N[ue]!=null){var ye=H-ee[ue];ye>1&&W.push(B(M[ue],N[ue],ye))}}function B(M,V,N){var W=!0;V>M.lastLine()&&(V--,W=!1);var H=document.createElement("div");return H.className="CodeMirror-merge-spacer",H.style.height=N+"px",H.style.minWidth="1px",M.addLineWidget(V,H,{height:N,above:W,mergeSpacer:!0,handleMouseEvents:!0})}function k(M,V,N,W,H){var ee=M.type=="left",ue=M.orig.heightAtLine(V.origFrom,"local",!0)-N;if(M.svg){var ge=ue,ye=M.edit.heightAtLine(V.editFrom,"local",!0)-W;if(ee){var X=ge;ge=ye,ye=X}var Z=M.orig.heightAtLine(V.origTo,"local",!0)-N,pe=M.edit.heightAtLine(V.editTo,"local",!0)-W;if(ee){var X=Z;Z=pe,pe=X}var Oe=" C "+H/2+" "+ye+" "+H/2+" "+ge+" "+(H+2)+" "+ge,Ve=" C "+H/2+" "+Z+" "+H/2+" "+pe+" -1 "+pe;$e(M.svg.appendChild(document.createElementNS(i,"path")),"d","M -1 "+ye+Oe+" L "+(H+2)+" "+Z+Ve+" z","class",M.classes.connect)}if(M.copyButtons){var he=M.copyButtons.appendChild(Ye("div",M.type=="left"?"":"","CodeMirror-merge-copy")),Ee=M.mv.options.allowEditingOriginals;if(he.title=M.edit.phrase(Ee?"Push to left":"Revert chunk"),he.chunk=V,he.style.top=(V.origTo>V.origFrom?ue:M.edit.heightAtLine(V.editFrom,"local")-W)+"px",he.setAttribute("role","button"),he.setAttribute("tabindex","0"),he.setAttribute("aria-label",he.title),Ee){var Pe=M.edit.heightAtLine(V.editFrom,"local")-W,ve=M.copyButtons.appendChild(Ye("div",M.type=="right"?"":"","CodeMirror-merge-copy-reverse"));ve.title="Push to right",ve.chunk={editFrom:V.origFrom,editTo:V.origTo,origFrom:V.editFrom,origTo:V.editTo},ve.style.top=Pe+"px",M.type=="right"?ve.style.left="2px":ve.style.right="2px",ve.setAttribute("role","button"),ve.setAttribute("tabindex","0"),ve.setAttribute("aria-label",ve.title)}}}function D(M,V,N,W){if(!M.diffOutOfDate){var H=W.origTo>N.lastLine()?r(W.origFrom-1):r(W.origFrom,0),ee=r(W.origTo,0),ue=W.editTo>V.lastLine()?r(W.editFrom-1):r(W.editFrom,0),ge=r(W.editTo,0),ye=M.mv.options.revertChunk;ye?ye(M.mv,N,H,ee,V,ue,ge):V.replaceRange(N.getRange(H,ee),ue,ge)}}var K=n.MergeView=function(M,V){if(!(this instanceof K))return new K(M,V);this.options=V;var N=V.origLeft,W=V.origRight==null?V.orig:V.origRight,H=N!=null,ee=W!=null,ue=1+(H?1:0)+(ee?1:0),ge=[],ye=this.left=null,X=this.right=null,Z=this;if(H){ye=this.left=new o(this,"left");var pe=Ye("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");ge.push(pe),ge.push(q(ye))}var Oe=Ye("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(ge.push(Oe),ee){X=this.right=new o(this,"right"),ge.push(q(X));var Ve=Ye("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");ge.push(Ve)}(ee?Ve:Oe).className+=" CodeMirror-merge-pane-rightmost",ge.push(Ye("div",null,null,"height: 0; clear: both;"));var he=this.wrap=M.appendChild(Ye("div",ge,"CodeMirror-merge CodeMirror-merge-"+ue+"pane"));this.edit=n(Oe,Ae(V)),ye&&ye.init(pe,N,V),X&&X.init(Ve,W,V),V.collapseIdentical&&this.editor().operation(function(){gt(Z,V.collapseIdentical)}),V.connect=="align"&&(this.aligners=[],j(this.left||this.right,!0)),ye&&ye.registerEvents(X),X&&X.registerEvents(ye);var Ee=function(){ye&&S(ye),X&&S(X)};n.on(window,"resize",Ee);var Pe=setInterval(function(){for(var ve=he.parentNode;ve&&ve!=document.body;ve=ve.parentNode);ve||(clearInterval(Pe),n.off(window,"resize",Ee))},5e3)};function q(M){var V=M.lockButton=Ye("div",null,"CodeMirror-merge-scrolllock");V.setAttribute("role","button"),V.setAttribute("tabindex","0");var N=Ye("div",[V],"CodeMirror-merge-scrolllock-wrap");n.on(V,"click",function(){v(M,!M.lockScroll)}),n.on(V,"keyup",function(ue){(ue.key==="Enter"||ue.code==="Space")&&v(M,!M.lockScroll)});var W=[N];if(M.mv.options.revertButtons!==!1){M.copyButtons=Ye("div",null,"CodeMirror-merge-copybuttons-"+M.type);var H=function(ue){var ge=ue.target||ue.srcElement;if(ge.chunk){if(ge.className=="CodeMirror-merge-copy-reverse"){D(M,M.orig,M.edit,ge.chunk);return}D(M,M.edit,M.orig,ge.chunk)}};n.on(M.copyButtons,"click",H),n.on(M.copyButtons,"keyup",function(ue){(ue.key==="Enter"||ue.code==="Space")&&H(ue)}),W.unshift(M.copyButtons)}if(M.mv.options.connect!="align"){var ee=document.createElementNS&&document.createElementNS(i,"svg");ee&&!ee.createSVGRect&&(ee=null),M.svg=ee,ee&&W.push(ee)}return M.gap=Ye("div",W,"CodeMirror-merge-gap")}K.prototype={constructor:K,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(M){this.right&&this.right.setShowDifferences(M),this.left&&this.left.setShowDifferences(M)},rightChunks:function(){if(this.right)return s(this.right),this.right.chunks},leftChunks:function(){if(this.left)return s(this.left),this.left.chunks}};function Q(M){return typeof M=="string"?M:M.getValue()}var I;function ce(M,V,N){I||(I=new diff_match_patch);for(var W=I.diff_main(M,V),H=0;H<W.length;++H){var ee=W[H];(N?!/[^ \t]/.test(ee[1]):!ee[1])?W.splice(H--,1):H&&W[H-1][0]==ee[0]&&(W.splice(H--,1),W[H][1]+=ee[1])}return W}function de(M){var V=[];if(!M.length)return V;for(var N=0,W=0,H=r(0,0),ee=r(0,0),ue=0;ue<M.length;++ue){var ge=M[ue],ye=ge[0];if(ye==DIFF_EQUAL){var X=!Be(M,ue)||H.line<N||ee.line<W?1:0,Z=H.line+X,pe=ee.line+X;qe(H,ge[1],null,ee);var Oe=xe(M,ue)?1:0,Ve=H.line+Oe,he=ee.line+Oe;Ve>Z&&(ue&&V.push({origFrom:W,origTo:pe,editFrom:N,editTo:Z}),N=Ve,W=he)}else qe(ye==DIFF_INSERT?H:ee,ge[1])}return(N<=H.line||W<=ee.line)&&V.push({origFrom:W,origTo:ee.line+1,editFrom:N,editTo:H.line+1}),V}function xe(M,V){if(V==M.length-1)return!0;var N=M[V+1][1];return N.length==1&&V<M.length-2||N.charCodeAt(0)!=10?!1:V==M.length-2?!0:(N=M[V+2][1],(N.length>1||V==M.length-3)&&N.charCodeAt(0)==10)}function Be(M,V){if(V==0)return!0;var N=M[V-1][1];return N.charCodeAt(N.length-1)!=10?!1:V==1?!0:(N=M[V-2][1],N.charCodeAt(N.length-1)==10)}function rt(M,V,N){for(var W,H,ee,ue,ge=0;ge<M.length;ge++){var ye=M[ge],X=N?ye.editFrom:ye.origFrom,Z=N?ye.editTo:ye.origTo;H==null&&(X>V?(H=ye.editFrom,ue=ye.origFrom):Z>V&&(H=ye.editTo,ue=ye.origTo)),Z<=V?(W=ye.editTo,ee=ye.origTo):X<=V&&(W=ye.editFrom,ee=ye.origFrom)}return{edit:{before:W,after:H},orig:{before:ee,after:ue}}}function pt(M,V,N){M.addLineClass(V,"wrap","CodeMirror-merge-collapsed-line");var W=document.createElement("span");W.className="CodeMirror-merge-collapsed-widget",W.title=M.phrase("Identical text collapsed. Click to expand.");var H=M.markText(r(V,0),r(N-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:W,clearOnEnter:!0});function ee(){H.clear(),M.removeLineClass(V,"wrap","CodeMirror-merge-collapsed-line")}return H.explicitlyCleared&&ee(),n.on(W,"click",ee),H.on("clear",ee),n.on(W,"click",ee),{mark:H,clear:ee}}function yt(M,V){var N=[];function W(){for(var ge=0;ge<N.length;ge++)N[ge].clear()}for(var H=0;H<V.length;H++){var ee=V[H],ue=pt(ee.cm,ee.line,ee.line+M);N.push(ue),ue.mark.on("clear",W)}return N[0].mark}function bt(M,V,N,W){for(var H=0;H<M.chunks.length;H++)for(var ee=M.chunks[H],ue=ee.editFrom-V;ue<ee.editTo+V;ue++){var ge=ue+N;ge>=0&&ge<W.length&&(W[ge]=!1)}}function gt(M,V){typeof V!="number"&&(V=2);for(var N=[],W=M.editor(),H=W.firstLine(),ee=H,ue=W.lastLine();ee<=ue;ee++)N.push(!0);M.left&&bt(M.left,V,H,N),M.right&&bt(M.right,V,H,N);for(var ge=0;ge<N.length;ge++)if(N[ge]){for(var ye=ge+H,X=1;ge<N.length-1&&N[ge+1];ge++,X++);if(X>V){var Z=[{line:ye,cm:W}];M.left&&Z.push({line:P(ye,M.left.chunks),cm:M.left.orig}),M.right&&Z.push({line:P(ye,M.right.chunks),cm:M.right.orig});var pe=yt(X,Z);M.options.onCollapse&&M.options.onCollapse(M,ye,X,pe)}}}function Ye(M,V,N,W){var H=document.createElement(M);if(N&&(H.className=N),W&&(H.style.cssText=W),typeof V=="string")H.appendChild(document.createTextNode(V));else if(V)for(var ee=0;ee<V.length;++ee)H.appendChild(V[ee]);return H}function Ie(M){for(var V=M.childNodes.length;V>0;--V)M.removeChild(M.firstChild)}function $e(M){for(var V=1;V<arguments.length;V+=2)M.setAttribute(arguments[V],arguments[V+1])}function Ae(M,V){V||(V={});for(var N in M)M.hasOwnProperty(N)&&(V[N]=M[N]);return V}function qe(M,V,N,W){for(var H=N?r(M.line,M.ch):M,ee=0;;){var ue=V.indexOf(`
`,ee);if(ue==-1)break;++H.line,W&&++W.line,ee=ue+1}return H.ch=(ee?0:H.ch)+(V.length-ee),W&&(W.ch=(ee?0:W.ch)+(V.length-ee)),H}var Xe=1,je=2,te=4;function se(M){this.cm=M,this.alignable=[],this.height=M.doc.height;var V=this;M.on("markerAdded",function(N,W){if(W.collapsed){var H=W.find(1);H!=null&&V.set(H.line,te)}}),M.on("markerCleared",function(N,W,H,ee){ee!=null&&W.collapsed&&V.check(ee,te,V.hasMarker)}),M.on("markerChanged",this.signal.bind(this)),M.on("lineWidgetAdded",function(N,W,H){W.mergeSpacer||(W.above?V.set(H-1,je):V.set(H,Xe))}),M.on("lineWidgetCleared",function(N,W,H){W.mergeSpacer||(W.above?V.check(H-1,je,V.hasWidgetBelow):V.check(H,Xe,V.hasWidget))}),M.on("lineWidgetChanged",this.signal.bind(this)),M.on("change",function(N,W){var H=W.from.line,ee=W.to.line-W.from.line,ue=W.text.length-1,ge=H+ue;(ee||ue)&&V.map(H,ee,ue),V.check(ge,te,V.hasMarker),(ee||ue)&&V.check(W.from.line,te,V.hasMarker)}),M.on("viewportChange",function(){V.cm.doc.height!=V.height&&V.signal()})}se.prototype={signal:function(){n.signal(this,"realign"),this.height=this.cm.doc.height},set:function(M,V){for(var N=-1;N<this.alignable.length;N+=2){var W=this.alignable[N]-M;if(W==0){if((this.alignable[N+1]&V)==V)return;this.alignable[N+1]|=V,this.signal();return}if(W>0)break}this.signal(),this.alignable.splice(N,0,M,V)},find:function(M){for(var V=0;V<this.alignable.length;V+=2)if(this.alignable[V]==M)return V;return-1},check:function(M,V,N){var W=this.find(M);if(!(W==-1||!(this.alignable[W+1]&V))&&!N.call(this,M)){this.signal();var H=this.alignable[W+1]&~V;H?this.alignable[W+1]=H:this.alignable.splice(W,2)}},hasMarker:function(M){var V=this.cm.getLineHandle(M);if(V.markedSpans){for(var N=0;N<V.markedSpans.length;N++)if(V.markedSpans[N].marker.collapsed&&V.markedSpans[N].to!=null)return!0}return!1},hasWidget:function(M){var V=this.cm.getLineHandle(M);if(V.widgets){for(var N=0;N<V.widgets.length;N++)if(!V.widgets[N].above&&!V.widgets[N].mergeSpacer)return!0}return!1},hasWidgetBelow:function(M){if(M==this.cm.lastLine())return!1;var V=this.cm.getLineHandle(M+1);if(V.widgets){for(var N=0;N<V.widgets.length;N++)if(V.widgets[N].above&&!V.widgets[N].mergeSpacer)return!0}return!1},map:function(M,V,N){for(var W=N-V,H=M+V,ee=-1,ue=-1,ge=0;ge<this.alignable.length;ge+=2){var ye=this.alignable[ge];ye==M&&this.alignable[ge+1]&je&&(ee=ge),ye==H&&this.alignable[ge+1]&je&&(ue=ge),!(ye<=M)&&(ye<H?this.alignable.splice(ge--,2):this.alignable[ge]+=W)}if(ee>-1){var X=this.alignable[ee+1];X==je?this.alignable.splice(ee,2):this.alignable[ee+1]=X&~je}ue>-1&&N&&this.set(M+N,je)}};function le(M,V){return(M.line-V.line||M.ch-V.ch)<0?M:V}function ke(M,V){return(M.line-V.line||M.ch-V.ch)>0?M:V}function be(M,V){return M.line==V.line&&M.ch==V.ch}function Ce(M,V,N){for(var W=M.length-1;W>=0;W--){var H=M[W],ee=(N?H.origTo:H.editTo)-1;if(ee<V)return ee}}function G(M,V,N){for(var W=0;W<M.length;W++){var H=M[W],ee=N?H.origFrom:H.editFrom;if(ee>V)return ee}}function J(M,V){var N=null,W=M.state.diffViews,H=M.getCursor().line;if(W)for(var ee=0;ee<W.length;ee++){var ue=W[ee],ge=M==ue.orig;s(ue);var ye=V<0?Ce(ue.chunks,H,ge):G(ue.chunks,H,ge);ye!=null&&(N==null||(V<0?ye>N:ye<N))&&(N=ye)}if(N!=null)M.setCursor(N,0);else return n.Pass}n.commands.goNextDiff=function(M){return J(M,1)},n.commands.goPrevDiff=function(M){return J(M,-1)}})})();var qb={},Bie={get exports(){return qb},set exports(e){qb=e}};(function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;t.Diff=function(o,s){return[o,s]},t.prototype.diff_main=function(o,s,l,u){typeof u>"u"&&(this.Diff_Timeout<=0?u=Number.MAX_VALUE:u=new Date().getTime()+this.Diff_Timeout*1e3);var f=u;if(o==null||s==null)throw new Error("Null input. (diff_main)");if(o==s)return o?[new t.Diff(i,o)]:[];typeof l>"u"&&(l=!0);var d=l,m=this.diff_commonPrefix(o,s),v=o.substring(0,m);o=o.substring(m),s=s.substring(m),m=this.diff_commonSuffix(o,s);var y=o.substring(o.length-m);o=o.substring(0,o.length-m),s=s.substring(0,s.length-m);var _=this.diff_compute_(o,s,d,f);return v&&_.unshift(new t.Diff(i,v)),y&&_.push(new t.Diff(i,y)),this.diff_cleanupMerge(_),_},t.prototype.diff_compute_=function(o,s,l,u){var f;if(!o)return[new t.Diff(r,s)];if(!s)return[new t.Diff(n,o)];var d=o.length>s.length?o:s,m=o.length>s.length?s:o,v=d.indexOf(m);if(v!=-1)return f=[new t.Diff(r,d.substring(0,v)),new t.Diff(i,m),new t.Diff(r,d.substring(v+m.length))],o.length>s.length&&(f[0][0]=f[2][0]=n),f;if(m.length==1)return[new t.Diff(n,o),new t.Diff(r,s)];var y=this.diff_halfMatch_(o,s);if(y){var _=y[0],T=y[1],C=y[2],w=y[3],S=y[4],P=this.diff_main(_,C,l,u),A=this.diff_main(T,w,l,u);return P.concat([new t.Diff(i,S)],A)}return l&&o.length>100&&s.length>100?this.diff_lineMode_(o,s,u):this.diff_bisect_(o,s,u)},t.prototype.diff_lineMode_=function(o,s,l){var u=this.diff_linesToChars_(o,s);o=u.chars1,s=u.chars2;var f=u.lineArray,d=this.diff_main(o,s,!1,l);this.diff_charsToLines_(d,f),this.diff_cleanupSemantic(d),d.push(new t.Diff(i,""));for(var m=0,v=0,y=0,_="",T="";m<d.length;){switch(d[m][0]){case r:y++,T+=d[m][1];break;case n:v++,_+=d[m][1];break;case i:if(v>=1&&y>=1){d.splice(m-v-y,v+y),m=m-v-y;for(var C=this.diff_main(_,T,!1,l),w=C.length-1;w>=0;w--)d.splice(m,0,C[w]);m=m+C.length}y=0,v=0,_="",T="";break}m++}return d.pop(),d},t.prototype.diff_bisect_=function(o,s,l){for(var u=o.length,f=s.length,d=Math.ceil((u+f)/2),m=d,v=2*d,y=new Array(v),_=new Array(v),T=0;T<v;T++)y[T]=-1,_[T]=-1;y[m+1]=0,_[m+1]=0;for(var C=u-f,w=C%2!=0,S=0,P=0,A=0,U=0,z=0;z<d&&!(new Date().getTime()>l);z++){for(var j=-z+S;j<=z-P;j+=2){var L=m+j,B;j==-z||j!=z&&y[L-1]<y[L+1]?B=y[L+1]:B=y[L-1]+1;for(var k=B-j;B<u&&k<f&&o.charAt(B)==s.charAt(k);)B++,k++;if(y[L]=B,B>u)P+=2;else if(k>f)S+=2;else if(w){var D=m+C-j;if(D>=0&&D<v&&_[D]!=-1){var K=u-_[D];if(B>=K)return this.diff_bisectSplit_(o,s,B,k,l)}}}for(var q=-z+A;q<=z-U;q+=2){var D=m+q,K;q==-z||q!=z&&_[D-1]<_[D+1]?K=_[D+1]:K=_[D-1]+1;for(var Q=K-q;K<u&&Q<f&&o.charAt(u-K-1)==s.charAt(f-Q-1);)K++,Q++;if(_[D]=K,K>u)U+=2;else if(Q>f)A+=2;else if(!w){var L=m+C-q;if(L>=0&&L<v&&y[L]!=-1){var B=y[L],k=m+B-L;if(K=u-K,B>=K)return this.diff_bisectSplit_(o,s,B,k,l)}}}}return[new t.Diff(n,o),new t.Diff(r,s)]},t.prototype.diff_bisectSplit_=function(o,s,l,u,f){var d=o.substring(0,l),m=s.substring(0,u),v=o.substring(l),y=s.substring(u),_=this.diff_main(d,m,!1,f),T=this.diff_main(v,y,!1,f);return _.concat(T)},t.prototype.diff_linesToChars_=function(o,s){var l=[],u={};l[0]="";function f(y){for(var _="",T=0,C=-1,w=l.length;C<y.length-1;){C=y.indexOf(`
`,T),C==-1&&(C=y.length-1);var S=y.substring(T,C+1);(u.hasOwnProperty?u.hasOwnProperty(S):u[S]!==void 0)?_+=String.fromCharCode(u[S]):(w==d&&(S=y.substring(T),C=y.length),_+=String.fromCharCode(w),u[S]=w,l[w++]=S),T=C+1}return _}var d=4e4,m=f(o);d=65535;var v=f(s);return{chars1:m,chars2:v,lineArray:l}},t.prototype.diff_charsToLines_=function(o,s){for(var l=0;l<o.length;l++){for(var u=o[l][1],f=[],d=0;d<u.length;d++)f[d]=s[u.charCodeAt(d)];o[l][1]=f.join("")}},t.prototype.diff_commonPrefix=function(o,s){if(!o||!s||o.charAt(0)!=s.charAt(0))return 0;for(var l=0,u=Math.min(o.length,s.length),f=u,d=0;l<f;)o.substring(d,f)==s.substring(d,f)?(l=f,d=l):u=f,f=Math.floor((u-l)/2+l);return f},t.prototype.diff_commonSuffix=function(o,s){if(!o||!s||o.charAt(o.length-1)!=s.charAt(s.length-1))return 0;for(var l=0,u=Math.min(o.length,s.length),f=u,d=0;l<f;)o.substring(o.length-f,o.length-d)==s.substring(s.length-f,s.length-d)?(l=f,d=l):u=f,f=Math.floor((u-l)/2+l);return f},t.prototype.diff_commonOverlap_=function(o,s){var l=o.length,u=s.length;if(l==0||u==0)return 0;l>u?o=o.substring(l-u):l<u&&(s=s.substring(0,l));var f=Math.min(l,u);if(o==s)return f;for(var d=0,m=1;;){var v=o.substring(f-m),y=s.indexOf(v);if(y==-1)return d;m+=y,(y==0||o.substring(f-m)==s.substring(0,m))&&(d=m,m++)}},t.prototype.diff_halfMatch_=function(o,s){if(this.Diff_Timeout<=0)return null;var l=o.length>s.length?o:s,u=o.length>s.length?s:o;if(l.length<4||u.length*2<l.length)return null;var f=this;function d(P,A,U){for(var z=P.substring(U,U+Math.floor(P.length/4)),j=-1,L="",B,k,D,K;(j=A.indexOf(z,j+1))!=-1;){var q=f.diff_commonPrefix(P.substring(U),A.substring(j)),Q=f.diff_commonSuffix(P.substring(0,U),A.substring(0,j));L.length<Q+q&&(L=A.substring(j-Q,j)+A.substring(j,j+q),B=P.substring(0,U-Q),k=P.substring(U+q),D=A.substring(0,j-Q),K=A.substring(j+q))}return L.length*2>=P.length?[B,k,D,K,L]:null}var m=d(l,u,Math.ceil(l.length/4)),v=d(l,u,Math.ceil(l.length/2)),y;if(!m&&!v)return null;v?m?y=m[4].length>v[4].length?m:v:y=v:y=m;var _,T,C,w;o.length>s.length?(_=y[0],T=y[1],C=y[2],w=y[3]):(C=y[0],w=y[1],_=y[2],T=y[3]);var S=y[4];return[_,T,C,w,S]},t.prototype.diff_cleanupSemantic=function(o){for(var s=!1,l=[],u=0,f=null,d=0,m=0,v=0,y=0,_=0;d<o.length;)o[d][0]==i?(l[u++]=d,m=y,v=_,y=0,_=0,f=o[d][1]):(o[d][0]==r?y+=o[d][1].length:_+=o[d][1].length,f&&f.length<=Math.max(m,v)&&f.length<=Math.max(y,_)&&(o.splice(l[u-1],0,new t.Diff(n,f)),o[l[u-1]+1][0]=r,u--,u--,d=u>0?l[u-1]:-1,m=0,v=0,y=0,_=0,f=null,s=!0)),d++;for(s&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),d=1;d<o.length;){if(o[d-1][0]==n&&o[d][0]==r){var T=o[d-1][1],C=o[d][1],w=this.diff_commonOverlap_(T,C),S=this.diff_commonOverlap_(C,T);w>=S?(w>=T.length/2||w>=C.length/2)&&(o.splice(d,0,new t.Diff(i,C.substring(0,w))),o[d-1][1]=T.substring(0,T.length-w),o[d+1][1]=C.substring(w),d++):(S>=T.length/2||S>=C.length/2)&&(o.splice(d,0,new t.Diff(i,T.substring(0,S))),o[d-1][0]=r,o[d-1][1]=C.substring(0,C.length-S),o[d+1][0]=n,o[d+1][1]=T.substring(S),d++),d++}d++}},t.prototype.diff_cleanupSemanticLossless=function(o){function s(S,P){if(!S||!P)return 6;var A=S.charAt(S.length-1),U=P.charAt(0),z=A.match(t.nonAlphaNumericRegex_),j=U.match(t.nonAlphaNumericRegex_),L=z&&A.match(t.whitespaceRegex_),B=j&&U.match(t.whitespaceRegex_),k=L&&A.match(t.linebreakRegex_),D=B&&U.match(t.linebreakRegex_),K=k&&S.match(t.blanklineEndRegex_),q=D&&P.match(t.blanklineStartRegex_);return K||q?5:k||D?4:z&&!L&&B?3:L||B?2:z||j?1:0}for(var l=1;l<o.length-1;){if(o[l-1][0]==i&&o[l+1][0]==i){var u=o[l-1][1],f=o[l][1],d=o[l+1][1],m=this.diff_commonSuffix(u,f);if(m){var v=f.substring(f.length-m);u=u.substring(0,u.length-m),f=v+f.substring(0,f.length-m),d=v+d}for(var y=u,_=f,T=d,C=s(u,f)+s(f,d);f.charAt(0)===d.charAt(0);){u+=f.charAt(0),f=f.substring(1)+d.charAt(0),d=d.substring(1);var w=s(u,f)+s(f,d);w>=C&&(C=w,y=u,_=f,T=d)}o[l-1][1]!=y&&(y?o[l-1][1]=y:(o.splice(l-1,1),l--),o[l][1]=_,T?o[l+1][1]=T:(o.splice(l+1,1),l--))}l++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(o){for(var s=!1,l=[],u=0,f=null,d=0,m=!1,v=!1,y=!1,_=!1;d<o.length;)o[d][0]==i?(o[d][1].length<this.Diff_EditCost&&(y||_)?(l[u++]=d,m=y,v=_,f=o[d][1]):(u=0,f=null),y=_=!1):(o[d][0]==n?_=!0:y=!0,f&&(m&&v&&y&&_||f.length<this.Diff_EditCost/2&&m+v+y+_==3)&&(o.splice(l[u-1],0,new t.Diff(n,f)),o[l[u-1]+1][0]=r,u--,f=null,m&&v?(y=_=!0,u=0):(u--,d=u>0?l[u-1]:-1,y=_=!1),s=!0)),d++;s&&this.diff_cleanupMerge(o)},t.prototype.diff_cleanupMerge=function(o){o.push(new t.Diff(i,""));for(var s=0,l=0,u=0,f="",d="",m;s<o.length;)switch(o[s][0]){case r:u++,d+=o[s][1],s++;break;case n:l++,f+=o[s][1],s++;break;case i:l+u>1?(l!==0&&u!==0&&(m=this.diff_commonPrefix(d,f),m!==0&&(s-l-u>0&&o[s-l-u-1][0]==i?o[s-l-u-1][1]+=d.substring(0,m):(o.splice(0,0,new t.Diff(i,d.substring(0,m))),s++),d=d.substring(m),f=f.substring(m)),m=this.diff_commonSuffix(d,f),m!==0&&(o[s][1]=d.substring(d.length-m)+o[s][1],d=d.substring(0,d.length-m),f=f.substring(0,f.length-m))),s-=l+u,o.splice(s,l+u),f.length&&(o.splice(s,0,new t.Diff(n,f)),s++),d.length&&(o.splice(s,0,new t.Diff(r,d)),s++),s++):s!==0&&o[s-1][0]==i?(o[s-1][1]+=o[s][1],o.splice(s,1)):s++,u=0,l=0,f="",d="";break}o[o.length-1][1]===""&&o.pop();var v=!1;for(s=1;s<o.length-1;)o[s-1][0]==i&&o[s+1][0]==i&&(o[s][1].substring(o[s][1].length-o[s-1][1].length)==o[s-1][1]?(o[s][1]=o[s-1][1]+o[s][1].substring(0,o[s][1].length-o[s-1][1].length),o[s+1][1]=o[s-1][1]+o[s+1][1],o.splice(s-1,1),v=!0):o[s][1].substring(0,o[s+1][1].length)==o[s+1][1]&&(o[s-1][1]+=o[s+1][1],o[s][1]=o[s][1].substring(o[s+1][1].length)+o[s+1][1],o.splice(s+1,1),v=!0)),s++;v&&this.diff_cleanupMerge(o)},t.prototype.diff_xIndex=function(o,s){var l=0,u=0,f=0,d=0,m;for(m=0;m<o.length&&(o[m][0]!==r&&(l+=o[m][1].length),o[m][0]!==n&&(u+=o[m][1].length),!(l>s));m++)f=l,d=u;return o.length!=m&&o[m][0]===n?d:d+(s-f)},t.prototype.diff_prettyHtml=function(o){for(var s=[],l=/&/g,u=/</g,f=/>/g,d=/\n/g,m=0;m<o.length;m++){var v=o[m][0],y=o[m][1],_=y.replace(l,"&amp;").replace(u,"&lt;").replace(f,"&gt;").replace(d,"&para;<br>");switch(v){case r:s[m]='<ins style="background:#e6ffe6;">'+_+"</ins>";break;case n:s[m]='<del style="background:#ffe6e6;">'+_+"</del>";break;case i:s[m]="<span>"+_+"</span>";break}}return s.join("")},t.prototype.diff_text1=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==r&&(s[l]=o[l][1]);return s.join("")},t.prototype.diff_text2=function(o){for(var s=[],l=0;l<o.length;l++)o[l][0]!==n&&(s[l]=o[l][1]);return s.join("")},t.prototype.diff_levenshtein=function(o){for(var s=0,l=0,u=0,f=0;f<o.length;f++){var d=o[f][0],m=o[f][1];switch(d){case r:l+=m.length;break;case n:u+=m.length;break;case i:s+=Math.max(l,u),l=0,u=0;break}}return s+=Math.max(l,u),s},t.prototype.diff_toDelta=function(o){for(var s=[],l=0;l<o.length;l++)switch(o[l][0]){case r:s[l]="+"+encodeURI(o[l][1]);break;case n:s[l]="-"+o[l][1].length;break;case i:s[l]="="+o[l][1].length;break}return s.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(o,s){for(var l=[],u=0,f=0,d=s.split(/\t/g),m=0;m<d.length;m++){var v=d[m].substring(1);switch(d[m].charAt(0)){case"+":try{l[u++]=new t.Diff(r,decodeURI(v))}catch{throw new Error("Illegal escape in diff_fromDelta: "+v)}break;case"-":case"=":var y=parseInt(v,10);if(isNaN(y)||y<0)throw new Error("Invalid number in diff_fromDelta: "+v);var _=o.substring(f,f+=y);d[m].charAt(0)=="="?l[u++]=new t.Diff(i,_):l[u++]=new t.Diff(n,_);break;default:if(d[m])throw new Error("Invalid diff operation in diff_fromDelta: "+d[m])}}if(f!=o.length)throw new Error("Delta length ("+f+") does not equal source text length ("+o.length+").");return l},t.prototype.match_main=function(o,s,l){if(o==null||s==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,o.length)),o==s?0:o.length?o.substring(l,l+s.length)==s?l:this.match_bitap_(o,s,l):-1},t.prototype.match_bitap_=function(o,s,l){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var u=this.match_alphabet_(s),f=this;function d(B,k){var D=B/s.length,K=Math.abs(l-k);return f.Match_Distance?D+K/f.Match_Distance:K?1:D}var m=this.Match_Threshold,v=o.indexOf(s,l);v!=-1&&(m=Math.min(d(0,v),m),v=o.lastIndexOf(s,l+s.length),v!=-1&&(m=Math.min(d(0,v),m)));var y=1<<s.length-1;v=-1;for(var _,T,C=s.length+o.length,w,S=0;S<s.length;S++){for(_=0,T=C;_<T;)d(S,l+T)<=m?_=T:C=T,T=Math.floor((C-_)/2+_);C=T;var P=Math.max(1,l-T+1),A=Math.min(l+T,o.length)+s.length,U=Array(A+2);U[A+1]=(1<<S)-1;for(var z=A;z>=P;z--){var j=u[o.charAt(z-1)];if(S===0?U[z]=(U[z+1]<<1|1)&j:U[z]=(U[z+1]<<1|1)&j|((w[z+1]|w[z])<<1|1)|w[z+1],U[z]&y){var L=d(S,z-1);if(L<=m)if(m=L,v=z-1,v>l)P=Math.max(1,2*l-v);else break}}if(d(S+1,l)>m)break;w=U}return v},t.prototype.match_alphabet_=function(o){for(var s={},l=0;l<o.length;l++)s[o.charAt(l)]=0;for(var l=0;l<o.length;l++)s[o.charAt(l)]|=1<<o.length-l-1;return s},t.prototype.patch_addContext_=function(o,s){if(s.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var l=s.substring(o.start2,o.start2+o.length1),u=0;s.indexOf(l)!=s.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)u+=this.Patch_Margin,l=s.substring(o.start2-u,o.start2+o.length1+u);u+=this.Patch_Margin;var f=s.substring(o.start2-u,o.start2);f&&o.diffs.unshift(new t.Diff(i,f));var d=s.substring(o.start2+o.length1,o.start2+o.length1+u);d&&o.diffs.push(new t.Diff(i,d)),o.start1-=f.length,o.start2-=f.length,o.length1+=f.length+d.length,o.length2+=f.length+d.length}},t.prototype.patch_make=function(o,s,l){var u,f;if(typeof o=="string"&&typeof s=="string"&&typeof l>"u")u=o,f=this.diff_main(u,s,!0),f.length>2&&(this.diff_cleanupSemantic(f),this.diff_cleanupEfficiency(f));else if(o&&typeof o=="object"&&typeof s>"u"&&typeof l>"u")f=o,u=this.diff_text1(f);else if(typeof o=="string"&&s&&typeof s=="object"&&typeof l>"u")u=o,f=s;else if(typeof o=="string"&&typeof s=="string"&&l&&typeof l=="object")u=o,f=l;else throw new Error("Unknown call format to patch_make.");if(f.length===0)return[];for(var d=[],m=new t.patch_obj,v=0,y=0,_=0,T=u,C=u,w=0;w<f.length;w++){var S=f[w][0],P=f[w][1];switch(!v&&S!==i&&(m.start1=y,m.start2=_),S){case r:m.diffs[v++]=f[w],m.length2+=P.length,C=C.substring(0,_)+P+C.substring(_);break;case n:m.length1+=P.length,m.diffs[v++]=f[w],C=C.substring(0,_)+C.substring(_+P.length);break;case i:P.length<=2*this.Patch_Margin&&v&&f.length!=w+1?(m.diffs[v++]=f[w],m.length1+=P.length,m.length2+=P.length):P.length>=2*this.Patch_Margin&&v&&(this.patch_addContext_(m,T),d.push(m),m=new t.patch_obj,v=0,T=C,y=_);break}S!==r&&(y+=P.length),S!==n&&(_+=P.length)}return v&&(this.patch_addContext_(m,T),d.push(m)),d},t.prototype.patch_deepCopy=function(o){for(var s=[],l=0;l<o.length;l++){var u=o[l],f=new t.patch_obj;f.diffs=[];for(var d=0;d<u.diffs.length;d++)f.diffs[d]=new t.Diff(u.diffs[d][0],u.diffs[d][1]);f.start1=u.start1,f.start2=u.start2,f.length1=u.length1,f.length2=u.length2,s[l]=f}return s},t.prototype.patch_apply=function(o,s){if(o.length==0)return[s,[]];o=this.patch_deepCopy(o);var l=this.patch_addPadding(o);s=l+s+l,this.patch_splitMax(o);for(var u=0,f=[],d=0;d<o.length;d++){var m=o[d].start2+u,v=this.diff_text1(o[d].diffs),y,_=-1;if(v.length>this.Match_MaxBits?(y=this.match_main(s,v.substring(0,this.Match_MaxBits),m),y!=-1&&(_=this.match_main(s,v.substring(v.length-this.Match_MaxBits),m+v.length-this.Match_MaxBits),(_==-1||y>=_)&&(y=-1))):y=this.match_main(s,v,m),y==-1)f[d]=!1,u-=o[d].length2-o[d].length1;else{f[d]=!0,u=y-m;var T;if(_==-1?T=s.substring(y,y+v.length):T=s.substring(y,_+this.Match_MaxBits),v==T)s=s.substring(0,y)+this.diff_text2(o[d].diffs)+s.substring(y+v.length);else{var C=this.diff_main(v,T,!1);if(v.length>this.Match_MaxBits&&this.diff_levenshtein(C)/v.length>this.Patch_DeleteThreshold)f[d]=!1;else{this.diff_cleanupSemanticLossless(C);for(var w=0,S,P=0;P<o[d].diffs.length;P++){var A=o[d].diffs[P];A[0]!==i&&(S=this.diff_xIndex(C,w)),A[0]===r?s=s.substring(0,y+S)+A[1]+s.substring(y+S):A[0]===n&&(s=s.substring(0,y+S)+s.substring(y+this.diff_xIndex(C,w+A[1].length))),A[0]!==n&&(w+=A[1].length)}}}}}return s=s.substring(l.length,s.length-l.length),[s,f]},t.prototype.patch_addPadding=function(o){for(var s=this.Patch_Margin,l="",u=1;u<=s;u++)l+=String.fromCharCode(u);for(var u=0;u<o.length;u++)o[u].start1+=s,o[u].start2+=s;var f=o[0],d=f.diffs;if(d.length==0||d[0][0]!=i)d.unshift(new t.Diff(i,l)),f.start1-=s,f.start2-=s,f.length1+=s,f.length2+=s;else if(s>d[0][1].length){var m=s-d[0][1].length;d[0][1]=l.substring(d[0][1].length)+d[0][1],f.start1-=m,f.start2-=m,f.length1+=m,f.length2+=m}if(f=o[o.length-1],d=f.diffs,d.length==0||d[d.length-1][0]!=i)d.push(new t.Diff(i,l)),f.length1+=s,f.length2+=s;else if(s>d[d.length-1][1].length){var m=s-d[d.length-1][1].length;d[d.length-1][1]+=l.substring(0,m),f.length1+=m,f.length2+=m}return l},t.prototype.patch_splitMax=function(o){for(var s=this.Match_MaxBits,l=0;l<o.length;l++)if(!(o[l].length1<=s)){var u=o[l];o.splice(l--,1);for(var f=u.start1,d=u.start2,m="";u.diffs.length!==0;){var v=new t.patch_obj,y=!0;for(v.start1=f-m.length,v.start2=d-m.length,m!==""&&(v.length1=v.length2=m.length,v.diffs.push(new t.Diff(i,m)));u.diffs.length!==0&&v.length1<s-this.Patch_Margin;){var _=u.diffs[0][0],T=u.diffs[0][1];_===r?(v.length2+=T.length,d+=T.length,v.diffs.push(u.diffs.shift()),y=!1):_===n&&v.diffs.length==1&&v.diffs[0][0]==i&&T.length>2*s?(v.length1+=T.length,f+=T.length,y=!1,v.diffs.push(new t.Diff(_,T)),u.diffs.shift()):(T=T.substring(0,s-v.length1-this.Patch_Margin),v.length1+=T.length,f+=T.length,_===i?(v.length2+=T.length,d+=T.length):y=!1,v.diffs.push(new t.Diff(_,T)),T==u.diffs[0][1]?u.diffs.shift():u.diffs[0][1]=u.diffs[0][1].substring(T.length))}m=this.diff_text2(v.diffs),m=m.substring(m.length-this.Patch_Margin);var C=this.diff_text1(u.diffs).substring(0,this.Patch_Margin);C!==""&&(v.length1+=C.length,v.length2+=C.length,v.diffs.length!==0&&v.diffs[v.diffs.length-1][0]===i?v.diffs[v.diffs.length-1][1]+=C:v.diffs.push(new t.Diff(i,C))),y||o.splice(++l,0,v)}}},t.prototype.patch_toText=function(o){for(var s=[],l=0;l<o.length;l++)s[l]=o[l];return s.join("")},t.prototype.patch_fromText=function(o){var s=[];if(!o)return s;for(var l=o.split(`
`),u=0,f=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;u<l.length;){var d=l[u].match(f);if(!d)throw new Error("Invalid patch string: "+l[u]);var m=new t.patch_obj;for(s.push(m),m.start1=parseInt(d[1],10),d[2]===""?(m.start1--,m.length1=1):d[2]=="0"?m.length1=0:(m.start1--,m.length1=parseInt(d[2],10)),m.start2=parseInt(d[3],10),d[4]===""?(m.start2--,m.length2=1):d[4]=="0"?m.length2=0:(m.start2--,m.length2=parseInt(d[4],10)),u++;u<l.length;){var v=l[u].charAt(0);try{var y=decodeURI(l[u].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+y)}if(v=="-")m.diffs.push(new t.Diff(n,y));else if(v=="+")m.diffs.push(new t.Diff(r,y));else if(v==" ")m.diffs.push(new t.Diff(i,y));else{if(v=="@")break;if(v!=="")throw new Error('Invalid patch mode "'+v+'" in: '+y)}u++}}return s},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var o,s;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var l=["@@ -"+o+" +"+s+` @@
`],u,f=0;f<this.diffs.length;f++){switch(this.diffs[f][0]){case r:u="+";break;case n:u="-";break;case i:u=" ";break}l[f+1]=u+encodeURI(this.diffs[f][1])+`
`}return l.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=r,e.exports.DIFF_EQUAL=i})(Bie);const $ie=qb;var Hie={};(function(e,t){(function(n){n(Tr())})(function(n){n.defineSimpleMode=function(v,y){n.defineMode(v,function(_){return n.simpleMode(_,y)})},n.simpleMode=function(v,y){r(y,"start");var _={},T=y.meta||{},C=!1;for(var w in y)if(w!=T&&y.hasOwnProperty(w))for(var S=_[w]=[],P=y[w],A=0;A<P.length;A++){var U=P[A];S.push(new s(U,y)),(U.indent||U.dedent)&&(C=!0)}var z={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:C?[]:null}},copyState:function(L){var B={state:L.state,pending:L.pending,local:L.local,localState:null,indent:L.indent&&L.indent.slice(0)};L.localState&&(B.localState=n.copyState(L.local.mode,L.localState)),L.stack&&(B.stack=L.stack.slice(0));for(var k=L.persistentStates;k;k=k.next)B.persistentStates={mode:k.mode,spec:k.spec,state:k.state==L.localState?B.localState:n.copyState(k.mode,k.state),next:B.persistentStates};return B},token:l(_,v),innerMode:function(L){return L.local&&{mode:L.local.mode,state:L.localState}},indent:m(_,T)};if(T)for(var j in T)T.hasOwnProperty(j)&&(z[j]=T[j]);return z};function r(v,y){if(!v.hasOwnProperty(y))throw new Error("Undefined state "+y+" in simple mode")}function i(v,y){if(!v)return/(?:)/;var _="";return v instanceof RegExp?(v.ignoreCase&&(_="i"),v.unicode&&(_+="u"),v=v.source):v=String(v),new RegExp((y===!1?"":"^")+"(?:"+v+")",_)}function o(v){if(!v)return null;if(v.apply)return v;if(typeof v=="string")return v.replace(/\./g," ");for(var y=[],_=0;_<v.length;_++)y.push(v[_]&&v[_].replace(/\./g," "));return y}function s(v,y){(v.next||v.push)&&r(y,v.next||v.push),this.regex=i(v.regex),this.token=o(v.token),this.data=v}function l(v,y){return function(_,T){if(T.pending){var C=T.pending.shift();return T.pending.length==0&&(T.pending=null),_.pos+=C.text.length,C.token}if(T.local)if(T.local.end&&_.match(T.local.end)){var w=T.local.endToken||null;return T.local=T.localState=null,w}else{var w=T.local.mode.token(_,T.localState),S;return T.local.endScan&&(S=T.local.endScan.exec(_.current()))&&(_.pos=_.start+S.index),w}for(var P=v[T.state],A=0;A<P.length;A++){var U=P[A],z=(!U.data.sol||_.sol())&&_.match(U.regex);if(z){U.data.next?T.state=U.data.next:U.data.push?((T.stack||(T.stack=[])).push(T.state),T.state=U.data.push):U.data.pop&&T.stack&&T.stack.length&&(T.state=T.stack.pop()),U.data.mode&&f(y,T,U.data.mode,U.token),U.data.indent&&T.indent.push(_.indentation()+y.indentUnit),U.data.dedent&&T.indent.pop();var j=U.token;if(j&&j.apply&&(j=j(z)),z.length>2&&U.token&&typeof U.token!="string"){for(var L=2;L<z.length;L++)z[L]&&(T.pending||(T.pending=[])).push({text:z[L],token:U.token[L-1]});return _.backUp(z[0].length-(z[1]?z[1].length:0)),j[0]}else return j&&j.join?j[0]:j}}return _.next(),null}}function u(v,y){if(v===y)return!0;if(!v||typeof v!="object"||!y||typeof y!="object")return!1;var _=0;for(var T in v)if(v.hasOwnProperty(T)){if(!y.hasOwnProperty(T)||!u(v[T],y[T]))return!1;_++}for(var T in y)y.hasOwnProperty(T)&&_--;return _==0}function f(v,y,_,T){var C;if(_.persistent)for(var w=y.persistentStates;w&&!C;w=w.next)(_.spec?u(_.spec,w.spec):_.mode==w.mode)&&(C=w);var S=C?C.mode:_.mode||n.getMode(v,_.spec),P=C?C.state:n.startState(S);_.persistent&&!C&&(y.persistentStates={mode:S,spec:_.spec,state:P,next:y.persistentStates}),y.localState=P,y.local={mode:S,end:_.end&&i(_.end),endScan:_.end&&_.forceEnd!==!1&&i(_.end,!1),endToken:T&&T.join?T[T.length-1]:T}}function d(v,y){for(var _=0;_<y.length;_++)if(y[_]===v)return!0}function m(v,y){return function(_,T,C){if(_.local&&_.local.mode.indent)return _.local.mode.indent(_.localState,T,C);if(_.indent==null||_.local||y.dontIndentStates&&d(_.state,y.dontIndentStates)>-1)return n.Pass;var w=_.indent.length-1,S=v[_.state];e:for(;;){for(var P=0;P<S.length;P++){var A=S[P];if(A.data.dedent&&A.data.dedentIfLineStart!==!1){var U=A.regex.exec(T);if(U&&U[0]){w--,(A.next||A.push)&&(S=v[A.next||A.push]),T=T.slice(U[0].length);continue e}}}break}return w<0?0:_.indent[w]}}})})();!window.CodeMirror&&(window.CodeMirror=ZL);const Ad=window.CodeMirror||ZL,Fie=an({name:"DefaultMode",props:{name:{type:String,default:`cm-textarea-${+new Date}`},value:{type:String,default:""},content:{type:String,default:""},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>null},placeholder:{type:String,default:""}},emits:{ready:e=>e,"update:cminstance":e=>e},setup(e,{emit:t}){const n=At(),r=At(null),i=()=>{r.value=ea(Ad.fromTextArea(n.value,e.options)),t("update:cminstance",r.value);const o=Tn(()=>e.cminstance,s=>{var l;s&&((l=e.cminstance)==null||l.setValue(e.value||e.content)),t("ready",_r(r)),o==null||o()},{deep:!0})};return Bi(()=>{i()}),{textarea:n,initialize:i}}}),yw=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Vie=["name","placeholder"];function jie(e,t,n,r,i,o){return me(),Se("textarea",{ref:"textarea",name:e.$props.name,placeholder:e.$props.placeholder},null,8,Vie)}const tE=yw(Fie,[["render",jie]]);window.diff_match_patch=$ie;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0;const Wie=an({name:"MergeMode",props:{options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})}},emits:["update:cminstance","ready"],setup(e,{emit:t}){const n=At(),r=At(),i=()=>{n.value=ea(Ad.MergeView(r.value,e.options)),t("update:cminstance",n.value),t("ready",n)};return Bi(()=>{i()}),{mergeView:r,initialize:i}}}),Uie={ref:"mergeView"};function Kie(e,t,n,r,i,o){return me(),Se("div",Uie,null,512)}const qie=yw(Wie,[["render",Kie]]);function Gie(e){const t=/#link#(.+)#link#/g,n=[];let r;for(r=t.exec(e);r;){const i=document.createElement("a"),o=JSON.parse(r[1]),s=Object.entries(o);for(const[l,u]of s)i.setAttribute(l,u);i.className="editor_custom_link",i.innerHTML="logDownload",n.push({start:r.index,end:r.index+r[0].length,node:i}),r=t.exec(e)}return n}function Jie(e){const t=[];function n(){const r=/#log<(\w*)>log#((.|\r\n|\n)*?)#log<(\w*)>log#/g;let i;for(i=r.exec(e);i;){const o=i[0].replace(/\r\n/g,`
`).split(`
`),s=i[2].replace(/\r\n/g,`
`).split(`
`),l=document.createElement("span"),u=i[1];l.className=`c-editor--log__${u}`;let f=0;for(let d=0;d<o.length;d++){const m=o[d],v=s[d],y=l.cloneNode(!1);y.innerText=v,t.push({start:i.index+f,end:i.index+f+m.length,node:y}),f=f+m.length+1}i=r.exec(e)}}return n(),t}const Zh=[{regex:/(\[.*?\])([ \t]*)(<error>[ \t])(.+)/,token:["tag","","error.strong","error.strong"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<info>)(.+)(.?)/,token:["tag","","bracket","bracket","hr"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<warning>)(.+)(.?)/,token:["tag","","comment","comment","hr"],sol:!0}];Ad.defineSimpleMode("fclog",{start:[...Zh,{regex:/.*/,token:"hr"}],error:[...Zh,{regex:/.*/,token:"error.strong"}],info:[...Zh,{regex:/.*/,token:"bracket"}],warning:[...Zh,{regex:/.*\[/,token:"comment"}]});Ad.defineSimpleMode("log",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:["","string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});const Yie=an({name:"CodemirrorFclog",props:{value:{type:String,default:""},name:{type:String,default:`cm-textarea-${+new Date}`},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["update:cminstance","ready"],setup(e,{emit:t}){const n=At(),r=At(null),i=(s=e.cminstance)=>{s.getAllMarks().forEach(f=>f.clear());const l=s.getValue(),u=[].concat(Gie(l)).concat(Jie(l));for(let f=0;f<u.length;f++){const d=u[f];s.markText(s.posFromIndex(d.start),s.posFromIndex(d.end),{replacedWith:d.node})}},o=()=>{var s;r.value=ea(Ad.fromTextArea(n.value,e.options)),t("update:cminstance",_r(r)),(s=r.value)==null||s.on("change",i)};return Tn(()=>e.cminstance,s=>{var l;s&&(i(e.cminstance),(l=e.cminstance)==null||l.setValue(e.value),t("ready",r))},{deep:!0,immediate:!0}),Bi(()=>{o()}),{initialize:o,textarea:n}}}),Xie=["name","placeholder"];function Zie(e,t,n,r,i,o){return me(),Se("textarea",{ref:"textarea",name:e.$props.name,placeholder:e.$props.placeholder},null,8,Xie)}const Qie=yw(Yie,[["render",Zie]]),QL={"update:value":()=>!0,change:(e,t)=>({value:e,cm:t}),input:()=>!0,ready:e=>e},eoe=["changes","scroll","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"],toe=()=>{const e={};return eoe.forEach(t=>{e[t]=(...n)=>n}),e},noe={...QL,...toe()},jy={mode:"text",theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2};function roe(e){Promise.resolve().then(()=>{const t=e.getScrollInfo();e.scrollTo(t.left,t.height)})}const ioe=({props:e,cminstance:t,emit:n,internalInstance:r,content:i})=>{const o=gn(()=>{var l;return e.merge?(l=_r(t))==null?void 0:l.editor():_r(t)}),s=()=>{const l=[];return Object.keys(r==null?void 0:r.vnode.props).forEach(u=>{if(u.startsWith("on")){const f=u.replace(u[2],u[2].toLowerCase()).slice(2);!QL[f]&&l.push(f)}}),l};return{listenerEvents:()=>{o.value.on("change",u=>{const f=u.getValue();f===i.value&&f!==""||(i.value=f,n("update:value",i.value||""),n("input",i.value||" "),Promise.resolve().then(()=>{n("change",i.value,u)}),e.keepCursorInEnd&&roe(u))});const l={};s().filter(u=>!l[u]&&(l[u]=!0)).forEach(u=>{o.value.on(u,(...f)=>{n(u,...f)})})}}};function ooe({props:e,cminstance:t,presetRef:n}){const r=At(null),i=At(null),o=gn(()=>{var m;return e.merge?(m=_r(t))==null?void 0:m.editor():_r(t)}),s=()=>{ro(()=>{var m;(m=o.value)==null||m.refresh()})},l=(m=e.width,v=e.height)=>{var y;r.value=String(m).replace("px",""),i.value=String(v).replace("px","");const _=i.value;(y=o.value)==null||y.setSize(r.value,_)},u=()=>{var m;const v=(m=o.value)==null?void 0:m.getWrapperElement();v==null||v.remove()},f=()=>{var m,v,y;const _=(m=o.value)==null?void 0:m.getDoc().getHistory();(v=n.value)==null||v.initialize(),u(),(y=o.value)==null||y.getDoc().setHistory(_)},d=()=>{const m=document.querySelector(".CodeMirror-gutters");return(m==null?void 0:m.style.left.replace("px",""))!=="0"};return{reload:f,refresh:s,resize:l,destroy:u,containerHeight:i,reviseStyle:()=>{if(s(),!d())return;const m=setInterval(()=>{d()?s():clearInterval(m)},60),v=setTimeout(()=>{clearInterval(m),clearTimeout(v)},400)}}}const soe=an({__name:"index",props:{value:{type:String,default:""},options:{type:Object,default:()=>jy},globalOptions:{type:Object,default:()=>jy},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},originalStyle:{type:Boolean,default:!1},keepCursorInEnd:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},name:{type:String,default:""},marker:{type:Function,default:()=>null},unseenLines:{type:Array,default:()=>[]}},emits:noe,setup(e,{expose:t,emit:n}){var r,i;const o=e;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value(L){if(L==null)throw new TypeError("Cannot convert undefined or null to object");const B=Object(L);for(let k=1;k<arguments.length;k++){const D=arguments[k];if(D!=null)for(const K in D)Object.prototype.hasOwnProperty.call(D,K)&&(B[K]=D[K])}return B},writable:!0,configurable:!0});const s=At(null),l=At(""),u=vA(tE),f=At({...jy,...o.globalOptions,...o.options}),d=mo(),m=o.name||((i=(r=d==null?void 0:d.parent)==null?void 0:r.type)==null?void 0:i.name)||void 0,v=At(null),y=gn(()=>{var L;return o.merge?(L=_r(s))==null?void 0:L.editor():_r(s)}),{refresh:_,resize:T,destroy:C,containerHeight:w,reviseStyle:S}=ooe({props:o,cminstance:s,presetRef:v}),{listenerEvents:P}=ioe({props:o,cminstance:s,emit:n,internalInstance:d,content:l}),A=()=>{o.unseenLines!==void 0&&o.marker!==void 0&&o.unseenLines.forEach(L=>{var B,k;const D=(B=s.value)==null?void 0:B.lineInfo(L);(k=s.value)==null||k.setGutterMarker(L,"breakpoints",D!=null&&D.gutterMarkers?null:o.marker())})},U=L=>{var B,k;const D=(B=s.value)==null?void 0:B.getValue();L!==D&&((k=s.value)==null||k.setValue(L),l.value=L,S()),A()},z=()=>{P(),A(),T(o.width,o.height),n("ready",s.value),Tn([()=>o.width,()=>o.height],([L,B])=>{T(L,B)},{deep:!0})},j=()=>{if(o.options.mode==="fclog"||o.options.mode==="log"){u.value=Qie;return}if(o.merge){u.value=qie;return}u.value=tE};return Tn(()=>o.options,L=>{var B;for(const k in o.options)(B=y.value)==null||B.setOption(k,_r(L[k]))},{deep:!0}),Tn(()=>o.value,L=>{U(L)}),Tn(()=>o.merge,j,{immediate:!0}),Go(()=>{C()}),t({cminstance:s,resize:T,refresh:_,destroy:C}),(L,B)=>(me(),Se("div",{class:mt(["codemirror-container",{merge:L.$props.merge,bordered:L.$props.border||L.$props.merge&&!o.originalStyle,"width-auto":!L.$props.width||L.$props.width=="100%","height-auto":!L.$props.height||L.$props.height=="100%","original-style":o.originalStyle}]),style:Qr({height:_r(w)+"px"})},[(me(),Et(js(_r(u)),mi({ref_key:"presetRef",ref:v,cminstance:s.value,"onUpdate:cminstance":B[0]||(B[0]=k=>s.value=k),style:{height:"100%"}},{...L.$props,...L.$attrs,options:f.value,name:_r(m),content:l.value},{onReady:z}),null,16,["cminstance"]))],6))}});function aoe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}aoe(`.codemirror-container {
  position: relative;
  display: inline-block;
  height: 100%;
  width: fit-content;
  font-size: 12px;
  overflow: hidden;
}
.codemirror-container.bordered {
  border-radius: 4px;
  border: 1px solid #dddddd;
}
.codemirror-container.width-auto {
  width: 100%;
}
.codemirror-container.height-auto {
  height: 100%;
}
.codemirror-container.height-auto .CodeMirror,
.codemirror-container.height-auto .cm-s-default {
  height: 100% !important;
}
.codemirror-container .editor_custom_link {
  cursor: pointer;
  color: #1474f1;
  text-decoration: underline;
}
.codemirror-container .editor_custom_link:hover {
  color: #04b4fa;
}
.codemirror-container:not(.original-style) .CodeMirror-lines .CodeMirror-placeholder.CodeMirror-line-like {
  color: #666;
}
.codemirror-container:not(.original-style) .CodeMirror,
.codemirror-container:not(.original-style) .CodeMirror-merge-pane {
  height: 100%;
  font-family: consolas !important;
}
.codemirror-container:not(.original-style) .CodeMirror-merge,
.codemirror-container:not(.original-style) .CodeMirror-merge-right .CodeMirror {
  height: 100%;
  border: none !important;
}
.codemirror-container:not(.original-style) .c-editor--log__error {
  color: #bb0606;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__info {
  color: #333333;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__warning {
  color: #ee9900;
}
.codemirror-container:not(.original-style) .c-editor--log__success {
  color: #669600;
}
.codemirror-container:not(.original-style) .cm-header,
.codemirror-container:not(.original-style) .cm-strong {
  font-weight: bold;
}
`);var Gb={},loe={get exports(){return Gb},set exports(e){Gb=e}},zc={},kf={},uoe={get exports(){return kf},set exports(e){kf=e}},Wy={},Uy={},nE;function bw(){if(nE)return Uy;nE=1;function e(r){this.__parent=r,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}e.prototype.clone_empty=function(){var r=new e(this.__parent);return r.set_indent(this.__indent_count,this.__alignment_count),r},e.prototype.item=function(r){return r<0?this.__items[this.__items.length+r]:this.__items[r]},e.prototype.has_match=function(r){for(var i=this.__items.length-1;i>=0;i--)if(this.__items[i].match(r))return!0;return!1},e.prototype.set_indent=function(r,i){this.is_empty()&&(this.__indent_count=r||0,this.__alignment_count=i||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},e.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},e.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},e.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var r=this.__parent.current_line;return r.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),r.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),r.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,r.__items[0]===" "&&(r.__items.splice(0,1),r.__character_count-=1),!0}return!1},e.prototype.is_empty=function(){return this.__items.length===0},e.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},e.prototype.push=function(r){this.__items.push(r);var i=r.lastIndexOf(`
`);i!==-1?this.__character_count=r.length-i:this.__character_count+=r.length},e.prototype.pop=function(){var r=null;return this.is_empty()||(r=this.__items.pop(),this.__character_count-=r.length),r},e.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},e.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},e.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},e.prototype.toString=function(){var r="";return this.is_empty()?this.__parent.indent_empty_lines&&(r=this.__parent.get_indent_string(this.__indent_count)):(r=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),r+=this.__items.join("")),r};function t(r,i){this.__cache=[""],this.__indent_size=r.indent_size,this.__indent_string=r.indent_char,r.indent_with_tabs||(this.__indent_string=new Array(r.indent_size+1).join(r.indent_char)),i=i||"",r.indent_level>0&&(i=new Array(r.indent_level+1).join(this.__indent_string)),this.__base_string=i,this.__base_string_length=i.length}t.prototype.get_indent_size=function(r,i){var o=this.__base_string_length;return i=i||0,r<0&&(o=0),o+=r*this.__indent_size,o+=i,o},t.prototype.get_indent_string=function(r,i){var o=this.__base_string;return i=i||0,r<0&&(r=0,o=""),i+=r*this.__indent_size,this.__ensure_cache(i),o+=this.__cache[i],o},t.prototype.__ensure_cache=function(r){for(;r>=this.__cache.length;)this.__add_column()},t.prototype.__add_column=function(){var r=this.__cache.length,i=0,o="";this.__indent_size&&r>=this.__indent_size&&(i=Math.floor(r/this.__indent_size),r-=i*this.__indent_size,o=new Array(i+1).join(this.__indent_string)),r&&(o+=new Array(r+1).join(" ")),this.__cache.push(o)};function n(r,i){this.__indent_cache=new t(r,i),this.raw=!1,this._end_with_newline=r.end_with_newline,this.indent_size=r.indent_size,this.wrap_line_length=r.wrap_line_length,this.indent_empty_lines=r.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new e(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return n.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},n.prototype.get_line_number=function(){return this.__lines.length},n.prototype.get_indent_string=function(r,i){return this.__indent_cache.get_indent_string(r,i)},n.prototype.get_indent_size=function(r,i){return this.__indent_cache.get_indent_size(r,i)},n.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},n.prototype.add_new_line=function(r){return this.is_empty()||!r&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},n.prototype.get_code=function(r){this.trim(!0);var i=this.current_line.pop();i&&(i[i.length-1]===`
`&&(i=i.replace(/\n+$/g,"")),this.current_line.push(i)),this._end_with_newline&&this.__add_outputline();var o=this.__lines.join(`
`);return r!==`
`&&(o=o.replace(/[\n]/g,r)),o},n.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},n.prototype.set_indent=function(r,i){return r=r||0,i=i||0,this.next_line.set_indent(r,i),this.__lines.length>1?(this.current_line.set_indent(r,i),!0):(this.current_line.set_indent(),!1)},n.prototype.add_raw_token=function(r){for(var i=0;i<r.newlines;i++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(r.whitespace_before),this.current_line.push(r.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},n.prototype.add_token=function(r){this.__add_space_before_token(),this.current_line.push(r),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},n.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},n.prototype.remove_indent=function(r){for(var i=this.__lines.length;r<i;)this.__lines[r]._remove_indent(),r++;this.current_line._remove_wrap_indent()},n.prototype.trim=function(r){for(r=r===void 0?!1:r,this.current_line.trim();r&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},n.prototype.just_added_newline=function(){return this.current_line.is_empty()},n.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},n.prototype.ensure_empty_line_above=function(r,i){for(var o=this.__lines.length-2;o>=0;){var s=this.__lines[o];if(s.is_empty())break;if(s.item(0).indexOf(r)!==0&&s.item(-1)!==i){this.__lines.splice(o+1,0,new e(this)),this.previous_line=this.__lines[this.__lines.length-2];break}o--}},Uy.Output=n,Uy}var Ky={},rE;function eN(){if(rE)return Ky;rE=1;function e(t,n,r,i){this.type=t,this.text=n,this.comments_before=null,this.newlines=r||0,this.whitespace_before=i||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return Ky.Token=e,Ky}var qy={},iE;function tN(){return iE||(iE=1,function(e){var t="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",o="(?:\\\\u[0-9a-fA-F]{4}|["+t+r+"])",s="(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])*";e.identifier=new RegExp(o+s,"g"),e.identifierStart=new RegExp(o),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp(`\r
|`+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")}(qy)),qy}var Gy={},Bc={},oE;function _w(){if(oE)return Bc;oE=1;function e(r,i){this.raw_options=t(r,i),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}e.prototype._get_array=function(r,i){var o=this.raw_options[r],s=i||[];return typeof o=="object"?o!==null&&typeof o.concat=="function"&&(s=o.concat()):typeof o=="string"&&(s=o.split(/[^a-zA-Z0-9_\/\-]+/)),s},e.prototype._get_boolean=function(r,i){var o=this.raw_options[r],s=o===void 0?!!i:!!o;return s},e.prototype._get_characters=function(r,i){var o=this.raw_options[r],s=i||"";return typeof o=="string"&&(s=o.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),s},e.prototype._get_number=function(r,i){var o=this.raw_options[r];i=parseInt(i,10),isNaN(i)&&(i=0);var s=parseInt(o,10);return isNaN(s)&&(s=i),s},e.prototype._get_selection=function(r,i,o){var s=this._get_selection_list(r,i,o);if(s.length!==1)throw new Error("Invalid Option Value: The option '"+r+`' can only be one of the following values:
`+i+`
You passed in: '`+this.raw_options[r]+"'");return s[0]},e.prototype._get_selection_list=function(r,i,o){if(!i||i.length===0)throw new Error("Selection list cannot be empty.");if(o=o||[i[0]],!this._is_valid_selection(o,i))throw new Error("Invalid Default Value!");var s=this._get_array(r,o);if(!this._is_valid_selection(s,i))throw new Error("Invalid Option Value: The option '"+r+`' can contain only the following values:
`+i+`
You passed in: '`+this.raw_options[r]+"'");return s},e.prototype._is_valid_selection=function(r,i){return r.length&&i.length&&!r.some(function(o){return i.indexOf(o)===-1})};function t(r,i){var o={};r=n(r);var s;for(s in r)s!==i&&(o[s]=r[s]);if(i&&r[i])for(s in r[i])o[s]=r[i][s];return o}function n(r){var i={},o;for(o in r){var s=o.replace(/-/g,"_");i[s]=r[o]}return i}return Bc.Options=e,Bc.normalizeOpts=n,Bc.mergeOpts=t,Bc}var sE;function nN(){if(sE)return Gy;sE=1;var e=_w().Options,t=["before-newline","after-newline","preserve-newline"];function n(r){e.call(this,r,"js");var i=this.raw_options.brace_style||null;i==="expand-strict"?this.raw_options.brace_style="expand":i==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var o=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var s=0;s<o.length;s++)o[s]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=o[s];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",t),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return n.prototype=new e,Gy.Options=n,Gy}var Wl={},Jy={},aE;function ww(){if(aE)return Jy;aE=1;var e=RegExp.prototype.hasOwnProperty("sticky");function t(n){this.__input=n||"",this.__input_length=this.__input.length,this.__position=0}return t.prototype.restart=function(){this.__position=0},t.prototype.back=function(){this.__position>0&&(this.__position-=1)},t.prototype.hasNext=function(){return this.__position<this.__input_length},t.prototype.next=function(){var n=null;return this.hasNext()&&(n=this.__input.charAt(this.__position),this.__position+=1),n},t.prototype.peek=function(n){var r=null;return n=n||0,n+=this.__position,n>=0&&n<this.__input_length&&(r=this.__input.charAt(n)),r},t.prototype.__match=function(n,r){n.lastIndex=r;var i=n.exec(this.__input);return i&&!(e&&n.sticky)&&i.index!==r&&(i=null),i},t.prototype.test=function(n,r){return r=r||0,r+=this.__position,r>=0&&r<this.__input_length?!!this.__match(n,r):!1},t.prototype.testChar=function(n,r){var i=this.peek(r);return n.lastIndex=0,i!==null&&n.test(i)},t.prototype.match=function(n){var r=this.__match(n,this.__position);return r?this.__position+=r[0].length:r=null,r},t.prototype.read=function(n,r,i){var o="",s;return n&&(s=this.match(n),s&&(o+=s[0])),r&&(s||!n)&&(o+=this.readUntil(r,i)),o},t.prototype.readUntil=function(n,r){var i="",o=this.__position;n.lastIndex=this.__position;var s=n.exec(this.__input);return s?(o=s.index,r&&(o+=s[0].length)):o=this.__input_length,i=this.__input.substring(this.__position,o),this.__position=o,i},t.prototype.readUntilAfter=function(n){return this.readUntil(n,!0)},t.prototype.get_regexp=function(n,r){var i=null,o="g";return r&&e&&(o="y"),typeof n=="string"&&n!==""?i=new RegExp(n,o):n&&(i=new RegExp(n.source,o)),i},t.prototype.get_literal_regexp=function(n){return RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},t.prototype.peekUntilAfter=function(n){var r=this.__position,i=this.readUntilAfter(n);return this.__position=r,i},t.prototype.lookBack=function(n){var r=this.__position-1;return r>=n.length&&this.__input.substring(r-n.length,r).toLowerCase()===n},Jy.InputScanner=t,Jy}var Qh={},Yy={},lE;function coe(){if(lE)return Yy;lE=1;function e(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}return e.prototype.restart=function(){this.__position=0},e.prototype.isEmpty=function(){return this.__tokens_length===0},e.prototype.hasNext=function(){return this.__position<this.__tokens_length},e.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},e.prototype.peek=function(t){var n=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(n=this.__tokens[t]),n},e.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},Yy.TokenStream=e,Yy}var Xy={},Zy={},uE;function Ug(){if(uE)return Zy;uE=1;function e(t,n){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,n&&(this._starting_pattern=this._input.get_regexp(n._starting_pattern,!0),this._match_pattern=this._input.get_regexp(n._match_pattern,!0),this._until_pattern=this._input.get_regexp(n._until_pattern),this._until_after=n._until_after)}return e.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},e.prototype.read_match=function(){return this._input.match(this._match_pattern)},e.prototype.until_after=function(t){var n=this._create();return n._until_after=!0,n._until_pattern=this._input.get_regexp(t),n._update(),n},e.prototype.until=function(t){var n=this._create();return n._until_after=!1,n._until_pattern=this._input.get_regexp(t),n._update(),n},e.prototype.starting_with=function(t){var n=this._create();return n._starting_pattern=this._input.get_regexp(t,!0),n._update(),n},e.prototype.matching=function(t){var n=this._create();return n._match_pattern=this._input.get_regexp(t,!0),n._update(),n},e.prototype._create=function(){return new e(this._input,this)},e.prototype._update=function(){},Zy.Pattern=e,Zy}var cE;function foe(){if(cE)return Xy;cE=1;var e=Ug().Pattern;function t(n,r){e.call(this,n,r),r?this._line_regexp=this._input.get_regexp(r._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return t.prototype=new e,t.prototype.__set_whitespace_patterns=function(n,r){n+="\\t ",r+="\\n\\r",this._match_pattern=this._input.get_regexp("["+n+r+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+r+"]")},t.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var n=this._input.read(this._match_pattern);if(n===" ")this.whitespace_before_token=" ";else if(n){var r=this.__split(this._newline_regexp,n);this.newline_count=r.length-1,this.whitespace_before_token=r[this.newline_count]}return n},t.prototype.matching=function(n,r){var i=this._create();return i.__set_whitespace_patterns(n,r),i._update(),i},t.prototype._create=function(){return new t(this._input,this)},t.prototype.__split=function(n,r){n.lastIndex=0;for(var i=0,o=[],s=n.exec(r);s;)o.push(r.substring(i,s.index)),i=s.index+s[0].length,s=n.exec(r);return i<r.length?o.push(r.substring(i,r.length)):o.push(""),o},Xy.WhitespacePattern=t,Xy}var fE;function Bm(){if(fE)return Qh;fE=1;var e=ww().InputScanner,t=eN().Token,n=coe().TokenStream,r=foe().WhitespacePattern,i={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},o=function(s,l){this._input=new e(s),this._options=l||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new r(this._input)};return o.prototype.tokenize=function(){this._input.restart(),this.__tokens=new n,this._reset();for(var s,l=new t(i.START,""),u=null,f=[],d=new n;l.type!==i.EOF;){for(s=this._get_next_token(l,u);this._is_comment(s);)d.add(s),s=this._get_next_token(l,u);d.isEmpty()||(s.comments_before=d,d=new n),s.parent=u,this._is_opening(s)?(f.push(u),u=s):u&&this._is_closing(s,u)&&(s.opened=u,u.closed=s,u=f.pop(),s.parent=u),s.previous=l,l.next=s,this.__tokens.add(s),l=s}return this.__tokens},o.prototype._is_first_token=function(){return this.__tokens.isEmpty()},o.prototype._reset=function(){},o.prototype._get_next_token=function(s,l){this._readWhitespace();var u=this._input.read(/.+/g);return u?this._create_token(i.RAW,u):this._create_token(i.EOF,"")},o.prototype._is_comment=function(s){return!1},o.prototype._is_opening=function(s){return!1},o.prototype._is_closing=function(s,l){return!1},o.prototype._create_token=function(s,l){var u=new t(s,l,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return u},o.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},Qh.Tokenizer=o,Qh.TOKEN=i,Qh}var Qy={},dE;function kw(){if(dE)return Qy;dE=1;function e(t,n){t=typeof t=="string"?t:t.source,n=typeof n=="string"?n:n.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+n,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+n,"g")}return e.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var n={};this.__directive_pattern.lastIndex=0;for(var r=this.__directive_pattern.exec(t);r;)n[r[1]]=r[2],r=this.__directive_pattern.exec(t);return n},e.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},Qy.Directives=e,Qy}var e0={},hE;function rN(){if(hE)return e0;hE=1;var e=Ug().Pattern,t={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function n(r,i){e.call(this,r,i),this.__template_pattern=null,this._disabled=Object.assign({},t),this._excluded=Object.assign({},t),i&&(this.__template_pattern=this._input.get_regexp(i.__template_pattern),this._excluded=Object.assign(this._excluded,i._excluded),this._disabled=Object.assign(this._disabled,i._disabled));var o=new e(r);this.__patterns={handlebars_comment:o.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:o.starting_with(/{{{/).until_after(/}}}/),handlebars:o.starting_with(/{{/).until_after(/}}/),php:o.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:o.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:o.starting_with(/{%/).until_after(/%}/),django_value:o.starting_with(/{{/).until_after(/}}/),django_comment:o.starting_with(/{#/).until_after(/#}/),smarty:o.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:o.starting_with(/{\*/).until_after(/\*}/),smarty_literal:o.starting_with(/{literal}/).until_after(/{\/literal}/)}}return n.prototype=new e,n.prototype._create=function(){return new n(this._input,this)},n.prototype._update=function(){this.__set_templated_pattern()},n.prototype.disable=function(r){var i=this._create();return i._disabled[r]=!0,i._update(),i},n.prototype.read_options=function(r){var i=this._create();for(var o in t)i._disabled[o]=r.templating.indexOf(o)===-1;return i._update(),i},n.prototype.exclude=function(r){var i=this._create();return i._excluded[r]=!0,i._update(),i},n.prototype.read=function(){var r="";this._match_pattern?r=this._input.read(this._starting_pattern):r=this._input.read(this._starting_pattern,this.__template_pattern);for(var i=this._read_template();i;)this._match_pattern?i+=this._input.read(this._match_pattern):i+=this._input.readUntil(this.__template_pattern),r+=i,i=this._read_template();return this._until_after&&(r+=this._input.readUntilAfter(this._until_pattern)),r},n.prototype.__set_templated_pattern=function(){var r=[];this._disabled.php||r.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||r.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||r.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(r.push(this.__patterns.django._starting_pattern.source),r.push(this.__patterns.django_value._starting_pattern.source),r.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||r.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&r.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+r.join("|")+")")},n.prototype._read_template=function(){var r="",i=this._input.peek();if(i==="<"){var o=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&o==="?"&&(r=r||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&o==="%"&&(r=r||this.__patterns.erb.read())}else i==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(r=r||this.__patterns.handlebars_comment.read(),r=r||this.__patterns.handlebars_unescaped.read(),r=r||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(r=r||this.__patterns.django_value.read()),this._excluded.django||(r=r||this.__patterns.django_comment.read(),r=r||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(r=r||this.__patterns.smarty_comment.read(),r=r||this.__patterns.smarty_literal.read(),r=r||this.__patterns.smarty.read()));return r},e0.TemplatablePattern=n,e0}var pE;function ep(){if(pE)return Wl;pE=1;var e=ww().InputScanner,t=Bm().Tokenizer,n=Bm().TOKEN,r=kw().Directives,i=tN(),o=Ug().Pattern,s=rN().TemplatablePattern;function l(z,j){return j.indexOf(z)!==-1}var u={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:n.START,RAW:n.RAW,EOF:n.EOF},f=new r(/\/\*/,/\*\//),d=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,m=/[0-9]/,v=/[^\d\.]/,y=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),_=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";_=_.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),_="\\?\\.(?!\\d) "+_,_=_.replace(/ /g,"|");var T=new RegExp(_),C="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),w=C.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),S=new RegExp("^(?:"+w.join("|")+")$"),P,A=function(z,j){t.call(this,z,j),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var L=new o(this._input),B=new s(this._input).read_options(this._options);this.__patterns={template:B,identifier:B.starting_with(i.identifier).matching(i.identifierMatch),number:L.matching(d),punct:L.matching(T),comment:L.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:L.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:L.matching(/<!--/),html_comment_end:L.matching(/-->/),include:L.starting_with(/#include/).until_after(i.lineBreak),shebang:L.starting_with(/#!/).until_after(i.lineBreak),xml:L.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:B.until(/['\\\n\r\u2028\u2029]/),double_quote:B.until(/["\\\n\r\u2028\u2029]/),template_text:B.until(/[`\\$]/),template_expression:B.until(/[`}\\]/)}};A.prototype=new t,A.prototype._is_comment=function(z){return z.type===u.COMMENT||z.type===u.BLOCK_COMMENT||z.type===u.UNKNOWN},A.prototype._is_opening=function(z){return z.type===u.START_BLOCK||z.type===u.START_EXPR},A.prototype._is_closing=function(z,j){return(z.type===u.END_BLOCK||z.type===u.END_EXPR)&&j&&(z.text==="]"&&j.text==="["||z.text===")"&&j.text==="("||z.text==="}"&&j.text==="{")},A.prototype._reset=function(){P=!1},A.prototype._get_next_token=function(z,j){var L=null;this._readWhitespace();var B=this._input.peek();return B===null?this._create_token(u.EOF,""):(L=L||this._read_non_javascript(B),L=L||this._read_string(B),L=L||this._read_word(z),L=L||this._read_singles(B),L=L||this._read_comment(B),L=L||this._read_regexp(B,z),L=L||this._read_xml(B,z),L=L||this._read_punctuation(),L=L||this._create_token(u.UNKNOWN,this._input.next()),L)},A.prototype._read_word=function(z){var j;if(j=this.__patterns.identifier.read(),j!=="")return j=j.replace(i.allLineBreaks,`
`),!(z.type===u.DOT||z.type===u.RESERVED&&(z.text==="set"||z.text==="get"))&&S.test(j)?(j==="in"||j==="of")&&(z.type===u.WORD||z.type===u.STRING)?this._create_token(u.OPERATOR,j):this._create_token(u.RESERVED,j):this._create_token(u.WORD,j);if(j=this.__patterns.number.read(),j!=="")return this._create_token(u.WORD,j)},A.prototype._read_singles=function(z){var j=null;return z==="("||z==="["?j=this._create_token(u.START_EXPR,z):z===")"||z==="]"?j=this._create_token(u.END_EXPR,z):z==="{"?j=this._create_token(u.START_BLOCK,z):z==="}"?j=this._create_token(u.END_BLOCK,z):z===";"?j=this._create_token(u.SEMICOLON,z):z==="."&&v.test(this._input.peek(1))?j=this._create_token(u.DOT,z):z===","&&(j=this._create_token(u.COMMA,z)),j&&this._input.next(),j},A.prototype._read_punctuation=function(){var z=this.__patterns.punct.read();if(z!=="")return z==="="?this._create_token(u.EQUALS,z):z==="?."?this._create_token(u.DOT,z):this._create_token(u.OPERATOR,z)},A.prototype._read_non_javascript=function(z){var j="";if(z==="#"){if(this._is_first_token()&&(j=this.__patterns.shebang.read(),j))return this._create_token(u.UNKNOWN,j.trim()+`
`);if(j=this.__patterns.include.read(),j)return this._create_token(u.UNKNOWN,j.trim()+`
`);z=this._input.next();var L="#";if(this._input.hasNext()&&this._input.testChar(m)){do z=this._input.next(),L+=z;while(this._input.hasNext()&&z!=="#"&&z!=="=");return z==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(L+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(L+="{}",this._input.next(),this._input.next())),this._create_token(u.WORD,L)}this._input.back()}else if(z==="<"&&this._is_first_token()){if(j=this.__patterns.html_comment_start.read(),j){for(;this._input.hasNext()&&!this._input.testChar(i.newline);)j+=this._input.next();return P=!0,this._create_token(u.COMMENT,j)}}else if(P&&z==="-"&&(j=this.__patterns.html_comment_end.read(),j))return P=!1,this._create_token(u.COMMENT,j);return null},A.prototype._read_comment=function(z){var j=null;if(z==="/"){var L="";if(this._input.peek(1)==="*"){L=this.__patterns.block_comment.read();var B=f.get_directives(L);B&&B.ignore==="start"&&(L+=f.readIgnored(this._input)),L=L.replace(i.allLineBreaks,`
`),j=this._create_token(u.BLOCK_COMMENT,L),j.directives=B}else this._input.peek(1)==="/"&&(L=this.__patterns.comment.read(),j=this._create_token(u.COMMENT,L))}return j},A.prototype._read_string=function(z){if(z==="`"||z==="'"||z==='"'){var j=this._input.next();return this.has_char_escapes=!1,z==="`"?j+=this._read_string_recursive("`",!0,"${"):j+=this._read_string_recursive(z),this.has_char_escapes&&this._options.unescape_strings&&(j=U(j)),this._input.peek()===z&&(j+=this._input.next()),j=j.replace(i.allLineBreaks,`
`),this._create_token(u.STRING,j)}return null},A.prototype._allow_regexp_or_xml=function(z){return z.type===u.RESERVED&&l(z.text,["return","case","throw","else","do","typeof","yield"])||z.type===u.END_EXPR&&z.text===")"&&z.opened.previous.type===u.RESERVED&&l(z.opened.previous.text,["if","while","for"])||l(z.type,[u.COMMENT,u.START_EXPR,u.START_BLOCK,u.START,u.END_BLOCK,u.OPERATOR,u.EQUALS,u.EOF,u.SEMICOLON,u.COMMA])},A.prototype._read_regexp=function(z,j){if(z==="/"&&this._allow_regexp_or_xml(j)){for(var L=this._input.next(),B=!1,k=!1;this._input.hasNext()&&(B||k||this._input.peek()!==z)&&!this._input.testChar(i.newline);)L+=this._input.peek(),B?B=!1:(B=this._input.peek()==="\\",this._input.peek()==="["?k=!0:this._input.peek()==="]"&&(k=!1)),this._input.next();return this._input.peek()===z&&(L+=this._input.next(),L+=this._input.read(i.identifier)),this._create_token(u.STRING,L)}return null},A.prototype._read_xml=function(z,j){if(this._options.e4x&&z==="<"&&this._allow_regexp_or_xml(j)){var L="",B=this.__patterns.xml.read_match();if(B){for(var k=B[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),D=k.indexOf("{")===0,K=0;B;){var q=!!B[1],Q=B[2],I=!!B[B.length-1]||Q.slice(0,8)==="![CDATA[";if(!I&&(Q===k||D&&Q.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(q?--K:++K),L+=B[0],K<=0)break;B=this.__patterns.xml.read_match()}return B||(L+=this._input.match(/[\s\S]*/g)[0]),L=L.replace(i.allLineBreaks,`
`),this._create_token(u.STRING,L)}}return null};function U(z){for(var j="",L=0,B=new e(z),k=null;B.hasNext();)if(k=B.match(/([\s]|[^\\]|\\\\)+/g),k&&(j+=k[0]),B.peek()==="\\"){if(B.next(),B.peek()==="x")k=B.match(/x([0-9A-Fa-f]{2})/g);else if(B.peek()==="u")k=B.match(/u([0-9A-Fa-f]{4})/g);else{j+="\\",B.hasNext()&&(j+=B.next());continue}if(!k||(L=parseInt(k[1],16),L>126&&L<=255&&k[0].indexOf("x")===0))return z;if(L>=0&&L<32){j+="\\"+k[0];continue}else L===34||L===39||L===92?j+="\\"+String.fromCharCode(L):j+=String.fromCharCode(L)}return j}return A.prototype._read_string_recursive=function(z,j,L){var B,k;z==="'"?k=this.__patterns.single_quote:z==='"'?k=this.__patterns.double_quote:z==="`"?k=this.__patterns.template_text:z==="}"&&(k=this.__patterns.template_expression);for(var D=k.read(),K="";this._input.hasNext();){if(K=this._input.next(),K===z||!j&&i.newline.test(K)){this._input.back();break}else K==="\\"&&this._input.hasNext()?(B=this._input.peek(),B==="x"||B==="u"?this.has_char_escapes=!0:B==="\r"&&this._input.peek(1)===`
`&&this._input.next(),K+=this._input.next()):L&&(L==="${"&&K==="$"&&this._input.peek()==="{"&&(K+=this._input.next()),L===K&&(z==="`"?K+=this._read_string_recursive("}",j,"`"):K+=this._read_string_recursive("`",j,"${"),this._input.hasNext()&&(K+=this._input.next())));K+=k.read(),D+=K}return D},Wl.Tokenizer=A,Wl.TOKEN=u,Wl.positionable_operators=y.slice(),Wl.line_starters=C.slice(),Wl}var mE;function doe(){if(mE)return Wy;mE=1;var e=bw().Output,t=eN().Token,n=tN(),r=nN().Options,i=ep().Tokenizer,o=ep().line_starters,s=ep().positionable_operators,l=ep().TOKEN;function u(k,D){return D.indexOf(k)!==-1}function f(k){return k.replace(/^\s+/g,"")}function d(k){for(var D={},K=0;K<k.length;K++)D[k[K].replace(/-/g,"_")]=k[K];return D}function m(k,D){return k&&k.type===l.RESERVED&&k.text===D}function v(k,D){return k&&k.type===l.RESERVED&&u(k.text,D)}var y=["case","return","do","if","throw","else","await","break","continue","async"],_=["before-newline","after-newline","preserve-newline"],T=d(_),C=[T.before_newline,T.preserve_newline],w={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function S(k,D){D.multiline_frame||D.mode===w.ForInitializer||D.mode===w.Conditional||k.remove_indent(D.start_line_index)}function P(k){k=k.replace(n.allLineBreaks,`
`);for(var D=[],K=k.indexOf(`
`);K!==-1;)D.push(k.substring(0,K)),k=k.substring(K+1),K=k.indexOf(`
`);return k.length&&D.push(k),D}function A(k){return k===w.ArrayLiteral}function U(k){return u(k,[w.Expression,w.ForInitializer,w.Conditional])}function z(k,D){for(var K=0;K<k.length;K++){var q=k[K].trim();if(q.charAt(0)!==D)return!1}return!0}function j(k,D){for(var K=0,q=k.length,Q;K<q;K++)if(Q=k[K],Q&&Q.indexOf(D)!==0)return!1;return!0}function L(k,D){D=D||{},this._source_text=k||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new r(D)}L.prototype.create_flags=function(k,D){var K=0;k&&(K=k.indentation_level,!this._output.just_added_newline()&&k.line_indent_level>K&&(K=k.line_indent_level));var q={mode:D,parent:k,last_token:k?k.last_token:new t(l.START_BLOCK,""),last_word:k?k.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:K,alignment:0,line_indent_level:k?k.line_indent_level:K,start_line_index:this._output.get_line_number(),ternary_depth:0};return q},L.prototype._reset=function(k){var D=k.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new e(this._options,D),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(w.BlockStatement);var K=new i(k,this._options);return this._tokens=K.tokenize(),k},L.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var k,D=this._reset(this._source_text),K=this._options.eol;this._options.eol==="auto"&&(K=`
`,D&&n.lineBreak.test(D||"")&&(K=D.match(n.lineBreak)[0]));for(var q=this._tokens.next();q;)this.handle_token(q),this._last_last_text=this._flags.last_token.text,this._flags.last_token=q,q=this._tokens.next();return k=this._output.get_code(K),k},L.prototype.handle_token=function(k,D){k.type===l.START_EXPR?this.handle_start_expr(k):k.type===l.END_EXPR?this.handle_end_expr(k):k.type===l.START_BLOCK?this.handle_start_block(k):k.type===l.END_BLOCK?this.handle_end_block(k):k.type===l.WORD?this.handle_word(k):k.type===l.RESERVED?this.handle_word(k):k.type===l.SEMICOLON?this.handle_semicolon(k):k.type===l.STRING?this.handle_string(k):k.type===l.EQUALS?this.handle_equals(k):k.type===l.OPERATOR?this.handle_operator(k):k.type===l.COMMA?this.handle_comma(k):k.type===l.BLOCK_COMMENT?this.handle_block_comment(k,D):k.type===l.COMMENT?this.handle_comment(k,D):k.type===l.DOT?this.handle_dot(k):k.type===l.EOF?this.handle_eof(k):k.type===l.UNKNOWN?this.handle_unknown(k,D):this.handle_unknown(k,D)},L.prototype.handle_whitespace_and_comments=function(k,D){var K=k.newlines,q=this._options.keep_array_indentation&&A(this._flags.mode);if(k.comments_before)for(var Q=k.comments_before.next();Q;)this.handle_whitespace_and_comments(Q,D),this.handle_token(Q,D),Q=k.comments_before.next();if(q)for(var I=0;I<K;I+=1)this.print_newline(I>0,D);else if(this._options.max_preserve_newlines&&K>this._options.max_preserve_newlines&&(K=this._options.max_preserve_newlines),this._options.preserve_newlines&&K>1){this.print_newline(!1,D);for(var ce=1;ce<K;ce+=1)this.print_newline(!0,D)}};var B=["async","break","continue","return","throw","yield"];return L.prototype.allow_wrap_or_preserved_newline=function(k,D){if(D=D===void 0?!1:D,!this._output.just_added_newline()){var K=this._options.preserve_newlines&&k.newlines||D,q=u(this._flags.last_token.text,s)||u(k.text,s);if(q){var Q=u(this._flags.last_token.text,s)&&u(this._options.operator_position,C)||u(k.text,s);K=K&&Q}if(K)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(v(this._flags.last_token,B))return;this._output.set_wrap_point()}}},L.prototype.print_newline=function(k,D){if(!D&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var K=this._tokens.peek();this._flags.mode===w.Statement&&!(this._flags.if_block&&m(K,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(k)&&(this._flags.multiline_frame=!0)},L.prototype.print_token_line_indentation=function(k){this._output.just_added_newline()&&(this._options.keep_array_indentation&&k.newlines&&(k.text==="["||A(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(k.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},L.prototype.print_token=function(k){if(this._output.raw){this._output.add_raw_token(k);return}if(this._options.comma_first&&k.previous&&k.previous.type===l.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var D=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(D),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(k),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(k),this._output.non_breaking_space=!0,this._output.add_token(k.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},L.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},L.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},L.prototype.set_mode=function(k){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,k),this._flags=this.create_flags(this._previous_flags,k),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},L.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===w.Statement&&S(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},L.prototype.start_of_object_property=function(){return this._flags.parent.mode===w.ObjectLiteral&&this._flags.mode===w.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||v(this._flags.last_token,["get","set"]))},L.prototype.start_of_statement=function(k){var D=!1;return D=D||v(this._flags.last_token,["var","let","const"])&&k.type===l.WORD,D=D||m(this._flags.last_token,"do"),D=D||!(this._flags.parent.mode===w.ObjectLiteral&&this._flags.mode===w.Statement)&&v(this._flags.last_token,B)&&!k.newlines,D=D||m(this._flags.last_token,"else")&&!(m(k,"if")&&!k.comments_before),D=D||this._flags.last_token.type===l.END_EXPR&&(this._previous_flags.mode===w.ForInitializer||this._previous_flags.mode===w.Conditional),D=D||this._flags.last_token.type===l.WORD&&this._flags.mode===w.BlockStatement&&!this._flags.in_case&&!(k.text==="--"||k.text==="++")&&this._last_last_text!=="function"&&k.type!==l.WORD&&k.type!==l.RESERVED,D=D||this._flags.mode===w.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||v(this._flags.last_token,["get","set"])),D?(this.set_mode(w.Statement),this.indent(),this.handle_whitespace_and_comments(k,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(k,v(k,["do","for","if","while"])),!0):!1},L.prototype.handle_start_expr=function(k){this.start_of_statement(k)||this.handle_whitespace_and_comments(k);var D=w.Expression;if(k.text==="["){if(this._flags.last_token.type===l.WORD||this._flags.last_token.text===")"){v(this._flags.last_token,o)&&(this._output.space_before_token=!0),this.print_token(k),this.set_mode(D),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}D=w.ArrayLiteral,A(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),u(this._flags.last_token.type,[l.START_EXPR,l.END_EXPR,l.WORD,l.OPERATOR,l.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===l.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,D=w.ForInitializer):u(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,D=w.Conditional):u(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&k.whitespace_before===""?this._output.space_before_token=!1:(u(this._flags.last_token.text,o)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(k);else if(this._flags.last_token.type===l.WORD){this._output.space_before_token=!1;var K=this._tokens.peek(-3);if(this._options.space_after_named_function&&K){var q=this._tokens.peek(-4);v(K,["async","function"])||K.text==="*"&&v(q,["async","function"])?this._output.space_before_token=!0:this._flags.mode===w.ObjectLiteral?(K.text==="{"||K.text===","||K.text==="*"&&(q.text==="{"||q.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(k);(this._flags.last_token.type===l.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(u(this._last_last_text,["function","yield"])||this._flags.mode===w.ObjectLiteral&&u(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===l.START_BLOCK?this.print_newline():(this._flags.last_token.type===l.END_EXPR||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===l.COMMA)&&this.allow_wrap_or_preserved_newline(k,k.newlines),this.print_token(k),this.set_mode(D),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},L.prototype.handle_end_expr=function(k){for(;this._flags.mode===w.Statement;)this.restore_mode();this.handle_whitespace_and_comments(k),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(k,k.text==="]"&&A(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===l.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(k),this.restore_mode(),S(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===w.Conditional&&(this._previous_flags.mode=w.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},L.prototype.handle_start_block=function(k){this.handle_whitespace_and_comments(k);var D=this._tokens.peek(),K=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===l.END_EXPR?(this.set_mode(w.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(w.BlockStatement):K&&(u(K.text,[":",","])&&u(D.type,[l.STRING,l.WORD,l.RESERVED])||u(D.text,["get","set","..."])&&u(K.type,[l.WORD,l.RESERVED]))?u(this._last_last_text,["class","interface"])&&!u(K.text,[":",","])?this.set_mode(w.BlockStatement):this.set_mode(w.ObjectLiteral):this._flags.last_token.type===l.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(w.BlockStatement):u(this._flags.last_token.type,[l.EQUALS,l.START_EXPR,l.COMMA,l.OPERATOR])||v(this._flags.last_token,["return","throw","import","default"])?this.set_mode(w.ObjectLiteral):this.set_mode(w.BlockStatement),this._flags.last_token&&v(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var q=!D.comments_before&&D.text==="}",Q=q&&this._flags.last_word==="function"&&this._flags.last_token.type===l.END_EXPR;if(this._options.brace_preserve_inline){var I=0,ce=null;this._flags.inline_frame=!0;do if(I+=1,ce=this._tokens.peek(I-1),ce.newlines){this._flags.inline_frame=!1;break}while(ce.type!==l.EOF&&!(ce.type===l.END_BLOCK&&ce.opened===k))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&k.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==l.OPERATOR&&(Q||this._flags.last_token.type===l.EQUALS||v(this._flags.last_token,y)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(A(this._previous_flags.mode)&&(this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.COMMA)&&((this._flags.last_token.type===l.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(k),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==l.OPERATOR&&this._flags.last_token.type!==l.START_EXPR&&(this._flags.last_token.type===l.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(k),this.indent(),!q&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},L.prototype.handle_end_block=function(k){for(this.handle_whitespace_and_comments(k);this._flags.mode===w.Statement;)this.restore_mode();var D=this._flags.last_token.type===l.START_BLOCK;this._flags.inline_frame&&!D?this._output.space_before_token=!0:this._options.brace_style==="expand"?D||this.print_newline():D||(A(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(k)},L.prototype.handle_word=function(k){if(k.type===l.RESERVED){if(u(k.text,["set","get"])&&this._flags.mode!==w.ObjectLiteral)k.type=l.WORD;else if(k.text==="import"&&u(this._tokens.peek().text,["(","."]))k.type=l.WORD;else if(u(k.text,["as","from"])&&!this._flags.import_block)k.type=l.WORD;else if(this._flags.mode===w.ObjectLiteral){var D=this._tokens.peek();D.text===":"&&(k.type=l.WORD)}}if(this.start_of_statement(k)?v(this._flags.last_token,["var","let","const"])&&k.type===l.WORD&&(this._flags.declaration_statement=!0):k.newlines&&!U(this._flags.mode)&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==l.EQUALS&&(this._options.preserve_newlines||!v(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(k),this.print_newline()):this.handle_whitespace_and_comments(k),this._flags.do_block&&!this._flags.do_while)if(m(k,"while")){this._output.space_before_token=!0,this.print_token(k),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&m(k,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===w.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&v(k,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(k),this._flags.in_case=!0;return}if((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(k)),m(k,"function")){(u(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(u(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===l.OPERATOR))&&!this._output.just_added_blankline()&&!k.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD?v(this._flags.last_token,["get","set","new","export"])||v(this._flags.last_token,B)?this._output.space_before_token=!0:m(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===l.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(U(this._flags.mode)||A(this._flags.mode))||this.print_newline(),this.print_token(k),this._flags.last_word=k.text;return}var K="NONE";if(this._flags.last_token.type===l.END_BLOCK?this._previous_flags.inline_frame?K="SPACE":v(k,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&k.newlines?K="NEWLINE":(K="SPACE",this._output.space_before_token=!0):K="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&this._flags.mode===w.BlockStatement?K="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&U(this._flags.mode)?K="SPACE":this._flags.last_token.type===l.STRING?K="NEWLINE":this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.last_token.text==="*"&&(u(this._last_last_text,["function","yield"])||this._flags.mode===w.ObjectLiteral&&u(this._last_last_text,["{",","]))?K="SPACE":this._flags.last_token.type===l.START_BLOCK?this._flags.inline_frame?K="SPACE":K="NEWLINE":this._flags.last_token.type===l.END_EXPR&&(this._output.space_before_token=!0,K="NEWLINE"),v(k,o)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?K="SPACE":K="NEWLINE"),v(k,["else","catch","finally"]))if((!(this._flags.last_token.type===l.END_BLOCK&&this._previous_flags.mode===w.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&k.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var q=this._output.current_line;q.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else K==="NEWLINE"?v(this._flags.last_token,y)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&v(k,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==l.END_EXPR?(this._flags.last_token.type!==l.START_EXPR||!v(k,["var","let","const"]))&&this._flags.last_token.text!==":"&&(m(k,"if")&&m(k.previous,"else")?this._output.space_before_token=!0:this.print_newline()):v(k,o)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&A(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():K==="SPACE"&&(this._output.space_before_token=!0);k.previous&&(k.previous.type===l.WORD||k.previous.type===l.RESERVED)&&(this._output.space_before_token=!0),this.print_token(k),this._flags.last_word=k.text,k.type===l.RESERVED&&(k.text==="do"?this._flags.do_block=!0:k.text==="if"?this._flags.if_block=!0:k.text==="import"?this._flags.import_block=!0:this._flags.import_block&&m(k,"from")&&(this._flags.import_block=!1))},L.prototype.handle_semicolon=function(k){this.start_of_statement(k)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(k);for(var D=this._tokens.peek();this._flags.mode===w.Statement&&!(this._flags.if_block&&m(D,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(k)},L.prototype.handle_string=function(k){k.text.startsWith("`")&&k.newlines===0&&k.whitespace_before===""&&(k.previous.text===")"||this._flags.last_token.type===l.WORD)||(this.start_of_statement(k)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(k),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(k):k.text.startsWith("`")&&this._flags.last_token.type===l.END_EXPR&&(k.previous.text==="]"||k.previous.text===")")&&k.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(k)},L.prototype.handle_equals=function(k){this.start_of_statement(k)||this.handle_whitespace_and_comments(k),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(k),this._output.space_before_token=!0},L.prototype.handle_comma=function(k){this.handle_whitespace_and_comments(k,!0),this.print_token(k),this._output.space_before_token=!0,this._flags.declaration_statement?(U(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(k)):this._flags.mode===w.ObjectLiteral||this._flags.mode===w.Statement&&this._flags.parent.mode===w.ObjectLiteral?(this._flags.mode===w.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(k)},L.prototype.handle_operator=function(k){var D=k.text==="*"&&(v(this._flags.last_token,["function","yield"])||u(this._flags.last_token.type,[l.START_BLOCK,l.COMMA,l.END_BLOCK,l.SEMICOLON])),K=u(k.text,["-","+"])&&(u(this._flags.last_token.type,[l.START_BLOCK,l.START_EXPR,l.EQUALS,l.OPERATOR])||u(this._flags.last_token.text,o)||this._flags.last_token.text===",");if(!this.start_of_statement(k)){var q=!D;this.handle_whitespace_and_comments(k,q)}if(k.text==="*"&&this._flags.last_token.type===l.DOT){this.print_token(k);return}if(k.text==="::"){this.print_token(k);return}if(this._flags.last_token.type===l.OPERATOR&&u(this._options.operator_position,C)&&this.allow_wrap_or_preserved_newline(k),k.text===":"&&this._flags.in_case){this.print_token(k),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==l.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var Q=!0,I=!0,ce=!1;if(k.text===":"?this._flags.ternary_depth===0?Q=!1:(this._flags.ternary_depth-=1,ce=!0):k.text==="?"&&(this._flags.ternary_depth+=1),!K&&!D&&this._options.preserve_newlines&&u(k.text,s)){var de=k.text===":",xe=de&&ce,Be=de&&!ce;switch(this._options.operator_position){case T.before_newline:this._output.space_before_token=!Be,this.print_token(k),(!de||xe)&&this.allow_wrap_or_preserved_newline(k),this._output.space_before_token=!0;return;case T.after_newline:this._output.space_before_token=!0,!de||xe?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(k):this._output.space_before_token=!1,this.print_token(k),this._output.space_before_token=!0;return;case T.preserve_newline:Be||this.allow_wrap_or_preserved_newline(k),Q=!(this._output.just_added_newline()||Be),this._output.space_before_token=Q,this.print_token(k),this._output.space_before_token=!0;return}}if(D){this.allow_wrap_or_preserved_newline(k),Q=!1;var rt=this._tokens.peek();I=rt&&u(rt.type,[l.WORD,l.RESERVED])}else if(k.text==="...")this.allow_wrap_or_preserved_newline(k),Q=this._flags.last_token.type===l.START_BLOCK,I=!1;else if(u(k.text,["--","++","!","~"])||K){if((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR)&&this.allow_wrap_or_preserved_newline(k),Q=!1,I=!1,k.newlines&&(k.text==="--"||k.text==="++"||k.text==="~")){var pt=v(this._flags.last_token,y)&&k.newlines;pt&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(pt,!0)}this._flags.last_token.text===";"&&U(this._flags.mode)&&(Q=!0),this._flags.last_token.type===l.RESERVED?Q=!0:this._flags.last_token.type===l.END_EXPR?Q=!(this._flags.last_token.text==="]"&&(k.text==="--"||k.text==="++")):this._flags.last_token.type===l.OPERATOR&&(Q=u(k.text,["--","-","++","+"])&&u(this._flags.last_token.text,["--","-","++","+"]),u(k.text,["+","-"])&&u(this._flags.last_token.text,["--","++"])&&(I=!0)),(this._flags.mode===w.BlockStatement&&!this._flags.inline_frame||this._flags.mode===w.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||Q,this.print_token(k),this._output.space_before_token=I},L.prototype.handle_block_comment=function(k,D){if(this._output.raw){this._output.add_raw_token(k),k.directives&&k.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(k.directives){this.print_newline(!1,D),this.print_token(k),k.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!n.newline.test(k.text)&&!k.newlines){this._output.space_before_token=!0,this.print_token(k),this._output.space_before_token=!0;return}else this.print_block_commment(k,D)},L.prototype.print_block_commment=function(k,D){var K=P(k.text),q,Q=!1,I=!1,ce=k.whitespace_before,de=ce.length;if(this.print_newline(!1,D),this.print_token_line_indentation(k),this._output.add_token(K[0]),this.print_newline(!1,D),K.length>1){for(K=K.slice(1),Q=z(K,"*"),I=j(K,ce),Q&&(this._flags.alignment=1),q=0;q<K.length;q++)Q?(this.print_token_line_indentation(k),this._output.add_token(f(K[q]))):I&&K[q]?(this.print_token_line_indentation(k),this._output.add_token(K[q].substring(de))):(this._output.current_line.set_indent(-1),this._output.add_token(K[q])),this.print_newline(!1,D);this._flags.alignment=0}},L.prototype.handle_comment=function(k,D){k.newlines?this.print_newline(!1,D):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(k),this.print_newline(!1,D)},L.prototype.handle_dot=function(k){this.start_of_statement(k)||this.handle_whitespace_and_comments(k,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),v(this._flags.last_token,y)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(k,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(k)},L.prototype.handle_unknown=function(k,D){this.print_token(k),k.text[k.text.length-1]===`
`&&this.print_newline(!1,D)},L.prototype.handle_eof=function(k){for(;this._flags.mode===w.Statement;)this.restore_mode();this.handle_whitespace_and_comments(k)},Wy.Beautifier=L,Wy}var gE;function hoe(){if(gE)return kf;gE=1;var e=doe().Beautifier,t=nN().Options;function n(r,i){var o=new e(r,i);return o.beautify()}return uoe.exports=n,kf.defaultOptions=function(){return new t},kf}var xf={},poe={get exports(){return xf},set exports(e){xf=e}},t0={},n0={},vE;function iN(){if(vE)return n0;vE=1;var e=_w().Options;function t(n){e.call(this,n,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var r=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||r;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var o=0;o<i.length;o++)i[o]!=="expand"?this.brace_style="collapse":this.brace_style=i[o]}return t.prototype=new e,n0.Options=t,n0}var yE;function moe(){if(yE)return t0;yE=1;var e=iN().Options,t=bw().Output,n=ww().InputScanner,r=kw().Directives,i=new r(/\/\*/,/\*\//),o=/\r\n|[\r\n]/,s=/\r\n|[\r\n]/g,l=/\s/,u=/(?:\s|\n)+/g,f=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,d=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function m(v,y){this._source_text=v||"",this._options=new e(y),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}return m.prototype.eatString=function(v){var y="";for(this._ch=this._input.next();this._ch;){if(y+=this._ch,this._ch==="\\")y+=this._input.next();else if(v.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return y},m.prototype.eatWhitespace=function(v){for(var y=l.test(this._input.peek()),_=0;l.test(this._input.peek());)this._ch=this._input.next(),v&&this._ch===`
`&&(_===0||_<this._options.max_preserve_newlines)&&(_++,this._output.add_new_line(!0));return y},m.prototype.foundNestedPseudoClass=function(){for(var v=0,y=1,_=this._input.peek(y);_;){if(_==="{")return!0;if(_==="(")v+=1;else if(_===")"){if(v===0)return!1;v-=1}else if(_===";"||_==="}")return!1;y++,_=this._input.peek(y)}return!1},m.prototype.print_string=function(v){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(v)},m.prototype.preserveSingleSpace=function(v){v&&(this._output.space_before_token=!0)},m.prototype.indent=function(){this._indentLevel++},m.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},m.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var v=this._source_text,y=this._options.eol;y==="auto"&&(y=`
`,v&&o.test(v||"")&&(y=v.match(o)[0])),v=v.replace(s,`
`);var _=v.match(/^[\t ]*/)[0];this._output=new t(this._options,_),this._input=new n(v),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var T=0,C=!1,w=!1,S=!1,P=!1,A=!1,U=!1,z=this._ch,j=!1,L,B,k;L=this._input.read(u),B=L!=="",k=z,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),z=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var D=this._input.read(f),K=i.get_directives(D);K&&K.ignore==="start"&&(D+=i.readIgnored(this._input)),this.print_string(D),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(d)),this.eatWhitespace(!0);else if(this._ch==="@"||this._ch==="$")if(this.preserveSingleSpace(B),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var q=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);q.match(/[ :]$/)&&(q=this.eatString(": ").replace(/\s$/,""),this.print_string(q),this._output.space_before_token=!0),q=q.replace(/\s$/,""),q==="extend"?P=!0:q==="import"&&(A=!0),q in this.NESTED_AT_RULE?(this._nestedLevel+=1,q in this.CONDITIONAL_GROUP_RULE&&(S=!0)):!C&&T===0&&q.indexOf(":")!==-1&&(w=!0,this.indent())}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(B),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")w&&(w=!1,this.outdent()),S?(S=!1,C=this._indentLevel>=this._nestedLevel):C=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&C&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(k==="("?this._output.space_before_token=!1:k!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),k==="{"&&this._output.trim(!0),A=!1,P=!1,w&&(this.outdent(),w=!1),this.print_string(this._ch),C=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var Q=0;Q<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;Q++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[Q])){j=!0;break}(C||S)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!P&&T===0?(this.print_string(":"),w||(w=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var I=k==='"'||k==="'";this.preserveSingleSpace(I||B),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")j=!1,T===0?(w&&(this.outdent(),w=!1),P=!1,A=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),T++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),T&&(T--,this.outdent()));else{var ce=!1;this._input.lookBack("with")&&(ce=!0),this.preserveSingleSpace(B||ce),this.print_string(this._ch),w&&k==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),U=!0):(this.eatWhitespace(),T++,this.indent())}else if(this._ch===")")T&&(T--,this.outdent()),U&&this._input.peek()===";"&&this._options.selector_separator_newline&&(U=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!w||U)&&T===0&&!A&&!P?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!w&&T===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&l.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(B),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),l.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var de=k==='"'||k==="'";this.preserveSingleSpace(de||B),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&j&&this._output.add_new_line()}var xe=this._output.get_code(y);return xe},t0.Beautifier=m,t0}var bE;function goe(){if(bE)return xf;bE=1;var e=moe().Beautifier,t=iN().Options;function n(r,i){var o=new e(r,i);return o.beautify()}return poe.exports=n,xf.defaultOptions=function(){return new t},xf}var Sf={},voe={get exports(){return Sf},set exports(e){Sf=e}},r0={},i0={},_E;function oN(){if(_E)return i0;_E=1;var e=_w().Options;function t(n){e.call(this,n,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return t.prototype=new e,i0.Options=t,i0}var tp={},wE;function kE(){if(wE)return tp;wE=1;var e=Bm().Tokenizer,t=Bm().TOKEN,n=kw().Directives,r=rN().TemplatablePattern,i=Ug().Pattern,o={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:t.START,RAW:t.RAW,EOF:t.EOF},s=new n(/<\!--/,/-->/),l=function(u,f){e.call(this,u,f),this._current_tag_name="";var d=new r(this._input).read_options(this._options),m=new i(this._input);if(this.__patterns={word:d.until(/[\n\r\t <]/),single_quote:d.until_after(/'/),double_quote:d.until_after(/"/),attribute:d.until(/[\n\r\t =>]|\/>/),element_name:d.until(/[\n\r\t >\/]/),handlebars_comment:m.starting_with(/{{!--/).until_after(/--}}/),handlebars:m.starting_with(/{{/).until_after(/}}/),handlebars_open:m.until(/[\n\r\t }]/),handlebars_raw_close:m.until(/}}/),comment:m.starting_with(/<!--/).until_after(/-->/),cdata:m.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:m.starting_with(/<!\[/).until_after(/]>/),processing:m.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var v=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=m.matching(v).until_after(v)}};return l.prototype=new e,l.prototype._is_comment=function(u){return!1},l.prototype._is_opening=function(u){return u.type===o.TAG_OPEN},l.prototype._is_closing=function(u,f){return u.type===o.TAG_CLOSE&&f&&((u.text===">"||u.text==="/>")&&f.text[0]==="<"||u.text==="}}"&&f.text[0]==="{"&&f.text[1]==="{")},l.prototype._reset=function(){this._current_tag_name=""},l.prototype._get_next_token=function(u,f){var d=null;this._readWhitespace();var m=this._input.peek();return m===null?this._create_token(o.EOF,""):(d=d||this._read_open_handlebars(m,f),d=d||this._read_attribute(m,u,f),d=d||this._read_close(m,f),d=d||this._read_raw_content(m,u,f),d=d||this._read_content_word(m),d=d||this._read_comment_or_cdata(m),d=d||this._read_processing(m),d=d||this._read_open(m,f),d=d||this._create_token(o.UNKNOWN,this._input.next()),d)},l.prototype._read_comment_or_cdata=function(u){var f=null,d=null,m=null;if(u==="<"){var v=this._input.peek(1);v==="!"&&(d=this.__patterns.comment.read(),d?(m=s.get_directives(d),m&&m.ignore==="start"&&(d+=s.readIgnored(this._input))):d=this.__patterns.cdata.read()),d&&(f=this._create_token(o.COMMENT,d),f.directives=m)}return f},l.prototype._read_processing=function(u){var f=null,d=null,m=null;if(u==="<"){var v=this._input.peek(1);(v==="!"||v==="?")&&(d=this.__patterns.conditional_comment.read(),d=d||this.__patterns.processing.read()),d&&(f=this._create_token(o.COMMENT,d),f.directives=m)}return f},l.prototype._read_open=function(u,f){var d=null,m=null;return f||u==="<"&&(d=this._input.next(),this._input.peek()==="/"&&(d+=this._input.next()),d+=this.__patterns.element_name.read(),m=this._create_token(o.TAG_OPEN,d)),m},l.prototype._read_open_handlebars=function(u,f){var d=null,m=null;return f||this._options.indent_handlebars&&u==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(d=this.__patterns.handlebars_comment.read(),d=d||this.__patterns.handlebars.read(),m=this._create_token(o.COMMENT,d)):(d=this.__patterns.handlebars_open.read(),m=this._create_token(o.TAG_OPEN,d))),m},l.prototype._read_close=function(u,f){var d=null,m=null;return f&&(f.text[0]==="<"&&(u===">"||u==="/"&&this._input.peek(1)===">")?(d=this._input.next(),u==="/"&&(d+=this._input.next()),m=this._create_token(o.TAG_CLOSE,d)):f.text[0]==="{"&&u==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),m=this._create_token(o.TAG_CLOSE,"}}"))),m},l.prototype._read_attribute=function(u,f,d){var m=null,v="";if(d&&d.text[0]==="<")if(u==="=")m=this._create_token(o.EQUALS,this._input.next());else if(u==='"'||u==="'"){var y=this._input.next();u==='"'?y+=this.__patterns.double_quote.read():y+=this.__patterns.single_quote.read(),m=this._create_token(o.VALUE,y)}else v=this.__patterns.attribute.read(),v&&(f.type===o.EQUALS?m=this._create_token(o.VALUE,v):m=this._create_token(o.ATTRIBUTE,v));return m},l.prototype._is_content_unformatted=function(u){return this._options.void_elements.indexOf(u)===-1&&(this._options.content_unformatted.indexOf(u)!==-1||this._options.unformatted.indexOf(u)!==-1)},l.prototype._read_raw_content=function(u,f,d){var m="";if(d&&d.text[0]==="{")m=this.__patterns.handlebars_raw_close.read();else if(f.type===o.TAG_CLOSE&&f.opened.text[0]==="<"&&f.text[0]!=="/"){var v=f.opened.text.substr(1).toLowerCase();if(v==="script"||v==="style"){var y=this._read_comment_or_cdata(u);if(y)return y.type=o.TEXT,y;m=this._input.readUntil(new RegExp("</"+v+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(v)&&(m=this._input.readUntil(new RegExp("</"+v+"[\\n\\r\\t ]*?>","ig")))}return m?this._create_token(o.TEXT,m):null},l.prototype._read_content_word=function(u){var f="";if(this._options.unformatted_content_delimiter&&u===this._options.unformatted_content_delimiter[0]&&(f=this.__patterns.unformatted_content_delimiter.read()),f||(f=this.__patterns.word.read()),f)return this._create_token(o.TEXT,f)},tp.Tokenizer=l,tp.TOKEN=o,tp}var xE;function yoe(){if(xE)return r0;xE=1;var e=oN().Options,t=bw().Output,n=kE().Tokenizer,r=kE().TOKEN,i=/\r\n|[\r\n]/,o=/\r\n|[\r\n]/g,s=function(C,w){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=C.max_preserve_newlines,this.preserve_newlines=C.preserve_newlines,this._output=new t(C,w)};s.prototype.current_line_has_match=function(C){return this._output.current_line.has_match(C)},s.prototype.set_space_before_token=function(C,w){this._output.space_before_token=C,this._output.non_breaking_space=w},s.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},s.prototype.add_raw_token=function(C){this._output.add_raw_token(C)},s.prototype.print_preserved_newlines=function(C){var w=0;C.type!==r.TEXT&&C.previous.type!==r.TEXT&&(w=C.newlines?1:0),this.preserve_newlines&&(w=C.newlines<this.max_preserve_newlines+1?C.newlines:this.max_preserve_newlines+1);for(var S=0;S<w;S++)this.print_newline(S>0);return w!==0},s.prototype.traverse_whitespace=function(C){return C.whitespace_before||C.newlines?(this.print_preserved_newlines(C)||(this._output.space_before_token=!0),!0):!1},s.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},s.prototype.print_newline=function(C){this._output.add_new_line(C)},s.prototype.print_token=function(C){C.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(C.text))},s.prototype.indent=function(){this.indent_level++},s.prototype.get_full_indent=function(C){return C=this.indent_level+(C||0),C<1?"":this._output.get_indent_string(C)};var l=function(C){for(var w=null,S=C.next;S.type!==r.EOF&&C.closed!==S;){if(S.type===r.ATTRIBUTE&&S.text==="type"){S.next&&S.next.type===r.EQUALS&&S.next.next&&S.next.next.type===r.VALUE&&(w=S.next.next.text);break}S=S.next}return w},u=function(C,w){var S=null,P=null;return w.closed?(C==="script"?S="text/javascript":C==="style"&&(S="text/css"),S=l(w)||S,S.search("text/css")>-1?P="css":S.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?P="javascript":S.search(/(text|application|dojo)\/(x-)?(html)/)>-1?P="html":S.search(/test\/null/)>-1&&(P="null"),P):null};function f(C,w){return w.indexOf(C)!==-1}function d(C,w,S){this.parent=C||null,this.tag=w?w.tag_name:"",this.indent_level=S||0,this.parser_token=w||null}function m(C){this._printer=C,this._current_frame=null}m.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},m.prototype.record_tag=function(C){var w=new d(this._current_frame,C,this._printer.indent_level);this._current_frame=w},m.prototype._try_pop_frame=function(C){var w=null;return C&&(w=C.parser_token,this._printer.indent_level=C.indent_level,this._current_frame=C.parent),w},m.prototype._get_frame=function(C,w){for(var S=this._current_frame;S&&C.indexOf(S.tag)===-1;){if(w&&w.indexOf(S.tag)!==-1){S=null;break}S=S.parent}return S},m.prototype.try_pop=function(C,w){var S=this._get_frame([C],w);return this._try_pop_frame(S)},m.prototype.indent_to_tag=function(C){var w=this._get_frame(C);w&&(this._printer.indent_level=w.indent_level)};function v(C,w,S,P){this._source_text=C||"",w=w||{},this._js_beautify=S,this._css_beautify=P,this._tag_stack=null;var A=new e(w,"html");this._options=A,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}v.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var C=this._source_text,w=this._options.eol;this._options.eol==="auto"&&(w=`
`,C&&i.test(C)&&(w=C.match(i)[0])),C=C.replace(o,`
`);var S=C.match(/^[\t ]*/)[0],P={text:"",type:""},A=new y,U=new s(this._options,S),z=new n(C,this._options).tokenize();this._tag_stack=new m(U);for(var j=null,L=z.next();L.type!==r.EOF;)L.type===r.TAG_OPEN||L.type===r.COMMENT?(j=this._handle_tag_open(U,L,A,P),A=j):L.type===r.ATTRIBUTE||L.type===r.EQUALS||L.type===r.VALUE||L.type===r.TEXT&&!A.tag_complete?j=this._handle_inside_tag(U,L,A,z):L.type===r.TAG_CLOSE?j=this._handle_tag_close(U,L,A):L.type===r.TEXT?j=this._handle_text(U,L,A):U.add_raw_token(L),P=j,L=z.next();var B=U._output.get_code(w);return B},v.prototype._handle_tag_close=function(C,w,S){var P={text:w.text,type:w.type};return C.alignment_size=0,S.tag_complete=!0,C.set_space_before_token(w.newlines||w.whitespace_before!=="",!0),S.is_unformatted?C.add_raw_token(w):(S.tag_start_char==="<"&&(C.set_space_before_token(w.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&S.has_wrapped_attrs&&C.print_newline(!1)),C.print_token(w)),S.indent_content&&!(S.is_unformatted||S.is_content_unformatted)&&(C.indent(),S.indent_content=!1),!S.is_inline_element&&!(S.is_unformatted||S.is_content_unformatted)&&C.set_wrap_point(),P},v.prototype._handle_inside_tag=function(C,w,S,P){var A=S.has_wrapped_attrs,U={text:w.text,type:w.type};if(C.set_space_before_token(w.newlines||w.whitespace_before!=="",!0),S.is_unformatted)C.add_raw_token(w);else if(S.tag_start_char==="{"&&w.type===r.TEXT)C.print_preserved_newlines(w)?(w.newlines=0,C.add_raw_token(w)):C.print_token(w);else{if(w.type===r.ATTRIBUTE?(C.set_space_before_token(!0),S.attr_count+=1):(w.type===r.EQUALS||w.type===r.VALUE&&w.previous.type===r.EQUALS)&&C.set_space_before_token(!1),w.type===r.ATTRIBUTE&&S.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(C.traverse_whitespace(w),A=A||w.newlines!==0),this._is_wrap_attributes_force)){var z=S.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&S.attr_count===1){var j=!0,L=0,B;do{if(B=P.peek(L),B.type===r.ATTRIBUTE){j=!1;break}L+=1}while(L<4&&B.type!==r.EOF&&B.type!==r.TAG_CLOSE);z=!j}z&&(C.print_newline(!1),A=!0)}C.print_token(w),A=A||C.previous_token_wrapped(),S.has_wrapped_attrs=A}return U},v.prototype._handle_text=function(C,w,S){var P={text:w.text,type:"TK_CONTENT"};return S.custom_beautifier_name?this._print_custom_beatifier_text(C,w,S):S.is_unformatted||S.is_content_unformatted?C.add_raw_token(w):(C.traverse_whitespace(w),C.print_token(w)),P},v.prototype._print_custom_beatifier_text=function(C,w,S){var P=this;if(w.text!==""){var A=w.text,U,z=1,j="",L="";S.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?U=this._js_beautify:S.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?U=this._css_beautify:S.custom_beautifier_name==="html"&&(U=function(Q,I){var ce=new v(Q,I,P._js_beautify,P._css_beautify);return ce.beautify()}),this._options.indent_scripts==="keep"?z=0:this._options.indent_scripts==="separate"&&(z=-C.indent_level);var B=C.get_full_indent(z);if(A=A.replace(/\n[ \t]*$/,""),S.custom_beautifier_name!=="html"&&A[0]==="<"&&A.match(/^(<!--|<!\[CDATA\[)/)){var k=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(A);if(!k){C.add_raw_token(w);return}j=B+k[1]+`
`,A=k[4],k[5]&&(L=B+k[5]),A=A.replace(/\n[ \t]*$/,""),(k[2]||k[3].indexOf(`
`)!==-1)&&(k=k[3].match(/[ \t]+$/),k&&(w.whitespace_before=k[0]))}if(A)if(U){var D=function(){this.eol=`
`};D.prototype=this._options.raw_options;var K=new D;A=U(B+A,K)}else{var q=w.whitespace_before;q&&(A=A.replace(new RegExp(`
(`+q+")?","g"),`
`)),A=B+A.replace(/\n/g,`
`+B)}j&&(A?A=j+A+`
`+L:A=j+L),C.print_newline(!1),A&&(w.text=A,w.whitespace_before="",w.newlines=0,C.add_raw_token(w),C.print_newline(!0))}},v.prototype._handle_tag_open=function(C,w,S,P){var A=this._get_tag_open_token(w);return(S.is_unformatted||S.is_content_unformatted)&&!S.is_empty_element&&w.type===r.TAG_OPEN&&w.text.indexOf("</")===0?(C.add_raw_token(w),A.start_tag_token=this._tag_stack.try_pop(A.tag_name)):(C.traverse_whitespace(w),this._set_tag_position(C,w,A,S,P),A.is_inline_element||C.set_wrap_point(),C.print_token(w)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(A.alignment_size=w.text.length+1),!A.tag_complete&&!A.is_unformatted&&(C.alignment_size=A.alignment_size),A};var y=function(C,w){if(this.parent=C||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!w)this.tag_complete=!0;else{var S;this.tag_start_char=w.text[0],this.text=w.text,this.tag_start_char==="<"?(S=w.text.match(/^<([^\s>]*)/),this.tag_check=S?S[1]:""):(S=w.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=S?S[1]:"",(w.text.startsWith("{{#>")||w.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&w.next!==null?this.tag_check=w.next.text.split(" ")[0]:this.tag_check=w.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),w.type===r.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||w.closed&&w.closed.text==="/>";var P=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(P=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(P)))}};v.prototype._get_tag_open_token=function(C){var w=new y(this._tag_stack.get_parser_token(),C);return w.alignment_size=this._options.wrap_attributes_indent_size,w.is_end_tag=w.is_end_tag||f(w.tag_check,this._options.void_elements),w.is_empty_element=w.tag_complete||w.is_start_tag&&w.is_end_tag,w.is_unformatted=!w.tag_complete&&f(w.tag_check,this._options.unformatted),w.is_content_unformatted=!w.is_empty_element&&f(w.tag_check,this._options.content_unformatted),w.is_inline_element=f(w.tag_name,this._options.inline)||w.tag_name.includes("-")||w.tag_start_char==="{",w},v.prototype._set_tag_position=function(C,w,S,P,A){if(S.is_empty_element||(S.is_end_tag?S.start_tag_token=this._tag_stack.try_pop(S.tag_name):(this._do_optional_end_element(S)&&(S.is_inline_element||C.print_newline(!1)),this._tag_stack.record_tag(S),(S.tag_name==="script"||S.tag_name==="style")&&!(S.is_unformatted||S.is_content_unformatted)&&(S.custom_beautifier_name=u(S.tag_check,w)))),f(S.tag_check,this._options.extra_liners)&&(C.print_newline(!1),C._output.just_added_blankline()||C.print_newline(!0)),S.is_empty_element){if(S.tag_start_char==="{"&&S.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),S.indent_content=!0;var U=C.current_line_has_match(/{{#if/);U||C.print_newline(!1)}S.tag_name==="!--"&&A.type===r.TAG_CLOSE&&P.is_end_tag&&S.text.indexOf(`
`)===-1||(S.is_inline_element||S.is_unformatted||C.print_newline(!1),this._calcluate_parent_multiline(C,S))}else if(S.is_end_tag){var z=!1;z=S.start_tag_token&&S.start_tag_token.multiline_content,z=z||!S.is_inline_element&&!(P.is_inline_element||P.is_unformatted)&&!(A.type===r.TAG_CLOSE&&S.start_tag_token===P)&&A.type!=="TK_CONTENT",(S.is_content_unformatted||S.is_unformatted)&&(z=!1),z&&C.print_newline(!1)}else S.indent_content=!S.custom_beautifier_name,S.tag_start_char==="<"&&(S.tag_name==="html"?S.indent_content=this._options.indent_inner_html:S.tag_name==="head"?S.indent_content=this._options.indent_head_inner_html:S.tag_name==="body"&&(S.indent_content=this._options.indent_body_inner_html)),!(S.is_inline_element||S.is_unformatted)&&(A.type!=="TK_CONTENT"||S.is_content_unformatted)&&C.print_newline(!1),this._calcluate_parent_multiline(C,S)},v.prototype._calcluate_parent_multiline=function(C,w){w.parent&&C._output.just_added_newline()&&!((w.is_inline_element||w.is_unformatted)&&w.parent.is_inline_element)&&(w.parent.multiline_content=!0)};var _=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],T=["a","audio","del","ins","map","noscript","video"];return v.prototype._do_optional_end_element=function(C){var w=null;if(!(C.is_empty_element||!C.is_start_tag||!C.parent)){if(C.tag_name==="body")w=w||this._tag_stack.try_pop("head");else if(C.tag_name==="li")w=w||this._tag_stack.try_pop("li",["ol","ul"]);else if(C.tag_name==="dd"||C.tag_name==="dt")w=w||this._tag_stack.try_pop("dt",["dl"]),w=w||this._tag_stack.try_pop("dd",["dl"]);else if(C.parent.tag_name==="p"&&_.indexOf(C.tag_name)!==-1){var S=C.parent.parent;(!S||T.indexOf(S.tag_name)===-1)&&(w=w||this._tag_stack.try_pop("p"))}else C.tag_name==="rp"||C.tag_name==="rt"?(w=w||this._tag_stack.try_pop("rt",["ruby","rtc"]),w=w||this._tag_stack.try_pop("rp",["ruby","rtc"])):C.tag_name==="optgroup"?w=w||this._tag_stack.try_pop("optgroup",["select"]):C.tag_name==="option"?w=w||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):C.tag_name==="colgroup"?w=w||this._tag_stack.try_pop("caption",["table"]):C.tag_name==="thead"?(w=w||this._tag_stack.try_pop("caption",["table"]),w=w||this._tag_stack.try_pop("colgroup",["table"])):C.tag_name==="tbody"||C.tag_name==="tfoot"?(w=w||this._tag_stack.try_pop("caption",["table"]),w=w||this._tag_stack.try_pop("colgroup",["table"]),w=w||this._tag_stack.try_pop("thead",["table"]),w=w||this._tag_stack.try_pop("tbody",["table"])):C.tag_name==="tr"?(w=w||this._tag_stack.try_pop("caption",["table"]),w=w||this._tag_stack.try_pop("colgroup",["table"]),w=w||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(C.tag_name==="th"||C.tag_name==="td")&&(w=w||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),w=w||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return C.parent=this._tag_stack.get_parser_token(),w}},r0.Beautifier=v,r0}var SE;function boe(){if(SE)return Sf;SE=1;var e=yoe().Beautifier,t=oN().Options;function n(r,i,o,s){var l=new e(r,i,o,s);return l.beautify()}return voe.exports=n,Sf.defaultOptions=function(){return new t},Sf}var CE;function _oe(){if(CE)return zc;CE=1;var e=hoe(),t=goe(),n=boe();function r(i,o,s,l){return s=s||e,l=l||t,n(i,o,s,l)}return r.defaultOptions=n.defaultOptions,zc.js=e,zc.css=t,zc.html=r,zc}(function(e){function t(n,r,i){var o=function(s,l){return n.js_beautify(s,l)};return o.js=n.js_beautify,o.css=r.css_beautify,o.html=i.html_beautify,o.js_beautify=n.js_beautify,o.css_beautify=r.css_beautify,o.html_beautify=i.html_beautify,o}(function(n){var r=_oe();r.js_beautify=r.js,r.css_beautify=r.css,r.html_beautify=r.html,n.exports=t(r,r,r)})(e)})(loe);const woe=Gb;var TE={},EE;function koe(){return EE||(EE=1,function(e,t){(function(n){n(Tr())})(function(n){n.overlayMode=function(r,i,o){return{startState:function(){return{base:n.startState(r),overlay:n.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(s){return{base:n.copyState(r,s.base),overlay:n.copyState(i,s.overlay),basePos:s.basePos,baseCur:null,overlayPos:s.overlayPos,overlayCur:null}},token:function(s,l){return(s!=l.streamSeen||Math.min(l.basePos,l.overlayPos)<s.start)&&(l.streamSeen=s,l.basePos=l.overlayPos=s.start),s.start==l.basePos&&(l.baseCur=r.token(s,l.base),l.basePos=s.pos),s.start==l.overlayPos&&(s.pos=s.start,l.overlayCur=i.token(s,l.overlay),l.overlayPos=s.pos),s.pos=Math.min(l.basePos,l.overlayPos),l.overlayCur==null?l.baseCur:l.baseCur!=null&&l.overlay.combineTokens||o&&l.overlay.combineTokens==null?l.baseCur+" "+l.overlayCur:l.overlayCur},indent:r.indent&&function(s,l,u){return r.indent(s.base,l,u)},electricChars:r.electricChars,innerMode:function(s){return{state:s.base,mode:r}},blankLine:function(s){var l,u;return r.blankLine&&(l=r.blankLine(s.base)),i.blankLine&&(u=i.blankLine(s.overlay)),u==null?l:o&&l!=null?l+" "+u:u}}}})}()),TE}var AE={},OE;function sN(){return OE||(OE=1,function(e,t){(function(n){n(Tr())})(function(n){var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(o,s){var l=o.indentUnit,u={},f=s.htmlMode?r:i;for(var d in f)u[d]=f[d];for(var d in s)u[d]=s[d];var m,v;function y(I,ce){function de(rt){return ce.tokenize=rt,rt(I,ce)}var xe=I.next();if(xe=="<")return I.eat("!")?I.eat("[")?I.match("CDATA[")?de(C("atom","]]>")):null:I.match("--")?de(C("comment","-->")):I.match("DOCTYPE",!0,!0)?(I.eatWhile(/[\w\._\-]/),de(w(1))):null:I.eat("?")?(I.eatWhile(/[\w\._\-]/),ce.tokenize=C("meta","?>"),"meta"):(m=I.eat("/")?"closeTag":"openTag",ce.tokenize=_,"tag bracket");if(xe=="&"){var Be;return I.eat("#")?I.eat("x")?Be=I.eatWhile(/[a-fA-F\d]/)&&I.eat(";"):Be=I.eatWhile(/[\d]/)&&I.eat(";"):Be=I.eatWhile(/[\w\.\-:]/)&&I.eat(";"),Be?"atom":"error"}else return I.eatWhile(/[^&<]/),null}y.isInText=!0;function _(I,ce){var de=I.next();if(de==">"||de=="/"&&I.eat(">"))return ce.tokenize=y,m=de==">"?"endTag":"selfcloseTag","tag bracket";if(de=="=")return m="equals",null;if(de=="<"){ce.tokenize=y,ce.state=z,ce.tagName=ce.tagStart=null;var xe=ce.tokenize(I,ce);return xe?xe+" tag error":"tag error"}else return/[\'\"]/.test(de)?(ce.tokenize=T(de),ce.stringStartCol=I.column(),ce.tokenize(I,ce)):(I.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function T(I){var ce=function(de,xe){for(;!de.eol();)if(de.next()==I){xe.tokenize=_;break}return"string"};return ce.isInAttribute=!0,ce}function C(I,ce){return function(de,xe){for(;!de.eol();){if(de.match(ce)){xe.tokenize=y;break}de.next()}return I}}function w(I){return function(ce,de){for(var xe;(xe=ce.next())!=null;){if(xe=="<")return de.tokenize=w(I+1),de.tokenize(ce,de);if(xe==">")if(I==1){de.tokenize=y;break}else return de.tokenize=w(I-1),de.tokenize(ce,de)}return"meta"}}function S(I){return I&&I.toLowerCase()}function P(I,ce,de){this.prev=I.context,this.tagName=ce||"",this.indent=I.indented,this.startOfLine=de,(u.doNotIndent.hasOwnProperty(ce)||I.context&&I.context.noIndent)&&(this.noIndent=!0)}function A(I){I.context&&(I.context=I.context.prev)}function U(I,ce){for(var de;;){if(!I.context||(de=I.context.tagName,!u.contextGrabbers.hasOwnProperty(S(de))||!u.contextGrabbers[S(de)].hasOwnProperty(S(ce))))return;A(I)}}function z(I,ce,de){return I=="openTag"?(de.tagStart=ce.column(),j):I=="closeTag"?L:z}function j(I,ce,de){return I=="word"?(de.tagName=ce.current(),v="tag",D):u.allowMissingTagName&&I=="endTag"?(v="tag bracket",D(I,ce,de)):(v="error",j)}function L(I,ce,de){if(I=="word"){var xe=ce.current();return de.context&&de.context.tagName!=xe&&u.implicitlyClosed.hasOwnProperty(S(de.context.tagName))&&A(de),de.context&&de.context.tagName==xe||u.matchClosing===!1?(v="tag",B):(v="tag error",k)}else return u.allowMissingTagName&&I=="endTag"?(v="tag bracket",B(I,ce,de)):(v="error",k)}function B(I,ce,de){return I!="endTag"?(v="error",B):(A(de),z)}function k(I,ce,de){return v="error",B(I,ce,de)}function D(I,ce,de){if(I=="word")return v="attribute",K;if(I=="endTag"||I=="selfcloseTag"){var xe=de.tagName,Be=de.tagStart;return de.tagName=de.tagStart=null,I=="selfcloseTag"||u.autoSelfClosers.hasOwnProperty(S(xe))?U(de,xe):(U(de,xe),de.context=new P(de,xe,Be==de.indented)),z}return v="error",D}function K(I,ce,de){return I=="equals"?q:(u.allowMissing||(v="error"),D(I,ce,de))}function q(I,ce,de){return I=="string"?Q:I=="word"&&u.allowUnquoted?(v="string",D):(v="error",D(I,ce,de))}function Q(I,ce,de){return I=="string"?Q:D(I,ce,de)}return{startState:function(I){var ce={tokenize:y,state:z,indented:I||0,tagName:null,tagStart:null,context:null};return I!=null&&(ce.baseIndent=I),ce},token:function(I,ce){if(!ce.tagName&&I.sol()&&(ce.indented=I.indentation()),I.eatSpace())return null;m=null;var de=ce.tokenize(I,ce);return(de||m)&&de!="comment"&&(v=null,ce.state=ce.state(m||de,I,ce),v&&(de=v=="error"?de+" error":v)),de},indent:function(I,ce,de){var xe=I.context;if(I.tokenize.isInAttribute)return I.tagStart==I.indented?I.stringStartCol+1:I.indented+l;if(xe&&xe.noIndent)return n.Pass;if(I.tokenize!=_&&I.tokenize!=y)return de?de.match(/^(\s*)/)[0].length:0;if(I.tagName)return u.multilineTagIndentPastTag!==!1?I.tagStart+I.tagName.length+2:I.tagStart+l*(u.multilineTagIndentFactor||1);if(u.alignCDATA&&/<!\[CDATA\[/.test(ce))return 0;var Be=ce&&/^<(\/)?([\w_:\.-]*)/.exec(ce);if(Be&&Be[1])for(;xe;)if(xe.tagName==Be[2]){xe=xe.prev;break}else if(u.implicitlyClosed.hasOwnProperty(S(xe.tagName)))xe=xe.prev;else break;else if(Be)for(;xe;){var rt=u.contextGrabbers[S(xe.tagName)];if(rt&&rt.hasOwnProperty(S(Be[2])))xe=xe.prev;else break}for(;xe&&xe.prev&&!xe.startOfLine;)xe=xe.prev;return xe?xe.indent+l:I.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:u.htmlMode?"html":"xml",helperType:u.htmlMode?"html":"xml",skipAttribute:function(I){I.state==q&&(I.state=D)},xmlCurrentTag:function(I){return I.tagName?{name:I.tagName,close:I.type=="closeTag"}:null},xmlCurrentContext:function(I){for(var ce=[],de=I.context;de;de=de.prev)ce.push(de.tagName);return ce.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})}()),AE}var ME={},LE;function xw(){return LE||(LE=1,function(e,t){(function(n){n(Tr())})(function(n){n.defineMode("javascript",function(r,i){var o=r.indentUnit,s=i.statementIndent,l=i.jsonld,u=i.json||l,f=i.trackScope!==!1,d=i.typescript,m=i.wordCharacters||/[\w$\xa1-\uffff]/,v=function(){function F(Sn){return{type:Sn,style:"keyword"}}var re=F("keyword a"),oe=F("keyword b"),_e=F("keyword c"),ft=F("keyword d"),Ot=F("operator"),Nt={type:"atom",style:"atom"};return{if:F("if"),while:re,with:re,else:oe,do:oe,try:oe,finally:oe,return:ft,break:ft,continue:ft,new:F("new"),delete:_e,void:_e,throw:_e,debugger:F("debugger"),var:F("var"),const:F("var"),let:F("var"),function:F("function"),catch:F("catch"),for:F("for"),switch:F("switch"),case:F("case"),default:F("default"),in:Ot,typeof:Ot,instanceof:Ot,true:Nt,false:Nt,null:Nt,undefined:Nt,NaN:Nt,Infinity:Nt,this:F("this"),class:F("class"),super:F("atom"),yield:_e,export:F("export"),import:F("import"),extends:_e,await:_e}}(),y=/[+\-*&%=<>!?|~^@]/,_=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function T(F){for(var re=!1,oe,_e=!1;(oe=F.next())!=null;){if(!re){if(oe=="/"&&!_e)return;oe=="["?_e=!0:_e&&oe=="]"&&(_e=!1)}re=!re&&oe=="\\"}}var C,w;function S(F,re,oe){return C=F,w=oe,re}function P(F,re){var oe=F.next();if(oe=='"'||oe=="'")return re.tokenize=A(oe),re.tokenize(F,re);if(oe=="."&&F.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return S("number","number");if(oe=="."&&F.match(".."))return S("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(oe))return S(oe);if(oe=="="&&F.eat(">"))return S("=>","operator");if(oe=="0"&&F.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return S("number","number");if(/\d/.test(oe))return F.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),S("number","number");if(oe=="/")return F.eat("*")?(re.tokenize=U,U(F,re)):F.eat("/")?(F.skipToEnd(),S("comment","comment")):Wi(F,re,1)?(T(F),F.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),S("regexp","string-2")):(F.eat("="),S("operator","operator",F.current()));if(oe=="`")return re.tokenize=z,z(F,re);if(oe=="#"&&F.peek()=="!")return F.skipToEnd(),S("meta","meta");if(oe=="#"&&F.eatWhile(m))return S("variable","property");if(oe=="<"&&F.match("!--")||oe=="-"&&F.match("->")&&!/\S/.test(F.string.slice(0,F.start)))return F.skipToEnd(),S("comment","comment");if(y.test(oe))return(oe!=">"||!re.lexical||re.lexical.type!=">")&&(F.eat("=")?(oe=="!"||oe=="=")&&F.eat("="):/[<>*+\-|&?]/.test(oe)&&(F.eat(oe),oe==">"&&F.eat(oe))),oe=="?"&&F.eat(".")?S("."):S("operator","operator",F.current());if(m.test(oe)){F.eatWhile(m);var _e=F.current();if(re.lastType!="."){if(v.propertyIsEnumerable(_e)){var ft=v[_e];return S(ft.type,ft.style,_e)}if(_e=="async"&&F.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return S("async","keyword",_e)}return S("variable","variable",_e)}}function A(F){return function(re,oe){var _e=!1,ft;if(l&&re.peek()=="@"&&re.match(_))return oe.tokenize=P,S("jsonld-keyword","meta");for(;(ft=re.next())!=null&&!(ft==F&&!_e);)_e=!_e&&ft=="\\";return _e||(oe.tokenize=P),S("string","string")}}function U(F,re){for(var oe=!1,_e;_e=F.next();){if(_e=="/"&&oe){re.tokenize=P;break}oe=_e=="*"}return S("comment","comment")}function z(F,re){for(var oe=!1,_e;(_e=F.next())!=null;){if(!oe&&(_e=="`"||_e=="$"&&F.eat("{"))){re.tokenize=P;break}oe=!oe&&_e=="\\"}return S("quasi","string-2",F.current())}var j="([{}])";function L(F,re){re.fatArrowAt&&(re.fatArrowAt=null);var oe=F.string.indexOf("=>",F.start);if(!(oe<0)){if(d){var _e=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(F.string.slice(F.start,oe));_e&&(oe=_e.index)}for(var ft=0,Ot=!1,Nt=oe-1;Nt>=0;--Nt){var Sn=F.string.charAt(Nt),Ur=j.indexOf(Sn);if(Ur>=0&&Ur<3){if(!ft){++Nt;break}if(--ft==0){Sn=="("&&(Ot=!0);break}}else if(Ur>=3&&Ur<6)++ft;else if(m.test(Sn))Ot=!0;else if(/["'\/`]/.test(Sn))for(;;--Nt){if(Nt==0)return;var dt=F.string.charAt(Nt-1);if(dt==Sn&&F.string.charAt(Nt-2)!="\\"){Nt--;break}}else if(Ot&&!ft){++Nt;break}}Ot&&!ft&&(re.fatArrowAt=Nt)}}var B={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function k(F,re,oe,_e,ft,Ot){this.indented=F,this.column=re,this.type=oe,this.prev=ft,this.info=Ot,_e!=null&&(this.align=_e)}function D(F,re){if(!f)return!1;for(var oe=F.localVars;oe;oe=oe.next)if(oe.name==re)return!0;for(var _e=F.context;_e;_e=_e.prev)for(var oe=_e.vars;oe;oe=oe.next)if(oe.name==re)return!0}function K(F,re,oe,_e,ft){var Ot=F.cc;for(q.state=F,q.stream=ft,q.marked=null,q.cc=Ot,q.style=re,F.lexical.hasOwnProperty("align")||(F.lexical.align=!0);;){var Nt=Ot.length?Ot.pop():u?je:qe;if(Nt(oe,_e)){for(;Ot.length&&Ot[Ot.length-1].lex;)Ot.pop()();return q.marked?q.marked:oe=="variable"&&D(F,_e)?"variable-2":re}}}var q={state:null,column:null,marked:null,cc:null};function Q(){for(var F=arguments.length-1;F>=0;F--)q.cc.push(arguments[F])}function I(){return Q.apply(null,arguments),!0}function ce(F,re){for(var oe=re;oe;oe=oe.next)if(oe.name==F)return!0;return!1}function de(F){var re=q.state;if(q.marked="def",!!f){if(re.context){if(re.lexical.info=="var"&&re.context&&re.context.block){var oe=xe(F,re.context);if(oe!=null){re.context=oe;return}}else if(!ce(F,re.localVars)){re.localVars=new pt(F,re.localVars);return}}i.globalVars&&!ce(F,re.globalVars)&&(re.globalVars=new pt(F,re.globalVars))}}function xe(F,re){if(re)if(re.block){var oe=xe(F,re.prev);return oe?oe==re.prev?re:new rt(oe,re.vars,!0):null}else return ce(F,re.vars)?re:new rt(re.prev,new pt(F,re.vars),!1);else return null}function Be(F){return F=="public"||F=="private"||F=="protected"||F=="abstract"||F=="readonly"}function rt(F,re,oe){this.prev=F,this.vars=re,this.block=oe}function pt(F,re){this.name=F,this.next=re}var yt=new pt("this",new pt("arguments",null));function bt(){q.state.context=new rt(q.state.context,q.state.localVars,!1),q.state.localVars=yt}function gt(){q.state.context=new rt(q.state.context,q.state.localVars,!0),q.state.localVars=null}bt.lex=gt.lex=!0;function Ye(){q.state.localVars=q.state.context.vars,q.state.context=q.state.context.prev}Ye.lex=!0;function Ie(F,re){var oe=function(){var _e=q.state,ft=_e.indented;if(_e.lexical.type=="stat")ft=_e.lexical.indented;else for(var Ot=_e.lexical;Ot&&Ot.type==")"&&Ot.align;Ot=Ot.prev)ft=Ot.indented;_e.lexical=new k(ft,q.stream.column(),F,null,_e.lexical,re)};return oe.lex=!0,oe}function $e(){var F=q.state;F.lexical.prev&&(F.lexical.type==")"&&(F.indented=F.lexical.indented),F.lexical=F.lexical.prev)}$e.lex=!0;function Ae(F){function re(oe){return oe==F?I():F==";"||oe=="}"||oe==")"||oe=="]"?Q():I(re)}return re}function qe(F,re){return F=="var"?I(Ie("vardef",re),Wr,Ae(";"),$e):F=="keyword a"?I(Ie("form"),se,qe,$e):F=="keyword b"?I(Ie("form"),qe,$e):F=="keyword d"?q.stream.match(/^\s*$/,!1)?I():I(Ie("stat"),ke,Ae(";"),$e):F=="debugger"?I(Ae(";")):F=="{"?I(Ie("}"),gt,Oe,$e,Ye):F==";"?I():F=="if"?(q.state.lexical.info=="else"&&q.state.cc[q.state.cc.length-1]==$e&&q.state.cc.pop()(),I(Ie("form"),se,qe,$e,bl)):F=="function"?I(Vi):F=="for"?I(Ie("form"),gt,Od,qe,Ye,$e):F=="class"||d&&re=="interface"?(q.marked="keyword",I(Ie("form",F=="class"?F:re),Ld,$e)):F=="variable"?d&&re=="declare"?(q.marked="keyword",I(qe)):d&&(re=="module"||re=="enum"||re=="type")&&q.stream.match(/^\s*\w/,!1)?(q.marked="keyword",re=="enum"?I(wl):re=="type"?I(Md,Ae("operator"),ve,Ae(";")):I(Ie("form"),xn,Ae("{"),Ie("}"),Oe,$e,$e)):d&&re=="namespace"?(q.marked="keyword",I(Ie("form"),je,qe,$e)):d&&re=="abstract"?(q.marked="keyword",I(qe)):I(Ie("stat"),ee):F=="switch"?I(Ie("form"),se,Ae("{"),Ie("}","switch"),gt,Oe,$e,$e,Ye):F=="case"?I(je,Ae(":")):F=="default"?I(Ae(":")):F=="catch"?I(Ie("form"),bt,Xe,qe,$e,Ye):F=="export"?I(Ie("stat"),rs,$e):F=="import"?I(Ie("stat"),yo,$e):F=="async"?I(qe):re=="@"?I(je,qe):Q(Ie("stat"),je,Ae(";"),$e)}function Xe(F){if(F=="(")return I(_i,Ae(")"))}function je(F,re){return le(F,re,!1)}function te(F,re){return le(F,re,!0)}function se(F){return F!="("?Q():I(Ie(")"),ke,Ae(")"),$e)}function le(F,re,oe){if(q.state.fatArrowAt==q.stream.start){var _e=oe?V:M;if(F=="(")return I(bt,Ie(")"),Z(_i,")"),$e,Ae("=>"),_e,Ye);if(F=="variable")return Q(bt,xn,Ae("=>"),_e,Ye)}var ft=oe?Ce:be;return B.hasOwnProperty(F)?I(ft):F=="function"?I(Vi,ft):F=="class"||d&&re=="interface"?(q.marked="keyword",I(Ie("form"),ns,$e)):F=="keyword c"||F=="async"?I(oe?te:je):F=="("?I(Ie(")"),ke,Ae(")"),$e,ft):F=="operator"||F=="spread"?I(oe?te:je):F=="["?I(Ie("]"),bo,$e,ft):F=="{"?pe(ge,"}",null,ft):F=="quasi"?Q(G,ft):F=="new"?I(N(oe)):I()}function ke(F){return F.match(/[;\}\)\],]/)?Q():Q(je)}function be(F,re){return F==","?I(ke):Ce(F,re,!1)}function Ce(F,re,oe){var _e=oe==!1?be:Ce,ft=oe==!1?je:te;if(F=="=>")return I(bt,oe?V:M,Ye);if(F=="operator")return/\+\+|--/.test(re)||d&&re=="!"?I(_e):d&&re=="<"&&q.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?I(Ie(">"),Z(ve,">"),$e,_e):re=="?"?I(je,Ae(":"),ft):I(ft);if(F=="quasi")return Q(G,_e);if(F!=";"){if(F=="(")return pe(te,")","call",_e);if(F==".")return I(ue,_e);if(F=="[")return I(Ie("]"),ke,Ae("]"),$e,_e);if(d&&re=="as")return q.marked="keyword",I(ve,_e);if(F=="regexp")return q.state.lastType=q.marked="operator",q.stream.backUp(q.stream.pos-q.stream.start-1),I(ft)}}function G(F,re){return F!="quasi"?Q():re.slice(re.length-2)!="${"?I(G):I(ke,J)}function J(F){if(F=="}")return q.marked="string-2",q.state.tokenize=z,I(G)}function M(F){return L(q.stream,q.state),Q(F=="{"?qe:je)}function V(F){return L(q.stream,q.state),Q(F=="{"?qe:te)}function N(F){return function(re){return re=="."?I(F?H:W):re=="variable"&&d?I(Kt,F?Ce:be):Q(F?te:je)}}function W(F,re){if(re=="target")return q.marked="keyword",I(be)}function H(F,re){if(re=="target")return q.marked="keyword",I(Ce)}function ee(F){return F==":"?I($e,qe):Q(be,Ae(";"),$e)}function ue(F){if(F=="variable")return q.marked="property",I()}function ge(F,re){if(F=="async")return q.marked="property",I(ge);if(F=="variable"||q.style=="keyword"){if(q.marked="property",re=="get"||re=="set")return I(ye);var oe;return d&&q.state.fatArrowAt==q.stream.start&&(oe=q.stream.match(/^\s*:\s*/,!1))&&(q.state.fatArrowAt=q.stream.pos+oe[0].length),I(X)}else{if(F=="number"||F=="string")return q.marked=l?"property":q.style+" property",I(X);if(F=="jsonld-keyword")return I(X);if(d&&Be(re))return q.marked="keyword",I(ge);if(F=="[")return I(je,Ve,Ae("]"),X);if(F=="spread")return I(te,X);if(re=="*")return q.marked="keyword",I(ge);if(F==":")return Q(X)}}function ye(F){return F!="variable"?Q(X):(q.marked="property",I(Vi))}function X(F){if(F==":")return I(te);if(F=="(")return Q(Vi)}function Z(F,re,oe){function _e(ft,Ot){if(oe?oe.indexOf(ft)>-1:ft==","){var Nt=q.state.lexical;return Nt.info=="call"&&(Nt.pos=(Nt.pos||0)+1),I(function(Sn,Ur){return Sn==re||Ur==re?Q():Q(F)},_e)}return ft==re||Ot==re?I():oe&&oe.indexOf(";")>-1?Q(F):I(Ae(re))}return function(ft,Ot){return ft==re||Ot==re?I():Q(F,_e)}}function pe(F,re,oe){for(var _e=3;_e<arguments.length;_e++)q.cc.push(arguments[_e]);return I(Ie(re,oe),Z(F,re),$e)}function Oe(F){return F=="}"?I():Q(qe,Oe)}function Ve(F,re){if(d){if(F==":")return I(ve);if(re=="?")return I(Ve)}}function he(F,re){if(d&&(F==":"||re=="in"))return I(ve)}function Ee(F){if(d&&F==":")return q.stream.match(/^\s*\w+\s+is\b/,!1)?I(je,Pe,ve):I(ve)}function Pe(F,re){if(re=="is")return q.marked="keyword",I()}function ve(F,re){if(re=="keyof"||re=="typeof"||re=="infer"||re=="readonly")return q.marked="keyword",I(re=="typeof"?te:ve);if(F=="variable"||re=="void")return q.marked="type",I(Xt);if(re=="|"||re=="&")return I(ve);if(F=="string"||F=="number"||F=="atom")return I(Xt);if(F=="[")return I(Ie("]"),Z(ve,"]",","),$e,Xt);if(F=="{")return I(Ie("}"),ct,$e,Xt);if(F=="(")return I(Z(Ut,")"),Ze,Xt);if(F=="<")return I(Z(ve,">"),ve);if(F=="quasi")return Q(Ct,Xt)}function Ze(F){if(F=="=>")return I(ve)}function ct(F){return F.match(/[\}\)\]]/)?I():F==","||F==";"?I(ct):Q(st,ct)}function st(F,re){if(F=="variable"||q.style=="keyword")return q.marked="property",I(st);if(re=="?"||F=="number"||F=="string")return I(st);if(F==":")return I(ve);if(F=="[")return I(Ae("variable"),he,Ae("]"),st);if(F=="(")return Q(ji,st);if(!F.match(/[;\}\)\],]/))return I()}function Ct(F,re){return F!="quasi"?Q():re.slice(re.length-2)!="${"?I(Ct):I(ve,hr)}function hr(F){if(F=="}")return q.marked="string-2",q.state.tokenize=z,I(Ct)}function Ut(F,re){return F=="variable"&&q.stream.match(/^\s*[?:]/,!1)||re=="?"?I(Ut):F==":"?I(ve):F=="spread"?I(Ut):Q(ve)}function Xt(F,re){if(re=="<")return I(Ie(">"),Z(ve,">"),$e,Xt);if(re=="|"||F=="."||re=="&")return I(ve);if(F=="[")return I(ve,Ae("]"),Xt);if(re=="extends"||re=="implements")return q.marked="keyword",I(ve);if(re=="?")return I(ve,Ae(":"),ve)}function Kt(F,re){if(re=="<")return I(Ie(">"),Z(ve,">"),$e,Xt)}function Un(){return Q(ve,jr)}function jr(F,re){if(re=="=")return I(ve)}function Wr(F,re){return re=="enum"?(q.marked="keyword",I(wl)):Q(xn,Ve,ii,Gg)}function xn(F,re){if(d&&Be(re))return q.marked="keyword",I(xn);if(F=="variable")return de(re),I();if(F=="spread")return I(xn);if(F=="[")return pe(qg,"]");if(F=="{")return pe(tc,"}")}function tc(F,re){return F=="variable"&&!q.stream.match(/^\s*:/,!1)?(de(re),I(ii)):(F=="variable"&&(q.marked="property"),F=="spread"?I(xn):F=="}"?Q():F=="["?I(je,Ae("]"),Ae(":"),tc):I(Ae(":"),xn,ii))}function qg(){return Q(xn,ii)}function ii(F,re){if(re=="=")return I(te)}function Gg(F){if(F==",")return I(Wr)}function bl(F,re){if(F=="keyword b"&&re=="else")return I(Ie("form","else"),qe,$e)}function Od(F,re){if(re=="await")return I(Od);if(F=="(")return I(Ie(")"),nc,$e)}function nc(F){return F=="var"?I(Wr,ts):F=="variable"?I(ts):Q(ts)}function ts(F,re){return F==")"?I():F==";"?I(ts):re=="in"||re=="of"?(q.marked="keyword",I(je,ts)):Q(je,ts)}function Vi(F,re){if(re=="*")return q.marked="keyword",I(Vi);if(F=="variable")return de(re),I(Vi);if(F=="(")return I(bt,Ie(")"),Z(_i,")"),$e,Ee,qe,Ye);if(d&&re=="<")return I(Ie(">"),Z(Un,">"),$e,Vi)}function ji(F,re){if(re=="*")return q.marked="keyword",I(ji);if(F=="variable")return de(re),I(ji);if(F=="(")return I(bt,Ie(")"),Z(_i,")"),$e,Ee,Ye);if(d&&re=="<")return I(Ie(">"),Z(Un,">"),$e,ji)}function Md(F,re){if(F=="keyword"||F=="variable")return q.marked="type",I(Md);if(re=="<")return I(Ie(">"),Z(Un,">"),$e)}function _i(F,re){return re=="@"&&I(je,_i),F=="spread"?I(_i):d&&Be(re)?(q.marked="keyword",I(_i)):d&&F=="this"?I(Ve,ii):Q(xn,Ve,ii)}function ns(F,re){return F=="variable"?Ld(F,re):_l(F,re)}function Ld(F,re){if(F=="variable")return de(re),I(_l)}function _l(F,re){if(re=="<")return I(Ie(">"),Z(Un,">"),$e,_l);if(re=="extends"||re=="implements"||d&&F==",")return re=="implements"&&(q.marked="keyword"),I(d?ve:je,_l);if(F=="{")return I(Ie("}"),Er,$e)}function Er(F,re){if(F=="async"||F=="variable"&&(re=="static"||re=="get"||re=="set"||d&&Be(re))&&q.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return q.marked="keyword",I(Er);if(F=="variable"||q.style=="keyword")return q.marked="property",I(vo,Er);if(F=="number"||F=="string")return I(vo,Er);if(F=="[")return I(je,Ve,Ae("]"),vo,Er);if(re=="*")return q.marked="keyword",I(Er);if(d&&F=="(")return Q(ji,Er);if(F==";"||F==",")return I(Er);if(F=="}")return I();if(re=="@")return I(je,Er)}function vo(F,re){if(re=="!"||re=="?")return I(vo);if(F==":")return I(ve,ii);if(re=="=")return I(te);var oe=q.state.lexical.prev,_e=oe&&oe.info=="interface";return Q(_e?ji:Vi)}function rs(F,re){return re=="*"?(q.marked="keyword",I(Ge,Ae(";"))):re=="default"?(q.marked="keyword",I(je,Ae(";"))):F=="{"?I(Z(Nd,"}"),Ge,Ae(";")):Q(qe)}function Nd(F,re){if(re=="as")return q.marked="keyword",I(Ae("variable"));if(F=="variable")return Q(te,Nd)}function yo(F){return F=="string"?I():F=="("?Q(je):F=="."?Q(be):Q(is,rc,Ge)}function is(F,re){return F=="{"?pe(is,"}"):(F=="variable"&&de(re),re=="*"&&(q.marked="keyword"),I(ln))}function rc(F){if(F==",")return I(is,rc)}function ln(F,re){if(re=="as")return q.marked="keyword",I(is)}function Ge(F,re){if(re=="from")return q.marked="keyword",I(je)}function bo(F){return F=="]"?I():Q(Z(te,"]"))}function wl(){return Q(Ie("form"),xn,Ae("{"),Ie("}"),Z(oi,"}"),$e,$e)}function oi(){return Q(xn,ii)}function Rt(F,re){return F.lastType=="operator"||F.lastType==","||y.test(re.charAt(0))||/[,.]/.test(re.charAt(0))}function Wi(F,re,oe){return re.tokenize==P&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(re.lastType)||re.lastType=="quasi"&&/\{\s*$/.test(F.string.slice(0,F.pos-(oe||0)))}return{startState:function(F){var re={tokenize:P,lastType:"sof",cc:[],lexical:new k((F||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new rt(null,null,!1),indented:F||0};return i.globalVars&&typeof i.globalVars=="object"&&(re.globalVars=i.globalVars),re},token:function(F,re){if(F.sol()&&(re.lexical.hasOwnProperty("align")||(re.lexical.align=!1),re.indented=F.indentation(),L(F,re)),re.tokenize!=U&&F.eatSpace())return null;var oe=re.tokenize(F,re);return C=="comment"?oe:(re.lastType=C=="operator"&&(w=="++"||w=="--")?"incdec":C,K(re,oe,C,w,F))},indent:function(F,re){if(F.tokenize==U||F.tokenize==z)return n.Pass;if(F.tokenize!=P)return 0;var oe=re&&re.charAt(0),_e=F.lexical,ft;if(!/^\s*else\b/.test(re))for(var Ot=F.cc.length-1;Ot>=0;--Ot){var Nt=F.cc[Ot];if(Nt==$e)_e=_e.prev;else if(Nt!=bl&&Nt!=Ye)break}for(;(_e.type=="stat"||_e.type=="form")&&(oe=="}"||(ft=F.cc[F.cc.length-1])&&(ft==be||ft==Ce)&&!/^[,\.=+\-*:?[\(]/.test(re));)_e=_e.prev;s&&_e.type==")"&&_e.prev.type=="stat"&&(_e=_e.prev);var Sn=_e.type,Ur=oe==Sn;return Sn=="vardef"?_e.indented+(F.lastType=="operator"||F.lastType==","?_e.info.length+1:0):Sn=="form"&&oe=="{"?_e.indented:Sn=="form"?_e.indented+o:Sn=="stat"?_e.indented+(Rt(F,re)?s||o:0):_e.info=="switch"&&!Ur&&i.doubleIndentSwitch!=!1?_e.indented+(/^(?:case|default)\b/.test(re)?o:2*o):_e.align?_e.column+(Ur?0:1):_e.indented+(Ur?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:l,jsonMode:u,expressionAllowed:Wi,skipExpression:function(F){K(F,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),ME}var NE={},PE;function xoe(){return PE||(PE=1,function(e,t){(function(n){n(Tr())})(function(n){n.defineMode("coffeescript",function(r,i){var o="error";function s(k){return new RegExp("^(("+k.join(")|(")+"))\\b")}var l=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,u=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,f=/^[_A-Za-z$][_A-Za-z$0-9]*/,d=/^@[_A-Za-z$][_A-Za-z$0-9]*/,m=s(["and","or","not","is","isnt","in","instanceof","typeof"]),v=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],y=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],_=s(v.concat(y));v=s(v);var T=/^('{3}|\"{3}|['\"])/,C=/^(\/{3}|\/)/,w=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],S=s(w);function P(k,D){if(k.sol()){D.scope.align===null&&(D.scope.align=!1);var K=D.scope.offset;if(k.eatSpace()){var q=k.indentation();return q>K&&D.scope.type=="coffee"?"indent":q<K?"dedent":null}else K>0&&j(k,D)}if(k.eatSpace())return null;var Q=k.peek();if(k.match("####"))return k.skipToEnd(),"comment";if(k.match("###"))return D.tokenize=U,D.tokenize(k,D);if(Q==="#")return k.skipToEnd(),"comment";if(k.match(/^-?[0-9\.]/,!1)){var I=!1;if(k.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(I=!0),k.match(/^-?\d+\.\d*/)&&(I=!0),k.match(/^-?\.\d+/)&&(I=!0),I)return k.peek()=="."&&k.backUp(1),"number";var ce=!1;if(k.match(/^-?0x[0-9a-f]+/i)&&(ce=!0),k.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(ce=!0),k.match(/^-?0(?![\dx])/i)&&(ce=!0),ce)return"number"}if(k.match(T))return D.tokenize=A(k.current(),!1,"string"),D.tokenize(k,D);if(k.match(C)){if(k.current()!="/"||k.match(/^.*\//,!1))return D.tokenize=A(k.current(),!0,"string-2"),D.tokenize(k,D);k.backUp(1)}return k.match(l)||k.match(m)?"operator":k.match(u)?"punctuation":k.match(S)?"atom":k.match(d)||D.prop&&k.match(f)?"property":k.match(_)?"keyword":k.match(f)?"variable":(k.next(),o)}function A(k,D,K){return function(q,Q){for(;!q.eol();)if(q.eatWhile(/[^'"\/\\]/),q.eat("\\")){if(q.next(),D&&q.eol())return K}else{if(q.match(k))return Q.tokenize=P,K;q.eat(/['"\/]/)}return D&&(i.singleLineStringErrors?K=o:Q.tokenize=P),K}}function U(k,D){for(;!k.eol();){if(k.eatWhile(/[^#]/),k.match("###")){D.tokenize=P;break}k.eatWhile("#")}return"comment"}function z(k,D,K){K=K||"coffee";for(var q=0,Q=!1,I=null,ce=D.scope;ce;ce=ce.prev)if(ce.type==="coffee"||ce.type=="}"){q=ce.offset+r.indentUnit;break}K!=="coffee"?(Q=null,I=k.column()+k.current().length):D.scope.align&&(D.scope.align=!1),D.scope={offset:q,type:K,prev:D.scope,align:Q,alignOffset:I}}function j(k,D){if(D.scope.prev)if(D.scope.type==="coffee"){for(var K=k.indentation(),q=!1,Q=D.scope;Q;Q=Q.prev)if(K===Q.offset){q=!0;break}if(!q)return!0;for(;D.scope.prev&&D.scope.offset!==K;)D.scope=D.scope.prev;return!1}else return D.scope=D.scope.prev,!1}function L(k,D){var K=D.tokenize(k,D),q=k.current();q==="return"&&(D.dedent=!0),((q==="->"||q==="=>")&&k.eol()||K==="indent")&&z(k,D);var Q="[({".indexOf(q);if(Q!==-1&&z(k,D,"])}".slice(Q,Q+1)),v.exec(q)&&z(k,D),q=="then"&&j(k,D),K==="dedent"&&j(k,D))return o;if(Q="])}".indexOf(q),Q!==-1){for(;D.scope.type=="coffee"&&D.scope.prev;)D.scope=D.scope.prev;D.scope.type==q&&(D.scope=D.scope.prev)}return D.dedent&&k.eol()&&(D.scope.type=="coffee"&&D.scope.prev&&(D.scope=D.scope.prev),D.dedent=!1),K}var B={startState:function(k){return{tokenize:P,scope:{offset:k||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(k,D){var K=D.scope.align===null&&D.scope;K&&k.sol()&&(K.align=!1);var q=L(k,D);return q&&q!="comment"&&(K&&(K.align=!0),D.prop=q=="punctuation"&&k.current()=="."),q},indent:function(k,D){if(k.tokenize!=P)return 0;var K=k.scope,q=D&&"])}".indexOf(D.charAt(0))>-1;if(q)for(;K.type=="coffee"&&K.prev;)K=K.prev;var Q=q&&K.type===D.charAt(0);return K.align?K.alignOffset-(Q?1:0):(Q?K.prev:K).offset},lineComment:"#",fold:"indent"};return B}),n.defineMIME("application/vnd.coffeescript","coffeescript"),n.defineMIME("text/x-coffeescript","coffeescript"),n.defineMIME("text/coffeescript","coffeescript")})}()),NE}var IE={},DE;function Kg(){return DE||(DE=1,function(e,t){(function(n){n(Tr())})(function(n){n.defineMode("css",function(k,D){var K=D.inline;D.propertyKeywords||(D=n.resolveMode("text/css"));var q=k.indentUnit,Q=D.tokenHooks,I=D.documentTypes||{},ce=D.mediaTypes||{},de=D.mediaFeatures||{},xe=D.mediaValueKeywords||{},Be=D.propertyKeywords||{},rt=D.nonStandardPropertyKeywords||{},pt=D.fontProperties||{},yt=D.counterDescriptors||{},bt=D.colorKeywords||{},gt=D.valueKeywords||{},Ye=D.allowNested,Ie=D.lineComment,$e=D.supportsAtComponent===!0,Ae=k.highlightNonStandardPropertyKeywords!==!1,qe,Xe;function je(N,W){return qe=W,N}function te(N,W){var H=N.next();if(Q[H]){var ee=Q[H](N,W);if(ee!==!1)return ee}if(H=="@")return N.eatWhile(/[\w\\\-]/),je("def",N.current());if(H=="="||(H=="~"||H=="|")&&N.eat("="))return je(null,"compare");if(H=='"'||H=="'")return W.tokenize=se(H),W.tokenize(N,W);if(H=="#")return N.eatWhile(/[\w\\\-]/),je("atom","hash");if(H=="!")return N.match(/^\s*\w*/),je("keyword","important");if(/\d/.test(H)||H=="."&&N.eat(/\d/))return N.eatWhile(/[\w.%]/),je("number","unit");if(H==="-"){if(/[\d.]/.test(N.peek()))return N.eatWhile(/[\w.%]/),je("number","unit");if(N.match(/^-[\w\\\-]*/))return N.eatWhile(/[\w\\\-]/),N.match(/^\s*:/,!1)?je("variable-2","variable-definition"):je("variable-2","variable");if(N.match(/^\w+-/))return je("meta","meta")}else return/[,+>*\/]/.test(H)?je(null,"select-op"):H=="."&&N.match(/^-?[_a-z][_a-z0-9-]*/i)?je("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(H)?je(null,H):N.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(N.current())&&(W.tokenize=le),je("variable callee","variable")):/[\w\\\-]/.test(H)?(N.eatWhile(/[\w\\\-]/),je("property","word")):je(null,null)}function se(N){return function(W,H){for(var ee=!1,ue;(ue=W.next())!=null;){if(ue==N&&!ee){N==")"&&W.backUp(1);break}ee=!ee&&ue=="\\"}return(ue==N||!ee&&N!=")")&&(H.tokenize=null),je("string","string")}}function le(N,W){return N.next(),N.match(/^\s*[\"\')]/,!1)?W.tokenize=null:W.tokenize=se(")"),je(null,"(")}function ke(N,W,H){this.type=N,this.indent=W,this.prev=H}function be(N,W,H,ee){return N.context=new ke(H,W.indentation()+(ee===!1?0:q),N.context),H}function Ce(N){return N.context.prev&&(N.context=N.context.prev),N.context.type}function G(N,W,H){return V[H.context.type](N,W,H)}function J(N,W,H,ee){for(var ue=ee||1;ue>0;ue--)H.context=H.context.prev;return G(N,W,H)}function M(N){var W=N.current().toLowerCase();gt.hasOwnProperty(W)?Xe="atom":bt.hasOwnProperty(W)?Xe="keyword":Xe="variable"}var V={};return V.top=function(N,W,H){if(N=="{")return be(H,W,"block");if(N=="}"&&H.context.prev)return Ce(H);if($e&&/@component/i.test(N))return be(H,W,"atComponentBlock");if(/^@(-moz-)?document$/i.test(N))return be(H,W,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(N))return be(H,W,"atBlock");if(/^@(font-face|counter-style)/i.test(N))return H.stateArg=N,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(N))return"keyframes";if(N&&N.charAt(0)=="@")return be(H,W,"at");if(N=="hash")Xe="builtin";else if(N=="word")Xe="tag";else{if(N=="variable-definition")return"maybeprop";if(N=="interpolation")return be(H,W,"interpolation");if(N==":")return"pseudo";if(Ye&&N=="(")return be(H,W,"parens")}return H.context.type},V.block=function(N,W,H){if(N=="word"){var ee=W.current().toLowerCase();return Be.hasOwnProperty(ee)?(Xe="property","maybeprop"):rt.hasOwnProperty(ee)?(Xe=Ae?"string-2":"property","maybeprop"):Ye?(Xe=W.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Xe+=" error","maybeprop")}else return N=="meta"?"block":!Ye&&(N=="hash"||N=="qualifier")?(Xe="error","block"):V.top(N,W,H)},V.maybeprop=function(N,W,H){return N==":"?be(H,W,"prop"):G(N,W,H)},V.prop=function(N,W,H){if(N==";")return Ce(H);if(N=="{"&&Ye)return be(H,W,"propBlock");if(N=="}"||N=="{")return J(N,W,H);if(N=="(")return be(H,W,"parens");if(N=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(W.current()))Xe+=" error";else if(N=="word")M(W);else if(N=="interpolation")return be(H,W,"interpolation");return"prop"},V.propBlock=function(N,W,H){return N=="}"?Ce(H):N=="word"?(Xe="property","maybeprop"):H.context.type},V.parens=function(N,W,H){return N=="{"||N=="}"?J(N,W,H):N==")"?Ce(H):N=="("?be(H,W,"parens"):N=="interpolation"?be(H,W,"interpolation"):(N=="word"&&M(W),"parens")},V.pseudo=function(N,W,H){return N=="meta"?"pseudo":N=="word"?(Xe="variable-3",H.context.type):G(N,W,H)},V.documentTypes=function(N,W,H){return N=="word"&&I.hasOwnProperty(W.current())?(Xe="tag",H.context.type):V.atBlock(N,W,H)},V.atBlock=function(N,W,H){if(N=="(")return be(H,W,"atBlock_parens");if(N=="}"||N==";")return J(N,W,H);if(N=="{")return Ce(H)&&be(H,W,Ye?"block":"top");if(N=="interpolation")return be(H,W,"interpolation");if(N=="word"){var ee=W.current().toLowerCase();ee=="only"||ee=="not"||ee=="and"||ee=="or"?Xe="keyword":ce.hasOwnProperty(ee)?Xe="attribute":de.hasOwnProperty(ee)?Xe="property":xe.hasOwnProperty(ee)?Xe="keyword":Be.hasOwnProperty(ee)?Xe="property":rt.hasOwnProperty(ee)?Xe=Ae?"string-2":"property":gt.hasOwnProperty(ee)?Xe="atom":bt.hasOwnProperty(ee)?Xe="keyword":Xe="error"}return H.context.type},V.atComponentBlock=function(N,W,H){return N=="}"?J(N,W,H):N=="{"?Ce(H)&&be(H,W,Ye?"block":"top",!1):(N=="word"&&(Xe="error"),H.context.type)},V.atBlock_parens=function(N,W,H){return N==")"?Ce(H):N=="{"||N=="}"?J(N,W,H,2):V.atBlock(N,W,H)},V.restricted_atBlock_before=function(N,W,H){return N=="{"?be(H,W,"restricted_atBlock"):N=="word"&&H.stateArg=="@counter-style"?(Xe="variable","restricted_atBlock_before"):G(N,W,H)},V.restricted_atBlock=function(N,W,H){return N=="}"?(H.stateArg=null,Ce(H)):N=="word"?(H.stateArg=="@font-face"&&!pt.hasOwnProperty(W.current().toLowerCase())||H.stateArg=="@counter-style"&&!yt.hasOwnProperty(W.current().toLowerCase())?Xe="error":Xe="property","maybeprop"):"restricted_atBlock"},V.keyframes=function(N,W,H){return N=="word"?(Xe="variable","keyframes"):N=="{"?be(H,W,"top"):G(N,W,H)},V.at=function(N,W,H){return N==";"?Ce(H):N=="{"||N=="}"?J(N,W,H):(N=="word"?Xe="tag":N=="hash"&&(Xe="builtin"),"at")},V.interpolation=function(N,W,H){return N=="}"?Ce(H):N=="{"||N==";"?J(N,W,H):(N=="word"?Xe="variable":N!="variable"&&N!="("&&N!=")"&&(Xe="error"),"interpolation")},{startState:function(N){return{tokenize:null,state:K?"block":"top",stateArg:null,context:new ke(K?"block":"top",N||0,null)}},token:function(N,W){if(!W.tokenize&&N.eatSpace())return null;var H=(W.tokenize||te)(N,W);return H&&typeof H=="object"&&(qe=H[1],H=H[0]),Xe=H,qe!="comment"&&(W.state=V[W.state](qe,N,W)),Xe},indent:function(N,W){var H=N.context,ee=W&&W.charAt(0),ue=H.indent;return H.type=="prop"&&(ee=="}"||ee==")")&&(H=H.prev),H.prev&&(ee=="}"&&(H.type=="block"||H.type=="top"||H.type=="interpolation"||H.type=="restricted_atBlock")?(H=H.prev,ue=H.indent):(ee==")"&&(H.type=="parens"||H.type=="atBlock_parens")||ee=="{"&&(H.type=="at"||H.type=="atBlock"))&&(ue=Math.max(0,H.indent-q))),ue},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Ie,fold:"brace"}});function r(k){for(var D={},K=0;K<k.length;++K)D[k[K].toLowerCase()]=!0;return D}var i=["domain","regexp","url","url-prefix"],o=r(i),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],l=r(s),u=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],f=r(u),d=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],m=r(d),v=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],y=r(v),_=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],T=r(_),C=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],w=r(C),S=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],P=r(S),A=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],U=r(A),z=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],j=r(z),L=i.concat(s).concat(u).concat(d).concat(v).concat(_).concat(A).concat(z);n.registerHelper("hintWords","css",L);function B(k,D){for(var K=!1,q;(q=k.next())!=null;){if(K&&q=="/"){D.tokenize=null;break}K=q=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:o,mediaTypes:l,mediaFeatures:f,mediaValueKeywords:m,propertyKeywords:y,nonStandardPropertyKeywords:T,fontProperties:w,counterDescriptors:P,colorKeywords:U,valueKeywords:j,tokenHooks:{"/":function(k,D){return k.eat("*")?(D.tokenize=B,B(k,D)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:l,mediaFeatures:f,mediaValueKeywords:m,propertyKeywords:y,nonStandardPropertyKeywords:T,colorKeywords:U,valueKeywords:j,fontProperties:w,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(k,D){return k.eat("/")?(k.skipToEnd(),["comment","comment"]):k.eat("*")?(D.tokenize=B,B(k,D)):["operator","operator"]},":":function(k){return k.match(/^\s*\{/,!1)?[null,null]:!1},$:function(k){return k.match(/^[\w-]+/),k.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(k){return k.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:l,mediaFeatures:f,mediaValueKeywords:m,propertyKeywords:y,nonStandardPropertyKeywords:T,colorKeywords:U,valueKeywords:j,fontProperties:w,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(k,D){return k.eat("/")?(k.skipToEnd(),["comment","comment"]):k.eat("*")?(D.tokenize=B,B(k,D)):["operator","operator"]},"@":function(k){return k.eat("{")?[null,"interpolation"]:k.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(k.eatWhile(/[\w\\\-]/),k.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:o,mediaTypes:l,mediaFeatures:f,propertyKeywords:y,nonStandardPropertyKeywords:T,fontProperties:w,counterDescriptors:P,colorKeywords:U,valueKeywords:j,supportsAtComponent:!0,tokenHooks:{"/":function(k,D){return k.eat("*")?(D.tokenize=B,B(k,D)):!1}},name:"css",helperType:"gss"})})}()),IE}var RE={},zE;function Soe(){return zE||(zE=1,function(e,t){(function(n){n(Tr(),Kg())})(function(n){n.defineMode("sass",function(r){var i=n.mimeModes["text/css"],o=i.propertyKeywords||{},s=i.colorKeywords||{},l=i.valueKeywords||{},u=i.fontProperties||{};function f(B){return new RegExp("^"+B.join("|"))}var d=["true","false","null","auto"],m=new RegExp("^"+d.join("|")),v=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],y=f(v),_=/^::?[a-zA-Z_][\w\-]*/,T;function C(B){return!B.peek()||B.match(/\s+$/,!1)}function w(B,k){var D=B.peek();return D===")"?(B.next(),k.tokenizer=j,"operator"):D==="("?(B.next(),B.eatSpace(),"operator"):D==="'"||D==='"'?(k.tokenizer=P(B.next()),"string"):(k.tokenizer=P(")",!1),"string")}function S(B,k){return function(D,K){return D.sol()&&D.indentation()<=B?(K.tokenizer=j,j(D,K)):(k&&D.skipTo("*/")?(D.next(),D.next(),K.tokenizer=j):D.skipToEnd(),"comment")}}function P(B,k){k==null&&(k=!0);function D(K,q){var Q=K.next(),I=K.peek(),ce=K.string.charAt(K.pos-2),de=Q!=="\\"&&I===B||Q===B&&ce!=="\\";return de?(Q!==B&&k&&K.next(),C(K)&&(q.cursorHalf=0),q.tokenizer=j,"string"):Q==="#"&&I==="{"?(q.tokenizer=A(D),K.next(),"operator"):"string"}return D}function A(B){return function(k,D){return k.peek()==="}"?(k.next(),D.tokenizer=B,"operator"):j(k,D)}}function U(B){if(B.indentCount==0){B.indentCount++;var k=B.scopes[0].offset,D=k+r.indentUnit;B.scopes.unshift({offset:D})}}function z(B){B.scopes.length!=1&&B.scopes.shift()}function j(B,k){var D=B.peek();if(B.match("/*"))return k.tokenizer=S(B.indentation(),!0),k.tokenizer(B,k);if(B.match("//"))return k.tokenizer=S(B.indentation(),!1),k.tokenizer(B,k);if(B.match("#{"))return k.tokenizer=A(j),"operator";if(D==='"'||D==="'")return B.next(),k.tokenizer=P(D),"string";if(k.cursorHalf){if(D==="#"&&(B.next(),B.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))||B.match(/^-?[0-9\.]+/))return C(B)&&(k.cursorHalf=0),"number";if(B.match(/^(px|em|in)\b/))return C(B)&&(k.cursorHalf=0),"unit";if(B.match(m))return C(B)&&(k.cursorHalf=0),"keyword";if(B.match(/^url/)&&B.peek()==="(")return k.tokenizer=w,C(B)&&(k.cursorHalf=0),"atom";if(D==="$")return B.next(),B.eatWhile(/[\w-]/),C(B)&&(k.cursorHalf=0),"variable-2";if(D==="!")return B.next(),k.cursorHalf=0,B.match(/^[\w]+/)?"keyword":"operator";if(B.match(y))return C(B)&&(k.cursorHalf=0),"operator";if(B.eatWhile(/[\w-]/))return C(B)&&(k.cursorHalf=0),T=B.current().toLowerCase(),l.hasOwnProperty(T)?"atom":s.hasOwnProperty(T)?"keyword":o.hasOwnProperty(T)?(k.prevProp=B.current().toLowerCase(),"property"):"tag";if(C(B))return k.cursorHalf=0,null}else{if(D==="-"&&B.match(/^-\w+-/))return"meta";if(D==="."){if(B.next(),B.match(/^[\w-]+/))return U(k),"qualifier";if(B.peek()==="#")return U(k),"tag"}if(D==="#"){if(B.next(),B.match(/^[\w-]+/))return U(k),"builtin";if(B.peek()==="#")return U(k),"tag"}if(D==="$")return B.next(),B.eatWhile(/[\w-]/),"variable-2";if(B.match(/^-?[0-9\.]+/))return"number";if(B.match(/^(px|em|in)\b/))return"unit";if(B.match(m))return"keyword";if(B.match(/^url/)&&B.peek()==="(")return k.tokenizer=w,"atom";if(D==="="&&B.match(/^=[\w-]+/))return U(k),"meta";if(D==="+"&&B.match(/^\+[\w-]+/))return"variable-3";if(D==="@"&&B.match("@extend")&&(B.match(/\s*[\w]/)||z(k)),B.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return U(k),"def";if(D==="@")return B.next(),B.eatWhile(/[\w-]/),"def";if(B.eatWhile(/[\w-]/))if(B.match(/ *: *[\w-\+\$#!\("']/,!1)){T=B.current().toLowerCase();var K=k.prevProp+"-"+T;return o.hasOwnProperty(K)?"property":o.hasOwnProperty(T)?(k.prevProp=T,"property"):u.hasOwnProperty(T)?"property":"tag"}else return B.match(/ *:/,!1)?(U(k),k.cursorHalf=1,k.prevProp=B.current().toLowerCase(),"property"):(B.match(/ *,/,!1)||U(k),"tag");if(D===":")return B.match(_)?"variable-3":(B.next(),k.cursorHalf=1,"operator")}return B.match(y)?"operator":(B.next(),null)}function L(B,k){B.sol()&&(k.indentCount=0);var D=k.tokenizer(B,k),K=B.current();if((K==="@return"||K==="}")&&z(k),D!==null){for(var q=B.pos-K.length,Q=q+r.indentUnit*k.indentCount,I=[],ce=0;ce<k.scopes.length;ce++){var de=k.scopes[ce];de.offset<=Q&&I.push(de)}k.scopes=I}return D}return{startState:function(){return{tokenizer:j,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(B,k){var D=L(B,k);return k.lastToken={style:D,content:B.current()},D},indent:function(B){return B.scopes[0].offset},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"indent"}},"css"),n.defineMIME("text/x-sass","sass")})}()),RE}var BE={},$E;function Coe(){return $E||($E=1,function(e,t){(function(n){n(Tr())})(function(n){n.defineMode("stylus",function(A){for(var U=A.indentUnit,z="",j=S(r),L=/^(a|b|i|s|col|em)$/i,B=S(l),k=S(u),D=S(m),K=S(d),q=S(i),Q=w(i),I=S(s),ce=S(o),de=S(f),xe=/^\s*([.]{2,3}|&&|\|\||\*\*|[?!=:]?=|[-+*\/%<>]=?|\?:|\~)/,Be=w(v),rt=S(y),pt=new RegExp(/^\-(moz|ms|o|webkit)-/i),yt=S(_),bt="",gt={},Ye,Ie,$e,Ae;z.length<U;)z+=" ";function qe(X,Z){if(bt=X.string.match(/(^[\w-]+\s*=\s*$)|(^\s*[\w-]+\s*=\s*[\w-])|(^\s*(\.|#|@|\$|\&|\[|\d|\+|::?|\{|\>|~|\/)?\s*[\w-]*([a-z0-9-]|\*|\/\*)(\(|,)?)/),Z.context.line.firstWord=bt?bt[0].replace(/^\s*/,""):"",Z.context.line.indent=X.indentation(),Ye=X.peek(),X.match("//"))return X.skipToEnd(),["comment","comment"];if(X.match("/*"))return Z.tokenize=Xe,Xe(X,Z);if(Ye=='"'||Ye=="'")return X.next(),Z.tokenize=je(Ye),Z.tokenize(X,Z);if(Ye=="@")return X.next(),X.eatWhile(/[\w\\-]/),["def",X.current()];if(Ye=="#"){if(X.next(),X.match(/^[0-9a-f]{3}([0-9a-f]([0-9a-f]{2}){0,2})?\b(?!-)/i))return["atom","atom"];if(X.match(/^[a-z][\w-]*/i))return["builtin","hash"]}return X.match(pt)?["meta","vendor-prefixes"]:X.match(/^-?[0-9]?\.?[0-9]/)?(X.eatWhile(/[a-z%]/i),["number","unit"]):Ye=="!"?(X.next(),[X.match(/^(important|optional)/i)?"keyword":"operator","important"]):Ye=="."&&X.match(/^\.[a-z][\w-]*/i)?["qualifier","qualifier"]:X.match(Q)?(X.peek()=="("&&(Z.tokenize=te),["property","word"]):X.match(/^[a-z][\w-]*\(/i)?(X.backUp(1),["keyword","mixin"]):X.match(/^(\+|-)[a-z][\w-]*\(/i)?(X.backUp(1),["keyword","block-mixin"]):X.string.match(/^\s*&/)&&X.match(/^[-_]+[a-z][\w-]*/)?["qualifier","qualifier"]:X.match(/^(\/|&)(-|_|:|\.|#|[a-z])/)?(X.backUp(1),["variable-3","reference"]):X.match(/^&{1}\s*$/)?["variable-3","reference"]:X.match(Be)?["operator","operator"]:X.match(/^\$?[-_]*[a-z0-9]+[\w-]*/i)?X.match(/^(\.|\[)[\w-\'\"\]]+/i,!1)&&!G(X.current())?(X.match("."),["variable-2","variable-name"]):["variable-2","word"]:X.match(xe)?["operator",X.current()]:/[:;,{}\[\]\(\)]/.test(Ye)?(X.next(),[null,Ye]):(X.next(),[null,null])}function Xe(X,Z){for(var pe=!1,Oe;(Oe=X.next())!=null;){if(pe&&Oe=="/"){Z.tokenize=null;break}pe=Oe=="*"}return["comment","comment"]}function je(X){return function(Z,pe){for(var Oe=!1,Ve;(Ve=Z.next())!=null;){if(Ve==X&&!Oe){X==")"&&Z.backUp(1);break}Oe=!Oe&&Ve=="\\"}return(Ve==X||!Oe&&X!=")")&&(pe.tokenize=null),["string","string"]}}function te(X,Z){return X.next(),X.match(/\s*[\"\')]/,!1)?Z.tokenize=null:Z.tokenize=je(")"),[null,"("]}function se(X,Z,pe,Oe){this.type=X,this.indent=Z,this.prev=pe,this.line=Oe||{firstWord:"",indent:0}}function le(X,Z,pe,Oe){return Oe=Oe>=0?Oe:U,X.context=new se(pe,Z.indentation()+Oe,X.context),pe}function ke(X,Z){var pe=X.context.indent-U;return Z=Z||!1,X.context=X.context.prev,Z&&(X.context.indent=pe),X.context.type}function be(X,Z,pe){return gt[pe.context.type](X,Z,pe)}function Ce(X,Z,pe,Oe){for(var Ve=Oe||1;Ve>0;Ve--)pe.context=pe.context.prev;return be(X,Z,pe)}function G(X){return X.toLowerCase()in j}function J(X){return X=X.toLowerCase(),X in B||X in de}function M(X){return X.toLowerCase()in rt}function V(X){return X.toLowerCase().match(pt)}function N(X){var Z=X.toLowerCase(),pe="variable-2";return G(X)?pe="tag":M(X)?pe="block-keyword":J(X)?pe="property":Z in D||Z in yt?pe="atom":Z=="return"||Z in K?pe="keyword":X.match(/^[A-Z]/)&&(pe="string"),pe}function W(X,Z){return ge(Z)&&(X=="{"||X=="]"||X=="hash"||X=="qualifier")||X=="block-mixin"}function H(X,Z){return X=="{"&&Z.match(/^\s*\$?[\w-]+/i,!1)}function ee(X,Z){return X==":"&&Z.match(/^[a-z-]+/,!1)}function ue(X){return X.sol()||X.string.match(new RegExp("^\\s*"+P(X.current())))}function ge(X){return X.eol()||X.match(/^\s*$/,!1)}function ye(X){var Z=/^\s*[-_]*[a-z0-9]+[\w-]*/i,pe=typeof X=="string"?X.match(Z):X.string.match(Z);return pe?pe[0].replace(/^\s*/,""):""}return gt.block=function(X,Z,pe){if(X=="comment"&&ue(Z)||X==","&&ge(Z)||X=="mixin")return le(pe,Z,"block",0);if(H(X,Z))return le(pe,Z,"interpolation");if(ge(Z)&&X=="]"&&!/^\s*(\.|#|:|\[|\*|&)/.test(Z.string)&&!G(ye(Z)))return le(pe,Z,"block",0);if(W(X,Z))return le(pe,Z,"block");if(X=="}"&&ge(Z))return le(pe,Z,"block",0);if(X=="variable-name")return Z.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/)||M(ye(Z))?le(pe,Z,"variableName"):le(pe,Z,"variableName",0);if(X=="=")return!ge(Z)&&!M(ye(Z))?le(pe,Z,"block",0):le(pe,Z,"block");if(X=="*"&&(ge(Z)||Z.match(/\s*(,|\.|#|\[|:|{)/,!1)))return Ae="tag",le(pe,Z,"block");if(ee(X,Z))return le(pe,Z,"pseudo");if(/@(font-face|media|supports|(-moz-)?document)/.test(X))return le(pe,Z,ge(Z)?"block":"atBlock");if(/@(-(moz|ms|o|webkit)-)?keyframes$/.test(X))return le(pe,Z,"keyframes");if(/@extends?/.test(X))return le(pe,Z,"extend",0);if(X&&X.charAt(0)=="@")return Z.indentation()>0&&J(Z.current().slice(1))?(Ae="variable-2","block"):/(@import|@require|@charset)/.test(X)?le(pe,Z,"block",0):le(pe,Z,"block");if(X=="reference"&&ge(Z))return le(pe,Z,"block");if(X=="(")return le(pe,Z,"parens");if(X=="vendor-prefixes")return le(pe,Z,"vendorPrefixes");if(X=="word"){var Oe=Z.current();if(Ae=N(Oe),Ae=="property")return ue(Z)?le(pe,Z,"block",0):(Ae="atom","block");if(Ae=="tag"){if(/embed|menu|pre|progress|sub|table/.test(Oe)&&J(ye(Z))||Z.string.match(new RegExp("\\[\\s*"+Oe+"|"+Oe+"\\s*\\]")))return Ae="atom","block";if(L.test(Oe)&&(ue(Z)&&Z.string.match(/=/)||!ue(Z)&&!Z.string.match(/^(\s*\.|#|\&|\[|\/|>|\*)/)&&!G(ye(Z))))return Ae="variable-2",M(ye(Z))?"block":le(pe,Z,"block",0);if(ge(Z))return le(pe,Z,"block")}if(Ae=="block-keyword")return Ae="keyword",Z.current(/(if|unless)/)&&!ue(Z)?"block":le(pe,Z,"block");if(Oe=="return")return le(pe,Z,"block",0);if(Ae=="variable-2"&&Z.string.match(/^\s?\$[\w-\.\[\]\'\"]+$/))return le(pe,Z,"block")}return pe.context.type},gt.parens=function(X,Z,pe){if(X=="(")return le(pe,Z,"parens");if(X==")")return pe.context.prev.type=="parens"?ke(pe):Z.string.match(/^[a-z][\w-]*\(/i)&&ge(Z)||M(ye(Z))||/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(ye(Z))||!Z.string.match(/^-?[a-z][\w-\.\[\]\'\"]*\s*=/)&&G(ye(Z))?le(pe,Z,"block"):Z.string.match(/^[\$-]?[a-z][\w-\.\[\]\'\"]*\s*=/)||Z.string.match(/^\s*(\(|\)|[0-9])/)||Z.string.match(/^\s+[a-z][\w-]*\(/i)||Z.string.match(/^\s+[\$-]?[a-z]/i)?le(pe,Z,"block",0):ge(Z)?le(pe,Z,"block"):le(pe,Z,"block",0);if(X&&X.charAt(0)=="@"&&J(Z.current().slice(1))&&(Ae="variable-2"),X=="word"){var Oe=Z.current();Ae=N(Oe),Ae=="tag"&&L.test(Oe)&&(Ae="variable-2"),(Ae=="property"||Oe=="to")&&(Ae="atom")}return X=="variable-name"?le(pe,Z,"variableName"):ee(X,Z)?le(pe,Z,"pseudo"):pe.context.type},gt.vendorPrefixes=function(X,Z,pe){return X=="word"?(Ae="property",le(pe,Z,"block",0)):ke(pe)},gt.pseudo=function(X,Z,pe){return J(ye(Z.string))?Ce(X,Z,pe):(Z.match(/^[a-z-]+/),Ae="variable-3",ge(Z)?le(pe,Z,"block"):ke(pe))},gt.atBlock=function(X,Z,pe){if(X=="(")return le(pe,Z,"atBlock_parens");if(W(X,Z))return le(pe,Z,"block");if(H(X,Z))return le(pe,Z,"interpolation");if(X=="word"){var Oe=Z.current().toLowerCase();if(/^(only|not|and|or)$/.test(Oe)?Ae="keyword":q.hasOwnProperty(Oe)?Ae="tag":ce.hasOwnProperty(Oe)?Ae="attribute":I.hasOwnProperty(Oe)?Ae="property":k.hasOwnProperty(Oe)?Ae="string-2":Ae=N(Z.current()),Ae=="tag"&&ge(Z))return le(pe,Z,"block")}return X=="operator"&&/^(not|and|or)$/.test(Z.current())&&(Ae="keyword"),pe.context.type},gt.atBlock_parens=function(X,Z,pe){if(X=="{"||X=="}")return pe.context.type;if(X==")")return ge(Z)?le(pe,Z,"block"):le(pe,Z,"atBlock");if(X=="word"){var Oe=Z.current().toLowerCase();return Ae=N(Oe),/^(max|min)/.test(Oe)&&(Ae="property"),Ae=="tag"&&(L.test(Oe)?Ae="variable-2":Ae="atom"),pe.context.type}return gt.atBlock(X,Z,pe)},gt.keyframes=function(X,Z,pe){return Z.indentation()=="0"&&(X=="}"&&ue(Z)||X=="]"||X=="hash"||X=="qualifier"||G(Z.current()))?Ce(X,Z,pe):X=="{"?le(pe,Z,"keyframes"):X=="}"?ue(Z)?ke(pe,!0):le(pe,Z,"keyframes"):X=="unit"&&/^[0-9]+\%$/.test(Z.current())?le(pe,Z,"keyframes"):X=="word"&&(Ae=N(Z.current()),Ae=="block-keyword")?(Ae="keyword",le(pe,Z,"keyframes")):/@(font-face|media|supports|(-moz-)?document)/.test(X)?le(pe,Z,ge(Z)?"block":"atBlock"):X=="mixin"?le(pe,Z,"block",0):pe.context.type},gt.interpolation=function(X,Z,pe){return X=="{"&&ke(pe)&&le(pe,Z,"block"),X=="}"?Z.string.match(/^\s*(\.|#|:|\[|\*|&|>|~|\+|\/)/i)||Z.string.match(/^\s*[a-z]/i)&&G(ye(Z))?le(pe,Z,"block"):!Z.string.match(/^(\{|\s*\&)/)||Z.match(/\s*[\w-]/,!1)?le(pe,Z,"block",0):le(pe,Z,"block"):X=="variable-name"?le(pe,Z,"variableName",0):(X=="word"&&(Ae=N(Z.current()),Ae=="tag"&&(Ae="atom")),pe.context.type)},gt.extend=function(X,Z,pe){return X=="["||X=="="?"extend":X=="]"?ke(pe):X=="word"?(Ae=N(Z.current()),"extend"):ke(pe)},gt.variableName=function(X,Z,pe){return X=="string"||X=="["||X=="]"||Z.current().match(/^(\.|\$)/)?(Z.current().match(/^\.[\w-]+/i)&&(Ae="variable-2"),"variableName"):Ce(X,Z,pe)},{startState:function(X){return{tokenize:null,state:"block",context:new se("block",X||0,null)}},token:function(X,Z){return!Z.tokenize&&X.eatSpace()?null:(Ie=(Z.tokenize||qe)(X,Z),Ie&&typeof Ie=="object"&&($e=Ie[1],Ie=Ie[0]),Ae=Ie,Z.state=gt[Z.state]($e,X,Z),Ae)},indent:function(X,Z,pe){var Oe=X.context,Ve=Z&&Z.charAt(0),he=Oe.indent,Ee=ye(Z),Pe=pe.match(/^\s*/)[0].replace(/\t/g,z).length,ve=X.context.prev?X.context.prev.line.firstWord:"",Ze=X.context.prev?X.context.prev.line.indent:Pe;return Oe.prev&&(Ve=="}"&&(Oe.type=="block"||Oe.type=="atBlock"||Oe.type=="keyframes")||Ve==")"&&(Oe.type=="parens"||Oe.type=="atBlock_parens")||Ve=="{"&&Oe.type=="at")?he=Oe.indent-U:/(\})/.test(Ve)||(/@|\$|\d/.test(Ve)||/^\{/.test(Z)||/^\s*\/(\/|\*)/.test(Z)||/^\s*\/\*/.test(ve)||/^\s*[\w-\.\[\]\'\"]+\s*(\?|:|\+)?=/i.test(Z)||/^(\+|-)?[a-z][\w-]*\(/i.test(Z)||/^return/.test(Z)||M(Ee)?he=Pe:/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(Ve)||G(Ee)?/\,\s*$/.test(ve)?he=Ze:/^\s+/.test(pe)&&(/(\.|#|:|\[|\*|&|>|~|\+|\/)/.test(ve)||G(ve))?he=Pe<=Ze?Ze:Ze+U:he=Pe:!/,\s*$/.test(pe)&&(V(Ee)||J(Ee))&&(M(ve)?he=Pe<=Ze?Ze:Ze+U:/^\{/.test(ve)?he=Pe<=Ze?Pe:Ze+U:V(ve)||J(ve)?he=Pe>=Ze?Ze:Pe:/^(\.|#|:|\[|\*|&|@|\+|\-|>|~|\/)/.test(ve)||/=\s*$/.test(ve)||G(ve)||/^\$[\w-\.\[\]\'\"]/.test(ve)?he=Ze+U:he=Pe)),he},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"indent"}});var r=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","bgsound","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","nobr","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","var","video"],i=["domain","regexp","url-prefix","url"],o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","dynamic-range","video-dynamic-range"],l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode","font-smoothing","osx-font-smoothing"],u=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],d=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],m=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","high","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","standard","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small","bicubic","optimizespeed","grayscale","row","row-reverse","wrap","wrap-reverse","column-reverse","flex-start","flex-end","space-between","space-around","unset"],v=["in","and","or","not","is not","is a","is","isnt","defined","if unless"],y=["for","if","else","unless","from","to"],_=["null","true","false","href","title","type","not-allowed","readonly","disabled"],T=["@font-face","@keyframes","@media","@viewport","@page","@host","@supports","@block","@css"],C=r.concat(i,o,s,l,u,d,m,f,v,y,_,T);function w(A){return A=A.sort(function(U,z){return z>U}),new RegExp("^(("+A.join(")|(")+"))\\b")}function S(A){for(var U={},z=0;z<A.length;++z)U[A[z]]=!0;return U}function P(A){return A.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}n.registerHelper("hintWords","stylus",C),n.defineMIME("text/x-styl","stylus")})}()),BE}var HE={},FE={},VE;function Toe(){return VE||(VE=1,function(e,t){(function(n){n(Tr(),sN(),xw(),Kg())})(function(n){var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(m,v,y){var _=m.current(),T=_.search(v);return T>-1?m.backUp(_.length-T):_.match(/<\/?$/)&&(m.backUp(_.length),m.match(v,!1)||m.match(_)),y}var o={};function s(m){var v=o[m];return v||(o[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function l(m,v){var y=m.match(s(v));return y?/^\s*(.*?)\s*$/.exec(y[2])[1]:""}function u(m,v){return new RegExp((v?"^":"")+"</\\s*"+m+"\\s*>","i")}function f(m,v){for(var y in m)for(var _=v[y]||(v[y]=[]),T=m[y],C=T.length-1;C>=0;C--)_.unshift(T[C])}function d(m,v){for(var y=0;y<m.length;y++){var _=m[y];if(!_[0]||_[1].test(l(v,_[0])))return _[2]}}n.defineMode("htmlmixed",function(m,v){var y=n.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:v.multilineTagIndentFactor,multilineTagIndentPastTag:v.multilineTagIndentPastTag,allowMissingTagName:v.allowMissingTagName}),_={},T=v&&v.tags,C=v&&v.scriptTypes;if(f(r,_),T&&f(T,_),C)for(var w=C.length-1;w>=0;w--)_.script.unshift(["type",C[w].matches,C[w].mode]);function S(P,A){var U=y.token(P,A.htmlState),z=/\btag\b/.test(U),j;if(z&&!/[<>\s\/]/.test(P.current())&&(j=A.htmlState.tagName&&A.htmlState.tagName.toLowerCase())&&_.hasOwnProperty(j))A.inTag=j+" ";else if(A.inTag&&z&&/>$/.test(P.current())){var L=/^([\S]+) (.*)/.exec(A.inTag);A.inTag=null;var B=P.current()==">"&&d(_[L[1]],L[2]),k=n.getMode(m,B),D=u(L[1],!0),K=u(L[1],!1);A.token=function(q,Q){return q.match(D,!1)?(Q.token=S,Q.localState=Q.localMode=null,null):i(q,K,Q.localMode.token(q,Q.localState))},A.localMode=k,A.localState=n.startState(k,y.indent(A.htmlState,"",""))}else A.inTag&&(A.inTag+=P.current(),P.eol()&&(A.inTag+=" "));return U}return{startState:function(){var P=n.startState(y);return{token:S,inTag:null,localMode:null,localState:null,htmlState:P}},copyState:function(P){var A;return P.localState&&(A=n.copyState(P.localMode,P.localState)),{token:P.token,inTag:P.inTag,localMode:P.localMode,localState:A,htmlState:n.copyState(y,P.htmlState)}},token:function(P,A){return A.token(P,A)},indent:function(P,A,U){return!P.localMode||/^\s*<\//.test(A)?y.indent(P.htmlState,A,U):P.localMode.indent?P.localMode.indent(P.localState,A,U):n.Pass},innerMode:function(P){return{state:P.localState||P.htmlState,mode:P.localMode||y}}}},"xml","javascript","css"),n.defineMIME("text/html","htmlmixed")})}()),FE}var jE;function Eoe(){return jE||(jE=1,function(e,t){(function(n){n(Tr(),xw(),Kg(),Toe())})(function(n){n.defineMode("pug",function(r){var i="keyword",o="meta",s="builtin",l="qualifier",u={"{":"}","(":")","[":"]"},f=n.getMode(r,"javascript");function d(){this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=n.startState(f),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.scriptType="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken="",this.innerMode=null,this.innerState=null,this.innerModeForLine=!1}d.prototype.copy=function(){var G=new d;return G.javaScriptLine=this.javaScriptLine,G.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,G.javaScriptArguments=this.javaScriptArguments,G.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,G.isInterpolating=this.isInterpolating,G.interpolationNesting=this.interpolationNesting,G.jsState=n.copyState(f,this.jsState),G.innerMode=this.innerMode,this.innerMode&&this.innerState&&(G.innerState=n.copyState(this.innerMode,this.innerState)),G.restOfLine=this.restOfLine,G.isIncludeFiltered=this.isIncludeFiltered,G.isEach=this.isEach,G.lastTag=this.lastTag,G.scriptType=this.scriptType,G.isAttrs=this.isAttrs,G.attrsNest=this.attrsNest.slice(),G.inAttributeName=this.inAttributeName,G.attributeIsType=this.attributeIsType,G.attrValue=this.attrValue,G.indentOf=this.indentOf,G.indentToken=this.indentToken,G.innerModeForLine=this.innerModeForLine,G};function m(G,J){if(G.sol()&&(J.javaScriptLine=!1,J.javaScriptLineExcludesColon=!1),J.javaScriptLine){if(J.javaScriptLineExcludesColon&&G.peek()===":"){J.javaScriptLine=!1,J.javaScriptLineExcludesColon=!1;return}var M=f.token(G,J.jsState);return G.eol()&&(J.javaScriptLine=!1),M||!0}}function v(G,J){if(J.javaScriptArguments){if(J.javaScriptArgumentsDepth===0&&G.peek()!=="("){J.javaScriptArguments=!1;return}if(G.peek()==="("?J.javaScriptArgumentsDepth++:G.peek()===")"&&J.javaScriptArgumentsDepth--,J.javaScriptArgumentsDepth===0){J.javaScriptArguments=!1;return}var M=f.token(G,J.jsState);return M||!0}}function y(G){if(G.match(/^yield\b/))return"keyword"}function _(G){if(G.match(/^(?:doctype) *([^\n]+)?/))return o}function T(G,J){if(G.match("#{"))return J.isInterpolating=!0,J.interpolationNesting=0,"punctuation"}function C(G,J){if(J.isInterpolating){if(G.peek()==="}"){if(J.interpolationNesting--,J.interpolationNesting<0)return G.next(),J.isInterpolating=!1,"punctuation"}else G.peek()==="{"&&J.interpolationNesting++;return f.token(G,J.jsState)||!0}}function w(G,J){if(G.match(/^case\b/))return J.javaScriptLine=!0,i}function S(G,J){if(G.match(/^when\b/))return J.javaScriptLine=!0,J.javaScriptLineExcludesColon=!0,i}function P(G){if(G.match(/^default\b/))return i}function A(G,J){if(G.match(/^extends?\b/))return J.restOfLine="string",i}function U(G,J){if(G.match(/^append\b/))return J.restOfLine="variable",i}function z(G,J){if(G.match(/^prepend\b/))return J.restOfLine="variable",i}function j(G,J){if(G.match(/^block\b *(?:(prepend|append)\b)?/))return J.restOfLine="variable",i}function L(G,J){if(G.match(/^include\b/))return J.restOfLine="string",i}function B(G,J){if(G.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&G.match("include"))return J.isIncludeFiltered=!0,i}function k(G,J){if(J.isIncludeFiltered){var M=Be(G,J);return J.isIncludeFiltered=!1,J.restOfLine="string",M}}function D(G,J){if(G.match(/^mixin\b/))return J.javaScriptLine=!0,i}function K(G,J){if(G.match(/^\+([-\w]+)/))return G.match(/^\( *[-\w]+ *=/,!1)||(J.javaScriptArguments=!0,J.javaScriptArgumentsDepth=0),"variable";if(G.match("+#{",!1))return G.next(),J.mixinCallAfter=!0,T(G,J)}function q(G,J){if(J.mixinCallAfter)return J.mixinCallAfter=!1,G.match(/^\( *[-\w]+ *=/,!1)||(J.javaScriptArguments=!0,J.javaScriptArgumentsDepth=0),!0}function Q(G,J){if(G.match(/^(if|unless|else if|else)\b/))return J.javaScriptLine=!0,i}function I(G,J){if(G.match(/^(- *)?(each|for)\b/))return J.isEach=!0,i}function ce(G,J){if(J.isEach){if(G.match(/^ in\b/))return J.javaScriptLine=!0,J.isEach=!1,i;if(G.sol()||G.eol())J.isEach=!1;else if(G.next()){for(;!G.match(/^ in\b/,!1)&&G.next(););return"variable"}}}function de(G,J){if(G.match(/^while\b/))return J.javaScriptLine=!0,i}function xe(G,J){var M;if(M=G.match(/^(\w(?:[-:\w]*\w)?)\/?/))return J.lastTag=M[1].toLowerCase(),J.lastTag==="script"&&(J.scriptType="application/javascript"),"tag"}function Be(G,J){if(G.match(/^:([\w\-]+)/)){var M;return r&&r.innerModes&&(M=r.innerModes(G.current().substring(1))),M||(M=G.current().substring(1)),typeof M=="string"&&(M=n.getMode(r,M)),te(G,J,M),"atom"}}function rt(G,J){if(G.match(/^(!?=|-)/))return J.javaScriptLine=!0,"punctuation"}function pt(G){if(G.match(/^#([\w-]+)/))return s}function yt(G){if(G.match(/^\.([\w-]+)/))return l}function bt(G,J){if(G.peek()=="(")return G.next(),J.isAttrs=!0,J.attrsNest=[],J.inAttributeName=!0,J.attrValue="",J.attributeIsType=!1,"punctuation"}function gt(G,J){if(J.isAttrs){if(u[G.peek()]&&J.attrsNest.push(u[G.peek()]),J.attrsNest[J.attrsNest.length-1]===G.peek())J.attrsNest.pop();else if(G.eat(")"))return J.isAttrs=!1,"punctuation";if(J.inAttributeName&&G.match(/^[^=,\)!]+/))return(G.peek()==="="||G.peek()==="!")&&(J.inAttributeName=!1,J.jsState=n.startState(f),J.lastTag==="script"&&G.current().trim().toLowerCase()==="type"?J.attributeIsType=!0:J.attributeIsType=!1),"attribute";var M=f.token(G,J.jsState);if(J.attributeIsType&&M==="string"&&(J.scriptType=G.current().toString()),J.attrsNest.length===0&&(M==="string"||M==="variable"||M==="keyword"))try{return Function("","var x "+J.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),J.inAttributeName=!0,J.attrValue="",G.backUp(G.current().length),gt(G,J)}catch{}return J.attrValue+=G.current(),M||!0}}function Ye(G,J){if(G.match(/^&attributes\b/))return J.javaScriptArguments=!0,J.javaScriptArgumentsDepth=0,"keyword"}function Ie(G){if(G.sol()&&G.eatSpace())return"indent"}function $e(G,J){if(G.match(/^ *\/\/(-)?([^\n]*)/))return J.indentOf=G.indentation(),J.indentToken="comment","comment"}function Ae(G){if(G.match(/^: */))return"colon"}function qe(G,J){if(G.match(/^(?:\| ?| )([^\n]+)/))return"string";if(G.match(/^(<[^\n]*)/,!1))return te(G,J,"htmlmixed"),J.innerModeForLine=!0,se(G,J,!0)}function Xe(G,J){if(G.eat(".")){var M=null;return J.lastTag==="script"&&J.scriptType.toLowerCase().indexOf("javascript")!=-1?M=J.scriptType.toLowerCase().replace(/"|'/g,""):J.lastTag==="style"&&(M="css"),te(G,J,M),"dot"}}function je(G){return G.next(),null}function te(G,J,M){M=n.mimeModes[M]||M,M=r.innerModes&&r.innerModes(M)||M,M=n.mimeModes[M]||M,M=n.getMode(r,M),J.indentOf=G.indentation(),M&&M.name!=="null"?J.innerMode=M:J.indentToken="string"}function se(G,J,M){if(G.indentation()>J.indentOf||J.innerModeForLine&&!G.sol()||M)return J.innerMode?(J.innerState||(J.innerState=J.innerMode.startState?n.startState(J.innerMode,G.indentation()):{}),G.hideFirstChars(J.indentOf+2,function(){return J.innerMode.token(G,J.innerState)||!0})):(G.skipToEnd(),J.indentToken);G.sol()&&(J.indentOf=1/0,J.indentToken=null,J.innerMode=null,J.innerState=null)}function le(G,J){if(G.sol()&&(J.restOfLine=""),J.restOfLine){G.skipToEnd();var M=J.restOfLine;return J.restOfLine="",M}}function ke(){return new d}function be(G){return G.copy()}function Ce(G,J){var M=se(G,J)||le(G,J)||C(G,J)||k(G,J)||ce(G,J)||gt(G,J)||m(G,J)||v(G,J)||q(G,J)||y(G)||_(G)||T(G,J)||w(G,J)||S(G,J)||P(G)||A(G,J)||U(G,J)||z(G,J)||j(G,J)||L(G,J)||B(G,J)||D(G,J)||K(G,J)||Q(G,J)||I(G,J)||de(G,J)||xe(G,J)||Be(G,J)||rt(G,J)||pt(G)||yt(G)||bt(G,J)||Ye(G,J)||Ie(G)||qe(G,J)||$e(G,J)||Ae(G)||Xe(G,J)||je(G);return M===!0?null:M}return{startState:ke,copyState:be,token:Ce}},"javascript","css","htmlmixed"),n.defineMIME("text/x-pug","pug"),n.defineMIME("text/x-jade","pug")})}()),HE}var WE={},UE={},KE;function Aoe(){return KE||(KE=1,function(e,t){(function(n){n(Tr())})(function(n){n.multiplexingMode=function(r){var i=Array.prototype.slice.call(arguments,1);function o(s,l,u,f){if(typeof l=="string"){var d=s.indexOf(l,u);return f&&d>-1?d+l.length:d}var m=l.exec(u?s.slice(u):s);return m?m.index+u+(f?m[0].length:0):-1}return{startState:function(){return{outer:n.startState(r),innerActive:null,inner:null,startingInner:!1}},copyState:function(s){return{outer:n.copyState(r,s.outer),innerActive:s.innerActive,inner:s.innerActive&&n.copyState(s.innerActive.mode,s.inner),startingInner:s.startingInner}},token:function(s,l){if(l.innerActive){var C=l.innerActive,f=s.string;if(!C.close&&s.sol())return l.innerActive=l.inner=null,this.token(s,l);var v=C.close&&!l.startingInner?o(f,C.close,s.pos,C.parseDelimiters):-1;if(v==s.pos&&!C.parseDelimiters)return s.match(C.close),l.innerActive=l.inner=null,C.delimStyle&&C.delimStyle+" "+C.delimStyle+"-close";v>-1&&(s.string=f.slice(0,v));var w=C.mode.token(s,l.inner);return v>-1?s.string=f:s.pos>s.start&&(l.startingInner=!1),v==s.pos&&C.parseDelimiters&&(l.innerActive=l.inner=null),C.innerStyle&&(w?w=w+" "+C.innerStyle:w=C.innerStyle),w}else{for(var u=1/0,f=s.string,d=0;d<i.length;++d){var m=i[d],v=o(f,m.open,s.pos);if(v==s.pos){m.parseDelimiters||s.match(m.open),l.startingInner=!!m.parseDelimiters,l.innerActive=m;var y=0;if(r.indent){var _=r.indent(l.outer,"","");_!==n.Pass&&(y=_)}return l.inner=n.startState(m.mode,y),m.delimStyle&&m.delimStyle+" "+m.delimStyle+"-open"}else v!=-1&&v<u&&(u=v)}u!=1/0&&(s.string=f.slice(0,u));var T=r.token(s,l.outer);return u!=1/0&&(s.string=f),T}},indent:function(s,l,u){var f=s.innerActive?s.innerActive.mode:r;return f.indent?f.indent(s.innerActive?s.inner:s.outer,l,u):n.Pass},blankLine:function(s){var l=s.innerActive?s.innerActive.mode:r;if(l.blankLine&&l.blankLine(s.innerActive?s.inner:s.outer),s.innerActive)s.innerActive.close===`
`&&(s.innerActive=s.inner=null);else for(var u=0;u<i.length;++u){var f=i[u];f.open===`
`&&(s.innerActive=f,s.inner=n.startState(f.mode,l.indent?l.indent(s.outer,"",""):0))}},electricChars:r.electricChars,innerMode:function(s){return s.inner?{state:s.inner,mode:s.innerActive.mode}:{state:s.outer,mode:r}}}}})}()),UE}var qE;function Ooe(){return qE||(qE=1,function(e,t){(function(n){n(Tr(),Hie,Aoe())})(function(n){n.defineSimpleMode("handlebars-tags",{start:[{regex:/\{\{\{/,push:"handlebars_raw",token:"tag"},{regex:/\{\{!--/,push:"dash_comment",token:"comment"},{regex:/\{\{!/,push:"comment",token:"comment"},{regex:/\{\{/,push:"handlebars",token:"tag"}],handlebars_raw:[{regex:/\}\}\}/,pop:!0,token:"tag"}],handlebars:[{regex:/\}\}/,pop:!0,token:"tag"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"},{regex:/'(?:[^\\']|\\.)*'?/,token:"string"},{regex:/>|[#\/]([A-Za-z_]\w*)/,token:"keyword"},{regex:/(?:else|this)\b/,token:"keyword"},{regex:/\d+/i,token:"number"},{regex:/=|~|@|true|false/,token:"atom"},{regex:/(?:\.\.\/)*(?:[A-Za-z_][\w\.]*)+/,token:"variable-2"}],dash_comment:[{regex:/--\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],comment:[{regex:/\}\}/,pop:!0,token:"comment"},{regex:/./,token:"comment"}],meta:{blockCommentStart:"{{--",blockCommentEnd:"--}}"}}),n.defineMode("handlebars",function(r,i){var o=n.getMode(r,"handlebars-tags");return!i||!i.base?o:n.multiplexingMode(n.getMode(r,i.base),{open:"{{",close:/\}\}\}?/,mode:o,parseDelimiters:!0})}),n.defineMIME("text/x-handlebars-template","handlebars")})}()),WE}(function(e,t){(function(n){n(Tr(),koe(),sN(),xw(),xoe(),Kg(),Soe(),Coe(),Eoe(),Ooe())})(function(n){var r={script:[["lang",/coffee(script)?/,"coffeescript"],["type",/^(?:text|application)\/(?:x-)?coffee(?:script)?$/,"coffeescript"],["lang",/^babel$/,"javascript"],["type",/^text\/babel$/,"javascript"],["type",/^text\/ecmascript-\d+$/,"javascript"]],style:[["lang",/^stylus$/i,"stylus"],["lang",/^sass$/i,"sass"],["lang",/^less$/i,"text/x-less"],["lang",/^scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?styl(us)?$/i,"stylus"],["type",/^text\/sass/i,"sass"],["type",/^(text\/)?(x-)?scss$/i,"text/x-scss"],["type",/^(text\/)?(x-)?less$/i,"text/x-less"]],template:[["lang",/^vue-template$/i,"vue"],["lang",/^pug$/i,"pug"],["lang",/^handlebars$/i,"handlebars"],["type",/^(text\/)?(x-)?pug$/i,"pug"],["type",/^text\/x-handlebars-template$/i,"handlebars"],[null,null,"vue-template"]]};n.defineMode("vue-template",function(i,o){var s={token:function(l){if(l.match(/^\{\{.*?\}\}/))return"meta mustache";for(;l.next()&&!l.match("{{",!1););return null}};return n.overlayMode(n.getMode(i,o.backdrop||"text/html"),s)}),n.defineMode("vue",function(i){return n.getMode(i,{name:"htmlmixed",tags:r})},"htmlmixed","xml","javascript","coffeescript","css","sass","stylus","pug","handlebars"),n.defineMIME("script/x-vue","vue"),n.defineMIME("text/x-vue","vue")})})();const Moe={name:"CodeEditor",components:{Codemirror:soe},props:{field:{type:Object,default:null},editor:{type:Object,default:null},visible:{type:Boolean,default:!1},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{proxyValue:"",options:{theme:"material",mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0,indentUnit:4}}},watch:{visible(e){e&&(this.proxyValue=woe.html(this.modelValue,{indent_size:4})),this.resizeHandler()},proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.editor.on("resize",this.resizeHandler.bind(this))},methods:{resizeHandler(){this.visible&&this.$nextTick(()=>{const{width:e,height:t}=this.editor.view.dom.getBoundingClientRect();this.$el.style.width=`${e}px`,this.$el.style.height=`${t}px`})}}};function Loe(e,t,n,r,i,o){const s=lt("Codemirror");return n.visible?(me(),Et(s,{key:0,value:i.proxyValue,"onUpdate:value":t[0]||(t[0]=l=>i.proxyValue=l),class:"vui-code-editor",options:i.options},null,8,["value","options"])):_t("",!0)}const Noe=Dt(Moe,[["render",Loe]]),Poe={name:"VizyInput",components:{EditorContent:wZ,MenuBar:hie,BlockPicker:Pie,CodeEditor:Noe},props:{name:{type:String,required:!0,default:""},settings:{type:Object,default:()=>{}},value:{type:[String,Array],required:!0,default:""}},data(){return{isLivePreview:!1,mounted:!1,buttons:["bold","italic"],showCodeEditor:!1,codeEditorHtml:"",editor:null,json:null,html:null,parentToolbarOffset:0,cachedFieldHtml:{},cachedFieldJs:{},renderedJsCache:{},selectedBlockType:null,currentNodeHoverPosition:null}},computed:{jsonContent(){return this.contentToValue(this.json)},toolbarFixed(){return this.settings.vizyConfig.toolbarFixed},isRoot(){return this.settings.isRoot},supportedBlockTypes(){const e=[];return this.settings.blockGroups.forEach(t=>{t.blockTypes.forEach(n=>{e.push(n.id)})}),e},blocksEnabled(){return this.settings.editorMode!=="richText"},richTextEnabled(){return this.settings.editorMode!=="blocks"}},watch:{codeEditorHtml(e){this.editor.chain().setContent(e,!0).run()}},mounted(){this.editor=new _Z({extensions:this.getExtensions(),content:this.valueToContent(this.clone(this.value)),autofocus:!1,onUpdate:()=>{this.json=this.editor.getJSON().content,this.html=this.editor.getHTML()},editorProps:{transformPastedHTML:e=>{if(this.settings.pasteAsPlainText){const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}return e},handleDrop:(e,t,n,r)=>!this.selectedBlockType,handleKeyDown:(e,t)=>{if(!this.richTextEnabled)return!["/","Backspace","Delete","Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.key)},handlePaste:(e,t)=>{if(!this.richTextEnabled)return!0}}}),this.editor.vizyField=this,this.json=this.editor.getJSON().content,this.html=this.editor.getHTML(),this.json.forEach(e=>{if(e.type==="vizyBlock"){const{id:t}=e.attrs,n=q0(this.settings.blocks,{id:t});n&&(this.setCachedFieldHtml(t,n.fieldsHtml),this.setCachedFieldJs(t,n.footHtml))}}),this.$nextTick(()=>{if(this.mounted=!0,this.toolbarFixed){window.addEventListener("scroll",this.updateFixedToolbar),window.addEventListener("resize",this.updateFixedToolbar);const e=document.querySelector(".slideout[data-element-editor].so-visible .so-body");e&&(e.addEventListener("scroll",this.updateFixedToolbarEditor),e.addEventListener("resize",this.updateFixedToolbarEditor)),Garnish.on(Craft.Preview,"open",this.openLivePreviewCallback),Garnish.on(Craft.LivePreview,"enter",this.openLivePreviewCallback),Garnish.on(Craft.Preview,"close",this.closeLivePreviewCallback),Garnish.on(Craft.LivePreview,"exit",this.closeLivePreviewCallback)}this.editor.on("vui:code-editor-toggle",this.setCodeEditor)}),this.getParentInputs(this.$el).forEach(e=>{e.$refs.toolbar&&(this.parentToolbarOffset+=e.$refs.toolbar.$el.offsetHeight)}),this.refreshUnloadData()},created(){this.settings.vizyConfig.buttons&&(this.buttons=this.settings.vizyConfig.buttons)},beforeUnmount(){this.editor.destroy()},methods:{getExtensions(){let e=[zG,ZJ.configure({color:"#3778eb",width:3}),sY,BG,JJ,tQ,WG,FQ.configure({suggestion:sne})];const t=Craft.Vizy.Config.getExtensions(),n=[zQ];return this.richTextEnabled&&(e=e.concat(t)),this.blocksEnabled&&(e=e.concat(n)),e=e.concat(ane(this)),e},setCodeEditor(){this.showCodeEditor?this.editor.chain().setContent(this.codeEditorHtml,!0).run():this.codeEditorHtml=this.editor.getHTML(),this.showCodeEditor=!this.showCodeEditor},valueToContent(e){if(!e)return null;if(!Array.isArray(e))try{e=JSON.parse(e)}catch(t){console.log(t)}return e=this.decodeHtml(e),e.length?{type:"doc",content:e}:null},decodeHtml(e){Array.isArray(e)&&(e=JSON.stringify(e));const t=document.createElement("textarea");return t.innerHTML=e,JSON.parse(t.value)},contentToValue(e){return e&&Array.isArray(e)&&e.length===1&&e[0].type==="paragraph"&&!e[0].content?null:JSON.stringify(e)},getParsedBlockHtml(e,t){return typeof e=="string"?e.replace(new RegExp(`__VIZY_BLOCK_${this.settings.placeholderKey}__`,"g"),t):""},getCachedFieldHtml(e){let t=this.cachedFieldHtml[e];return typeof t=="string"&&(t=t.replace(/&#(\d+);/g,(n,r)=>String.fromCharCode(r))),this.getParsedBlockHtml(t,e)},setCachedFieldHtml(e,t){this.cachedFieldHtml[e]=t},getCachedFieldJs(e){let t=this.cachedFieldJs[e];typeof t=="string"&&(t=t.replace(/&#(\d+);/g,(r,i)=>String.fromCharCode(i)));let n=this.getParsedBlockHtml(t,e);return this.renderedJsCache[e]&&(n=n.replace(/(superTableInput.addRow.*?;)/g,"null")),this.renderedJsCache[e]=n,n},setCachedFieldJs(e,t){this.cachedFieldJs[e]=t},getBlockSettings(e){return q0(this.settings.blocks,{id:e})||{}},openLivePreviewCallback(){this.isLivePreview=!0;const e=document.querySelector(".lp-editor-container .lp-editor");e&&(e.addEventListener("scroll",this.updateFixedToolbar),e.addEventListener("resize",this.updateFixedToolbar))},closeLivePreviewCallback(){this.isLivePreview=!1},updateFixedToolbar(e){let t=document.querySelector("body.fixed-header #header")?document.querySelector("body.fixed-header #header").offsetHeight:0;this.isLivePreview&&(t=document.querySelector(".lp-editor-container header.flex")?document.querySelector(".lp-editor-container header.flex").offsetHeight-parseFloat(window.getComputedStyle(document.querySelector(".lp-editor-container .lp-editor"),null).getPropertyValue("padding-top")):0),t=t+this.parentToolbarOffset,this.$refs.toolbar&&(this.$refs.toolbar.$el.style.position="sticky",this.$refs.toolbar.$el.style.top=`${this.$el.scrollTop+t}px`)},updateFixedToolbarEditor(e){let t=-24;t=t+this.parentToolbarOffset,this.$refs.toolbar&&(this.$refs.toolbar.$el.style.position="sticky",this.$refs.toolbar.$el.style.top=`${this.$el.scrollTop+t}px`)},getParentInputs(){const e=[];let t=this;for(;t;)t.$options.name==="VizyInput"&&e.push(t),t=t.$parent;return e},refreshUnloadData(){setTimeout(()=>{if(Yn(this.editor,"storage.vizyBlock.isNew"))return;const e=$("form#main-form");if(e.length){const t=e.data("elementEditor");if(t){const n=t.serializeForm(!0);t.lastSerializedValue=n,e.data("initialSerializedValue",n)}}},500)},isFocused(){return this.editor.isFocused&&!this.editor.isActive("vizyBlock")}}},Ioe={key:1,class:"input text",style:{"margin-top":"20px"}},Doe=["name","value"];function Roe(e,t,n,r,i,o){const s=lt("menu-bar"),l=lt("code-editor"),u=lt("editor-content"),f=lt("block-picker");return me(),Se("div",null,[i.editor?(me(),Se("div",{key:0,class:mt(["vui-rich-text",{"has-focus":o.isFocused()}]),style:Qr({"--rows":n.settings.initialRows})},[i.buttons.length&&o.richTextEnabled?(me(),Et(s,{key:0,ref:"toolbar",buttons:i.buttons,editor:i.editor,field:this},null,8,["buttons","editor"])):_t("",!0),o.richTextEnabled?(me(),Et(l,{key:1,modelValue:i.codeEditorHtml,"onUpdate:modelValue":t[0]||(t[0]=d=>i.codeEditorHtml=d),visible:i.showCodeEditor,editor:i.editor,field:this},null,8,["modelValue","visible","editor"])):_t("",!0),Qe(u,{class:mt([{"code-view":i.showCodeEditor},"vui-editor"]),editor:i.editor},null,8,["class","editor"]),o.blocksEnabled?(me(),Et(f,{key:2,editor:i.editor,field:this,"block-groups":n.settings.blockGroups},null,8,["editor","block-groups"])):_t("",!0)],6)):_t("",!0),e.$isDebug?(me(),Se("div",Ioe,Ne(o.jsonContent),1)):_t("",!0),ie("input",{type:"hidden",name:n.name,value:o.jsonContent},null,8,Doe)])}const GE=Dt(Poe,[["render",Roe]]),Jb={data:void 0},Sw=e=>e.reduce((t,n)=>(t[n]=n)&&t,{}),Po=Sw(["drag","dragend","dragenter","dragleave","dragstart","dragover","drop"]),zoe=Sw(["copy","move","link","none"]),Boe=Sw(["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"]),$oe={props:{draggable:{type:Boolean,default:!0},transferData:{},dropEffect:{validator:e=>e in zoe},effectAllowed:{validator:e=>e in Boe},image:String,imageXOffset:{type:Number,default:0},imageYOffset:{type:Number,default:0},hideImageHtml:{type:Boolean,default:!0},tag:{type:String,default:"div"}},data(){return{dragging:!1}},computed:{events:()=>Po,scopedData(){return this.dragging&&this.transferData},hideImageStyle:()=>({position:"fixed",top:"-1000px"})},methods:{emitEvent(e,t){const n=t.dataTransfer;if([Po.dragenter,Po.dragover].includes(e)&&this.dropEffect&&(n.dropEffect=this.dropEffect),e===Po.dragstart){if(this.effectAllowed&&(n.effectAllowed=this.effectAllowed),this.image||this.$slots.image||this.$refs.image){let r;this.image?(r=new Image,r.src=this.image):this.$refs.image?r=this.$refs.image:this.$slots.image&&(r=this.$slots.image[0].elm),n.setDragImage&&n.setDragImage(r,this.imageXOffset,this.imageYOffset)}this.transferData!==void 0&&(Jb.data=this.transferData,t.dataTransfer.setData("text","")),this.dragging=!0}this.$emit(e,this.transferData,t),e===Po.dragend&&(Jb.data=void 0,this.dragging=!1)}}};function Hoe(e,t,n,r,i,o){return me(),Et(js(n.tag),{draggable:n.draggable,onDrag:t[0]||(t[0]=s=>o.emitEvent(o.events.drag,s)),onDragstart:t[1]||(t[1]=s=>o.emitEvent(o.events.dragstart,s)),onDragenter:t[2]||(t[2]=s=>o.emitEvent(o.events.dragenter,s)),onDragleave:t[3]||(t[3]=s=>o.emitEvent(o.events.dragleave,s)),onDragend:t[4]||(t[4]=s=>o.emitEvent(o.events.dragend,s))},{default:Bt(()=>[pn(e.$slots,"default",{transferData:o.scopedData}),n.hideImageHtml?(me(),Se("div",{key:0,ref:"image",style:Qr(o.hideImageStyle)},[pn(e.$slots,"image",{transferData:o.scopedData})],4)):pn(e.$slots,"image",{key:1,transferData:o.scopedData})]),_:3},40,["draggable"])}const Foe=Dt($oe,[["render",Hoe]]),$c=new Set,Voe={data(){return{transferData:void 0,isDraggingOver:!1}},props:{tag:{type:String,default:"div"}},computed:{events:()=>Po,scopedData(){return this.isDraggingOver&&this.transferData}},methods:{emitEvent(e,t){this.transferData=Jb.data,this.$emit(e,this.transferData,t),e===Po.dragenter&&($c.size||t.target===this.$el)&&$c.add(t.target),e===Po.dragleave&&$c.delete(t.target),e===Po.drop&&$c.clear(),this.isDraggingOver=!!$c.size}}};function joe(e,t,n,r,i,o){return me(),Et(js(n.tag),{onDragenter:t[0]||(t[0]=s=>o.emitEvent(o.events.dragenter,s)),onDragleave:t[1]||(t[1]=s=>o.emitEvent(o.events.dragleave,s)),onDragover:t[2]||(t[2]=at(s=>o.emitEvent(o.events.dragover,s),["prevent"])),onDrop:t[3]||(t[3]=at(s=>o.emitEvent(o.events.drop,s),["prevent"]))},{default:Bt(()=>[pn(e.$slots,"default",{transferData:o.scopedData})]),_:3},32)}const Woe=Dt(Voe,[["render",joe]]),Uoe={name:"VizyIconPicker",props:{inputClasses:{type:Object,default:()=>{}},modelValue:{type:Object,default:()=>{}}},emits:["update:modelValue"],data(){return{tippy:null,id:`icon-picker-${Craft.randomString(10)}`,icons:[],search:"",selected:null,isFetching:!1,tippyVisible:!1}},computed:{iconsFiltered(){return Ci(this.icons)?[]:this.icons.reduce((e,t)=>{const n=t.icons.filter(r=>r.label.toLowerCase().includes(this.search.toLowerCase()));return n.length?e.concat({...t,icons:n}):e},[])}},watch:{selected(e){this.$emit("update:modelValue",e)}},created(){this.modelValue&&(this.selected=this.modelValue)},mounted(){const e=this,t=this.$el.querySelector(".js-vui-tippy-template");t.style.display="block",this.tippy=dr(`#${this.id}`,{content:t,trigger:"focus",allowHTML:!0,arrow:!0,interactive:!0,placement:"bottom-start",theme:"light-border icon-picker",maxWidth:"none",duration:200,zIndex:10,hideOnClick:!1,onCreate(n){e.isFetching=!1,n.popper.style.width="100%"},onShow(n){e.tippyVisible=!0,!(e.isFetching||e.icons.length)&&(e.isFetching=!0,fetch(Craft.getActionUrl("vizy/icons")).then(r=>r.json()).then(r=>{e.icons=r}).catch(r=>{n.setContent(`Request failed. ${r}`)}).finally(()=>{e.isFetching=!1}))},onHide(n){e.isFetching=!1,e.tippyVisible=!1},onHidden(n){e.search=""}})},methods:{select(e){this.selected=e,this.tippy[0].hide()},deleteIcon(){this.selected=null}}},Koe={key:0,class:"vui-icon-input-item"},qoe=["innerHTML"],Goe={class:"vui-icon-input-label"},Joe=["id"],Yoe=ie("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fal","data-icon":"times",class:"svg-inline--fa fa-times fa-w-10",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[ie("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})],-1),Xoe=[Yoe],Zoe={class:"vui-icons-pane js-vui-tippy-template",style:{display:"none"}},Qoe={key:0,class:"vui-no-icons"},ese=ie("span",{class:"vui-loading"},null,-1),tse=[ese],nse={key:1,class:"vui-icons-groups"},rse={class:"vui-icons-group-name"},ise={class:"vui-icons"},ose=["title","onClick"],sse=["innerHTML"],ase={class:"vui-icon-label"},lse={key:2,class:"vui-no-icons"};function use(e,t,n,r,i,o){return me(),Se("div",null,[ie("div",{class:mt(["vui-icon-input",{"tippy-visible":i.tippyVisible}])},[i.selected&&!i.tippyVisible?(me(),Se("div",Koe,[ie("div",{class:"vui-icon-input-svg",innerHTML:i.selected.svg},null,8,qoe),ie("span",Goe,Ne(i.selected.label),1)])):_t("",!0),Wt(ie("input",{id:i.id,"onUpdate:modelValue":t[0]||(t[0]=s=>i.search=s),type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",class:mt(n.inputClasses)},null,10,Joe),[[An,i.search]]),i.selected?(me(),Se("button",{key:1,type:"button",class:"vui-icon-input-delete",onClick:t[1]||(t[1]=at((...s)=>o.deleteIcon&&o.deleteIcon(...s),["prevent"]))},Xoe)):_t("",!0)],2),ie("div",Zoe,[i.isFetching?(me(),Se("div",Qoe,tse)):Object.keys(o.iconsFiltered).length?(me(),Se("div",nse,[(me(!0),Se(kt,null,Zt(o.iconsFiltered,(s,l)=>(me(),Se("div",{key:l,class:"vui-icons-group"},[ie("span",rse,Ne(s.name),1),ie("div",ise,[(me(!0),Se(kt,null,Zt(s.icons,(u,f)=>(me(),Se("div",{key:f,class:"vui-icon-wrap",title:`${u.label} (${s.name})`,onClick:at(d=>o.select(u),["prevent"])},[ie("div",{class:"vui-icon-svg",innerHTML:u.svg},null,8,sse),ie("span",ase,Ne(u.label),1)],8,ose))),128))])]))),128))])):(me(),Se("div",lse,Ne(e.t("vizy","No icons match your query.")),1))])])}const cse=Dt(Uoe,[["render",use]]),fse={name:"FieldLayoutDesigner",props:{layoutUid:{type:String,default:null},fieldId:{type:String,default:null},blockTypeId:{type:String,default:null},modelValue:{type:[Object,Array,String],default:()=>{}}},emits:["update:modelValue"],data(){return{error:!1,errorMessage:"",loading:!1,mounted:!1,proxyValue:{}}},watch:{proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.proxyValue=this.modelValue},mounted(){this.loading=!0;const e=[];this.fieldId&&e.push(this.fieldId);const n=/fields\/edit\/(\d*)$/g.exec(window.location.href);n&&n[1]&&e.push(n[1]);const r={fieldIds:e,layoutUid:this.layoutUid,blockTypeId:this.blockTypeId,layout:this.proxyValue};Craft.sendActionRequest("POST","vizy/field/layout-designer",{data:r}).then(i=>{if(i.data.html)this.$el.innerHTML=i.data.html,Craft.appendBodyHtml(i.data.footHtml),this.watchForChanges(),this.mounted=!0;else throw new Error(i.data)}).catch(i=>{this.error=!0,this.errorMessage=i,this.loading=!1})},methods:{watchForChanges(){const e=P3(this.serializeLayout,150);new MutationObserver(n=>{e()}).observe(this.$el,{childList:!0,attributes:!0,subtree:!0,characterData:!0})},serializeLayout(){this.mounted&&(this.proxyValue=this.$el.querySelector('input[name="fieldLayout"]').value,setTimeout(()=>{this.proxyValue=this.$el.querySelector('input[name="fieldLayout"]').value},400))}}},dse={ref:"fld-container",class:"vui-block-editor-layout"},hse={class:"vui-workspace"},pse={key:0,class:"vui-loading-pane"},mse=ie("div",{class:"vui-loading fui-loading-lg"},null,-1),gse=[mse],vse={key:1,class:"vui-error-pane error"},yse={class:"vui-error-content"},bse=ie("span",{"data-icon":"alert"},null,-1),_se=["innerHTML"];function wse(e,t,n,r,i,o){return me(),Se("div",dse,[ie("div",hse,[i.loading?(me(),Se("div",pse,gse)):_t("",!0),i.error?(me(),Se("div",vse,[ie("div",yse,[bse,ie("span",{class:"error",innerHTML:i.errorMessage},null,8,_se)])])):_t("",!0)])],512)}const kse=Dt(fse,[["render",wse]]),xse=an({name:"default-section",props:{section:{type:Object,required:!0},currentIndex:{type:[Number,String],required:!1,default:1/0},renderSuggestion:{type:Function,required:!1},normalizeItemFunction:{type:Function,required:!0},componentAttrPrefix:{type:String,required:!0},componentAttrIdAutosuggest:{type:String,required:!0}},data:function(){return{_currentIndex:this.currentIndex}},computed:{list:function(){let{limit:e,data:t}=this.section;return t.length<e&&(e=t.length),t.slice(0,e)}},methods:{getItemIndex(e){return this.section.start_index+e},getItemByIndex(e){return this.section.data[e]},onMouseEnter(e){const t=parseInt(e.currentTarget.getAttribute("data-suggestion-index"));this._currentIndex=t,this.$emit("updateCurrentIndex",t)},onMouseLeave(){this.$emit("updateCurrentIndex",null)}},render(){const e=this.componentAttrPrefix,t={beforeSection:this.$slots[`before-section-${this.section.name}`],afterSectionDefault:this.$slots["after-section"],afterSectionNamed:this.$slots[`after-section-${this.section.name}`]},n=`${e}__results-before ${e}__results-before--${this.section.name}`,r=t.beforeSection&&t.beforeSection({section:this.section,className:n}).filter(i=>i.type!==kt&&i.children.length===0)||[];return jn("ul",{role:"listbox",class:this.section.ulClass,"aria-labelledby":this.section.label&&`${this.componentAttrIdAutosuggest}-${this.section.label}`},[r[0]&&r[0]||this.section.label&&jn("li",{class:n,id:`${this.componentAttrIdAutosuggest}-${this.section.label}`},[this.section.label])||"",this.list.map((i,o)=>{const s=this.normalizeItemFunction(this.section.name,this.section.type,this.section.label,this.section.liClass,i),l=this.getItemIndex(o),u=this._currentIndex===l||parseInt(this.currentIndex)===l;return jn("li",{role:"option","data-suggestion-index":l,"data-section-name":s.name,id:`${e}__results-item--${l}`,...s.liAttributes,key:l,class:{[`${e}__results-item--highlighted`]:u,[`${e}__results-item`]:!0,...s.liClass},onMouseenter:this.onMouseEnter,onMouseleave:this.onMouseLeave},[this.renderSuggestion?this.renderSuggestion(s):this.$slots.default&&this.$slots.default({_key:o,suggestion:s})])}),t.afterSectionDefault&&t.afterSectionDefault({section:this.section,className:`${e}__results-after ${e}__results-after--${this.section.name}`}),t.afterSectionNamed&&t.afterSectionNamed({section:this.section,className:`${e}__results_after ${e}__results-after--${this.section.name}`})])}});function Sse(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function Cse(e,t){Sse(e,t)||(e.className+=" "+t)}function Tse(e,t){e.classList&&e.classList.remove(t)}const JE=-1,YE={name:"default",type:"default-section"},Ese={name:"Autosuggest",components:{DefaultSection:xse},inheritAttrs:!1,props:{modelValue:{type:String,default:null},inputProps:{type:Object,required:!0},limit:{type:Number,required:!1,default:1/0},suggestions:{type:Array,required:!0},renderSuggestion:{type:Function,required:!1,default:null},getSuggestionValue:{type:Function,required:!1,default:e=>{const t=e.item;return typeof t=="object"&&t.hasOwnProperty("name")?t.name:t}},shouldRenderSuggestions:{type:Function,required:!1,default:(e,t)=>e>0&&!t},sectionConfigs:{type:Object,required:!1,default:()=>({default:{onSelected:null}})},onSelected:{type:Function,required:!1,default:null},componentAttrIdAutosuggest:{type:String,required:!1,default:"autosuggest"},componentAttrClassAutosuggestResultsContainer:{type:String,required:!1,default:null},componentAttrClassAutosuggestResults:{type:String,required:!1,default:null},componentAttrPrefix:{type:String,required:!1,default:"autosuggest"},class:null,style:null},data(){return{internalValue:null,searchInputOriginal:null,currentIndex:null,currentItem:null,loading:!1,didSelectFromOptions:!1,defaultInputProps:{type:"text",autocomplete:"off"},clientXMouseDownInitial:null}},computed:{internal_inputProps(){return{...this.defaultInputProps,...this.inputProps,...this.listeners}},listeners(){return{onInput:e=>{},onClick:()=>{this.loading=!1,this.$attrs.click&&this.$attrs.click(this.currentItem),this.$nextTick(()=>{this.ensureItemVisible(this.currentItem,this.currentIndex)})},onSelected:()=>{this.currentItem&&this.sectionConfigs[this.currentItem.name]&&this.sectionConfigs[this.currentItem.name].onSelected?this.sectionConfigs[this.currentItem.name].onSelected(this.currentItem,this.searchInputOriginal):this.sectionConfigs.default.onSelected?this.sectionConfigs.default.onSelected(null,this.searchInputOriginal):this.onSelected&&this.$emit("selected",this.currentItem,this.currentIndex),this.setChangeItem(null)}}},isOpen(){return this.shouldRenderSuggestions(this.totalResults,this.loading)},computedSections(){let e=0;return this.suggestions.map(t=>{if(!t.data)return;const n=t.name?t.name:YE.name;let r,i,o,s,l=null;this.sectionConfigs[n]&&(r=this.sectionConfigs[n].limit,o=this.sectionConfigs[n].type,i=this.sectionConfigs[n].label,s=this.sectionConfigs[n].ulClass,l=this.sectionConfigs[n].liClass),o=o||YE.type,r=r||this.limit,r=r||1/0,r=t.data.length<r?t.data.length:r,i=i||t.label;const u={name:n,label:i,type:o,limit:r,data:t.data,start_index:e,end_index:e+r-1,ulClass:s,liClass:l};return e+=r,u})},totalResults(){return this.computedSections.reduce((e,t)=>{if(!t)return e;const{limit:n,data:r}=t;return e+(r.length>=n?n:r.length)},0)},_componentAttrClassAutosuggestResultsContainer(){return this.componentAttrClassAutosuggestResultsContainer||`${this.componentAttrPrefix}__results-container`},_componentAttrClassAutosuggestResults(){return this.componentAttrClassAutosuggestResults||`${this.componentAttrPrefix}__results`}},watch:{modelValue:{handler(e){this.internalValue=e},immediate:!0},isOpen:{handler(e,t){e!==t&&this.$emit(e?"opened":"closed")},immediate:!0}},created(){this.loading=!0},mounted(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("mousedown",this.onDocumentMouseDown)},beforeUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousedown",this.onDocumentMouseDown)},methods:{afterSlot(e){return`after-section-${e.name||e.label}`},beforeSlot(e){return`before-section-${e.name||e.label}`},inputHandler(e){const t=e.target.value;this.$emit("update:modelValue",t),this.internalValue=t,this.didSelectFromOptions||(this.searchInputOriginal=t,this.currentIndex=null)},getSectionRef(e){return"computed_section_"+e},getItemByIndex(e){let t=!1;if(e===null)return t;for(var n=0;n<this.computedSections.length;n++)if(e>=this.computedSections[n].start_index&&e<=this.computedSections[n].end_index){let r=e-this.computedSections[n].start_index;this.computedSections[n].name;let i=this.computedSections[n].data[r];if(i){t=this.normalizeItem(this.computedSections[n].name,this.computedSections[n].type,i.name,"",i);break}}return t},handleKeyStroke(e){const{keyCode:t}=e;if([16,9,17,18,91,93].indexOf(t)>-1)return;const r=!this.isOpen;if(this.loading=!1,this.didSelectFromOptions=!1,this.isOpen)switch(t){case 40:case 38:if(e.preventDefault(),t===38&&this.currentIndex===null)break;const i=t===40?1:-1,o=Math.max((parseInt(this.currentIndex)||0)+(r?0:i),JE);this.setCurrentIndex(o,this.totalResults),this.didSelectFromOptions=!0,this.totalResults>0&&this.currentIndex>=0?(this.setChangeItem(this.getItemByIndex(this.currentIndex)),this.didSelectFromOptions=!0):this.currentIndex===JE&&(this.setChangeItem(null),this.internalValue=this.searchInputOriginal,e.preventDefault()),this.$nextTick(()=>{this.ensureItemVisible(this.currentItem,this.currentIndex)});break;case 13:e.preventDefault(),this.totalResults>0&&this.currentIndex>=0&&(this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.didSelectFromOptions=!0),this.loading=!0,this.listeners.onSelected(this.didSelectFromOptions);break;case 27:this.loading=!0,this.currentIndex=null,this.internalValue=this.searchInputOriginal,this.$emit("input",this.searchInputOriginal),e.preventDefault();break}},setChangeItem(e,t=!1){if(this.currentIndex===null||!e)this.currentItem=null,this.$emit("item-changed",null,null);else if(e){this.currentItem=e,this.$emit("item-changed",e,this.currentIndex);const n=this.getSuggestionValue(e);this.internalValue=n,t&&(this.searchInputOriginal=n),this.ensureItemVisible(e,this.currentIndex)}},normalizeItem(e,t,n,r,i){return{name:e,type:t,label:n,liClass:i.liClass||r,item:i}},ensureItemVisible(e,t,n){const r=this.$el.querySelector(n||`.${this._componentAttrClassAutosuggestResults}`);if(!r)return;const i=r.querySelector(`#${this.componentAttrPrefix}__results-item--${t}`);if(!i)return;const o=r.clientHeight,s=r.scrollTop,l=i.clientHeight,u=i.offsetTop;l+u>=s+o?r.scrollTop=l+u-o:u<s&&s>0&&(r.scrollTop=u)},updateCurrentIndex(e){this.setCurrentIndex(e,-1,!0)},clickedOnScrollbar(e,t){const n=this.$el.querySelector(`.${this._componentAttrClassAutosuggestResults}`),r=n&&n.clientWidth<=t+17&&t+17<=n.clientWidth+34;return e.target.tagName==="DIV"&&n&&r||!1},onDocumentMouseDown(e){var t=e.target.getBoundingClientRect?e.target.getBoundingClientRect():0;this.clientXMouseDownInitial=e.clientX-t.left},onDocumentMouseUp(e){if(!this.$el.contains(e.target)){this.loading=!0,this.currentIndex=null;return}e.target.tagName==="INPUT"||this.clickedOnScrollbar(e,this.clientXMouseDownInitial)||(this.loading=!0,this.didSelectFromOptions=!0,this.setChangeItem(this.getItemByIndex(this.currentIndex),!0),this.listeners.onSelected(!0))},setCurrentIndex(e,t=-1,n=!1){let r=e;if(!n){const s=this.currentIndex===null,l=e>=t;(s||l)&&(r=0)}this.currentIndex=r;const i=this.$el.querySelector(`#${this.componentAttrPrefix}__results-item--${this.currentIndex}`),o=`${this.componentAttrPrefix}__results-item--highlighted`;this.$el.querySelector(`.${o}`)&&Tse(this.$el.querySelector(`.${o}`),o),i&&Cse(i,o)}}},Ase=["id"],Ose=["aria-expanded","aria-owns"],Mse=["type","value","autocomplete","aria-activedescendant","aria-controls"],Lse=["id"],Nse=["aria-labelledby"];function Pse(e,t,n,r,i,o){return me(),Se("div",{id:n.componentAttrIdAutosuggest,class:mt(e.$props.class),style:Qr(e.$props.style)},[pn(e.$slots,"before-input"),ie("div",{role:"combobox","aria-expanded":o.isOpen?"true":"false","aria-haspopup":"listbox","aria-owns":`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`},[ie("input",mi({type:o.internal_inputProps.type,value:i.internalValue,autocomplete:o.internal_inputProps.autocomplete,class:[o.isOpen?`${n.componentAttrPrefix}__input--open`:"",o.internal_inputProps.class]},o.internal_inputProps,{"aria-autocomplete":"list","aria-activedescendant":o.isOpen&&i.currentIndex!==null?`${n.componentAttrPrefix}__results-item--${i.currentIndex}`:"","aria-controls":`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`,onInput:t[0]||(t[0]=(...s)=>o.inputHandler&&o.inputHandler(...s)),onKeydown:t[1]||(t[1]=(...s)=>o.handleKeyStroke&&o.handleKeyStroke(...s))}),null,16,Mse)],8,Ose),pn(e.$slots,"after-input"),ie("div",{id:`${n.componentAttrIdAutosuggest}-${n.componentAttrPrefix}__results`,class:mt(o._componentAttrClassAutosuggestResultsContainer)},[o.isOpen?(me(),Se("div",{key:0,class:mt(o._componentAttrClassAutosuggestResults),"aria-labelledby":n.componentAttrIdAutosuggest},[pn(e.$slots,"before-suggestions"),(me(!0),Se(kt,null,Zt(o.computedSections,(s,l)=>(me(),Et(js(s.type),{ref_for:!0,ref:o.getSectionRef(`${s.name}${l}`),key:o.getSectionRef(`${s.name}${l}`),"current-index":i.currentIndex,"normalize-item-function":o.normalizeItem,"render-suggestion":n.renderSuggestion,section:s,"component-attr-prefix":n.componentAttrPrefix,"component-attr-id-autosuggest":n.componentAttrIdAutosuggest,onUpdateCurrentIndex:o.updateCurrentIndex},{[o.beforeSlot(s)]:Bt(({section:u,className:f})=>[pn(e.$slots,o.beforeSlot(s),{section:u,className:f})]),default:Bt(({suggestion:u,_key:f})=>[pn(e.$slots,"default",{suggestion:u,index:f},()=>[$i(Ne(u.item),1)])]),[o.afterSlot(s)]:Bt(({section:u})=>[pn(e.$slots,`after-section-${s.name||s.label}`,{section:u})]),"after-section":Bt(({section:u})=>[pn(e.$slots,"after-section",{section:u})]),_:2},1064,["current-index","normalize-item-function","render-suggestion","section","component-attr-prefix","component-attr-id-autosuggest","onUpdateCurrentIndex"]))),128)),pn(e.$slots,"after-suggestions")],10,Nse)):_t("",!0),pn(e.$slots,"after-suggestions-container")],10,Lse)],14,Ase)}const Ise=Dt(Ese,[["render",Pse]]),Dse={name:"AutoSuggest",components:{VueAutosuggest:Ise},props:{id:{type:String,default:""},suggestions:{type:[Object,Array],default:()=>[]},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{query:"",selected:"",filteredOptions:[],inputProps:{class:"text fullwidth",initialValue:this.modelValue,style:"",id:this.id,name:this.id,maxlength:"",autofocus:!1,disabled:!1,title:"",placeholder:""},limit:5}},methods:{onInputChange(e){this.query=(e||"").toLowerCase(),this.updateFilteredOptions(),e||this.$emit("update:modelValue","")},updateFilteredOptions(){if(this.query===""){this.filteredOptions=this.suggestions;return}const e=[];let t,n,r,i;for(t=0;t<this.suggestions.length;t++){for(r=[],n=0;n<this.suggestions[t].data.length;n++)i=this.suggestions[t].data[n],((i.name||i).toLowerCase().indexOf(this.query)!==-1||i.hint&&i.hint.toLowerCase().indexOf(this.query)!==-1)&&r.push(i.name?i:{name:i});r.length&&(r.sort((o,s)=>{const l=this.scoreItem(o,this.query),u=this.scoreItem(s,this.query);return l===u?0:l<u?1:-1}),e.push({label:this.suggestions[t].label||null,data:r.slice(0,this.limit)}))}this.filteredOptions=e},scoreItem(e){let t=0;return e.name.toLowerCase().indexOf(this.query)!==-1&&(t+=100+this.query.length/e.name.length),e.hint&&e.hint.toLowerCase().indexOf(this.query)!==-1&&(t+=this.query.length/e.hint.length),t},onSelected(e){if(this.selected=e.item,this.$emit("update:modelValue",e.item.name),e.item.name[0]=="@"){const t=this.$el.querySelector("input");t.focus(),t.selectionStart=t.selectionEnd=t.value.length}},getSuggestionValue(e){return e.item.name||e.item},onBlur(e){e.relatedTarget&&(this.filteredOptions=[])}}},Rse={key:0,class:"light"};function zse(e,t,n,r,i,o){const s=lt("vue-autosuggest");return me(),Et(s,{modelValue:i.inputProps.initialValue,"onUpdate:modelValue":[t[0]||(t[0]=l=>i.inputProps.initialValue=l),o.onInputChange],suggestions:i.filteredOptions,"get-suggestion-value":o.getSuggestionValue,"input-props":i.inputProps,limit:i.limit,"component-attr-id-autosuggest":n.id,onSelected:o.onSelected,onFocus:o.updateFilteredOptions,onBlur:o.onBlur},{default:Bt(({suggestion:l})=>[$i(Ne(l.item.name||l.item)+" ",1),l.item.hint?(me(),Se("span",Rse," "+Ne(l.item.hint),1)):_t("",!0)]),_:1},8,["modelValue","suggestions","get-suggestion-value","input-props","limit","component-attr-id-autosuggest","onSelected","onFocus","onBlur","onUpdate:modelValue"])}const Bse=Dt(Dse,[["render",zse]]),$se={name:"HandleInput",props:{id:{type:String,default:""},sourceValue:{type:String,default:""},collection:{type:Array,default:()=>[]},modelValue:{type:String,default:""}},emits:["update:modelValue"],data(){return{savedValue:"",proxyValue:""}},watch:{sourceValue(e){this.savedValue===""&&this.generateHandle()},proxyValue(e){this.$emit("update:modelValue",e)}},created(){this.savedValue=this.modelValue,this.proxyValue=this.modelValue},methods:{generateHandle(e){let t=VQ(this.sourceValue);this.collection.length&&(t=gL(this.collection,t,0)),this.proxyValue=t}}};function Hse(e,t,n,r,i,o){return Wt((me(),Se("input",{id:"id","onUpdate:modelValue":t[0]||(t[0]=s=>i.proxyValue=s),type:"text",class:"text fullwidth code",autocomplete:"off",autocorrect:"off",autocapitalize:"off"},null,512)),[[An,i.proxyValue]])}const Fse=Dt($se,[["render",Hse]]),Vse=function(){return window.safari!==void 0},jse={name:"VizySettings",components:{VizyIconPicker:cse,LightswitchField:mL,FieldLayoutDesigner:kse,AutoSuggest:Bse,HandleInput:Fse,Drag:Foe,Drop:Woe},props:{fieldName:{type:String,required:!0},errors:{type:[Object,Array],default:()=>{}}},data(){return{selectedBlockType:null,isSafari:Vse(),emptySvg:'<svg height="100" viewBox="0 0 50 50" width="100"></svg>',fieldData:[],settings:{}}},computed:{handleCollection(){const e=[];return Array.isArray(this.fieldData)&&this.fieldData.forEach(t=>{t.blockTypes.forEach(n=>{n!==this.selectedBlockType&&e.push(n.handle)})}),e}},created(){this.fieldData=this.$root.fieldData,this.settings=this.$root.settings},mounted(){},methods:{updateSelectedBlockType(e,t=!1){this.selectedBlockType=null,this.$nextTick(()=>{this.selectedBlockType=e,this.$nextTick(()=>{this.$refs["name-field"].value||this.$refs["name-field"].focus()})})},selectBlockType(e){this.selectedBlockType===e?this.selectedBlockType=null:this.updateSelectedBlockType(e)},getErrors(e,t=""){let n=[];const r=`${e.id}:${t}`;return this.errors&&(n=Object.keys(this.errors).filter(i=>i.includes(r)).map(i=>this.errors[i][0])),n},hasErrors(e,t=""){return this.getErrors(e,t).length},addBlockType(e){e.blockTypes||(e.blockTypes=[]),e.blockTypes.push({id:Lm("type-"),enabled:!0}),this.updateSelectedBlockType(e.blockTypes[e.blockTypes.length-1],!0)},addGroup(){const e=prompt(Craft.t("vizy","Give your group a name."));e&&this.fieldData.push({id:Lm("group-"),name:e,blockTypes:[]})},deleteBlockType(){const e=Craft.t("vizy","Are you sure you want to delete {name}? This will permanently delete all content created with this block type.",{name:this.selectedBlockType.name});if(confirm(e))for(let t=0;this.fieldData.length;t++){const n=this.fieldData[t].blockTypes.indexOf(this.selectedBlockType);if(n!==-1){this.fieldData[t].blockTypes.splice(n,1),this.selectedBlockType=null;break}}},deleteGroup(e){const t=Craft.t("vizy","Are you sure you want to delete {name}? This will permanently delete all content created with any of these block types.",{name:e.name});if(confirm(t)){const n=this.fieldData.indexOf(e);n!==-1&&(this.fieldData.splice(n,1),this.selectedBlockType=null)}},moveGroupUp(e){const t=this.fieldData.indexOf(e),n=t-1,[r]=this.fieldData.splice(t,1);this.fieldData.splice(n,0,r)},moveGroupDown(e){const t=this.fieldData.indexOf(e),n=t+1,[r]=this.fieldData.splice(t,1);this.fieldData.splice(n,0,r)},dragEnter(e,t){t&&t.target.parentNode.classList.add("is-active")},dragLeave(e,t){t&&t.target.parentNode.classList.remove("is-active")},dragDrop(e,t){if(!t)return;t.target.parentNode.classList.remove("is-active");const n=parseInt(e.groupIndex),r=parseInt(e.blockTypeIndex),i=parseInt(t.target.getAttribute("data-group"));let o=parseInt(t.target.getAttribute("data-block"));if(n===i&&r===o||n===i&&r===o-1)return;n===i&&r<o&&(o=o-1);const[s]=this.fieldData[n].blockTypes.splice(r,1);this.fieldData[i].blockTypes||(this.fieldData[i].blockTypes=[]),this.fieldData[i].blockTypes.splice(o,0,s)}}},Wse={class:"vui-workspace"},Use=["name","value"],Kse={class:"vui-popover"},qse={class:"vui-popover-inner"},Gse={key:0},Jse={class:"vui-block-items-header"},Yse=["onBlur","innerHTML"],Xse={class:"vui-block-items-header-actions"},Zse=["onClick"],Qse=ie("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-up",class:"svg-inline--fa fa-arrow-up fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[ie("path",{fill:"currentColor",d:"M6.101 261.899L25.9 281.698c4.686 4.686 12.284 4.686 16.971 0L198 126.568V468c0 6.627 5.373 12 12 12h28c6.627 0 12-5.373 12-12V126.568l155.13 155.13c4.686 4.686 12.284 4.686 16.971 0l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L232.485 35.515c-4.686-4.686-12.284-4.686-16.971 0L6.101 244.929c-4.687 4.686-4.687 12.284 0 16.97z"})],-1),eae=[Qse],tae=["onClick"],nae=ie("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"arrow-down",class:"svg-inline--fa fa-arrow-down fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[ie("path",{fill:"currentColor",d:"M441.9 250.1l-19.8-19.8c-4.7-4.7-12.3-4.7-17 0L250 385.4V44c0-6.6-5.4-12-12-12h-28c-6.6 0-12 5.4-12 12v341.4L42.9 230.3c-4.7-4.7-12.3-4.7-17 0L6.1 250.1c-4.7 4.7-4.7 12.3 0 17l209.4 209.4c4.7 4.7 12.3 4.7 17 0l209.4-209.4c4.7-4.7 4.7-12.3 0-17z"})],-1),rae=[nae],iae=["onClick"],oae={class:"vui-block-items"},sae=["onClick"],aae={class:"dropzone-vertical-left"},lae=ie("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),uae=["innerHTML"],cae={class:"vui-block-item-heading"},fae={class:"vui-block-item",style:{width:"90px",height:"62px",background:"white"}},dae=["innerHTML"],hae={class:"vui-block-item-heading"},pae={key:0,class:"dropzone-vertical-right"},mae=ie("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),gae=["onClick"],vae={key:0},yae={class:"dropzone-vertical-left"},bae=ie("div",{class:"dashed-dropzone dashed-dropzone-vertical"},null,-1),_ae=ie("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-plus fa-w-12"},[ie("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),wae={class:"vui-block-item-heading"},kae={key:0},xae=ie("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",class:"svg-inline--fa fa-plus fa-w-12"},[ie("path",{fill:"currentColor",d:"M368 224H224V80c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v144H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h144v144c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V288h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"})],-1),Sae={class:"vui-block-item-heading"},Cae={key:0,class:"vui-block-editor"},Tae={class:"vui-block-titlebar"},Eae={class:"blocktype"},Aae={class:"vui-block-titlebar-actions"},Oae={key:0,class:"errors"},Mae={class:"field"},Lae={class:"heading"},Nae={id:"name-field-label",class:"required",for:"name"},Pae={id:"name-field-instructions",class:"instructions"},Iae={class:"input ltr"},Dae={key:0,class:"errors"},Rae={class:"field"},zae={class:"heading"},Bae={id:"handle-field-label",class:"required",for:"handle"},$ae={id:"handle-field-instructions",class:"instructions"},Hae={class:"input ltr"},Fae={key:0,class:"errors"},Vae={class:"field"},jae={class:"heading"},Wae={id:"icon-field-label",class:"required",for:"icon"},Uae={id:"icon-field-instructions",class:"instructions"},Kae={class:"input ltr"},qae={key:0,class:"errors"},Gae={class:"field"},Jae={class:"heading"},Yae={id:"layout-field-label",class:"required",for:"layout"},Xae={id:"layout-field-instructions",class:"instructions"},Zae={class:"input ltr"},Qae={class:"field"},ele={class:"heading"},tle={id:"template-field-label",for:"template"},nle={id:"template-field-instructions",class:"instructions"},rle={class:"input ltr"},ile={key:0,class:"errors"},ole={class:"field"},sle={class:"heading"},ale={id:"minBlocks-field-label",for:"minBlocks"},lle={id:"minBlocks-field-instructions",class:"instructions"},ule={class:"input ltr"},cle={key:0,class:"errors"},fle={class:"field"},dle={class:"heading"},hle={id:"maxBlocks-field-label",for:"maxBlocks"},ple={id:"maxBlocks-field-instructions",class:"instructions"},mle={class:"input ltr"},gle={key:0,class:"errors"},vle={key:1,class:"vui-block-editor-empty"},yle={key:0},ble={key:1},_le=ie("svg",{xmlns:"http://www.w3.org/2000/svg",width:"68px",height:"32.9px",viewBox:"0 0 68 32.9"},[ie("path",{fill:"currentColor",d:"M8.2,32.9c-0.3,0-0.6-0.2-0.7-0.5c-0.7-2.2-2.3-3.6-3.9-5.1c-1.3-1.2-2.6-2.5-3.6-4.1c-0.1-0.2-0.1-0.5,0-0.7s0.3-0.4,0.6-0.4c2.1-0.2,9.2-1,11.8-3.2c0.3-0.3,0.8-0.2,1.1,0.1c0.3,0.3,0.2,0.8-0.1,1.1c-2.5,2.1-8.1,3-11.4,3.4c0.8,1,1.7,1.9,2.6,2.8C6.4,27.8,8.1,29.4,9,32c0.1,0.4-0.1,0.8-0.5,0.9C8.4,32.9,8.3,32.9,8.2,32.9z M30,30.8c-8.1,0-16.5-1.8-24-5.4c-0.4-0.2-0.5-0.6-0.4-1s0.6-0.5,1-0.4c14.3,6.9,32.1,7,44.2,0.4c9-4.9,14.4-13.1,15.7-23.8C66.6,0.2,67,0,67.4,0c0.4,0.1,0.7,0.4,0.7,0.8C66.7,12,61,20.6,51.5,25.7C45.4,29.1,37.8,30.8,30,30.8z"})],-1);function wle(e,t,n,r,i,o){const s=lt("drop"),l=lt("drag"),u=lt("lightswitch-field"),f=lt("handle-input"),d=lt("vizy-icon-picker"),m=lt("field-layout-designer"),v=lt("auto-suggest");return me(),Se("div",Wse,[ie("div",null,[ie("textarea",{class:"hidden fullwidth",rows:"20",name:n.fieldName,value:JSON.stringify(i.fieldData)},null,8,Use)]),ie("div",Kse,[ie("div",qse,[(me(!0),Se(kt,null,Zt(i.fieldData,(y,_)=>(me(),Se("div",{key:_,class:"vui-block-group"},[_>0?(me(),Se("hr",Gse)):_t("",!0),ie("div",Jse,[ie("span",{class:"vui-block-items-header-text",contenteditable:"true",onBlur:T=>y.name=T.target.innerText,innerHTML:y.name},null,40,Yse),ie("div",Xse,[_>0?(me(),Se("button",{key:0,class:"vui-block-items-header-move",onClick:at(T=>o.moveGroupUp(y),["prevent"])},eae,8,Zse)):_t("",!0),_<i.fieldData.length-1?(me(),Se("button",{key:1,class:"vui-block-items-header-move",onClick:at(T=>o.moveGroupDown(y),["prevent"])},rae,8,tae)):_t("",!0),ie("button",{class:"vui-block-items-header-delete",onClick:at(T=>o.deleteGroup(y),["prevent"])},Ne(e.t("site","Delete")),9,iae)])]),ie("div",oae,[(me(!0),Se(kt,null,Zt(y.blockTypes,(T,C)=>(me(),Se("div",{key:C,class:mt(["vui-block-item",{active:i.selectedBlockType===T,"has-error":o.hasErrors(T)}]),onClick:at(w=>o.selectBlockType(T),["prevent"])},[ie("div",aae,[Qe(s,{"data-group":_,"data-block":C,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","data-block","onDrop","onDragenter","onDragleave"]),lae]),Qe(l,{"transfer-data":{groupIndex:_,blockTypeIndex:C}},b1({default:Bt(()=>[ie("div",{innerHTML:T.icon?T.icon.svg:i.emptySvg},null,8,uae),ie("span",cae,Ne(T.name),1),ie("span",{class:mt(["vui-block-item-status",{on:T.enabled}])},null,2)]),_:2},[i.isSafari?void 0:{name:"image",fn:Bt(()=>[ie("div",fae,[ie("div",{innerHTML:T.icon?T.icon.svg:i.emptySvg},null,8,dae),ie("span",hae,Ne(T.name),1),ie("span",{class:mt(["vui-block-item-status",{on:T.enabled}])},null,2)])]),key:"0"}]),1032,["transfer-data"]),C==y.blockTypes.length-1?(me(),Se("div",pae,[Qe(s,{"data-group":_,"data-block":C+1,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","data-block","onDrop","onDragenter","onDragleave"]),mae])):_t("",!0)],10,sae))),128)),ie("div",{class:"vui-block-item vui-block-new-item",onClick:at(T=>o.addBlockType(y),["prevent"])},[!y.blockTypes||!y.blockTypes.length?(me(),Se("div",vae,[ie("div",yae,[Qe(s,{"data-group":_,"data-block":0,class:"dropzone-vertical",onDrop:o.dragDrop,onDragenter:o.dragEnter,onDragleave:o.dragLeave},null,8,["data-group","onDrop","onDragenter","onDragleave"]),bae])])):_t("",!0),_ae,ie("span",wae,Ne(e.t("vizy","Add Block")),1)],8,gae)])]))),128)),i.fieldData.length?(me(),Se("hr",kae)):_t("",!0),ie("div",{class:"vui-block-item vui-block-new-item vui-block-new-group",onClick:t[0]||(t[0]=at((...y)=>o.addGroup&&o.addGroup(...y),["prevent"]))},[xae,ie("span",Sae,Ne(e.t("vizy","Add Group")),1)])])]),i.selectedBlockType?(me(),Se("div",Cae,[ie("div",Tae,[ie("div",Eae,Ne(i.selectedBlockType.name),1),ie("div",Aae,[ie("button",{class:"vui-block-titlebar-delete",onClick:t[1]||(t[1]=at((...y)=>o.deleteBlockType&&o.deleteBlockType(...y),["prevent"]))},Ne(e.t("vizy","Delete")),1),Qe(u,{modelValue:i.selectedBlockType.enabled,"onUpdate:modelValue":t[2]||(t[2]=y=>i.selectedBlockType.enabled=y),small:!0},null,8,["modelValue"])])]),o.getErrors(i.selectedBlockType,"general")?(me(),Se("ul",Oae,[(me(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"general"),(y,_)=>(me(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0),ie("div",Mae,[ie("div",Lae,[ie("label",Nae,Ne(e.t("vizy","Name")),1)]),ie("div",Pae,[ie("p",null,Ne(e.t("vizy","What this block type will be called in the control panel.")),1)]),ie("div",Iae,[Wt(ie("input",{id:"name",ref:"name-field","onUpdate:modelValue":t[3]||(t[3]=y=>i.selectedBlockType.name=y),type:"text",class:mt(["text fullwidth",{error:o.hasErrors(i.selectedBlockType,"name")}]),autocomplete:"off",autocorrect:"off",autocapitalize:"off"},null,2),[[An,i.selectedBlockType.name]])]),o.getErrors(i.selectedBlockType,"name")?(me(),Se("ul",Dae,[(me(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"name"),(y,_)=>(me(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)]),ie("div",Rae,[ie("div",zae,[ie("label",Bae,Ne(e.t("vizy","Handle")),1)]),ie("div",$ae,[ie("p",null,Ne(e.t("vizy","How youll refer to this block type in the templates.")),1)]),ie("div",Hae,[Qe(f,{id:"handle",ref:"handle-field",modelValue:i.selectedBlockType.handle,"onUpdate:modelValue":t[4]||(t[4]=y=>i.selectedBlockType.handle=y),"source-value":i.selectedBlockType.name,collection:o.handleCollection,class:mt({error:o.hasErrors(i.selectedBlockType,"handle")})},null,8,["modelValue","source-value","collection","class"])]),o.getErrors(i.selectedBlockType,"handle")?(me(),Se("ul",Fae,[(me(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"handle"),(y,_)=>(me(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)]),ie("div",Vae,[ie("div",jae,[ie("label",Wae,Ne(e.t("vizy","Icon")),1)]),ie("div",Uae,[ie("p",null,Ne(e.t("vizy","Select an appropriate icon for the block type. Start typing to search via keywords.")),1)]),ie("div",Kae,[Qe(d,{modelValue:i.selectedBlockType.icon,"onUpdate:modelValue":t[5]||(t[5]=y=>i.selectedBlockType.icon=y),"input-classes":{error:o.hasErrors(i.selectedBlockType,"icon")}},null,8,["modelValue","input-classes"])]),o.getErrors(i.selectedBlockType,"icon")?(me(),Se("ul",qae,[(me(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"icon"),(y,_)=>(me(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)]),ie("div",Gae,[ie("div",Jae,[ie("label",Yae,Ne(e.t("vizy","Layout")),1)]),ie("div",Xae,[ie("p",null,Ne(e.t("vizy","Define the field layout for this block type. Empty tabs are not allowed, and you must provide at least one element.")),1)]),ie("div",Zae,[Qe(m,{modelValue:i.selectedBlockType.layout,"onUpdate:modelValue":t[6]||(t[6]=y=>i.selectedBlockType.layout=y),"layout-uid":i.selectedBlockType.layoutUid,"field-id":i.settings.fieldId,"block-type-id":i.selectedBlockType.id},null,8,["modelValue","layout-uid","field-id","block-type-id"])])]),ie("div",Qae,[ie("div",ele,[ie("label",tle,Ne(e.t("vizy","Template")),1)]),ie("div",nle,[ie("p",null,Ne(e.t("vizy","Provide the path for a template partial for rendering this block type.")),1)]),ie("div",rle,[Qe(v,{id:"template",modelValue:i.selectedBlockType.template,"onUpdate:modelValue":t[7]||(t[7]=y=>i.selectedBlockType.template=y),suggestions:i.settings.suggestions},null,8,["modelValue","suggestions"])]),o.getErrors(i.selectedBlockType,"template")?(me(),Se("ul",ile,[(me(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"template"),(y,_)=>(me(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)]),ie("div",ole,[ie("div",sle,[ie("label",ale,Ne(e.t("vizy","Min Blocks")),1)]),ie("div",lle,[ie("p",null,Ne(e.t("vizy","The minimum number of blocks of this type the field is allowed to have.")),1)]),ie("div",ule,[Wt(ie("input",{id:"minBlocks",ref:"minBlocks-field","onUpdate:modelValue":t[8]||(t[8]=y=>i.selectedBlockType.minBlocks=y),type:"text",class:mt(["text",{error:o.hasErrors(i.selectedBlockType,"minBlocks")}]),autocomplete:"off",autocorrect:"off",autocapitalize:"off",size:"2"},null,2),[[An,i.selectedBlockType.minBlocks]])]),o.getErrors(i.selectedBlockType,"minBlocks")?(me(),Se("ul",cle,[(me(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"minBlocks"),(y,_)=>(me(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)]),ie("div",fle,[ie("div",dle,[ie("label",hle,Ne(e.t("vizy","Max Blocks")),1)]),ie("div",ple,[ie("p",null,Ne(e.t("vizy","The maximum number of blocks of this type the field is allowed to have.")),1)]),ie("div",mle,[Wt(ie("input",{id:"maxBlocks",ref:"maxBlocks-field","onUpdate:modelValue":t[9]||(t[9]=y=>i.selectedBlockType.maxBlocks=y),type:"text",class:mt(["text",{error:o.hasErrors(i.selectedBlockType,"maxBlocks")}]),autocomplete:"off",autocorrect:"off",autocapitalize:"off",size:"2"},null,2),[[An,i.selectedBlockType.maxBlocks]])]),o.getErrors(i.selectedBlockType,"maxBlocks")?(me(),Se("ul",gle,[(me(!0),Se(kt,null,Zt(o.getErrors(i.selectedBlockType,"maxBlocks"),(y,_)=>(me(),Se("li",{key:_},Ne(y),1))),128))])):_t("",!0)])])):(me(),Se("div",vle,[i.fieldData.length?(me(),Se("p",yle,Ne(e.t("vizy","Select a block to edit.")),1)):(me(),Se("p",ble,Ne(e.t("vizy","Add a new group to begin.")),1)),_le]))])}const kle=Dt(jse,[["render",wle]]);typeof Craft.Vizy>"u"&&(Craft.Vizy={});Craft.Vizy.Config=new eQ;document.dispatchEvent(new CustomEvent("onVizyConfigReady",{bubbles:!0}));Craft.Vizy.Input=Garnish.Base.extend({init(e){const t=`#${e}-field .input`,n=W3({components:{VizyInput:GE}});n.component("VizyInput",GE),!document.querySelector(t).__vueInit&&n.mount(t)}});Craft.Vizy.Settings=Garnish.Base.extend({init(e,t,n){this.inputNamePrefix=e,this.inputIdPrefix=Craft.formatInputId(this.inputNamePrefix),W3({components:{VizySettings:kle},data(){return{fieldData:t,settings:n}}}).mount(`.${this.inputIdPrefix}-vizy-configurator`)}});$(document).ready(()=>{Craft.VizyReady=!0,document.dispatchEvent(new CustomEvent("vizy-loaded"))})});export default xle();
//# sourceMappingURL=vizy-34ca6e91.js.map
